(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./node_modules/flat-geo-css/dist/flat-geo-css.js":function(t,e,r){window,t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){var n,o;void 0===(o="function"==typeof(n=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,r="boolean"==typeof(new RegExp).sticky;function n(t){return t&&"[object RegExp]"===e.call(t)}function o(t){return t&&"object"==typeof t&&!n(t)&&!Array.isArray(t)}function i(t){return"("+t+")"}function s(t){return t.length?"(?:"+t.map((function(t){return"(?:"+t+")"})).join("|")+")":"(?!)"}function a(t){if("string"==typeof t)return"(?:"+t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(n(t)){if(t.ignoreCase)throw new Error("RegExp /i flag not allowed");if(t.global)throw new Error("RegExp /g flag is implied");if(t.sticky)throw new Error("RegExp /y flag is implied");if(t.multiline)throw new Error("RegExp /m flag is implied");return t.source}throw new Error("Not a pattern: "+t)}function l(e,r){if(o(r)||(r={match:r}),r.include)throw new Error("Matching rules cannot also include states");var i={defaultType:e,lineBreaks:!!r.error||!!r.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var s in r)t.call(r,s)&&(i[s]=r[s]);if("string"==typeof i.type&&e!==i.type)throw new Error("Type transform cannot be a string (type '"+i.type+"' for token '"+e+"')");var a=i.match;return i.match=Array.isArray(a)?a:a?[a]:[],i.match.sort((function(t,e){return n(t)&&n(e)?0:n(e)?-1:n(t)?1:e.length-t.length})),i}function u(t){return Array.isArray(t)?function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n.include)for(var o=[].concat(n.include),i=0;i<o.length;i++)e.push({include:o[i]});else{if(!n.type)throw new Error("Rule has no type: "+JSON.stringify(n));e.push(l(n.type,n))}}return e}(t):function(t){for(var e=Object.getOwnPropertyNames(t),r=[],n=0;n<e.length;n++){var i=e[n],s=t[i],a=[].concat(s);if("include"!==i){var u=[];a.forEach((function(t){o(t)?(u.length&&r.push(l(i,u)),r.push(l(i,t)),u=[]):u.push(t)})),u.length&&r.push(l(i,u))}else for(var c=0;c<a.length;c++)r.push({include:a[c]})}return r}(t)}var c=l("error",{lineBreaks:!0,shouldThrow:!0});function p(t,e){for(var o=null,l=Object.create(null),u=!0,p=null,h=[],d=[],f=0;f<t.length;f++)t[f].fallback&&(u=!1);for(f=0;f<t.length;f++){var m=t[f];if(m.include)throw new Error("Inheritance is not allowed in stateless lexers");if(m.error||m.fallback){if(o)throw!m.fallback==!o.fallback?new Error("Multiple "+(m.fallback?"fallback":"error")+" rules not allowed (for token '"+m.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+m.defaultType+"')");o=m}var y=m.match.slice();if(u)for(;y.length&&"string"==typeof y[0]&&1===y[0].length;)l[y.shift().charCodeAt(0)]=m;if(m.pop||m.push||m.next){if(!e)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+m.defaultType+"')");if(m.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+m.defaultType+"')")}if(0!==y.length){u=!1,h.push(m);for(var g=0;g<y.length;g++){var b=y[g];if(n(b))if(null===p)p=b.unicode;else if(p!==b.unicode&&!1===m.fallback)throw new Error("If one rule is /u then all must be")}var v=s(y.map(a)),w=new RegExp(v);if(w.test(""))throw new Error("RegExp matches empty string: "+w);if(new RegExp("|"+v).exec("").length-1>0)throw new Error("RegExp has capture groups: "+w+"\nUse (?: â€¦ ) instead");if(!m.lineBreaks&&w.test("\n"))throw new Error("Rule should declare lineBreaks: "+w);d.push(i(v))}}var S=o&&o.fallback,x=r&&!S?"ym":"gm",E=r||S?"":"|";return!0===p&&(x+="u"),{regexp:new RegExp(s(d)+E,x),groups:h,fast:l,error:o||c}}function h(t,e,r){var n=t&&(t.push||t.next);if(n&&!r[n])throw new Error("Missing state '"+n+"' (in token '"+t.defaultType+"' of state '"+e+"')");if(t&&t.pop&&1!=+t.pop)throw new Error("pop must be 1 (in token '"+t.defaultType+"' of state '"+e+"')")}var d=function(t,e){this.startState=e,this.states=t,this.buffer="",this.stack=[],this.reset()};d.prototype.reset=function(t,e){return this.buffer=t||"",this.index=0,this.line=e?e.line:1,this.col=e?e.col:1,this.queuedToken=e?e.queuedToken:null,this.queuedThrow=e?e.queuedThrow:null,this.setState(e?e.state:this.startState),this.stack=e&&e.stack?e.stack.slice():[],this},d.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},d.prototype.setState=function(t){if(t&&this.state!==t){this.state=t;var e=this.states[t];this.groups=e.groups,this.error=e.error,this.re=e.regexp,this.fast=e.fast}},d.prototype.popState=function(){this.setState(this.stack.pop())},d.prototype.pushState=function(t){this.stack.push(this.state),this.setState(t)};var f=r?function(t,e){return t.exec(e)}:function(t,e){var r=t.exec(e);return 0===r[0].length?null:r};function m(){return this.value}if(d.prototype._getGroup=function(t){for(var e=this.groups.length,r=0;r<e;r++)if(void 0!==t[r+1])return this.groups[r];throw new Error("Cannot find token type for matched text")},d.prototype.next=function(){var t=this.index;if(this.queuedGroup){var e=this._token(this.queuedGroup,this.queuedText,t);return this.queuedGroup=null,this.queuedText="",e}var r=this.buffer;if(t!==r.length){if(s=this.fast[r.charCodeAt(t)])return this._token(s,r.charAt(t),t);var n=this.re;n.lastIndex=t;var o=f(n,r),i=this.error;if(null==o)return this._token(i,r.slice(t,r.length),t);var s=this._getGroup(o),a=o[0];return i.fallback&&o.index!==t?(this.queuedGroup=s,this.queuedText=a,this._token(i,r.slice(t,o.index),t)):this._token(s,a,t)}},d.prototype._token=function(t,e,r){var n=0;if(t.lineBreaks){var o=/\n/g,i=1;if("\n"===e)n=1;else for(;o.exec(e);)n++,i=o.lastIndex}var s={type:"function"==typeof t.type&&t.type(e)||t.defaultType,value:"function"==typeof t.value?t.value(e):e,text:e,toString:m,offset:r,lineBreaks:n,line:this.line,col:this.col},a=e.length;if(this.index+=a,this.line+=n,0!==n?this.col=a-i+1:this.col+=a,t.shouldThrow)throw new Error(this.formatError(s,"invalid syntax"));return t.pop?this.popState():t.push?this.pushState(t.push):t.next&&this.setState(t.next),s},"undefined"!=typeof Symbol&&Symbol.iterator){var y=function(t){this.lexer=t};y.prototype.next=function(){var t=this.lexer.next();return{value:t,done:!t}},y.prototype[Symbol.iterator]=function(){return this},d.prototype[Symbol.iterator]=function(){return new y(this)}}return d.prototype.formatError=function(t,e){if(null==t){var r=this.buffer.slice(this.index);t={text:r,offset:this.index,lineBreaks:-1===r.indexOf("\n")?0:1,line:this.line,col:this.col}}var n=Math.max(0,t.offset-t.col+1),o=t.lineBreaks?t.text.indexOf("\n"):t.text.length,i=this.buffer.substring(n,t.offset+o);return e+=" at line "+t.line+" col "+t.col+":\n\n",(e+="  "+i+"\n")+"  "+Array(t.col).join(" ")+"^"},d.prototype.clone=function(){return new d(this.states,this.state)},d.prototype.has=function(t){return!0},{compile:function(t){var e=p(u(t));return new d({start:e},"start")},states:function(t,e){var r=t.$all?u(t.$all):[];delete t.$all;var n=Object.getOwnPropertyNames(t);e||(e=n[0]);for(var o=Object.create(null),i=0;i<n.length;i++){var s=n[i];o[s]=u(t[s]).concat(r)}for(i=0;i<n.length;i++)for(var a=o[s=n[i]],l=Object.create(null),c=0;c<a.length;c++){var f=a[c];if(f.include){var m=[c,1];if(f.include!==s&&!l[f.include]){l[f.include]=!0;var y=o[f.include];if(!y)throw new Error("Cannot include nonexistent state '"+f.include+"' (in state '"+s+"')");for(var g=0;g<y.length;g++){var b=y[g];-1===a.indexOf(b)&&m.push(b)}}a.splice.apply(a,m),c--}}var v=Object.create(null);for(i=0;i<n.length;i++)v[s=n[i]]=p(o[s],!0);for(i=0;i<n.length;i++){var w=n[i],S=v[w],x=S.groups;for(c=0;c<x.length;c++)h(x[c],w,v);var E=Object.getOwnPropertyNames(S.fast);for(c=0;c<E.length;c++)h(S.fast[E[c]],w,v)}return new d(v,e)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(t){for(var e=Object.create(null),r=Object.create(null),n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],s=t[i];(Array.isArray(s)?s:[s]).forEach((function(t){if((r[t.length]=r[t.length]||[]).push(t),"string"!=typeof t)throw new Error("keyword must be string (in keyword '"+i+"')");e[t]=i}))}function a(t){return JSON.stringify(t)}var l="";for(var u in l+="switch (value.length) {\n",r){var c=r[u];l+="case "+u+":\n",l+="switch (value) {\n",c.forEach((function(t){var r=e[t];l+="case "+a(t)+": return "+a(r)+"\n"})),l+="}\n"}return l+="}\n",Function("value",l)}}})?n.apply(e,[]):n)||(t.exports=o)},function(t,e,r){t.exports=r(2)},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n);function i(t){return m(t)||c(t)||d(t)||h()}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){return function(t){if(Array.isArray(t))return f(t)}(t)||c(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(t,e){return m(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}}(t,e)||d(t,e)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m(t){if(Array.isArray(t))return t}var y="(?:\r|\t|\f|\n| ){1,}",g="}".concat("(?:\r|\t|\f|\n| ){0,}",";"),b="".concat("[0-9]","{1,}"),v="".concat("[0-9]","{1,}(?:\\.").concat("[0-9]","{0,}|)(?:k|M|G|)"),w="\\[".concat("(?:\r|\t|\f|\n| ){0,}","(?:@scale|@sd)").concat("(?:\r|\t|\f|\n| ){0,}","(?:>=|>)").concat("(?:\r|\t|\f|\n| ){0,}").concat(v).concat("(?:\r|\t|\f|\n| ){0,}","\\]"),S="\\[".concat("(?:\r|\t|\f|\n| ){0,}","(?:@scale|@sd)").concat("(?:\r|\t|\f|\n| ){0,}","(?:<=|<)").concat("(?:\r|\t|\f|\n| ){0,}").concat(v).concat("(?:\r|\t|\f|\n| ){0,}","\\]"),x="(?:-|)[_a-zA-Z]".concat("[\\-\\_a-zA-Z0-9]","{0,}"),E="#".concat(x,"(?:\\:").concat(x,"|)(?:\\.[^\\\"|\\'|\\[|\\]|\\r|\\t|\\f|\\n| ]{1,}|)"),O="mark|stroke|fill|symbol|shield|background",_=":(?:".concat(O,")"),j=":nth\\-(?:".concat(O,")\\(").concat(b,"\\)"),F="".concat(x,"(?:\\:").concat(x,"|)"),C=F,k="\\[(?:".concat("\\'[^\\\"|\\'|\\[|\\]]{0,}\\'","|").concat('\\"[^\\"|\\\'|\\[|\\]]{0,}\\"',"|[^\\\"|\\'|\\[|\\]]{0,}){1,}\\]"),D="(?:".concat("\\/\\*[^\\*\\/]*?\\*\\/","|").concat(y,"){0,}"),P="(?:\\*|"+w+"|"+S+"|"+E+"|"+_+"|"+j+"|"+C+"|"+k+")",T="".concat(P,"(?:").concat("(?:\r|\t|\f|\n| ){0,}").concat(P,"|").concat("(?:\r|\t|\f|\n| ){0,}").concat("\\,").concat("(?:\r|\t|\f|\n| ){0,}").concat(P,"){0,}"),N="[a-zA-Z0-9-\\._\\]\\:\\/\\?\\#\\[\\]\\@\\|\\$\\&'\\*\\+\\,\\;\\=]{1,}",I="(?:"+"\\'".concat(N,"\\'")+"|"+N+")",M="url".concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}").concat(I).concat("(?:\r|\t|\f|\n| ){0,}","\\)"),L="symbol".concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}").concat(I).concat("(?:\r|\t|\f|\n| ){0,}","\\)"),z="[a-fA-F0-9]",R="#(?:".concat(z).concat(z).concat(z).concat(z).concat(z).concat(z,"|").concat(z).concat(z).concat(z,")"),A="".concat("[0-9]","{1,}(?:\\.").concat("[0-9]","{0,}|)(?:k|M|G|px|m|ft|%|deg|)"),G="\\[".concat("(?:\r|\t|\f|\n| ){0,}","[^\\[;]*?").concat("(?:\r|\t|\f|\n| ){0,}","\\]"),X="@".concat(x),B="(?:none|"+R+"|"+A+"|\\'.*?\\'|"+X+")",V="(?:none|"+"".concat(F).concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}").concat(B,"(?:").concat("(?:\r|\t|\f|\n| ){0,}",",").concat("(?:\r|\t|\f|\n| ){0,}").concat(B).concat("(?:\r|\t|\f|\n| ){0,}","){0,}").concat("(?:\r|\t|\f|\n| ){0,}","\\)")+"|"+R+"|"+A+"|\\'.*?\\'|"+X+")",$="".concat(F).concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}").concat(V,"(?:").concat("(?:\r|\t|\f|\n| ){0,}",",").concat("(?:\r|\t|\f|\n| ){0,}").concat(V).concat("(?:\r|\t|\f|\n| ){0,}","){0,}").concat("(?:\r|\t|\f|\n| ){0,}","\\)"),W="(?:".concat(G,"|").concat("\\'[^;\\'\\[\\]]*?\\'","){1,}"),U="(?:none|"+M+"|"+L+"|"+$+"|"+R+"|"+A+"|"+x+"|"+X+"|"+W+"|"+G+")",q="".concat(U,"(?:").concat(y).concat(U,"){1,}"),K="(?:"+U+"|"+q+")",Y=""+D+x+"(?:\r|\t|\f|\n| ){0,}:(?:\r|\t|\f|\n| ){0,}"+K+"(?:\r|\t|\f|\n| ){0,}(?:,(?:\r|\t|\f|\n| ){0,}"+K+"){0,};",H="@(?:mode|styleTitle|styleAbstract)".concat(y).concat("\\'[^\\\"|\\'|\\[|\\]]{0,}\\'",";"),Z="".concat(y,"(?:in|IN|not in|NOT IN|is|IS|like|ilike|LIKE|ILIKE|\\=|\\>|\\>\\=|\\<|\\<\\=|\\<\\>)").concat(y);function J(t){if(t.match(/'/g))return t.replace(new RegExp("\\'([^\\\"|\\'|\\[|\\]]{0,})\\'","g"),"$1");var e=parseFloat(t);if(!isNaN(e))return e;var r=t.trim();return"true"===r||"false"===r?["bool",r]:r}var Q=o.a.compile({directive:{match:new RegExp(H),value:function(t){return{key:t.match(/@(:?mode|styleTitle|styleAbstract)/)[0],value:t.match(/'.*?'/)[0].replace(/'(.*?)'/g,"$1")}}},whitespace:{match:new RegExp(y),lineBreaks:!0,value:function(t){return{value:t}}},property:{match:new RegExp(Y),value:function(t){var e=t.match(new RegExp(D))[0].trim(),r=t.match(new RegExp(x+"(?:\r|\t|\f|\n| ){0,}:"))[0].replace(/:/,"").trim(),n=t.replace(new RegExp(D),"").replace(new RegExp(x+"(?:\r|\t|\f|\n| ){0,}:"),"").match(new RegExp("".concat(U,"(?:").concat(y).concat(U,"){0,}"),"g")).map((function(t){return function t(e,r){if(e.match(new RegExp(q))){var n=e.match(new RegExp(U,"g"));return["array"].concat(u(n.map((function(e){return t(e)}))))}if(e.match(new RegExp(M)))return["url",e.replace(new RegExp("url".concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}","(").concat(I,")").concat("(?:\r|\t|\f|\n| ){0,}","\\)"),"g"),"$1").replace(/'(.*?)'/g,"$1")];if(e.match(new RegExp(L)))return["symbol",e.replace(new RegExp("symbol".concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}","(").concat(I,")").concat("(?:\r|\t|\f|\n| ){0,}","\\)"),"g"),"$1").replace(/'(.*?)'/g,"$1")];if(e.match(new RegExp(G))&&"label"!==r){var o,i=e.replace(new RegExp("\\[".concat("(?:\r|\t|\f|\n| ){0,}","([^\\[;]*?)").concat("(?:\r|\t|\f|\n| ){0,}","\\]"),"g"),"$1"),s=null===(o=i.match(new RegExp("".concat(K,"(?:").concat(y,"(\\*|\\/|\\+|\\-)").concat(y).concat(K,"){0,}"))))||void 0===o?void 0:o[1],a=i.match(new RegExp(K,"g"));return s?["brace",[s,t(null==a?void 0:a[0]),t(null==a?void 0:a[1])]]:["brace",t(a[0])]}if(e.match(new RegExp($))){var l,c=null===(l=e.match(F))||void 0===l?void 0:l[0],p=e.replace(c,"").match(new RegExp(V,"g"));return[c].concat(u(p.map((function(e){return t(e)}))))}if(e.match(new RegExp(W))){var h=e.match(new RegExp("".concat(G,"|").concat("\\'[^;\\'\\[\\]]*?\\'"),"g")).map((function(e){return e.match(new RegExp("\\'[^;\\'\\[\\]]*?\\'"))&&!e.match(new RegExp(G))?e.replace(/'([^;'[\]]*?)'/,"$1"):t(e)}));return 1===h.length?h[0]:["text"].concat(u(h))}if(e.match(new RegExp(R)))return["hex",e];if(e.match(new RegExp(A))){var d,f=parseFloat(e.replace(/k|M|G|px|m|ft|%|deg/g,"")),m=null===(d=e.match(/(?:k|M|G|px|m|ft|%|deg)/g))||void 0===d?void 0:d[0];return m?["measure",f,m]:f}return e.match(new RegExp(x))?["get",e]:e}(t,r)}));return{comment:e,key:r,value:n}}},openBrace:{match:new RegExp("{"),value:function(t){return{value:t}}},closeBraceSemicolon:{match:new RegExp(g),value:function(t){return{value:t}}},closeBrace:{match:new RegExp("}"),value:function(t){return{value:t}}},selector:{match:new RegExp(D+T),value:function(t){var e,r,n,o,i,s,a=t.match(new RegExp(D))[0].trim(),l=null==a||null===(e=a.match(new RegExp("@title".concat("(?:\r|\t|\f|\n| ){0,}","(\\:){0,1}").concat("(?:\r|\t|\f|\n| ){0,}",".*?\\*\\/"))))||void 0===e||null===(r=e[0])||void 0===r||null===(n=r.replace(new RegExp("@title".concat("(?:\r|\t|\f|\n| ){0,}","(\\:){0,1}|\\*\\/"),"g"),""))||void 0===n?void 0:n.trim(),c=null==a||null===(o=a.match(new RegExp("@source".concat("(?:\r|\t|\f|\n| ){0,}","(\\:){0,1}").concat("(?:\r|\t|\f|\n| ){0,}",".*?\\*\\/"))))||void 0===o||null===(i=o[0])||void 0===i||null===(s=i.replace(new RegExp("@source".concat("(?:\r|\t|\f|\n| ){0,}","(\\:){0,1}|\\*\\/"),"g"),""))||void 0===s?void 0:s.trim(),h=t.replace(new RegExp(D),"").split(new RegExp("\\]".concat("(?:\r|\t|\f|\n| ){0,}",",").concat("(?:\r|\t|\f|\n| ){0,}","\\["),"g")),d=h.map((function(t,e){return 0===e?t+"]":e===h.length-1?"["+t:"["+t+"]"})).map((function(t){return t.match(new RegExp(P,"g")).map((function(t){return function(t){if(t.match(new RegExp("\\*"))&&!t.match(new RegExp(k)))return{value:t,type:"allSelector"};if(t.match(new RegExp(w))){var e,r,n=null===(e=t.match(/>=|>/g))||void 0===e?void 0:e[0],o=p(t.replace(/\[|\]/g,"").split(new RegExp("".concat("(?:\r|\t|\f|\n| ){0,}","(?:>=|>)").concat("(?:\r|\t|\f|\n| ){0,}"))),2),i=o[0],s=o[1],a=parseFloat(s.replace(/k|M|G/g,"")),l=null===(r=s.match(/(?:k|M|G)/g))||void 0===r?void 0:r[0];return{value:t,type:"minScaleSelector",expression:[n,["get",i],l?["measure",a,l]:a]}}if(t.match(new RegExp(S))){var c,h,d=null===(c=t.match(/<=|</g))||void 0===c?void 0:c[0],f=p(t.replace(/\[|\]/g,"").split(new RegExp("".concat("(?:\r|\t|\f|\n| ){0,}","(?:<=|<)").concat("(?:\r|\t|\f|\n| ){0,}"))),2),m=f[0],g=f[1],b=parseFloat(g.replace(/k|M|G/g,"")),v=null===(h=g.match(/(?:k|M|G)/g))||void 0===h?void 0:h[0];return{value:t,type:"maxScaleSelector",expression:[d,["get",m],v?["measure",b,v]:b]}}if(t.match(new RegExp(E)))return{value:t,type:"idSelector"};if(t.match(new RegExp(_)))return{value:t,type:"pseudoClassSelector"};if(t.match(new RegExp(j)))return{value:t,type:"numberedPseudoClassSelector"};if(t.match(new RegExp(k))){var x={"=":"==",">":">",">=":">=","<":"<","<=":"<=","<>":"!=",like:"like",ilike:"ilike",LIKE:"like",ILIKE:"ilike"},O="".concat(y,"(?:or|OR)").concat(y),F="".concat(y,"(?:and|AND)").concat(y),D=t.match(new RegExp(O,"g"))&&"any",P=t.match(new RegExp(F,"g"))&&"all";if(D&&P)throw new Error("or and operators");var T=D?O:F,N=t.replace(/\[|\]/g,"").split(new RegExp(T,"g")).map((function(e){var r,n,o,i=new RegExp(Z),s=null===(r=e.match(i))||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.trim)||void 0===o?void 0:o.call(n),a=e.split(new RegExp(Z));if(x[s])return[x[s],["get",a[0]],J(a[1])];if(!("is"!==s&&"IS"!==s||"null"!==a[1]&&"NULL"!==a[1]))return["isnull",["get",a[0]]];if("in"===s||"not in"===s||"IN"===s||"NOT IN"===s){var l=a[1].replace(/\(|\)/g,"").split(",").map((function(t){return J(t.trim())})),u=["in",["get",a[0]],["literal",l]];return"not in"===s||"NOT IN"===s?["!",u]:u}throw new Error("\n                operator not supported in selector: ".concat(t,"\n                supported operators: ").concat(Object.keys(x).join(" ")))}));return{value:t,expression:N.length>1?[D||P].concat(u(N)):N[0],type:"eCQLSelector"}}return t.match(new RegExp(C))?{value:t,type:"typeNameSelector"}:{value:t,type:"basicSelector"}}(t)}))}));return{source:c,title:l,comment:a,value:d}}}});function tt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}}function et(t){return Q.reset(t),Array.from(Q)}function rt(t){return t.map((function(t){var e=t.type,r=t.value,n=t.line,o=t.col,i=t.text;return a(a({},r),{},{type:e,line:n,col:o,text:i})}))}var nt=["typeNameSelector"];function ot(t){var e=["pseudoClassSelector","numberedPseudoClassSelector","allSelector","typeNameSelector"];return t.filter((function(t){return"selector"===t.type})).forEach((function(t){var r=t.value,n=t.line,o=t.col,i=t.text,s=t.level,a=r.map((function(t){return t.map((function(t){return t.type}))})).reduce((function(t,e){return[].concat(u(t),u(e))}));if(a.length>1&&a.find((function(t){return-1!==e.indexOf(t)})))throw{line:n,col:o,text:i};if(1===a.length&&-1!==nt.indexOf(a[0])&&1!==s)throw{line:n,col:o,text:i}})),t}function it(t){var e=0,r=0,n=0,o=0;return t.filter((function(t){var e=t.type;return"whitespace"!==e&&"directive"!==e})).map((function(t){r=e;var i=(t||{}).type;"openBrace"===i&&(e++,o++),"closeBrace"!==i&&"closeBraceSemicolon"!==i||e--;var s="selector"===i||"closeBrace"===i||"closeBraceSemicolon"===i?e+1:e,l=n;return 1===r&&1===s&&"closeBrace"===i&&(n++,o=0,l=n-1),a(a(a({},t),"selector"===i&&{rule:o}),{},{level:s,group:l})}))}function st(t){var e=t.reduce((function(t,e){var r="".concat(e.group,":").concat(e.level);return a(a({},t),{},l({},r,t[r]?[].concat(u(t[r]),[e]):[e]))}),{});return Object.keys(e).map((function(t){return e[t].reduce((function(t,e){if(t.length>0){var r=t.filter((function(e,r){return r<t.length-1})),n=[].concat(u(t[t.length-1]),[e]);return[].concat(u(r),[n],u("closeBrace"===e.type||"closeBraceSemicolon"===e.type?[[]]:[]))}return[[e]]}),[])}))}function at(t){return t.reduce((function(t,e){return[].concat(u(t),u(e.filter((function(t){return t.length>0})).map((function(t){return t.map((function(e){return a(a({},e),{},{rule:t[0].rule})}))}))))}),[])}function lt(t){return u(t).sort((function(t,e){return t[0].group===e[0].group?t[0].rule>e[0].rule?1:-1:t[0].group>e[0].group?1:-1}))}function ut(t){return t.map((function(t){var e=t.find((function(t){return"selector"===t.type}))||{},r=e.title,n=e.value,o=e.level,i=e.group,s=e.rule,u=t.filter((function(t){return"property"===t.type})).reduce((function(t,e){return a(a({},t),{},l({},e.key,e.value))}),{});return a(a({},r&&{title:r}),{},{selector:n,properties:u,level:o,group:i,rule:s})}))}function ct(t){return t.map((function(e,r){var n=e.level,o=e.group;if(1===n)return e;var i=[].concat(u(t.filter((function(t,e){return e<r&&t.group===o&&t.level<n}))),[e]);return 1===i.length?e:a(a({},e),{},{activeRules:i})}))}function pt(t){return t&&1===t.length&&1===t[0].length&&t[0][0]||{}}function ht(t){var e=t.reduce((function(t,e){var r=e.level,n=e.group,o=e.rule,i=e.activeRules,s=e.selector,u=e.properties;if(!i)return t;if("pseudoClassSelector"===pt(s).type||"numberedPseudoClassSelector"===pt(s).type){var c,p=i[i.length-2],h=p.level,d=p.group,f=p.rule;return a(a({},t),{},(l(c={},"".concat(r,":").concat(n,":").concat(o),"remove"),l(c,"".concat(h,":").concat(d,":").concat(f),a(a({},t["".concat(h,":").concat(d,":").concat(f)]),{},l({},s[0][0].value,u))),c))}return t}),{});return t.filter((function(t){var r=t.level,n=t.group,o=t.rule;return"remove"!==e["".concat(r,":").concat(n,":").concat(o)]})).map((function(t){var r=t.level,n=t.group,o=t.properties,i=t.rule;return e["".concat(r,":").concat(n,":").concat(i)]?a(a({},t),{},{properties:a(a({},o),e["".concat(r,":").concat(n,":").concat(i)])}):t}))}function dt(t){return t.map((function(t){var e=t.activeRules;if(!e)return t;var r=(e.find((function(t){return"typeNameSelector"===pt(t.selector).type}))||{}).selector,n=pt(r).value;return a(a({},t),{},{layer:n,activeRules:e.filter((function(t){return"typeNameSelector"!==pt(t.selector).type}))})}))}function ft(t){return t.map((function(t){var e=t.activeRules,r=t.layer;if(!e){var n=t.selector,o=t.properties,i=t.title;return a(a(a({},i&&{title:i}),r&&{layer:r}),{},{selector:n,properties:o})}var s=e.map((function(t){return t.selector})).reduce((function(t,e){var r=[];return t.forEach((function(t){e.forEach((function(e){r.push([].concat(u(t),u(e)))}))})),r})),l=e.map((function(t){return t.properties})).reduce((function(t,e){return a(a({},t),e)})),c=e.map((function(t){return t.title})).reduce((function(t,e){return[].concat(u(t),u(e&&[e]||[]))}),[]).join(", ");return a(a(a({},c&&{title:c}),r&&{layer:r}),{},{selector:s,properties:l})}))}function mt(t){return t.reduce((function(t,e){var r=function(t){return t.reduce((function(t,e,r){var n,o,i=e.filter((function(t){return"minScaleSelector"===t.type})),s=e.filter((function(t){return"maxScaleSelector"===t.type})),c=[i[i.length-1],s[s.length-1]],p="".concat((null==c||null===(n=c[0])||void 0===n?void 0:n.value)||"").concat((null==c||null===(o=c[1])||void 0===o?void 0:o.value)||"")||"noScale";return t[p]?a(a({},t),{},l({},p,{selectorIndex:[].concat(u(t[p].selectorIndex),[r]),scales:c})):a(a({},t),{},l({},p,{selectorIndex:[r],scales:c}))}),{})}(e.selector),n=e.selector.map((function(t){return t.filter((function(t){var e=t.type;return!("minScaleSelector"===e||"maxScaleSelector"===e)}))})),o=n.map((function(t){return t.map((function(t){return t.type}))})).reduce((function(t,e){return[].concat(u(t),u(e))}));return[].concat(u(t),u(Object.keys(r).map((function(t){var i,s,l=r[t],c=l.selectorIndex,p=void 0===c?[]:c,h=l.scales,d=null===(i=h[0])||void 0===i?void 0:i.expression,f=null===(s=h[1])||void 0===s?void 0:s.expression,m=1===o.length&&"allSelector"===o[0];return a(a(a({},e),{},{selector:m?"*":["any"].concat(u(n.filter((function(t,e){return-1!==p.indexOf(e)})).map((function(t){return["all"].concat(u(t.map((function(t){return null==t?void 0:t.expression}))))}))))},d&&{"min-scale":d}),f&&{"max-scale":f})}))))}),[])}function yt(t){return t.filter((function(t){var e=t.properties;return Object.keys(e).length>0}))}function gt(t,e){return Object.keys(t).reduce((function(r,n){return a(a({},r),{},l({},n,void 0===t[n][e]?t[n][0]:t[n][e]))}),{})}function bt(t){var e=0;return t.reduce((function(t,r){e++;var n=Object.keys(null==r?void 0:r.properties),o=Math.max.apply(null,n.filter((function(t){return!t.match(new RegExp("(?:".concat(_,"|").concat(j,")")))})).map((function(t){var e,n;return null==r||null===(e=r.properties)||void 0===e||null===(n=e[t])||void 0===n?void 0:n.length})).filter((function(t){return t}))),i=Object.keys(u(new Array(o))).map((function(t){return n.reduce((function(e,n){var o,i;if(n.match(new RegExp(_)))return a(a({},e),{},l({},n,gt(null==r||null===(i=r.properties)||void 0===i?void 0:i[n],t)));if(n.match(new RegExp(j))){var s,u=n.match(new RegExp(":nth\\-((?:".concat(O,"))\\((").concat(b,")\\)"))),c=null==u?void 0:u[1],p=null==u?void 0:u[2];return a(a({},e),void 0!==p&&parseFloat(p)-1+""===t&&l({},":".concat(c),gt(null==r||null===(s=r.properties)||void 0===s?void 0:s[n],t)))}var h=null!==(o=null==r?void 0:r.properties[n][t])&&void 0!==o?o:null==r?void 0:r.properties[n][0];return a(a({},e),null!=h&&l({},n,h))}),{})}));return[].concat(u(t),u(i.map((function(t){return a(a({},r),{},{properties:t,group:e})}))))}),[])}function vt(t,e){if(void 0!==t){if("string"==typeof t||t instanceof String)return"'".concat(t,"'");if(!isNaN(t))return t;var r=i(t),n=r[0],o=r.slice(1);switch(n){case"+":case"-":case"*":case"/":return"".concat(vt(o[0])," ").concat(n," ").concat(vt(o[1]));case"any":return o.map((function(t){return vt(t)})).join(" or ");case"all":return o.map((function(t){return vt(t)})).join(" and ");case"isnull":return vt(o[0])+" is null";case">":case"<":case">=":case"<=":case"!=":case"==":case"like":case"ilike":return vt(o[0])+" "+{"==":"=",">":">",">=":">=","<":"<","<=":"<=","!=":"<>",like:"like",ilike:"ilike",LIKE:"like",ILIKE:"ilike"}[n]+" "+vt(o[1]);case"!":return vt(o[0],{prefix:"not "});case"in":return vt(o[0])+" "+((null==e?void 0:e.prefix)||"")+"in ("+o.filter((function(t,e){return e>0})).map((function(t){return vt(t)})).join("")+")";case"bool":return o[0];case"literal":return o[0].map((function(t){return vt(t)})).join(", ");case"measure":return"".concat(o[0]).concat(o[1]||"");case"recode":case"categorize":case"interpolate":case"color-map-entry":case"env":return"".concat(n,"(").concat(o.map((function(t){return vt(t)})).join(", "),")");case"url":case"symbol":return"".concat(n,"('").concat(o[0],"')");case"get":return o[0];case"brace":return"[".concat(o.map((function(t){return vt(t)})),"]");case"array":return o.map((function(t){return vt(t)})).join(" ");case"text":return o.map((function(t){return vt(t)})).join("");case"hex":return o[0];default:return t}}}function wt(t){for(var e=[],r=0;r<t.length;r++){var n=t[r],o=e[e.length-1]||{},i=o.group;void 0!==i&&i===n.group?e[e.length-1]=a(a({},o),{},{properties:[].concat(u(Array.isArray(o.properties)?o.properties:[o.properties]),[n.properties])}):e.push(n)}return e}function St(t,e){if(e){var r=Array.isArray(t)?t:[t];return Object.keys(r[0]).reduce((function(t,e){return a(a({},t),{},l({},e,St(r.map((function(t){return t[e]})))))}),{})}var n=t.filter((function(t){return null!=t}));return 1===n.length||n.every((function(t,e,r){return t===r[0]}))?n[0]:n.join(", ")}function xt(t){return(t||[]).map((function(t){var e=(null==t?void 0:t["min-scale"])&&vt(t["min-scale"]),r=(null==t?void 0:t["max-scale"])&&vt(t["max-scale"]),n=Array.isArray(t.properties)?t.properties:[t.properties],o=Object.keys(n[0]),s=function(t){if("*"===t)return"*";var e=i(t),r=e[0],n=e.slice(1);if("any"!==r&&"all"!==r)return["any",["all",t]];if("all"===r)return["any",t];if("any"===r){var o=n.map((function(t){return"all"!==t[0]?["all",t]:t}));return["any"].concat(u(o))}return"*"}(t.selector);return a(a(a({},(null==t?void 0:t.title)&&{title:"/* @title ".concat(t.title," */")}),(null==t?void 0:t.layer)&&{layer:t.layer}),{},{selector:"any"===(null==s?void 0:s[0])?s.filter((function(t,e){return e>0})).map((function(t){return[].concat(u(t.filter((function(t,e){return e>0})).map((function(t){return"["+vt(t)+"]"}))),u(e&&["["+e+"]"]||[]),u(r&&["["+r+"]"]||[]))})):s,properties:o.reduce((function(t,e){return e.match(new RegExp("(?:".concat(_,"|").concat(j,")")))?a(a({},t),{},l({},e,St(n.map((function(t){return Object.keys(t[e]).reduce((function(r,n){return a(a({},r),{},l({},n,vt(t[e][n])))}),{})})),!0))):a(a({},t),{},l({},e,St(n.map((function(t){return vt(t[e])})))))}),{})})}))}function Et(t){return t.map((function(t){return t.layer})).reduce((function(e,r,n){var o;if(void 0===r)return[].concat(u(e),[t[n]]);var i=null===(o=e[e.length-1])||void 0===o?void 0:o.layer;return void 0!==i&&i===r?[].concat(u(e.filter((function(t,r){return r<e.length-1}))),[{layer:r,rules:[].concat(u(e[e.length-1].rules),[t[n]])}]):[].concat(u(e),[{layer:r,rules:[t[n]]}])}),[])}function Ot(t,e){var r=(null==e?void 0:e.baseTab)||"",n=(null==e?void 0:e.tab)||"  ",o=(null==t?void 0:t.title)&&(null==t?void 0:t.title)+"\n"||"",i=(null==t?void 0:t.selector)?"*"===t.selector?"*":t.selector.map((function(t){return r+t.join("\n")})).join(",\n"):"",s=Object.keys(null==t?void 0:t.properties).reduce((function(e,o){if(o.match(new RegExp("(?:".concat(_,"|").concat(j,")")))){var i=Object.keys(t.properties[o]).reduce((function(e,i){return e+r+n+n+i+": "+t.properties[o][i]+";\n"}),"");return e+r+n+o+" {\n"+i+r+n+"};\n"}return e+r+n+o+": "+t.properties[o]+";\n"}),"");return r+o+i+" {\n"+s+r+"}\n"}function _t(t){return t.reduce((function(t,e){return e.layer&&e.rules?t+e.layer+" {\n"+e.rules.map((function(t){return Ot(t,{tab:"  ",baseTab:"  "})})).join("")+"}\n":t+Ot(e,{tab:"  "})}),"")}var jt={read:function(t){var e=tt(et,rt)(t);return{directive:e.filter((function(t){return"directive"===t.type})).reduce((function(t,e){var r=e.key,n=e.value;return a(a({},t),{},l({},r,n))}),{}),rules:tt(it,ot,st,at,lt,ut,ct,ht,dt,ft,mt,yt,bt)(e)}},write:function(t){return Object.keys(null==t?void 0:t.directive).reduce((function(e,r){return e+r+" '"+t.directive[r]+"';\n"}),"")+"\n"+tt(wt,xt,Et,_t)(null==t?void 0:t.rules)}};e.default=jt}])},"./node_modules/geostyler-geocss-parser/build/dist/GeoCSSStyleParser.js":function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.GeoCSSStyleParser=void 0;var s=r("./node_modules/flat-geo-css/dist/flat-geo-css.js").default,a=r("./node_modules/lodash/castArray.js"),l=r("./node_modules/lodash/isArray.js"),u=r("./node_modules/lodash/isNil.js"),c=r("./node_modules/lodash/isNumber.js"),p=r("./node_modules/lodash/isEqual.js"),h=r("./node_modules/lodash/flatten.js"),d=r("./node_modules/lodash/isString.js"),f=r("./node_modules/lodash/find.js"),m=function(){function t(){this.title="GeoCSS Style Parser",this.warnings=[],this.getFisrtValidPesudoselector=function(t,e){return(f(e,(function(e){return!u(e[t])}))||{})[t]||{}}}return t.prototype.addWarning=function(t){this.warnings.push(t)},t.prototype.getWarnings=function(){return i(this.warnings)},t.prototype.readExpression=function(t){if(void 0===t)return null;if("string"==typeof t||t instanceof String)return t;if(!isNaN(t))return t;var e=t[0],r=t.slice(1);switch(e){case"array":return r;case"get":case"hex":case"symbol":case"url":return r[0];case"bool":return"true"===r[0];default:return t}},t.prototype.readSelectorsExpression=function(e){var r=this;if(e){var n=e[0],o=e.slice(1);switch(n){case"any":case"all":var s=t.combinationMap[n];return i([s],o.map((function(t){return r.readSelectorsExpression(t)})));case">":case"<":case">=":case"<=":case"!=":case"==":case"like":case"ilike":return[t.comparisonMap[n],this.readExpression(o[0]),this.readExpression(o[1])];case"isnull":return["==",this.readExpression(o[0]),null];default:return}}},t.prototype.getFilterFromSelectors=function(t){var e=this.readSelectorsExpression(t);if(e)return"||"!==e[0]&&"&&"!==e[0]||2!==e.length?e:e[1]},t.prototype.getScaleDenominatorFromSelectors=function(t){var e=t&&this.readExpression(t["min-scale"]),r=t&&this.readExpression(t["max-scale"]),o=!u(e)&&{min:e[2]},i=!u(r)&&{max:r[2]};return o||i?n(n({},o),i):void 0},t.prototype.getMarkSymbolizerFromGeoCSSRule=function(t){var e,r=this.readExpression(t.mark);switch(r){case"circle":case"square":case"triangle":case"star":case"cross":case"x":e=r.charAt(0).toUpperCase()+r.slice(1);break;case"shape://vertline":case"shape://horline":case"shape://slash":case"shape://backslash":case"shape://dot":case"shape://plus":case"shape://times":case"shape://oarrow":case"shape://carrow":e=r;break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}var o=this.readExpression(t["mark-size"]),i=this.readExpression(t["mark-rotation"]),s=this.readExpression(t["mark-opacity"]),a=t[":mark"]||{},l=s,c=this.readExpression(a["fill-opacity"]),p=this.readExpression(a.fill),h=this.readExpression(a.rotation)||i,d=this.readExpression(a.size)||o,f=this.readExpression(a.stroke),m=this.readExpression(a["stroke-width"]),y=this.readExpression(a["stroke-opacity"]),g=e&&{wellKnownName:e},b=!u(l)&&{opacity:l},v=!u(c)&&{fillOpacity:c},w=p&&{color:p},S=!u(h)&&{rotate:h},x=!u(d)&&{radius:d/2},E=f&&{strokeColor:f},O=!u(m)&&{strokeWidth:m},_=!u(y)&&{strokeOpacity:y};return n(n(n(n(n(n(n(n(n({kind:"Mark"},g),b),v),w),S),x),E),O),_)},t.prototype.getIconSymbolizerFromGeoCSSRule=function(t){var e=this.readExpression(t.mark),r=this.readExpression(t["mark-size"]),o=this.readExpression(t["mark-rotation"]),i=this.readExpression(t["mark-opacity"]),s=e&&{image:e},a=!u(i)&&{opacity:i},l=!u(o)&&{rotate:o},c=!u(r)&&{size:r};return n(n(n(n({kind:"Icon"},s),a),l),c)},t.prototype.getPointSymbolizerFromGeoCSSRule=function(t){return"url"===t.mark[0]?this.getIconSymbolizerFromGeoCSSRule(t):this.getMarkSymbolizerFromGeoCSSRule(t)},t.prototype.getLineSymbolizerFromGeoCSSRule=function(t){var e=this.readExpression(t.stroke),r=this.readExpression(t["stroke-width"]),o=this.readExpression(t["stroke-opacity"]),i=this.readExpression(t["stroke-linejoin"]),s=this.readExpression(t["stroke-linecap"]),a=this.readExpression(t["stroke-dasharray"]),l=this.readExpression(t["stroke-dashoffset"]),c=this.readExpression(t["stroke-offset"]),p="symbol"===t.stroke[0]||"url"===t.stroke[0]?this.getPointSymbolizerFromGeoCSSRule({mark:t.stroke,"mark-size":t["stroke-size"],"mark-rotation":t["stroke-rotation"],":mark":t[":stroke"]}):void 0,h=!p&&e&&{color:e},d=p&&{graphicStroke:p},f=!u(r)&&{width:r},m=!u(o)&&{opacity:o},y=i&&{join:i},g=s&&{cap:s},b=a&&{dasharray:a},v=l&&{dashOffset:l},w=!u(c)&&{perpendicularOffset:c};return n(n(n(n(n(n(n(n(n({kind:"Line"},h),d),f),m),y),g),b),v),w)},t.prototype.getFillSymbolizerFromGeoCSSRule=function(t){var e=this.readExpression(t.fill),r=this.readExpression(t["fill-opacity"]),o=this.readExpression(t.stroke),i=this.readExpression(t["stroke-width"]),s=this.readExpression(t["stroke-opacity"]),a=this.readExpression(t["stroke-dasharray"]),l="symbol"===t.fill[0]||"url"===t.fill[0]?this.getPointSymbolizerFromGeoCSSRule({mark:t.fill,"mark-size":t["fill-size"],"mark-rotation":t["fill-rotation"],":mark":t[":fill"]}):void 0,c=!l&&e&&{color:e},p=l&&{graphicFill:l},h=!e&&{opacity:0},d=!u(r)&&{fillOpacity:r},f=o&&{outlineColor:o},m=!u(i)&&{outlineWidth:i},y=!u(s)&&{outlineOpacity:s},g=a&&{outlineDasharray:a};return n(n(n(n(n(n(n(n({kind:"Fill"},c),p),h),d),f),m),y),g)},t.prototype.getTextSymbolizerLabelFromGeoCSSProperty=function(t){var e=function t(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return e;if(!isNaN(e))return e;var r=e[0],n=e.slice(1);switch(r){case"text":return n.map((function(e){return t(e)}));case"brace":return t(n[0]);case"get":return"{{"+n[0]+"}}";default:return e}}(t);return l(e)?e.join(""):e},t.prototype.getTextSymbolizerFromGeoCSSRule=function(t){var e=this.getTextSymbolizerLabelFromGeoCSSProperty(t.label),r=this.readExpression(t["font-fill"]),o=this.readExpression(t["halo-radius"]),i=this.readExpression(t["halo-color"]),s=this.readExpression(t["label-offset"]),l=this.readExpression(t["label-rotation"]),c=this.readExpression(t["font-family"]),p=this.readExpression(t["font-style"]),h=this.readExpression(t["font-weight"]),d=this.readExpression(t["font-size"]),f=e&&{label:e},m=r&&{color:r},y=!u(o)&&{haloWidth:o},g=i&&{haloColor:i},b=s&&{offset:s},v=!u(l)&&{rotate:l},w=c&&{font:a(c)},S=p&&{fontStyle:p},x=h&&{fontWeight:h},E=!u(d)&&{size:d};return n(n(n(n(n(n(n(n(n(n({kind:"Text"},f),m),y),g),b),v),w),S),x),E)},t.prototype.getColorMapFromGeoCSSProperty=function(t){var e=this,r=t["raster-color-map"]&&this.readExpression(t["raster-color-map"]).map((function(t){var r=e.readExpression(t[1]),n=e.readExpression(t[2]),o=e.readExpression(t[3]);return{color:r,quantity:n,label:e.readExpression(t[4]),opacity:o}}));if(r&&0!==r.length){var o=this.readExpression(t["raster-color-map-type"]);return n({type:o||"ramp"},r&&{colorMapEntries:r})}},t.prototype.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement=function(t,e){var r=this.readExpression(t["raster-contrast-enhancement"]),o=this.readExpression(t["raster-gamma"]);if(void 0!==e){var i=a(r),s=a(o);if(3!==i.length&&1!==i.length||3!==s.length&&1!==s.length)throw new Error("\n          optional raster-contrast-enhancement and raster-gamma properties\n          should use one or three values separated by space\n          eg:\n\n          raster-channels: 0 1 2; /* rgb */\n          raster-contrast-enhancement: nomalize nomalize nomalize;\n          raster-gamma: 0.5 0.5 0.5;\n\n          /* or */\n\n          raster-channels: 0 1 2; /* rgb */\n          raster-contrast-enhancement: nomalize;\n          raster-gamma: 0.5;\n\n        ");var c=i[0],p=s[0];void 0!==c&&void 0===i[e]&&this.addWarning("Used first value of raster-contrast-enhancement for all rgb channel"),void 0!==p&&void 0===s[e]&&this.addWarning("Used first value of raster-gamma for all rgb channel");var h=i[e]||c,d=u(s[e])?p:s[e],f=h&&{enhancementType:this.readExpression(h)},m=!u(d)&&{gammaValue:this.readExpression(d)};return n(n({},f),m)}if(l(r)||l(o))throw new Error("\n          optional raster-contrast-enhancement and raster-gamma properties\n          should use one value when used with gray channel\n          eg:\n\n          raster-channels: 0; /* gray */\n          raster-contrast-enhancement: nomalize;\n          raster-gamma: 0.5;\n\n      ");var y=this.readExpression(r),g=this.readExpression(o);if(!u(y)||!u(g)){var b=y&&{enhancementType:y},v=!u(g)&&{gammaValue:g};return n(n({},b),v)}},t.prototype.getChannelFromGeoCSSChannel=function(t,e,r){var o=this.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement(e,r);return n({sourceChannelName:t+""},o&&{contrastEnhancement:o})},t.prototype.getChannelSelectionFromGeoCSSPropertyChannelSelection=function(t){var e=this.readExpression(t["raster-channels"]);if("auto"!==e){if(l(e)&&3===e.length){var r=e[0],n=e[1],o=e[2];return{redChannel:this.getChannelFromGeoCSSChannel(r,t,0),greenChannel:this.getChannelFromGeoCSSChannel(n,t,1),blueChannel:this.getChannelFromGeoCSSChannel(o,t,2)}}if(c(e)||d(e))return{grayChannel:this.getChannelFromGeoCSSChannel(e,t)};throw new Error("\n      Cannot parse raster-channels. It does not match the auto, gray or rgb structure\n      eg:\n\n      raster-channels: auto;\n      raster-channels: 0; /* gray */\n      raster-channels: 7 2 4; /* rgb */\n\n    ")}},t.prototype.getRasterSymbolizerFromGeoCSSRule=function(t){var e=this.readExpression(t["raster-opacity"]),r=this.getColorMapFromGeoCSSProperty(t),o=this.getChannelSelectionFromGeoCSSPropertyChannelSelection(t),i=!o&&this.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement(t),s=!u(e)&&{opacity:e},a=r&&{colorMap:r},l=o&&{channelSelection:o},c=i&&{contrastEnhancement:i};return n(n(n(n({kind:"Raster"},s),a),l),c)},t.prototype.getSymbolizerTypesFromProperties=function(t){var e=[];return t.mark?e.push("point"):!t.stroke||"none"!==t.fill&&t.fill?t.fill&&"none"!==t.fill?e.push("polygon"):void 0!==t["raster-channels"]&&e.push("raster"):e.push("line"),t.label&&e.push("text"),e},t.prototype.getSymbolizersFromRules=function(t){var e=this;return a(t).reduce((function(t,r){var n=e.getSymbolizerTypesFromProperties(r);return i(t,n.reduce((function(t,n){return"point"===n?i(t,[e.getPointSymbolizerFromGeoCSSRule(r)]):"line"===n?i(t,[e.getLineSymbolizerFromGeoCSSRule(r)]):"polygon"===n?i(t,[e.getFillSymbolizerFromGeoCSSRule(r)]):"text"===n?i(t,[e.getTextSymbolizerFromGeoCSSRule(r)]):"raster"===n?i(t,[e.getRasterSymbolizerFromGeoCSSRule(r)]):i(t)}),[]))}),[]).reduce((function(t,e){var r=!!t.find((function(t){return p(t,e)}));return i(t,r?[]:[e])}),[])},t.prototype.getRulesFromGeoCSSSelectors=function(t){for(var e=this,r=[],s=0;s<t.length;s++){var a=t[s],u=r[r.length-1]||{},c=u.group;void 0!==c&&c===a.group?r[r.length-1]=n(n({},u),{properties:i(l(u.properties)?u.properties:[u.properties],[a.properties])}):r.push(a)}return r.map((function(t){var r=t.title,i=void 0===r?"":r,s=t.selector,a=t.properties,l=o(t,["title","selector","properties"]),u=e.getFilterFromSelectors(s),c=e.getScaleDenominatorFromSelectors(l),p=e.getSymbolizersFromRules(a),h=c&&{scaleDenominator:c},d=p&&{symbolizers:p};return n(n(n({name:i},u&&{filter:u}),h),d)}))},t.prototype.geoCSSObjectToGeoStylerStyle=function(t){var e=t.directive,r=void 0===e?{}:e,n=t.rules;return"Flat"!==r["@mode"]&&this.addWarning("Supported only 'Flat' mode, other directive will be translated as flat GeoCSS"),{name:r["@styleTitle"]||"",rules:this.getRulesFromGeoCSSSelectors(n)}},t.prototype.readStyle=function(t){var e=this;return this.warnings=[],new Promise((function(r,n){try{var o=s.read(t);r(e.geoCSSObjectToGeoStylerStyle(o))}catch(t){n(t)}}))},t.prototype.writeStyle=function(t){var e=this;return this.warnings=[],new Promise((function(r,n){try{var o=e.geoStylerStyleToGeoCSSObject(t);r(s.write(o))}catch(t){n(t)}}))},t.prototype.geoStylerStyleToGeoCSSObject=function(t){var e=this.getGeoCSSRulesFromRules(t.rules);return{directive:{"@mode":"Flat","@styleTitle":t.name},rules:e}},t.prototype.getGeoCSSRulesFromRules=function(t){var e=this;return h(t.map((function(t,r){var o=t.name,s=e.getSelectorsFromFilter(t.filter),a=o&&{title:o},l=t.scaleDenominator||{},p=l.min,h=l.max,d=!(!c(p)&&!c(h)),f=c(p)&&{"min-scale":[">",["get","@sd"],p]},m=c(h)&&{"max-scale":["<",["get","@sd"],h]},y=e.getGeoCSSPropertiesFromSymbolizers(t.symbolizers),g=y.reduce((function(t,e){return i(t,Object.keys(e))}),[]);return y.map((function(t){return n(n(n(n({selector:d&&"*"===s?["any",["all"]]:s},a),f),m),{properties:g.reduce((function(r,o){var i;return n(n({},r),((i={})[o]=u(t[o])?":"===o[0]?e.getFisrtValidPesudoselector(o,y):void 0:t[o],i))}),{}),group:r})}))})))},t.prototype.readFilterExpression=function(t){var e=this;if(t){var r=t[0],n=t.slice(1);switch(r){case"||":case"&&":return i([{"||":"any","&&":"all"}[r]],n.map((function(t){return e.readFilterExpression(t)})));case">":case"<":case">=":case"<=":case"!=":case"==":case"*=":return"=="===r&&null===n[1]?["isnull",["get",n[0]]]:[{"==":"==",">":">",">=":">=","<":"<","<=":"<=","!=":"!=","*=":"like"}[r],["get",n[0]],n[1]];default:return}}},t.prototype.getSelectorsFromFilter=function(t){return t?this.readFilterExpression(t):"*"},t.prototype.getGeoCSSPropertiesFromSymbolizers=function(t){var e=this;return t.map((function(t){switch(t.kind){case"Mark":return e.getGeoCSSPropertiesFromMarkSymbolizer(t);case"Icon":return e.getGeoCSSPropertiesFromIconSymbolizer(t);case"Text":return e.getGeoCSSPropertiesFromTextSymbolizer(t);case"Line":return e.getGeoCSSPropertiesFromLineSymbolizer(t);case"Fill":return e.getGeoCSSPropertiesFromFillSymbolizer(t);case"Raster":return e.getGeoCSSPropertiesFromRasterSymbolizer(t);default:return null}})).filter((function(t){return t}))},t.prototype.getGeoCSSPropertiesFromMarkSymbolizer=function(t,e){var r,o,i,s;void 0===e&&(e="mark");var a=t.wellKnownName&&["symbol",t.wellKnownName.toLowerCase()],l=t.opacity,c=void 0!==t.radius&&2*t.radius,p=t.rotate,h=t.color&&["hex",t.color],d=t.fillOpacity,f=t.strokeColor&&["hex",t.strokeColor],m=t.strokeWidth,y=t.strokeOpacity,g=h||f,b=a&&((r={})[e]=a,r),v="mark"===e&&!u(l)&&{"mark-opacity":l},w=!g&&!1!==c&&!u(c)&&((o={})[e+"-size"]=c,o),S=!g&&!u(p)&&((i={})[e+"-rotation"]=p,i),x=h&&{fill:h},E=d&&{"fill-opacity":d},O=f&&{stroke:f},_=m&&{"stroke-width":m},j=y&&{"stroke-opacity":y},F=!1!==c&&!u(c)&&{size:c},C=!u(p)&&{rotation:p},k=g&&((s={})[":"+e]=n(n(n(n(n(n(n({},x),E),O),_),j),F),C),s);return n(n(n(n(n({},b),v),w),S),k)},t.prototype.getGeoCSSPropertiesFromIconSymbolizer=function(t,e){var r,o,i,s;void 0===e&&(e="mark");var a=t.image&&["url",t.image],l=t.opacity,c=t.size,p=t.rotate,h=a&&((r={})[e]=a,r),d="mark"===e&&!u(l)&&((o={})[e+"-opacity"]=l,o),f=!u(c)&&((i={})[e+"-size"]=c,i),m=!u(p)&&((s={})[e+"-rotation"]=p,s);return n(n(n(n({},h),d),f),m)},t.prototype.getGeoCSSLabelPropertyFromTextSymbolizer=function(t){if(t){var e=t.split(/(\{\{)|(\}\})/g).filter((function(t){return t}));return e.map((function(t,r){return"{{"===t||"}}"===t?null:"{{"===e[r-1]&&"}}"===e[r+1]?["brace",["get",t]]:t})).filter((function(t){return null!==t}))}},t.prototype.getGeoCSSPropertiesFromTextSymbolizer=function(t){var e=this.getGeoCSSLabelPropertyFromTextSymbolizer(t.label),r=t.font,o=t.color&&["hex",t.color],s=t.size,a=t.fontStyle,l=t.fontWeight,c=t.offset&&i(["array"],t.offset),p=t.rotate,h=t.haloWidth,d=t.haloColor&&["hex",t.haloColor],f=e&&{label:i(["text"],e)},m=r&&{"font-family":i(["array"],r)},y=o&&{"font-fill":o},g=!u(s)&&{"font-size":s},b=a&&{"font-style":["get",a]},v=l&&{"font-weight":["get",l]},w=c&&{"label-offset":c},S=!u(p)&&{"label-rotation":p},x=!u(h)&&{"halo-radius":h},E=d&&{"halo-color":d};return n(n(n(n(n(n(n(n(n(n({},f),w),S),m),y),g),b),v),x),E)},t.prototype.getGeoCSSPropertiesFromLineSymbolizer=function(t){var e=t.color&&["hex",t.color],r=t.width,o=t.opacity,s=t.join,a=t.cap,l=t.dasharray&&i(["array"],t.dasharray),c=t.dashOffset,p=t.graphicStroke?"Mark"===t.graphicStroke.kind?this.getGeoCSSPropertiesFromMarkSymbolizer(t.graphicStroke,"stroke"):"Icon"===t.graphicStroke.kind?this.getGeoCSSPropertiesFromIconSymbolizer(t.graphicStroke,"stroke"):void 0:void 0,h=!p&&e&&{stroke:e},d=!u(r)&&{"stroke-width":r},f=!u(o)&&{"stroke-opacity":o},m=s&&{"stroke-linejoin":s},y=a&&{"stroke-linecap":a},g=l&&{"stroke-dasharray":l},b=c&&{"stroke-dashoffset":c};return n(n(n(n(n(n(n(n({},h),d),f),m),y),g),b),p)},t.prototype.getGeoCSSPropertiesFromFillSymbolizer=function(t){var e=t.color&&["hex",t.color],r=t.fillOpacity,o=t.outlineColor&&["hex",t.outlineColor],s=t.outlineWidth,a=t.outlineOpacity,l=t.outlineDasharray&&i(["array"],t.outlineDasharray),c=t.graphicFill?"Mark"===t.graphicFill.kind?this.getGeoCSSPropertiesFromMarkSymbolizer(t.graphicFill,"fill"):"Icon"===t.graphicFill.kind?this.getGeoCSSPropertiesFromIconSymbolizer(t.graphicFill,"fill"):void 0:void 0,p=!c&&e&&{fill:e},h=!u(r)&&{"fill-opacity":r},d=o&&{stroke:o},f=!u(s)&&{"stroke-width":s},m=!u(a)&&{"stroke-opacity":a},y=l&&{"stroke-dasharray":l};return n(n(n(n(n(n(n({},p),h),d),f),m),y),c)},t.prototype.getGeoCSSColorMapFromColorMap=function(t){if(t){var e=t.colorMapEntries&&t.colorMapEntries.length>0&&t.colorMapEntries.map((function(t){return["color-map-entry",["hex",t.color],t.quantity,t.opacity,t.label].filter((function(t){return!u(t)}))})).filter((function(t){return t.length>1})),r=t.type&&{"raster-color-map-type":["get",t.type]},o=e&&e.length>0&&{"raster-color-map":i(["array"],e)};return n(n({},r),o)}},t.prototype.getGeoCSSChannelSelectionFromChannelSelection=function(t){var e=t&&t.redChannel,r=t&&t.greenChannel,o=t&&t.blueChannel;if(e&&r&&o){var i=e.sourceChannelName,s=r.sourceChannelName,a=o.sourceChannelName,l=e.contrastEnhancement,c=l.enhancementType,p=l.gammaValue,h=r.contrastEnhancement,d=h.enhancementType,f=h.gammaValue,m=o.contrastEnhancement,y=m.enhancementType,g=m.gammaValue,b=c&&d&&y&&{"raster-contrast-enhancement":["array",["get",c],["get",d],["get",y]]},v=!u(p)&&!u(f)&&!u(g)&&{"raster-gamma":["array",p,f,g]};return n(n({"raster-channels":["array",parseFloat(i),parseFloat(s),parseFloat(a)]},b),v)}var w=t&&t.grayChannel;if(w){var S=w.sourceChannelName,x=w.contrastEnhancement,E=x.enhancementType,O=x.gammaValue;b=E&&{"raster-contrast-enhancement":["get",E]},v=!u(O)&&{"raster-gamma":O};return n(n({"raster-channels":parseFloat(S)},b),v)}return{"raster-channels":["get","auto"]}},t.prototype.getGeoCSSPropertiesFromRasterSymbolizer=function(t){var e=!u(t.opacity)&&{"raster-opacity":t.opacity},r=this.getGeoCSSColorMapFromColorMap(t.colorMap),o=this.getGeoCSSChannelSelectionFromChannelSelection(t.channelSelection),i=t&&t.contrastEnhancement||{},s=i.enhancementType,a=i.gammaValue,l=o["raster-channels"]&&"auto"===o["raster-channels"][1],c=l&&s&&{"raster-contrast-enhancement":["get",s]},p=l&&!u(a)&&{"raster-gamma":a};return n(n(n(n(n({},o),c),p),e),r)},t.title="GeoCSS Style Parser",t.combinationMap={all:"&&",any:"||"},t.comparisonMap={"==":"==",">":">",">=":">=","<":"<","<=":"<=","!=":"!=",like:"*=",ilike:"*="},t}();e.GeoCSSStyleParser=m,e.default=m},"./node_modules/geostyler-sld-parser/build/dist/SldStyleParser.js":function(t,e,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/xml2js.js"),i=r("./node_modules/lodash/isString.js"),s=r("./node_modules/lodash/isNumber.js"),a=r("./node_modules/lodash/get.js"),l=r("./node_modules/lodash/set.js"),u=r("./node_modules/lodash/isEmpty.js"),c=function(){function t(t){this.title="SLD Style Parser",this._numericFilterFields=[],this._boolFilterFields=[],this._forceCasting=!1,this._prettyOutput=!0,this.getTextSymbolizerLabelFromSldSymbolizer=function(t){var e="",r=a(t,"Literal"),n=a(t,"PropertyName"),o="Literal"===Object.keys(t)[0];if(n&&n.length>0){var i=n.map((function(t){return"{{"+t+"}}"}));r&&r.length>0?o?(r.forEach((function(t,r){e+=""+t,i[r]&&(e+=""+i[r])})),i.length>r.length&&(e+=i.join(""))):(i.forEach((function(t,n){e+=""+t,r[n]&&(e+=""+r[n])})),r.length>i.length&&(e+=r.join(""))):e=i.join("")}else r&&r.length>0?e=r.join(""):"string"==typeof t&&(e=t);return e},this.getSldLabelFromTextSymbolizer=function(t){var e=new RegExp("\\{\\{.*?\\}\\}","g"),r=t.match(e),n=t.startsWith("{{");if(r){var o=t.split(e),i=[];o.forEach((function(t){0!==t.length&&i.push(t)}));var s=r.map((function(t){return t.slice(2,t.length-2)}));return n?[{"ogc:PropertyName":s,"ogc:Literal":i}]:[{"ogc:Literal":i,"ogc:PropertyName":s}]}return[{"ogc:Literal":[t]}]},Object.assign(this,t)}return Object.defineProperty(t.prototype,"numericFilterFields",{get:function(){return this._numericFilterFields},set:function(t){this._numericFilterFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boolFilterFields",{get:function(){return this._boolFilterFields},set:function(t){this._boolFilterFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forceCasting",{get:function(){return this._forceCasting},set:function(t){this._forceCasting=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prettyOutput",{get:function(){return this._prettyOutput},set:function(t){this._prettyOutput=t},enumerable:!0,configurable:!0}),t.keysByValue=function(t,e){return Object.keys(t).filter((function(r){return t[r]===e}))},t.prototype.tagNameProcessor=function(t){var e=new RegExp(/(?!xmlns)^.*:/);return t.replace(e,"")},t.prototype.getStyleNameFromSldObject=function(t){var e=a(t,"StyledLayerDescriptor.NamedLayer[0].UserStyle[0].Title[0]"),r=a(t,"StyledLayerDescriptor.NamedLayer[0].Name[0]");return e||(r||"")},t.prototype.getStrMatchesFunctionFilterFromSldFilter=function(t){var e=a(t,"Function[0].PropertyName[0]"),r=a(t,"Function[0].Literal[0]");return["FN_strMatches",e,new RegExp(r)]},t.prototype.getFunctionFilterFromSldFilter=function(t){switch(a(t,"Function[0].$.name")){case"strMatches":default:return this.getStrMatchesFunctionFilterFromSldFilter(t)}},t.prototype.getFilterFromOperatorAndComparison=function(e,r){var o,s=this;if(Object.keys(t.comparisonMap).includes(e)){var a=t.comparisonMap[e],l=!!r.Function,u=l?this.getFunctionFilterFromSldFilter(r):r.PropertyName[0],c=null;if("PropertyIsNull"!==e&&(c=r.Literal[0]),(this.forceCasting||l||-1!==this.numericFilterFields.indexOf(u))&&!Number.isNaN(parseFloat(c))&&(c=parseFloat(c)),i(c)){var p=c.toLowerCase();(this.forceCasting||l||-1!==this.boolFilterFields.indexOf(u))&&("false"===p&&(c=!1),"true"===p&&(c=!0))}o=[a,u,c]}else if(Object.keys(t.combinationMap).includes(e)){var h=t.combinationMap[e],d=[];Object.keys(r).forEach((function(t){1===r[t].length?d.push(s.getFilterFromOperatorAndComparison(t,r[t][0])):r[t].forEach((function(e){d.push(s.getFilterFromOperatorAndComparison(t,e))}))})),o=n([h],d)}else{if(!Object.keys(t.negationOperatorMap).includes(e))throw new Error("No Filter detected");var f=t.negationOperatorMap[e],m=Object.keys(r)[0],y=r[m][0];o=[f,this.getFilterFromOperatorAndComparison(m,y)]}return o},t.prototype.getFilterFromRule=function(t){var e=t.Filter;if(e){var r=e[0],n=Object.keys(r).find((function(t,e){return"$"!==t}));if(n){var o=r[n][0];return this.getFilterFromOperatorAndComparison(n,o)}}},t.prototype.getScaleDenominatorFromRule=function(t){var e={};return t.MinScaleDenominator&&(e.min=parseFloat(t.MinScaleDenominator[0])),t.MaxScaleDenominator&&(e.max=parseFloat(t.MaxScaleDenominator[0])),e.min||e.max?e:void 0},t.prototype.getMarkSymbolizerFromSldSymbolizer=function(t){var e=a(t,"Graphic[0].Mark[0].WellKnownName[0]"),r=a(t,"Graphic[0].Mark[0].Stroke[0].CssParameter")||[];0===r.length&&(r=a(t,"Graphic[0].Mark[0].Stroke[0].SvgParameter")||[]);var n=a(t,"Graphic[0].Opacity[0]"),o=a(t,"Graphic[0].Size[0]"),i=a(t,"Graphic[0].Rotation[0]"),s=a(t,"Graphic[0].Mark[0].Fill[0].CssParameter")||[];0===s.length&&(s=a(t,"Graphic[0].Mark[0].Fill[0].SvgParameter")||[]);var l=s.findIndex((function(t){return"fill"===t.$.name})),u=a(t,"Graphic[0].Mark[0].Fill[0].CssParameter["+l+"]._");if(!u){var c=a(t,"Graphic[0].Mark[0].Fill[0].SvgParameter["+l+"]._");c&&(u=c)}var p=s.findIndex((function(t){return"fill-opacity"===t.$.name})),h=a(t,"Graphic[0].Mark[0].Fill[0].CssParameter["+p+"]._"),d={kind:"Mark"};switch(n&&(d.opacity=parseFloat(n)),h&&(d.fillOpacity=parseFloat(h)),u&&(d.color=u),i&&(d.rotate=parseFloat(i)),o&&(d.radius=parseFloat(o)/2),e){case"circle":case"square":case"triangle":case"star":case"cross":case"x":var f=e.charAt(0).toUpperCase()+e.slice(1);d.wellKnownName=f;break;case"shape://vertline":case"shape://horline":case"shape://slash":case"shape://backslash":case"shape://dot":case"shape://plus":case"shape://times":case"shape://oarrow":case"shape://carrow":d.wellKnownName=e;break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}return r.forEach((function(t){switch(t.$.name){case"stroke":d.strokeColor=t._;break;case"stroke-width":d.strokeWidth=parseFloat(t._);break;case"stroke-opacity":d.strokeOpacity=parseFloat(t._)}})),d},t.prototype.getIconSymbolizerFromSldSymbolizer=function(t){var e={kind:"Icon",image:a(t,"Graphic[0].ExternalGraphic[0].OnlineResource[0]").$["xlink:href"]},r=a(t,"Graphic[0].Opacity[0]"),n=a(t,"Graphic[0].Size[0]"),o=a(t,"Graphic[0].Rotation[0]");return r&&(e.opacity=r),n&&(e.size=parseFloat(n)),o&&(e.rotate=parseFloat(o)),e},t.prototype.getPointSymbolizerFromSldSymbolizer=function(t){var e={},r=a(t,"Graphic[0].Mark[0].WellKnownName[0]");return a(t,"Graphic[0].ExternalGraphic[0]")?e=this.getIconSymbolizerFromSldSymbolizer(t):(r||l(t,"Graphic[0].Mark[0].WellKnownName[0]","square"),e=this.getMarkSymbolizerFromSldSymbolizer(t)),e},t.prototype.getLineSymbolizerFromSldSymbolizer=function(t){var e=this,r={kind:"Line"},n=Object.keys(a(t,"Stroke[0]"))||[];if(n.length<1)throw new Error("LineSymbolizer cannot be parsed. No Stroke detected");n.forEach((function(n){switch(n){case"CssParameter":case"SvgParameter":var o=a(t,"Stroke[0].CssParameter")||[];if(0===o.length&&(o=a(t,"Stroke[0].SvgParameter")||[]),o.length<1)throw new Error("LineSymbolizer can not be parsed. No CssParameters detected.");o.forEach((function(t){var e=t.$.name,n=t._;switch(e){case"stroke":r.color=n;break;case"stroke-width":r.width=parseFloat(n);break;case"stroke-opacity":r.opacity=parseFloat(n);break;case"stroke-linejoin":r.join="mitre"===n?"miter":n;break;case"stroke-linecap":r.cap=n;break;case"stroke-dasharray":var o=n.split(" ").map((function(t){return parseFloat(t)}));r.dasharray=o;break;case"stroke-dashoffset":r.dashOffset=parseFloat(n)}}));break;case"GraphicStroke":r.graphicStroke=e.getPointSymbolizerFromSldSymbolizer(t.Stroke[0].GraphicStroke[0]);break;case"GraphicFill":r.graphicFill=e.getPointSymbolizerFromSldSymbolizer(t.Stroke[0].GraphicFill[0])}}));var o=a(t,"PerpendicularOffset[0]");return void 0!==o&&(r.perpendicularOffset=Number(o)),r},t.prototype.getFillSymbolizerFromSldSymbolizer=function(t){var e={kind:"Fill"},r=a(t,"Fill[0].CssParameter")||[];0===r.length&&(r=a(t,"Fill[0].SvgParameter")||[]);var n=a(t,"Stroke[0].CssParameter")||[];0===n.length&&(n=a(t,"Stroke[0].SvgParameter")||[]);var o=a(t,"Fill[0].GraphicFill[0]");return o&&(e.graphicFill=this.getPointSymbolizerFromSldSymbolizer(o)),r.forEach((function(t){var r=t.$.name,n=t._;switch(r){case"fill":e.color=n;break;case"fill-opacity":e.fillOpacity=parseFloat(n)}})),e.color||(e.opacity=0),n.forEach((function(t){var r=t.$.name,n=t._;if("stroke"===r)e.outlineColor=n;else if("stroke-width"===r)e.outlineWidth=parseFloat(n);else if("stroke-opacity"===r)e.outlineOpacity=parseFloat(n);else if("stroke-dasharray"===r){var o=n.split(" "),i=[];o.forEach((function(t){i.push(parseFloat(t))})),e.outlineDasharray=i}})),e},t.prototype.getColorMapFromSldColorMap=function(t){var e={},r=a(t,"$.type");e.type=r||"ramp";var n=a(t,"$.extended");n&&(e.extended="true"===n);var o=a(t,"ColorMapEntry");if(Array.isArray(o)){var i=o.map((function(t){var e=a(t,"$.color");if(!e)throw new Error("Cannot parse ColorMapEntries. color is undefined.");var r=a(t,"$.quantity");r&&(r=parseFloat(r));var n=a(t,"$.label"),o=a(t,"$.opacity");return o&&(o=parseFloat(o)),{color:e,quantity:r,label:n,opacity:o}}));e.colorMapEntries=i}return e},t.prototype.getContrastEnhancementFromSldContrastEnhancement=function(t){var e={},r=void 0!==t.Histogram,n=void 0!==t.Normalize;if(r&&n)throw new Error("Cannot parse ContrastEnhancement. Histogram and Normalize\n      are mutually exclusive.");r?e.enhancementType="histogram":n&&(e.enhancementType="normalize");var o=a(t,"GammaValue[0]");return o&&(o=parseFloat(o)),e.gammaValue=o,e},t.prototype.getChannelFromSldChannel=function(t){var e={sourceChannelName:a(t,"SourceChannelName[0]")},r=a(t,"ContrastEnhancement[0]");return r&&(e.contrastEnhancement=this.getContrastEnhancementFromSldContrastEnhancement(r)),e},t.prototype.getChannelSelectionFromSldChannelSelection=function(t){var e,r=a(t,"RedChannel[0]"),n=a(t,"BlueChannel[0]"),o=a(t,"GreenChannel[0]"),i=a(t,"GrayChannel[0]");if(i&&r&&n&&o)throw new Error("Cannot parse ChannelSelection. RGB and Grayscale are mutually exclusive");if(i){e={grayChannel:this.getChannelFromSldChannel(i)}}else{if(!(r&&o&&n))throw new Error("Cannot parse ChannelSelection. Red, Green and Blue channels must be defined.");e={redChannel:this.getChannelFromSldChannel(r),blueChannel:this.getChannelFromSldChannel(n),greenChannel:this.getChannelFromSldChannel(o)}}return e},t.prototype.getRasterSymbolizerFromSldSymbolizer=function(t){var e={kind:"Raster"},r=a(t,"Opacity[0]");r&&(r=parseFloat(r),e.opacity=r);var n=a(t,"ColorMap")||[];if(n.length>0){var o=this.getColorMapFromSldColorMap(n[0]);e.colorMap=o}var i=a(t,"ChannelSelection")||[];if(i.length>0){var s=this.getChannelSelectionFromSldChannelSelection(i[0]);e.channelSelection=s}var l=a(t,"ContrastEnhancement")||[];if(l.length>0){var u=this.getContrastEnhancementFromSldContrastEnhancement(l[0]);e.contrastEnhancement=u}return e},t.prototype.getTextSymbolizerFromSldSymbolizer=function(t){var e={kind:"Text"},r=a(t,"Font[0].CssParameter")||[];0===r.length&&(r=a(t,"Font[0].SvgParameter")||[]);var n=a(t,"Label[0]");n&&(e.label=this.getTextSymbolizerLabelFromSldSymbolizer(n));var o=a(t,"Fill[0].CssParameter[0]._");o||(o=a(t,"Fill[0].SvgParameter[0]._"));var i=a(t,"Halo[0].Fill[0].CssParameter")||[];0===i.length&&(i=a(t,"Halo[0].Fill[0].SvgParameter")||[]);var s=a(t,"Halo[0].Radius[0]");o&&(e.color=o),s&&(e.haloWidth=parseFloat(s)),i.forEach((function(t){var r=t.$.name,n=t._;switch(r){case"fill":e.haloColor=n}}));var l=a(t,"LabelPlacement[0].PointPlacement[0].Displacement[0]");if(l){var u=l.DisplacementX[0],c=l.DisplacementY[0];e.offset=[u?parseFloat(u):0,c?parseFloat(c):0]}var p=a(t,"LabelPlacement[0].PointPlacement[0].Rotation[0]");return p&&(e.rotate=parseFloat(p)),r.forEach((function(t){var r=t.$.name,n=t._;switch(r){case"font-family":e.font=[n];break;case"font-style":e.fontStyle=n;break;case"font-weight":e.fontWeight=n;break;case"font-size":e.size=parseFloat(n)}})),e},t.prototype.getSymbolizersFromRule=function(t){var e=this,r=[];return Object.keys(t).filter((function(t){return t.endsWith("Symbolizer")})).forEach((function(n){t[n].forEach((function(t){var o;switch(n){case"PointSymbolizer":o=e.getPointSymbolizerFromSldSymbolizer(t);break;case"LineSymbolizer":o=e.getLineSymbolizerFromSldSymbolizer(t);break;case"TextSymbolizer":o=e.getTextSymbolizerFromSldSymbolizer(t);break;case"PolygonSymbolizer":o=e.getFillSymbolizerFromSldSymbolizer(t);break;case"RasterSymbolizer":o=e.getRasterSymbolizerFromSldSymbolizer(t);break;default:throw new Error("Failed to parse SymbolizerKind from SldRule")}r.push(o)}))})),r},t.prototype.getRulesFromSldObject=function(t){var e=this,r=t.StyledLayerDescriptor.NamedLayer,n=[];return r.forEach((function(t){t.UserStyle.forEach((function(t){t.FeatureTypeStyle.forEach((function(t){t.Rule.forEach((function(t){var r=e.getFilterFromRule(t),o=e.getScaleDenominatorFromRule(t),i=e.getSymbolizersFromRule(t),s={name:t.Title?t.Title[0]:t.Name?t.Name[0]:""};r&&(s.filter=r),o&&(s.scaleDenominator=o),i&&(s.symbolizers=i),n.push(s)}))}))}))})),n},t.prototype.sldObjectToGeoStylerStyle=function(t){var e=this.getRulesFromSldObject(t);return{name:this.getStyleNameFromSldObject(t),rules:e}},t.prototype.readStyle=function(t){var e=this;return new Promise((function(r,n){var i={tagNameProcessors:[e.tagNameProcessor]};try{o.parseString(t,i,(function(t,o){t&&n("Error while parsing sldString: "+t);var i=e.sldObjectToGeoStylerStyle(o);r(i)}))}catch(t){n(t)}}))},t.prototype.writeStyle=function(t){var e=this;return new Promise((function(r,n){try{var i={renderOpts:{pretty:e.prettyOutput}},s=new o.Builder(i),a=e.geoStylerStyleToSldObject(t);r(s.buildObject(a))}catch(t){n(t)}}))},t.prototype.geoStylerStyleToSldObject=function(t){var e=this.getSldRulesFromRules(t.rules);return e.forEach((function(t){t.Filter&&!t.Filter.$&&(t.Filter.$={xmlns:"http://www.opengis.net/ogc"})})),{StyledLayerDescriptor:{$:{version:"1.0.0","xsi:schemaLocation":"http://www.opengis.net/sld StyledLayerDescriptor.xsd",xmlns:"http://www.opengis.net/sld","xmlns:ogc":"http://www.opengis.net/ogc","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},NamedLayer:[{Name:[t.name||""],UserStyle:[{Name:[t.name||""],Title:[t.name||""],FeatureTypeStyle:[{Rule:e}]}]}]}}},t.prototype.getSldRulesFromRules=function(t){var e=this;return t.map((function(t){var r={Name:[t.name]};if(t.filter){var n=e.getSldFilterFromFilter(t.filter);r.Filter=n}if(t.scaleDenominator){var o=t.scaleDenominator,i=o.min,a=o.max;i&&s(i)&&(r.MinScaleDenominator=[i.toString()]),a&&s(a)&&(r.MaxScaleDenominator=[a.toString()])}var l=e.getSldSymbolizersFromSymbolizers(t.symbolizers),u=[];return l.length>0&&(u=Object.keys(l[0])),u.forEach((function(t){0===l[0][t].length&&delete l[0][t]})),l.length>0&&0!==Object.keys(l[0]).length&&(r=Object.assign(r,l[0])),r}))},t.prototype.getSldSymbolizersFromSymbolizers=function(t){var e=this,r=[],n={};return t.forEach((function(t){var o;switch(t.kind){case"Mark":n.PointSymbolizer||(n.PointSymbolizer=[]),o=e.getSldPointSymbolizerFromMarkSymbolizer(t),a(o,"PointSymbolizer[0]")&&n.PointSymbolizer.push(a(o,"PointSymbolizer[0]"));break;case"Icon":n.PointSymbolizer||(n.PointSymbolizer=[]),o=e.getSldPointSymbolizerFromIconSymbolizer(t),a(o,"PointSymbolizer[0]")&&n.PointSymbolizer.push(a(o,"PointSymbolizer[0]"));break;case"Text":n.TextSymbolizer||(n.TextSymbolizer=[]),o=e.getSldTextSymbolizerFromTextSymbolizer(t),a(o,"TextSymbolizer[0]")&&n.TextSymbolizer.push(a(o,"TextSymbolizer[0]"));break;case"Line":n.LineSymbolizer||(n.LineSymbolizer=[]),o=e.getSldLineSymbolizerFromLineSymbolizer(t),a(o,"LineSymbolizer[0]")&&n.LineSymbolizer.push(a(o,"LineSymbolizer[0]"));break;case"Fill":n.PolygonSymbolizer||(n.PolygonSymbolizer=[]),o=e.getSldPolygonSymbolizerFromFillSymbolizer(t),a(o,"PolygonSymbolizer[0]")&&n.PolygonSymbolizer.push(a(o,"PolygonSymbolizer[0]"));break;case"Raster":n.RasterSymbolizer||(n.RasterSymbolizer=[]),o=e.getSldRasterSymbolizerFromRasterSymbolizer(t),a(o,"RasterSymbolizer[0]")&&n.RasterSymbolizer.push(a(o,"RasterSymbolizer[0]"))}r.push(n)})),r},t.prototype.getSldTextSymbolizerFromTextSymbolizer=function(t){var e=[{Label:t.label?this.getSldLabelFromTextSymbolizer(t.label):void 0}],r={font:"font-family",size:"font-size",fontStyle:"font-style",fontWeight:"font-weight"},n=Object.keys(t).filter((function(t){return"kind"!==t&&r[t]})).map((function(e){return{_:"font"===e?t[e][0]:t[e],$:{name:r[e]}}}));if(n.length>0&&(e[0].Font=[{CssParameter:n}]),t.offset||void 0!==t.rotate){var o=[{}];t.offset&&(o[0].Displacement=[{DisplacementX:[t.offset[0].toString()],DisplacementY:[t.offset[1].toString()]}]),void 0!==t.rotate&&(o[0].Rotation=[t.rotate.toString()]),e[0].LabelPlacement=[{PointPlacement:o}]}if(t.color&&(e[0].Fill=[{CssParameter:[{_:t.color,$:{name:"fill"}}]}]),t.haloWidth||t.haloColor){var i={},s=[];t.haloWidth&&(i.Radius=[t.haloWidth.toString()]),t.haloColor&&s.push({_:t.haloColor,$:{name:"fill"}}),s.length>0&&(i.Fill=[{CssParameter:s}]),e[0].Halo=[i]}return{TextSymbolizer:e}},t.prototype.getSldPolygonSymbolizerFromFillSymbolizer=function(t){var e,r={outlineColor:"stroke",outlineWidth:"stroke-width",outlineOpacity:"stroke-opacity",outlineDasharray:"stroke-dasharray"},n={color:"fill",fillOpacity:"fill-opacity"},o=[],i=[];a(t,"graphicFill")&&("Mark"===a(t,"graphicFill.kind")?e=this.getSldPointSymbolizerFromMarkSymbolizer(t.graphicFill):"Icon"===a(t,"graphicFill.kind")&&(e=this.getSldPointSymbolizerFromIconSymbolizer(t.graphicFill))),Object.keys(t).filter((function(t){return"kind"!==t})).filter((function(e){return void 0!==t[e]&&null!==t[e]})).forEach((function(e){if(Object.keys(n).includes(e))i.push({_:t[e],$:{name:n[e]}});else if(Object.keys(r).includes(e)){var s="";if("outlineDasharray"===e){var a=t[e];s="",a.forEach((function(t,e){s+=t,e<a.length-1&&(s+=" ")}))}else s="outlineWidth"===e||"outlineOpacity"===e?t[e]+"":t[e];o.push({_:s,$:{name:r[e]}})}}));var s=[{}];return(i.length>0||e)&&(s[0].Fill=[{}],e&&(s[0].Fill[0].GraphicFill=[e.PointSymbolizer[0]]),i.length>0&&(s[0].Fill[0].CssParameter=i)),o.length>0&&(s[0].Stroke=[{CssParameter:o}]),{PolygonSymbolizer:s}},t.prototype.getSldLineSymbolizerFromLineSymbolizer=function(t){var e={color:"stroke",width:"stroke-width",opacity:"stroke-opacity",join:"stroke-linejoin",cap:"stroke-linecap",dasharray:"stroke-dasharray",dashOffset:"stroke-dashoffset"},r={LineSymbolizer:[{Stroke:[{}]}]},n=Object.keys(t).filter((function(r){return"kind"!==r&&e[r]&&void 0!==t[r]&&null!==t[r]})).map((function(r){var n=t[r];return"dasharray"===r&&(n=t.dasharray?t.dasharray.join(" "):void 0),"join"===r&&"miter"===n&&(n="mitre"),{_:n,$:{name:e[r]}}})),o=t.perpendicularOffset;if(a(t,"graphicStroke"))if("Mark"===a(t,"graphicStroke.kind")){var i=this.getSldPointSymbolizerFromMarkSymbolizer(t.graphicStroke);r.LineSymbolizer[0].Stroke[0].GraphicStroke=[i.PointSymbolizer[0]]}else if("Icon"===a(t,"graphicStroke.kind")){i=this.getSldPointSymbolizerFromIconSymbolizer(t.graphicStroke);r.LineSymbolizer[0].Stroke[0].GraphicStroke=[i.PointSymbolizer[0]]}if(a(t,"graphicFill"))if("Mark"===a(t,"graphicFill.kind")){var s=this.getSldPointSymbolizerFromMarkSymbolizer(t.graphicFill);r.LineSymbolizer[0].Stroke[0].GraphicFill=[s.PointSymbolizer[0]]}else if("Icon"===a(t,"graphicFill.kind")){s=this.getSldPointSymbolizerFromIconSymbolizer(t.graphicFill);r.LineSymbolizer[0].Stroke[0].GraphicFill=[s.PointSymbolizer[0]]}return 0!==n.length&&(r.LineSymbolizer[0].Stroke[0].CssParameter=n),o&&(r.LineSymbolizer[0].PerpendicularOffset=[o]),r},t.prototype.getSldPointSymbolizerFromMarkSymbolizer=function(t){var e=[{WellKnownName:[t.wellKnownName.toLowerCase()]}];if(t.color||t.fillOpacity){var r=[];t.color&&r.push({_:t.color,$:{name:"fill"}}),t.fillOpacity&&r.push({_:t.fillOpacity,$:{name:"fill-opacity"}}),e[0].Fill=[{CssParameter:r}]}if(t.strokeColor||t.strokeWidth||t.strokeOpacity){e[0].Stroke=[{}];var n=[];t.strokeColor&&n.push({_:t.strokeColor,$:{name:"stroke"}}),t.strokeWidth&&n.push({_:t.strokeWidth.toString(),$:{name:"stroke-width"}}),t.strokeOpacity&&n.push({_:t.strokeOpacity.toString(),$:{name:"stroke-opacity"}}),e[0].Stroke[0].CssParameter=n}var o=[{Mark:e}];return t.opacity&&(o[0].Opacity=[t.opacity.toString()]),t.radius&&(o[0].Size=[(2*t.radius).toString()]),t.rotate&&(o[0].Rotation=[t.rotate.toString()]),{PointSymbolizer:[{Graphic:o}]}},t.prototype.getSldPointSymbolizerFromIconSymbolizer=function(t){var e=[{ExternalGraphic:[{OnlineResource:[{$:{"xlink:type":"simple","xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":t.image}}]}]}];if(t.image){var r=t.image.split(".").pop();switch(r){case"png":case"jpeg":case"gif":e[0].ExternalGraphic[0].Format=["image/"+r];break;case"jpg":e[0].ExternalGraphic[0].Format=["image/jpeg"];break;case"svg":e[0].ExternalGraphic[0].Format=["image/svg+xml"]}}return t.opacity&&(e[0].Opacity=t.opacity),t.size&&(e[0].Size=t.size),t.rotate&&(e[0].Rotation=t.rotate),{PointSymbolizer:[{Graphic:e}]}},t.prototype.getSldRasterSymbolizerFromRasterSymbolizer=function(t){var e,r,n,o,i=[{}];return void 0!==t.opacity&&(e=[t.opacity.toString()],i[0].Opacity=e),t.colorMap&&(r=this.getSldColorMapFromColorMap(t.colorMap),u(r[0])||(i[0].ColorMap=r)),t.channelSelection&&(n=this.getSldChannelSelectionFromChannelSelection(t.channelSelection),u(n[0])||(i[0].ChannelSelection=n)),t.contrastEnhancement&&(o=this.getSldContrastEnhancementFromContrastEnhancement(t.contrastEnhancement),u(o[0])||(i[0].ContrastEnhancement=o)),{RasterSymbolizer:i}},t.prototype.getSldColorMapFromColorMap=function(t){var e=[{$:{}}];if(t.type){var r=t.type;e[0].$.type=r}if(void 0!==t.extended){var n=t.extended.toString();e[0].$.extended=n}if(t.colorMapEntries&&t.colorMapEntries.length>0){var o=t.colorMapEntries.map((function(t){var e={$:{}};return t.color&&(e.$.color=t.color),void 0!==t.quantity&&(e.$.quantity=t.quantity.toString()),t.label&&(e.$.label=t.label),void 0!==t.opacity&&(e.$.opacity=t.opacity.toString()),e})).filter((function(t){return Object.keys(t.$).length>0}));e[0].ColorMapEntry=o}return e},t.prototype.getSldChannelSelectionFromChannelSelection=function(t){var e=this,r={redChannel:"RedChannel",blueChannel:"BlueChannel",greenChannel:"GreenChannel",grayChannel:"GrayChannel"},n=Object.keys(t),o=[{}];return n.forEach((function(n){var i=[{}],s=a(t,n+".sourceChannelName"),l=a(t,n+".contrastEnhancement");(s||l)&&(s&&(i[0].SourceChannelName=[s]),l&&(i[0].ContrastEnhancement=e.getSldContrastEnhancementFromContrastEnhancement(l)),o[0][r[n]]=i)})),o},t.prototype.getSldContrastEnhancementFromContrastEnhancement=function(t){var e=[{}],r=a(t,"enhancementType");return"normalize"===r?e[0].Normalize=[""]:"histogram"===r&&(e[0].Histogram=[""]),void 0!==t.gammaValue&&(e[0].GammaValue=[t.gammaValue.toString()]),e},t.prototype.getSldStrMatchesFunctionFromFunctionFilter=function(t){return{$:{name:"strMatches"},PropertyName:[t[1]],Literal:[t[2].toString().replace(/\//g,"")]}},t.prototype.getSldFunctionFilterFromFunctionFilter=function(t){switch(t[0].split("FN_")[1]){case"strMatches":return this.getSldStrMatchesFunctionFromFunctionFilter(t)}},t.prototype.getSldComparisonFilterFromComparisonFilter=function(e){var r,n,o,i={},s=e[0],a=e[1],l=e[2],u=t.keysByValue(t.comparisonMap,s),c=u.length>1&&null===l?u[1]:u[0],p="PropertyName";return Array.isArray(a)&&a[0].startsWith("FN_")&&(a=this.getSldFunctionFilterFromFunctionFilter(a),p="Function"),i[c]="PropertyIsNull"===c?[(r={},r[p]=[a],r)]:"PropertyIsLike"===c?[(n={$:{wildCard:"*",singleChar:".",escape:"!"}},n[p]=[a],n.Literal=[l],n)]:[(o={},o[p]=[a],o.Literal=[l],o)],i},t.prototype.getSldFilterFromFilter=function(e){var r=this,n={},o=e[0],i=e.slice(1);if(Object.values(t.comparisonMap).includes(o))n=this.getSldComparisonFilterFromComparisonFilter(e);else if(Object.values(t.combinationMap).includes(o)){var s=t.keysByValue(t.combinationMap,o)[0];n[s]=[{}],i.forEach((function(t,e){var o=r.getSldFilterFromFilter(t),i=Object.keys(o)[0];if("||"===t[0]||"&&"===t[0]){["And","Or"].includes(i)?(n[s][0][i]||(n[s][0][i]=[]),n[s][0][i][e]={}):n[s][0][i]={};var a=Object.keys(o)[0];t.forEach((function(t,o){if(o>0){var i=r.getSldFilterFromFilter(t),l=Object.keys(i)[0];n[s][0][a][e]||(n[s][0][a][e]={}),n[s][0][a][e][l]||(n[s][0][a][e][l]=[]),n[s][0][a][e][l].push(i[l][0])}}))}else Array.isArray(n[s][0][i])?n[s][0][i].push(o[i][0]):n[s][0][i]=o[i]}))}else Object.values(t.negationOperatorMap).includes(o)&&(n.Not=i.map((function(t){return r.getSldFilterFromFilter(t)})));return n},t.title="SLD Style Parser",t.negationOperatorMap={Not:"!"},t.combinationMap={And:"&&",Or:"||",PropertyIsBetween:"&&"},t.comparisonMap={PropertyIsEqualTo:"==",PropertyIsNotEqualTo:"!=",PropertyIsLike:"*=",PropertyIsLessThan:"<",PropertyIsLessThanOrEqualTo:"<=",PropertyIsGreaterThan:">",PropertyIsGreaterThanOrEqualTo:">=",PropertyIsNull:"=="},t}();e.SldStyleParser=c,e.default=c},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/bom.js":function(t,e){(function(){"use strict";e.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/builder.js":function(t,e,r){(function(){"use strict";var t,n,o,i,s,a={}.hasOwnProperty;t=r("./node_modules/xmlbuilder/lib/index.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/defaults.js").defaults,i=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},s=function(t){return"<![CDATA["+o(t)+"]]>"},o=function(t){return t.replace("]]>","]]]]><![CDATA[>")},e.Builder=function(){function e(t){var e,r,o;for(e in this.options={},r=n[.2])a.call(r,e)&&(o=r[e],this.options[e]=o);for(e in t)a.call(t,e)&&(o=t[e],this.options[e]=o)}return e.prototype.buildObject=function(e){var r,o,l,u,c,p;return r=this.options.attrkey,o=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===n[.2].rootName?e=e[c=Object.keys(e)[0]]:c=this.options.rootName,p=this,l=function(t,e){var n,u,c,h,d,f;if("object"!=typeof e)p.options.cdata&&i(e)?t.raw(s(e)):t.txt(e);else if(Array.isArray(e)){for(h in e)if(a.call(e,h))for(d in u=e[h])c=u[d],t=l(t.ele(d),c).up()}else for(d in e)if(a.call(e,d))if(u=e[d],d===r){if("object"==typeof u)for(n in u)f=u[n],t=t.att(n,f)}else if(d===o)t=p.options.cdata&&i(u)?t.raw(s(u)):t.txt(u);else if(Array.isArray(u))for(h in u)a.call(u,h)&&(t="string"==typeof(c=u[h])?p.options.cdata&&i(c)?t.ele(d).raw(s(c)).up():t.ele(d,c).up():l(t.ele(d),c).up());else"object"==typeof u?t=l(t.ele(d),u).up():"string"==typeof u&&p.options.cdata&&i(u)?t=t.ele(d).raw(s(u)).up():(null==u&&(u=""),t=t.ele(d,u.toString()).up());return t},u=t.create(c,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(u,e).end(this.options.renderOpts)},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/defaults.js":function(t,e){(function(){e.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/parser.js":function(t,e,r){(function(){"use strict";var t,n,o,i,s,a,l,u,c=function(t,e){return function(){return t.apply(e,arguments)}},p={}.hasOwnProperty;l=r("./node_modules/sax/lib/sax.js"),o=r("./node_modules/events/events.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/bom.js"),a=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/processors.js"),u=r("./node_modules/timers-browserify/main.js").setImmediate,n=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/defaults.js").defaults,i=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},s=function(t,e,r){var n,o;for(n=0,o=t.length;n<o;n++)e=(0,t[n])(e,r);return e},e.Parser=function(r){function o(t){var r,o,i;if(this.parseStringPromise=c(this.parseStringPromise,this),this.parseString=c(this.parseString,this),this.reset=c(this.reset,this),this.assignOrPush=c(this.assignOrPush,this),this.processAsync=c(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(r in this.options={},o=n[.2])p.call(o,r)&&(i=o[r],this.options[r]=i);for(r in t)p.call(t,r)&&(i=t[r],this.options[r]=i);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(t,e){for(var r in e)p.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,r),o.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),u(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},o.prototype.assignOrPush=function(t,e,r){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(r)):this.options.explicitArray?t[e]=[r]:t[e]=r},o.prototype.reset=function(){var t,e,r,n,o;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(o=this,function(t){if(o.saxParser.resume(),!o.saxParser.errThrown)return o.saxParser.errThrown=!0,o.emit("error",t)}),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,n=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(r){return function(o){var i,a,l,u,c;if((l={})[e]="",!r.options.ignoreAttrs)for(i in c=o.attributes)p.call(c,i)&&(t in l||r.options.mergeAttrs||(l[t]={}),a=r.options.attrValueProcessors?s(r.options.attrValueProcessors,o.attributes[i],i):o.attributes[i],u=r.options.attrNameProcessors?s(r.options.attrNameProcessors,i):i,r.options.mergeAttrs?r.assignOrPush(l,u,a):l[t][u]=a);return l["#name"]=r.options.tagNameProcessors?s(r.options.tagNameProcessors,o.name):o.name,r.options.xmlns&&(l[r.options.xmlnskey]={uri:o.uri,local:o.local}),n.push(l)}}(this),this.saxParser.onclosetag=function(t){return function(){var r,o,a,l,u,c,h,d,f,m;if(c=n.pop(),u=c["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete c["#name"],!0===c.cdata&&(r=c.cdata,delete c.cdata),f=n[n.length-1],c[e].match(/^\s*$/)&&!r?(o=c[e],delete c[e]):(t.options.trim&&(c[e]=c[e].trim()),t.options.normalize&&(c[e]=c[e].replace(/\s{2,}/g," ").trim()),c[e]=t.options.valueProcessors?s(t.options.valueProcessors,c[e],u):c[e],1===Object.keys(c).length&&e in c&&!t.EXPLICIT_CHARKEY&&(c=c[e])),i(c)&&(c=""!==t.options.emptyTag?t.options.emptyTag:o),null!=t.options.validator&&(m="/"+function(){var t,e,r;for(r=[],t=0,e=n.length;t<e;t++)l=n[t],r.push(l["#name"]);return r}().concat(u).join("/"),function(){var e;try{c=t.options.validator(m,f&&f[u],c)}catch(r){return e=r,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof c)if(t.options.preserveChildrenOrder){if(f){for(a in f[t.options.childkey]=f[t.options.childkey]||[],h={},c)p.call(c,a)&&(h[a]=c[a]);f[t.options.childkey].push(h),delete c["#name"],1===Object.keys(c).length&&e in c&&!t.EXPLICIT_CHARKEY&&(c=c[e])}}else l={},t.options.attrkey in c&&(l[t.options.attrkey]=c[t.options.attrkey],delete c[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in c&&(l[t.options.charkey]=c[t.options.charkey],delete c[t.options.charkey]),Object.getOwnPropertyNames(c).length>0&&(l[t.options.childkey]=c),c=l;return n.length>0?t.assignOrPush(f,u,c):(t.options.explicitRoot&&(d=c,(c={})[u]=d),t.resultObject=c,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),r=function(t){return function(r){var o,i;if(i=n[n.length-1])return i[e]+=r,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(i[t.options.childkey]=i[t.options.childkey]||[],(o={"#name":"__text__"})[e]=r,t.options.normalize&&(o[e]=o[e].replace(/\s{2,}/g," ").trim()),i[t.options.childkey].push(o)),i}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(t){var e;if(e=r(t))return e.cdata=!0}},o.prototype.parseString=function(e,r){var n;null!=r&&"function"==typeof r&&(this.on("end",(function(t){return this.reset(),r(null,t)})),this.on("error",(function(t){return this.reset(),r(t)})));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,u(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(t){if(n=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},o.prototype.parseStringPromise=function(t){return new Promise((e=this,function(r,n){return e.parseString(t,(function(t,e){return t?n(t):r(e)}))}));var e},o}(o),e.parseString=function(t,r,n){var o,i;return null!=n?("function"==typeof n&&(o=n),"object"==typeof r&&(i=r)):("function"==typeof r&&(o=r),i={}),new e.Parser(i).parseString(t,o)},e.parseStringPromise=function(t,r){var n;return"object"==typeof r&&(n=r),new e.Parser(n).parseStringPromise(t)}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/processors.js":function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),e.normalize=function(t){return t.toLowerCase()},e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.stripPrefix=function(e){return e.replace(t,"")},e.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},e.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/xml2js.js":function(t,e,r){(function(){"use strict";var t,n,o,i,s={}.hasOwnProperty;n=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/defaults.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/builder.js"),o=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/parser.js"),i=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/processors.js"),e.defaults=n.defaults,e.processors=i,e.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var r in e)s.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,Error),e}(),e.Builder=t.Builder,e.Parser=o.Parser,e.parseString=o.parseString,e.parseStringPromise=o.parseStringPromise}).call(this)},"./node_modules/lodash/_createFind.js":function(t,e,r){var n=r("./node_modules/lodash/_baseIteratee.js"),o=r("./node_modules/lodash/isArrayLike.js"),i=r("./node_modules/lodash/keys.js");t.exports=function(t){return function(e,r,s){var a=Object(e);if(!o(e)){var l=n(r,3);e=i(e),r=function(t){return l(a[t],t,a)}}var u=t(e,r,s);return u>-1?a[l?e[u]:u]:void 0}}},"./node_modules/lodash/castArray.js":function(t,e,r){var n=r("./node_modules/lodash/isArray.js");t.exports=function(){if(!arguments.length)return[];var t=arguments[0];return n(t)?t:[t]}},"./node_modules/lodash/find.js":function(t,e,r){var n=r("./node_modules/lodash/_createFind.js")(r("./node_modules/lodash/findIndex.js"));t.exports=n},"./node_modules/lodash/findIndex.js":function(t,e,r){var n=r("./node_modules/lodash/_baseFindIndex.js"),o=r("./node_modules/lodash/_baseIteratee.js"),i=r("./node_modules/lodash/toInteger.js"),s=Math.max;t.exports=function(t,e,r){var a=null==t?0:t.length;if(!a)return-1;var l=null==r?0:i(r);return l<0&&(l=s(a+l,0)),n(t,o(e,3),l)}},"./node_modules/lodash/isNil.js":function(t,e){t.exports=function(t){return null==t}},"./node_modules/lodash/isNumber.js":function(t,e,r){var n=r("./node_modules/lodash/_baseGetTag.js"),o=r("./node_modules/lodash/isObjectLike.js");t.exports=function(t){return"number"==typeof t||o(t)&&"[object Number]"==n(t)}},"./node_modules/lodash/isString.js":function(t,e,r){var n=r("./node_modules/lodash/_baseGetTag.js"),o=r("./node_modules/lodash/isArray.js"),i=r("./node_modules/lodash/isObjectLike.js");t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==n(t)}},"./node_modules/xmlbuilder/lib/DocumentPosition.js":function(t,e){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},"./node_modules/xmlbuilder/lib/NodeType.js":function(t,e){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},"./node_modules/xmlbuilder/lib/Utility.js":function(t,e){(function(){var e,r,n,o,i,s,a,l=[].slice,u={}.hasOwnProperty;e=function(){var t,e,r,n,o,s;if(s=arguments[0],o=2<=arguments.length?l.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(t=0,r=o.length;t<r;t++)if(null!=(n=o[t]))for(e in n)u.call(n,e)&&(s[e]=n[e]);return s},i=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},s=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},n=function(t){return i(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o=function(t){var e;if(n(t))return!t.length;for(e in t)if(u.call(t,e))return!1;return!0},a=function(t){var e,r;return s(t)&&(r=Object.getPrototypeOf(t))&&(e=r.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},r=function(t){return i(t.valueOf)?t.valueOf():t},t.exports.assign=e,t.exports.isFunction=i,t.exports.isObject=s,t.exports.isArray=n,t.exports.isEmpty=o,t.exports.isPlainObject=a,t.exports.getValue=r}).call(this)},"./node_modules/xmlbuilder/lib/WriterState.js":function(t,e){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},"./node_modules/xmlbuilder/lib/XMLAttribute.js":function(t,e,r){(function(){var e;e=r("./node_modules/xmlbuilder/lib/NodeType.js"),r("./node_modules/xmlbuilder/lib/XMLNode.js"),t.exports=function(){function t(t,r,n){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==r)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(n),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},t.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&(t.prefix===this.prefix&&(t.localName===this.localName&&t.value===this.value))},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLCData.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r("./node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/xmlbuilder/lib/XMLCharacterData.js"),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(n)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLCharacterData.js":function(t,e,r){(function(){var e,n={}.hasOwnProperty;e=r("./node_modules/xmlbuilder/lib/XMLNode.js"),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t),this.value=""}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.replaceData=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(t){return!!e.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},e}(e)}).call(this)},"./node_modules/xmlbuilder/lib/XMLComment.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r("./node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/xmlbuilder/lib/XMLCharacterData.js"),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(n)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLDOMConfiguration.js":function(t,e,r){(function(){var e,n;e=r("./node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js"),n=r("./node_modules/xmlbuilder/lib/XMLDOMStringList.js"),t.exports=function(){function t(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}}),t.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},t.prototype.canSetParameter=function(t,e){return!0},t.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js":function(t,e){(function(){t.exports=function(){function t(){}return t.prototype.handleError=function(t){throw new Error(t)},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLDOMImplementation.js":function(t,e){(function(){t.exports=function(){function t(){}return t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,r){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,r){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLDOMStringList.js":function(t,e){(function(){t.exports=function(){function t(t){this.arr=t||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return-1!==this.arr.indexOf(t)},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLDTDAttList.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;n=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),t.exports=function(t){function r(t,n,o,i,s,a){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw new Error("Missing DTD attribute name. "+this.debugInfo(n));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(n));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(n));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(n));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(n));this.elementName=this.stringify.name(n),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(i),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLDTDElement.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;n=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(n),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLDTDEntity.js":function(t,e,r){(function(){var e,n,o,i={}.hasOwnProperty;o=r("./node_modules/xmlbuilder/lib/Utility.js").isObject,n=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),t.exports=function(t){function r(t,n,i,s){if(r.__super__.constructor.call(this,t),null==i)throw new Error("Missing DTD entity name. "+this.debugInfo(i));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(i));if(this.pe=!!n,this.name=this.stringify.name(i),this.type=e.EntityDeclaration,o(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(i));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(i));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(i))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return null}}),r.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLDTDNotation.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;n=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD notation name. "+this.debugInfo(n));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(n));this.name=this.stringify.name(n),this.type=e.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLDeclaration.js":function(t,e,r){(function(){var e,n,o,i={}.hasOwnProperty;o=r("./node_modules/xmlbuilder/lib/Utility.js").isObject,n=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),t.exports=function(t){function r(t,n,i,s){var a;r.__super__.constructor.call(this,t),o(n)&&(n=(a=n).version,i=a.encoding,s=a.standalone),n||(n="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(n),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLDocType.js":function(t,e,r){(function(){var e,n,o,i,s,a,l,u,c={}.hasOwnProperty;u=r("./node_modules/xmlbuilder/lib/Utility.js").isObject,l=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/xmlbuilder/lib/XMLDTDAttList.js"),i=r("./node_modules/xmlbuilder/lib/XMLDTDEntity.js"),o=r("./node_modules/xmlbuilder/lib/XMLDTDElement.js"),s=r("./node_modules/xmlbuilder/lib/XMLDTDNotation.js"),a=r("./node_modules/xmlbuilder/lib/XMLNamedNodeMap.js"),t.exports=function(t){function r(t,n,o){var i,s,a,l,c,p;if(r.__super__.constructor.call(this,t),this.type=e.DocType,t.children)for(s=0,a=(l=t.children).length;s<a;s++)if((i=l[s]).type===e.Element){this.name=i.name;break}this.documentObject=t,u(n)&&(n=(c=n).pubID,o=c.sysID),null==o&&(o=(p=[n,o])[0],n=p[1]),null!=n&&(this.pubID=this.stringify.dtdPubID(n)),null!=o&&(this.sysID=this.stringify.dtdSysID(o))}return function(t,e){for(var r in e)c.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"entities",{get:function(){var t,r,n,o,i;for(o={},r=0,n=(i=this.children).length;r<n;r++)(t=i[r]).type!==e.EntityDeclaration||t.pe||(o[t.name]=t);return new a(o)}}),Object.defineProperty(r.prototype,"notations",{get:function(){var t,r,n,o,i;for(o={},r=0,n=(i=this.children).length;r<n;r++)(t=i[r]).type===e.NotationDeclaration&&(o[t.name]=t);return new a(o)}}),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),r.prototype.element=function(t,e){var r;return r=new o(this,t,e),this.children.push(r),this},r.prototype.attList=function(t,e,r,o,i){var s;return s=new n(this,t,e,r,o,i),this.children.push(s),this},r.prototype.entity=function(t,e){var r;return r=new i(this,!1,t,e),this.children.push(r),this},r.prototype.pEntity=function(t,e){var r;return r=new i(this,!0,t,e),this.children.push(r),this},r.prototype.notation=function(t,e){var r;return r=new s(this,t,e),this.children.push(r),this},r.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},r.prototype.ele=function(t,e){return this.element(t,e)},r.prototype.att=function(t,e,r,n,o){return this.attList(t,e,r,n,o)},r.prototype.ent=function(t,e){return this.entity(t,e)},r.prototype.pent=function(t,e){return this.pEntity(t,e)},r.prototype.not=function(t,e){return this.notation(t,e)},r.prototype.up=function(){return this.root()||this.documentObject},r.prototype.isEqualNode=function(t){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&(t.name===this.name&&(t.publicId===this.publicId&&t.systemId===this.systemId))},r}(l)}).call(this)},"./node_modules/xmlbuilder/lib/XMLDocument.js":function(t,e,r){(function(){var e,n,o,i,s,a,l,u={}.hasOwnProperty;l=r("./node_modules/xmlbuilder/lib/Utility.js").isPlainObject,o=r("./node_modules/xmlbuilder/lib/XMLDOMImplementation.js"),n=r("./node_modules/xmlbuilder/lib/XMLDOMConfiguration.js"),i=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),a=r("./node_modules/xmlbuilder/lib/XMLStringifier.js"),s=r("./node_modules/xmlbuilder/lib/XMLStringWriter.js"),t.exports=function(t){function r(t){r.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new n,t||(t={}),t.writer||(t.writer=new s),this.options=t,this.stringify=new a(t)}return function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"implementation",{value:new o}),Object.defineProperty(r.prototype,"doctype",{get:function(){var t,r,n,o;for(r=0,n=(o=this.children).length;r<n;r++)if((t=o[r]).type===e.DocType)return t;return null}}),Object.defineProperty(r.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(r.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(r.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(r.prototype,"origin",{get:function(){return null}}),Object.defineProperty(r.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(r.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(r.prototype,"contentType",{get:function(){return null}}),r.prototype.end=function(t){var e;return e={},t?l(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},r.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},r.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.renameNode=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createNodeIterator=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTreeWalker=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(i)}).call(this)},"./node_modules/xmlbuilder/lib/XMLDocumentCB.js":function(t,e,r){(function(){var e,n,o,i,s,a,l,u,c,p,h,d,f,m,y,g,b,v,w,S,x,E,O,_={}.hasOwnProperty;O=r("./node_modules/xmlbuilder/lib/Utility.js"),x=O.isObject,S=O.isFunction,E=O.isPlainObject,w=O.getValue,e=r("./node_modules/xmlbuilder/lib/NodeType.js"),d=r("./node_modules/xmlbuilder/lib/XMLDocument.js"),f=r("./node_modules/xmlbuilder/lib/XMLElement.js"),i=r("./node_modules/xmlbuilder/lib/XMLCData.js"),s=r("./node_modules/xmlbuilder/lib/XMLComment.js"),y=r("./node_modules/xmlbuilder/lib/XMLRaw.js"),v=r("./node_modules/xmlbuilder/lib/XMLText.js"),m=r("./node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"),p=r("./node_modules/xmlbuilder/lib/XMLDeclaration.js"),h=r("./node_modules/xmlbuilder/lib/XMLDocType.js"),a=r("./node_modules/xmlbuilder/lib/XMLDTDAttList.js"),u=r("./node_modules/xmlbuilder/lib/XMLDTDEntity.js"),l=r("./node_modules/xmlbuilder/lib/XMLDTDElement.js"),c=r("./node_modules/xmlbuilder/lib/XMLDTDNotation.js"),o=r("./node_modules/xmlbuilder/lib/XMLAttribute.js"),b=r("./node_modules/xmlbuilder/lib/XMLStringifier.js"),g=r("./node_modules/xmlbuilder/lib/XMLStringWriter.js"),n=r("./node_modules/xmlbuilder/lib/WriterState.js"),t.exports=function(){function t(t,r,n){var o;this.name="?xml",this.type=e.Document,t||(t={}),o={},t.writer?E(t.writer)&&(o=t.writer,t.writer=new g):t.writer=new g,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new b(t),this.onDataCallback=r||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.createChildNode=function(t){var r,n,o,i,s,a,l,u;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:for(n in o={},l=t.attribs)_.call(l,n)&&(r=l[n],o[n]=r.value);this.node(t.name,o);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(s=0,a=(u=t.children).length;s<a;s++)i=u[s],this.createChildNode(i),i.type===e.Element&&this.up();return this},t.prototype.dummy=function(){return this},t.prototype.node=function(t,e,r){var n;if(null==t)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=w(t),null==e&&(e={}),e=w(e),x(e)||(r=(n=[e,r])[0],e=n[1]),this.currentNode=new f(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},t.prototype.element=function(t,r,n){var o,i,s,a,l,u;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||x(t)||S(t))for(a=this.options.noValidation,this.options.noValidation=!0,(u=new d(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=a,i=0,s=(l=u.children).length;i<s;i++)o=l[i],this.createChildNode(o),o.type===e.Element&&this.up();else this.node(t,r,n);return this},t.prototype.attribute=function(t,e){var r,n;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=w(t)),x(t))for(r in t)_.call(t,r)&&(n=t[r],this.attribute(r,n));else S(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new o(this,t,""):null!=e&&(this.currentNode.attribs[t]=new o(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new v(this,t),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new i(this,t),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new s(this,t),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new y(this,t),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.instruction=function(t,e){var r,n,o,i,s;if(this.openCurrent(),null!=t&&(t=w(t)),null!=e&&(e=w(e)),Array.isArray(t))for(r=0,i=t.length;r<i;r++)n=t[r],this.instruction(n);else if(x(t))for(n in t)_.call(t,n)&&(o=t[n],this.instruction(n,o));else S(e)&&(e=e.apply()),s=new m(this,t,e),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},t.prototype.declaration=function(t,e,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return n=new p(this,t,e,r),this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.doctype=function(t,e,r){if(this.openCurrent(),null==t)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,e,r),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var r;return this.openCurrent(),r=new l(this,t,e),this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.attList=function(t,e,r,n,o){var i;return this.openCurrent(),i=new a(this,t,e,r,n,o),this.onData(this.writer.dtdAttList(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.entity=function(t,e){var r;return this.openCurrent(),r=new u(this,!1,t,e),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.pEntity=function(t,e){var r;return this.openCurrent(),r=new u(this,!0,t,e),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.notation=function(t,e){var r;return this.openCurrent(),r=new c(this,t,e),this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){var r,o,i,s;if(!t.isOpen){if(this.root||0!==this.currentLevel||t.type!==e.Element||(this.root=t),o="",t.type===e.Element){for(i in this.writerOptions.state=n.OpenTag,o=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name,s=t.attribs)_.call(s,i)&&(r=s[i],o+=this.writer.attribute(r,this.writerOptions,this.currentLevel));o+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=n.InsideTag}else this.writerOptions.state=n.OpenTag,o=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.children?(o+=" [",this.writerOptions.state=n.InsideTag):(this.writerOptions.state=n.CloseTag,o+=">"),o+=this.writer.endline(t,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),t.isOpen=!0}},t.prototype.closeNode=function(t){var r;if(!t.isClosed)return r="",this.writerOptions.state=n.CloseTag,r=t.type===e.Element?this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel):this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=n.None,this.onData(r,this.currentLevel),t.isClosed=!0},t.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.dtd=function(t,e,r){return this.doctype(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLDummy.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;n=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),t.exports=function(t){function r(t){r.__super__.constructor.call(this,t),this.type=e.Dummy}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return""},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLElement.js":function(t,e,r){(function(){var e,n,o,i,s,a,l,u,c={}.hasOwnProperty;u=r("./node_modules/xmlbuilder/lib/Utility.js"),l=u.isObject,a=u.isFunction,s=u.getValue,i=r("./node_modules/xmlbuilder/lib/XMLNode.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/xmlbuilder/lib/XMLAttribute.js"),o=r("./node_modules/xmlbuilder/lib/XMLNamedNodeMap.js"),t.exports=function(t){function r(t,n,o){var i,s,a,l;if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(n),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,null!=o&&this.attribute(o),t.type===e.Document&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this,t.children))for(s=0,a=(l=t.children).length;s<a;s++)if((i=l[s]).type===e.DocType){i.name=this.name;break}}return function(t,e){for(var r in e)c.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(r.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(r.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new o(this.attribs)),this.attributeMap}}),r.prototype.clone=function(){var t,e,r,n;for(e in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attribs={},n=this.attribs)c.call(n,e)&&(t=n[e],r.attribs[e]=t.clone());return r.children=[],this.children.forEach((function(t){var e;return(e=t.clone()).parent=r,r.children.push(e)})),r},r.prototype.attribute=function(t,e){var r,o;if(null!=t&&(t=s(t)),l(t))for(r in t)c.call(t,r)&&(o=t[r],this.attribute(r,o));else a(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.attribs[t]=new n(this,t,""):null!=e&&(this.attribs[t]=new n(this,t,e));return this},r.prototype.removeAttribute=function(t){var e,r,n;if(null==t)throw new Error("Missing attribute name. "+this.debugInfo());if(t=s(t),Array.isArray(t))for(r=0,n=t.length;r<n;r++)e=t[r],delete this.attribs[e];else delete this.attribs[t];return this},r.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},r.prototype.att=function(t,e){return this.attribute(t,e)},r.prototype.a=function(t,e){return this.attribute(t,e)},r.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},r.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},r.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNS=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},r.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},r.prototype.setIdAttributeNS=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isEqualNode=function(t){var e,n,o;if(!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t))return!1;if(t.namespaceURI!==this.namespaceURI)return!1;if(t.prefix!==this.prefix)return!1;if(t.localName!==this.localName)return!1;if(t.attribs.length!==this.attribs.length)return!1;for(e=n=0,o=this.attribs.length-1;0<=o?n<=o:n>=o;e=0<=o?++n:--n)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},r}(i)}).call(this)},"./node_modules/xmlbuilder/lib/XMLNamedNodeMap.js":function(t,e){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e;return e=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e;return e=this.nodes[t],delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLNode.js":function(t,e,r){(function(){var e,n,o,i,s,a,l,u,c,p,h,d,f,m,y,g,b,v={}.hasOwnProperty;b=r("./node_modules/xmlbuilder/lib/Utility.js"),g=b.isObject,y=b.isFunction,m=b.isEmpty,f=b.getValue,u=null,o=null,i=null,s=null,a=null,h=null,d=null,p=null,l=null,n=null,c=null,e=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=r("./node_modules/xmlbuilder/lib/XMLElement.js"),o=r("./node_modules/xmlbuilder/lib/XMLCData.js"),i=r("./node_modules/xmlbuilder/lib/XMLComment.js"),s=r("./node_modules/xmlbuilder/lib/XMLDeclaration.js"),a=r("./node_modules/xmlbuilder/lib/XMLDocType.js"),h=r("./node_modules/xmlbuilder/lib/XMLRaw.js"),d=r("./node_modules/xmlbuilder/lib/XMLText.js"),p=r("./node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"),l=r("./node_modules/xmlbuilder/lib/XMLDummy.js"),n=r("./node_modules/xmlbuilder/lib/NodeType.js"),c=r("./node_modules/xmlbuilder/lib/XMLNodeList.js"),r("./node_modules/xmlbuilder/lib/XMLNamedNodeMap.js"),e=r("./node_modules/xmlbuilder/lib/DocumentPosition.js"))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new c(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var t,e,r,o,i;if(this.nodeType===n.Element||this.nodeType===n.DocumentFragment){for(i="",e=0,r=(o=this.children).length;e<r;e++)(t=o[e]).textContent&&(i+=t.textContent);return i}return null},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(t){var e,r,n,o,i;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),i=[],r=0,n=(o=this.children).length;r<n;r++)e=o[r],i.push(e.setParent(this));return i},t.prototype.element=function(t,e,r){var n,o,i,s,a,l,u,c,p,h,d;if(l=null,null===e&&null==r&&(e=(p=[{},null])[0],r=p[1]),null==e&&(e={}),e=f(e),g(e)||(r=(h=[e,r])[0],e=h[1]),null!=t&&(t=f(t)),Array.isArray(t))for(i=0,u=t.length;i<u;i++)o=t[i],l=this.element(o);else if(y(t))l=this.element(t.apply());else if(g(t)){for(a in t)if(v.call(t,a))if(d=t[a],y(d)&&(d=d.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))l=this.attribute(a.substr(this.stringify.convertAttKey.length),d);else if(!this.options.separateArrayItems&&Array.isArray(d)&&m(d))l=this.dummy();else if(g(d)&&m(d))l=this.element(a);else if(this.options.keepNullNodes||null!=d)if(!this.options.separateArrayItems&&Array.isArray(d))for(s=0,c=d.length;s<c;s++)o=d[s],(n={})[a]=o,l=this.element(n);else g(d)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?l=this.element(d):(l=this.element(a)).element(d):l=this.element(a,d);else l=this.dummy()}else l=this.options.keepNullNodes||null!==r?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),r):this.node(t,e,r):this.dummy();if(null==l)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return l},t.prototype.insertBefore=function(t,e,r){var n,o,i,s,a;if(null!=t?t.type:void 0)return s=e,(i=t).setParent(this),s?(o=children.indexOf(s),a=children.splice(o),children.push(i),Array.prototype.push.apply(children,a)):children.push(i),i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return o=this.parent.children.indexOf(this),a=this.parent.children.splice(o),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,a),n},t.prototype.insertAfter=function(t,e,r){var n,o,i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return o=this.parent.children.indexOf(this),i=this.parent.children.splice(o+1),n=this.parent.element(t,e,r),Array.prototype.push.apply(this.parent.children,i),n},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,r){var n,o;return null!=t&&(t=f(t)),e||(e={}),e=f(e),g(e)||(r=(o=[e,r])[0],e=o[1]),n=new u(this,t,e),null!=r&&n.text(r),this.children.push(n),n},t.prototype.text=function(t){var e;return g(t)&&this.element(t),e=new d(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new o(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new i(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.commentAfter=function(t){var e,r;return e=this.parent.children.indexOf(this),r=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.raw=function(t){var e;return e=new h(this,t),this.children.push(e),this},t.prototype.dummy=function(){return new l(this)},t.prototype.instruction=function(t,e){var r,n,o,i,s;if(null!=t&&(t=f(t)),null!=e&&(e=f(e)),Array.isArray(t))for(i=0,s=t.length;i<s;i++)r=t[i],this.instruction(r);else if(g(t))for(r in t)v.call(t,r)&&(n=t[r],this.instruction(r,n));else y(e)&&(e=e.apply()),o=new p(this,t,e),this.children.push(o);return this},t.prototype.instructionBefore=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.instructionAfter=function(t,e){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.declaration=function(t,e,r){var o,i;return o=this.document(),i=new s(o,t,e,r),0===o.children.length?o.children.unshift(i):o.children[0].type===n.Declaration?o.children[0]=i:o.children.unshift(i),o.root()||o},t.prototype.dtd=function(t,e){var r,o,i,s,l,u,c,p,h;for(r=this.document(),o=new a(r,t,e),i=s=0,u=(p=r.children).length;s<u;i=++s)if(p[i].type===n.DocType)return r.children[i]=o,o;for(i=l=0,c=(h=r.children).length;l<c;i=++l)if(h[i].isRoot)return r.children.splice(i,0,o),o;return r.children.push(o),o},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.type===n.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.type===n.Document)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.debugInfo=function(t){var e,r;return null!=(t=t||this.name)||(null!=(e=this.parent)?e.name:void 0)?null==t?"parent: <"+this.parent.name+">":(null!=(r=this.parent)?r.name:void 0)?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},t.prototype.ele=function(t,e,r){return this.element(t,e,r)},t.prototype.nod=function(t,e,r){return this.node(t,e,r)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,r){return this.declaration(t,e,r)},t.prototype.e=function(t,e,r){return this.element(t,e,r)},t.prototype.n=function(t,e,r){return this.node(t,e,r)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(t,e){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(t){var r;return this,this===t?0:this.document()!==t.document()?(r=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?r|=e.Preceding:r|=e.Following,r):this.isAncestor(t)?e.Contains|e.Preceding:this.isDescendant(t)?e.Contains|e.Following:this.isPreceding(t)?e.Preceding:e.Following},t.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(t){var e,r,n;if(t.nodeType!==this.nodeType)return!1;if(t.children.length!==this.children.length)return!1;for(e=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;e=0<=n?++r:--r)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(t,e,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},t.prototype.isDescendant=function(t){var e,r,n,o;for(r=0,n=(o=this.children).length;r<n;r++){if(t===(e=o[r]))return!0;if(e.isDescendant(t))return!0}return!1},t.prototype.isAncestor=function(t){return t.isDescendant(this)},t.prototype.isPreceding=function(t){var e,r;return e=this.treePosition(t),r=this.treePosition(this),-1!==e&&-1!==r&&e<r},t.prototype.isFollowing=function(t){var e,r;return e=this.treePosition(t),r=this.treePosition(this),-1!==e&&-1!==r&&e>r},t.prototype.treePosition=function(t){var e,r;return r=0,e=!1,this.foreachTreeNode(this.document(),(function(n){if(r++,!e&&n===t)return e=!0})),e?r:-1},t.prototype.foreachTreeNode=function(t,e){var r,n,o,i,s;for(t||(t=this.document()),n=0,o=(i=t.children).length;n<o;n++){if(s=e(r=i[n]))return s;if(s=this.foreachTreeNode(r,e))return s}},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLNodeList.js":function(t,e){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLProcessingInstruction.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r("./node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/xmlbuilder/lib/XMLCharacterData.js"),t.exports=function(t){function r(t,n,o){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(n),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},r.prototype.isEqualNode=function(t){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLRaw.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r("./node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/xmlbuilder/lib/XMLNode.js"),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(n)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLStreamWriter.js":function(t,e,r){(function(){var e,n,o,i={}.hasOwnProperty;e=r("./node_modules/xmlbuilder/lib/NodeType.js"),o=r("./node_modules/xmlbuilder/lib/XMLWriterBase.js"),n=r("./node_modules/xmlbuilder/lib/WriterState.js"),t.exports=function(t){function r(t,e){this.stream=t,r.__super__.constructor.call(this,e)}return function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),r.prototype.endline=function(t,e,o){return t.isLastRootNode&&e.state===n.CloseTag?"":r.__super__.endline.call(this,t,e,o)},r.prototype.document=function(t,e){var r,n,o,i,s,a,l,u,c;for(n=o=0,s=(l=t.children).length;o<s;n=++o)(r=l[n]).isLastRootNode=n===t.children.length-1;for(e=this.filterOptions(e),c=[],i=0,a=(u=t.children).length;i<a;i++)r=u[i],c.push(this.writeChildNode(r,e,0));return c},r.prototype.attribute=function(t,e,n){return this.stream.write(r.__super__.attribute.call(this,t,e,n))},r.prototype.cdata=function(t,e,n){return this.stream.write(r.__super__.cdata.call(this,t,e,n))},r.prototype.comment=function(t,e,n){return this.stream.write(r.__super__.comment.call(this,t,e,n))},r.prototype.declaration=function(t,e,n){return this.stream.write(r.__super__.declaration.call(this,t,e,n))},r.prototype.docType=function(t,e,r){var o,i,s,a;if(r||(r=0),this.openNode(t,e,r),e.state=n.OpenTag,this.stream.write(this.indent(t,e,r)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t,e,r)),e.state=n.InsideTag,i=0,s=(a=t.children).length;i<s;i++)o=a[i],this.writeChildNode(o,e,r+1);e.state=n.CloseTag,this.stream.write("]")}return e.state=n.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(t,e,r)),e.state=n.None,this.closeNode(t,e,r)},r.prototype.element=function(t,r,o){var s,a,l,u,c,p,h,d,f;for(h in o||(o=0),this.openNode(t,r,o),r.state=n.OpenTag,this.stream.write(this.indent(t,r,o)+"<"+t.name),d=t.attribs)i.call(d,h)&&(s=d[h],this.attribute(s,r,o));if(u=0===(l=t.children.length)?null:t.children[0],0===l||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))r.allowEmpty?(this.stream.write(">"),r.state=n.CloseTag,this.stream.write("</"+t.name+">")):(r.state=n.CloseTag,this.stream.write(r.spaceBeforeSlash+"/>"));else if(!r.pretty||1!==l||u.type!==e.Text&&u.type!==e.Raw||null==u.value){for(this.stream.write(">"+this.endline(t,r,o)),r.state=n.InsideTag,c=0,p=(f=t.children).length;c<p;c++)a=f[c],this.writeChildNode(a,r,o+1);r.state=n.CloseTag,this.stream.write(this.indent(t,r,o)+"</"+t.name+">")}else this.stream.write(">"),r.state=n.InsideTag,r.suppressPrettyCount++,!0,this.writeChildNode(u,r,o+1),r.suppressPrettyCount--,!1,r.state=n.CloseTag,this.stream.write("</"+t.name+">");return this.stream.write(this.endline(t,r,o)),r.state=n.None,this.closeNode(t,r,o)},r.prototype.processingInstruction=function(t,e,n){return this.stream.write(r.__super__.processingInstruction.call(this,t,e,n))},r.prototype.raw=function(t,e,n){return this.stream.write(r.__super__.raw.call(this,t,e,n))},r.prototype.text=function(t,e,n){return this.stream.write(r.__super__.text.call(this,t,e,n))},r.prototype.dtdAttList=function(t,e,n){return this.stream.write(r.__super__.dtdAttList.call(this,t,e,n))},r.prototype.dtdElement=function(t,e,n){return this.stream.write(r.__super__.dtdElement.call(this,t,e,n))},r.prototype.dtdEntity=function(t,e,n){return this.stream.write(r.__super__.dtdEntity.call(this,t,e,n))},r.prototype.dtdNotation=function(t,e,n){return this.stream.write(r.__super__.dtdNotation.call(this,t,e,n))},r}(o)}).call(this)},"./node_modules/xmlbuilder/lib/XMLStringWriter.js":function(t,e,r){(function(){var e,n={}.hasOwnProperty;e=r("./node_modules/xmlbuilder/lib/XMLWriterBase.js"),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(e,t),e.prototype.document=function(t,e){var r,n,o,i,s;for(e=this.filterOptions(e),i="",n=0,o=(s=t.children).length;n<o;n++)r=s[n],i+=this.writeChildNode(r,e,0);return e.pretty&&i.slice(-e.newline.length)===e.newline&&(i=i.slice(0,-e.newline.length)),i},e}(e)}).call(this)},"./node_modules/xmlbuilder/lib/XMLStringifier.js":function(t,e){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty;t.exports=function(){function t(t){var n,o,i;for(n in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),o=t.stringify||{})r.call(o,n)&&(i=o[n],this[n]=i)}return t.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},t.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},t.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},t.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},t.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},t.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},t.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return this.assertLegalChar(t)},t.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},t.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e,r;if(this.options.noValidation)return t;if(e="","1.0"===this.options.version){if(e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=t.match(e))throw new Error("Invalid character in string: "+t+" at index "+r.index)}else if("1.1"===this.options.version&&(e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=t.match(e)))throw new Error("Invalid character in string: "+t+" at index "+r.index);return t},t.prototype.assertLegalName=function(t){var e;if(this.options.noValidation)return t;if(this.assertLegalChar(t),e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!t.match(e))throw new Error("Invalid character in name");return t},t.prototype.textEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(this)},"./node_modules/xmlbuilder/lib/XMLText.js":function(t,e,r){(function(){var e,n,o={}.hasOwnProperty;e=r("./node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/xmlbuilder/lib/XMLCharacterData.js"),t.exports=function(t){function r(t,n){if(r.__super__.constructor.call(this,t),null==n)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(n)}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(r,t),Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){var t,e,r;for(r="",e=this.previousSibling;e;)r=e.data+r,e=e.previousSibling;for(r+=this.data,t=this.nextSibling;t;)r+=t.data,t=t.nextSibling;return r}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},r.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(n)}).call(this)},"./node_modules/xmlbuilder/lib/XMLWriterBase.js":function(t,e,r){(function(){var e,n,o,i={}.hasOwnProperty;o=r("./node_modules/xmlbuilder/lib/Utility.js").assign,e=r("./node_modules/xmlbuilder/lib/NodeType.js"),r("./node_modules/xmlbuilder/lib/XMLDeclaration.js"),r("./node_modules/xmlbuilder/lib/XMLDocType.js"),r("./node_modules/xmlbuilder/lib/XMLCData.js"),r("./node_modules/xmlbuilder/lib/XMLComment.js"),r("./node_modules/xmlbuilder/lib/XMLElement.js"),r("./node_modules/xmlbuilder/lib/XMLRaw.js"),r("./node_modules/xmlbuilder/lib/XMLText.js"),r("./node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"),r("./node_modules/xmlbuilder/lib/XMLDummy.js"),r("./node_modules/xmlbuilder/lib/XMLDTDAttList.js"),r("./node_modules/xmlbuilder/lib/XMLDTDElement.js"),r("./node_modules/xmlbuilder/lib/XMLDTDEntity.js"),r("./node_modules/xmlbuilder/lib/XMLDTDNotation.js"),n=r("./node_modules/xmlbuilder/lib/WriterState.js"),t.exports=function(){function t(t){var e,r,n;for(e in t||(t={}),this.options=t,r=t.writer||{})i.call(r,e)&&(n=r[e],this["_"+e]=this[e],this[e]=n)}return t.prototype.filterOptions=function(t){var e,r,i,s,a,l,u,c;return t||(t={}),t=o({},this.options,t),(e={writer:this}).pretty=t.pretty||!1,e.allowEmpty=t.allowEmpty||!1,e.indent=null!=(r=t.indent)?r:"  ",e.newline=null!=(i=t.newline)?i:"\n",e.offset=null!=(s=t.offset)?s:0,e.dontPrettyTextNodes=null!=(a=null!=(l=t.dontPrettyTextNodes)?l:t.dontprettytextnodes)?a:0,e.spaceBeforeSlash=null!=(u=null!=(c=t.spaceBeforeSlash)?c:t.spacebeforeslash)?u:"",!0===e.spaceBeforeSlash&&(e.spaceBeforeSlash=" "),e.suppressPrettyCount=0,e.user={},e.state=n.None,e},t.prototype.indent=function(t,e,r){var n;return!e.pretty||e.suppressPrettyCount?"":e.pretty&&(n=(r||0)+e.offset+1)>0?new Array(n).join(e.indent):""},t.prototype.endline=function(t,e,r){return!e.pretty||e.suppressPrettyCount?"":e.newline},t.prototype.attribute=function(t,e,r){var n;return this.openAttribute(t,e,r),n=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,r),n},t.prototype.cdata=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<![CDATA[",e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+="]]>"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.comment=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"\x3c!-- ",e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=" --\x3e"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.declaration=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<?xml",e.state=n.InsideTag,o+=' version="'+t.version+'"',null!=t.encoding&&(o+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(o+=' standalone="'+t.standalone+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+"?>",o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.docType=function(t,e,r){var o,i,s,a,l;if(r||(r=0),this.openNode(t,e,r),e.state=n.OpenTag,a=this.indent(t,e,r),a+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?a+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(a+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(a+=" [",a+=this.endline(t,e,r),e.state=n.InsideTag,i=0,s=(l=t.children).length;i<s;i++)o=l[i],a+=this.writeChildNode(o,e,r+1);e.state=n.CloseTag,a+="]"}return e.state=n.CloseTag,a+=e.spaceBeforeSlash+">",a+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),a},t.prototype.element=function(t,r,o){var s,a,l,u,c,p,h,d,f,m,y,g,b,v;for(f in o||(o=0),m=!1,y="",this.openNode(t,r,o),r.state=n.OpenTag,y+=this.indent(t,r,o)+"<"+t.name,g=t.attribs)i.call(g,f)&&(s=g[f],y+=this.attribute(s,r,o));if(u=0===(l=t.children.length)?null:t.children[0],0===l||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))r.allowEmpty?(y+=">",r.state=n.CloseTag,y+="</"+t.name+">"+this.endline(t,r,o)):(r.state=n.CloseTag,y+=r.spaceBeforeSlash+"/>"+this.endline(t,r,o));else if(!r.pretty||1!==l||u.type!==e.Text&&u.type!==e.Raw||null==u.value){if(r.dontPrettyTextNodes)for(c=0,h=(b=t.children).length;c<h;c++)if(((a=b[c]).type===e.Text||a.type===e.Raw)&&null!=a.value){r.suppressPrettyCount++,m=!0;break}for(y+=">"+this.endline(t,r,o),r.state=n.InsideTag,p=0,d=(v=t.children).length;p<d;p++)a=v[p],y+=this.writeChildNode(a,r,o+1);r.state=n.CloseTag,y+=this.indent(t,r,o)+"</"+t.name+">",m&&r.suppressPrettyCount--,y+=this.endline(t,r,o),r.state=n.None}else y+=">",r.state=n.InsideTag,r.suppressPrettyCount++,m=!0,y+=this.writeChildNode(u,r,o+1),r.suppressPrettyCount--,m=!1,r.state=n.CloseTag,y+="</"+t.name+">"+this.endline(t,r,o);return this.closeNode(t,r,o),y},t.prototype.writeChildNode=function(t,r,n){switch(t.type){case e.CData:return this.cdata(t,r,n);case e.Comment:return this.comment(t,r,n);case e.Element:return this.element(t,r,n);case e.Raw:return this.raw(t,r,n);case e.Text:return this.text(t,r,n);case e.ProcessingInstruction:return this.processingInstruction(t,r,n);case e.Dummy:return"";case e.Declaration:return this.declaration(t,r,n);case e.DocType:return this.docType(t,r,n);case e.AttributeDeclaration:return this.dtdAttList(t,r,n);case e.ElementDeclaration:return this.dtdElement(t,r,n);case e.EntityDeclaration:return this.dtdEntity(t,r,n);case e.NotationDeclaration:return this.dtdNotation(t,r,n);default:throw new Error("Unknown XML node type: "+t.constructor.name)}},t.prototype.processingInstruction=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<?",e.state=n.InsideTag,o+=t.target,t.value&&(o+=" "+t.value),e.state=n.CloseTag,o+=e.spaceBeforeSlash+"?>",o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.raw=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r),e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.text=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r),e.state=n.InsideTag,o+=t.value,e.state=n.CloseTag,o+=this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdAttList=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ATTLIST",e.state=n.InsideTag,o+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(o+=" "+t.defaultValueType),t.defaultValue&&(o+=' "'+t.defaultValue+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdElement=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ELEMENT",e.state=n.InsideTag,o+=" "+t.name+" "+t.value,e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdEntity=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!ENTITY",e.state=n.InsideTag,t.pe&&(o+=" %"),o+=" "+t.name,t.value?o+=' "'+t.value+'"':(t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.nData&&(o+=" NDATA "+t.nData)),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.dtdNotation=function(t,e,r){var o;return this.openNode(t,e,r),e.state=n.OpenTag,o=this.indent(t,e,r)+"<!NOTATION",e.state=n.InsideTag,o+=" "+t.name,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?o+=' PUBLIC "'+t.pubID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),e.state=n.CloseTag,o+=e.spaceBeforeSlash+">"+this.endline(t,e,r),e.state=n.None,this.closeNode(t,e,r),o},t.prototype.openNode=function(t,e,r){},t.prototype.closeNode=function(t,e,r){},t.prototype.openAttribute=function(t,e,r){},t.prototype.closeAttribute=function(t,e,r){},t}()}).call(this)},"./node_modules/xmlbuilder/lib/index.js":function(t,e,r){(function(){var e,n,o,i,s,a,l,u,c,p;p=r("./node_modules/xmlbuilder/lib/Utility.js"),u=p.assign,c=p.isFunction,o=r("./node_modules/xmlbuilder/lib/XMLDOMImplementation.js"),i=r("./node_modules/xmlbuilder/lib/XMLDocument.js"),s=r("./node_modules/xmlbuilder/lib/XMLDocumentCB.js"),l=r("./node_modules/xmlbuilder/lib/XMLStringWriter.js"),a=r("./node_modules/xmlbuilder/lib/XMLStreamWriter.js"),e=r("./node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/xmlbuilder/lib/WriterState.js"),t.exports.create=function(t,e,r,n){var o,s;if(null==t)throw new Error("Root element needs a name.");return n=u({},e,r,n),s=(o=new i(n)).element(t),n.headless||(o.declaration(n),null==n.pubID&&null==n.sysID||o.dtd(n)),s},t.exports.begin=function(t,e,r){var n;return c(t)&&(e=(n=[t,e])[0],r=n[1],t={}),e?new s(t,e,r):new i(t)},t.exports.stringWriter=function(t){return new l(t)},t.exports.streamWriter=function(t,e){return new a(t,e)},t.exports.implementation=new o,t.exports.nodeType=e,t.exports.writerState=n}).call(this)}}]);