(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./node_modules/flat-geo-css/dist/flat-geo-css.js":function(e,t,r){window,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){var n,o;void 0===(o="function"==typeof(n=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r="boolean"==typeof(new RegExp).sticky;function n(e){return e&&"[object RegExp]"===t.call(e)}function o(e){return e&&"object"==typeof e&&!n(e)&&!Array.isArray(e)}function i(e){return"("+e+")"}function s(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"}function l(e){if("string"==typeof e)return"(?:"+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(n(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function a(t,r){if(o(r)||(r={match:r}),r.include)throw new Error("Matching rules cannot also include states");var i={defaultType:t,lineBreaks:!!r.error||!!r.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var s in r)e.call(r,s)&&(i[s]=r[s]);if("string"==typeof i.type&&t!==i.type)throw new Error("Type transform cannot be a string (type '"+i.type+"' for token '"+t+"')");var l=i.match;return i.match=Array.isArray(l)?l:l?[l]:[],i.match.sort((function(e,t){return n(e)&&n(t)?0:n(t)?-1:n(e)?1:t.length-e.length})),i}function u(e){return Array.isArray(e)?function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.include)for(var o=[].concat(n.include),i=0;i<o.length;i++)t.push({include:o[i]});else{if(!n.type)throw new Error("Rule has no type: "+JSON.stringify(n));t.push(a(n.type,n))}}return t}(e):function(e){for(var t=Object.getOwnPropertyNames(e),r=[],n=0;n<t.length;n++){var i=t[n],s=e[i],l=[].concat(s);if("include"!==i){var u=[];l.forEach((function(e){o(e)?(u.length&&r.push(a(i,u)),r.push(a(i,e)),u=[]):u.push(e)})),u.length&&r.push(a(i,u))}else for(var c=0;c<l.length;c++)r.push({include:l[c]})}return r}(e)}var c=a("error",{lineBreaks:!0,shouldThrow:!0});function p(e,t){for(var o=null,a=Object.create(null),u=!0,p=null,d=[],h=[],m=0;m<e.length;m++)e[m].fallback&&(u=!1);for(m=0;m<e.length;m++){var f=e[m];if(f.include)throw new Error("Inheritance is not allowed in stateless lexers");if(f.error||f.fallback){if(o)throw!f.fallback==!o.fallback?new Error("Multiple "+(f.fallback?"fallback":"error")+" rules not allowed (for token '"+f.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+f.defaultType+"')");o=f}var y=f.match.slice();if(u)for(;y.length&&"string"==typeof y[0]&&1===y[0].length;)a[y.shift().charCodeAt(0)]=f;if(f.pop||f.push||f.next){if(!t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+f.defaultType+"')");if(f.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+f.defaultType+"')")}if(0!==y.length){u=!1,d.push(f);for(var g=0;g<y.length;g++){var b=y[g];if(n(b))if(null===p)p=b.unicode;else if(p!==b.unicode&&!1===f.fallback)throw new Error("If one rule is /u then all must be")}var v=s(y.map(l)),w=new RegExp(v);if(w.test(""))throw new Error("RegExp matches empty string: "+w);if(new RegExp("|"+v).exec("").length-1>0)throw new Error("RegExp has capture groups: "+w+"\nUse (?: â€¦ ) instead");if(!f.lineBreaks&&w.test("\n"))throw new Error("Rule should declare lineBreaks: "+w);h.push(i(v))}}var S=o&&o.fallback,x=r&&!S?"ym":"gm",_=r||S?"":"|";return!0===p&&(x+="u"),{regexp:new RegExp(s(h)+_,x),groups:d,fast:a,error:o||c}}function d(e,t,r){var n=e&&(e.push||e.next);if(n&&!r[n])throw new Error("Missing state '"+n+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!=+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}var h=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};h.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},h.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},h.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},h.prototype.popState=function(){this.setState(this.stack.pop())},h.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var m=r?function(e,t){return e.exec(t)}:function(e,t){var r=e.exec(t);return 0===r[0].length?null:r};function f(){return this.value}if(h.prototype._getGroup=function(e){for(var t=this.groups.length,r=0;r<t;r++)if(void 0!==e[r+1])return this.groups[r];throw new Error("Cannot find token type for matched text")},h.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var r=this.buffer;if(e!==r.length){if(s=this.fast[r.charCodeAt(e)])return this._token(s,r.charAt(e),e);var n=this.re;n.lastIndex=e;var o=m(n,r),i=this.error;if(null==o)return this._token(i,r.slice(e,r.length),e);var s=this._getGroup(o),l=o[0];return i.fallback&&o.index!==e?(this.queuedGroup=s,this.queuedText=l,this._token(i,r.slice(e,o.index),e)):this._token(s,l,e)}},h.prototype._token=function(e,t,r){var n=0;if(e.lineBreaks){var o=/\n/g,i=1;if("\n"===t)n=1;else for(;o.exec(t);)n++,i=o.lastIndex}var s={type:"function"==typeof e.type&&e.type(t)||e.defaultType,value:"function"==typeof e.value?e.value(t):t,text:t,toString:f,offset:r,lineBreaks:n,line:this.line,col:this.col},l=t.length;if(this.index+=l,this.line+=n,0!==n?this.col=l-i+1:this.col+=l,e.shouldThrow)throw new Error(this.formatError(s,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),s},"undefined"!=typeof Symbol&&Symbol.iterator){var y=function(e){this.lexer=e};y.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},y.prototype[Symbol.iterator]=function(){return this},h.prototype[Symbol.iterator]=function(){return new y(this)}}return h.prototype.formatError=function(e,t){if(null==e){var r=this.buffer.slice(this.index);e={text:r,offset:this.index,lineBreaks:-1===r.indexOf("\n")?0:1,line:this.line,col:this.col}}var n=Math.max(0,e.offset-e.col+1),o=e.lineBreaks?e.text.indexOf("\n"):e.text.length,i=this.buffer.substring(n,e.offset+o);return t+=" at line "+e.line+" col "+e.col+":\n\n",(t+="  "+i+"\n")+"  "+Array(e.col).join(" ")+"^"},h.prototype.clone=function(){return new h(this.states,this.state)},h.prototype.has=function(e){return!0},{compile:function(e){var t=p(u(e));return new h({start:t},"start")},states:function(e,t){var r=e.$all?u(e.$all):[];delete e.$all;var n=Object.getOwnPropertyNames(e);t||(t=n[0]);for(var o=Object.create(null),i=0;i<n.length;i++){var s=n[i];o[s]=u(e[s]).concat(r)}for(i=0;i<n.length;i++)for(var l=o[s=n[i]],a=Object.create(null),c=0;c<l.length;c++){var m=l[c];if(m.include){var f=[c,1];if(m.include!==s&&!a[m.include]){a[m.include]=!0;var y=o[m.include];if(!y)throw new Error("Cannot include nonexistent state '"+m.include+"' (in state '"+s+"')");for(var g=0;g<y.length;g++){var b=y[g];-1===l.indexOf(b)&&f.push(b)}}l.splice.apply(l,f),c--}}var v=Object.create(null);for(i=0;i<n.length;i++)v[s=n[i]]=p(o[s],!0);for(i=0;i<n.length;i++){var w=n[i],S=v[w],x=S.groups;for(c=0;c<x.length;c++)d(x[c],w,v);var _=Object.getOwnPropertyNames(S.fast);for(c=0;c<_.length;c++)d(S.fast[_[c]],w,v)}return new h(v,t)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(e){for(var t=Object.create(null),r=Object.create(null),n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var i=n[o],s=e[i];(Array.isArray(s)?s:[s]).forEach((function(e){if((r[e.length]=r[e.length]||[]).push(e),"string"!=typeof e)throw new Error("keyword must be string (in keyword '"+i+"')");t[e]=i}))}function l(e){return JSON.stringify(e)}var a="";for(var u in a+="switch (value.length) {\n",r){var c=r[u];a+="case "+u+":\n",a+="switch (value) {\n",c.forEach((function(e){var r=t[e];a+="case "+l(e)+": return "+l(r)+"\n"})),a+="}\n"}return a+="}\n",Function("value",a)}}})?n.apply(t,[]):n)||(e.exports=o)},function(e,t,r){e.exports=r(2)},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n);function i(e){return f(e)||c(e)||h(e)||d()}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(e){if(Array.isArray(e))return m(e)}(e)||c(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function p(e,t){return f(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}return r}}(e,t)||h(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){if(Array.isArray(e))return e}var y="(?:\r|\t|\f|\n| ){1,}",g="}".concat("(?:\r|\t|\f|\n| ){0,}",";"),b="".concat("[0-9]","{1,}"),v="".concat("[0-9]","{1,}(?:\\.").concat("[0-9]","{0,}|)(?:k|M|G|)"),w="\\[".concat("(?:\r|\t|\f|\n| ){0,}","(?:@scale|@sd)").concat("(?:\r|\t|\f|\n| ){0,}","(?:>=|>)").concat("(?:\r|\t|\f|\n| ){0,}").concat(v).concat("(?:\r|\t|\f|\n| ){0,}","\\]"),S="\\[".concat("(?:\r|\t|\f|\n| ){0,}","(?:@scale|@sd)").concat("(?:\r|\t|\f|\n| ){0,}","(?:<=|<)").concat("(?:\r|\t|\f|\n| ){0,}").concat(v).concat("(?:\r|\t|\f|\n| ){0,}","\\]"),x="(?:-|)[_a-zA-Z]".concat("[\\-\\_a-zA-Z0-9]","{0,}"),_="#".concat(x,"(?:\\:").concat(x,"|)(?:\\.[^\\\"|\\'|\\[|\\]|\\r|\\t|\\f|\\n| ]{1,}|)"),E="mark|stroke|fill|symbol|shield|background",O=":(?:".concat(E,")"),j=":nth\\-(?:".concat(E,")\\(").concat(b,"\\)"),F="".concat(x,"(?:\\:").concat(x,"|)"),C=F,k="\\[(?:".concat("\\'[^\\\"|\\'|\\[|\\]]{0,}\\'","|").concat('\\"[^\\"|\\\'|\\[|\\]]{0,}\\"',"|[^\\\"|\\'|\\[|\\]]{0,}){1,}\\]"),D="(?:".concat("\\/\\*[^\\*\\/]*?\\*\\/","|").concat(y,"){0,}"),P="(?:\\*|"+w+"|"+S+"|"+_+"|"+O+"|"+j+"|"+C+"|"+k+")",T="".concat(P,"(?:").concat("(?:\r|\t|\f|\n| ){0,}").concat(P,"|").concat("(?:\r|\t|\f|\n| ){0,}").concat("\\,").concat("(?:\r|\t|\f|\n| ){0,}").concat(P,"){0,}"),N="[a-zA-Z0-9-\\._\\]\\:\\/\\?\\#\\[\\]\\@\\|\\$\\&'\\*\\+\\,\\;\\=]{1,}",I="(?:"+"\\'".concat(N,"\\'")+"|"+N+")",M="url".concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}").concat(I).concat("(?:\r|\t|\f|\n| ){0,}","\\)"),L="symbol".concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}").concat(I).concat("(?:\r|\t|\f|\n| ){0,}","\\)"),z="[a-fA-F0-9]",R="#(?:".concat(z).concat(z).concat(z).concat(z).concat(z).concat(z,"|").concat(z).concat(z).concat(z,")"),A="".concat("[0-9]","{1,}(?:\\.").concat("[0-9]","{0,}|)(?:k|M|G|px|m|ft|%|deg|)"),G="\\[".concat("(?:\r|\t|\f|\n| ){0,}","[^\\[;]*?").concat("(?:\r|\t|\f|\n| ){0,}","\\]"),X="@".concat(x),B="(?:none|"+R+"|"+A+"|\\'.*?\\'|"+X+")",V="(?:none|"+"".concat(F).concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}").concat(B,"(?:").concat("(?:\r|\t|\f|\n| ){0,}",",").concat("(?:\r|\t|\f|\n| ){0,}").concat(B).concat("(?:\r|\t|\f|\n| ){0,}","){0,}").concat("(?:\r|\t|\f|\n| ){0,}","\\)")+"|"+R+"|"+A+"|\\'.*?\\'|"+X+")",$="".concat(F).concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}").concat(V,"(?:").concat("(?:\r|\t|\f|\n| ){0,}",",").concat("(?:\r|\t|\f|\n| ){0,}").concat(V).concat("(?:\r|\t|\f|\n| ){0,}","){0,}").concat("(?:\r|\t|\f|\n| ){0,}","\\)"),W="(?:".concat(G,"|").concat("\\'[^;\\'\\[\\]]*?\\'","){1,}"),U="(?:none|"+M+"|"+L+"|"+$+"|"+R+"|"+A+"|"+x+"|"+X+"|"+W+"|"+G+")",q="".concat(U,"(?:").concat(y).concat(U,"){1,}"),K="(?:"+U+"|"+q+")",Y=""+D+x+"(?:\r|\t|\f|\n| ){0,}:(?:\r|\t|\f|\n| ){0,}"+K+"(?:\r|\t|\f|\n| ){0,}(?:,(?:\r|\t|\f|\n| ){0,}"+K+"){0,};",H="@(?:mode|styleTitle|styleAbstract)".concat(y).concat("\\'[^\\\"|\\'|\\[|\\]]{0,}\\'",";"),Z="".concat(y,"(?:in|IN|not in|NOT IN|is|IS|like|ilike|LIKE|ILIKE|\\=|\\>|\\>\\=|\\<|\\<\\=|\\<\\>)").concat(y);function J(e){if(e.match(/'/g))return e.replace(new RegExp("\\'([^\\\"|\\'|\\[|\\]]{0,})\\'","g"),"$1");var t=parseFloat(e);if(!isNaN(t))return t;var r=e.trim();return"true"===r||"false"===r?["bool",r]:r}var Q=o.a.compile({directive:{match:new RegExp(H),value:function(e){return{key:e.match(/@(:?mode|styleTitle|styleAbstract)/)[0],value:e.match(/'.*?'/)[0].replace(/'(.*?)'/g,"$1")}}},whitespace:{match:new RegExp(y),lineBreaks:!0,value:function(e){return{value:e}}},property:{match:new RegExp(Y),value:function(e){var t=e.match(new RegExp(D))[0].trim(),r=e.match(new RegExp(x+"(?:\r|\t|\f|\n| ){0,}:"))[0].replace(/:/,"").trim(),n=e.replace(new RegExp(D),"").replace(new RegExp(x+"(?:\r|\t|\f|\n| ){0,}:"),"").match(new RegExp("".concat(U,"(?:").concat(y).concat(U,"){0,}"),"g")).map((function(e){return function e(t,r){if(t.match(new RegExp(q))){var n=t.match(new RegExp(U,"g"));return["array"].concat(u(n.map((function(t){return e(t)}))))}if(t.match(new RegExp(M)))return["url",t.replace(new RegExp("url".concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}","(").concat(I,")").concat("(?:\r|\t|\f|\n| ){0,}","\\)"),"g"),"$1").replace(/'(.*?)'/g,"$1")];if(t.match(new RegExp(L)))return["symbol",t.replace(new RegExp("symbol".concat("(?:\r|\t|\f|\n| ){0,}","\\(").concat("(?:\r|\t|\f|\n| ){0,}","(").concat(I,")").concat("(?:\r|\t|\f|\n| ){0,}","\\)"),"g"),"$1").replace(/'(.*?)'/g,"$1")];if(t.match(new RegExp(G))&&"label"!==r){var o,i=t.replace(new RegExp("\\[".concat("(?:\r|\t|\f|\n| ){0,}","([^\\[;]*?)").concat("(?:\r|\t|\f|\n| ){0,}","\\]"),"g"),"$1"),s=null===(o=i.match(new RegExp("".concat(K,"(?:").concat(y,"(\\*|\\/|\\+|\\-)").concat(y).concat(K,"){0,}"))))||void 0===o?void 0:o[1],l=i.match(new RegExp(K,"g"));return s?["brace",[s,e(null==l?void 0:l[0]),e(null==l?void 0:l[1])]]:["brace",e(l[0])]}if(t.match(new RegExp($))){var a,c=null===(a=t.match(F))||void 0===a?void 0:a[0],p=t.replace(c,"").match(new RegExp(V,"g"));return[c].concat(u(p.map((function(t){return e(t)}))))}if(t.match(new RegExp(W))){var d=t.match(new RegExp("".concat(G,"|").concat("\\'[^;\\'\\[\\]]*?\\'"),"g")).map((function(t){return t.match(new RegExp("\\'[^;\\'\\[\\]]*?\\'"))&&!t.match(new RegExp(G))?t.replace(/'([^;'[\]]*?)'/,"$1"):e(t)}));return 1===d.length?d[0]:["text"].concat(u(d))}if(t.match(new RegExp(R)))return["hex",t];if(t.match(new RegExp(A))){var h,m=parseFloat(t.replace(/k|M|G|px|m|ft|%|deg/g,"")),f=null===(h=t.match(/(?:k|M|G|px|m|ft|%|deg)/g))||void 0===h?void 0:h[0];return f?["measure",m,f]:m}return t.match(new RegExp(x))?["get",t]:t}(e,r)}));return{comment:t,key:r,value:n}}},openBrace:{match:new RegExp("{"),value:function(e){return{value:e}}},closeBraceSemicolon:{match:new RegExp(g),value:function(e){return{value:e}}},closeBrace:{match:new RegExp("}"),value:function(e){return{value:e}}},selector:{match:new RegExp(D+T),value:function(e){var t,r,n,o,i,s,l=e.match(new RegExp(D))[0].trim(),a=null==l||null===(t=l.match(new RegExp("@title".concat("(?:\r|\t|\f|\n| ){0,}","(\\:){0,1}").concat("(?:\r|\t|\f|\n| ){0,}",".*?\\*\\/"))))||void 0===t||null===(r=t[0])||void 0===r||null===(n=r.replace(new RegExp("@title".concat("(?:\r|\t|\f|\n| ){0,}","(\\:){0,1}|\\*\\/"),"g"),""))||void 0===n?void 0:n.trim(),c=null==l||null===(o=l.match(new RegExp("@source".concat("(?:\r|\t|\f|\n| ){0,}","(\\:){0,1}").concat("(?:\r|\t|\f|\n| ){0,}",".*?\\*\\/"))))||void 0===o||null===(i=o[0])||void 0===i||null===(s=i.replace(new RegExp("@source".concat("(?:\r|\t|\f|\n| ){0,}","(\\:){0,1}|\\*\\/"),"g"),""))||void 0===s?void 0:s.trim(),d=e.replace(new RegExp(D),"").split(new RegExp("\\]".concat("(?:\r|\t|\f|\n| ){0,}",",").concat("(?:\r|\t|\f|\n| ){0,}","\\["),"g")),h=d.map((function(e,t){return 0===t?e+"]":t===d.length-1?"["+e:"["+e+"]"})).map((function(e){return e.match(new RegExp(P,"g")).map((function(e){return function(e){if(e.match(new RegExp("\\*"))&&!e.match(new RegExp(k)))return{value:e,type:"allSelector"};if(e.match(new RegExp(w))){var t,r,n=null===(t=e.match(/>=|>/g))||void 0===t?void 0:t[0],o=p(e.replace(/\[|\]/g,"").split(new RegExp("".concat("(?:\r|\t|\f|\n| ){0,}","(?:>=|>)").concat("(?:\r|\t|\f|\n| ){0,}"))),2),i=o[0],s=o[1],l=parseFloat(s.replace(/k|M|G/g,"")),a=null===(r=s.match(/(?:k|M|G)/g))||void 0===r?void 0:r[0];return{value:e,type:"minScaleSelector",expression:[n,["get",i],a?["measure",l,a]:l]}}if(e.match(new RegExp(S))){var c,d,h=null===(c=e.match(/<=|</g))||void 0===c?void 0:c[0],m=p(e.replace(/\[|\]/g,"").split(new RegExp("".concat("(?:\r|\t|\f|\n| ){0,}","(?:<=|<)").concat("(?:\r|\t|\f|\n| ){0,}"))),2),f=m[0],g=m[1],b=parseFloat(g.replace(/k|M|G/g,"")),v=null===(d=g.match(/(?:k|M|G)/g))||void 0===d?void 0:d[0];return{value:e,type:"maxScaleSelector",expression:[h,["get",f],v?["measure",b,v]:b]}}if(e.match(new RegExp(_)))return{value:e,type:"idSelector"};if(e.match(new RegExp(O)))return{value:e,type:"pseudoClassSelector"};if(e.match(new RegExp(j)))return{value:e,type:"numberedPseudoClassSelector"};if(e.match(new RegExp(k))){var x={"=":"==",">":">",">=":">=","<":"<","<=":"<=","<>":"!=",like:"like",ilike:"ilike",LIKE:"like",ILIKE:"ilike"},E="".concat(y,"(?:or|OR)").concat(y),F="".concat(y,"(?:and|AND)").concat(y),D=e.match(new RegExp(E,"g"))&&"any",P=e.match(new RegExp(F,"g"))&&"all";if(D&&P)throw new Error("or and operators");var T=D?E:F,N=e.replace(/\[|\]/g,"").split(new RegExp(T,"g")).map((function(t){var r,n,o,i=new RegExp(Z),s=null===(r=t.match(i))||void 0===r||null===(n=r[0])||void 0===n||null===(o=n.trim)||void 0===o?void 0:o.call(n),l=t.split(new RegExp(Z));if(x[s])return[x[s],["get",l[0]],J(l[1])];if(!("is"!==s&&"IS"!==s||"null"!==l[1]&&"NULL"!==l[1]))return["isnull",["get",l[0]]];if("in"===s||"not in"===s||"IN"===s||"NOT IN"===s){var a=l[1].replace(/\(|\)/g,"").split(",").map((function(e){return J(e.trim())})),u=["in",["get",l[0]],["literal",a]];return"not in"===s||"NOT IN"===s?["!",u]:u}throw new Error("\n                operator not supported in selector: ".concat(e,"\n                supported operators: ").concat(Object.keys(x).join(" ")))}));return{value:e,expression:N.length>1?[D||P].concat(u(N)):N[0],type:"eCQLSelector"}}return e.match(new RegExp(C))?{value:e,type:"typeNameSelector"}:{value:e,type:"basicSelector"}}(e)}))}));return{source:c,title:a,comment:l,value:h}}}});function ee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}}function te(e){return Q.reset(e),Array.from(Q)}function re(e){return e.map((function(e){var t=e.type,r=e.value,n=e.line,o=e.col,i=e.text;return l(l({},r),{},{type:t,line:n,col:o,text:i})}))}var ne=["typeNameSelector"];function oe(e){var t=["pseudoClassSelector","numberedPseudoClassSelector","allSelector","typeNameSelector"];return e.filter((function(e){return"selector"===e.type})).forEach((function(e){var r=e.value,n=e.line,o=e.col,i=e.text,s=e.level,l=r.map((function(e){return e.map((function(e){return e.type}))})).reduce((function(e,t){return[].concat(u(e),u(t))}));if(l.length>1&&l.find((function(e){return-1!==t.indexOf(e)})))throw{line:n,col:o,text:i};if(1===l.length&&-1!==ne.indexOf(l[0])&&1!==s)throw{line:n,col:o,text:i}})),e}function ie(e){var t=0,r=0,n=0,o=0;return e.filter((function(e){var t=e.type;return"whitespace"!==t&&"directive"!==t})).map((function(e){r=t;var i=(e||{}).type;"openBrace"===i&&(t++,o++),"closeBrace"!==i&&"closeBraceSemicolon"!==i||t--;var s="selector"===i||"closeBrace"===i||"closeBraceSemicolon"===i?t+1:t,a=n;return 1===r&&1===s&&"closeBrace"===i&&(n++,o=0,a=n-1),l(l(l({},e),"selector"===i&&{rule:o}),{},{level:s,group:a})}))}function se(e){var t=e.reduce((function(e,t){var r="".concat(t.group,":").concat(t.level);return l(l({},e),{},a({},r,e[r]?[].concat(u(e[r]),[t]):[t]))}),{});return Object.keys(t).map((function(e){return t[e].reduce((function(e,t){if(e.length>0){var r=e.filter((function(t,r){return r<e.length-1})),n=[].concat(u(e[e.length-1]),[t]);return[].concat(u(r),[n],u("closeBrace"===t.type||"closeBraceSemicolon"===t.type?[[]]:[]))}return[[t]]}),[])}))}function le(e){return e.reduce((function(e,t){return[].concat(u(e),u(t.filter((function(e){return e.length>0})).map((function(e){return e.map((function(t){return l(l({},t),{},{rule:e[0].rule})}))}))))}),[])}function ae(e){return u(e).sort((function(e,t){return e[0].group===t[0].group?e[0].rule>t[0].rule?1:-1:e[0].group>t[0].group?1:-1}))}function ue(e){return e.map((function(e){var t=e.find((function(e){return"selector"===e.type}))||{},r=t.title,n=t.value,o=t.level,i=t.group,s=t.rule,u=e.filter((function(e){return"property"===e.type})).reduce((function(e,t){return l(l({},e),{},a({},t.key,t.value))}),{});return l(l({},r&&{title:r}),{},{selector:n,properties:u,level:o,group:i,rule:s})}))}function ce(e){return e.map((function(t,r){var n=t.level,o=t.group;if(1===n)return t;var i=[].concat(u(e.filter((function(e,t){return t<r&&e.group===o&&e.level<n}))),[t]);return 1===i.length?t:l(l({},t),{},{activeRules:i})}))}function pe(e){return e&&1===e.length&&1===e[0].length&&e[0][0]||{}}function de(e){var t=e.reduce((function(e,t){var r=t.level,n=t.group,o=t.rule,i=t.activeRules,s=t.selector,u=t.properties;if(!i)return e;if("pseudoClassSelector"===pe(s).type||"numberedPseudoClassSelector"===pe(s).type){var c,p=i[i.length-2],d=p.level,h=p.group,m=p.rule;return l(l({},e),{},(a(c={},"".concat(r,":").concat(n,":").concat(o),"remove"),a(c,"".concat(d,":").concat(h,":").concat(m),l(l({},e["".concat(d,":").concat(h,":").concat(m)]),{},a({},s[0][0].value,u))),c))}return e}),{});return e.filter((function(e){var r=e.level,n=e.group,o=e.rule;return"remove"!==t["".concat(r,":").concat(n,":").concat(o)]})).map((function(e){var r=e.level,n=e.group,o=e.properties,i=e.rule;return t["".concat(r,":").concat(n,":").concat(i)]?l(l({},e),{},{properties:l(l({},o),t["".concat(r,":").concat(n,":").concat(i)])}):e}))}function he(e){return e.map((function(e){var t=e.activeRules;if(!t)return e;var r=(t.find((function(e){return"typeNameSelector"===pe(e.selector).type}))||{}).selector,n=pe(r).value;return l(l({},e),{},{layer:n,activeRules:t.filter((function(e){return"typeNameSelector"!==pe(e.selector).type}))})}))}function me(e){return e.map((function(e){var t=e.activeRules,r=e.layer;if(!t){var n=e.selector,o=e.properties,i=e.title;return l(l(l({},i&&{title:i}),r&&{layer:r}),{},{selector:n,properties:o})}var s=t.map((function(e){return e.selector})).reduce((function(e,t){var r=[];return e.forEach((function(e){t.forEach((function(t){r.push([].concat(u(e),u(t)))}))})),r})),a=t.map((function(e){return e.properties})).reduce((function(e,t){return l(l({},e),t)})),c=t.map((function(e){return e.title})).reduce((function(e,t){return[].concat(u(e),u(t&&[t]||[]))}),[]).join(", ");return l(l(l({},c&&{title:c}),r&&{layer:r}),{},{selector:s,properties:a})}))}function fe(e){return e.reduce((function(e,t){var r=function(e){return e.reduce((function(e,t,r){var n,o,i=t.filter((function(e){return"minScaleSelector"===e.type})),s=t.filter((function(e){return"maxScaleSelector"===e.type})),c=[i[i.length-1],s[s.length-1]],p="".concat((null==c||null===(n=c[0])||void 0===n?void 0:n.value)||"").concat((null==c||null===(o=c[1])||void 0===o?void 0:o.value)||"")||"noScale";return e[p]?l(l({},e),{},a({},p,{selectorIndex:[].concat(u(e[p].selectorIndex),[r]),scales:c})):l(l({},e),{},a({},p,{selectorIndex:[r],scales:c}))}),{})}(t.selector),n=t.selector.map((function(e){return e.filter((function(e){var t=e.type;return!("minScaleSelector"===t||"maxScaleSelector"===t)}))})),o=n.map((function(e){return e.map((function(e){return e.type}))})).reduce((function(e,t){return[].concat(u(e),u(t))}));return[].concat(u(e),u(Object.keys(r).map((function(e){var i,s,a=r[e],c=a.selectorIndex,p=void 0===c?[]:c,d=a.scales,h=null===(i=d[0])||void 0===i?void 0:i.expression,m=null===(s=d[1])||void 0===s?void 0:s.expression,f=1===o.length&&"allSelector"===o[0];return l(l(l({},t),{},{selector:f?"*":["any"].concat(u(n.filter((function(e,t){return-1!==p.indexOf(t)})).map((function(e){return["all"].concat(u(e.map((function(e){return null==e?void 0:e.expression}))))}))))},h&&{"min-scale":h}),m&&{"max-scale":m})}))))}),[])}function ye(e){return e.filter((function(e){var t=e.properties;return Object.keys(t).length>0}))}function ge(e,t){return Object.keys(e).reduce((function(r,n){return l(l({},r),{},a({},n,void 0===e[n][t]?e[n][0]:e[n][t]))}),{})}function be(e){var t=0;return e.reduce((function(e,r){t++;var n=Object.keys(null==r?void 0:r.properties),o=Math.max.apply(null,n.filter((function(e){return!e.match(new RegExp("(?:".concat(O,"|").concat(j,")")))})).map((function(e){var t,n;return null==r||null===(t=r.properties)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.length})).filter((function(e){return e}))),i=Object.keys(u(new Array(o))).map((function(e){return n.reduce((function(t,n){var o,i;if(n.match(new RegExp(O)))return l(l({},t),{},a({},n,ge(null==r||null===(i=r.properties)||void 0===i?void 0:i[n],e)));if(n.match(new RegExp(j))){var s,u=n.match(new RegExp(":nth\\-((?:".concat(E,"))\\((").concat(b,")\\)"))),c=null==u?void 0:u[1],p=null==u?void 0:u[2];return l(l({},t),void 0!==p&&parseFloat(p)-1+""===e&&a({},":".concat(c),ge(null==r||null===(s=r.properties)||void 0===s?void 0:s[n],e)))}var d=null!==(o=null==r?void 0:r.properties[n][e])&&void 0!==o?o:null==r?void 0:r.properties[n][0];return l(l({},t),null!=d&&a({},n,d))}),{})}));return[].concat(u(e),u(i.map((function(e){return l(l({},r),{},{properties:e,group:t})}))))}),[])}function ve(e,t){if(void 0!==e){if("string"==typeof e||e instanceof String)return"'".concat(e,"'");if(!isNaN(e))return e;var r=i(e),n=r[0],o=r.slice(1);switch(n){case"+":case"-":case"*":case"/":return"".concat(ve(o[0])," ").concat(n," ").concat(ve(o[1]));case"any":return o.map((function(e){return ve(e)})).join(" or ");case"all":return o.map((function(e){return ve(e)})).join(" and ");case"isnull":return ve(o[0])+" is null";case">":case"<":case">=":case"<=":case"!=":case"==":case"like":case"ilike":return ve(o[0])+" "+{"==":"=",">":">",">=":">=","<":"<","<=":"<=","!=":"<>",like:"like",ilike:"ilike",LIKE:"like",ILIKE:"ilike"}[n]+" "+ve(o[1]);case"!":return ve(o[0],{prefix:"not "});case"in":return ve(o[0])+" "+((null==t?void 0:t.prefix)||"")+"in ("+o.filter((function(e,t){return t>0})).map((function(e){return ve(e)})).join("")+")";case"bool":return o[0];case"literal":return o[0].map((function(e){return ve(e)})).join(", ");case"measure":return"".concat(o[0]).concat(o[1]||"");case"recode":case"categorize":case"interpolate":case"color-map-entry":case"env":return"".concat(n,"(").concat(o.map((function(e){return ve(e)})).join(", "),")");case"url":case"symbol":return"".concat(n,"('").concat(o[0],"')");case"get":return o[0];case"brace":return"[".concat(o.map((function(e){return ve(e)})),"]");case"array":return o.map((function(e){return ve(e)})).join(" ");case"text":return o.map((function(e){return ve(e)})).join("");case"hex":return o[0];default:return e}}}function we(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],o=t[t.length-1]||{},i=o.group;void 0!==i&&i===n.group?t[t.length-1]=l(l({},o),{},{properties:[].concat(u(Array.isArray(o.properties)?o.properties:[o.properties]),[n.properties])}):t.push(n)}return t}function Se(e,t){if(t){var r=Array.isArray(e)?e:[e];return Object.keys(r[0]).reduce((function(e,t){return l(l({},e),{},a({},t,Se(r.map((function(e){return e[t]})))))}),{})}var n=e.filter((function(e){return null!=e}));return 1===n.length||n.every((function(e,t,r){return e===r[0]}))?n[0]:n.join(", ")}function xe(e){return(e||[]).map((function(e){var t=(null==e?void 0:e["min-scale"])&&ve(e["min-scale"]),r=(null==e?void 0:e["max-scale"])&&ve(e["max-scale"]),n=Array.isArray(e.properties)?e.properties:[e.properties],o=Object.keys(n[0]),s=function(e){if("*"===e)return"*";var t=i(e),r=t[0],n=t.slice(1);if("any"!==r&&"all"!==r)return["any",["all",e]];if("all"===r)return["any",e];if("any"===r){var o=n.map((function(e){return"all"!==e[0]?["all",e]:e}));return["any"].concat(u(o))}return"*"}(e.selector);return l(l(l({},(null==e?void 0:e.title)&&{title:"/* @title ".concat(e.title," */")}),(null==e?void 0:e.layer)&&{layer:e.layer}),{},{selector:"any"===(null==s?void 0:s[0])?s.filter((function(e,t){return t>0})).map((function(e){return[].concat(u(e.filter((function(e,t){return t>0})).map((function(e){return"["+ve(e)+"]"}))),u(t&&["["+t+"]"]||[]),u(r&&["["+r+"]"]||[]))})):s,properties:o.reduce((function(e,t){return t.match(new RegExp("(?:".concat(O,"|").concat(j,")")))?l(l({},e),{},a({},t,Se(n.map((function(e){return Object.keys(e[t]).reduce((function(r,n){return l(l({},r),{},a({},n,ve(e[t][n])))}),{})})),!0))):l(l({},e),{},a({},t,Se(n.map((function(e){return ve(e[t])})))))}),{})})}))}function _e(e){return e.map((function(e){return e.layer})).reduce((function(t,r,n){var o;if(void 0===r)return[].concat(u(t),[e[n]]);var i=null===(o=t[t.length-1])||void 0===o?void 0:o.layer;return void 0!==i&&i===r?[].concat(u(t.filter((function(e,r){return r<t.length-1}))),[{layer:r,rules:[].concat(u(t[t.length-1].rules),[e[n]])}]):[].concat(u(t),[{layer:r,rules:[e[n]]}])}),[])}function Ee(e,t){var r=(null==t?void 0:t.baseTab)||"",n=(null==t?void 0:t.tab)||"  ",o=(null==e?void 0:e.title)&&(null==e?void 0:e.title)+"\n"||"",i=(null==e?void 0:e.selector)?"*"===e.selector?"*":e.selector.map((function(e){return r+e.join("\n")})).join(",\n"):"",s=Object.keys(null==e?void 0:e.properties).reduce((function(t,o){if(o.match(new RegExp("(?:".concat(O,"|").concat(j,")")))){var i=Object.keys(e.properties[o]).reduce((function(t,i){return t+r+n+n+i+": "+e.properties[o][i]+";\n"}),"");return t+r+n+o+" {\n"+i+r+n+"};\n"}return t+r+n+o+": "+e.properties[o]+";\n"}),"");return r+o+i+" {\n"+s+r+"}\n"}function Oe(e){return e.reduce((function(e,t){return t.layer&&t.rules?e+t.layer+" {\n"+t.rules.map((function(e){return Ee(e,{tab:"  ",baseTab:"  "})})).join("")+"}\n":e+Ee(t,{tab:"  "})}),"")}var je={read:function(e){var t=ee(te,re)(e);return{directive:t.filter((function(e){return"directive"===e.type})).reduce((function(e,t){var r=t.key,n=t.value;return l(l({},e),{},a({},r,n))}),{}),rules:ee(ie,oe,se,le,ae,ue,ce,de,he,me,fe,ye,be)(t)}},write:function(e){return Object.keys(null==e?void 0:e.directive).reduce((function(t,r){return t+r+" '"+e.directive[r]+"';\n"}),"")+"\n"+ee(we,xe,_e,Oe)(null==e?void 0:e.rules)}};t.default=je}])},"./node_modules/geostyler-geocss-parser/build/dist/GeoCSSStyleParser.js":function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,l=i.length;s<l;s++,o++)n[o]=i[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.GeoCSSStyleParser=void 0;var s=r("./node_modules/flat-geo-css/dist/flat-geo-css.js").default,l=r("./node_modules/lodash/castArray.js"),a=r("./node_modules/lodash/isArray.js"),u=r("./node_modules/lodash/isNil.js"),c=r("./node_modules/lodash/isNumber.js"),p=r("./node_modules/lodash/isEqual.js"),d=r("./node_modules/lodash/flatten.js"),h=r("./node_modules/lodash/isString.js"),m=r("./node_modules/lodash/find.js"),f=function(){function e(){this.title="GeoCSS Style Parser",this.warnings=[],this.getFisrtValidPesudoselector=function(e,t){return(m(t,(function(t){return!u(t[e])}))||{})[e]||{}}}return e.prototype.addWarning=function(e){this.warnings.push(e)},e.prototype.getWarnings=function(){return i(this.warnings)},e.prototype.readExpression=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return e;if(!isNaN(e))return e;var t=e[0],r=e.slice(1);switch(t){case"array":return r;case"get":case"hex":case"symbol":case"url":return r[0];case"bool":return"true"===r[0];default:return e}},e.prototype.readSelectorsExpression=function(t){var r=this;if(t){var n=t[0],o=t.slice(1);switch(n){case"any":case"all":var s=e.combinationMap[n];return i([s],o.map((function(e){return r.readSelectorsExpression(e)})));case">":case"<":case">=":case"<=":case"!=":case"==":case"like":case"ilike":return[e.comparisonMap[n],this.readExpression(o[0]),this.readExpression(o[1])];case"isnull":return["==",this.readExpression(o[0]),null];default:return}}},e.prototype.getFilterFromSelectors=function(e){var t=this.readSelectorsExpression(e);if(t)return"||"!==t[0]&&"&&"!==t[0]||2!==t.length?t:t[1]},e.prototype.getScaleDenominatorFromSelectors=function(e){var t=e&&this.readExpression(e["min-scale"]),r=e&&this.readExpression(e["max-scale"]),o=!u(t)&&{min:t[2]},i=!u(r)&&{max:r[2]};return o||i?n(n({},o),i):void 0},e.prototype.getMarkSymbolizerFromGeoCSSRule=function(e){var t,r=this.readExpression(e.mark);switch(r){case"circle":case"square":case"triangle":case"star":case"cross":case"x":t=r.charAt(0).toUpperCase()+r.slice(1);break;case"shape://vertline":case"shape://horline":case"shape://slash":case"shape://backslash":case"shape://dot":case"shape://plus":case"shape://times":case"shape://oarrow":case"shape://carrow":t=r;break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}var o=this.readExpression(e["mark-size"]),i=this.readExpression(e["mark-rotation"]),s=this.readExpression(e["mark-opacity"]),l=e[":mark"]||{},a=s,c=this.readExpression(l["fill-opacity"]),p=this.readExpression(l.fill),d=this.readExpression(l.rotation)||i,h=this.readExpression(l.size)||o,m=this.readExpression(l.stroke),f=this.readExpression(l["stroke-width"]),y=this.readExpression(l["stroke-opacity"]),g=t&&{wellKnownName:t},b=!u(a)&&{opacity:a},v=!u(c)&&{fillOpacity:c},w=p&&{color:p},S=!u(d)&&{rotate:d},x=!u(h)&&{radius:h/2},_=m&&{strokeColor:m},E=!u(f)&&{strokeWidth:f},O=!u(y)&&{strokeOpacity:y};return n(n(n(n(n(n(n(n(n({kind:"Mark"},g),b),v),w),S),x),_),E),O)},e.prototype.getIconSymbolizerFromGeoCSSRule=function(e){var t=this.readExpression(e.mark),r=this.readExpression(e["mark-size"]),o=this.readExpression(e["mark-rotation"]),i=this.readExpression(e["mark-opacity"]),s=t&&{image:t},l=!u(i)&&{opacity:i},a=!u(o)&&{rotate:o},c=!u(r)&&{size:r};return n(n(n(n({kind:"Icon"},s),l),a),c)},e.prototype.getPointSymbolizerFromGeoCSSRule=function(e){return"url"===e.mark[0]?this.getIconSymbolizerFromGeoCSSRule(e):this.getMarkSymbolizerFromGeoCSSRule(e)},e.prototype.getLineSymbolizerFromGeoCSSRule=function(e){var t=this.readExpression(e.stroke),r=this.readExpression(e["stroke-width"]),o=this.readExpression(e["stroke-opacity"]),i=this.readExpression(e["stroke-linejoin"]),s=this.readExpression(e["stroke-linecap"]),l=this.readExpression(e["stroke-dasharray"]),a=this.readExpression(e["stroke-dashoffset"]),c=this.readExpression(e["stroke-offset"]),p="symbol"===e.stroke[0]||"url"===e.stroke[0]?this.getPointSymbolizerFromGeoCSSRule({mark:e.stroke,"mark-size":e["stroke-size"],"mark-rotation":e["stroke-rotation"],":mark":e[":stroke"]}):void 0,d=!p&&t&&{color:t},h=p&&{graphicStroke:p},m=!u(r)&&{width:r},f=!u(o)&&{opacity:o},y=i&&{join:i},g=s&&{cap:s},b=l&&{dasharray:l},v=a&&{dashOffset:a},w=!u(c)&&{perpendicularOffset:c};return n(n(n(n(n(n(n(n(n({kind:"Line"},d),h),m),f),y),g),b),v),w)},e.prototype.getFillSymbolizerFromGeoCSSRule=function(e){var t=this.readExpression(e.fill),r=this.readExpression(e["fill-opacity"]),o=this.readExpression(e.stroke),i=this.readExpression(e["stroke-width"]),s=this.readExpression(e["stroke-opacity"]),l=this.readExpression(e["stroke-dasharray"]),a="symbol"===e.fill[0]||"url"===e.fill[0]?this.getPointSymbolizerFromGeoCSSRule({mark:e.fill,"mark-size":e["fill-size"],"mark-rotation":e["fill-rotation"],":mark":e[":fill"]}):void 0,c=!a&&t&&{color:t},p=a&&{graphicFill:a},d=!t&&{opacity:0},h=!u(r)&&{fillOpacity:r},m=o&&{outlineColor:o},f=!u(i)&&{outlineWidth:i},y=!u(s)&&{outlineOpacity:s},g=l&&{outlineDasharray:l};return n(n(n(n(n(n(n(n({kind:"Fill"},c),p),d),h),m),f),y),g)},e.prototype.getTextSymbolizerLabelFromGeoCSSProperty=function(e){var t=function e(t){if(void 0===t)return null;if("string"==typeof t||t instanceof String)return t;if(!isNaN(t))return t;var r=t[0],n=t.slice(1);switch(r){case"text":return n.map((function(t){return e(t)}));case"brace":return e(n[0]);case"get":return"{{"+n[0]+"}}";default:return t}}(e);return a(t)?t.join(""):t},e.prototype.getTextSymbolizerFromGeoCSSRule=function(e){var t=this.getTextSymbolizerLabelFromGeoCSSProperty(e.label),r=this.readExpression(e["font-fill"]),o=this.readExpression(e["halo-radius"]),i=this.readExpression(e["halo-color"]),s=this.readExpression(e["label-offset"]),a=this.readExpression(e["label-rotation"]),c=this.readExpression(e["font-family"]),p=this.readExpression(e["font-style"]),d=this.readExpression(e["font-weight"]),h=this.readExpression(e["font-size"]),m=t&&{label:t},f=r&&{color:r},y=!u(o)&&{haloWidth:o},g=i&&{haloColor:i},b=s&&{offset:s},v=!u(a)&&{rotate:a},w=c&&{font:l(c)},S=p&&{fontStyle:p},x=d&&{fontWeight:d},_=!u(h)&&{size:h};return n(n(n(n(n(n(n(n(n(n({kind:"Text"},m),f),y),g),b),v),w),S),x),_)},e.prototype.getColorMapFromGeoCSSProperty=function(e){var t=this,r=e["raster-color-map"]&&this.readExpression(e["raster-color-map"]).map((function(e){var r=t.readExpression(e[1]),n=t.readExpression(e[2]),o=t.readExpression(e[3]);return{color:r,quantity:n,label:t.readExpression(e[4]),opacity:o}}));if(r&&0!==r.length){var o=this.readExpression(e["raster-color-map-type"]);return n({type:o||"ramp"},r&&{colorMapEntries:r})}},e.prototype.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement=function(e,t){var r=this.readExpression(e["raster-contrast-enhancement"]),o=this.readExpression(e["raster-gamma"]);if(void 0!==t){var i=l(r),s=l(o);if(3!==i.length&&1!==i.length||3!==s.length&&1!==s.length)throw new Error("\n          optional raster-contrast-enhancement and raster-gamma properties\n          should use one or three values separated by space\n          eg:\n\n          raster-channels: 0 1 2; /* rgb */\n          raster-contrast-enhancement: nomalize nomalize nomalize;\n          raster-gamma: 0.5 0.5 0.5;\n\n          /* or */\n\n          raster-channels: 0 1 2; /* rgb */\n          raster-contrast-enhancement: nomalize;\n          raster-gamma: 0.5;\n\n        ");var c=i[0],p=s[0];void 0!==c&&void 0===i[t]&&this.addWarning("Used first value of raster-contrast-enhancement for all rgb channel"),void 0!==p&&void 0===s[t]&&this.addWarning("Used first value of raster-gamma for all rgb channel");var d=i[t]||c,h=u(s[t])?p:s[t],m=d&&{enhancementType:this.readExpression(d)},f=!u(h)&&{gammaValue:this.readExpression(h)};return n(n({},m),f)}if(a(r)||a(o))throw new Error("\n          optional raster-contrast-enhancement and raster-gamma properties\n          should use one value when used with gray channel\n          eg:\n\n          raster-channels: 0; /* gray */\n          raster-contrast-enhancement: nomalize;\n          raster-gamma: 0.5;\n\n      ");var y=this.readExpression(r),g=this.readExpression(o);if(!u(y)||!u(g)){var b=y&&{enhancementType:y},v=!u(g)&&{gammaValue:g};return n(n({},b),v)}},e.prototype.getChannelFromGeoCSSChannel=function(e,t,r){var o=this.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement(t,r);return n({sourceChannelName:e+""},o&&{contrastEnhancement:o})},e.prototype.getChannelSelectionFromGeoCSSPropertyChannelSelection=function(e){var t=this.readExpression(e["raster-channels"]);if("auto"!==t){if(a(t)&&3===t.length){var r=t[0],n=t[1],o=t[2];return{redChannel:this.getChannelFromGeoCSSChannel(r,e,0),greenChannel:this.getChannelFromGeoCSSChannel(n,e,1),blueChannel:this.getChannelFromGeoCSSChannel(o,e,2)}}if(c(t)||h(t))return{grayChannel:this.getChannelFromGeoCSSChannel(t,e)};throw new Error("\n      Cannot parse raster-channels. It does not match the auto, gray or rgb structure\n      eg:\n\n      raster-channels: auto;\n      raster-channels: 0; /* gray */\n      raster-channels: 7 2 4; /* rgb */\n\n    ")}},e.prototype.getRasterSymbolizerFromGeoCSSRule=function(e){var t=this.readExpression(e["raster-opacity"]),r=this.getColorMapFromGeoCSSProperty(e),o=this.getChannelSelectionFromGeoCSSPropertyChannelSelection(e),i=!o&&this.getContrastEnhancementFromGeoCSSPropertyContrastEnhancement(e),s=!u(t)&&{opacity:t},l=r&&{colorMap:r},a=o&&{channelSelection:o},c=i&&{contrastEnhancement:i};return n(n(n(n({kind:"Raster"},s),l),a),c)},e.prototype.getSymbolizerTypesFromProperties=function(e){var t=[];return e.mark?t.push("point"):!e.stroke||"none"!==e.fill&&e.fill?e.fill&&"none"!==e.fill?t.push("polygon"):void 0!==e["raster-channels"]&&t.push("raster"):t.push("line"),e.label&&t.push("text"),t},e.prototype.getSymbolizersFromRules=function(e){var t=this;return l(e).reduce((function(e,r){var n=t.getSymbolizerTypesFromProperties(r);return i(e,n.reduce((function(e,n){return"point"===n?i(e,[t.getPointSymbolizerFromGeoCSSRule(r)]):"line"===n?i(e,[t.getLineSymbolizerFromGeoCSSRule(r)]):"polygon"===n?i(e,[t.getFillSymbolizerFromGeoCSSRule(r)]):"text"===n?i(e,[t.getTextSymbolizerFromGeoCSSRule(r)]):"raster"===n?i(e,[t.getRasterSymbolizerFromGeoCSSRule(r)]):i(e)}),[]))}),[]).reduce((function(e,t){var r=!!e.find((function(e){return p(e,t)}));return i(e,r?[]:[t])}),[])},e.prototype.getRulesFromGeoCSSSelectors=function(e){for(var t=this,r=[],s=0;s<e.length;s++){var l=e[s],u=r[r.length-1]||{},c=u.group;void 0!==c&&c===l.group?r[r.length-1]=n(n({},u),{properties:i(a(u.properties)?u.properties:[u.properties],[l.properties])}):r.push(l)}return r.map((function(e){var r=e.title,i=void 0===r?"":r,s=e.selector,l=e.properties,a=o(e,["title","selector","properties"]),u=t.getFilterFromSelectors(s),c=t.getScaleDenominatorFromSelectors(a),p=t.getSymbolizersFromRules(l),d=c&&{scaleDenominator:c},h=p&&{symbolizers:p};return n(n(n({name:i},u&&{filter:u}),d),h)}))},e.prototype.geoCSSObjectToGeoStylerStyle=function(e){var t=e.directive,r=void 0===t?{}:t,n=e.rules;return"Flat"!==r["@mode"]&&this.addWarning("Supported only 'Flat' mode, other directive will be translated as flat GeoCSS"),{name:r["@styleTitle"]||"",rules:this.getRulesFromGeoCSSSelectors(n)}},e.prototype.readStyle=function(e){var t=this;return this.warnings=[],new Promise((function(r,n){try{var o=s.read(e);r(t.geoCSSObjectToGeoStylerStyle(o))}catch(e){n(e)}}))},e.prototype.writeStyle=function(e){var t=this;return this.warnings=[],new Promise((function(r,n){try{var o=t.geoStylerStyleToGeoCSSObject(e);r(s.write(o))}catch(e){n(e)}}))},e.prototype.geoStylerStyleToGeoCSSObject=function(e){var t=this.getGeoCSSRulesFromRules(e.rules);return{directive:{"@mode":"Flat","@styleTitle":e.name},rules:t}},e.prototype.getGeoCSSRulesFromRules=function(e){var t=this;return d(e.map((function(e,r){var o=e.name,s=t.getSelectorsFromFilter(e.filter),l=o&&{title:o},a=e.scaleDenominator||{},p=a.min,d=a.max,h=!(!c(p)&&!c(d)),m=c(p)&&{"min-scale":[">",["get","@sd"],p]},f=c(d)&&{"max-scale":["<",["get","@sd"],d]},y=t.getGeoCSSPropertiesFromSymbolizers(e.symbolizers),g=y.reduce((function(e,t){return i(e,Object.keys(t))}),[]);return y.map((function(e){return n(n(n(n({selector:h&&"*"===s?["any",["all"]]:s},l),m),f),{properties:g.reduce((function(r,o){var i;return n(n({},r),((i={})[o]=u(e[o])?":"===o[0]?t.getFisrtValidPesudoselector(o,y):void 0:e[o],i))}),{}),group:r})}))})))},e.prototype.readFilterExpression=function(e){var t=this;if(e){var r=e[0],n=e.slice(1);switch(r){case"||":case"&&":return i([{"||":"any","&&":"all"}[r]],n.map((function(e){return t.readFilterExpression(e)})));case">":case"<":case">=":case"<=":case"!=":case"==":case"*=":return"=="===r&&null===n[1]?["isnull",["get",n[0]]]:[{"==":"==",">":">",">=":">=","<":"<","<=":"<=","!=":"!=","*=":"like"}[r],["get",n[0]],n[1]];default:return}}},e.prototype.getSelectorsFromFilter=function(e){return e?this.readFilterExpression(e):"*"},e.prototype.getGeoCSSPropertiesFromSymbolizers=function(e){var t=this;return e.map((function(e){switch(e.kind){case"Mark":return t.getGeoCSSPropertiesFromMarkSymbolizer(e);case"Icon":return t.getGeoCSSPropertiesFromIconSymbolizer(e);case"Text":return t.getGeoCSSPropertiesFromTextSymbolizer(e);case"Line":return t.getGeoCSSPropertiesFromLineSymbolizer(e);case"Fill":return t.getGeoCSSPropertiesFromFillSymbolizer(e);case"Raster":return t.getGeoCSSPropertiesFromRasterSymbolizer(e);default:return null}})).filter((function(e){return e}))},e.prototype.getGeoCSSPropertiesFromMarkSymbolizer=function(e,t){var r,o,i,s;void 0===t&&(t="mark");var l=e.wellKnownName&&["symbol",e.wellKnownName.toLowerCase()],a=e.opacity,c=void 0!==e.radius&&2*e.radius,p=e.rotate,d=e.color&&["hex",e.color],h=e.fillOpacity,m=e.strokeColor&&["hex",e.strokeColor],f=e.strokeWidth,y=e.strokeOpacity,g=d||m,b=l&&((r={})[t]=l,r),v="mark"===t&&!u(a)&&{"mark-opacity":a},w=!g&&!1!==c&&!u(c)&&((o={})[t+"-size"]=c,o),S=!g&&!u(p)&&((i={})[t+"-rotation"]=p,i),x=d&&{fill:d},_=h&&{"fill-opacity":h},E=m&&{stroke:m},O=f&&{"stroke-width":f},j=y&&{"stroke-opacity":y},F=!1!==c&&!u(c)&&{size:c},C=!u(p)&&{rotation:p},k=g&&((s={})[":"+t]=n(n(n(n(n(n(n({},x),_),E),O),j),F),C),s);return n(n(n(n(n({},b),v),w),S),k)},e.prototype.getGeoCSSPropertiesFromIconSymbolizer=function(e,t){var r,o,i,s;void 0===t&&(t="mark");var l=e.image&&["url",e.image],a=e.opacity,c=e.size,p=e.rotate,d=l&&((r={})[t]=l,r),h="mark"===t&&!u(a)&&((o={})[t+"-opacity"]=a,o),m=!u(c)&&((i={})[t+"-size"]=c,i),f=!u(p)&&((s={})[t+"-rotation"]=p,s);return n(n(n(n({},d),h),m),f)},e.prototype.getGeoCSSLabelPropertyFromTextSymbolizer=function(e){if(e){var t=e.split(/(\{\{)|(\}\})/g).filter((function(e){return e}));return t.map((function(e,r){return"{{"===e||"}}"===e?null:"{{"===t[r-1]&&"}}"===t[r+1]?["brace",["get",e]]:e})).filter((function(e){return null!==e}))}},e.prototype.getGeoCSSPropertiesFromTextSymbolizer=function(e){var t=this.getGeoCSSLabelPropertyFromTextSymbolizer(e.label),r=e.font,o=e.color&&["hex",e.color],s=e.size,l=e.fontStyle,a=e.fontWeight,c=e.offset&&i(["array"],e.offset),p=e.rotate,d=e.haloWidth,h=e.haloColor&&["hex",e.haloColor],m=t&&{label:i(["text"],t)},f=r&&{"font-family":i(["array"],r)},y=o&&{"font-fill":o},g=!u(s)&&{"font-size":s},b=l&&{"font-style":["get",l]},v=a&&{"font-weight":["get",a]},w=c&&{"label-offset":c},S=!u(p)&&{"label-rotation":p},x=!u(d)&&{"halo-radius":d},_=h&&{"halo-color":h};return n(n(n(n(n(n(n(n(n(n({},m),w),S),f),y),g),b),v),x),_)},e.prototype.getGeoCSSPropertiesFromLineSymbolizer=function(e){var t=e.color&&["hex",e.color],r=e.width,o=e.opacity,s=e.join,l=e.cap,a=e.dasharray&&i(["array"],e.dasharray),c=e.dashOffset,p=e.graphicStroke?"Mark"===e.graphicStroke.kind?this.getGeoCSSPropertiesFromMarkSymbolizer(e.graphicStroke,"stroke"):"Icon"===e.graphicStroke.kind?this.getGeoCSSPropertiesFromIconSymbolizer(e.graphicStroke,"stroke"):void 0:void 0,d=!p&&t&&{stroke:t},h=!u(r)&&{"stroke-width":r},m=!u(o)&&{"stroke-opacity":o},f=s&&{"stroke-linejoin":s},y=l&&{"stroke-linecap":l},g=a&&{"stroke-dasharray":a},b=c&&{"stroke-dashoffset":c};return n(n(n(n(n(n(n(n({},d),h),m),f),y),g),b),p)},e.prototype.getGeoCSSPropertiesFromFillSymbolizer=function(e){var t=e.color&&["hex",e.color],r=e.fillOpacity,o=e.outlineColor&&["hex",e.outlineColor],s=e.outlineWidth,l=e.outlineOpacity,a=e.outlineDasharray&&i(["array"],e.outlineDasharray),c=e.graphicFill?"Mark"===e.graphicFill.kind?this.getGeoCSSPropertiesFromMarkSymbolizer(e.graphicFill,"fill"):"Icon"===e.graphicFill.kind?this.getGeoCSSPropertiesFromIconSymbolizer(e.graphicFill,"fill"):void 0:void 0,p=!c&&t&&{fill:t},d=!u(r)&&{"fill-opacity":r},h=o&&{stroke:o},m=!u(s)&&{"stroke-width":s},f=!u(l)&&{"stroke-opacity":l},y=a&&{"stroke-dasharray":a};return n(n(n(n(n(n(n({},p),d),h),m),f),y),c)},e.prototype.getGeoCSSColorMapFromColorMap=function(e){if(e){var t=e.colorMapEntries&&e.colorMapEntries.length>0&&e.colorMapEntries.map((function(e){return["color-map-entry",["hex",e.color],e.quantity,e.opacity,e.label].filter((function(e){return!u(e)}))})).filter((function(e){return e.length>1})),r=e.type&&{"raster-color-map-type":["get",e.type]},o=t&&t.length>0&&{"raster-color-map":i(["array"],t)};return n(n({},r),o)}},e.prototype.getGeoCSSChannelSelectionFromChannelSelection=function(e){var t=e&&e.redChannel,r=e&&e.greenChannel,o=e&&e.blueChannel;if(t&&r&&o){var i=t.sourceChannelName,s=r.sourceChannelName,l=o.sourceChannelName,a=t.contrastEnhancement,c=a.enhancementType,p=a.gammaValue,d=r.contrastEnhancement,h=d.enhancementType,m=d.gammaValue,f=o.contrastEnhancement,y=f.enhancementType,g=f.gammaValue,b=c&&h&&y&&{"raster-contrast-enhancement":["array",["get",c],["get",h],["get",y]]},v=!u(p)&&!u(m)&&!u(g)&&{"raster-gamma":["array",p,m,g]};return n(n({"raster-channels":["array",parseFloat(i),parseFloat(s),parseFloat(l)]},b),v)}var w=e&&e.grayChannel;if(w){var S=w.sourceChannelName,x=w.contrastEnhancement,_=x.enhancementType,E=x.gammaValue;b=_&&{"raster-contrast-enhancement":["get",_]},v=!u(E)&&{"raster-gamma":E};return n(n({"raster-channels":parseFloat(S)},b),v)}return{"raster-channels":["get","auto"]}},e.prototype.getGeoCSSPropertiesFromRasterSymbolizer=function(e){var t=!u(e.opacity)&&{"raster-opacity":e.opacity},r=this.getGeoCSSColorMapFromColorMap(e.colorMap),o=this.getGeoCSSChannelSelectionFromChannelSelection(e.channelSelection),i=e&&e.contrastEnhancement||{},s=i.enhancementType,l=i.gammaValue,a=o["raster-channels"]&&"auto"===o["raster-channels"][1],c=a&&s&&{"raster-contrast-enhancement":["get",s]},p=a&&!u(l)&&{"raster-gamma":l};return n(n(n(n(n({},o),c),p),t),r)},e.title="GeoCSS Style Parser",e.combinationMap={all:"&&",any:"||"},e.comparisonMap={"==":"==",">":">",">=":">=","<":"<","<=":"<=","!=":"!=",like:"*=",ilike:"*="},e}();t.GeoCSSStyleParser=f,t.default=f},"./node_modules/geostyler-sld-parser/build/dist/SldStyleParser.js":function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,l=i.length;s<l;s++,o++)n[o]=i[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/xml2js.js"),i=r("./node_modules/lodash/isString.js"),s=r("./node_modules/lodash/isNumber.js"),l=r("./node_modules/lodash/get.js"),a=r("./node_modules/lodash/set.js"),u=r("./node_modules/lodash/isEmpty.js"),c=function(){function e(e){this.title="SLD Style Parser",this._numericFilterFields=[],this._boolFilterFields=[],this._forceCasting=!1,this._prettyOutput=!0,this.getTextSymbolizerLabelFromSldSymbolizer=function(e){var t="",r=l(e,"Literal"),n=l(e,"PropertyName"),o="Literal"===Object.keys(e)[0];if(n&&n.length>0){var i=n.map((function(e){return"{{"+e+"}}"}));r&&r.length>0?o?(r.forEach((function(e,r){t+=""+e,i[r]&&(t+=""+i[r])})),i.length>r.length&&(t+=i.join(""))):(i.forEach((function(e,n){t+=""+e,r[n]&&(t+=""+r[n])})),r.length>i.length&&(t+=r.join(""))):t=i.join("")}else r&&r.length>0?t=r.join(""):"string"==typeof e&&(t=e);return t},this.getSldLabelFromTextSymbolizer=function(e){var t=new RegExp("\\{\\{.*?\\}\\}","g"),r=e.match(t),n=e.startsWith("{{");if(r){var o=e.split(t),i=[];o.forEach((function(e){0!==e.length&&i.push(e)}));var s=r.map((function(e){return e.slice(2,e.length-2)}));return n?[{"ogc:PropertyName":s,"ogc:Literal":i}]:[{"ogc:Literal":i,"ogc:PropertyName":s}]}return[{"ogc:Literal":[e]}]},Object.assign(this,e)}return Object.defineProperty(e.prototype,"numericFilterFields",{get:function(){return this._numericFilterFields},set:function(e){this._numericFilterFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boolFilterFields",{get:function(){return this._boolFilterFields},set:function(e){this._boolFilterFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceCasting",{get:function(){return this._forceCasting},set:function(e){this._forceCasting=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prettyOutput",{get:function(){return this._prettyOutput},set:function(e){this._prettyOutput=e},enumerable:!0,configurable:!0}),e.keysByValue=function(e,t){return Object.keys(e).filter((function(r){return e[r]===t}))},e.prototype.tagNameProcessor=function(e){var t=new RegExp(/(?!xmlns)^.*:/);return e.replace(t,"")},e.prototype.getStyleNameFromSldObject=function(e){var t=l(e,"StyledLayerDescriptor.NamedLayer[0].UserStyle[0].Title[0]"),r=l(e,"StyledLayerDescriptor.NamedLayer[0].Name[0]");return t||(r||"")},e.prototype.getStrMatchesFunctionFilterFromSldFilter=function(e){var t=l(e,"Function[0].PropertyName[0]"),r=l(e,"Function[0].Literal[0]");return["FN_strMatches",t,new RegExp(r)]},e.prototype.getFunctionFilterFromSldFilter=function(e){switch(l(e,"Function[0].$.name")){case"strMatches":default:return this.getStrMatchesFunctionFilterFromSldFilter(e)}},e.prototype.getFilterFromOperatorAndComparison=function(t,r){var o,s=this;if(Object.keys(e.comparisonMap).includes(t)){var l=e.comparisonMap[t],a=!!r.Function,u=a?this.getFunctionFilterFromSldFilter(r):r.PropertyName[0],c=null;if("PropertyIsNull"!==t&&(c=r.Literal[0]),(this.forceCasting||a||-1!==this.numericFilterFields.indexOf(u))&&!Number.isNaN(parseFloat(c))&&(c=parseFloat(c)),i(c)){var p=c.toLowerCase();(this.forceCasting||a||-1!==this.boolFilterFields.indexOf(u))&&("false"===p&&(c=!1),"true"===p&&(c=!0))}o=[l,u,c]}else if(Object.keys(e.combinationMap).includes(t)){var d=e.combinationMap[t],h=[];Object.keys(r).forEach((function(e){1===r[e].length?h.push(s.getFilterFromOperatorAndComparison(e,r[e][0])):r[e].forEach((function(t){h.push(s.getFilterFromOperatorAndComparison(e,t))}))})),o=n([d],h)}else{if(!Object.keys(e.negationOperatorMap).includes(t))throw new Error("No Filter detected");var m=e.negationOperatorMap[t],f=Object.keys(r)[0],y=r[f][0];o=[m,this.getFilterFromOperatorAndComparison(f,y)]}return o},e.prototype.getFilterFromRule=function(e){var t=e.Filter;if(t){var r=t[0],n=Object.keys(r).find((function(e,t){return"$"!==e}));if(n){var o=r[n][0];return this.getFilterFromOperatorAndComparison(n,o)}}},e.prototype.getScaleDenominatorFromRule=function(e){var t={};return e.MinScaleDenominator&&(t.min=parseFloat(e.MinScaleDenominator[0])),e.MaxScaleDenominator&&(t.max=parseFloat(e.MaxScaleDenominator[0])),t.min||t.max?t:void 0},e.prototype.getMarkSymbolizerFromSldSymbolizer=function(e){var t=l(e,"Graphic[0].Mark[0].WellKnownName[0]"),r=l(e,"Graphic[0].Mark[0].Stroke[0].CssParameter")||[];0===r.length&&(r=l(e,"Graphic[0].Mark[0].Stroke[0].SvgParameter")||[]);var n=l(e,"Graphic[0].Opacity[0]"),o=l(e,"Graphic[0].Size[0]"),i=l(e,"Graphic[0].Rotation[0]"),s=l(e,"Graphic[0].Mark[0].Fill[0].CssParameter")||[];0===s.length&&(s=l(e,"Graphic[0].Mark[0].Fill[0].SvgParameter")||[]);var a=s.findIndex((function(e){return"fill"===e.$.name})),u=l(e,"Graphic[0].Mark[0].Fill[0].CssParameter["+a+"]._");if(!u){var c=l(e,"Graphic[0].Mark[0].Fill[0].SvgParameter["+a+"]._");c&&(u=c)}var p=s.findIndex((function(e){return"fill-opacity"===e.$.name})),d=l(e,"Graphic[0].Mark[0].Fill[0].CssParameter["+p+"]._"),h={kind:"Mark"};switch(n&&(h.opacity=parseFloat(n)),d&&(h.fillOpacity=parseFloat(d)),u&&(h.color=u),i&&(h.rotate=parseFloat(i)),o&&(h.radius=parseFloat(o)/2),t){case"circle":case"square":case"triangle":case"star":case"cross":case"x":var m=t.charAt(0).toUpperCase()+t.slice(1);h.wellKnownName=m;break;case"shape://vertline":case"shape://horline":case"shape://slash":case"shape://backslash":case"shape://dot":case"shape://plus":case"shape://times":case"shape://oarrow":case"shape://carrow":h.wellKnownName=t;break;default:throw new Error("MarkSymbolizer cannot be parsed. Unsupported WellKnownName.")}return r.forEach((function(e){switch(e.$.name){case"stroke":h.strokeColor=e._;break;case"stroke-width":h.strokeWidth=parseFloat(e._);break;case"stroke-opacity":h.strokeOpacity=parseFloat(e._)}})),h},e.prototype.getIconSymbolizerFromSldSymbolizer=function(e){var t={kind:"Icon",image:l(e,"Graphic[0].ExternalGraphic[0].OnlineResource[0]").$["xlink:href"]},r=l(e,"Graphic[0].Opacity[0]"),n=l(e,"Graphic[0].Size[0]"),o=l(e,"Graphic[0].Rotation[0]");return r&&(t.opacity=r),n&&(t.size=parseFloat(n)),o&&(t.rotate=parseFloat(o)),t},e.prototype.getPointSymbolizerFromSldSymbolizer=function(e){var t={},r=l(e,"Graphic[0].Mark[0].WellKnownName[0]");return l(e,"Graphic[0].ExternalGraphic[0]")?t=this.getIconSymbolizerFromSldSymbolizer(e):(r||a(e,"Graphic[0].Mark[0].WellKnownName[0]","square"),t=this.getMarkSymbolizerFromSldSymbolizer(e)),t},e.prototype.getLineSymbolizerFromSldSymbolizer=function(e){var t=this,r={kind:"Line"},n=Object.keys(l(e,"Stroke[0]"))||[];if(n.length<1)throw new Error("LineSymbolizer cannot be parsed. No Stroke detected");n.forEach((function(n){switch(n){case"CssParameter":case"SvgParameter":var o=l(e,"Stroke[0].CssParameter")||[];if(0===o.length&&(o=l(e,"Stroke[0].SvgParameter")||[]),o.length<1)throw new Error("LineSymbolizer can not be parsed. No CssParameters detected.");o.forEach((function(e){var t=e.$.name,n=e._;switch(t){case"stroke":r.color=n;break;case"stroke-width":r.width=parseFloat(n);break;case"stroke-opacity":r.opacity=parseFloat(n);break;case"stroke-linejoin":r.join="mitre"===n?"miter":n;break;case"stroke-linecap":r.cap=n;break;case"stroke-dasharray":var o=n.split(" ").map((function(e){return parseFloat(e)}));r.dasharray=o;break;case"stroke-dashoffset":r.dashOffset=parseFloat(n)}}));break;case"GraphicStroke":r.graphicStroke=t.getPointSymbolizerFromSldSymbolizer(e.Stroke[0].GraphicStroke[0]);break;case"GraphicFill":r.graphicFill=t.getPointSymbolizerFromSldSymbolizer(e.Stroke[0].GraphicFill[0])}}));var o=l(e,"PerpendicularOffset[0]");return void 0!==o&&(r.perpendicularOffset=Number(o)),r},e.prototype.getFillSymbolizerFromSldSymbolizer=function(e){var t={kind:"Fill"},r=l(e,"Fill[0].CssParameter")||[];0===r.length&&(r=l(e,"Fill[0].SvgParameter")||[]);var n=l(e,"Stroke[0].CssParameter")||[];0===n.length&&(n=l(e,"Stroke[0].SvgParameter")||[]);var o=l(e,"Fill[0].GraphicFill[0]");return o&&(t.graphicFill=this.getPointSymbolizerFromSldSymbolizer(o)),r.forEach((function(e){var r=e.$.name,n=e._;switch(r){case"fill":t.color=n;break;case"fill-opacity":t.fillOpacity=parseFloat(n)}})),t.color||(t.opacity=0),n.forEach((function(e){var r=e.$.name,n=e._;if("stroke"===r)t.outlineColor=n;else if("stroke-width"===r)t.outlineWidth=parseFloat(n);else if("stroke-opacity"===r)t.outlineOpacity=parseFloat(n);else if("stroke-dasharray"===r){var o=n.split(" "),i=[];o.forEach((function(e){i.push(parseFloat(e))})),t.outlineDasharray=i}})),t},e.prototype.getColorMapFromSldColorMap=function(e){var t={},r=l(e,"$.type");t.type=r||"ramp";var n=l(e,"$.extended");n&&(t.extended="true"===n);var o=l(e,"ColorMapEntry");if(Array.isArray(o)){var i=o.map((function(e){var t=l(e,"$.color");if(!t)throw new Error("Cannot parse ColorMapEntries. color is undefined.");var r=l(e,"$.quantity");r&&(r=parseFloat(r));var n=l(e,"$.label"),o=l(e,"$.opacity");return o&&(o=parseFloat(o)),{color:t,quantity:r,label:n,opacity:o}}));t.colorMapEntries=i}return t},e.prototype.getContrastEnhancementFromSldContrastEnhancement=function(e){var t={},r=void 0!==e.Histogram,n=void 0!==e.Normalize;if(r&&n)throw new Error("Cannot parse ContrastEnhancement. Histogram and Normalize\n      are mutually exclusive.");r?t.enhancementType="histogram":n&&(t.enhancementType="normalize");var o=l(e,"GammaValue[0]");return o&&(o=parseFloat(o)),t.gammaValue=o,t},e.prototype.getChannelFromSldChannel=function(e){var t={sourceChannelName:l(e,"SourceChannelName[0]")},r=l(e,"ContrastEnhancement[0]");return r&&(t.contrastEnhancement=this.getContrastEnhancementFromSldContrastEnhancement(r)),t},e.prototype.getChannelSelectionFromSldChannelSelection=function(e){var t,r=l(e,"RedChannel[0]"),n=l(e,"BlueChannel[0]"),o=l(e,"GreenChannel[0]"),i=l(e,"GrayChannel[0]");if(i&&r&&n&&o)throw new Error("Cannot parse ChannelSelection. RGB and Grayscale are mutually exclusive");if(i){t={grayChannel:this.getChannelFromSldChannel(i)}}else{if(!(r&&o&&n))throw new Error("Cannot parse ChannelSelection. Red, Green and Blue channels must be defined.");t={redChannel:this.getChannelFromSldChannel(r),blueChannel:this.getChannelFromSldChannel(n),greenChannel:this.getChannelFromSldChannel(o)}}return t},e.prototype.getRasterSymbolizerFromSldSymbolizer=function(e){var t={kind:"Raster"},r=l(e,"Opacity[0]");r&&(r=parseFloat(r),t.opacity=r);var n=l(e,"ColorMap")||[];if(n.length>0){var o=this.getColorMapFromSldColorMap(n[0]);t.colorMap=o}var i=l(e,"ChannelSelection")||[];if(i.length>0){var s=this.getChannelSelectionFromSldChannelSelection(i[0]);t.channelSelection=s}var a=l(e,"ContrastEnhancement")||[];if(a.length>0){var u=this.getContrastEnhancementFromSldContrastEnhancement(a[0]);t.contrastEnhancement=u}return t},e.prototype.getTextSymbolizerFromSldSymbolizer=function(e){var t={kind:"Text"},r=l(e,"Font[0].CssParameter")||[];0===r.length&&(r=l(e,"Font[0].SvgParameter")||[]);var n=l(e,"Label[0]");n&&(t.label=this.getTextSymbolizerLabelFromSldSymbolizer(n));var o=l(e,"Fill[0].CssParameter[0]._");o||(o=l(e,"Fill[0].SvgParameter[0]._"));var i=l(e,"Halo[0].Fill[0].CssParameter")||[];0===i.length&&(i=l(e,"Halo[0].Fill[0].SvgParameter")||[]);var s=l(e,"Halo[0].Radius[0]");o&&(t.color=o),s&&(t.haloWidth=parseFloat(s)),i.forEach((function(e){var r=e.$.name,n=e._;switch(r){case"fill":t.haloColor=n}}));var a=l(e,"LabelPlacement[0].PointPlacement[0].Displacement[0]");if(a){var u=a.DisplacementX[0],c=a.DisplacementY[0];t.offset=[u?parseFloat(u):0,c?parseFloat(c):0]}var p=l(e,"LabelPlacement[0].PointPlacement[0].Rotation[0]");return p&&(t.rotate=parseFloat(p)),r.forEach((function(e){var r=e.$.name,n=e._;switch(r){case"font-family":t.font=[n];break;case"font-style":t.fontStyle=n;break;case"font-weight":t.fontWeight=n;break;case"font-size":t.size=parseFloat(n)}})),t},e.prototype.getSymbolizersFromRule=function(e){var t=this,r=[];return Object.keys(e).filter((function(e){return e.endsWith("Symbolizer")})).forEach((function(n){e[n].forEach((function(e){var o;switch(n){case"PointSymbolizer":o=t.getPointSymbolizerFromSldSymbolizer(e);break;case"LineSymbolizer":o=t.getLineSymbolizerFromSldSymbolizer(e);break;case"TextSymbolizer":o=t.getTextSymbolizerFromSldSymbolizer(e);break;case"PolygonSymbolizer":o=t.getFillSymbolizerFromSldSymbolizer(e);break;case"RasterSymbolizer":o=t.getRasterSymbolizerFromSldSymbolizer(e);break;default:throw new Error("Failed to parse SymbolizerKind from SldRule")}r.push(o)}))})),r},e.prototype.getRulesFromSldObject=function(e){var t=this,r=e.StyledLayerDescriptor.NamedLayer,n=[];return r.forEach((function(e){e.UserStyle.forEach((function(e){e.FeatureTypeStyle.forEach((function(e){e.Rule.forEach((function(e){var r=t.getFilterFromRule(e),o=t.getScaleDenominatorFromRule(e),i=t.getSymbolizersFromRule(e),s={name:e.Title?e.Title[0]:e.Name?e.Name[0]:""};r&&(s.filter=r),o&&(s.scaleDenominator=o),i&&(s.symbolizers=i),n.push(s)}))}))}))})),n},e.prototype.sldObjectToGeoStylerStyle=function(e){var t=this.getRulesFromSldObject(e);return{name:this.getStyleNameFromSldObject(e),rules:t}},e.prototype.readStyle=function(e){var t=this;return new Promise((function(r,n){var i={tagNameProcessors:[t.tagNameProcessor]};try{o.parseString(e,i,(function(e,o){e&&n("Error while parsing sldString: "+e);var i=t.sldObjectToGeoStylerStyle(o);r(i)}))}catch(e){n(e)}}))},e.prototype.writeStyle=function(e){var t=this;return new Promise((function(r,n){try{var i={renderOpts:{pretty:t.prettyOutput}},s=new o.Builder(i),l=t.geoStylerStyleToSldObject(e);r(s.buildObject(l))}catch(e){n(e)}}))},e.prototype.geoStylerStyleToSldObject=function(e){var t=this.getSldRulesFromRules(e.rules);return t.forEach((function(e){e.Filter&&!e.Filter.$&&(e.Filter.$={xmlns:"http://www.opengis.net/ogc"})})),{StyledLayerDescriptor:{$:{version:"1.0.0","xsi:schemaLocation":"http://www.opengis.net/sld StyledLayerDescriptor.xsd",xmlns:"http://www.opengis.net/sld","xmlns:ogc":"http://www.opengis.net/ogc","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},NamedLayer:[{Name:[e.name||""],UserStyle:[{Name:[e.name||""],Title:[e.name||""],FeatureTypeStyle:[{Rule:t}]}]}]}}},e.prototype.getSldRulesFromRules=function(e){var t=this;return e.map((function(e){var r={Name:[e.name]};if(e.filter){var n=t.getSldFilterFromFilter(e.filter);r.Filter=n}if(e.scaleDenominator){var o=e.scaleDenominator,i=o.min,l=o.max;i&&s(i)&&(r.MinScaleDenominator=[i.toString()]),l&&s(l)&&(r.MaxScaleDenominator=[l.toString()])}var a=t.getSldSymbolizersFromSymbolizers(e.symbolizers),u=[];return a.length>0&&(u=Object.keys(a[0])),u.forEach((function(e){0===a[0][e].length&&delete a[0][e]})),a.length>0&&0!==Object.keys(a[0]).length&&(r=Object.assign(r,a[0])),r}))},e.prototype.getSldSymbolizersFromSymbolizers=function(e){var t=this,r=[],n={};return e.forEach((function(e){var o;switch(e.kind){case"Mark":n.PointSymbolizer||(n.PointSymbolizer=[]),o=t.getSldPointSymbolizerFromMarkSymbolizer(e),l(o,"PointSymbolizer[0]")&&n.PointSymbolizer.push(l(o,"PointSymbolizer[0]"));break;case"Icon":n.PointSymbolizer||(n.PointSymbolizer=[]),o=t.getSldPointSymbolizerFromIconSymbolizer(e),l(o,"PointSymbolizer[0]")&&n.PointSymbolizer.push(l(o,"PointSymbolizer[0]"));break;case"Text":n.TextSymbolizer||(n.TextSymbolizer=[]),o=t.getSldTextSymbolizerFromTextSymbolizer(e),l(o,"TextSymbolizer[0]")&&n.TextSymbolizer.push(l(o,"TextSymbolizer[0]"));break;case"Line":n.LineSymbolizer||(n.LineSymbolizer=[]),o=t.getSldLineSymbolizerFromLineSymbolizer(e),l(o,"LineSymbolizer[0]")&&n.LineSymbolizer.push(l(o,"LineSymbolizer[0]"));break;case"Fill":n.PolygonSymbolizer||(n.PolygonSymbolizer=[]),o=t.getSldPolygonSymbolizerFromFillSymbolizer(e),l(o,"PolygonSymbolizer[0]")&&n.PolygonSymbolizer.push(l(o,"PolygonSymbolizer[0]"));break;case"Raster":n.RasterSymbolizer||(n.RasterSymbolizer=[]),o=t.getSldRasterSymbolizerFromRasterSymbolizer(e),l(o,"RasterSymbolizer[0]")&&n.RasterSymbolizer.push(l(o,"RasterSymbolizer[0]"))}r.push(n)})),r},e.prototype.getSldTextSymbolizerFromTextSymbolizer=function(e){var t=[{Label:e.label?this.getSldLabelFromTextSymbolizer(e.label):void 0}],r={font:"font-family",size:"font-size",fontStyle:"font-style",fontWeight:"font-weight"},n=Object.keys(e).filter((function(e){return"kind"!==e&&r[e]})).map((function(t){return{_:"font"===t?e[t][0]:e[t],$:{name:r[t]}}}));if(n.length>0&&(t[0].Font=[{CssParameter:n}]),e.offset||void 0!==e.rotate){var o=[{}];e.offset&&(o[0].Displacement=[{DisplacementX:[e.offset[0].toString()],DisplacementY:[e.offset[1].toString()]}]),void 0!==e.rotate&&(o[0].Rotation=[e.rotate.toString()]),t[0].LabelPlacement=[{PointPlacement:o}]}if(e.color&&(t[0].Fill=[{CssParameter:[{_:e.color,$:{name:"fill"}}]}]),e.haloWidth||e.haloColor){var i={},s=[];e.haloWidth&&(i.Radius=[e.haloWidth.toString()]),e.haloColor&&s.push({_:e.haloColor,$:{name:"fill"}}),s.length>0&&(i.Fill=[{CssParameter:s}]),t[0].Halo=[i]}return{TextSymbolizer:t}},e.prototype.getSldPolygonSymbolizerFromFillSymbolizer=function(e){var t,r={outlineColor:"stroke",outlineWidth:"stroke-width",outlineOpacity:"stroke-opacity",outlineDasharray:"stroke-dasharray"},n={color:"fill",fillOpacity:"fill-opacity"},o=[],i=[];l(e,"graphicFill")&&("Mark"===l(e,"graphicFill.kind")?t=this.getSldPointSymbolizerFromMarkSymbolizer(e.graphicFill):"Icon"===l(e,"graphicFill.kind")&&(t=this.getSldPointSymbolizerFromIconSymbolizer(e.graphicFill))),Object.keys(e).filter((function(e){return"kind"!==e})).filter((function(t){return void 0!==e[t]&&null!==e[t]})).forEach((function(t){if(Object.keys(n).includes(t))i.push({_:e[t],$:{name:n[t]}});else if(Object.keys(r).includes(t)){var s="";if("outlineDasharray"===t){var l=e[t];s="",l.forEach((function(e,t){s+=e,t<l.length-1&&(s+=" ")}))}else s="outlineWidth"===t||"outlineOpacity"===t?e[t]+"":e[t];o.push({_:s,$:{name:r[t]}})}}));var s=[{}];return(i.length>0||t)&&(s[0].Fill=[{}],t&&(s[0].Fill[0].GraphicFill=[t.PointSymbolizer[0]]),i.length>0&&(s[0].Fill[0].CssParameter=i)),o.length>0&&(s[0].Stroke=[{CssParameter:o}]),{PolygonSymbolizer:s}},e.prototype.getSldLineSymbolizerFromLineSymbolizer=function(e){var t={color:"stroke",width:"stroke-width",opacity:"stroke-opacity",join:"stroke-linejoin",cap:"stroke-linecap",dasharray:"stroke-dasharray",dashOffset:"stroke-dashoffset"},r={LineSymbolizer:[{Stroke:[{}]}]},n=Object.keys(e).filter((function(r){return"kind"!==r&&t[r]&&void 0!==e[r]&&null!==e[r]})).map((function(r){var n=e[r];return"dasharray"===r&&(n=e.dasharray?e.dasharray.join(" "):void 0),"join"===r&&"miter"===n&&(n="mitre"),{_:n,$:{name:t[r]}}})),o=e.perpendicularOffset;if(l(e,"graphicStroke"))if("Mark"===l(e,"graphicStroke.kind")){var i=this.getSldPointSymbolizerFromMarkSymbolizer(e.graphicStroke);r.LineSymbolizer[0].Stroke[0].GraphicStroke=[i.PointSymbolizer[0]]}else if("Icon"===l(e,"graphicStroke.kind")){i=this.getSldPointSymbolizerFromIconSymbolizer(e.graphicStroke);r.LineSymbolizer[0].Stroke[0].GraphicStroke=[i.PointSymbolizer[0]]}if(l(e,"graphicFill"))if("Mark"===l(e,"graphicFill.kind")){var s=this.getSldPointSymbolizerFromMarkSymbolizer(e.graphicFill);r.LineSymbolizer[0].Stroke[0].GraphicFill=[s.PointSymbolizer[0]]}else if("Icon"===l(e,"graphicFill.kind")){s=this.getSldPointSymbolizerFromIconSymbolizer(e.graphicFill);r.LineSymbolizer[0].Stroke[0].GraphicFill=[s.PointSymbolizer[0]]}return 0!==n.length&&(r.LineSymbolizer[0].Stroke[0].CssParameter=n),o&&(r.LineSymbolizer[0].PerpendicularOffset=[o]),r},e.prototype.getSldPointSymbolizerFromMarkSymbolizer=function(e){var t=[{WellKnownName:[e.wellKnownName.toLowerCase()]}];if(e.color||e.fillOpacity){var r=[];e.color&&r.push({_:e.color,$:{name:"fill"}}),e.fillOpacity&&r.push({_:e.fillOpacity,$:{name:"fill-opacity"}}),t[0].Fill=[{CssParameter:r}]}if(e.strokeColor||e.strokeWidth||e.strokeOpacity){t[0].Stroke=[{}];var n=[];e.strokeColor&&n.push({_:e.strokeColor,$:{name:"stroke"}}),e.strokeWidth&&n.push({_:e.strokeWidth.toString(),$:{name:"stroke-width"}}),e.strokeOpacity&&n.push({_:e.strokeOpacity.toString(),$:{name:"stroke-opacity"}}),t[0].Stroke[0].CssParameter=n}var o=[{Mark:t}];return e.opacity&&(o[0].Opacity=[e.opacity.toString()]),e.radius&&(o[0].Size=[(2*e.radius).toString()]),e.rotate&&(o[0].Rotation=[e.rotate.toString()]),{PointSymbolizer:[{Graphic:o}]}},e.prototype.getSldPointSymbolizerFromIconSymbolizer=function(e){var t=[{ExternalGraphic:[{OnlineResource:[{$:{"xlink:type":"simple","xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":e.image}}]}]}];if(e.image){var r=e.image.split(".").pop();switch(r){case"png":case"jpeg":case"gif":t[0].ExternalGraphic[0].Format=["image/"+r];break;case"jpg":t[0].ExternalGraphic[0].Format=["image/jpeg"];break;case"svg":t[0].ExternalGraphic[0].Format=["image/svg+xml"]}}return e.opacity&&(t[0].Opacity=e.opacity),e.size&&(t[0].Size=e.size),e.rotate&&(t[0].Rotation=e.rotate),{PointSymbolizer:[{Graphic:t}]}},e.prototype.getSldRasterSymbolizerFromRasterSymbolizer=function(e){var t,r,n,o,i=[{}];return void 0!==e.opacity&&(t=[e.opacity.toString()],i[0].Opacity=t),e.colorMap&&(r=this.getSldColorMapFromColorMap(e.colorMap),u(r[0])||(i[0].ColorMap=r)),e.channelSelection&&(n=this.getSldChannelSelectionFromChannelSelection(e.channelSelection),u(n[0])||(i[0].ChannelSelection=n)),e.contrastEnhancement&&(o=this.getSldContrastEnhancementFromContrastEnhancement(e.contrastEnhancement),u(o[0])||(i[0].ContrastEnhancement=o)),{RasterSymbolizer:i}},e.prototype.getSldColorMapFromColorMap=function(e){var t=[{$:{}}];if(e.type){var r=e.type;t[0].$.type=r}if(void 0!==e.extended){var n=e.extended.toString();t[0].$.extended=n}if(e.colorMapEntries&&e.colorMapEntries.length>0){var o=e.colorMapEntries.map((function(e){var t={$:{}};return e.color&&(t.$.color=e.color),void 0!==e.quantity&&(t.$.quantity=e.quantity.toString()),e.label&&(t.$.label=e.label),void 0!==e.opacity&&(t.$.opacity=e.opacity.toString()),t})).filter((function(e){return Object.keys(e.$).length>0}));t[0].ColorMapEntry=o}return t},e.prototype.getSldChannelSelectionFromChannelSelection=function(e){var t=this,r={redChannel:"RedChannel",blueChannel:"BlueChannel",greenChannel:"GreenChannel",grayChannel:"GrayChannel"},n=Object.keys(e),o=[{}];return n.forEach((function(n){var i=[{}],s=l(e,n+".sourceChannelName"),a=l(e,n+".contrastEnhancement");(s||a)&&(s&&(i[0].SourceChannelName=[s]),a&&(i[0].ContrastEnhancement=t.getSldContrastEnhancementFromContrastEnhancement(a)),o[0][r[n]]=i)})),o},e.prototype.getSldContrastEnhancementFromContrastEnhancement=function(e){var t=[{}],r=l(e,"enhancementType");return"normalize"===r?t[0].Normalize=[""]:"histogram"===r&&(t[0].Histogram=[""]),void 0!==e.gammaValue&&(t[0].GammaValue=[e.gammaValue.toString()]),t},e.prototype.getSldStrMatchesFunctionFromFunctionFilter=function(e){return{$:{name:"strMatches"},PropertyName:[e[1]],Literal:[e[2].toString().replace(/\//g,"")]}},e.prototype.getSldFunctionFilterFromFunctionFilter=function(e){switch(e[0].split("FN_")[1]){case"strMatches":return this.getSldStrMatchesFunctionFromFunctionFilter(e)}},e.prototype.getSldComparisonFilterFromComparisonFilter=function(t){var r,n,o,i={},s=t[0],l=t[1],a=t[2],u=e.keysByValue(e.comparisonMap,s),c=u.length>1&&null===a?u[1]:u[0],p="PropertyName";return Array.isArray(l)&&l[0].startsWith("FN_")&&(l=this.getSldFunctionFilterFromFunctionFilter(l),p="Function"),i[c]="PropertyIsNull"===c?[(r={},r[p]=[l],r)]:"PropertyIsLike"===c?[(n={$:{wildCard:"*",singleChar:".",escape:"!"}},n[p]=[l],n.Literal=[a],n)]:[(o={},o[p]=[l],o.Literal=[a],o)],i},e.prototype.getSldFilterFromFilter=function(t){var r=this,n={},o=t[0],i=t.slice(1);if(Object.values(e.comparisonMap).includes(o))n=this.getSldComparisonFilterFromComparisonFilter(t);else if(Object.values(e.combinationMap).includes(o)){var s=e.keysByValue(e.combinationMap,o)[0];n[s]=[{}],i.forEach((function(e,t){var o=r.getSldFilterFromFilter(e),i=Object.keys(o)[0];if("||"===e[0]||"&&"===e[0]){["And","Or"].includes(i)?(n[s][0][i]||(n[s][0][i]=[]),n[s][0][i][t]={}):n[s][0][i]={};var l=Object.keys(o)[0];e.forEach((function(e,o){if(o>0){var i=r.getSldFilterFromFilter(e),a=Object.keys(i)[0];n[s][0][l][t]||(n[s][0][l][t]={}),n[s][0][l][t][a]||(n[s][0][l][t][a]=[]),n[s][0][l][t][a].push(i[a][0])}}))}else Array.isArray(n[s][0][i])?n[s][0][i].push(o[i][0]):n[s][0][i]=o[i]}))}else Object.values(e.negationOperatorMap).includes(o)&&(n.Not=i.map((function(e){return r.getSldFilterFromFilter(e)})));return n},e.title="SLD Style Parser",e.negationOperatorMap={Not:"!"},e.combinationMap={And:"&&",Or:"||",PropertyIsBetween:"&&"},e.comparisonMap={PropertyIsEqualTo:"==",PropertyIsNotEqualTo:"!=",PropertyIsLike:"*=",PropertyIsLessThan:"<",PropertyIsLessThanOrEqualTo:"<=",PropertyIsGreaterThan:">",PropertyIsGreaterThanOrEqualTo:">=",PropertyIsNull:"=="},e}();t.SldStyleParser=c,t.default=c},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/bom.js":function(e,t){(function(){"use strict";t.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/builder.js":function(e,t,r){(function(){"use strict";var e,n,o,i,s,l={}.hasOwnProperty;e=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/index.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/defaults.js").defaults,i=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},s=function(e){return"<![CDATA["+o(e)+"]]>"},o=function(e){return e.replace("]]>","]]]]><![CDATA[>")},t.Builder=function(){function t(e){var t,r,o;for(t in this.options={},r=n[.2])l.call(r,t)&&(o=r[t],this.options[t]=o);for(t in e)l.call(e,t)&&(o=e[t],this.options[t]=o)}return t.prototype.buildObject=function(t){var r,o,a,u,c,p;return r=this.options.attrkey,o=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===n[.2].rootName?t=t[c=Object.keys(t)[0]]:c=this.options.rootName,p=this,a=function(e,t){var n,u,c,d,h,m;if("object"!=typeof t)p.options.cdata&&i(t)?e.raw(s(t)):e.txt(t);else if(Array.isArray(t)){for(d in t)if(l.call(t,d))for(h in u=t[d])c=u[h],e=a(e.ele(h),c).up()}else for(h in t)if(l.call(t,h))if(u=t[h],h===r){if("object"==typeof u)for(n in u)m=u[n],e=e.att(n,m)}else if(h===o)e=p.options.cdata&&i(u)?e.raw(s(u)):e.txt(u);else if(Array.isArray(u))for(d in u)l.call(u,d)&&(e="string"==typeof(c=u[d])?p.options.cdata&&i(c)?e.ele(h).raw(s(c)).up():e.ele(h,c).up():a(e.ele(h),c).up());else"object"==typeof u?e=a(e.ele(h),u).up():"string"==typeof u&&p.options.cdata&&i(u)?e=e.ele(h).raw(s(u)).up():(null==u&&(u=""),e=e.ele(h,u.toString()).up());return e},u=e.create(c,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),a(u,t).end(this.options.renderOpts)},t}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/defaults.js":function(e,t){(function(){t.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/parser.js":function(e,t,r){(function(){"use strict";var e,n,o,i,s,l,a,u,c=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty;a=r("./node_modules/sax/lib/sax.js"),o=r("./node_modules/events/events.js"),e=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/bom.js"),l=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/processors.js"),u=r("./node_modules/timers-browserify/main.js").setImmediate,n=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/defaults.js").defaults,i=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},s=function(e,t,r){var n,o;for(n=0,o=e.length;n<o;n++)t=(0,e[n])(t,r);return t},t.Parser=function(r){function o(e){var r,o,i;if(this.parseStringPromise=c(this.parseStringPromise,this),this.parseString=c(this.parseString,this),this.reset=c(this.reset,this),this.assignOrPush=c(this.assignOrPush,this),this.processAsync=c(this.processAsync,this),!(this instanceof t.Parser))return new t.Parser(e);for(r in this.options={},o=n[.2])p.call(o,r)&&(i=o[r],this.options[r]=i);for(r in e)p.call(e,r)&&(i=e[r],this.options[r]=i);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return function(e,t){for(var r in t)p.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(o,r),o.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),u(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},o.prototype.assignOrPush=function(e,t,r){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(r)):this.options.explicitArray?e[t]=[r]:e[t]=r},o.prototype.reset=function(){var e,t,r,n,o;return this.removeAllListeners(),this.saxParser=a.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(o=this,function(e){if(o.saxParser.resume(),!o.saxParser.errThrown)return o.saxParser.errThrown=!0,o.emit("error",e)}),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,n=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(r){return function(o){var i,l,a,u,c;if((a={})[t]="",!r.options.ignoreAttrs)for(i in c=o.attributes)p.call(c,i)&&(e in a||r.options.mergeAttrs||(a[e]={}),l=r.options.attrValueProcessors?s(r.options.attrValueProcessors,o.attributes[i],i):o.attributes[i],u=r.options.attrNameProcessors?s(r.options.attrNameProcessors,i):i,r.options.mergeAttrs?r.assignOrPush(a,u,l):a[e][u]=l);return a["#name"]=r.options.tagNameProcessors?s(r.options.tagNameProcessors,o.name):o.name,r.options.xmlns&&(a[r.options.xmlnskey]={uri:o.uri,local:o.local}),n.push(a)}}(this),this.saxParser.onclosetag=function(e){return function(){var r,o,l,a,u,c,d,h,m,f;if(c=n.pop(),u=c["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete c["#name"],!0===c.cdata&&(r=c.cdata,delete c.cdata),m=n[n.length-1],c[t].match(/^\s*$/)&&!r?(o=c[t],delete c[t]):(e.options.trim&&(c[t]=c[t].trim()),e.options.normalize&&(c[t]=c[t].replace(/\s{2,}/g," ").trim()),c[t]=e.options.valueProcessors?s(e.options.valueProcessors,c[t],u):c[t],1===Object.keys(c).length&&t in c&&!e.EXPLICIT_CHARKEY&&(c=c[t])),i(c)&&(c=""!==e.options.emptyTag?e.options.emptyTag:o),null!=e.options.validator&&(f="/"+function(){var e,t,r;for(r=[],e=0,t=n.length;e<t;e++)a=n[e],r.push(a["#name"]);return r}().concat(u).join("/"),function(){var t;try{c=e.options.validator(f,m&&m[u],c)}catch(r){return t=r,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"==typeof c)if(e.options.preserveChildrenOrder){if(m){for(l in m[e.options.childkey]=m[e.options.childkey]||[],d={},c)p.call(c,l)&&(d[l]=c[l]);m[e.options.childkey].push(d),delete c["#name"],1===Object.keys(c).length&&t in c&&!e.EXPLICIT_CHARKEY&&(c=c[t])}}else a={},e.options.attrkey in c&&(a[e.options.attrkey]=c[e.options.attrkey],delete c[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in c&&(a[e.options.charkey]=c[e.options.charkey],delete c[e.options.charkey]),Object.getOwnPropertyNames(c).length>0&&(a[e.options.childkey]=c),c=a;return n.length>0?e.assignOrPush(m,u,c):(e.options.explicitRoot&&(h=c,(c={})[u]=h),e.resultObject=c,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),r=function(e){return function(r){var o,i;if(i=n[n.length-1])return i[t]+=r,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(i[e.options.childkey]=i[e.options.childkey]||[],(o={"#name":"__text__"})[t]=r,e.options.normalize&&(o[t]=o[t].replace(/\s{2,}/g," ").trim()),i[e.options.childkey].push(o)),i}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(e){var t;if(t=r(e))return t.cdata=!0}},o.prototype.parseString=function(t,r){var n;null!=r&&"function"==typeof r&&(this.on("end",(function(e){return this.reset(),r(null,e)})),this.on("error",(function(e){return this.reset(),r(e)})));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,u(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(e){if(n=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},o.prototype.parseStringPromise=function(e){return new Promise((t=this,function(r,n){return t.parseString(e,(function(e,t){return e?n(e):r(t)}))}));var t},o}(o),t.parseString=function(e,r,n){var o,i;return null!=n?("function"==typeof n&&(o=n),"object"==typeof r&&(i=r)):("function"==typeof r&&(o=r),i={}),new t.Parser(i).parseString(e,o)},t.parseStringPromise=function(e,r){var n;return"object"==typeof r&&(n=r),new t.Parser(n).parseStringPromise(e)}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/processors.js":function(e,t){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),t.normalize=function(e){return e.toLowerCase()},t.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.stripPrefix=function(t){return t.replace(e,"")},t.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},t.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/xml2js.js":function(e,t,r){(function(){"use strict";var e,n,o,i,s={}.hasOwnProperty;n=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/defaults.js"),e=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/builder.js"),o=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/parser.js"),i=r("./node_modules/geostyler-sld-parser/node_modules/xml2js/lib/processors.js"),t.defaults=n.defaults,t.processors=i,t.ValidationError=function(e){function t(e){this.message=e}return function(e,t){for(var r in t)s.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,Error),t}(),t.Builder=e.Builder,t.Parser=o.Parser,t.parseString=o.parseString,t.parseStringPromise=o.parseStringPromise}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/DocumentPosition.js":function(e,t){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js":function(e,t){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js":function(e,t){(function(){var t,r,n,o,i,s,l,a=[].slice,u={}.hasOwnProperty;t=function(){var e,t,r,n,o,s;if(s=arguments[0],o=2<=arguments.length?a.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(e=0,r=o.length;e<r;e++)if(null!=(n=o[e]))for(t in n)u.call(n,t)&&(s[t]=n[t]);return s},i=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},s=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},n=function(e){return i(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},o=function(e){var t;if(n(e))return!e.length;for(t in e)if(u.call(e,t))return!1;return!0},l=function(e){var t,r;return s(e)&&(r=Object.getPrototypeOf(e))&&(t=r.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},r=function(e){return i(e.valueOf)?e.valueOf():e},e.exports.assign=t,e.exports.isFunction=i,e.exports.isObject=s,e.exports.isArray=n,e.exports.isEmpty=o,e.exports.isPlainObject=l,e.exports.getValue=r}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/WriterState.js":function(e,t){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLAttribute.js":function(e,t,r){(function(){var t;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),e.exports=function(){function e(e,r,n){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==r)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(n),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&(e.prefix===this.prefix&&(e.localName===this.localName&&e.value===this.value))},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCData.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCharacterData.js"),e.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(n)}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCharacterData.js":function(e,t,r){(function(){var t,n={}.hasOwnProperty;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(t)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLComment.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCharacterData.js"),e.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(n)}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMConfiguration.js":function(e,t,r){(function(){var t,n;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMStringList.js"),e.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js":function(e,t){(function(){e.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMImplementation.js":function(e,t){(function(){e.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,r){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,r){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMStringList.js":function(e,t){(function(){e.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDAttList.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),e.exports=function(e){function r(e,n,o,i,s,l){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw new Error("Missing DTD attribute name. "+this.debugInfo(n));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(n));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(n));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(n));if(l&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(n));this.elementName=this.stringify.name(n),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(i),l&&(this.defaultValue=this.stringify.dtdAttDefault(l)),this.defaultValueType=s}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDElement.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),e.exports=function(e){function r(e,n,o){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(n),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDEntity.js":function(e,t,r){(function(){var t,n,o,i={}.hasOwnProperty;o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js").isObject,n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),e.exports=function(e){function r(e,n,i,s){if(r.__super__.constructor.call(this,e),null==i)throw new Error("Missing DTD entity name. "+this.debugInfo(i));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(i));if(this.pe=!!n,this.name=this.stringify.name(i),this.type=t.EntityDeclaration,o(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(i));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(i));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(i))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return null}}),r.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDNotation.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),e.exports=function(e){function r(e,n,o){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD notation name. "+this.debugInfo(n));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(n));this.name=this.stringify.name(n),this.type=t.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDeclaration.js":function(e,t,r){(function(){var t,n,o,i={}.hasOwnProperty;o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js").isObject,n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),e.exports=function(e){function r(e,n,i,s){var l;r.__super__.constructor.call(this,e),o(n)&&(n=(l=n).version,i=l.encoding,s=l.standalone),n||(n="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(n),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocType.js":function(e,t,r){(function(){var t,n,o,i,s,l,a,u,c={}.hasOwnProperty;u=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js").isObject,a=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDAttList.js"),i=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDEntity.js"),o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDElement.js"),s=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDNotation.js"),l=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNamedNodeMap.js"),e.exports=function(e){function r(e,n,o){var i,s,l,a,c,p;if(r.__super__.constructor.call(this,e),this.type=t.DocType,e.children)for(s=0,l=(a=e.children).length;s<l;s++)if((i=a[s]).type===t.Element){this.name=i.name;break}this.documentObject=e,u(n)&&(n=(c=n).pubID,o=c.sysID),null==o&&(o=(p=[n,o])[0],n=p[1]),null!=n&&(this.pubID=this.stringify.dtdPubID(n)),null!=o&&(this.sysID=this.stringify.dtdSysID(o))}return function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),Object.defineProperty(r.prototype,"entities",{get:function(){var e,r,n,o,i;for(o={},r=0,n=(i=this.children).length;r<n;r++)(e=i[r]).type!==t.EntityDeclaration||e.pe||(o[e.name]=e);return new l(o)}}),Object.defineProperty(r.prototype,"notations",{get:function(){var e,r,n,o,i;for(o={},r=0,n=(i=this.children).length;r<n;r++)(e=i[r]).type===t.NotationDeclaration&&(o[e.name]=e);return new l(o)}}),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(r.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),r.prototype.element=function(e,t){var r;return r=new o(this,e,t),this.children.push(r),this},r.prototype.attList=function(e,t,r,o,i){var s;return s=new n(this,e,t,r,o,i),this.children.push(s),this},r.prototype.entity=function(e,t){var r;return r=new i(this,!1,e,t),this.children.push(r),this},r.prototype.pEntity=function(e,t){var r;return r=new i(this,!0,e,t),this.children.push(r),this},r.prototype.notation=function(e,t){var r;return r=new s(this,e,t),this.children.push(r),this},r.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},r.prototype.ele=function(e,t){return this.element(e,t)},r.prototype.att=function(e,t,r,n,o){return this.attList(e,t,r,n,o)},r.prototype.ent=function(e,t){return this.entity(e,t)},r.prototype.pent=function(e,t){return this.pEntity(e,t)},r.prototype.not=function(e,t){return this.notation(e,t)},r.prototype.up=function(){return this.root()||this.documentObject},r.prototype.isEqualNode=function(e){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&(e.name===this.name&&(e.publicId===this.publicId&&e.systemId===this.systemId))},r}(a)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocument.js":function(e,t,r){(function(){var t,n,o,i,s,l,a,u={}.hasOwnProperty;a=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js").isPlainObject,o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMImplementation.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMConfiguration.js"),i=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),l=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStringifier.js"),s=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStringWriter.js"),e.exports=function(e){function r(e){r.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new n,e||(e={}),e.writer||(e.writer=new s),this.options=e,this.stringify=new l(e)}return function(e,t){for(var r in t)u.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),Object.defineProperty(r.prototype,"implementation",{value:new o}),Object.defineProperty(r.prototype,"doctype",{get:function(){var e,r,n,o;for(r=0,n=(o=this.children).length;r<n;r++)if((e=o[r]).type===t.DocType)return e;return null}}),Object.defineProperty(r.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(r.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(r.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(r.prototype,"origin",{get:function(){return null}}),Object.defineProperty(r.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(r.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(r.prototype,"contentType",{get:function(){return null}}),r.prototype.end=function(e){var t;return t={},e?a(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},r.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},r.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.renameNode=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createNodeIterator=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTreeWalker=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(i)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocumentCB.js":function(e,t,r){(function(){var t,n,o,i,s,l,a,u,c,p,d,h,m,f,y,g,b,v,w,S,x,_,E,O={}.hasOwnProperty;E=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js"),x=E.isObject,S=E.isFunction,_=E.isPlainObject,w=E.getValue,t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),h=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocument.js"),m=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLElement.js"),i=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCData.js"),s=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLComment.js"),y=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLRaw.js"),v=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLText.js"),f=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"),p=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDeclaration.js"),d=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocType.js"),l=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDAttList.js"),u=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDEntity.js"),a=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDElement.js"),c=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDNotation.js"),o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLAttribute.js"),b=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStringifier.js"),g=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStringWriter.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/WriterState.js"),e.exports=function(){function e(e,r,n){var o;this.name="?xml",this.type=t.Document,e||(e={}),o={},e.writer?_(e.writer)&&(o=e.writer,e.writer=new g):e.writer=new g,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new b(e),this.onDataCallback=r||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var r,n,o,i,s,l,a,u;switch(e.type){case t.CData:this.cdata(e.value);break;case t.Comment:this.comment(e.value);break;case t.Element:for(n in o={},a=e.attribs)O.call(a,n)&&(r=a[n],o[n]=r.value);this.node(e.name,o);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(e.value);break;case t.Text:this.text(e.value);break;case t.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(s=0,l=(u=e.children).length;s<l;s++)i=u[s],this.createChildNode(i),i.type===t.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,r){var n;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=w(e),null==t&&(t={}),t=w(t),x(t)||(r=(n=[t,r])[0],t=n[1]),this.currentNode=new m(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},e.prototype.element=function(e,r,n){var o,i,s,l,a,u;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||x(e)||S(e))for(l=this.options.noValidation,this.options.noValidation=!0,(u=new h(this.options).element("TEMP_ROOT")).element(e),this.options.noValidation=l,i=0,s=(a=u.children).length;i<s;i++)o=a[i],this.createChildNode(o),o.type===t.Element&&this.up();else this.node(e,r,n);return this},e.prototype.attribute=function(e,t){var r,n;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=w(e)),x(e))for(r in e)O.call(e,r)&&(n=e[r],this.attribute(r,n));else S(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new o(this,e,""):null!=t&&(this.currentNode.attribs[e]=new o(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new v(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new s(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new y(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var r,n,o,i,s;if(this.openCurrent(),null!=e&&(e=w(e)),null!=t&&(t=w(t)),Array.isArray(e))for(r=0,i=e.length;r<i;r++)n=e[r],this.instruction(n);else if(x(e))for(n in e)O.call(e,n)&&(o=e[n],this.instruction(n,o));else S(t)&&(t=t.apply()),s=new f(this,e,t),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return n=new p(this,e,t,r),this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,r){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new d(this,t,r),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var r;return this.openCurrent(),r=new a(this,e,t),this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,r,n,o){var i;return this.openCurrent(),i=new l(this,e,t,r,n,o),this.onData(this.writer.dtdAttList(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var r;return this.openCurrent(),r=new u(this,!1,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var r;return this.openCurrent(),r=new u(this,!0,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var r;return this.openCurrent(),r=new c(this,e,t),this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var r,o,i,s;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==t.Element||(this.root=e),o="",e.type===t.Element){for(i in this.writerOptions.state=n.OpenTag,o=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,s=e.attribs)O.call(s,i)&&(r=s[i],o+=this.writer.attribute(r,this.writerOptions,this.currentLevel));o+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=n.InsideTag}else this.writerOptions.state=n.OpenTag,o=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.children?(o+=" [",this.writerOptions.state=n.InsideTag):(this.writerOptions.state=n.CloseTag,o+=">"),o+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var r;if(!e.isClosed)return r="",this.writerOptions.state=n.CloseTag,r=e.type===t.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=n.None,this.onData(r,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,r){return this.node(e,t,r)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},e.prototype.dtd=function(e,t,r){return this.doctype(e,t,r)},e.prototype.e=function(e,t,r){return this.element(e,t,r)},e.prototype.n=function(e,t,r){return this.node(e,t,r)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDummy.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),e.exports=function(e){function r(e){r.__super__.constructor.call(this,e),this.type=t.Dummy}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return""},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLElement.js":function(e,t,r){(function(){var t,n,o,i,s,l,a,u,c={}.hasOwnProperty;u=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js"),a=u.isObject,l=u.isFunction,s=u.getValue,i=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLAttribute.js"),o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNamedNodeMap.js"),e.exports=function(e){function r(e,n,o){var i,s,l,a;if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(n),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,null!=o&&this.attribute(o),e.type===t.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(s=0,l=(a=e.children).length;s<l;s++)if((i=a[s]).type===t.DocType){i.name=this.name;break}}return function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(r.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(r.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new o(this.attribs)),this.attributeMap}}),r.prototype.clone=function(){var e,t,r,n;for(t in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attribs={},n=this.attribs)c.call(n,t)&&(e=n[t],r.attribs[t]=e.clone());return r.children=[],this.children.forEach((function(e){var t;return(t=e.clone()).parent=r,r.children.push(t)})),r},r.prototype.attribute=function(e,t){var r,o;if(null!=e&&(e=s(e)),a(e))for(r in e)c.call(e,r)&&(o=e[r],this.attribute(r,o));else l(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new n(this,e,""):null!=t&&(this.attribs[e]=new n(this,e,t));return this},r.prototype.removeAttribute=function(e){var t,r,n;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=s(e),Array.isArray(e))for(r=0,n=e.length;r<n;r++)t=e[r],delete this.attribs[t];else delete this.attribs[e];return this},r.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},r.prototype.att=function(e,t){return this.attribute(e,t)},r.prototype.a=function(e,t){return this.attribute(e,t)},r.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},r.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},r.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNS=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},r.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},r.prototype.setIdAttributeNS=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isEqualNode=function(e){var t,n,o;if(!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(t=n=0,o=this.attribs.length-1;0<=o?n<=o:n>=o;t=0<=o?++n:--n)if(!this.attribs[t].isEqualNode(e.attribs[t]))return!1;return!0},r}(i)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNamedNodeMap.js":function(e,t){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js":function(e,t,r){(function(){var t,n,o,i,s,l,a,u,c,p,d,h,m,f,y,g,b,v={}.hasOwnProperty;b=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js"),g=b.isObject,y=b.isFunction,f=b.isEmpty,m=b.getValue,u=null,o=null,i=null,s=null,l=null,d=null,h=null,p=null,a=null,n=null,c=null,t=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLElement.js"),o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCData.js"),i=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLComment.js"),s=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDeclaration.js"),l=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocType.js"),d=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLRaw.js"),h=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLText.js"),p=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"),a=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDummy.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),c=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNodeList.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNamedNodeMap.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/DocumentPosition.js"))}return Object.defineProperty(e.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new c(this.children)),this.childNodeList}}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(e.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(e.prototype,"textContent",{get:function(){var e,t,r,o,i;if(this.nodeType===n.Element||this.nodeType===n.DocumentFragment){for(i="",t=0,r=(o=this.children).length;t<r;t++)(e=o[t]).textContent&&(i+=e.textContent);return i}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),e.prototype.setParent=function(e){var t,r,n,o,i;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),i=[],r=0,n=(o=this.children).length;r<n;r++)t=o[r],i.push(t.setParent(this));return i},e.prototype.element=function(e,t,r){var n,o,i,s,l,a,u,c,p,d,h;if(a=null,null===t&&null==r&&(t=(p=[{},null])[0],r=p[1]),null==t&&(t={}),t=m(t),g(t)||(r=(d=[t,r])[0],t=d[1]),null!=e&&(e=m(e)),Array.isArray(e))for(i=0,u=e.length;i<u;i++)o=e[i],a=this.element(o);else if(y(e))a=this.element(e.apply());else if(g(e)){for(l in e)if(v.call(e,l))if(h=e[l],y(h)&&(h=h.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===l.indexOf(this.stringify.convertAttKey))a=this.attribute(l.substr(this.stringify.convertAttKey.length),h);else if(!this.options.separateArrayItems&&Array.isArray(h)&&f(h))a=this.dummy();else if(g(h)&&f(h))a=this.element(l);else if(this.options.keepNullNodes||null!=h)if(!this.options.separateArrayItems&&Array.isArray(h))for(s=0,c=h.length;s<c;s++)o=h[s],(n={})[l]=o,a=this.element(n);else g(h)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===l.indexOf(this.stringify.convertTextKey)?a=this.element(h):(a=this.element(l)).element(h):a=this.element(l,h);else a=this.dummy()}else a=this.options.keepNullNodes||null!==r?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),r):this.node(e,t,r):this.dummy();if(null==a)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return a},e.prototype.insertBefore=function(e,t,r){var n,o,i,s,l;if(null!=e?e.type:void 0)return s=t,(i=e).setParent(this),s?(o=children.indexOf(s),l=children.splice(o),children.push(i),Array.prototype.push.apply(children,l)):children.push(i),i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),l=this.parent.children.splice(o),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,l),n},e.prototype.insertAfter=function(e,t,r){var n,o,i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),i=this.parent.children.splice(o+1),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,i),n},e.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},e.prototype.node=function(e,t,r){var n,o;return null!=e&&(e=m(e)),t||(t={}),t=m(t),g(t)||(r=(o=[t,r])[0],t=o[1]),n=new u(this,e,t),null!=r&&n.text(r),this.children.push(n),n},e.prototype.text=function(e){var t;return g(e)&&this.element(e),t=new h(this,e),this.children.push(t),this},e.prototype.cdata=function(e){var t;return t=new o(this,e),this.children.push(t),this},e.prototype.comment=function(e){var t;return t=new i(this,e),this.children.push(t),this},e.prototype.commentBefore=function(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.commentAfter=function(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.raw=function(e){var t;return t=new d(this,e),this.children.push(t),this},e.prototype.dummy=function(){return new a(this)},e.prototype.instruction=function(e,t){var r,n,o,i,s;if(null!=e&&(e=m(e)),null!=t&&(t=m(t)),Array.isArray(e))for(i=0,s=e.length;i<s;i++)r=e[i],this.instruction(r);else if(g(e))for(r in e)v.call(e,r)&&(n=e[r],this.instruction(r,n));else y(t)&&(t=t.apply()),o=new p(this,e,t),this.children.push(o);return this},e.prototype.instructionBefore=function(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.instructionAfter=function(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.declaration=function(e,t,r){var o,i;return o=this.document(),i=new s(o,e,t,r),0===o.children.length?o.children.unshift(i):o.children[0].type===n.Declaration?o.children[0]=i:o.children.unshift(i),o.root()||o},e.prototype.dtd=function(e,t){var r,o,i,s,a,u,c,p,d;for(r=this.document(),o=new l(r,e,t),i=s=0,u=(p=r.children).length;s<u;i=++s)if(p[i].type===n.DocType)return r.children[i]=o,o;for(i=a=0,c=(d=r.children).length;a<c;i=++a)if(d[i].isRoot)return r.children.splice(i,0,o),o;return r.children.push(o),o},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var e;for(e=this;e;){if(e.type===n.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},e.prototype.document=function(){var e;for(e=this;e;){if(e.type===n.Document)return e;e=e.parent}},e.prototype.end=function(e){return this.document().end(e)},e.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},e.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},e.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},e.prototype.debugInfo=function(e){var t,r;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(r=this.parent)?r.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},e.prototype.ele=function(e,t,r){return this.element(e,t,r)},e.prototype.nod=function(e,t,r){return this.node(e,t,r)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},e.prototype.e=function(e,t,r){return this.element(e,t,r)},e.prototype.n=function(e,t,r){return this.node(e,t,r)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(e){return this.importDocument(e)},e.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.hasChildNodes=function(){return 0!==this.children.length},e.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isSupported=function(e,t){return!0},e.prototype.hasAttributes=function(){return 0!==this.attribs.length},e.prototype.compareDocumentPosition=function(e){var r;return this,this===e?0:this.document()!==e.document()?(r=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?r|=t.Preceding:r|=t.Following,r):this.isAncestor(e)?t.Contains|t.Preceding:this.isDescendant(e)?t.Contains|t.Following:this.isPreceding(e)?t.Preceding:t.Following},e.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(e){var t,r,n;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;t=0<=n?++r:--r)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.setUserData=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},e.prototype.isDescendant=function(e){var t,r,n,o;for(r=0,n=(o=this.children).length;r<n;r++){if(e===(t=o[r]))return!0;if(t.isDescendant(e))return!0}return!1},e.prototype.isAncestor=function(e){return e.isDescendant(this)},e.prototype.isPreceding=function(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t<r},e.prototype.isFollowing=function(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t>r},e.prototype.treePosition=function(e){var t,r;return r=0,t=!1,this.foreachTreeNode(this.document(),(function(n){if(r++,!t&&n===e)return t=!0})),t?r:-1},e.prototype.foreachTreeNode=function(e,t){var r,n,o,i,s;for(e||(e=this.document()),n=0,o=(i=e.children).length;n<o;n++){if(s=t(r=i[n]))return s;if(s=this.foreachTreeNode(r,t))return s}},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNodeList.js":function(e,t){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLProcessingInstruction.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCharacterData.js"),e.exports=function(e){function r(e,n,o){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(n),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},r.prototype.isEqualNode=function(e){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLRaw.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLNode.js"),e.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(n)}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStreamWriter.js":function(e,t,r){(function(){var t,n,o,i={}.hasOwnProperty;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLWriterBase.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/WriterState.js"),e.exports=function(e){function r(e,t){this.stream=e,r.__super__.constructor.call(this,t)}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),r.prototype.endline=function(e,t,o){return e.isLastRootNode&&t.state===n.CloseTag?"":r.__super__.endline.call(this,e,t,o)},r.prototype.document=function(e,t){var r,n,o,i,s,l,a,u,c;for(n=o=0,s=(a=e.children).length;o<s;n=++o)(r=a[n]).isLastRootNode=n===e.children.length-1;for(t=this.filterOptions(t),c=[],i=0,l=(u=e.children).length;i<l;i++)r=u[i],c.push(this.writeChildNode(r,t,0));return c},r.prototype.attribute=function(e,t,n){return this.stream.write(r.__super__.attribute.call(this,e,t,n))},r.prototype.cdata=function(e,t,n){return this.stream.write(r.__super__.cdata.call(this,e,t,n))},r.prototype.comment=function(e,t,n){return this.stream.write(r.__super__.comment.call(this,e,t,n))},r.prototype.declaration=function(e,t,n){return this.stream.write(r.__super__.declaration.call(this,e,t,n))},r.prototype.docType=function(e,t,r){var o,i,s,l;if(r||(r=0),this.openNode(e,t,r),t.state=n.OpenTag,this.stream.write(this.indent(e,t,r)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,r)),t.state=n.InsideTag,i=0,s=(l=e.children).length;i<s;i++)o=l[i],this.writeChildNode(o,t,r+1);t.state=n.CloseTag,this.stream.write("]")}return t.state=n.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,r)),t.state=n.None,this.closeNode(e,t,r)},r.prototype.element=function(e,r,o){var s,l,a,u,c,p,d,h,m;for(d in o||(o=0),this.openNode(e,r,o),r.state=n.OpenTag,this.stream.write(this.indent(e,r,o)+"<"+e.name),h=e.attribs)i.call(h,d)&&(s=h[d],this.attribute(s,r,o));if(u=0===(a=e.children.length)?null:e.children[0],0===a||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))r.allowEmpty?(this.stream.write(">"),r.state=n.CloseTag,this.stream.write("</"+e.name+">")):(r.state=n.CloseTag,this.stream.write(r.spaceBeforeSlash+"/>"));else if(!r.pretty||1!==a||u.type!==t.Text&&u.type!==t.Raw||null==u.value){for(this.stream.write(">"+this.endline(e,r,o)),r.state=n.InsideTag,c=0,p=(m=e.children).length;c<p;c++)l=m[c],this.writeChildNode(l,r,o+1);r.state=n.CloseTag,this.stream.write(this.indent(e,r,o)+"</"+e.name+">")}else this.stream.write(">"),r.state=n.InsideTag,r.suppressPrettyCount++,!0,this.writeChildNode(u,r,o+1),r.suppressPrettyCount--,!1,r.state=n.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,r,o)),r.state=n.None,this.closeNode(e,r,o)},r.prototype.processingInstruction=function(e,t,n){return this.stream.write(r.__super__.processingInstruction.call(this,e,t,n))},r.prototype.raw=function(e,t,n){return this.stream.write(r.__super__.raw.call(this,e,t,n))},r.prototype.text=function(e,t,n){return this.stream.write(r.__super__.text.call(this,e,t,n))},r.prototype.dtdAttList=function(e,t,n){return this.stream.write(r.__super__.dtdAttList.call(this,e,t,n))},r.prototype.dtdElement=function(e,t,n){return this.stream.write(r.__super__.dtdElement.call(this,e,t,n))},r.prototype.dtdEntity=function(e,t,n){return this.stream.write(r.__super__.dtdEntity.call(this,e,t,n))},r.prototype.dtdNotation=function(e,t,n){return this.stream.write(r.__super__.dtdNotation.call(this,e,t,n))},r}(o)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStringWriter.js":function(e,t,r){(function(){var t,n={}.hasOwnProperty;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLWriterBase.js"),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(t,e),t.prototype.document=function(e,t){var r,n,o,i,s;for(t=this.filterOptions(t),i="",n=0,o=(s=e.children).length;n<o;n++)r=s[n],i+=this.writeChildNode(r,t,0);return t.pretty&&i.slice(-t.newline.length)===t.newline&&(i=i.slice(0,-t.newline.length)),i},t}(t)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStringifier.js":function(e,t){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty;e.exports=function(){function e(e){var n,o,i;for(n in this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this),e||(e={}),this.options=e,this.options.version||(this.options.version="1.0"),o=e.stringify||{})r.call(o,n)&&(i=o[n],this[n]=i)}return e.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},e.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},e.prototype.cdata=function(e){return this.options.noValidation?e:(e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},e.prototype.comment=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},e.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},e.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},e.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.insValue=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},e.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},e.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},e.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},e.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(e){var t,r;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+r.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+r.index);return e},e.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},e.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},e.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLText.js":function(e,t,r){(function(){var t,n,o={}.hasOwnProperty;t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCharacterData.js"),e.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(n)}return function(e,t){for(var r in t)o.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,e),Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){var e,t,r;for(r="",t=this.previousSibling;t;)r=t.data+r,t=t.previousSibling;for(r+=this.data,e=this.nextSibling;e;)r+=e.data,e=e.nextSibling;return r}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},r.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(n)}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLWriterBase.js":function(e,t,r){(function(){var t,n,o,i={}.hasOwnProperty;o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js").assign,t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDeclaration.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocType.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLCData.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLComment.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLElement.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLRaw.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLText.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDummy.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDAttList.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDElement.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDEntity.js"),r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDTDNotation.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/WriterState.js"),e.exports=function(){function e(e){var t,r,n;for(t in e||(e={}),this.options=e,r=e.writer||{})i.call(r,t)&&(n=r[t],this["_"+t]=this[t],this[t]=n)}return e.prototype.filterOptions=function(e){var t,r,i,s,l,a,u,c;return e||(e={}),e=o({},this.options,e),(t={writer:this}).pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(r=e.indent)?r:"  ",t.newline=null!=(i=e.newline)?i:"\n",t.offset=null!=(s=e.offset)?s:0,t.dontPrettyTextNodes=null!=(l=null!=(a=e.dontPrettyTextNodes)?a:e.dontprettytextnodes)?l:0,t.spaceBeforeSlash=null!=(u=null!=(c=e.spaceBeforeSlash)?c:e.spacebeforeslash)?u:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=n.None,t},e.prototype.indent=function(e,t,r){var n;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(n=(r||0)+t.offset+1)>0?new Array(n).join(t.indent):""},e.prototype.endline=function(e,t,r){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,r){var n;return this.openAttribute(e,t,r),n=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,r),n},e.prototype.cdata=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r)+"<![CDATA[",t.state=n.InsideTag,o+=e.value,t.state=n.CloseTag,o+="]]>"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.comment=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r)+"\x3c!-- ",t.state=n.InsideTag,o+=e.value,t.state=n.CloseTag,o+=" --\x3e"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.declaration=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r)+"<?xml",t.state=n.InsideTag,o+=' version="'+e.version+'"',null!=e.encoding&&(o+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(o+=' standalone="'+e.standalone+'"'),t.state=n.CloseTag,o+=t.spaceBeforeSlash+"?>",o+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.docType=function(e,t,r){var o,i,s,l,a;if(r||(r=0),this.openNode(e,t,r),t.state=n.OpenTag,l=this.indent(e,t,r),l+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?l+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(l+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(l+=" [",l+=this.endline(e,t,r),t.state=n.InsideTag,i=0,s=(a=e.children).length;i<s;i++)o=a[i],l+=this.writeChildNode(o,t,r+1);t.state=n.CloseTag,l+="]"}return t.state=n.CloseTag,l+=t.spaceBeforeSlash+">",l+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),l},e.prototype.element=function(e,r,o){var s,l,a,u,c,p,d,h,m,f,y,g,b,v;for(m in o||(o=0),f=!1,y="",this.openNode(e,r,o),r.state=n.OpenTag,y+=this.indent(e,r,o)+"<"+e.name,g=e.attribs)i.call(g,m)&&(s=g[m],y+=this.attribute(s,r,o));if(u=0===(a=e.children.length)?null:e.children[0],0===a||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))r.allowEmpty?(y+=">",r.state=n.CloseTag,y+="</"+e.name+">"+this.endline(e,r,o)):(r.state=n.CloseTag,y+=r.spaceBeforeSlash+"/>"+this.endline(e,r,o));else if(!r.pretty||1!==a||u.type!==t.Text&&u.type!==t.Raw||null==u.value){if(r.dontPrettyTextNodes)for(c=0,d=(b=e.children).length;c<d;c++)if(((l=b[c]).type===t.Text||l.type===t.Raw)&&null!=l.value){r.suppressPrettyCount++,f=!0;break}for(y+=">"+this.endline(e,r,o),r.state=n.InsideTag,p=0,h=(v=e.children).length;p<h;p++)l=v[p],y+=this.writeChildNode(l,r,o+1);r.state=n.CloseTag,y+=this.indent(e,r,o)+"</"+e.name+">",f&&r.suppressPrettyCount--,y+=this.endline(e,r,o),r.state=n.None}else y+=">",r.state=n.InsideTag,r.suppressPrettyCount++,f=!0,y+=this.writeChildNode(u,r,o+1),r.suppressPrettyCount--,f=!1,r.state=n.CloseTag,y+="</"+e.name+">"+this.endline(e,r,o);return this.closeNode(e,r,o),y},e.prototype.writeChildNode=function(e,r,n){switch(e.type){case t.CData:return this.cdata(e,r,n);case t.Comment:return this.comment(e,r,n);case t.Element:return this.element(e,r,n);case t.Raw:return this.raw(e,r,n);case t.Text:return this.text(e,r,n);case t.ProcessingInstruction:return this.processingInstruction(e,r,n);case t.Dummy:return"";case t.Declaration:return this.declaration(e,r,n);case t.DocType:return this.docType(e,r,n);case t.AttributeDeclaration:return this.dtdAttList(e,r,n);case t.ElementDeclaration:return this.dtdElement(e,r,n);case t.EntityDeclaration:return this.dtdEntity(e,r,n);case t.NotationDeclaration:return this.dtdNotation(e,r,n);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r)+"<?",t.state=n.InsideTag,o+=e.target,e.value&&(o+=" "+e.value),t.state=n.CloseTag,o+=t.spaceBeforeSlash+"?>",o+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.raw=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r),t.state=n.InsideTag,o+=e.value,t.state=n.CloseTag,o+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.text=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r),t.state=n.InsideTag,o+=e.value,t.state=n.CloseTag,o+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.dtdAttList=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r)+"<!ATTLIST",t.state=n.InsideTag,o+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(o+=" "+e.defaultValueType),e.defaultValue&&(o+=' "'+e.defaultValue+'"'),t.state=n.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.dtdElement=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r)+"<!ELEMENT",t.state=n.InsideTag,o+=" "+e.name+" "+e.value,t.state=n.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.dtdEntity=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r)+"<!ENTITY",t.state=n.InsideTag,e.pe&&(o+=" %"),o+=" "+e.name,e.value?o+=' "'+e.value+'"':(e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.nData&&(o+=" NDATA "+e.nData)),t.state=n.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.dtdNotation=function(e,t,r){var o;return this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r)+"<!NOTATION",t.state=n.InsideTag,o+=" "+e.name,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?o+=' PUBLIC "'+e.pubID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),t.state=n.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o},e.prototype.openNode=function(e,t,r){},e.prototype.closeNode=function(e,t,r){},e.prototype.openAttribute=function(e,t,r){},e.prototype.closeAttribute=function(e,t,r){},e}()}).call(this)},"./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/index.js":function(e,t,r){(function(){var t,n,o,i,s,l,a,u,c,p;p=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/Utility.js"),u=p.assign,c=p.isFunction,o=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDOMImplementation.js"),i=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocument.js"),s=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLDocumentCB.js"),a=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStringWriter.js"),l=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/XMLStreamWriter.js"),t=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/NodeType.js"),n=r("./node_modules/geostyler-sld-parser/node_modules/xmlbuilder/lib/WriterState.js"),e.exports.create=function(e,t,r,n){var o,s;if(null==e)throw new Error("Root element needs a name.");return n=u({},t,r,n),s=(o=new i(n)).element(e),n.headless||(o.declaration(n),null==n.pubID&&null==n.sysID||o.dtd(n)),s},e.exports.begin=function(e,t,r){var n;return c(e)&&(t=(n=[e,t])[0],r=n[1],e={}),t?new s(e,t,r):new i(e)},e.exports.stringWriter=function(e){return new a(e)},e.exports.streamWriter=function(e,t){return new l(e,t)},e.exports.implementation=new o,e.exports.nodeType=t,e.exports.writerState=n}).call(this)},"./node_modules/lodash/_createFind.js":function(e,t,r){var n=r("./node_modules/lodash/_baseIteratee.js"),o=r("./node_modules/lodash/isArrayLike.js"),i=r("./node_modules/lodash/keys.js");e.exports=function(e){return function(t,r,s){var l=Object(t);if(!o(t)){var a=n(r,3);t=i(t),r=function(e){return a(l[e],e,l)}}var u=e(t,r,s);return u>-1?l[a?t[u]:u]:void 0}}},"./node_modules/lodash/find.js":function(e,t,r){var n=r("./node_modules/lodash/_createFind.js")(r("./node_modules/lodash/findIndex.js"));e.exports=n},"./node_modules/lodash/isNil.js":function(e,t){e.exports=function(e){return null==e}},"./node_modules/lodash/isNumber.js":function(e,t,r){var n=r("./node_modules/lodash/_baseGetTag.js"),o=r("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==n(e)}}}]);