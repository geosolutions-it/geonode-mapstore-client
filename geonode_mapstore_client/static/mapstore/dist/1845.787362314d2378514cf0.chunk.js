(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1845],{25108:(e,n,r)=>{"use strict";r.d(n,{Z:()=>l});var o=r(82904),t=r(27418),u=r.n(t);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case o.kM:var r=n.property||"enabled";return u()({},e,i({},n.control,u()({},e[n.control],i({},r,!(e[n.control]||{})[r]))));case o.At:return!0===n.toggle&&e[n.control]&&e[n.control][n.property]===n.value?u()({},e,i({},n.control,u()({},e[n.control],i({},n.property,void 0)))):u()({},e,i({},n.control,u()({},e[n.control],i({},n.property,n.value))));case o.dc:return u()({},e,i({},n.control,u()({},e[n.control],n.properties)));case o.l:var t=Object.keys(e).filter((function(e){return-1===(n.skip||[]).indexOf(e)})),l=t.reduce((function(n,r){return u()(n,i({},r,u()({},e[r],!0===e[r].enabled?{enabled:!1}:{})))}),{});return u()({},e,l);default:return e}}},89514:(e,n,r)=>{"use strict";r.d(n,{B9:()=>g,dl:()=>f,jg:()=>p});var o=r(75875),t=r.n(o),u=r(9228),i=r(69141),l=r(55877),c=r.n(l),a=new u.Z,s=new i.Z;function d(e){try{var n=e.features.reduce((function(e,n){var r;return"Polygon"===(null==n||null===(r=n.geometry)||void 0===r?void 0:r.type)&&e.geometry.coordinates.push(n.geometry.coordinates),e}),{type:"Feature",properties:{},geometry:{type:"MultiPolygon",coordinates:[]}}),r=s.readFeatures(n);return a.writeFeatures(r)}catch(e){return{}}}function v(e){try{var n,r,o=a.readFeatures(e),t=JSON.parse(s.writeFeatures(o)),u=null==t||null===(n=t.features)||void 0===n?void 0:n[0];return{type:"FeatureCollection",features:((null==u||null===(r=u.geometry)||void 0===r?void 0:r.coordinates)||[]).map((function(e){var n=c()();return{type:"Feature",properties:{id:n},id:n,geometry:{type:"Polygon",coordinates:e}}}))}}catch(e){return{type:"FeatureCollection",features:[]}}}var g=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return t().get("/security/geolimits/".concat(e,"?").concat(r,"_id=").concat(n)).then((function(e){return v(e.data)}))},f=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",o=arguments.length>3?arguments[3]:void 0,u=d(o);return t().post("/security/geolimits/".concat(e,"?").concat(r,"_id=").concat(n),u).then((function(e){return e.data}))},p=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";return t().delete("/security/geolimits/".concat(e,"?").concat(r,"_id=").concat(n)).then((function(e){return e.data}))}},3828:(e,n,r)=>{"use strict";r.d(n,{fg:()=>o,HG:()=>t,Yj:()=>u,uu:()=>i,UU:()=>l,il:()=>c,ez:()=>a,V$:()=>s,yK:()=>d,iV:()=>v,oS:()=>g,gH:()=>f,l_:()=>p});var o=function(e){var n,r,o,t=null==e||null===(n=e.gnresource)||void 0===n?void 0:n.id,u=null==e||null===(r=e.gnresource)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.pk;return t||u},t=function(e){var n,r;return(null==e||null===(n=e.gnresource)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.perms)||[]},u=function(e){var n,r;return(null==e||null===(n=e.gnresource)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.name)||!1},i=function(e){var n,r;return(null==e||null===(n=e.gnresource)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.abstract)||!1},l=function(e){var n,r;return(null==e||null===(n=e.gnresource)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.thumbnail_url)||!1},c=function(e){var n,r,o,t,u=null==e||null===(n=e.gnresource)||void 0===n||null===(r=n.permissions)||void 0===r?void 0:r.canEdit,i=(null==e||null===(o=e.gnresource)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.perms)||[];return u||i.includes("change_resourcebase")},a=function(e){var n,r,o;return null==e||null===(n=e.security)||void 0===n||null===(r=n.user)||void 0===r||null===(o=r.perms)||void 0===o?void 0:o.includes("add_resource")},s=function(e){var n;return!(null==e||null===(n=e.gnresource)||void 0===n||!n.isNew)},d=function(e){var n;return null==e||null===(n=e.gnresource)||void 0===n?void 0:n.data},v=function(e){var n;return(null==e||null===(n=e.gnresource)||void 0===n?void 0:n.compactPermissions)||{}},g=function(e){var n,r,o,t=null==e||null===(n=e.gnresource)||void 0===n?void 0:n.compactPermissions,u=null==e||null===(r=e.gnresource)||void 0===r?void 0:r.isCompactPermissionsChanged,i=null==e||null===(o=e.gnresource)||void 0===o?void 0:o.geoLimits;return{compactPermissions:u&&t?t:null,geoLimits:(null==i?void 0:i.length)>0?i:null}},f=function(e){var n,r=v(e).users||[],o=null==e||null===(n=e.security)||void 0===n?void 0:n.user,t=(o&&r.find((function(e){return e.id===o.pk}))||{}).permissions;return["owner","manage"].includes(t)},p=function(e){var n;return null==e||null===(n=e.gnresource)||void 0===n?void 0:n.selectedLayerPermissions}},12530:(e,n,r)=>{"use strict";var o;function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}r.d(n,{zj:()=>u,N5:()=>i,nN:()=>l});var u={DELETE_RESOURCE:"deleteResource",CLONE_RESOURCE:"cloneResource",PERMISSIONS_RESOURCE:"permissionsResource"},i={READY:"ready",FAILED:"failed",RUNNING:"running",FINISHED:"finished"},l=(t(o={},u.DELETE_RESOURCE,5e3),t(o,u.CLONE_RESOURCE,1e3),t(o,u.PERMISSIONS_RESOURCE,1e3),o)}}]);