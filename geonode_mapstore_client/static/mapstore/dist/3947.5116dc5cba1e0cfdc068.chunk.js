(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[3947],{55927:(t,e,r)=>{"use strict";r.d(e,{R4:()=>n,E9:()=>o,tH:()=>i,kk:()=>a,ak:()=>c,qY:()=>u});var n="DASHBOARD:DASHBOARD_RESET",o="DASHBOARD:DASHBOARD_LOADED",i=function(t,e){return{type:"DASHBOARD:SET_SELECTED_SERVICE",service:t,services:e}},a=function(t,e,r){return{type:"DASHBOARD:ADD_NEW_SERVICE",service:t,services:e,isNew:r}},c=function(t,e){return{type:"DASHBOARD:CATALOG_MODE",mode:t,isNew:e}},u=function(t,e){return{type:"DASHBOARD:DELETE_SERVICE",service:t,services:e}}},47361:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(45697),o=r.n(n),i=r(24852),a=r.n(i),c=r(14293),u=r.n(c),l=r(68195);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(c,t);var e,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(n);if(o){var r=v(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return g(this,t)});function c(){return p(this,c),i.apply(this,arguments)}return e=c,(r=[{key:"render",value:function(){return this.context.intl?a().createElement(l.FormattedNumber,f({value:this.props.value},this.props.numberParams)):a().createElement("span",null,!u()(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&d(e.prototype,r),c}(a().Component);m(b,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),m(b,"contextTypes",{intl:o().object});const h=b},28315:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(24852),o=r.n(n),i=r(43143),a=r(12226),c=r(82110),u=["base","range"],l=["onInitialized"];function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var y=o().lazy((function(){return Promise.all([r.e(7042),r.e(6111)]).then(r.bind(r,36111))})),g={base:190,range:0,s:.95,v:.63},v=function(t,e){var r=e.base,n=e.range,o=d(e,u);return((0,i.qH)(r,n,t+1,o)||[0]).slice(1)};function m(t){var e=t.type,r=t.isModeBarVisible;switch(e){case"pie":return{t:r?20:5,b:5,l:2,r:2,pad:4};default:return{l:5,r:5,b:30,t:r?20:5,pad:4}}}function b(t){var e=t.series,r=void 0===e?[]:e,n=t.cartesian,o=t.type,i=t.yAxis,a=t.xAxisAngle,c=t.xAxisOpts,u=void 0===c?{}:c,l=t.yAxisOpts,s=void 0===l?{}:l,f=t.data,p=void 0===f?[]:f,d=t.autoColorOptions,y=void 0===d?g:d;switch(o){case"pie":return{colorway:v(p.length,y)};default:return{colorway:v(r.length,y),yaxis:{type:null==s?void 0:s.type,automargin:!0,tickformat:null==s?void 0:s.format,tickprefix:null==s?void 0:s.tickPrefix,ticksuffix:null==s?void 0:s.tickSuffix,showticklabels:!0===i,showgrid:n},xaxis:{showgrid:n,type:null==u?void 0:u.type,showticklabels:!(null!=u&&u.hide),nticks:u.nTicks,automargin:!0,tickangle:null!=a?a:"auto"}}}}const h=function(t){var e=t.onInitialized,r=function(t){var e=t.xAxis,r=t.series,n=void 0===r?[]:r,o=t.yAxisLabel,i=t.type,c=void 0===i?"line":i,u=t.height,l=t.width,s=t.legend,p=null==e?void 0:e.dataKey,d=l>350;return{layout:f(f({showlegend:s},b(f({},t))),{},{margin:m(f(f({},t),{},{isModeBarVisible:d})),autosize:!1,automargin:!1,height:u,width:l}),data:n.map((function(e){var r=e.dataKey;return f({type:c,name:o||r},function(t){var e,r,n,o=t.type,i=t.xDataKey,c=t.yDataKey,u=t.data,l=t.formula,s=t.yAxisOpts,f=u.map((function(t){return t[i]})),p=u.map((function(t){return t[c]}));switch(o){case"pie":return{textposition:"inside",values:p,labels:f};default:return l&&(p=p.map((function(t){var e=t;try{return(0,a.B)(l,{value:e})}catch(e){return t}}))),{hovertemplate:"".concat(null!==(e=null==s?void 0:s.tickPrefix)&&void 0!==e?e:"","%{y:").concat(null!==(r=null==s?void 0:s.format)&&void 0!==r?r:"g","}").concat(null!==(n=null==s?void 0:s.tickSuffix)&&void 0!==n?n:"","<extra></extra>"),x:f,y:p}}}(f(f({},t),{},{xDataKey:p,yDataKey:r})))})),config:{displayModeBar:d,modeBarButtonsToRemove:["lasso2d","select2d","hoverCompareCartesian","hoverClosestCartesian","hoverClosestPie"],displaylogo:!1}}}(d(t,l)),i=r.data,u=r.layout,s=r.config;return o().createElement(n.Suspense,{fallback:o().createElement(c.Z,null)},o().createElement(y,{onInitialized:e,data:i,layout:u,config:s}))}},7848:(t,e,r)=>{"use strict";r.d(e,{Z:()=>a});var n=r(71703),o=r(22222),i=r(93152);const a=(0,n.connect)((0,o.P1)(i.$v,(function(t){return{mapType:t}})))},19983:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(24852),o=r.n(n),i=r(45697),a=r.n(i),c=r(52259);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=function(t){return function(e){var r,i,a,u,s,f,p,d=(null==e||null===(r=e.map)||void 0===r?void 0:r.projection)||"EPSG:3857",y=(null==e||null===(i=e.map)||void 0===i||null===(a=i.mapOptions)||void 0===a||null===(u=a.view)||void 0===u?void 0:u.DPI)||null,g=null==e||null===(s=e.map)||void 0===s||null===(f=s.mapOptions)||void 0===f||null===(p=f.view)||void 0===p?void 0:p.scales,v=(0,n.useMemo)((function(){return g?(0,c.getResolutionsForScales)(g,d,y):null}),[g,d,y]),m=v?l(l({},e),{},{map:l(l({},e.map),{},{mapOptions:l(l({},e.map.mapOptions),{},{view:l(l({},e.map.mapOptions.view),{},{resolutions:v})})})}):e;return o().createElement(t,m)}};f.propTypes={Component:a().element};const p=f},38064:(t,e,r)=>{"use strict";r.d(e,{Z:()=>b});var n=r(45697),o=r.n(n),i=r(24852),a=r.n(i),c=r(57588),u=r(76424);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,t);var e,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(o){var r=g(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return y(this,t)});function l(){return f(this,l),i.apply(this,arguments)}return e=l,(r=[{key:"render",value:function(){var t=this.props,e=t.cardComponent,r=t.items,n=t.colProps,o=t.onItemClick,i=t.size,l=e||u.Z;return a().createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},a().createElement(c.Row,{className:"items-list"},r.map((function(t,e){return a().createElement(c.Col,s({key:t.id||e},n),a().createElement(l,s({onClick:function(){return o(t)},size:i},t)))}))))}}])&&p(e.prototype,r),l}(a().Component);v(m,"propTypes",{size:o().string,onItemClick:o().func,colProps:o().object,items:o().array,cardComponent:o().oneOfType([o().string,o().func]),className:o().string}),v(m,"defaultProps",{size:"",onItemClick:function(){},colProps:{xs:12},className:"",items:[]});const b=m},73849:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var n=r(67076),o=r(28878),i=r(49977),a=r.n(i);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=(0,n.mapPropsStreamWithConfig)(o.Z);const f=(0,n.compose)((0,n.defaultProps)({dataStreamFactory:function(){return a().Observable.of({})}}),s((function(t){return t.take(1).switchMap((function(e){return e.dataStreamFactory(t.startWith(e),e)})).combineLatest(t,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(u({},e),t)}))})))},12425:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const n=(0,r(67076).withState)("confirmDelete","toggleDeleteConfirm",!1)},30881:(t,e,r)=>{"use strict";r.d(e,{Z:()=>j});var n=r(13311),o=r.n(n),i=r(41609),a=r.n(i),c=r(67076),u=r(86267),l=r(47805),s=r(89291),f=r(2245),p=r.n(f),d=r(89737),y=r(70956);function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var O=function(t,e){var r=(0,y.Z5)(t,e),n=o()(Object.keys(r||{}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"cql_filter"===t.toLowerCase()}));return r&&n&&r[n]},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.layerFilter;return e};const j=(0,c.compose)((0,c.withPropsOnChange)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.geomProp,n=t.dependencies,o=void 0===n?{}:n,i=t.layer,a=t.quickFilters,c=t.options,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;return e!==u.mapSync||o.viewport!==(u.dependencies&&u.dependencies.viewport)||o.quickFilters!==(u.dependencies&&u.dependencies.quickFilters)||o.options!==(u.dependencies&&u.dependencies.options)||r!==u.geomProp||l!==u.filter||c!==u.options||a!==u.quickFilters||O(i,o)!==O(u.layer,u.dependencies)||w(i)!==w(u.layer)}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.geomProp,n=void 0===r?"the_geom":r,o=t.dependencies,i=void 0===o?{}:o,c=t.filter,f=t.layer,g=t.quickFilters,h=t.options,w=i.viewport,j=p()({gmlVersion:"3.1.1"}),P=(0,d.Z)(j),A=j.filter,S=j.property,E=j.and,D=f||{},I=D.layerFilter,x={},k={},F=(0,y.r$)(c,g,h);if(!e)return{filter:!a()(F)||I?A(E.apply(void 0,b(I&&!I.disabled?(0,l.toOGCFilterParts)(I,"1.1.0","ogc"):[]).concat(b(F?(0,l.toOGCFilterParts)(F,"1.1.0","ogc"):[])))):void 0};if(f&&i&&i.quickFilters&&i.layer&&f.name===i.layer.name&&(F=v(v({},F),(0,y.r$)(F,i.quickFilters,i.options))),f&&i&&i.filter&&i.layer&&f.name===i.layer.name&&(F=v(v({},F),(0,l.composeAttributeFilters)([F,i.filter]))),i.viewport){var C=Object.keys(w.bounds).reduce((function(t,e){return v(v({},t),{},m({},e,parseFloat(w.bounds[e])))}),{});x=(0,u.getViewportGeometry)(C,w.crs);var Z=O(f,i);return k=Z?[P((0,s.read)(Z))]:[],{filter:A(E.apply(void 0,b(k).concat(b(I&&!I.disabled?(0,l.toOGCFilterParts)(I,"1.1.0","ogc"):[]),b(F?(0,l.toOGCFilterParts)(F,"1.1.0","ogc"):[]),[S(n).intersects(x)])))}}return{filter:A(E.apply(void 0,b(I?(0,l.toOGCFilterParts)(I,"1.1.0","ogc"):[]).concat(b(F?(0,l.toOGCFilterParts)(F,"1.1.0","ogc"):[]))))}})))},8488:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(67076),o=r(70956),i=r(13311),a=r.n(i);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const s=(0,n.compose)((0,n.withPropsOnChange)(["dependencies","options"],(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dependencies,r=void 0===e?{}:e,n=t.options,i=t.layer,c=void 0===i?{}:i,l=(0,o.Z5)(c,r),s=a()(Object.keys(l||{}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"viewparams"===t.toLowerCase()})),f=l&&s&&l[s];return{options:f?u(u({},n),{},{viewParams:f}):n}})))},73339:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(67076),o=r(78718),i=r.n(o);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l=function t(e,r,n){return e?Object.keys(e).reduce((function(o,a){return"dependenciesMap"===a&&r[e[a]]&&r[e.mapSync]&&r[e[a]][a]&&-1===r[e[a]][a].indexOf(n)?c(c({},o),i()(t(r[e[a]],r,n),["options","layer","quickFilters","filter","dependenciesMap"])):c(c({},o),{},u({},a,r[e[a]]))}),{}):r};const s=(0,n.withProps)((function(t){var e=t.dependenciesMap,r=t.dependencies,n=t.id;return{dependencies:e?l(e,r,n):r,dependenciesMap:e}}))},39837:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(82030),o=r(99707);const i=(0,n.Z)((function(t){var e=t.data,r=void 0===e?[]:e;return!r||0===r.length}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mapSync,r=t.iconFit;return{iconFit:r,messageId:e?"widgets.errors.nodatainviewport":"widgets.errors.nodata",glyph:"stats"}}),o.Z)},46173:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n=r(24852),o=r.n(n),i=r(82030),a=r(5346);function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const u=function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,i.Z)((function(t){var e=t.layers;return 0===(void 0===e?[]:e).length}),(c(t={},e?"tooltip":"title",o().createElement(a.Z,{msgId:"widgets.errors.noLegend"})),c(t,"description",!e&&o().createElement(a.Z,{msgId:"widgets.errors.noLegendDescription"})),t))}},42415:(t,e,r)=>{"use strict";r.d(e,{Z:()=>u});var n=r(24852),o=r.n(n),i=r(5346),a=r(82030),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"ECONNABORTED"===t.code?o().createElement(i.Z,{msgId:"widgets.errors.timeoutExpired"}):t.message?o().createElement(i.Z,{msgId:"widgets.errors.genericErrorWithMessage",msgParams:{message:t.message}}):o().createElement(i.Z,{msgId:"widgets.errors.genericError"})};const u=(0,a.Z)((function(t){return t.error}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.error,r=t.iconFit;return{glyph:"warning-sign",iconFit:r,tooltip:c(e)}}))},13314:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(67076),o=r(27361),i=r.n(o),a=r(12425),c=r(39860),u=r(52259);const l=(0,n.compose)((0,n.withProps)((function(t){var e=t.dependencies,r=void 0===e?{}:e,n=t.dependenciesMap;return{layers:r[(void 0===n?{}:n).layers]||r.layers||[],scales:(0,u.getScales)(r.projection||r.viewport&&r.viewport.crs||"EPSG:3857",i()(r,"mapOptions.view.DPI")),currentZoomLvl:r.zoom}})),(0,n.withProps)((function(t){var e=t.layers;return{layers:(void 0===e?[]:e).filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"background"!==t.group&&!1!==t.visibility&&"vector"!==t.type}))}})),a.Z,(0,c.tR)(),(0,c.E6)(),(0,c.um)())},87017:(t,e,r)=>{"use strict";r.d(e,{Z:()=>x});var n=r(14293),o=r.n(n),i=r(13218),a=r.n(i),c=r(67076),u=r(49977),l=r.n(u),s=r(65633),f=r(24262),p=r(73849);function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AggregationResults,r=void 0===e?[]:e,n=t.GroupByAttributes,i=void 0===n?[]:n,c=t.AggregationAttribute,u=t.AggregationFunctions;return r.map((function(t){return y(y({},i.reduce((function(e,r,n){var i=t[n];if(a()(i)){if(o()(i.time))throw new Error("Unknown response format from server");i=new Date(i.time).toISOString()}return y(y({},e),{},g({},r,i))}),{})),{},g({},"".concat(u[0],"(").concat(c,")"),t[t.length-1]))})).sort((function(t,e){var r=parseFloat(t[i]),n=parseFloat(e[i]);return isNaN(r)||isNaN(n)?t<e?-1:t>e?1:0:r-n}))},m=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,f.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute&&n.groupByAttributes})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.groupByAttributes===e.groupByAttributes&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,o=t.filter,i=t.onLoad,a=void 0===i?function(){}:i,c=t.onLoadError,u=void 0===c?function(){}:c;return(0,s.Z)((0,f.ZA)(r),y(y({featureType:r.name},n),{},{filter:o}),{timeout:15e3}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:v(t),series:[{dataKey:"".concat(t.AggregationFunctions[0],"(").concat(t.AggregationAttribute,")")}],xAxis:{dataKey:t.GroupByAttributes[0]}}})).do(a).catch((function(t){return l().Observable.of({loading:!1,error:t,data:[]}).do(u)})).startWith({loading:!0})}))};const b=(0,c.compose)((0,c.withProps)((function(){return{dataStreamFactory:m}})),p.Z);var h=r(84596),O=r.n(h),w=r(89734),j=r.n(w),P=r(86850);function A(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.features,r=arguments.length>1?arguments[1]:void 0,n=r.groupByAttributes;return j()(e.map((function(t){return t.properties})),n)},D=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,f.Tt)(r)&&n&&n.aggregationAttribute&&n.groupByAttributes})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.groupByAttributes===e.groupByAttributes&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,o=t.filter,i=t.onLoad,a=void 0===i?function(){}:i,c=t.onLoadError,u=void 0===c?function(){}:c;return(0,P.Mc)(r,o,{propertyName:[].concat(A(O()(n.aggregationAttribute)),A(O()(n.groupByAttributes)))}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:E(t,n),series:[{dataKey:n.aggregationAttribute}],xAxis:{dataKey:n.groupByAttributes}}})).do(a).catch((function(t){return l().Observable.of({loading:!1,error:t,data:[]}).do(u)})).startWith({loading:!0})}))};const I=(0,c.compose)((0,c.withProps)((function(){return{dataStreamFactory:D}})),p.Z),x=(0,c.branch)((function(t){var e=t.options,r=void 0===e?{}:e;return!r.aggregateFunction||"None"===r.aggregateFunction}),I,b)},39860:(t,e,r)=>{"use strict";r.d(e,{E6:()=>F,tR:()=>x,AV:()=>k,G5:()=>I,um:()=>C});var n=r(67076);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a=(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,a=void 0===o?[]:o,c=t.toggleMaximize,u=void 0===c?function(){}:c,l=t.dataGrid,s=void 0===l?{}:l,f=t.toolsOptions;return{widgetTools:(void 0===f?{}:f).showMaximize?[].concat((e=a,function(t){if(Array.isArray(t))return i(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:n.widget?"resize-small":"resize-full",target:"icons",tooltipId:"widgets.widget.menu.".concat(n.widget?"minimize":"maximize"),tooltipPosition:"right",visible:!s.static,onClick:function(){return u()}}]):a}})));function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f=r(24852),p=r.n(f),d=r(80717),y=function(t){return"icons"===t.target},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter(y).length>0};function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var m=r(57588),b=r(5346),h=r(15135);function O(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j=function(t){var e=t.target,r=t.visible;return(void 0===r||r)&&"menu"===e},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter(j).length>0},A=(0,h.Z)(m.MenuItem);function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E=function(t){return"tools"===t.target},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter(E).length>0},I=function(){return(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,i=void 0===o?[]:o,a=t.toolsOptions,c=void 0===a?{}:a,u=t.canEdit,s=t.updateProperty,f=void 0===s?function(){}:s,p=t.hide,d=void 0!==p&&p;return{widgetTools:c.showHide?[].concat((e=i,function(t){if(Array.isArray(t))return l(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"lock",target:"menu",active:d,textId:d?"widgets.widget.menu.unhide":"widgets.widget.menu.hide",tooltipId:d?"widgets.widget.menu.unhideDescription":"widgets.widget.menu.hideDescription",visible:!n.widget&&u,onClick:function(){return f("hide",!d)}}]):i}})))},x=function(){return(0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.dataGrid,i=void 0===o?{}:o,a=t.canEdit,u=t.onEdit,l=void 0===u?function(){}:u,s=t.toggleDeleteConfirm,f=void 0===s?function(){}:s;return{widgetTools:a?[].concat((e=n,function(t){if(Array.isArray(t))return c(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pencil",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.edit",onClick:function(){return l()}},{glyph:"trash",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.delete",onClick:function(){return f(!0)}}]):n}}))},k=function(){return(0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.data,i=t.title,a=t.exportCSV,c=void 0===a?function(){}:a;return{widgetTools:[].concat((e=n,function(t){if(Array.isArray(t))return u(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"download",glyphClassName:"exportCSV",target:"menu",textId:"widgets.widget.menu.downloadData",disabled:!o||!o.length,onClick:function(){return c({data:o,title:i})}}])}}))},F=function(){return(0,n.compose)((0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,o=t.widgetTools,i=void 0===o?[]:o,a=t.toolsOptions,c=void 0===a?{}:a,u=t.updateProperty,l=void 0===u?function(){}:u,f=t.dataGrid,p=void 0===f?{}:f;return{widgetTools:c.showPin?[].concat((e=i,function(t){if(Array.isArray(t))return s(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"pushpin",bsStyle:p.static&&"primary",glyphClassName:p.static?"active":void 0,tooltipId:p.static?"widgets.widget.menu.unpin":"widgets.widget.menu.pin",target:"icons",visible:!n.widget,onClick:function(){return l("dataGrid.static",!p.static)}}]):i}}))),(0,n.compose)((0,n.withProps)((function(t){var e,r=t.maximized,n=void 0===r?{}:r,i=t.widgetTools,a=void 0===i?[]:i,c=t.dataGrid,u=void 0===c?{}:c,l=t.toggleCollapse,s=void 0===l?function(){}:l,f=t.toolsOptions;return{widgetTools:(void 0===f?{}:f).showCollapse?[].concat((e=a,function(t){if(Array.isArray(t))return o(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"minus",target:"icons",tooltipId:"widgets.widget.menu.collapse",visible:!n.widget&&!u.static,onClick:function(){return s()}}]):a}}))),a,(0,n.compose)((0,n.withProps)((function(t){var e,r=t.widgetTools,n=void 0===r?[]:r,o=t.title,i=t.description,a=t.widgetType;return{widgetTools:i&&"text"!==a?[].concat((e=n,function(t){if(Array.isArray(t))return v(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[{glyph:"question-sign",popover:{title:o,trigger:!0,text:i},target:"icons"}]):n}}))))},C=function(){return(0,n.compose)((0,n.compose)((0,n.withPropsOnChange)(["topLeftItems","widgetTools"],(function(t){var e,r=t.topLeftItems,n=void 0===r?[]:r,o=t.widgetTools;return{topLeftItems:D(o)?[].concat((e=n,function(t){if(Array.isArray(t))return S(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[p().createElement(d.Z,{btnGroupProps:{style:{position:"absolute",left:14}},btnDefaultProps:{className:"no-border",bsSize:"small",bsStyle:"link",style:{paddingLeft:4,paddingRight:4}},buttons:o.filter(E)})]):n}}))),(0,n.compose)((0,n.withPropsOnChange)(["icons","widgetTools"],(function(t){var e=t.icons,r=void 0===e?[]:e,n=t.widgetTools;return{icons:g(n)?p().createElement(d.Z,{btnDefaultProps:{className:"no-border",bsSize:"xs",bsStyle:"link"},buttons:n.filter(y)}):r}}))),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.className,r=void 0===e?"widget-menu":e,o=t.menuIcon,i=void 0===o?"option-vertical":o;return(0,n.withProps)((function(t){var e=t.widgetTools,n=t.topRightItems,o=void 0===n?[]:n;return{topRightItems:P(e)?[].concat(O(o),[p().createElement(m.ButtonToolbar,null,p().createElement(m.DropdownButton,{pullRight:!0,bsStyle:"default",className:r,title:p().createElement(m.Glyphicon,{glyph:i}),noCaret:!0,id:"dropdown-no-caret"},e.filter(j).map((function(t,e){var r=t.onClick,n=void 0===r?function(){}:r,o=t.disabled,i=void 0!==o&&o,a=t.glyph,c=t.glyphClassName,u=t.text,l=t.textId,s=t.tooltipId,f=t.active;return p().createElement(A,{active:f,tooltipId:s,onSelect:n,disabled:i,eventKey:e},p().createElement(m.Glyphicon,{className:c,glyph:a}),l?p().createElement(b.Z,{msgId:l}):u)}))))]):o}}))}())}},70956:(t,e,r)=>{"use strict";r.d(e,{Z5:()=>v,r$:()=>m});var n=r(13311),o=r.n(n),i=r(27361),a=r.n(i),c=r(41609),u=r.n(c),l=r(54061),s=r.n(l),f=r(96958),p=r(47805);function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(t,e){return t&&t.id&&a()(o()(e.layers||[],{id:t.id}),"params",{})},m=function(t,e,r){var n=e&&r&&Object.keys(e).filter((function(t){return o()(r.propertyName,(function(e){return e===t}))})).reduce((function(t,r){return y(y({},t),{},g({},r,e[r]))}),{}),i=s()(n,(function(t,e,r){return(0,f.dJ)(y({attribute:r},e),t)}),{});if(!u()(t)||!u()(i)){var a=(0,p.composeAttributeFilters)([t,i],void 0,null==t?void 0:t.spatialFieldOperator);return y(y({},t),a)}return{}}},39589:(t,e,r)=>{"use strict";r.d(e,{Z:()=>y});var n=r(67076),o=r(65633),i=r(73849),a=r(49977),c=r.n(a),u=r(24262);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.AggregationResults,r=void 0===e?[]:e,n=t.GroupByAttributes,o=void 0===n?[]:n,i=t.AggregationAttribute,a=t.AggregationFunctions;return r.map((function(t){return s(s({},o.reduce((function(e,r,n){return s(s({},e),{},f({},r,t[n]))}),{})),{},f({},"".concat(a[0],"(").concat(i,")"),t[t.length-1]))}))},d=function(t){return t.filter((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options;return r.name&&(0,u.ZA)(r)&&n&&n.aggregateFunction&&n.aggregationAttribute})).distinctUntilChanged((function(t,e){var r=t.layer,n=void 0===r?{}:r,o=t.options,i=void 0===o?{}:o,a=t.filter;return e.layer&&n.name===e.layer.name&&n.loadingError===e.layer.loadingError&&function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.aggregateFunction===e.aggregateFunction&&t.aggregationAttribute===e.aggregationAttribute&&t.viewParams===e.viewParams}(i,e.options)&&a===e.filter})).switchMap((function(t){var e=t.layer,r=void 0===e?{}:e,n=t.options,i=t.filter,a=t.onLoad,l=void 0===a?function(){}:a,f=t.onLoadError,d=void 0===f?function(){}:f;return(0,o.Z)((0,u.ZA)(r),s(s({featureType:r.name},n),{},{filter:i}),{timeout:15e3}).map((function(t){return{loading:!1,isAnimationActive:!1,error:void 0,data:p(t),series:[{dataKey:"".concat(t.AggregationFunctions[0],"(").concat(t.AggregationAttribute,")")}]}})).do(l).catch((function(t){return c().Observable.of({loading:!1,error:t,data:[]}).do(d)})).startWith({loading:!0})}))};const y=(0,n.compose)((0,n.withProps)((function(){return{dataStreamFactory:d}})),i.Z)},80844:(t,e,r)=>{"use strict";r.d(e,{Z:()=>w});var n=r(73014),o=r(42415),i=r(39837),a=r(47361),c=r(67076),u=r(27361),l=r.n(u),s=r(90253),f=r(24852),p=r.n(f),d=["value","uom"];function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function b(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var h=(0,n.Z)(),O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.value,r=void 0===e?"":e,n=t.uom,o=void 0===n?"":n,i=b(t,d);return p().createElement(s.iF,m({mode:"single",forceSingleModeWidth:!1,max:500,throttle:20},i),p().createElement(a.Z,{value:r}),p().createElement("span",{style:{fontSize:"75%"}},o))};const w=(0,c.compose)(h,o.Z,i.Z)((function(t){var e=t.series,r=void 0===e?[]:e,n=t.data,o=void 0===n?[]:n,i=t.options,a=void 0===i?{}:i,c=t.style,u=void 0===c?{width:"100%",height:"100%",transform:"translate(-50%, -50%)",position:"absolute",display:"inline",padding:"1%",top:"50%",left:"50%"}:c;return p().createElement("div",{className:"counter-widget-view"},r.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dataKey,r=arguments.length>1?arguments[1]:void 0;return p().createElement(O,{key:e,uom:l()(a,"seriesOptions[".concat(r,"].uom")),value:o[0][e],style:g({textAlign:"center"},u)})})))}))},70919:(t,e,r)=>{"use strict";r.d(e,{Z:()=>m});var n=r(24852),o=r.n(n),i=r(14293),a=r.n(i),c=r(13218),u=r.n(c),l=r(38064),s=r(57588),f=r(1036),p=r(62770);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const m=function(t){var e=t.layers,r=void 0===e?[]:e,n=t.onChange,i=void 0===n?function(){}:n,c=t.legendProps,y=void 0===c?{}:c,v=t.currentZoomLvl,m=t.disableOpacitySlider,b=void 0===m||m,h=t.disableVisibility,O=void 0===h||h,w=t.scales,j=t.language,P=t.currentLocale;return o().createElement(l.Z,{className:"compact-legend-grid",size:"sm",items:r.map((function(t){return{title:t.title&&u()(t.title)&&(t.title[P]||t.title.default)||t.title,preview:O?null:o().createElement(s.Glyphicon,{className:"text-primary",glyph:t.visibility?"eye-open":"eye-close"}),style:{opacity:t.visibility?1:.4},body:t.visibility?o().createElement("div",null,o().createElement(s.Grid,{fluid:!0},o().createElement(s.Row,null,o().createElement(s.Col,{xs:12,className:"ms-legend-container"},o().createElement(p.Z,d({node:g({},t),currentZoomLvl:v,scales:w,language:j},y))))),!b&&o().createElement("div",{className:"mapstore-slider",onClick:function(t){t.stopPropagation()}},o().createElement(f.Z,{disabled:!t.visibility,start:[a()(t.opacity)?100:Math.round(100*t.opacity)],range:{min:0,max:100},onChange:function(e){return i(t.id,"layers",{opacity:parseFloat((e[0]/100).toFixed(2))})}}))):null}}))})}},92936:(t,e,r)=>{"use strict";r.d(e,{Z:()=>d});var n=r(67076),o=r(7848),i=r(91812),a=r(37981),c=r(57068),u=r(19180),l=r(69705),s=r(63721),f=r(61928),p=r(19983);const d=(0,n.compose)(l.Z,(0,i.Z)(0),o.Z,p.Z,u.Z,s.dY,s.yM,a.Z,c.e)(f.Z)},99707:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var n=r(24852),o=r.n(n),i=r(57588),a=r(45697),c=r(5346);function u(t){var e=t.glyph,r=void 0===e?"info-sign":e,n=t.messageId;return o().createElement("div",{className:"ms-widget-empty-message"},o().createElement(i.Glyphicon,{glyph:r}),"Â  ",o().createElement(c.Z,{msgId:n}))}u.propTypes={messageId:a.PropTypes.string,glyph:a.PropTypes.string};const l=u},65633:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(84596),o=r.n(n),i=r(99767),a=r(27835);function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var l=function(t){var e=t.featureType,r=t.aggregationAttribute,n=t.groupByAttributes,u=void 0===n?[]:n,l=t.aggregateFunction,s=t.viewParams,f=t.filter,p=void 0===f?"":f,d="<wfs:GetFeature ".concat(s?'viewParams="'.concat(s,'"'):"",' outputFormat="GML2" service="WFS" version="1.0.0">')+'<wfs:Query typeName="'.concat(e,'">').concat(p,"</wfs:Query></wfs:GetFeature>");return(0,a.Uh)("gs:Aggregate",[(0,i.qP)("features",(0,i.fA)("text/xml","http://geoserver/wfs","POST",d)),(0,i.qP)("aggregationAttribute",(0,i.XA)((0,i.gN)(r)))].concat(c(o()(l).map((function(t){return(0,i.qP)("function",(0,i.XA)((0,i.gN)(t)))}))),[(0,i.qP)("singlePass",(0,i.XA)((0,i.gN)("false")))],c(o()(u).map((function(t){return(0,i.qP)("groupByAttributes",(0,i.XA)((0,i.gN)(t)))})))),(0,i.DK)((0,i.En)("result","application/json")))};const s=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.mG)(t,l(e),{},r)}},12226:(t,e,r)=>{"use strict";r.d(e,{B:()=>o});var n=r(62651);function o(t,e){return(0,n.U)(t)(e)}},96958:(t,e,r)=>{"use strict";r.d(e,{t3:()=>S,WQ:()=>D,dM:()=>I,rK:()=>x,Lo:()=>C,gP:()=>N,S9:()=>M,AV:()=>B,Sc:()=>G,a3:()=>_,IC:()=>z,wT:()=>L,cZ:()=>U,ek:()=>q,Qc:()=>V,Cf:()=>K,dJ:()=>H,DR:()=>W,f1:()=>Q});var n=r(6557),o=r.n(n),i=r(92742),a=r.n(i),c=r(19873),u=r.n(c),l=r(30998),s=r.n(l),f=r(27361),p=r.n(f),d=r(1469),y=r.n(d),g=r(14293),v=r.n(g),m=r(47037),b=r.n(m),h=r(78889);function O(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach((function(e){A(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var S=function(t,e,r){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return s()(t,(function(t){return t<=r&&r<t+e}))}(e,r,t);return-1===n?n:n*r+t-e[n]},E={id:"empty_row",get:function(){}},D=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return e[S(t,r,n)]||P({},E)},I=function(t,e){return e[t]},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y()(t)?t.reduce((function(t,e){return P(P({},t),{},A({},e.id,P(P({},t[e.id]),e.updated)))}),{}):{}},k=function(t,e){var r=Object.keys(e).filter((function(t){return"geometry"!==t})).reduce((function(t,r){return P(P({},t),{},A({},r,e[r]))}),{}),n=Object.keys(e).filter((function(t){return"geometry"===t})).reduce((function(t,r){return P(P({},t),{},A({},r,e[r]))}),{});return P(P(P({},t),n),{},{properties:P(P({},t&&t.properties||{}),r)})},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=s()(t,e);return n>=0?t.map((function(t,e){return e===n?r:t})):[].concat(O(t),[r])},C=function(t){return((0,h.getFeatureTypeProperties)(t)||[]).filter((function(t){return!(0,h.isGeometryType)(t)}))},Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return e.map((function(e){return r<=e&&e<=n?0:Math.abs(e-t)})).reduce((function(t,e,r,n){return e>n[t]&&r||t}),0)},T=function(t,e){return e.filter((function(e,r){return r!==t}))},R=function(t,e,r){return t.filter((function(t,n){return n<e||n>=e+r}))},N=function(t,e,r,n){for(var o,i,a=t;a<=e&&void 0===o;a++)-1===S(a*n,r,n)&&(o=a);for(var c=e;c>=t&&void 0===i;c--)-1===S(c*n,r,n)&&(i=c);return[o,i].filter((function(t){return void 0!==t}))},M=function(t,e,r){var n=t.startPage,o=t.endPage,i=N(n,o,e,r),a=i[1]-i[0]+1;return{startIndex:i[0]*r,maxFeatures:a*r}},B=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.editable,o=void 0!==n&&n,i=r.sortable,a=void 0===i||i,c=r.resizable,u=void 0===c||c,l=r.filterable,s=void 0===l||l,f=r.defaultSize,p=void 0===f?200:f,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},y=d.getEditor,g=void 0===y?function(){}:y,v=d.getFilterRenderer,m=void 0===v?function(){}:v,b=d.getFormatter,h=void 0===b?function(){}:b;return C(t).filter((function(t){return!(e[t.name]&&e[t.name].hide)})).map((function(t){return{sortable:a,key:t.name,width:e[t.name]&&e[t.name].width||p||void 0,name:e[t.name]&&e[t.name].label||t.name,resizable:u,editable:o,filterable:s,editor:g(t),formatter:h(t),filterRenderer:m(t,t.name)}}))},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=(0,h.findGeometryProperty)(r);return t.map((function(t){return P(P({},t),{},{events:t.events&&Object.keys(t.events).reduce((function(o,i){return P(P({},o),{},A({},i,(function(o,a){return t.events[i](e(a.rowIdx),a,r,n)})))}),{})},"geometry"===t.key&&i?{filterRenderer:o(P(P({},i),{},{localType:"geometry"}),i.name),filterable:!0,geometryPropName:i.name}:{})}))},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(t).reduce((function(i,a){return P(P({},i),{},A({},a,(function(){for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return t[a].apply(t,c.concat([e,r,n,o]))})))}),{})},z=function(t,e){return!!(0,h.getPropertyDesciptor)(t,e)},L=function(t,e,r){return(0,h.isValidValueForPropertyName)(t,(o=r,"geometry"===(n=e)?function(t){return p()((0,h.findGeometryProperty)(t),"name")}(o):n),r);var n,o},U=function(){return"EPSG:4326"},q=function(t,e,r){return function(n){return e.length>0?n._new:!t||t&&!!r[n.id]}},V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(t,e[t.id]||{})},$=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?\s*(-?\d*\.?\d*)\s*/,K=function(t,e){if("string"===e)return{newVal:a()(t),operator:"ilike"};var r,n=$.exec(t),o="=";return n?("!=="===(o=n[1]||"=")|"!="===o?o="<>":"==="===o|"=="===o&&(o="="),r=parseFloat(n[2])):r=parseFloat(t,10),{newVal:r,operator:o}},H=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.attribute,n=e.operator,i=e.value,a=e.type,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=(null===(t=c.groupFields)||void 0===t?void 0:t.filter((function(t){return r!==t.id&&1!==t.id})))||[];if(("string"===a||"number"===a)&&b()(i)&&-1!==(null==i?void 0:i.indexOf(","))){var l,s=(null==i?void 0:i.split(",").filter(o()))||[],f=(null===(l=c.filterFields)||void 0===l?void 0:l.filter((function(t){return r!==t.attribute})))||[];return P(P({},c),{},{groupFields:u.concat([{id:r,logic:"OR",groupId:1,index:0}]),filterFields:f.concat(s.map((function(t){var e=K(t,a),n=e.operator,o=e.newVal;return{attribute:r,rowId:Date.now(),type:a,groupId:r,operator:n,value:o}}))),spatialField:c.spatialField,spatialFieldOperator:c.spatialFieldOperator})}return P(P({},c),{},{groupFields:u.concat([{id:1,logic:"AND",groupId:1,index:0}]),filterFields:"geometry"===a?c.filterFields:v()(i)?(c.filterFields||[]).filter((function(t){return t.attribute!==r})):F(c.filterFields||[],{attribute:r},{attribute:r,rowId:Date.now(),type:a,groupId:1,operator:n,value:i}),spatialField:"geometry"===a?i:c.spatialField,spatialFieldOperator:y()(i)?"OR":""})},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.startIndex,r=void 0===e?0:e,n=t.maxFeatures,o=void 0===n?1:n,i=t.totalFeatures,a=void 0===i?0:i,c=t.resultSize;return{page:Math.ceil(r/o),resultSize:c,size:o,total:a,maxPages:Math.ceil(a/o)-1}},Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.endPage,n=e.startPage,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.pages,a=o.features,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=c.size,s=c.maxStoredPages,f=c.startIndex,d=N(n,r,i,l),y=d[1]-d[0]+1,g=p()(t,"features",[]);g.length!==y*l&&(g=g.concat(u()(Array(y*l-g.length>0?y*l-g.length:g.length),!1)));var v=i,m=a,b=v.length+y-Math.max(s,r-n+1);if(b>0)for(var h=n*l,O=r*l,w=h+(O-h)/2,j=0;j<b;j++){var P=Z(w,i,h,O),A=P*l;v=T(P,v),m=R(a,A,l)}for(var S=[],E=0;E<y;E++)S.push(f+l*E);return{pages:v.concat(S),features:m.concat(g)}}}}]);