(window.webpackJsonp=window.webpackJsonp||[]).push([[8,4],{"./MapStore2/web/client/actions/additionallayers.js":function(e,t,r){"use strict";r.r(t),r.d(t,"UPDATE_ADDITIONAL_LAYER",(function(){return n})),r.d(t,"UPDATE_OPTIONS_BY_OWNER",(function(){return o})),r.d(t,"REMOVE_ADDITIONAL_LAYER",(function(){return i})),r.d(t,"REMOVE_ALL_ADDITIONAL_LAYERS",(function(){return a})),r.d(t,"updateAdditionalLayer",(function(){return s})),r.d(t,"updateOptionsByOwner",(function(){return l})),r.d(t,"removeAdditionalLayer",(function(){return c})),r.d(t,"removeAllAdditionalLayers",(function(){return u}));var n="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",i="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",o=arguments.length>3?arguments[3]:void 0;return{type:n,id:e,owner:t,actionType:r,options:o}},l=function(e,t){return{type:o,owner:e,options:t}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:i,id:t,owner:r}},u=function(){return{type:a}}},"./MapStore2/web/client/actions/annotations.js":function(e,t,r){"use strict";r.r(t),r.d(t,"INIT_PLUGIN",(function(){return o})),r.d(t,"EDIT_ANNOTATION",(function(){return i})),r.d(t,"OPEN_EDITOR",(function(){return a})),r.d(t,"SHOW_ANNOTATION",(function(){return s})),r.d(t,"NEW_ANNOTATION",(function(){return l})),r.d(t,"REMOVE_ANNOTATION",(function(){return c})),r.d(t,"REMOVE_ANNOTATION_GEOMETRY",(function(){return u})),r.d(t,"CONFIRM_REMOVE_ANNOTATION",(function(){return p})),r.d(t,"CANCEL_REMOVE_ANNOTATION",(function(){return d})),r.d(t,"CANCEL_EDIT_ANNOTATION",(function(){return f})),r.d(t,"CANCEL_SHOW_ANNOTATION",(function(){return m})),r.d(t,"SAVE_ANNOTATION",(function(){return y})),r.d(t,"TOGGLE_ADD",(function(){return b})),r.d(t,"TOGGLE_STYLE",(function(){return g})),r.d(t,"SET_STYLE",(function(){return h})),r.d(t,"RESTORE_STYLE",(function(){return v})),r.d(t,"UPDATE_ANNOTATION_GEOMETRY",(function(){return S})),r.d(t,"SET_INVALID_SELECTED",(function(){return w})),r.d(t,"VALIDATION_ERROR",(function(){return O})),r.d(t,"HIGHLIGHT",(function(){return j})),r.d(t,"CLEAN_HIGHLIGHT",(function(){return E})),r.d(t,"FILTER_ANNOTATIONS",(function(){return x})),r.d(t,"CLOSE_ANNOTATIONS",(function(){return P})),r.d(t,"CONFIRM_CLOSE_ANNOTATIONS",(function(){return T})),r.d(t,"CANCEL_CLOSE_ANNOTATIONS",(function(){return M})),r.d(t,"START_DRAWING",(function(){return A})),r.d(t,"UNSAVED_CHANGES",(function(){return C})),r.d(t,"TOGGLE_ANNOTATION_VISIBILITY",(function(){return _})),r.d(t,"TOGGLE_CHANGES_MODAL",(function(){return I})),r.d(t,"TOGGLE_GEOMETRY_MODAL",(function(){return R})),r.d(t,"CHANGED_PROPERTIES",(function(){return L})),r.d(t,"UNSAVED_STYLE",(function(){return D})),r.d(t,"TOGGLE_STYLE_MODAL",(function(){return k})),r.d(t,"ADD_TEXT",(function(){return N})),r.d(t,"DOWNLOAD",(function(){return F})),r.d(t,"LOAD_ANNOTATIONS",(function(){return G})),r.d(t,"CHANGED_SELECTED",(function(){return U})),r.d(t,"RESET_COORD_EDITOR",(function(){return B})),r.d(t,"CHANGE_RADIUS",(function(){return z})),r.d(t,"CHANGE_TEXT",(function(){return W})),r.d(t,"ADD_NEW_FEATURE",(function(){return V})),r.d(t,"SET_EDITING_FEATURE",(function(){return H})),r.d(t,"HIGHLIGHT_POINT",(function(){return q})),r.d(t,"TOGGLE_DELETE_FT_MODAL",(function(){return Y})),r.d(t,"CONFIRM_DELETE_FEATURE",(function(){return Z})),r.d(t,"CHANGE_FORMAT",(function(){return Q})),r.d(t,"UPDATE_SYMBOLS",(function(){return K})),r.d(t,"ERROR_SYMBOLS",(function(){return X})),r.d(t,"SET_DEFAULT_STYLE",(function(){return J})),r.d(t,"LOAD_DEFAULT_STYLES",(function(){return $})),r.d(t,"LOADING",(function(){return ee})),r.d(t,"CHANGE_GEOMETRY_TITLE",(function(){return te})),r.d(t,"FILTER_MARKER",(function(){return re})),r.d(t,"HIDE_MEASURE_WARNING",(function(){return ne})),r.d(t,"TOGGLE_SHOW_AGAIN",(function(){return oe})),r.d(t,"GEOMETRY_HIGHLIGHT",(function(){return ie})),r.d(t,"initPlugin",(function(){return ae})),r.d(t,"updateSymbols",(function(){return se})),r.d(t,"setErrorSymbol",(function(){return le})),r.d(t,"loadAnnotations",(function(){return ce})),r.d(t,"confirmDeleteFeature",(function(){return ue})),r.d(t,"openEditor",(function(){return pe})),r.d(t,"changeFormat",(function(){return de})),r.d(t,"toggleDeleteFtModal",(function(){return fe})),r.d(t,"highlightPoint",(function(){return me})),r.d(t,"download",(function(){return ye})),r.d(t,"editAnnotation",(function(){return be})),r.d(t,"newAnnotation",(function(){return ge})),r.d(t,"changeSelected",(function(){return he})),r.d(t,"setInvalidSelected",(function(){return ve})),r.d(t,"addText",(function(){return Se})),r.d(t,"toggleVisibilityAnnotation",(function(){return we})),r.d(t,"changedProperties",(function(){return Oe})),r.d(t,"removeAnnotation",(function(){return je})),r.d(t,"removeAnnotationGeometry",(function(){return Ee})),r.d(t,"confirmRemoveAnnotation",(function(){return xe})),r.d(t,"cancelRemoveAnnotation",(function(){return Pe})),r.d(t,"cancelEditAnnotation",(function(){return Te})),r.d(t,"saveAnnotation",(function(){return Me})),r.d(t,"toggleAdd",(function(){return Ae})),r.d(t,"toggleStyle",(function(){return Ce})),r.d(t,"restoreStyle",(function(){return _e})),r.d(t,"setStyle",(function(){return Ie})),r.d(t,"updateAnnotationGeometry",(function(){return Re})),r.d(t,"validationError",(function(){return Le})),r.d(t,"highlight",(function(){return De})),r.d(t,"cleanHighlight",(function(){return ke})),r.d(t,"showAnnotation",(function(){return Ne})),r.d(t,"cancelShowAnnotation",(function(){return Fe})),r.d(t,"filterAnnotations",(function(){return Ge})),r.d(t,"closeAnnotations",(function(){return Ue})),r.d(t,"confirmCloseAnnotations",(function(){return Be})),r.d(t,"setUnsavedChanges",(function(){return ze})),r.d(t,"setUnsavedStyle",(function(){return We})),r.d(t,"addNewFeature",(function(){return Ve})),r.d(t,"setEditingFeature",(function(){return He})),r.d(t,"cancelCloseAnnotations",(function(){return qe})),r.d(t,"startDrawing",(function(){return Ye})),r.d(t,"toggleUnsavedChangesModal",(function(){return Ze})),r.d(t,"toggleUnsavedGeometryModal",(function(){return Qe})),r.d(t,"toggleUnsavedStyleModal",(function(){return Ke})),r.d(t,"resetCoordEditor",(function(){return Xe})),r.d(t,"changeRadius",(function(){return Je})),r.d(t,"changeText",(function(){return $e})),r.d(t,"setDefaultStyle",(function(){return et})),r.d(t,"loadDefaultStyles",(function(){return tt})),r.d(t,"changeGeometryTitle",(function(){return rt})),r.d(t,"loading",(function(){return nt})),r.d(t,"filterMarker",(function(){return ot})),r.d(t,"geometryHighlight",(function(){return it})),r.d(t,"hideMeasureWarning",(function(){return at})),r.d(t,"toggleShowAgain",(function(){return st}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o="ANNOTATIONS:INIT_PLUGIN",i="ANNOTATIONS:EDIT",a="ANNOTATIONS:OPEN_EDITOR",s="ANNOTATIONS:SHOW",l="ANNOTATIONS:NEW",c="ANNOTATIONS:REMOVE",u="ANNOTATIONS:REMOVE_GEOMETRY",p="ANNOTATIONS:CONFIRM_REMOVE",d="ANNOTATIONS:CANCEL_REMOVE",f="ANNOTATIONS:CANCEL_EDIT",m="ANNOTATIONS:CANCEL_SHOW",y="ANNOTATIONS:SAVE",b="ANNOTATIONS:TOGGLE_ADD",g="ANNOTATIONS:TOGGLE_STYLE",h="ANNOTATIONS:SET_STYLE",v="ANNOTATIONS:RESTORE_STYLE",S="ANNOTATIONS:UPDATE_GEOMETRY",w="ANNOTATIONS:SET_INVALID_SELECTED",O="ANNOTATIONS:VALIDATION_ERROR",j="ANNOTATIONS:HIGHLIGHT",E="ANNOTATIONS:CLEAN_HIGHLIGHT",x="ANNOTATIONS:FILTER",P="ANNOTATIONS:CLOSE",T="ANNOTATIONS:CONFIRM_CLOSE",M="ANNOTATIONS:CANCEL_CLOSE",A="ANNOTATIONS:START_DRAWING",C="ANNOTATIONS:UNSAVED_CHANGES",_="ANNOTATIONS:VISIBILITY",I="ANNOTATIONS:TOGGLE_CHANGES_MODAL",R="ANNOTATIONS:TOGGLE_GEOMETRY_MODAL",L="ANNOTATIONS:CHANGED_PROPERTIES",D="ANNOTATIONS:UNSAVED_STYLE",k="ANNOTATIONS:TOGGLE_STYLE_MODAL",N="ANNOTATIONS:ADD_TEXT",F="ANNOTATIONS:DOWNLOAD",G="ANNOTATIONS:LOAD_ANNOTATIONS",U="ANNOTATIONS:CHANGED_SELECTED",B="ANNOTATIONS:RESET_COORD_EDITOR",z="ANNOTATIONS:CHANGE_RADIUS",W="ANNOTATIONS:CHANGE_TEXT",V="ANNOTATIONS:ADD_NEW_FEATURE",H="ANNOTATIONS:SET_EDITING_FEATURE",q="ANNOTATIONS:HIGHLIGHT_POINT",Y="ANNOTATIONS:TOGGLE_DELETE_FT_MODAL",Z="ANNOTATIONS:CONFIRM_DELETE_FEATURE",Q="ANNOTATIONS:CHANGE_FORMAT",K="ANNOTATIONS:UPDATE_SYMBOLS",X="ANNOTATIONS:ERROR_SYMBOLS",J="ANNOTATIONS:SET_DEFAULT_STYLE",$="ANNOTATIONS:LOAD_DEFAULT_STYLES",ee="ANNOTATIONS:LOADING",te="ANNOTATIONS:CHANGE_GEOMETRY_TITLE",re="ANNOTATIONS:FILTER_MARKER",ne="ANNOTATIONS:HIDE_MEASURE_WARNING",oe="ANNOTATIONS:TOGGLE_SHOW_AGAIN",ie="ANNOTATIONS:GEOMETRY_HIGHLIGHT",ae=function(){return{type:o}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:K,symbols:e}},le=function(e){return{type:X,symbolErrors:e}},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:G,features:e,override:t}},ue=function(){return{type:Z}},pe=function(e){return{type:a,id:e}},de=function(e){return{type:Q,format:e}},fe=function(){return{type:Y}},me=function(e){return{type:q,point:e}},ye=function(e){return{type:F,annotation:e}},be=function(e){return function(t,r){var o=Object(n.head)(Object(n.head)(r().layers.flat.filter((function(e){return"annotations"===e.id}))).features.filter((function(t){return t.properties.id===e})));"FeatureCollection"===o.type?t({type:i,feature:o,featureType:o.type}):t({type:i,feature:o,featureType:o.geometry.type})}},ge=function(){return{type:l}},he=function(e,t,r,n){return{type:U,coordinates:e,radius:t,text:r,crs:n}},ve=function(e,t){return{type:w,errorFrom:e,coordinates:t}},Se=function(){return{type:N}},we=function(e){return{type:_,id:e}},Oe=function(e,t){return{type:L,field:e,value:t}},je=function(e){return{type:c,id:e}},Ee=function(e){return{type:u,id:e}},xe=function(e,t){return{type:p,id:e,attribute:t}},Pe=function(){return{type:d}},Te=function(){return{type:f}},Me=function(e,t,r,n,o,i){return{type:y,id:e,fields:t,geometry:r,style:n,newFeature:o,properties:i}},Ae=function(e){return{type:b,featureType:e}},Ce=function(e){return{type:g,styling:e}},_e=function(){return{type:v}},Ie=function(e){return{type:h,style:e}},Re=function(e,t,r){return{type:S,geometry:e,textChanged:t,circleChanged:r}},Le=function(e){return{type:O,errors:e}},De=function(e){return{type:j,id:e}},ke=function(){return{type:E}},Ne=function(e){return{type:s,id:e}},Fe=function(){return{type:m}},Ge=function(e){return{type:x,filter:e}},Ue=function(){return{type:P}},Be=function(){return{type:T}},ze=function(e){return{type:C,unsavedChanges:e}},We=function(e){return{type:D,unsavedStyle:e}},Ve=function(){return{type:V}},He=function(e){return{type:H,feature:e}},qe=function(){return{type:M}},Ye=function(){return{type:A}},Ze=function(){return{type:I}},Qe=function(){return{type:R}},Ke=function(){return{type:k}},Xe=function(){return{type:B}},Je=function(e,t,r){return{type:z,radius:e,components:t,crs:r}},$e=function(e,t){return{type:W,text:e,components:t}},et=function(e,t){return{type:J,path:e,style:t}},tt=function(e,t,r,n,o){return{type:$,shape:e,size:t,fillColor:r,strokeColor:n,symbolsPath:o}},rt=function(e){return{type:te,title:e}},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading";return{type:ee,name:t,value:e}},ot=function(e){return{type:re,filter:e}},it=function(e,t){return{type:ie,id:e,state:t}},at=function(){return{type:ne}},st=function(){return{type:oe}}},"./MapStore2/web/client/actions/backgroundselector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ADD_BACKGROUND",(function(){return n})),r.d(t,"REMOVE_BACKGROUND",(function(){return o})),r.d(t,"SET_CURRENT_BACKGROUND_LAYER",(function(){return i})),r.d(t,"BACKGROUND_ADDED",(function(){return a})),r.d(t,"BACKGROUND_EDITED",(function(){return s})),r.d(t,"ADD_BACKGROUND_PROPERTIES",(function(){return l})),r.d(t,"SET_BACKGROUND_MODAL_PARAMS",(function(){return c})),r.d(t,"UPDATE_BACKGROUND_THUMBNAIL",(function(){return u})),r.d(t,"BACKGROUNDS_CLEAR",(function(){return p})),r.d(t,"CREATE_BACKGROUNDS_LIST",(function(){return d})),r.d(t,"CLEAR_MODAL_PARAMETERS",(function(){return f})),r.d(t,"CONFIRM_DELETE_BACKGROUND_MODAL",(function(){return m})),r.d(t,"ALLOW_BACKGROUNDS_DELETION",(function(){return y})),r.d(t,"createBackgroundsList",(function(){return b})),r.d(t,"addBackground",(function(){return g})),r.d(t,"addBackgroundProperties",(function(){return h})),r.d(t,"setBackgroundModalParams",(function(){return v})),r.d(t,"backgroundAdded",(function(){return S})),r.d(t,"backgroundEdited",(function(){return w})),r.d(t,"setCurrentBackgroundLayer",(function(){return O})),r.d(t,"allowBackgroundsDeletion",(function(){return j})),r.d(t,"updateThumbnail",(function(){return E})),r.d(t,"removeBackground",(function(){return x})),r.d(t,"clearBackgrounds",(function(){return P})),r.d(t,"clearModalParameters",(function(){return T})),r.d(t,"confirmDeleteBackgroundModal",(function(){return M}));var n="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",i="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",a="BACKGROUND_SELECTOR:BACKGROUND_ADDED",s="BACKGROUND_SELECTOR:BACKGROUND_EDITED",l="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",c="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",u="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",p="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",d="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",f="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",m="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",y="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function b(e){return{type:d,backgrounds:e}}function g(e){return{type:n,source:e}}function h(e){return{type:l,modalParams:e}}function v(e){return{type:c,modalParams:e}}function S(e){return{type:a,layerId:e}}function w(e){return{type:s,layerId:e}}function O(e){return{type:i,layerId:e}}function j(e){return{type:y,allow:e}}function E(e,t){return{type:u,thumbnailData:e,id:t}}function x(e){return{type:o,backgroundId:e}}function P(){return{type:p}}function T(){return{type:f}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:m,show:e,layerTitle:t,layerId:r}}},"./MapStore2/web/client/actions/catalog.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ADD_LAYERS_FROM_CATALOGS",(function(){return O})),r.d(t,"TEXT_SEARCH",(function(){return j})),r.d(t,"RECORD_LIST_LOADED",(function(){return E})),r.d(t,"RESET_CATALOG",(function(){return x})),r.d(t,"CATALOG_CLOSE",(function(){return P})),r.d(t,"RECORD_LIST_LOAD_ERROR",(function(){return T})),r.d(t,"CHANGE_CATALOG_FORMAT",(function(){return M})),r.d(t,"ADD_LAYER_ERROR",(function(){return A})),r.d(t,"DESCRIBE_ERROR",(function(){return C})),r.d(t,"CHANGE_SELECTED_SERVICE",(function(){return _})),r.d(t,"CHANGE_CATALOG_MODE",(function(){return I})),r.d(t,"CHANGE_METADATA_TEMPLATE",(function(){return R})),r.d(t,"CHANGE_TITLE",(function(){return L})),r.d(t,"CHANGE_TEXT",(function(){return D})),r.d(t,"CHANGE_TYPE",(function(){return k})),r.d(t,"CHANGE_SERVICE_PROPERTY",(function(){return N})),r.d(t,"CHANGE_SERVICE_FORMAT",(function(){return F})),r.d(t,"FOCUS_SERVICES_LIST",(function(){return G})),r.d(t,"CHANGE_URL",(function(){return U})),r.d(t,"ADD_CATALOG_SERVICE",(function(){return B})),r.d(t,"DELETE_CATALOG_SERVICE",(function(){return z})),r.d(t,"ADD_SERVICE",(function(){return W})),r.d(t,"DELETE_SERVICE",(function(){return V})),r.d(t,"SAVING_SERVICE",(function(){return H})),r.d(t,"CATALOG_INITED",(function(){return q})),r.d(t,"GET_METADATA_RECORD_BY_ID",(function(){return Y})),r.d(t,"SET_LOADING",(function(){return Z})),r.d(t,"TOGGLE_TEMPLATE",(function(){return Q})),r.d(t,"TOGGLE_THUMBNAIL",(function(){return K})),r.d(t,"TOGGLE_ADVANCED_SETTINGS",(function(){return X})),r.d(t,"addLayersMapViewerUrl",(function(){return J})),r.d(t,"textSearch",(function(){return $})),r.d(t,"recordsLoaded",(function(){return ee})),r.d(t,"changeCatalogFormat",(function(){return te})),r.d(t,"savingService",(function(){return re})),r.d(t,"setLoading",(function(){return ne})),r.d(t,"changeSelectedService",(function(){return oe})),r.d(t,"focusServicesList",(function(){return ie})),r.d(t,"changeCatalogMode",(function(){return ae})),r.d(t,"changeTitle",(function(){return se})),r.d(t,"changeText",(function(){return le})),r.d(t,"changeServiceProperty",(function(){return ce})),r.d(t,"changeServiceFormat",(function(){return ue})),r.d(t,"changeType",(function(){return pe})),r.d(t,"changeUrl",(function(){return de})),r.d(t,"addService",(function(){return fe})),r.d(t,"addCatalogService",(function(){return me})),r.d(t,"deleteCatalogService",(function(){return ye})),r.d(t,"deleteService",(function(){return be})),r.d(t,"resetCatalog",(function(){return ge})),r.d(t,"recordsLoadError",(function(){return he})),r.d(t,"catalogInited",(function(){return ve})),r.d(t,"initCatalog",(function(){return Se})),r.d(t,"catalogClose",(function(){return we})),r.d(t,"getRecords",(function(){return Oe})),r.d(t,"describeError",(function(){return je})),r.d(t,"addLayerAndDescribe",(function(){return Ee})),r.d(t,"addLayer",(function(){return xe})),r.d(t,"addLayerError",(function(){return Pe})),r.d(t,"getMetadataRecordById",(function(){return Te})),r.d(t,"changeMetadataTemplate",(function(){return Me})),r.d(t,"toggleAdvancedSettings",(function(){return Ae})),r.d(t,"toggleTemplate",(function(){return Ce})),r.d(t,"toggleThumbnail",(function(){return _e})),r.d(t,"recordsNotFound",(function(){return Ie}));var n=r("./MapStore2/web/client/api/CSW.js"),o=r.n(n),i=r("./MapStore2/web/client/api/WMS.js"),a=r("./MapStore2/web/client/api/WMTS.js"),s=r.n(a),l=r("./MapStore2/web/client/api/mapBackground.js"),c=r.n(l),u=r("./MapStore2/web/client/actions/layers.js"),p=r("./MapStore2/web/client/actions/map.js"),d=r("./MapStore2/web/client/utils/LayersUtils.js"),f=r("./MapStore2/web/client/utils/ConfigUtils.js"),m=r("./MapStore2/node_modules/lodash/lodash.js"),y=r("./MapStore2/web/client/selectors/catalog.js"),b=r("./MapStore2/web/client/selectors/layers.js"),g=r("./MapStore2/web/client/actions/notifications.js");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={csw:o.a,wms:i.default,wmts:s.a,backgrounds:c.a},O="CATALOG:ADD_LAYERS_FROM_CATALOGS",j="CATALOG:TEXT_SEARCH",E="CATALOG:RECORD_LIST_LOADED",x="CATALOG:RESET_CATALOG",P="CATALOG:CATALOG_CLOSE",T="CATALOG:RECORD_LIST_LOAD_ERROR",M="CATALOG:CHANGE_CATALOG_FORMAT",A="CATALOG:ADD_LAYER_ERROR",C="CATALOG:DESCRIBE_ERROR",_="CATALOG:CHANGE_SELECTED_SERVICE",I="CATALOG:CHANGE_CATALOG_MODE",R="CATALOG:CHANGE_METADATA_TEMPLATE",L="CATALOG:CHANGE_TITLE",D="CATALOG:CHANGE_TEXT",k="CATALOG:CHANGE_TYPE",N="CATALOG:CHANGE_SERVICE_PROPERTY",F="CATALOG:CHANGE_SERVICE_FORMAT",G="CATALOG:FOCUS_SERVICES_LIST",U="CATALOG:CHANGE_URL",B="CATALOG:ADD_CATALOG_SERVICE",z="CATALOG:DELETE_CATALOG_SERVICE",W="CATALOG:ADD_SERVICE",V="CATALOG:DELETE_SERVICE",H="CATALOG:SAVING_SERVICE",q="CATALOG:INIT",Y="CATALOG:GET_METADATA_RECORD_BY_ID",Z="CATALOG:SET_LOADING",Q="CATALOG:TOGGLE_TEMPLATE",K="CATALOG:TOGGLE_THUMBNAIL",X="CATALOG:TOGGLE_ADVANCED_SETTINGS";function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:O,layers:e,sources:t}}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,r=e.url,n=e.startPosition,o=e.maxRecords,i=e.text,a=e.options,s=void 0===a?{}:a;return{type:j,format:t,url:r,startPosition:n,maxRecords:o,text:i,options:s}}function ee(e,t){return{type:E,searchOptions:e,result:t}}function te(e){return{type:M,format:e}}function re(e){return{type:H,status:e}}function ne(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:Z,loading:e}}function oe(e){return{type:_,service:e}}function ie(e){return{type:G,status:e}}function ae(e,t){return{type:I,mode:e,isNew:t}}function se(e){return{type:L,title:e}}function le(e){return{type:D,text:e}}function ce(e,t){return{type:N,property:e,value:t}}function ue(e){return{type:F,format:e}}function pe(e){return{type:k,newType:e}}function de(e){return{type:U,url:e}}function fe(){return{type:W}}function me(e){return{type:B,service:e}}function ye(e){return{type:z,service:e}}function be(){return{type:V}}function ge(){return{type:x}}function he(e){return{type:T,error:e}}function ve(){return{type:q}}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return function(t){Object.keys(e).forEach((function(t){e[t].reset()})),t(ve())}}function we(){return{type:P}}function Oe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return function(a){a(ne(!0)),w[e].getRecords(t,r,n,o,i).then((function(e){e.error?a(he(e)):a(ee({url:t,startPosition:r,maxRecords:n,filter:o},e))})).catch((function(e){a(he(e))}))}}function je(e,t){return{type:C,layer:e,error:t}}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.zoomToLayer,n=void 0!==r&&r;return function(t,r){var o=r(),i=Object(b.layersSelector)(o),a=d.getLayerId(e,i||[]);return t(Object(u.addLayer)(v(v({},e),{},{id:a}))),n&&e.bbox&&t(Object(p.zoomToExtent)(e.bbox.bounds,e.bbox.crs)),"wms"===e.type?w.wms.describeLayers(d.getLayerUrl(e),e.name).then((function(r){if(r){var n=Object(m.find)(r,(function(t){return t.name===e.name}));if(n&&"WFS"===n.owsType){var i=f.filterUrlParams(f.cleanDuplicatedQuestionMarks(n.owsURL),Object(y.authkeyParamNameSelector)(o));t(Object(u.changeLayerProperties)(a,{search:{url:i,type:"wfs"}}))}}})).catch((function(r){return t(je(e,r))})):null}}var xe=Ee;function Pe(e){return{type:A,error:e}}function Te(e){return{type:Y,metadataOptions:e}}var Me=function(e){return{type:R,metadataTemplate:e}},Ae=function(){return{type:X}},Ce=function(){return{type:Q}},_e=function(){return{type:K}};function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(g.error)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},"./MapStore2/web/client/actions/dashboard.js":function(e,t,r){"use strict";r.r(t),r.d(t,"SET_EDITOR_AVAILABLE",(function(){return n})),r.d(t,"SET_EDITING",(function(){return o})),r.d(t,"SHOW_CONNECTIONS",(function(){return i})),r.d(t,"TRIGGER_SAVE_MODAL",(function(){return a})),r.d(t,"TRIGGER_SAVE_AS_MODAL",(function(){return s})),r.d(t,"SAVE_DASHBOARD",(function(){return l})),r.d(t,"SAVE_ERROR",(function(){return c})),r.d(t,"DASHBOARD_SAVED",(function(){return u})),r.d(t,"LOAD_DASHBOARD",(function(){return p})),r.d(t,"DASHBOARD_RESET",(function(){return d})),r.d(t,"DASHBOARD_LOADED",(function(){return f})),r.d(t,"DASHBOARD_LOADING",(function(){return m})),r.d(t,"DASHBOARD_LOAD_ERROR",(function(){return y})),r.d(t,"setEditing",(function(){return b})),r.d(t,"setEditorAvailable",(function(){return g})),r.d(t,"triggerShowConnections",(function(){return h})),r.d(t,"triggerSave",(function(){return v})),r.d(t,"triggerSaveAs",(function(){return S})),r.d(t,"saveDashboard",(function(){return w})),r.d(t,"dashboardSaveError",(function(){return O})),r.d(t,"dashboardSaved",(function(){return j})),r.d(t,"loadDashboard",(function(){return E})),r.d(t,"resetDashboard",(function(){return x})),r.d(t,"dashboardLoaded",(function(){return P})),r.d(t,"dashboardLoading",(function(){return T})),r.d(t,"dashboardLoadError",(function(){return M}));var n="DASHBOARD:SET_AVAILABLE",o="DASHBOARD:SET_EDITING",i="DASHBOARD:SHOW_CONNECTIONS",a="DASHBOARD:TRIGGER_SAVE_MODAL",s="DASHBOARD:TRIGGER_SAVE_AS_MODAL",l="DASHBOARD:SAVE_DASHBOARD",c="DASHBOARD:SAVE_ERROR",u="DASHBOARD:DASHBOARD_SAVED",p="DASHBOARD:LOAD_DASHBOARD",d="DASHBOARD:DASHBOARD_RESET",f="DASHBOARD:DASHBOARD_LOADED",m="DASHBOARD:DASHBOARD_LOADING",y="DASHBOARD:DASHBOARD_LOAD_ERROR",b=function(e){return{type:o,editing:e}},g=function(e){return{type:n,available:e}},h=function(e){return{type:i,show:e}},v=function(e){return{type:a,show:e}},S=function(e){return{type:s,show:e}},w=function(e){return{type:l,resource:e}},O=function(e){return{type:c,error:e}},j=function(e){return{type:u,id:e}},E=function(e){return{type:p,id:e}},x=function(){return{type:d}},P=function(e,t){return{type:f,resource:e,data:t}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading";return{type:m,name:t,value:e}},M=function(e){return{type:y,error:e}}},"./MapStore2/web/client/actions/draw.js":function(e,t,r){"use strict";r.r(t),r.d(t,"CHANGE_DRAWING_STATUS",(function(){return n})),r.d(t,"END_DRAWING",(function(){return o})),r.d(t,"SET_CURRENT_STYLE",(function(){return i})),r.d(t,"GEOMETRY_CHANGED",(function(){return a})),r.d(t,"DRAW_SUPPORT_STOPPED",(function(){return s})),r.d(t,"FEATURES_SELECTED",(function(){return l})),r.d(t,"DRAWING_FEATURE",(function(){return c})),r.d(t,"geometryChanged",(function(){return u})),r.d(t,"selectFeatures",(function(){return p})),r.d(t,"drawingFeatures",(function(){return d})),r.d(t,"drawStopped",(function(){return f})),r.d(t,"changeDrawingStatus",(function(){return m})),r.d(t,"endDrawing",(function(){return y})),r.d(t,"setCurrentStyle",(function(){return b})),r.d(t,"drawSupportReset",(function(){return g}));var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",s="DRAW:DRAW_SUPPORT_STOPPED",l="DRAW:FEATURES_SELECTED",c="DRAW:DRAWING_FEATURES";function u(e,t,r,n,o){return{type:a,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:l,features:e}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c,features:e}}function f(){return{type:s}}function m(e,t,r,o,i,a){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:a}}function y(e,t){return{type:o,geometry:e,owner:t}}function b(e){return{type:i,currentStyle:e}}var g=function(e){return m("clean","",e,[],{})}},"./MapStore2/web/client/actions/featuregrid.js":function(e,t,r){"use strict";r.r(t),r.d(t,"SET_UP",(function(){return n})),r.d(t,"SELECT_FEATURES",(function(){return o})),r.d(t,"DESELECT_FEATURES",(function(){return i})),r.d(t,"CLEAR_SELECTION",(function(){return a})),r.d(t,"SET_SELECTION_OPTIONS",(function(){return s})),r.d(t,"TOGGLE_MODE",(function(){return l})),r.d(t,"TOGGLE_FEATURES_SELECTION",(function(){return c})),r.d(t,"FEATURES_MODIFIED",(function(){return u})),r.d(t,"CREATE_NEW_FEATURE",(function(){return p})),r.d(t,"SAVE_CHANGES",(function(){return d})),r.d(t,"SAVING",(function(){return f})),r.d(t,"START_EDITING_FEATURE",(function(){return m})),r.d(t,"START_DRAWING_FEATURE",(function(){return y})),r.d(t,"DELETE_GEOMETRY",(function(){return b})),r.d(t,"DELETE_GEOMETRY_FEATURE",(function(){return g})),r.d(t,"SAVE_SUCCESS",(function(){return h})),r.d(t,"CLEAR_CHANGES",(function(){return v})),r.d(t,"SAVE_ERROR",(function(){return S})),r.d(t,"DELETE_SELECTED_FEATURES",(function(){return w})),r.d(t,"DELETE_SELECTED_FEATURES_CONFIRM",(function(){return O})),r.d(t,"SET_FEATURES",(function(){return j})),r.d(t,"SORT_BY",(function(){return E})),r.d(t,"SET_LAYER",(function(){return x})),r.d(t,"UPDATE_FILTER",(function(){return P})),r.d(t,"CHANGE_PAGE",(function(){return T})),r.d(t,"GEOMETRY_CHANGED",(function(){return M})),r.d(t,"DOCK_SIZE_FEATURES",(function(){return A})),r.d(t,"TOGGLE_TOOL",(function(){return C})),r.d(t,"CUSTOMIZE_ATTRIBUTE",(function(){return _})),r.d(t,"CLOSE_FEATURE_GRID_CONFIRM",(function(){return I})),r.d(t,"OPEN_FEATURE_GRID",(function(){return R})),r.d(t,"CLOSE_FEATURE_GRID",(function(){return L})),r.d(t,"CLEAR_CHANGES_CONFIRMED",(function(){return D})),r.d(t,"FEATURE_GRID_CLOSE_CONFIRMED",(function(){return k})),r.d(t,"SET_PERMISSION",(function(){return N})),r.d(t,"DISABLE_TOOLBAR",(function(){return F})),r.d(t,"ACTIVATE_TEMPORARY_CHANGES",(function(){return G})),r.d(t,"DEACTIVATE_GEOMETRY_FILTER",(function(){return U})),r.d(t,"OPEN_ADVANCED_SEARCH",(function(){return B})),r.d(t,"ZOOM_ALL",(function(){return z})),r.d(t,"INIT_PLUGIN",(function(){return W})),r.d(t,"SIZE_CHANGE",(function(){return V})),r.d(t,"TOGGLE_SHOW_AGAIN_FLAG",(function(){return H})),r.d(t,"HIDE_SYNC_POPOVER",(function(){return q})),r.d(t,"MODES",(function(){return Y})),r.d(t,"START_SYNC_WMS",(function(){return Z})),r.d(t,"STOP_SYNC_WMS",(function(){return Q})),r.d(t,"STORE_ADVANCED_SEARCH_FILTER",(function(){return K})),r.d(t,"LOAD_MORE_FEATURES",(function(){return X})),r.d(t,"GRID_QUERY_RESULT",(function(){return J})),r.d(t,"SET_TIME_SYNC",(function(){return $})),r.d(t,"toggleShowAgain",(function(){return ee})),r.d(t,"hideSyncPopover",(function(){return te})),r.d(t,"fatureGridQueryResult",(function(){return re})),r.d(t,"storeAdvancedSearchFilter",(function(){return ne})),r.d(t,"initPlugin",(function(){return oe})),r.d(t,"clearChangeConfirmed",(function(){return ie})),r.d(t,"closeFeatureGridConfirmed",(function(){return ae})),r.d(t,"selectFeatures",(function(){return se})),r.d(t,"setUp",(function(){return le})),r.d(t,"geometryChanged",(function(){return ce})),r.d(t,"startEditingFeature",(function(){return ue})),r.d(t,"startDrawingFeature",(function(){return pe})),r.d(t,"deselectFeatures",(function(){return de})),r.d(t,"deleteGeometry",(function(){return fe})),r.d(t,"deleteGeometryFeature",(function(){return me})),r.d(t,"clearSelection",(function(){return ye})),r.d(t,"toggleSelection",(function(){return be})),r.d(t,"setSelectionOptions",(function(){return ge})),r.d(t,"setFeatures",(function(){return he})),r.d(t,"dockSizeFeatures",(function(){return ve})),r.d(t,"sort",(function(){return Se})),r.d(t,"changePage",(function(){return we})),r.d(t,"setLayer",(function(){return Oe})),r.d(t,"updateFilter",(function(){return je})),r.d(t,"toggleTool",(function(){return Ee})),r.d(t,"customizeAttribute",(function(){return xe})),r.d(t,"toggleEditMode",(function(){return Pe})),r.d(t,"toggleViewMode",(function(){return Te})),r.d(t,"featureModified",(function(){return Me})),r.d(t,"createNewFeatures",(function(){return Ae})),r.d(t,"saveChanges",(function(){return Ce})),r.d(t,"saveSuccess",(function(){return _e})),r.d(t,"deleteFeaturesConfirm",(function(){return Ie})),r.d(t,"deleteFeatures",(function(){return Re})),r.d(t,"featureSaving",(function(){return Le})),r.d(t,"clearChanges",(function(){return De})),r.d(t,"saveError",(function(){return ke})),r.d(t,"closeFeatureGridConfirm",(function(){return Ne})),r.d(t,"closeFeatureGrid",(function(){return Fe})),r.d(t,"openFeatureGrid",(function(){return Ge})),r.d(t,"disableToolbar",(function(){return Ue})),r.d(t,"setPermission",(function(){return Be})),r.d(t,"openAdvancedSearch",(function(){return ze})),r.d(t,"zoomAll",(function(){return We})),r.d(t,"startSyncWMS",(function(){return Ve})),r.d(t,"sizeChange",(function(){return He})),r.d(t,"moreFeatures",(function(){return qe})),r.d(t,"activateTemporaryChanges",(function(){return Ye})),r.d(t,"deactivateGeometryFilter",(function(){return Ze})),r.d(t,"setTimeSync",(function(){return Qe}));var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",s="FEATUREGRID:SET_SELECTION_OPTIONS",l="FEATUREGRID:TOGGLE_MODE",c="FEATUREGRID:TOGGLE_FEATURES_SELECTION",u="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",d="FEATUREGRID:SAVE_CHANGES",f="FEATUREGRID:SAVING",m="FEATUREGRID:START_EDITING_FEATURE",y="FEATUREGRID:START_DRAWING_FEATURE",b="FEATUREGRID:DELETE_GEOMETRY",g="FEATUREGRID:DELETE_GEOMETRY_FEATURE",h="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",S="FEATUREGRID:SAVE_ERROR",w="FEATUREGRID:DELETE_SELECTED_FEATURES",O="FEATUREGRID:DELETE_SELECTED_FEATURES_CONFIRM",j="SET_FEATURES",E="FEATUREGRID:SORT_BY",x="FEATUREGRID:SET_LAYER",P="QUERY:UPDATE_FILTER",T="FEATUREGRID:CHANGE_PAGE",M="FEATUREGRID:GEOMETRY_CHANGED",A="DOCK_SIZE_FEATURES",C="FEATUREGRID:TOGGLE_TOOL",_="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",I="ASK_CLOSE_FEATURE_GRID_CONFIRM",R="FEATUREGRID:OPEN_GRID",L="FEATUREGRID:CLOSE_GRID",D="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",k="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",N="FEATUREGRID:SET_PERMISSION",F="FEATUREGRID:DISABLE_TOOLBAR",G="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",U="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",B="FEATUREGRID:ADVANCED_SEARCH",z="FEATUREGRID:ZOOM_ALL",W="FEATUREGRID:INIT_PLUGIN",V="FEATUREGRID:SIZE_CHANGE",H="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",q="FEATUREGRID:HIDE_SYNC_POPOVER",Y={EDIT:"EDIT",VIEW:"VIEW"},Z="FEATUREGRID:START_SYNC_WMS",Q="FEATUREGRID:STOP_SYNC_WMS",K="STORE_ADVANCED_SEARCH_FILTER",X="LOAD_MORE_FEATURES",J="FEATUREGRID:QUERY_RESULT",$="FEATUREGRID:SET_TIME_SYNC";function ee(){return{type:H}}function te(){return{type:q}}function re(e,t){return{type:J,features:e,pages:t}}function ne(e){return{type:K,filterObj:e}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:W,options:e}}function ie(){return{type:D}}function ae(){return{type:k}}function se(e,t){return{type:o,features:e,append:t}}function le(e){return{type:n,options:e}}function ce(e){return{type:M,features:e}}function ue(){return{type:m}}function pe(){return{type:y}}function de(e){return{type:i,features:e}}function fe(){return{type:b}}function me(e){return{type:g,features:e}}function ye(){return{type:a}}function be(e){return{type:c,features:e}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=void 0!==t&&t;return{type:s,multiselect:r}}function he(e){return{type:j,features:e}}function ve(e){return{type:A,dockSize:e}}function Se(e,t){return{type:E,sortBy:e,sortOrder:t}}function we(e,t){return{type:T,page:e,size:t}}function Oe(e){return{type:x,id:e}}function je(e){return{type:P,update:e}}function Ee(e,t){return{type:C,tool:e,value:t}}function xe(e,t,r){return{type:_,name:e,key:t,value:r}}function Pe(){return{type:l,mode:Y.EDIT}}function Te(){return{type:l,mode:Y.VIEW}}function Me(e,t){return{type:u,features:e,updated:t}}function Ae(e){return{type:p,features:e}}function Ce(){return{type:d}}function _e(){return{type:h}}function Ie(){return{type:O}}function Re(){return{type:w}}function Le(){return{type:f}}function De(){return{type:v}}function ke(){return{type:S}}function Ne(){return{type:I}}function Fe(){return{type:L}}function Ge(){return{type:R}}function Ue(e){return{type:F,disabled:e}}function Be(e){return{type:N,permission:e}}function ze(){return{type:B}}function We(){return{type:z}}function Ve(){return{type:Z}}function He(e,t){return{type:V,size:e,dockProps:t}}var qe=function(e){return{type:X,pages:e}},Ye=function(e){return{type:G,activated:e}},Ze=function(e){return{type:U,deactivated:e}},Qe=function(e){return{type:$,value:e}}},"./MapStore2/web/client/actions/fullscreen.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TOGGLE_FULLSCREEN",(function(){return n})),r.d(t,"toggleFullscreen",(function(){return o}));var n="TOGGLE_FULLSCREEN";function o(e,t){return{type:n,enable:e,elementSelector:t}}},"./MapStore2/web/client/actions/highlight.js":function(e,t,r){"use strict";r.r(t),r.d(t,"HIGHLIGHT_STATUS",(function(){return n})),r.d(t,"UPDATE_HIGHLIGHTED",(function(){return o})),r.d(t,"SET_HIGHLIGHT_FEATURES_PATH",(function(){return i})),r.d(t,"highlightStatus",(function(){return a})),r.d(t,"setHighlightFeaturesPath",(function(){return s})),r.d(t,"updateHighlighted",(function(){return l}));var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:n,status:e}}function s(e){return{type:i,featuresPath:e}}function l(e,t){return{type:o,features:e,status:t}}},"./MapStore2/web/client/actions/layerCapabilities.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/layers.js"),o=r("./MapStore2/web/client/api/WMS.js"),i=r("./MapStore2/web/client/api/WFS.js"),a=r("./MapStore2/web/client/libs/ajax.js"),s=r.n(a),l=r("./node_modules/url/url.js"),c=r.n(l),u=r("./node_modules/object-assign/index.js"),p=r.n(u),d=r("./node_modules/xml2js/lib/xml2js.js"),f=r.n(d),m={describeCoverage:function(e,t){var r=c.a.parse(e,!0),n=c.a.format(p()({},r,{query:p()({service:"WCS",version:"1.1.0",identifiers:t,request:"DescribeCoverage"},r.query)}));return s.a.get(n).then((function(e){var t;return f.a.parseString(e.data,{explicitArray:!1},(function(e,r){t=r})),t}))}},y=r("./MapStore2/web/client/utils/LayersUtils.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/lodash.js");function h(e,t,r){return function(a){return o.default.describeLayer(e,t.name,r).then((function(r){return r&&"WFS"===r.owsType?i.describeFeatureTypeOGCSchemas(e,r.name).then((function(e){var o=Object(g.get)(e,"complexType[0].complexContent.extension.sequence.element"),i=Object(g.head)(o&&o.filter((function(e){return"the_geom"===e.name||0===e.type.prefix.indexOf("gml")})));return i=i&&i.type.localPart,r.geometryType=i&&i.split("PropertyType")[0],a(Object(n.updateNode)(t.id,"id",{describeLayer:r,describeFeatureType:e}))})).catch((function(){return a(Object(n.updateNode)(t.id,"id",{describeLayer:r||{error:"no describe feature found"}}))})):(r&&"WCS"===r.owsType&&m.describeCoverage(e,r.name).then((function(e){var o=Object(g.get)(e,"wcs:CoverageDescriptions.wcs:CoverageDescription.wcs:Range.wcs:Field.wcs:Axis.wcs:AvailableKeys.wcs:Key");r.bands=o&&"string"==typeof o?["1"]:o.map((function(e,t){return t+1+""})),a(Object(n.updateNode)(t.id,"id",{describeLayer:r,describeCoverage:e}))})).catch((function(){return a(Object(n.updateNode)(t.id,"id",{describeLayer:r||{error:"no describe coverage found"}}))})),a(Object(n.updateNode)(t.id,"id",{describeLayer:r||{error:"no describe Layer found"}})))})).catch((function(e){return a(Object(n.updateNode)(t.id,"id",{describeLayer:{error:e.status}}))}))}}function v(e,t){var r=b.a.getCapabilitiesUrl(e);return function(i){return i(Object(n.updateNode)(e.id,"id",{capabilitiesLoading:!0})),o.default.getCapabilities(r,t).then((function(t){var r=o.default.parseLayerCapabilities(t,e);i(r?Object(n.updateNode)(e.id,"id",b.a.formatCapabitiliesOptions(r)):Object(n.updateNode)(e.id,"id",{capabilitiesLoading:null,capabilities:{error:"error getting capabilities",details:"no layer info"},description:null}))})).catch((function(t){i(Object(n.updateNode)(e.id,"id",{capabilitiesLoading:null,capabilities:{error:"error getting capabilities",details:t},description:null}))}))}}r.d(t,"getDescribeLayer",(function(){return h})),r.d(t,"getLayerCapabilities",(function(){return v}))},"./MapStore2/web/client/actions/layerFilter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"INIT_LAYER_FILTER",(function(){return n})),r.d(t,"APPLIED_FILTER",(function(){return o})),r.d(t,"STORE_CURRENT_APPLIED_FILTER",(function(){return i})),r.d(t,"DISCARD_CURRENT_FILTER",(function(){return a})),r.d(t,"APPLY_FILTER",(function(){return s})),r.d(t,"OPEN_QUERY_BUILDER",(function(){return l})),r.d(t,"storeCurrentFilter",(function(){return c})),r.d(t,"discardCurrentFilter",(function(){return u})),r.d(t,"openQueryBuilder",(function(){return p})),r.d(t,"storeAppliedFilter",(function(){return d})),r.d(t,"applyFilter",(function(){return f})),r.d(t,"initLayerFilter",(function(){return m}));var n="LAYER_FILTER:INIT_LAYER_FILTER",o="LAYER_FILTER:APPLIED_FILTER",i="LAYER_FILTER:STORE_CURRENT_APPLIED_FILTER",a="LAYER_FILTER:DISCARD_CURRENT_FILTER",s="LAYER_FILTER:APPLY_FILTER",l="LAYER_FILTER:OPEN_QUERY_BUILDER";function c(){return{type:i}}function u(){return{type:a}}function p(){return{type:l}}function d(e){return{type:o,filter:e}}function f(){return{type:s}}function m(e){return{type:n,filter:e}}},"./MapStore2/web/client/actions/locate.js":function(e,t,r){"use strict";r.r(t),r.d(t,"CHANGE_LOCATE_STATE",(function(){return n})),r.d(t,"LOCATE_ERROR",(function(){return o})),r.d(t,"changeLocateState",(function(){return i})),r.d(t,"onLocateError",(function(){return a}));var n="CHANGE_LOCATE_STATE",o="LOCATE_ERROR";function i(e){return{type:n,state:e}}function a(e){return{type:o,error:e}}},"./MapStore2/web/client/actions/mapInfo.js":function(e,t,r){"use strict";r.r(t),r.d(t,"LOAD_FEATURE_INFO",(function(){return i})),r.d(t,"ERROR_FEATURE_INFO",(function(){return a})),r.d(t,"EXCEPTIONS_FEATURE_INFO",(function(){return s})),r.d(t,"CHANGE_MAPINFO_STATE",(function(){return l})),r.d(t,"NEW_MAPINFO_REQUEST",(function(){return c})),r.d(t,"PURGE_MAPINFO_RESULTS",(function(){return u})),r.d(t,"CHANGE_MAPINFO_FORMAT",(function(){return p})),r.d(t,"SHOW_MAPINFO_MARKER",(function(){return d})),r.d(t,"HIDE_MAPINFO_MARKER",(function(){return f})),r.d(t,"SHOW_REVERSE_GEOCODE",(function(){return m})),r.d(t,"HIDE_REVERSE_GEOCODE",(function(){return y})),r.d(t,"GET_VECTOR_INFO",(function(){return b})),r.d(t,"NO_QUERYABLE_LAYERS",(function(){return g})),r.d(t,"CLEAR_WARNING",(function(){return h})),r.d(t,"FEATURE_INFO_CLICK",(function(){return v})),r.d(t,"UPDATE_FEATURE_INFO_CLICK_POINT",(function(){return S})),r.d(t,"TOGGLE_HIGHLIGHT_FEATURE",(function(){return w})),r.d(t,"TOGGLE_MAPINFO_STATE",(function(){return O})),r.d(t,"UPDATE_CENTER_TO_MARKER",(function(){return j})),r.d(t,"CHANGE_PAGE",(function(){return E})),r.d(t,"CLOSE_IDENTIFY",(function(){return x})),r.d(t,"CHANGE_FORMAT",(function(){return P})),r.d(t,"TOGGLE_SHOW_COORD_EDITOR",(function(){return T})),r.d(t,"EDIT_LAYER_FEATURES",(function(){return M})),r.d(t,"SET_CURRENT_EDIT_FEATURE_QUERY",(function(){return A})),r.d(t,"SET_MAP_TRIGGER",(function(){return C})),r.d(t,"TOGGLE_EMPTY_MESSAGE_GFI",(function(){return _})),r.d(t,"toggleEmptyMessageGFI",(function(){return I})),r.d(t,"loadFeatureInfo",(function(){return R})),r.d(t,"errorFeatureInfo",(function(){return L})),r.d(t,"exceptionsFeatureInfo",(function(){return D})),r.d(t,"noQueryableLayers",(function(){return k})),r.d(t,"clearWarning",(function(){return N})),r.d(t,"newMapInfoRequest",(function(){return F})),r.d(t,"getVectorInfo",(function(){return G})),r.d(t,"changeMapInfoState",(function(){return U})),r.d(t,"purgeMapInfoResults",(function(){return B})),r.d(t,"changeMapInfoFormat",(function(){return z})),r.d(t,"showMapinfoMarker",(function(){return W})),r.d(t,"hideMapinfoMarker",(function(){return V})),r.d(t,"revGeocodeInfo",(function(){return H})),r.d(t,"showMapinfoRevGeocode",(function(){return q})),r.d(t,"hideMapinfoRevGeocode",(function(){return Y})),r.d(t,"toggleMapInfoState",(function(){return Z})),r.d(t,"updateCenterToMarker",(function(){return Q})),r.d(t,"featureInfoClick",(function(){return K})),r.d(t,"updateFeatureInfoClickPoint",(function(){return X})),r.d(t,"toggleHighlightFeature",(function(){return J})),r.d(t,"changePage",(function(){return $})),r.d(t,"closeIdentify",(function(){return ee})),r.d(t,"changeFormat",(function(){return te})),r.d(t,"toggleShowCoordinateEditor",(function(){return re})),r.d(t,"editLayerFeatures",(function(){return ne})),r.d(t,"setCurrentEditFeatureQuery",(function(){return oe})),r.d(t,"setMapTrigger",(function(){return ie}));var n=r("./MapStore2/web/client/api/Nominatim.js"),o=r.n(n),i="LOAD_FEATURE_INFO",a="ERROR_FEATURE_INFO",s="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",u="PURGE_MAPINFO_RESULTS",p="CHANGE_MAPINFO_FORMAT",d="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",m="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",b="GET_VECTOR_INFO",g="NO_QUERYABLE_LAYERS",h="CLEAR_WARNING",v="FEATURE_INFO_CLICK",S="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",w="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",O="TOGGLE_MAPINFO_STATE",j="UPDATE_CENTER_TO_MARKER",E="IDENTIFY:CHANGE_PAGE",x="IDENTIFY:CLOSE_IDENTIFY",P="IDENTIFY:CHANGE_FORMAT",T="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",M="IDENTIFY:EDIT_LAYER_FEATURES",A="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",C="IDENTIFY:SET_MAP_TRIGGER",_="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",I=function(){return{type:_}};function R(e,t,r,n,o){return{type:i,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:o}}function L(e,t,r,n){return{type:a,error:t,reqId:e,requestParams:r,layerMetadata:n}}function D(e,t,r,n){return{type:s,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function k(){return{type:g}}function N(){return{type:h}}function F(e,t){return{type:c,reqId:e,request:t}}function G(e,t,r,n){return{type:b,layer:e,request:t,metadata:r,queryableLayers:n}}function U(e){return{type:l,enabled:e}}function B(){return{type:u}}function z(e){return{type:p,infoFormat:e}}function W(){return{type:d}}function V(){return{type:f}}function H(e){return{type:m,reverseGeocodeData:e.data}}function q(e){return function(t){o.a.reverseGeocode(e).then((function(e){t(H(e))})).catch((function(e){t(H(e))}))}}function Y(){return{type:y}}function Z(){return{type:O}}function Q(e){return{type:j,status:e}}function K(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:v,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function X(e){return{type:S,point:e}}function J(e){return{type:w,enabled:e}}function $(e){return{type:E,index:e}}var ee=function(){return{type:x}},te=function(e){return{type:P,format:e}},re=function(e){return{type:T,showCoordinateEditor:e}},ne=function(e){return{type:M,layer:e}},oe=function(e){return{type:A,query:e}},ie=function(e){return{type:C,trigger:e}}},"./MapStore2/web/client/actions/mapPopups.js":function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,"ADD_MAP_POPUP",(function(){return a})),r.d(t,"REMOVE_MAP_POPUP",(function(){return s})),r.d(t,"CLEAN_MAP_POPUPS",(function(){return l})),r.d(t,"addPopup",(function(){return c})),r.d(t,"removePopup",(function(){return u})),r.d(t,"cleanPopups",(function(){return p}));var a="MAP:ADD_POPUP",s="MAP:REMOVE_POPUP",l="MAP:CLEAN_POPUPS",c=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:a,id:e,popup:o({id:e},t),single:r}},u=function(e){return{type:s,id:e}},p=function(){return{type:l}}},"./MapStore2/web/client/actions/maplayout.js":function(e,t,r){"use strict";r.r(t),r.d(t,"UPDATE_MAP_LAYOUT",(function(){return n})),r.d(t,"updateMapLayout",(function(){return o}));var n="MAP_LAYOUT:UPDATE_MAP_LAYOUT";function o(e){return{type:n,layout:e}}},"./MapStore2/web/client/actions/measurement.js":function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,"CHANGE_MEASUREMENT_TOOL",(function(){return i})),r.d(t,"CHANGE_MEASUREMENT_STATE",(function(){return a})),r.d(t,"CHANGE_UOM",(function(){return s})),r.d(t,"CHANGED_GEOMETRY",(function(){return l})),r.d(t,"SET_TEXT_LABELS",(function(){return c})),r.d(t,"SET_CURRENT_FEATURE",(function(){return u})),r.d(t,"ADD_AS_LAYER",(function(){return p})),r.d(t,"RESET_GEOMETRY",(function(){return d})),r.d(t,"CHANGE_FORMAT",(function(){return f})),r.d(t,"CHANGE_COORDINATES",(function(){return m})),r.d(t,"ADD_MEASURE_AS_ANNOTATION",(function(){return y})),r.d(t,"UPDATE_MEASURES",(function(){return b})),r.d(t,"INIT",(function(){return g})),r.d(t,"SET_MEASUREMENT_CONFIG",(function(){return h})),r.d(t,"SET_ANNOTATION_MEASUREMENT",(function(){return v})),r.d(t,"addAnnotation",(function(){return S})),r.d(t,"toggleMeasurement",(function(){return w})),r.d(t,"changeMeasurement",(function(){return O})),r.d(t,"setAnnotationMeasurement",(function(){return j})),r.d(t,"changeUom",(function(){return E})),r.d(t,"changeGeometry",(function(){return x})),r.d(t,"setMeasurementConfig",(function(){return P})),r.d(t,"setTextLabels",(function(){return T})),r.d(t,"setCurrentFeature",(function(){return M})),r.d(t,"addAsLayer",(function(){return A})),r.d(t,"changeFormatMeasurement",(function(){return C})),r.d(t,"changeCoordinates",(function(){return _})),r.d(t,"resetGeometry",(function(){return I})),r.d(t,"updateMeasures",(function(){return R})),r.d(t,"changeMeasurementState",(function(){return L})),r.d(t,"init",(function(){return D}));var i="CHANGE_MEASUREMENT_TOOL",a="CHANGE_MEASUREMENT_STATE",s="MEASUREMENT:CHANGE_UOM",l="MEASUREMENT:CHANGED_GEOMETRY",c="MEASUREMENT:SET_TEXT_LABELS",u="MEASUREMENT:SET_CURRENT_FEATURE",p="MEASUREMENT:ADD_AS_LAYER",d="MEASUREMENT:RESET_GEOMETRY",f="MEASUREMENT:CHANGE_FORMAT",m="MEASUREMENT:CHANGE_COORDINATES",y="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",b="MEASUREMENT:UPDATE_MEASURES",g="MEASUREMENT:INIT",h="MEASUREMENT:SET_MEASUREMENT_CONFIG",v="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function S(e,t,r,n,o){return{type:y,features:e,textLabels:t,uom:r,save:n,id:o}}function w(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:i},e)}function O(e){return function(t){t(w(e))}}function j(e,t){return{type:v,features:e,id:t}}function E(e,t,r){return{type:s,uom:e,value:t,previousUom:r}}function x(e){return{type:l,features:e}}function P(e,t){return{type:h,property:e,value:t}}function T(e){return{type:c,textLabels:e}}function M(e){return{type:u,featureIndex:e}}function A(e,t,r){return{type:p,features:e,textLabels:t,uom:r}}function C(e){return{type:f,format:e}}function _(e){return{type:m,coordinates:e}}function I(){return{type:d}}function R(e){return{type:b,measures:e}}function L(e){return{type:a,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:g,defaultOptions:e}}},"./MapStore2/web/client/actions/mousePosition.js":function(e,t,r){"use strict";r.r(t),r.d(t,"CHANGE_MOUSE_POSITION",(function(){return n})),r.d(t,"CHANGE_MOUSE_POSITION_CRS",(function(){return o})),r.d(t,"CHANGE_MOUSE_POSITION_STATE",(function(){return i})),r.d(t,"changeMousePosition",(function(){return a})),r.d(t,"changeMousePositionCrs",(function(){return s})),r.d(t,"changeMousePositionState",(function(){return l}));var n="CHANGE_MOUSE_POSITION",o="CHANGE_MOUSE_POSITION_CRS",i="CHANGE_MOUSE_POSITION_STATE";function a(e){return{type:n,position:e}}function s(e){return{type:o,crs:e}}function l(e){return{type:i,enabled:e}}},"./MapStore2/web/client/actions/playback.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PLAY",(function(){return n})),r.d(t,"PAUSE",(function(){return o})),r.d(t,"STOP",(function(){return i})),r.d(t,"SET_FRAMES",(function(){return a})),r.d(t,"APPEND_FRAMES",(function(){return s})),r.d(t,"FRAMES_LOADING",(function(){return l})),r.d(t,"SET_CURRENT_FRAME",(function(){return c})),r.d(t,"SELECT_PLAYBACK_RANGE",(function(){return u})),r.d(t,"CHANGE_SETTING",(function(){return p})),r.d(t,"TOGGLE_ANIMATION_MODE",(function(){return d})),r.d(t,"ANIMATION_STEP_MOVE",(function(){return f})),r.d(t,"UPDATE_METADATA",(function(){return m})),r.d(t,"STATUS",(function(){return y})),r.d(t,"play",(function(){return b})),r.d(t,"pause",(function(){return g})),r.d(t,"stop",(function(){return h})),r.d(t,"setFrames",(function(){return v})),r.d(t,"setCurrentFrame",(function(){return S})),r.d(t,"appendFrames",(function(){return w})),r.d(t,"framesLoading",(function(){return O})),r.d(t,"selectPlaybackRange",(function(){return j})),r.d(t,"changeSetting",(function(){return E})),r.d(t,"toggleAnimationMode",(function(){return x})),r.d(t,"animationStepMove",(function(){return P})),r.d(t,"updateMetadata",(function(){return T}));var n="PLAYBACK:START",o="PLAYBACK:PAUSE",i="PLAYBACK:STOP",a="PLAYBACK:SET_FRAMES",s="PLAYBACK:APPEND_FRAMES",l="PLAYBACK:FRAMES_LOADING",c="PLAYBACK:SET_CURRENT_FRAME",u="PLAYBACK:SELECT_PLAYBACK_RANGE",p="PLAYBACK:SETTINGS_CHANGE",d="PLAYBACK:TOGGLE_ANIMATION_MODE",f="PLAYBACK:ANIMATION_STEP_MOVE",m="PLAYBACK:UPDATE_METADATA",y={PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},b=function(){return{type:n}},g=function(){return{type:o}},h=function(){return{type:i}},v=function(e){return{type:a,frames:e}},S=function(e){return{type:c,frame:e}},w=function(e){return{type:s,frames:e}},O=function(e){return{type:l,loading:e}},j=function(e){return{type:u,range:e}},E=function(e,t){return{type:p,name:e,value:t}},x=function(){return{type:d}},P=function(e){return{type:f,direction:e}},T=function(e){var t=e.next,r=e.previous,n=e.forTime;return{type:m,forTime:n,next:t,previous:r}}},"./MapStore2/web/client/actions/queryform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"ADD_FILTER_FIELD",(function(){return a})),r.d(t,"REMOVE_FILTER_FIELD",(function(){return s})),r.d(t,"UPDATE_FILTER_FIELD",(function(){return l})),r.d(t,"UPDATE_EXCEPTION_FIELD",(function(){return c})),r.d(t,"ADD_GROUP_FIELD",(function(){return u})),r.d(t,"UPDATE_LOGIC_COMBO",(function(){return p})),r.d(t,"REMOVE_GROUP_FIELD",(function(){return d})),r.d(t,"CHANGE_CASCADING_VALUE",(function(){return f})),r.d(t,"EXPAND_ATTRIBUTE_PANEL",(function(){return m})),r.d(t,"EXPAND_SPATIAL_PANEL",(function(){return y})),r.d(t,"EXPAND_CROSS_LAYER",(function(){return b})),r.d(t,"SET_CROSS_LAYER_PARAMETER",(function(){return g})),r.d(t,"RESET_CROSS_LAYER_FILTER",(function(){return h})),r.d(t,"SELECT_SPATIAL_METHOD",(function(){return v})),r.d(t,"SELECT_VIEWPORT_SPATIAL_METHOD",(function(){return S})),r.d(t,"UPDATE_GEOMETRY",(function(){return w})),r.d(t,"SELECT_SPATIAL_OPERATION",(function(){return O})),r.d(t,"CHANGE_SPATIAL_ATTRIBUTE",(function(){return j})),r.d(t,"CHANGE_SPATIAL_FILTER_VALUE",(function(){return E})),r.d(t,"REMOVE_SPATIAL_SELECT",(function(){return x})),r.d(t,"SHOW_SPATIAL_DETAILS",(function(){return P})),r.d(t,"QUERY_FORM_SEARCH",(function(){return T})),r.d(t,"QUERY_FORM_RESET",(function(){return M})),r.d(t,"SHOW_GENERATED_FILTER",(function(){return A})),r.d(t,"CHANGE_DWITHIN_VALUE",(function(){return C})),r.d(t,"ZONE_SEARCH",(function(){return _})),r.d(t,"ZONE_SEARCH_ERROR",(function(){return I})),r.d(t,"ZONE_FILTER",(function(){return R})),r.d(t,"ZONE_CHANGE",(function(){return L})),r.d(t,"ZONES_RESET",(function(){return D})),r.d(t,"SIMPLE_FILTER_FIELD_UPDATE",(function(){return k})),r.d(t,"ADD_SIMPLE_FILTER_FIELD",(function(){return N})),r.d(t,"REMOVE_SIMPLE_FILTER_FIELD",(function(){return F})),r.d(t,"REMOVE_ALL_SIMPLE_FILTER_FIELDS",(function(){return G})),r.d(t,"UPDATE_FILTER_FIELD_OPTIONS",(function(){return U})),r.d(t,"LOADING_FILTER_FIELD_OPTIONS",(function(){return B})),r.d(t,"ADD_CROSS_LAYER_FILTER_FIELD",(function(){return z})),r.d(t,"UPDATE_CROSS_LAYER_FILTER_FIELD",(function(){return W})),r.d(t,"REMOVE_CROSS_LAYER_FILTER_FIELD",(function(){return V})),r.d(t,"SET_AUTOCOMPLETE_MODE",(function(){return H})),r.d(t,"TOGGLE_AUTOCOMPLETE_MENU",(function(){return q})),r.d(t,"LOAD_FILTER",(function(){return Y})),r.d(t,"addFilterField",(function(){return Z})),r.d(t,"addGroupField",(function(){return Q})),r.d(t,"removeFilterField",(function(){return K})),r.d(t,"toggleMenu",(function(){return X})),r.d(t,"updateFilterField",(function(){return J})),r.d(t,"updateExceptionField",(function(){return $})),r.d(t,"updateLogicCombo",(function(){return ee})),r.d(t,"setAutocompleteMode",(function(){return te})),r.d(t,"removeGroupField",(function(){return re})),r.d(t,"changeCascadingValue",(function(){return ne})),r.d(t,"expandAttributeFilterPanel",(function(){return oe})),r.d(t,"expandSpatialFilterPanel",(function(){return ie})),r.d(t,"expandCrossLayerFilterPanel",(function(){return ae})),r.d(t,"setCrossLayerFilterParameter",(function(){return se})),r.d(t,"selectSpatialMethod",(function(){return le})),r.d(t,"selectViewportSpatialMethod",(function(){return ce})),r.d(t,"updateGeometrySpatialField",(function(){return ue})),r.d(t,"selectSpatialOperation",(function(){return pe})),r.d(t,"changeSpatialAttribute",(function(){return de})),r.d(t,"changeSpatialFilterValue",(function(){return fe})),r.d(t,"removeSpatialSelection",(function(){return me})),r.d(t,"showSpatialSelectionDetails",(function(){return ye})),r.d(t,"changeDwithinValue",(function(){return be})),r.d(t,"search",(function(){return ge})),r.d(t,"loadFilter",(function(){return he})),r.d(t,"query",(function(){return ve})),r.d(t,"reset",(function(){return Se})),r.d(t,"resetZones",(function(){return we})),r.d(t,"zoneFilter",(function(){return Oe})),r.d(t,"zoneSearchError",(function(){return je})),r.d(t,"zoneSearch",(function(){return Ee})),r.d(t,"zoneGetValues",(function(){return xe})),r.d(t,"zoneChange",(function(){return Pe})),r.d(t,"simpleFilterFieldUpdate",(function(){return Te})),r.d(t,"addSimpleFilterField",(function(){return Me})),r.d(t,"removeSimpleFilterField",(function(){return Ae})),r.d(t,"removeAllSimpleFilterFields",(function(){return Ce})),r.d(t,"addCrossLayerFilterField",(function(){return _e})),r.d(t,"updateCrossLayerFilterField",(function(){return Ie})),r.d(t,"removeCrossLayerFilterField",(function(){return Re})),r.d(t,"resetCrossLayerFilter",(function(){return Le})),r.d(t,"loadingFilterFieldOptions",(function(){return De})),r.d(t,"updateFilterFieldOptions",(function(){return ke}));var n=r("./MapStore2/web/client/libs/ajax.js"),o=r.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="ADD_FILTER_FIELD",s="REMOVE_FILTER_FIELD",l="UPDATE_FILTER_FIELD",c="UPDATE_EXCEPTION_FIELD",u="ADD_GROUP_FIELD",p="UPDATE_LOGIC_COMBO",d="REMOVE_GROUP_FIELD",f="CHANGE_CASCADING_VALUE",m="EXPAND_ATTRIBUTE_PANEL",y="EXPAND_SPATIAL_PANEL",b="QUERYFORM:EXPAND_CROSS_LAYER",g="QUERYFORM:SET_CROSS_LAYER_PARAMETER",h="QUERYFORM:RESET_CROSS_LAYER_FILTER",v="SELECT_SPATIAL_METHOD",S="SELECT_VIEWPORT_SPATIAL_METHOD",w="UPDATE_GEOMETRY",O="SELECT_SPATIAL_OPERATION",j="CHANGE_SPATIAL_ATTRIBUTE",E="CHANGE_SPATIAL_FILTER_VALUE",x="REMOVE_SPATIAL_SELECT",P="SHOW_SPATIAL_DETAILS",T="QUERY_FORM_SEARCH",M="QUERY_FORM_RESET",A="SHOW_GENERATED_FILTER",C="CHANGE_DWITHIN_VALUE",_="ZONE_SEARCH",I="ZONE_SEARCH_ERROR",R="ZONE_FILTER",L="ZONE_CHANGE",D="ZONES_RESET",k="SIMPLE_FILTER_FIELD_UPDATE",N="ADD_SIMPLE_FILTER_FIELD",F="REMOVE_SIMPLE_FILTER_FIELD",G="REMOVE_ALL_SIMPLE_FILTER_FIELDS",U="UPDATE_FILTER_FIELD_OPTIONS",B="LOADING_FILTER_FIELD_OPTIONS",z="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",W="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",V="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",H="SET_AUTOCOMPLETE_MODE",q="TOGGLE_AUTOCOMPLETE_MENU",Y="QUERYFORM:LOAD_FILTER";function Z(e){return{type:a,groupId:e}}function Q(e,t){return{type:u,groupId:e,index:t}}function K(e){return{type:s,rowId:e}}function X(e,t){return{type:q,rowId:e,status:t}}function J(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{type:l,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}}function $(e,t){return{type:c,rowId:e,exceptionMessage:t}}function ee(e,t){return{type:p,groupId:e,logic:t}}function te(e){return{type:H,status:e}}function re(e){return{type:d,groupId:e}}function ne(e){return{type:f,attributes:e}}function oe(e){return{type:m,expand:e}}function ie(e){return{type:y,expand:e}}function ae(e){return{type:b,expand:e}}function se(e,t){return{type:g,key:e,value:t}}function le(e,t){return{type:v,fieldName:t,method:e}}function ce(){return{type:S}}function ue(e){return{type:w,geometry:e}}function pe(e,t){return{type:O,fieldName:t,operation:e}}function de(e){return{type:j,attribute:e}}function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feature,r=e.srsName,n=e.collectGeometries,o=e.style,i=e.options,a=e.value;return{type:E,value:a,collectGeometries:n,options:i,geometry:t&&t.geometry,feature:t,srsName:r,style:o}}function me(){return{type:x}}function ye(e){return{type:P,show:e}}function be(e){return{type:C,distance:e}}function ge(e,t){return{type:T,searchUrl:e,filterObj:t}}function he(e){return{type:Y,filter:e}}function ve(e,t){return{type:A,data:t}}function Se(e){return{type:M,skip:e}}function we(){return{type:D}}function Oe(e,t){return{type:R,data:e,id:t}}function je(e,t){return{type:I,error:e,id:t}}function Ee(e,t){return{type:_,active:e,id:t}}function xe(e,t,r){return function(n){return o.a.post(e,t,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"text/plain"}}).then((function(o){var a=o.data;if("object"!==i(a))try{a=JSON.parse(a)}catch(o){n(je("Search result broken ("+e+":   "+t+"): "+o.message,r))}n(Oe(a,r)),n(Ee(!1,r))})).catch((function(e){n(je(e,r))}))}}function Pe(e,t){return{type:L,id:e,value:t}}function Te(e,t){return{type:k,id:e,properties:t}}function Me(e){return{type:N,properties:e}}function Ae(e){return{type:F,id:e}}function Ce(){return{type:G}}function _e(e){return{type:z,rowId:(new Date).getTime(),groupId:e}}function Ie(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{type:W,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}}function Re(e){return{type:V,rowId:e}}function Le(){return{type:h}}function De(e,t){return{type:B,status:e,filterField:t}}function ke(e,t,r){return{type:U,filterField:e,options:t,valuesCount:r}}},"./MapStore2/web/client/actions/search.js":function(e,t,r){"use strict";r.r(t),r.d(t,"SEARCH_LAYER_WITH_FILTER",(function(){return o})),r.d(t,"TEXT_SEARCH_STARTED",(function(){return i})),r.d(t,"TEXT_SEARCH_RESULTS_LOADED",(function(){return a})),r.d(t,"TEXT_SEARCH_PERFORMED",(function(){return s})),r.d(t,"TEXT_SEARCH_RESULTS_PURGE",(function(){return l})),r.d(t,"TEXT_SEARCH_RESET",(function(){return c})),r.d(t,"TEXT_SEARCH_ADD_MARKER",(function(){return u})),r.d(t,"TEXT_SEARCH_TEXT_CHANGE",(function(){return p})),r.d(t,"TEXT_SEARCH_LOADING",(function(){return d})),r.d(t,"TEXT_SEARCH_NESTED_SERVICES_SELECTED",(function(){return f})),r.d(t,"TEXT_SEARCH_ERROR",(function(){return m})),r.d(t,"TEXT_SEARCH_CANCEL_ITEM",(function(){return y})),r.d(t,"TEXT_SEARCH_ITEM_SELECTED",(function(){return b})),r.d(t,"TEXT_SEARCH_SHOW_GFI",(function(){return g})),r.d(t,"TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",(function(){return h})),r.d(t,"UPDATE_RESULTS_STYLE",(function(){return v})),r.d(t,"CHANGE_SEARCH_TOOL",(function(){return S})),r.d(t,"ZOOM_ADD_POINT",(function(){return w})),r.d(t,"CHANGE_FORMAT",(function(){return O})),r.d(t,"CHANGE_COORD",(function(){return j})),r.d(t,"changeFormat",(function(){return E})),r.d(t,"searchLayerWithFilter",(function(){return x})),r.d(t,"zoomAndAddPoint",(function(){return P})),r.d(t,"changeActiveSearchTool",(function(){return T})),r.d(t,"searchResultLoaded",(function(){return M})),r.d(t,"searchTextChanged",(function(){return A})),r.d(t,"searchTextLoading",(function(){return C})),r.d(t,"searchResultError",(function(){return _})),r.d(t,"resultsPurge",(function(){return I})),r.d(t,"resetSearch",(function(){return R})),r.d(t,"addMarker",(function(){return L})),r.d(t,"textSearch",(function(){return D})),r.d(t,"selectSearchItem",(function(){return k})),r.d(t,"showGFI",(function(){return N})),r.d(t,"selectNestedService",(function(){return F})),r.d(t,"cancelSelectedItem",(function(){return G})),r.d(t,"setHighlightedFeature",(function(){return U})),r.d(t,"updateResultsStyle",(function(){return B})),r.d(t,"changeCoord",(function(){return z})),r.d(t,"nonQueriableLayerError",(function(){return W})),r.d(t,"serverError",(function(){return V}));var n=r("./MapStore2/web/client/actions/notifications.js"),o="SEARCH:SEARCH_WITH_FILTER",i="TEXT_SEARCH_STARTED",a="TEXT_SEARCH_RESULTS_LOADED",s="TEXT_SEARCH_PERFORMED",l="TEXT_SEARCH_RESULTS_PURGE",c="TEXT_SEARCH_RESET",u="TEXT_SEARCH_ADD_MARKER",p="TEXT_SEARCH_TEXT_CHANGE",d="TEXT_SEARCH_LOADING",f="TEXT_SEARCH_NESTED_SERVICE_SELECTED",m="TEXT_SEARCH_ERROR",y="TEXT_SEARCH_CANCEL_ITEM",b="TEXT_SEARCH_ITEM_SELECTED",g="TEXT_SEARCH_SHOW_GFI",h="TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",v="UPDATE_RESULTS_STYLE",S="CHANGE_SEARCH_TOOL",w="SEARCH:ZOOM_ADD_POINT",O="SEARCH:CHANGE_FORMAT",j="SEARCH:CHANGE_COORD";function E(e){return{type:O,format:e}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,r=e.cql_filter;return{type:o,layer:t,cql_filter:r}}function P(e,t,r){return{type:w,pos:e,zoom:t,crs:r}}function T(e){return{type:S,activeSearchTool:e}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;return{type:a,results:e,append:t,services:r}}function A(e){return{type:p,searchText:e}}function C(e){return{type:d,loading:e}}function _(e){return{type:m,error:e}}function I(){return{type:l}}function R(){return{type:c}}function L(e,t){return{type:u,markerPosition:e,markerLabel:t}}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.services,n=void 0===r?null:r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return{type:i,searchText:e,services:n,maxResults:o}}function k(e,t,r){return{type:b,item:e,mapConfig:t,resultsStyle:r}}var N=function(e){return{type:g,item:e}};function F(e,t,r){return{type:f,searchText:r,services:e,items:t}}function G(e){return{type:y,item:e}}function U(e){return{type:h,highlightedFeature:e}}function B(e){return{type:v,style:e}}function z(e,t){return{type:j,coord:e,val:t}}function W(){return Object(n.error)({title:"Error",position:"tc",message:"search.errors.nonQueriableLayers",autoDismiss:10})}function V(){return Object(n.error)({title:"Error",position:"tc",message:"search.errors.serverError",autoDismiss:10})}},"./MapStore2/web/client/actions/searchbookmarkconfig.js":function(e,t,r){"use strict";r.r(t),r.d(t,"SET_SEARCH_BOOKMARK_CONFIG",(function(){return n})),r.d(t,"RESET_BOOKMARK_CONFIG",(function(){return o})),r.d(t,"UPDATE_BOOKMARK",(function(){return i})),r.d(t,"FILTER_BOOKMARKS",(function(){return a})),r.d(t,"setSearchBookmarkConfig",(function(){return s})),r.d(t,"resetBookmarkConfig",(function(){return l})),r.d(t,"updateBookmark",(function(){return c})),r.d(t,"filterBookmarks",(function(){return u}));var n="SET_SEARCH_BOOKMARK_CONFIG",o="RESET_BOOKMARK_CONFIG",i="UPDATE_BOOKMARK",a="FILTER_BOOKMARKS";function s(e,t){return{type:n,property:e,value:t}}function l(){return{type:o}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return{type:i,bookmark:e,idx:t}}function u(e){return{type:a,filter:e}}},"./MapStore2/web/client/actions/searchconfig.js":function(e,t,r){"use strict";r.r(t),r.d(t,"SET_SEARCH_CONFIG_PROP",(function(){return n})),r.d(t,"RESET_SEARCH_CONFIG",(function(){return o})),r.d(t,"UPDATE_SERVICE",(function(){return i})),r.d(t,"setSearchConfigProp",(function(){return a})),r.d(t,"restServiceConfig",(function(){return s})),r.d(t,"updateService",(function(){return l}));var n="SET_SEARCH_CONFIG_PROP",o="RESET_SEARCH_CONFIG",i="UPDATE_SERVICE";function a(e,t){return{type:n,property:e,value:t}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:o,page:e}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return{type:i,service:e,idx:t}}},"./MapStore2/web/client/actions/selection.js":function(e,t,r){"use strict";r.r(t),r.d(t,"CHANGE_SELECTION_STATE",(function(){return n})),r.d(t,"changeSelectionState",(function(){return o}));var n="CHANGE_SELECTION_STATE";function o(e){return{type:n,geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}},"./MapStore2/web/client/actions/styleeditor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"TOGGLE_STYLE_EDITOR",(function(){return n})),r.d(t,"SELECT_STYLE_TEMPLATE",(function(){return o})),r.d(t,"UPDATE_TEMPORARY_STYLE",(function(){return i})),r.d(t,"UPDATE_STATUS",(function(){return a})),r.d(t,"RESET_STYLE_EDITOR",(function(){return s})),r.d(t,"ADD_STYLE",(function(){return l})),r.d(t,"CREATE_STYLE",(function(){return c})),r.d(t,"LOADING_STYLE",(function(){return u})),r.d(t,"LOADED_STYLE",(function(){return p})),r.d(t,"ERROR_STYLE",(function(){return d})),r.d(t,"UPDATE_STYLE_CODE",(function(){return f})),r.d(t,"EDIT_STYLE_CODE",(function(){return m})),r.d(t,"DELETE_STYLE",(function(){return y})),r.d(t,"INIT_STYLE_SERVICE",(function(){return b})),r.d(t,"SET_EDIT_PERMISSION",(function(){return g})),r.d(t,"SET_DEFAULT_STYLE",(function(){return h})),r.d(t,"UPDATE_EDITOR_METADATA",(function(){return v})),r.d(t,"toggleStyleEditor",(function(){return S})),r.d(t,"updateStatus",(function(){return w})),r.d(t,"selectStyleTemplate",(function(){return O})),r.d(t,"updateTemporaryStyle",(function(){return j})),r.d(t,"loadingStyle",(function(){return E})),r.d(t,"loadedStyle",(function(){return x})),r.d(t,"createStyle",(function(){return P})),r.d(t,"resetStyleEditor",(function(){return T})),r.d(t,"addStyle",(function(){return M})),r.d(t,"errorStyle",(function(){return A})),r.d(t,"updateStyleCode",(function(){return C})),r.d(t,"editStyleCode",(function(){return _})),r.d(t,"deleteStyle",(function(){return I})),r.d(t,"initStyleService",(function(){return R})),r.d(t,"setEditPermissionStyleEditor",(function(){return L})),r.d(t,"setDefaultStyle",(function(){return D})),r.d(t,"updateEditorMetadata",(function(){return k}));var n="STYLEEDITOR:TOGGLE_STYLE_EDITOR",o="STYLEEDITOR:SELECT_STYLE_TEMPLATE",i="STYLEEDITOR:UPDATE_TEMPORARY_STYLE",a="STYLEEDITOR:UPDATE_STATUS",s="STYLEEDITOR:RESET_STYLE_EDITOR",l="STYLEEDITOR:ADD_STYLE",c="STYLEEDITOR:CREATE_STYLE",u="STYLEEDITOR:LOADING_STYLE",p="STYLEEDITOR:LOADED_STYLE",d="STYLEEDITOR:ERROR_STYLE",f="STYLEEDITOR:UPDATE_STYLE_CODE",m="STYLEEDITOR:EDIT_STYLE_CODE",y="STYLEEDITOR:DELETE_STYLE",b="STYLEEDITOR:INIT_STYLE_SERVICE",g="STYLEEDITOR:SET_EDIT_PERMISSION",h="STYLEEDITOR:SET_DEFAULT_STYLE",v="STYLEEDITOR:UPDATE_EDITOR_METADATA";function S(e,t){return{type:n,layer:e,enabled:t}}function w(e){return{type:a,status:e}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,r=e.templateId,n=e.format,i=e.languageVersion,a=e.init;return{type:o,code:t,templateId:r,format:n,init:a,languageVersion:i}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,r=e.templateId,n=e.code,o=e.format,a=e.languageVersion,s=e.init;return{type:i,temporaryId:t,templateId:r,code:n,format:o,init:s,languageVersion:a}}function E(e){return{type:u,status:e}}function x(){return{type:p}}function P(e){return{type:c,settings:e}}function T(){return{type:s}}function M(e){return{type:l,add:e}}function A(e,t){return{type:d,status:e,error:t}}function C(){return{type:f}}function _(e){return{type:m,code:e}}function I(e){return{type:y,styleName:e}}function R(e,t){return{type:b,service:e,canEdit:t}}function L(e){return{type:g,canEdit:e}}function D(){return{type:h}}function k(e){return{type:v,metadata:e}}},"./MapStore2/web/client/actions/swipe.js":function(e,t,r){"use strict";r.r(t),r.d(t,"setActive",(function(){return s})),r.d(t,"setMode",(function(){return l})),r.d(t,"setSwipeToolDirection",(function(){return c})),r.d(t,"setSpyToolRadius",(function(){return u})),r.d(t,"SET_ACTIVE",(function(){return n})),r.d(t,"SET_MODE",(function(){return o})),r.d(t,"SET_SWIPE_TOOL_DIRECTION",(function(){return i})),r.d(t,"SET_SPY_TOOL_RADIUS",(function(){return a}));var n="SWIPE:SET_ACTIVE",o="SWIPE:SET_MODE",i="SWIPE:SET_SWIPE_TOOL_DIRECTION",a="SWIPE:SET_SPY_TOOL_RADIUS";function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active";return{type:n,active:e,prop:t}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"swipe";return{type:o,mode:e}}function c(e){return{type:i,direction:e}}function u(e){return{type:a,radius:e}}},"./MapStore2/web/client/actions/wfsquery.js":function(e,t,r){"use strict";r.r(t),r.d(t,"LAYER_SELECTED_FOR_SEARCH",(function(){return a})),r.d(t,"FEATURE_TYPE_SELECTED",(function(){return s})),r.d(t,"FEATURE_TYPE_LOADED",(function(){return l})),r.d(t,"FEATURE_LOADED",(function(){return c})),r.d(t,"FEATURE_LOADING",(function(){return u})),r.d(t,"FEATURE_TYPE_ERROR",(function(){return p})),r.d(t,"FEATURE_ERROR",(function(){return d})),r.d(t,"QUERY_CREATE",(function(){return f})),r.d(t,"UPDATE_QUERY",(function(){return m})),r.d(t,"QUERY_RESULT",(function(){return y})),r.d(t,"QUERY_ERROR",(function(){return b})),r.d(t,"RESET_QUERY",(function(){return g})),r.d(t,"QUERY",(function(){return h})),r.d(t,"INIT_QUERY_PANEL",(function(){return v})),r.d(t,"TOGGLE_SYNC_WMS",(function(){return S})),r.d(t,"TOGGLE_LAYER_FILTER",(function(){return w})),r.d(t,"toggleSyncWms",(function(){return O})),r.d(t,"toggleLayerFilter",(function(){return j})),r.d(t,"layerSelectedForSearch",(function(){return E})),r.d(t,"initQueryPanel",(function(){return x})),r.d(t,"featureTypeSelected",(function(){return P})),r.d(t,"featureTypeLoaded",(function(){return T})),r.d(t,"featureTypeError",(function(){return M})),r.d(t,"featureLoading",(function(){return A})),r.d(t,"featureLoaded",(function(){return C})),r.d(t,"featureError",(function(){return _})),r.d(t,"querySearchResponse",(function(){return I})),r.d(t,"queryError",(function(){return R})),r.d(t,"updateQuery",(function(){return L})),r.d(t,"loadFeature",(function(){return D})),r.d(t,"createQuery",(function(){return k})),r.d(t,"query",(function(){return N})),r.d(t,"resetQuery",(function(){return F}));var n=r("./MapStore2/web/client/libs/ajax.js"),o=r.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="LAYER_SELECTED_FOR_SEARCH",s="FEATURE_TYPE_SELECTED",l="FEATURE_TYPE_LOADED",c="FEATURE_LOADED",u="FEATURE_LOADING",p="FEATURE_TYPE_ERROR",d="FEATURE_ERROR",f="QUERY_CREATE",m="QUERY:UPDATE_QUERY",y="QUERY_RESULT",b="QUERY_ERROR",g="RESET_QUERY",h="QUERY",v="INIT_QUERY_PANEL",S="QUERY:TOGGLE_SYNC_WMS",w="QUERY:TOGGLE_LAYER_FILTER";function O(){return{type:S}}function j(){return{type:w}}function E(e){return{type:a,id:e}}function x(){return{type:v}}function P(e,t){return{type:s,url:e,typeName:t}}function T(e,t){return{type:l,typeName:e,featureType:t}}function M(e,t){return{type:p,typeName:e,error:t}}function A(e){return{type:u,isLoading:e}}function C(e,t){return{type:c,typeName:e,feature:t}}function _(e,t){return{type:d,typeName:e,error:t}}function I(e,t,r,n,o){return{type:y,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function R(e){return{type:b,error:e}}function L(e,t){return{type:m,updates:e,reason:t}}function D(e,t){return function(r){return o.a.get(e+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t+"&outputFormat=application/json").then((function(e){if("object"===i(e.data))r(C(t,e.data));else try{JSON.parse(e.data)}catch(e){r(_(t,"Error from WFS: "+e.message))}})).catch((function(e){r(_(t,e))}))}}function k(e,t){return{type:f,searchUrl:e,filterObj:t}}function N(e,t,r,n){return{type:h,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}function F(){return{type:g}}},"./MapStore2/web/client/actions/widgets.js":function(e,t,r){"use strict";r.r(t),r.d(t,"INSERT",(function(){return s})),r.d(t,"NEW",(function(){return l})),r.d(t,"EDIT",(function(){return c})),r.d(t,"EDIT_NEW",(function(){return u})),r.d(t,"EDITOR_CHANGE",(function(){return p})),r.d(t,"EDITOR_SETTING_CHANGE",(function(){return d})),r.d(t,"UPDATE",(function(){return f})),r.d(t,"UPDATE_PROPERTY",(function(){return m})),r.d(t,"UPDATE_LAYER",(function(){return y})),r.d(t,"CHANGE_LAYOUT",(function(){return b})),r.d(t,"DELETE",(function(){return g})),r.d(t,"CLEAR_WIDGETS",(function(){return h})),r.d(t,"ADD_DEPENDENCY",(function(){return v})),r.d(t,"REMOVE_DEPENDENCY",(function(){return S})),r.d(t,"LOAD_DEPENDENCIES",(function(){return w})),r.d(t,"RESET_DEPENDENCIES",(function(){return O})),r.d(t,"TOGGLE_CONNECTION",(function(){return j})),r.d(t,"OPEN_FILTER_EDITOR",(function(){return E})),r.d(t,"EXPORT_CSV",(function(){return x})),r.d(t,"EXPORT_IMAGE",(function(){return P})),r.d(t,"WIDGET_SELECTED",(function(){return T})),r.d(t,"NEW_CHART",(function(){return M})),r.d(t,"DEFAULT_TARGET",(function(){return A})),r.d(t,"DEPENDENCY_SELECTOR_KEY",(function(){return C})),r.d(t,"WIDGETS_REGEX",(function(){return _})),r.d(t,"TOGGLE_COLLAPSE",(function(){return I})),r.d(t,"TOGGLE_COLLAPSE_ALL",(function(){return R})),r.d(t,"TOGGLE_TRAY",(function(){return L})),r.d(t,"createWidget",(function(){return D})),r.d(t,"createChart",(function(){return k})),r.d(t,"insertWidget",(function(){return N})),r.d(t,"updateWidget",(function(){return F})),r.d(t,"updateWidgetProperty",(function(){return G})),r.d(t,"updateWidgetLayer",(function(){return U})),r.d(t,"deleteWidget",(function(){return B})),r.d(t,"clearWidgets",(function(){return z})),r.d(t,"changeLayout",(function(){return W})),r.d(t,"editWidget",(function(){return V})),r.d(t,"editNewWidget",(function(){return H})),r.d(t,"onEditorChange",(function(){return q})),r.d(t,"changeEditorSetting",(function(){return Y})),r.d(t,"addDependency",(function(){return Z})),r.d(t,"removeDependency",(function(){return Q})),r.d(t,"resetDependencies",(function(){return K})),r.d(t,"loadDependencies",(function(){return X})),r.d(t,"toggleConnection",(function(){return J})),r.d(t,"setPage",(function(){return $})),r.d(t,"exportCSV",(function(){return ee})),r.d(t,"selectWidget",(function(){return te})),r.d(t,"exportImage",(function(){return re})),r.d(t,"openFilterEditor",(function(){return ne})),r.d(t,"setupDependencySelector",(function(){return oe})),r.d(t,"changeDependencySelector",(function(){return ie})),r.d(t,"toggleDependencySelector",(function(){return ae})),r.d(t,"toggleCollapse",(function(){return se})),r.d(t,"toggleCollapseAll",(function(){return le})),r.d(t,"toggleTray",(function(){return ce}));var n=r("./node_modules/uuid/v1.js"),o=r.n(n);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s="WIDGETS:INSERT",l="WIDGETS:NEW",c="WIDGETS:EDIT",u="WIDGETS:EDIT_NEW",p="WIDGETS:EDITOR_CHANGE",d="WIDGETS:EDITOR_SETTING_CHANGE",f="WIDGETS:UPDATE",m="WIDGETS:UPDATE_PROPERTY",y="WIDGETS:UPDATE_LAYER",b="WIDGETS:CHANGE_LAYOUT",g="WIDGETS:DELETE",h="WIDGETS:CLEAR_WIDGETS",v="WIDGETS:ADD_DEPENDENCY",S="WIDGETS:REMOVE_DEPENDENCY",w="WIDGETS:LOAD_DEPENDENCIES",O="WIDGETS:RESET_DEPENDENCIES",j="WIDGETS:TOGGLE_CONNECTION",E="WIDGETS:OPEN_FILTER_EDITOR",x="WIDGETS:EXPORT_CSV",P="WIDGETS:EXPORT_IMAGE",T="WIDGETS:WIDGET_SELECTED",M="WIDGETS:NEW_CHART",A="floating",C="dependencySelector",_=/^widgets\["?([^"\]]*)"?\]\.?(.*)$/,I="WIDGET:TOGGLE_COLLAPSE",R="WIDGET:TOGGLE_COLLAPSE_ALL",L="WIDGET:TOGGLE_TRAY",D=function(e){return{type:l,widget:e}},k=function(){return{type:M}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return{type:s,target:t,id:o()(),widget:e}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return{type:f,target:t,widget:e}},G=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"replace",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:A;return{type:m,id:e,target:o,key:t,value:r,mode:n}},U=function(e){return{type:y,layer:e}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return{type:g,target:t,widget:e}},z=function(){return{type:h}},W=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;return{type:b,allLayouts:t,layout:e,target:r}},V=function(e){return{type:c,widget:e}},H=function(e,t){return{type:u,widget:e,settings:t}},q=function(e,t){return{type:p,key:e,value:t}},Y=function(e,t){return{type:d,key:e,value:t}},Z=function(e,t){return{type:v,key:e,value:t}},Q=function(e){return{type:S,key:e}},K=function(){return{type:O}},X=function(e){return{type:w,dependencies:e}},J=function(e,t,r,n){return{type:j,active:e,availableDependencies:t,options:r,target:n}},$=function(e){return Y("step",e)},ee=function(e){var t=e.data,r=void 0===t?[]:t,n=e.title;return{type:x,data:r,title:void 0===n?"export":n}},te=function(e,t){return{type:T,widget:e,opts:t}},re=function(e){var t=e.widgetDivId;return{type:P,widgetDivId:t}},ne=function(){return{type:E}},oe=function(e){return Y("".concat(C),e)},ie=function(e,t){return Y("".concat(C,"[").concat(e,"]"),t)},ae=function(e,t){return oe(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({active:e},t))},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return{type:I,widget:e,target:t}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return{type:R,target:e}},ce=function(e){return{type:L,value:e}}},"./MapStore2/web/client/api/CSW.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),i=r("./node_modules/url/url.js"),a=r("./MapStore2/web/client/utils/ConfigUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./node_modules/object-assign/index.js"),c=function(e){var t=i.parse(e,!0);return i.format(l({},t,{search:null},{query:l({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},u={parseUrl:c,getRecordById:function(e){return new Promise((function(t){Promise.all([r.e(0),r.e(16)]).then(function(){t(n.get(e).then((function(e){if(e){var t=r("./MapStore2/web/client/utils/ogc/CSW.js").unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var n=t.value.abstractRecord[0].value.dcElement;if(n){for(var o={references:[]},i=0;i<n.length;i++){var s=n[i],l=s.name.localPart,c={};if("references"===l&&s.value)c={value:s.value.content&&a.cleanDuplicatedQuestionMarks(s.value.content[0])||s.value.content||s.value,scheme:s.value.scheme};else c=s.value.content&&s.value.content[0]||s.value.content||s.value;o[l]&&Array.isArray(o[l])?o[l].push(c):o[l]?o[l]=[o[l],c]:o[l]=c}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,r)).catch(r.oe)}))},getRecords:function(e,t,i,l){return new Promise((function(u){Promise.all([r.e(0),r.e(2)]).then(function(){var p=r("./MapStore2/web/client/utils/ogc/CSW.js"),d=p.CSW,f=p.marshaller,m=p.unmarshaller,y=f.marshalString({name:"csw:GetRecords",value:d.getRecords(t,i,l)});u(n.post(c(e),y,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=m.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var r=t.value,n=r.searchResults.abstractRecord||r.searchResults.any,i={numberOfRecordsMatched:r.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:r.searchResults.numberOfRecordsReturned,nextRecord:r.searchResults.nextRecord},l=[];if(n)for(var c=0;c<n.length;c++){var u=n[c].value,p={dateStamp:u.dateStamp&&u.dateStamp.date,fileIdentifier:u.fileIdentifier&&u.fileIdentifier.characterString&&u.fileIdentifier.characterString.value,identificationInfo:u.abstractMDIdentification&&u.abstractMDIdentification.value};if(u.boundingBox){var d=void 0,f=void 0,y=void 0;if((y=Array.isArray(u.boundingBox)?o.head(u.boundingBox):u.boundingBox)&&y.value){var b,g,h,v,S=null!==(b=null===(g=y.value)||void 0===g?void 0:g.crs)&&void 0!==b?b:"",w=null===(h=S.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===h?void 0:h[0],O=s.makeNumericEPSG(null===(v=S.match(/EPSG:[0-9]+/))||void 0===v?void 0:v[0]),j=y.value.lowerCorner,E=y.value.upperCorner,x=O||s.extractCrsFromURN(w)||o.last(S.split(":"));if(x){if("EPSG:"===x.slice(0,5)){if(!(f=s.makeNumericEPSG(x)))throw new Error('No suitable EPSG numeric conversion found for "'.concat(x,'"'))}else if(!(f=s.makeNumericEPSG("EPSG:".concat(x))))throw new Error('No suitable EPSG numeric conversion found for "'.concat(x,'"'))}else f="EPSG:4326";"EPSG:4326"===f&&"CRS84"!==x&&"OGC:CRS84"!==x&&(j=[j[1],j[0]],E=[E[1],E[0]]),d=s.makeBboxFromOWS(j,E)}p.boundingBox={extent:d,crs:f}}var P=u.dcElement;if(P){for(var T={references:[]},M=0;M<P.length;M++){var A=P[M],C=A.name.localPart,_={};if("references"===C&&A.value)_={value:A.value.content&&a.cleanDuplicatedQuestionMarks(A.value.content[0])||A.value.content||A.value,scheme:A.value.scheme};else _=A.value.content&&A.value.content[0]||A.value.content||A.value;T[C]&&Array.isArray(T[C])?T[C].push(_):T[C]?T[C]=[T[C],_]:T[C]=_}p.dc=T}l.push(p)}return i.records=l,i}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,r)).catch(r.oe)}))},textSearch:function(e,t,n,o){return new Promise((function(i){Promise.all([r.e(0),r.e(2)]).then(function(){var a=r("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,s=null;if(o){var l=a.propertyIsLike("csw:AnyText","%"+o+"%");s=a.filter(l)}i(u.getRecords(e,t,n,s))}.bind(null,r)).catch(r.oe)}))},workspaceSearch:function(e,t,n,o,i){return new Promise((function(a){Promise.all([r.e(0),r.e(2)]).then(function(){var s=r("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,l=i||"%",c=o&&"%"+o+"%"||"%",p=s.propertyIsLike("identifier",l+":"+c),d=s.filter(p);a(u.getRecords(e,t,n,d))}.bind(null,r)).catch(r.oe)}))},reset:function(){}};e.exports=u},"./MapStore2/web/client/api/Nominatim.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./node_modules/url/url.js"),i=r("./node_modules/object-assign/index.js"),a={format:"json",bounded:0,polygon_geojson:1,priority:5},s={geocode:function(e,t){var r=i({q:e},a,t||{}),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org",query:r});return n.get(s)},reverseGeocode:function(e,t){var r=i({lat:e.lat,lon:e.lng},t||{},a),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:r});return n.get(s)}};e.exports=s},"./MapStore2/web/client/api/SLDService.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=r("./MapStore2/web/client/utils/URLUtils.js").urlParts,l=r("./node_modules/url/url.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.sortBy,p=c.head,d=c.castArray,f=c.isNumber,m=c.isString,y=c.uniq,b=r("./node_modules/object-assign/index.js"),g=r("./node_modules/chroma-js/chroma.js"),h=r("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,v=y(Object.keys(g.brewer).map((function(e){return e.toLocaleLowerCase()}))).map((function(e){return{name:e,colors:e}})),S=[{name:"red",colors:["#000","#f00"]},{name:"green",colors:["#000","#008000","#0f0"]},{name:"blue",colors:["#000","#00f"]},{name:"gray",colors:["#333","#eee"]},{name:"jet",colors:["#00f","#ff0","#f00"]}].concat(i(v)),w=function(e,t,r,n){var o=p(e?(e.thematic.colors||e.thematic.additionalColors||[]).filter((function(e){return e.name===t})):n?[n].concat(i(S)).filter((function(e){return e.name===t})):S.filter((function(e){return e.name===t})));return o&&(m(o.colors)||o.colors.length>=2)?{ramp:"custom",colors:g.scale(o.colors).colors(r).join(",")}:{ramp:t}},O=function(e,t){var r=e.thematic&&e.thematic.params||[],n=e.thematic&&e.thematic.fieldAsParam&&["field"]||[];return Object.keys(t).reduce((function(a,s){return function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){return t.field===e})).length>0}(e,t)}(s,[].concat(i(r),i(n)))?b(a,function(e,t,r){return{viewparams:(e?e+";":"")+t+":"+r}}(a.viewparams,s,t[s])):"ramp"===s?b(a,w(e,t[s],t.intervals||5)):"classification"===s?b(a,(l=t[s])?{customClasses:l.reduce((function(e,t){return[].concat(i(e),[t.min+","+t.max+","+t.color])}),[]).join(";")}:{}):"attribute"===s?b(a,{attribute:e.thematic&&e.thematic.fieldAsParam?t[s]:t.field}):"field"===s&&e.thematic&&!e.thematic.fieldAsParam?a:"strokeWeight"!==s||t.strokeOn?"strokeOn"===s?a:b(a,o({},s,t[s])):b(a,o({},s,-1));var l}),{})},j=function(e){return b({protocol:e.protocol,hostname:e.domain},e.port?{port:e.port}:{})},E=function(e){return e.reduce((function(e,t){return f(t)?t:e}),null)},x=function(e){return e.PolygonSymbolizer?"Polygon":e.LineSymbolizer?"LineString":e.PointSymbolizer?"Point":null},P=function(e){return e.PolygonSymbolizer?e.PolygonSymbolizer.Fill&&e.PolygonSymbolizer.Fill.CssParameter&&e.PolygonSymbolizer.Fill.CssParameter.$||"#808080":e.LineSymbolizer?e.LineSymbolizer.Stroke&&e.LineSymbolizer.Stroke.CssParameter&&e.LineSymbolizer.Stroke.CssParameter.$||"#808080":e.PointSymbolizer&&e.PointSymbolizer.Graphic&&e.PointSymbolizer.Graphic.Mark&&e.PointSymbolizer.Graphic.Mark.Fill&&e.PointSymbolizer.Graphic.Mark.Fill.CssParameter&&e.PointSymbolizer.Graphic.Mark.Fill.CssParameter.$||"#808080"},T={getStyleService:function(e,t){var r=s(h(e));return l.format(b(j(r),{pathname:r.applicationRootPath+"/rest/sldservice/"+e.name+"/classify.xml",query:b({},O(e,t),{fullSLD:!0})}))},getCapabilitiesUrl:function(e){var t=s(h(e));return l.format(b(j(t),{pathname:t.applicationRootPath+"/rest/sldservice/capabilities.json"}))},getStyleMetadataService:function(e,t){var r=s(h(e));return l.format(b(j(r),{pathname:r.applicationRootPath+"/rest/sldservice/"+e.name+"/classify.json",query:t}))},getStyleParameters:function(e,t){return{SLD:T.getStyleService(e,t),viewparams:O(e,t).viewparams}},getMetadataParameters:function(e,t){return O(e,t)},getFieldsService:function(e){var t=s(h(e)),r=e.thematic&&e.thematic.datatable||e.name;return l.format(b(j(t),{pathname:t.applicationRootPath+"/rest/sldservice/"+r+"/attributes.json"}))},readFields:function(e){return u(d(e.Attributes.Attribute||[]).filter((function(e){return t=e.type,-1!==["Integer","Long","Double","Float","BigDecimal"].indexOf(t);var t})).map((function(e){return{name:e.name,type:(e.type,"number")}})),(function(e){return e.name}))},readClassification:function(e){!function(e){if(!e||!e.Rules||!e.Rules.Rule)throw new Error("toc.thematic.invalid_object");d(e.Rules.Rule).forEach((function(e){if(!e.PolygonSymbolizer&&!e.LineSymbolizer&&!e.PointSymbolizer)throw new Error("toc.thematic.invalid_geometry")}))}(e);var t=d(e.Rules.Rule||[]);return t.map((function(e,r){var n,o,i,a;return{title:e.Title,color:P(e),type:x(e),min:E([e.Filter.And&&(e.Filter.And.PropertyIsGreaterThanOrEqualTo||e.Filter.And.PropertyIsGreaterThan).Literal,e.Filter.PropertyIsEqualTo&&e.Filter.PropertyIsEqualTo.Literal,r===t.length-1&&(null==e||null===(n=e.Filter)||void 0===n||null===(o=n.PropertyIsGreaterThanOrEqualTo)||void 0===o?void 0:o.Literal)]),max:E([e.Filter.And&&(e.Filter.And.PropertyIsLessThanOrEqualTo||e.Filter.And.PropertyIsLessThan).Literal,e.Filter.PropertyIsEqualTo&&e.Filter.PropertyIsEqualTo.Literal,0===r&&(null==e||null===(i=e.Filter)||void 0===i||null===(a=i.PropertyIsLessThan)||void 0===a?void 0:a.Literal)])}}))||[]},readRasterClassification:function(e){var t,r,n,o;return((null===(r=d(null==e||null===(t=e.Rules)||void 0===t?void 0:t.Rule)[0])||void 0===r||null===(n=r.RasterSymbolizer)||void 0===n||null===(o=n.ColorMap)||void 0===o?void 0:o.ColorMapEntry)||[]).map((function(e){return{color:e["@color"],opacity:void 0===e["@opacity"]?1:e["@opacity"],label:e["@label"],quantity:parseFloat(e["@quantity"])}}))},methods:["equalInterval","quantile","jenks"],getThematicParameters:function(e){return e.map((function(e){return e.type&&T.standardParams[e.type]&&b({},T.standardParams[e.type],e)||e}))},standardParams:{aggregate:{title:"toc.thematic.classification_aggregate",defaultValue:"sum",values:[{name:"toc.thematic.values.sum",value:"sum"},{name:"toc.thematic.values.avg",value:"avg"},{name:"toc.thematic.values.count",value:"count"},{name:"toc.thematic.values.min",value:"min"},{name:"toc.thematic.values.max",value:"max"}]}},getColor:w,getColors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=t?t.thematic.colors||[].concat(i(e),i(t.thematic.additionalColors||[])):n?[n].concat(i(e)):i(e);return o.map((function(e){return!m(e.colors)&&e.colors.length>=r?e:b({},e,{colors:g.scale(e.colors).colors(r)})}))},hasThematicStyle:function(e){return!!(e&&e.params&&e.params.SLD)},removeThematicStyle:function(e){e.SLD,e.viewparams;var t=n(e,["SLD","viewparams"]);return b({},t,{SLD:null,viewparams:null})},defaultParams:{attribute:"",intervals:5,method:"equalInterval",ramp:"red",field:"",open:!1,strokeWeight:.2,strokeColor:"#ff0000",strokeOn:!1}};e.exports=T},"./MapStore2/web/client/api/StyleEditor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"clearCache",(function(){return h})),r.d(t,"updateStyleService",(function(){return S})),r.d(t,"classificationVector",(function(){return w})),r.d(t,"classificationRaster",(function(){return O}));var n=r("./MapStore2/node_modules/lodash/isEqual.js"),o=r.n(n),i=r("./MapStore2/web/client/api/SLDService.js"),a=r("./MapStore2/web/client/libs/ajax.js"),s=r.n(a),l=r("./MapStore2/web/client/api/geoserver/Styles.js");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=["equalInterval","quantile","jenks","standardDeviation"],y=["equalInterval","quantile","jenks"],b={};function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return t.map((function(t){return t.ruleId===e?r(t):t}))}function h(){b={}}var v={updateStyleService:function(e){var t=e.baseUrl,r=e.styleService,n=(null==r?void 0:r.isStatic)?r.baseUrl:t;if(b[n])return new Promise((function(e){return e(b[n])}));var o=Object(i.getCapabilitiesUrl)({url:n});return((null==r?void 0:r.isStatic)?new Promise((function(e){return e(r)})):l.default.getStyleService({baseUrl:n})).then((function(e){return s.a.get(o).then((function(t){var r=t.data;return[e,r]})).catch((function(){return[e,null]}))})).then((function(e){var t,r,o,i,a,s,l,c,p,f=d(e,2),g=f[0],h=f[1],v=u(u({},g),{},{classificationMethods:h?(t=h,r=(t||{}).capabilities,o=void 0===r?{}:r,i=o.vector,a=void 0===i?{}:i,s=o.raster,l=void 0===s?{}:s,c=a.classifications||[],p=l.classifications||[],{vector:c.filter((function(e){return-1!==m.indexOf(e)})),raster:p.filter((function(e){return-1!==m.indexOf(e)}))}):{vector:y,raster:y}});return b[n]=v,v}))}};function S(e){var t=e.baseUrl,r=e.styleService;return v.updateStyleService({baseUrl:t,styleService:r})}function w(e){var t=e.values,r=e.properties,n=e.rules,a=e.layer,l=["intervals","method","reverse","attribute","ramp"],c=u(u({},r),t),d=r.ruleId;if(void 0!==t.ramp&&t.ramp!==r.ramp&&"customInterval"===(null==c?void 0:c.method)&&!t.classification){var f=Object(i.getColor)(void 0,t.ramp,c.intervals).colors.split(",");return new Promise((function(e){return e(g(d,n,(function(e){return u(u(u({},e),c),{},{classification:c.classification.map((function(e,t){return u(u({},e),{},{color:f[t]})})),errorId:void 0})})))}))}var m=l.reduce((function(e,t){return u(u({},e),{},p({},t,r[t]))}),{}),y=l.reduce((function(e,t){return u(u({},e),{},p({},t,c[t]))}),{});if(!l.find((function(e){return void 0===c[e]}))&&!o()(m,y)&&"custom"!==(null==t?void 0:t.ramp)&&"customInterval"!==(null==c?void 0:c.method)){var b="custom"===c.ramp&&c.classification.length>0&&{name:"custom",colors:c.classification.map((function(e){return e.color}))},h=Object(i.getColor)(void 0,c.ramp,c.intervals,b);return s.a.get(Object(i.getStyleMetadataService)(a,u({intervals:c.intervals,method:c.method,attribute:c.attribute,reverse:c.reverse},h))).then((function(e){var r=e.data;return g(d,n,(function(e){return u(u(u({},e),t),{},{classification:Object(i.readClassification)(r),errorId:void 0})}))})).catch((function(){return g(d,n,(function(e){return u(u(u({},e),t),{},{errorId:"styleeditor.classificationError"})}))}))}return new Promise((function(e){return e(g(d,n,(function(e){return u(u(u({},e),t),{},{errorId:void 0})})))}))}function O(e){var t=e.values,r=e.properties,n=e.rules,a=e.layer,l=["intervals","continuous","method","reverse","ramp"],c=u(u({},r),t),d=r.ruleId,f=l.reduce((function(e,t){return u(u({},e),{},p({},t,r[t]))}),{}),m=l.reduce((function(e,t){return u(u({},e),{},p({},t,c[t]))}),{});if(!l.find((function(e){return void 0===c[e]}))&&!o()(f,m)){var y="custom"===c.ramp&&c.classification.length>0&&{name:"custom",colors:c.classification.map((function(e){return e.color}))},b=Object(i.getColor)(void 0,c.ramp,c.intervals,y);return s.a.get(Object(i.getStyleMetadataService)(a,u({intervals:c.intervals,continuous:c.continuous,method:c.method,reverse:c.reverse},b))).then((function(e){var r=e.data;return g(d,n,(function(e){return u(u(u({},e),t),{},{classification:Object(i.readRasterClassification)(r),errorId:void 0})}))})).catch((function(){return g(d,n,(function(e){return u(u(u({},e),t),{},{errorId:"styleeditor.classificationRasterError"})}))}))}return new Promise((function(e){return e(g(d,n,(function(e){return u(u(u({},e),t),{},{errorId:void 0})})))}))}t.default={classificationVector:w,classificationRaster:O,updateStyleService:S,clearCache:h}},"./MapStore2/web/client/api/WMTS.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./MapStore2/web/client/utils/ConfigUtils.js"),i=r("./node_modules/url/url.js"),a=r("./node_modules/object-assign/index.js"),s=r("./node_modules/xml2js/lib/xml2js.js"),l={},c=r("./MapStore2/node_modules/lodash/lodash.js").castArray,u=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),p=r("./MapStore2/web/client/utils/WMTSUtils.js"),d=p.getOperations,f=p.getOperation,m=p.getRequestEncoding,y=p.getDefaultStyleIdentifier,b=p.getDefaultFormat,g=function(e){var t=i.parse(e,!0);return i.format(a({},t,{search:null},{query:a({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},h=function(e,t,r,n,o){for(var i=e.Capabilities.Contents,s=d(e),l=m(e),p=i.TileMatrixSet&&c(i.TileMatrixSet)||[],g=[],h=p.length,v=0;v<h;v++)g.push(u.getEPSGCode(p[v]["ows:SupportedCRS"]));var S=i.Layer,w=c(S).filter((function(e){return!n||-1!==e["ows:Identifier"].toLowerCase().indexOf(n.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(n.toLowerCase())}));return{numberOfRecordsMatched:w.length,numberOfRecordsReturned:Math.min(r,w.length),nextRecord:t+Math.min(r,w.length)+1,records:w.filter((function(e,n){return n>=t-1&&n<t-1+r})).map((function(e){return a({},e,{SRS:g,TileMatrixSet:p,queryable:!!f(s,"GetFeatureInfo","KVP"),requestEncoding:l,style:y(e),format:b(e),GetTileURL:f(s,"GetTile",l),capabilitiesURL:o})}))}},v={parseUrl:g,getRecords:function(e,t,r,i){var a=l[e];return a&&(new Date).getTime()<a.timestamp+1e3*(o.getConfigProp("cacheExpire")||60)?new Promise((function(n){n(h(a.data,t,r,i,e))})):n.get(g(e)).then((function(n){var o;return s.parseString(n.data,{explicitArray:!1},(function(e,t){o=t})),l[e]={timestamp:(new Date).getTime(),data:o},h(o,t,r,i,e)}))},getCapabilities:function(e){var t=l[e];return t&&(new Date).getTime()<t.timestamp+1e3*(o.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(t.data)})):n.get(g(e)).then((function(t){var r;return s.parseString(t.data,{explicitArray:!1},(function(e,t){r=t})),l[e]={timestamp:(new Date).getTime(),data:r},r}))},textSearch:function(e,t,r,n){return v.getRecords(e,t,r,n)},reset:function(){Object.keys(l).forEach((function(e){delete l[e]}))}};e.exports=v},"./MapStore2/web/client/api/catalog/index.js":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"getRecords",(function(){return q})),r.d(n,"textSearch",(function(){return Y})),r.d(n,"validate",(function(){return Z})),r.d(n,"testService",(function(){return Q}));var o={};r.r(o),r.d(o,"parseUrl",(function(){return oe})),r.d(o,"getRecords",(function(){return ie})),r.d(o,"textSearch",(function(){return ae}));var i=r("./MapStore2/web/client/api/CSW.js"),a=r.n(i),s=r("./MapStore2/web/client/api/WMS.js"),l=r("./MapStore2/web/client/api/WMTS.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/ConfigUtils.js"),p=r.n(u),d=r("./node_modules/xml2js/lib/xml2js.js"),f=r.n(d),m=r("./MapStore2/web/client/libs/ajax.js"),y=r.n(m),b=r("./MapStore2/node_modules/lodash/lodash.js"),g=r("./MapStore2/web/client/utils/SecurityUtils.js"),h=r("./MapStore2/web/client/utils/TMSUtils.js");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O={},j=function(e,t){return e===t||"EPSG:3857"===e&&"EPSG:900913"===t||"EPSG:900913"===e&&"EPSG:3857"===t},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=Object(b.castArray)(Object(b.get)(e,"TileMapService.TileMaps.TileMap",[])),a=o.projection,s=Object(b.get)(o,"options.service.allSRS"),l=i.map((function(t){var r=t.$,n=void 0===r?{}:r;return S(S({},n),{},{href:Object(g.cleanAuthParamsFromURL)(n.href),identifier:Object(g.cleanAuthParamsFromURL)(n.href),format:Object(h.guessFormat)(n.href),tmsUrl:Object(g.cleanAuthParamsFromURL)(e.url)})})).filter((function(e){var t=e.srs;return!(a&&!s)||j(t,a)})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"":t,o=e.srs,i=void 0===o?"":o;return!n||-1!==r.toLowerCase().indexOf(n.toLowerCase())||-1!==i.toLowerCase().indexOf(n.toLowerCase())}));return{numberOfRecordsMatched:l.length,numberOfRecordsReturned:Math.min(r,l.length),nextRecord:t+Math.min(r,l.length)+1,records:l.filter((function(e,n){return n>=t-1&&n<t-1+r}))}},x=function(e){return e},P=function(e,t,r,n,o){var i=O[e];return i&&(new Date).getTime()<i.timestamp+1e3*(p.a.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(E(i.data,t,r,n,o))})):y.a.get(e).then((function(i){var a;return f.a.parseString(i.data,{explicitArray:!1},(function(t,r){a=S(S({},r),{},{url:e})})),O[e]={timestamp:(new Date).getTime(),data:a},E(a,t,r,n,o)}))},T=r("./MapStore2/web/client/utils/ConfigProvider.js"),M=r("./node_modules/rxjs/Rx.js"),A=r.n(M),C=r("./MapStore2/web/client/utils/URLUtils.js");function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=function(e,t,r,n,o){var i,a,s,l=Object(b.get)(o,"options.service"),c=[];if(l.provider&&"custom"!==l.provider){var u=(i=l.provider,Object.keys(null!==(a=null===T.a||void 0===T.a||null===(s=T.a[i])||void 0===s?void 0:s.variants)&&void 0!==a?a:{}));0===u.length?c.push({provider:"".concat(l.provider),title:"".concat(l.provider)}):c=u.map((function(e){return{provider:"".concat(l.provider,".").concat(e)}}))}else l.url&&(c=[I(I({},l),{},{title:l.title,type:"tileprovider",url:l.url,attribution:l.attribution,options:l.options||{},provider:"custom"})]);return new Promise((function(e){e(function(e,t,r,n){var o=e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"":t;return!n||-1!==r.toLowerCase().indexOf(n.toLowerCase())})),i=o.filter((function(e,n){return n>=t-1&&n<t-1+r}));return{numberOfRecordsMatched:o.length,numberOfRecordsReturned:i.length,nextRecord:t+Math.min(r,o.length)+1,records:i}}(c,t,r,n))}))},D=function(e){var t,r=e.provider&&"custom"!==e.provider?!!e.provider:(t=e.url,Object(C.isValidURLTemplate)(t));if(e.title&&r)return M.Observable.of(e);throw new Error("catalog.config.notValidURLTemplate")};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){var t="function"==typeof Map?new Map:void 0;return(F=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return G(e,arguments,z(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),B(n,e)})(e)}function G(e,t,r){return(G=U()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&B(o,r.prototype),o}).apply(null,arguments)}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(o,e);var t,r,n=(t=o,r=U(),function(){var e,n=z(t);if(r){var o=z(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return N(this,e)});function o(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e)).name="ServiceValidationError",r.notification=t,r}return o}(F(Error)),V=function(e){return""===e.title||""===e.url?A.a.Observable.throw(new W("Validation Error","catalog.notification.warningAddCatalogService")):A.a.Observable.of(e)},H=function(e){var t=e.parseUrl;return function(e){return A.a.Observable.defer((function(){return y.a.get(t(e.url))})).catch((function(){throw new W("Service Test error","catalog.notification.errorServiceUrl")})).switchMap((function(t){if(t.error||""===t.data)throw new W("Service Test error","catalog.notification.errorServiceUrl");return A.a.Observable.of(e)}))}},q=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.options,a=i||{},s=a.service,l=void 0===s?{}:s;return"tms"===l.provider&&P(e,t,r,n,o),L(0,t,r,n,o)},Y=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.options,a=i||{},s=a.service,l=void 0===s?{}:s;return"tms"===l.provider?P(e,t,r,n,o):L(0,t,r,n,o)},Z=function(e){return"tms"===e.provider?V(e):D(e)},Q=function(e){return"tms"===e.provider?H({parseUrl:x})(e):function(e){return M.Observable.of(e)}(e)},K=r("./MapStore2/web/client/api/WFS.js");function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var re={},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=Object(b.castArray)(Object(b.get)(e,'["wfs:WFS_Capabilities"].FeatureTypeList.FeatureType',[])),i=o.map((function(t){var r=t.Name,n=t.Title,o=t.Abstract,i=t.DefaultSRS,a=t.OtherSRS,s=void 0===a?[]:a,l=t["ows:WGS84BoundingBox"],c=l["ows:LowerCorner"].split(" "),u=l["ows:UpperCorner"].split(" "),p={minx:parseFloat(c[0]),miny:parseFloat(c[1]),maxx:parseFloat(u[0]),maxy:parseFloat(u[1])};return{featureType:t,type:"wfs",url:Object(g.cleanAuthParamsFromURL)(e.url),name:r,title:n,description:o,SRS:[i].concat(ee(s)),defaultSRS:i,boundingBox:{bounds:p,crs:"EPSG:4326"}}})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,r=void 0===t?"":t,o=e.name,i=void 0===o?"":o,a=e.description;return!n||-1!==r.toLowerCase().indexOf(n.toLowerCase())||-1!==i.toLowerCase().indexOf(n.toLowerCase())||-1!==a.toLowerCase().indexOf(n.toLowerCase())})),a=i.filter((function(e,n){return n>=t-1&&n<t-1+r}));return{numberOfRecordsMatched:i.length,numberOfRecordsReturned:Math.min(r,a.length),nextRecord:t+Math.min(r,i.length)+1,records:a}},oe=K.getCapabilitiesURL,ie=function(e,t,r,n,o){var i=re[e];return i&&(new Date).getTime()<i.timestamp+1e3*(p.a.getConfigProp("cacheExpire")||60)?new Promise((function(e){e(ne(i.data,t,r,n,o))})):Object(K.getCapabilities)(e).then((function(i){var a;return f.a.parseString(i.data,{explicitArray:!1,stripPrefix:!0},(function(t,r){a=J(J({},r),{},{url:e})})),re[e]={timestamp:(new Date).getTime(),data:a},ne(a,t,r,n,o)}))},ae=function(e,t,r,n,o){return ie(e,t,r,n,o)},se=r("./MapStore2/web/client/api/mapBackground.js"),le=r.n(se);function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default={csw:ue({validate:V,testService:H(a.a)},a.a),wfs:ue({validate:V,testService:H(o)},o),wms:ue({validate:V,testService:H(s.default)},s.default),tms:n,wmts:ue({validate:V,testService:H(c.a)},c.a),backgrounds:ue({validate:V,testService:H(le.a)},le.a)}},"./MapStore2/web/client/api/geoserver/Layers.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./MapStore2/web/client/libs/ajax.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.uniqBy,p=c.castArray,d=r("./MapStore2/web/client/utils/StyleEditorUtils.js").getNameParts,f={getLayer:function(e,t,r){var n=e+"layers/"+t+".json";return l.get(n,r).then((function(e){return e.data&&e.data.layer}))},removeStyles:function(e){var t=e.baseUrl,r=e.layerName,n=e.styles,o=void 0===n?[]:n,i=e.options,s=void 0===i?{}:i,c=d(r),u=c.name,f=c.workspace,m="".concat(t,"rest/").concat(f&&"workspaces/".concat(f,"/")||"","layers/").concat(u,".json");return l.get(m,s).then((function(e){var t=e.data.layer||{},r=t.styles&&t.styles.style&&p(t.styles.style)||[],n=o.map((function(e){return e.name})),i=r.filter((function(e){var t=e.name;return-1===n.indexOf(t)}));return{layer:a(a({},t),{},{styles:{"@class":"linked-hash-set",style:i}})}})).then((function(e){return l.put(m,e).then((function(){return e}))}))},updateAvailableStyles:function(e){var t=e.baseUrl,r=e.layerName,o=e.styles,i=void 0===o?[]:o,s=e.options,c=void 0===s?{}:s,u=d(r),f=u.name,m=u.workspace,y="".concat(t,"rest/").concat(m&&"workspaces/".concat(m,"/")||"","layers/").concat(f,".json");return l.get(y,c).then((function(e){var t=e.data.layer||{},r=t.styles&&t.styles.style&&p(t.styles.style)||[];return{layer:a(a({},t),{},{styles:{"@class":"linked-hash-set",style:[].concat(n(r),n(i))}})}})).then((function(e){return l.put(y,e).then((function(){return e}))}))},updateDefaultStyle:function(e){var t=e.baseUrl,r=e.layerName,o=e.styleName,i=e.options,s=void 0===i?{}:i,c=d(r),f=c.name,m=c.workspace,y="".concat(t,"rest/").concat(m&&"workspaces/".concat(m,"/")||"","layers/").concat(f,".json");return l.get(y,s).then((function(e){var t=e.data.layer||{},r=t.styles&&t.styles.style&&p(t.styles.style)||[],i=t.defaultStyle||{},s=u([i].concat(n(r)),"name");return{layer:a(a({},t),{},{defaultStyle:{name:o},styles:{"@class":"linked-hash-set",style:s}})}})).then((function(e){return l.put(y,e).then((function(){return e}))}))}};e.exports=f},"./MapStore2/web/client/api/geoserver/Styles.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/libs/ajax.js"),o=r.n(n),i=r("./node_modules/object-assign/index.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/lodash.js");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u={},p=function(e){return e.map((function(e){return Object(s.mapKeys)(e,(function(e,t){return Object(s.camelCase)(t)}))}))},d=r("./MapStore2/node_modules/lodash/head.js"),f=r.n(d),m=r("./MapStore2/node_modules/lodash/castArray.js"),y=r.n(m),b=r("./MapStore2/web/client/utils/StyleEditorUtils.js");function g(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"getStyleBaseUrl",(function(){return P})),r.d(t,"saveStyle",(function(){return A})),r.d(t,"getStyleService",(function(){return C})),r.d(t,"getStyle",(function(){return _})),r.d(t,"createStyle",(function(){return I})),r.d(t,"updateStyle",(function(){return R})),r.d(t,"deleteStyle",(function(){return L})),r.d(t,"getStylesInfo",(function(){return D})),r.d(t,"getStyleCodeByName",(function(){return k}));var O=[{regex:/gt-css/,format:"css"}],j={css:"application/vnd.geoserver.geocss+css",sld:"application/vnd.ogc.sld+xml",sldse:"application/vnd.ogc.se+xml",zip:"application/zip"},E=function(e,t){return"sld"===e?t&&t.version&&"1.1.0"===t.version?j.sldse:j.sld:j[e]||j.sld},x=function(e,t){var r=e.options,n=void 0===r?{}:r,o=e.format,i=e.baseUrl,a=e.name,s=e.workspace,l=e.languageVersion,c=t?{name:encodeURIComponent(a)}:{};return{options:S(S({},n),{},{params:S(S({},n.params),c),headers:S(S({},n.headers||{}),{},{"Content-Type":E(o,l)})}),url:"".concat(i,"rest/").concat(s&&"workspaces/".concat(s,"/")||"","styles").concat(t?".json":"/".concat(encodeURIComponent(a)))}},P=function(e){var t=e.geoserverBaseUrl,r=e.workspace,n=e.name,o=e.format,i=void 0===o?"json":o;return"".concat(t,"rest/").concat(r&&"workspaces/".concat(r,"/")||"","styles/","".concat(encodeURIComponent(n),".").concat(i))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y()((null==e?void 0:e.entry)||[]);return t.reduce((function(e,t){return S(S({},e),{},w({},t["@key"],t.$))}),{})},M=function(e){var t=e.baseUrl,r=e.styleName,n=e.metadata,i=P(S(S({},Object(b.getNameParts)(r)),{},{geoserverBaseUrl:t}));return o.a.get(i).then((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data,a=void 0===r?{}:r;return o.a.put(i,{style:S(S({},a.style),{},{metadata:S(S({},T(null===(e=a.style)||void 0===e?void 0:e.metadata)),n)})})}))},A=function(e,t,r,n){var i=e+"styles/"+encodeURI(t),s=a()({},n);return s.headers=a()({},s.headers,{"Content-Type":"application/vnd.ogc.sld+xml"}),o.a.put(i,r,s)},C=function(e){var t=e.baseUrl;return function(e){var t=e.baseUrl;return u[t]?new Promise((function(e){return e(u[t])})):o.a.all([o.a.get("".concat(t,"rest/about/version"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return Object(s.get)(t,"about.resource")})).catch((function(){return null})),o.a.get("".concat(t,"rest/about/manifest"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return Object(s.get)(t,"about.resource")})).catch((function(){return null})),o.a.get("".concat(t,"rest/fonts"),{"Content-Type":"application/json"}).then((function(e){var t=e.data;return Object(s.get)(t,"fonts")})).catch((function(){return null}))]).then((function(e){var r=l(e,3),n=r[0],o=r[1],i=r[2],a={version:n&&p(n),manifest:o&&p(o),fonts:i};return n&&o?(u[t]=a,u[t]):a}))}({baseUrl:t}).then((function(e){var r=e.version,n=e.manifest,o=e.fonts,i=void 0===o?[]:o;if(!r)return null;var a=(n||[]).map((function(e){var t=e.name;return f()(O.filter((function(e){var r=e.regex;return t.match(r)})).map((function(e){return e.format})))})).filter((function(e){return e})),s=f()(r.filter((function(e){var t=e.name;return"geoserver"===(void 0===t?"":t).toLowerCase()})))||{};return{baseUrl:t,version:s.version,formats:[].concat(g(a),["sld"]),availableUrls:[],fonts:i}}))},_=function(e){var t=e.options,r=e.format,n=e.baseUrl,i=e.styleName,a=Object(b.getNameParts)(i),s=a.name,l=a.workspace,c=x({options:t,format:r,baseUrl:n,name:s,workspace:l});return o.a.get(c.url,c.options)},I=function(e){var t=e.baseUrl,r=e.code,n=e.options,i=e.format,a=void 0===i?"sld":i,s=e.styleName,l=e.languageVersion,c=e.metadata,u=Object(b.getNameParts)(s),p=u.name,d=u.workspace,f=x({options:n,format:a,baseUrl:t,name:p,workspace:d,languageVersion:l},!0);return o.a.post(f.url,r,f.options).then((function(){return c?M({baseUrl:t,styleName:s,metadata:c}).then((function(){return null})).catch((function(){return null})):null}))},R=function(e){var t=e.baseUrl,r=e.code,n=e.options,i=e.format,a=void 0===i?"sld":i,s=e.styleName,l=e.languageVersion,c=e.metadata,u=Object(b.getNameParts)(s),p=u.name,d=u.workspace,f=x({options:n,format:a,baseUrl:t,name:p,workspace:d,languageVersion:l});return o.a.put(f.url,r,f.options).then((function(){return c?M({baseUrl:t,styleName:s,metadata:c}).then((function(){return null})).catch((function(){return null})):null}))},L=function(e){var t=e.baseUrl,r=e.options,n=e.format,i=void 0===n?"sld":n,a=e.styleName,s=Object(b.getNameParts)(a),l=s.name,c=s.workspace,u=x({options:r,format:i,baseUrl:t,name:l,workspace:c});return o.a.delete(u.url,u.options)},D=function(e){var t=e.baseUrl,r=e.styles,n=void 0===r?[]:r,i=[],s=n.length;return new Promise((function(e){n&&0!==n.length?n.forEach((function(r,l){var c=r.name;return o.a.get(P(S(S({},Object(b.getNameParts)(c)),{},{geoserverBaseUrl:t}))).then((function(t){var r=t.data;i[l]=a()({},n[l],r&&r.style&&S(S(S({},r.style),r.style.metadata&&{metadata:T(r.style.metadata)}),{},{name:Object(b.stringifyNameParts)(r.style)})||{}),0===--s&&e(i.filter((function(e){return e})))})).catch((function(){i[l]=a()({},n[l]),0===--s&&e(i.filter((function(e){return e})))}))})):e([])}))},k=function(e){var t=e.baseUrl,r=e.styleName,n=e.options,i=Object(b.getNameParts)(r),a=i.name,s=i.workspace,l=P({name:a,workspace:s,geoserverBaseUrl:t});return o.a.get(l,n).then((function(e){return e.data&&e.data.style&&e.data.style.name?o.a.get(P({workspace:s,geoserverBaseUrl:t,name:e.data.style.name,format:(r=e.data.style.filename,r.split(".").pop())})).then((function(t){var r=t.data;return S(S({},e.data.style),{},{code:r})})):null;var r}))},N={saveStyle:A,getStyleService:C,getStyle:_,createStyle:I,updateStyle:R,deleteStyle:L,getStylesInfo:D,getStyleCodeByName:k,updateStyleMetadata:M};t.default=N},"./MapStore2/web/client/api/identify.jsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./node_modules/rxjs/Rx.js"),i=r("./MapStore2/web/client/utils/MapInfoUtils.js"),a=r.n(i),s=r("./MapStore2/web/client/libs/ajax.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/CoordinatesUtils.js");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.attachJSON,p=i.itemId,d=void 0===p?null:p,m=function(t){return o.Observable.defer((function(){return l.a.get(e,{params:t})}))},y=function(t){return a.a.getIdentifyFlow(r,e,t)},b=a.a.getIdentifyFlow(r,e,t)?y:m;return s&&"application/json"!==t.info_format&&"application/json"!==t.outputFormat?o.Observable.forkJoin(b(t),b(f(f({},t),{},{info_format:"application/json"})).map((function(e){return e.data})).catch((function(){return o.Observable.of({})}))).map((function(e){var t=u(e,2),r=t[0],o=t[1];return f(f({},r),{},{features:o&&o.features&&o.features.filter((function(e){return!!Object(n.isNil)(d)||e.id===d})),featuresCrs:o&&o.crs&&Object(c.parseURN)(o.crs)})})):b(t).map((function(e){return e.data})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:Object(n.isString)(e)?e:f(f({},e),{},{features:e.features&&e.features.filter((function(e){return!d||e.id===d}))}),features:e.features&&e.features.filter((function(e){return!d||e.id===d})),featuresCrs:e&&e.crs&&Object(c.parseURN)(e.crs)}}))}},"./MapStore2/web/client/api/mapBackground.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").get,o=r("./MapStore2/web/client/utils/ConfigUtils.js"),i=function(e,t,r,i){var a=n(o.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!i||e.title.indexOf(i)>-1})),s=a.filter((function(e,n){return n>=t-1&&n<r+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:a.length,numberOfRecordsReturned:s.length,records:s,service:{Name:"Background Provider"}})}))};e.exports={getRecords:i,reset:function(){},textSearch:function(e,t,r,n){return i(0,t,r,n)}}},"./MapStore2/web/client/api/searchText.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./MapStore2/web/client/api/WFS.js"),i=r("./node_modules/object-assign/index.js"),a=r("./MapStore2/web/client/utils/GeoCodeUtils.js"),s=r("./MapStore2/web/client/utils/TemplateUtils.js").generateTemplateString,l=function(e){var t,r=e.searchText,n=e.staticFilter,o=e.blacklist,i=e.item,a=e.queriableAttributes,l=e.predicate,c=s(n||"")(i),u=r.split(" ").filter((function(e){return e})).filter((function(e){return o.indexOf(e.toLowerCase())<0}));return 0===u.length&&(u=r?[r]:[]),u.length>0&&(t="(".concat(u.map((function(e){return a.map((function(t){return"".concat(t," ").concat(l," '%").concat(e.replace("'","''"),"%'")})).join(" OR ")})).join(") AND (")).concat(")")),t=t?t.concat(c):c||null},c={nominatim:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{returnFullData:!1};return r("./MapStore2/web/client/api/Nominatim.js").geocode(e,t).then((function(e){return t.returnFullData?e:a.nominatimToGeoJson(e.data)}))},wfs:function(e,t){var r=t.url,a=t.typeName,s=t.queriableAttributes,c=void 0===s?[]:s,u=t.outputFormat,p=void 0===u?"application/json":u,d=t.predicate,f=void 0===d?"ILIKE":d,m=t.staticFilter,y=void 0===m?"":m,b=t.blacklist,g=void 0===b?[]:b,h=t.item,v=t.fromTextToFilter,S=void 0===v?l:v,w=t.returnFullData,O=void 0!==w&&w,j=n(t,["url","typeName","queriableAttributes","outputFormat","predicate","staticFilter","blacklist","item","fromTextToFilter","returnFullData"]),E=S({searchText:e,staticFilter:y,blacklist:g,item:h,queriableAttributes:c,predicate:f});return o.getFeatureSimple(r,i({maxFeatures:10,typeName:a,outputFormat:p,cql_filter:E},j)).then((function(e){return O?e:e.features}))}},u={setService:function(e,t){c[e]=t},getService:function(e){return c[e]?c[e]:null}};e.exports={API:{Services:c,Utils:u}}},"./MapStore2/web/client/components/I18N/Date.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-intl/lib/index.es.js").FormattedDate,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return this.context.intl?f.createElement(m,o({value:this.props.value},this.props.dateParams)):f.createElement("span",null,this.props.value&&this.props.value.toString()||"")}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(y,"propTypes",{value:d.object,dateParams:d.object}),p(y,"contextTypes",{intl:d.object}),p(y,"defaultProps",{value:new Date}),e.exports=y},"./MapStore2/web/client/components/I18N/HTML.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-intl/lib/index.es.js").FormattedHTMLMessage,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return this.context.intl?d.createElement(f,{id:this.props.msgId,values:this.props.msgParams}):d.createElement("span",null,this.props.msgId||"")}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(m,"propTypes",{msgId:p.string.isRequired,msgParams:p.object}),u(m,"contextTypes",{intl:p.object}),e.exports=m},"./MapStore2/web/client/components/I18N/I18N.jsx":function(e,t,r){e.exports.Message=r("./MapStore2/web/client/components/I18N/Message.jsx"),e.exports.HTML=r("./MapStore2/web/client/components/I18N/HTML.jsx"),e.exports.DateFormat=r("./MapStore2/web/client/components/I18N/Date.jsx")},"./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js");r("./MapStore2/web/client/components/I18N/css/formControlIntl.css");var b=r("./node_modules/react-numeric-input/index.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,r,n,u=c(d);function d(){var e;a(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=u.call.apply(u,[this].concat(r))),"parse",(function(t){var r=t;if(NaN!==r&&"NaN"!==r){var n=e.context&&e.context.intl&&e.context.intl.locale||"en-US",o=new Intl.NumberFormat(n),i=o.formatToParts(12345.6),a=Array.from({length:10}).map((function(e,t){return o.format(t)})),s=new Map(a.map((function(e,t){return[e,t]}))),l=new RegExp("[".concat(i.find((function(e){return"group"===e.type})).value,"]"),"g"),c=new RegExp("[".concat(i.find((function(e){return"decimal"===e.type})).value,"]")),u=new RegExp("[".concat(a.join(""),"]"),"g");return(r=r.trim().replace(l,"").replace(c,".").replace(u,(function(e){return s.get(e)})))?+r:NaN}return""})),f(p(e),"format",(function(t){if(!isNaN(t)&&"NaN"!==t){var r=e.context&&e.context.intl&&e.context.intl.locale||"en-US";return new Intl.NumberFormat(r,{minimumFractionDigits:0,maximumFractionDigits:20}).format(t)}return""})),e}return t=d,(r=[{key:"render",value:function(){var e=this,t=this.props,r=(t.onChange,t.onBlur),n=t.disabled,a=(t.type,t.step),s=t.value,l=t.defaultValue,c=i(t,["onChange","onBlur","disabled","type","step","value","defaultValue"]);return y.createElement(b,o({id:"intl-numeric",step:a},c,void 0!==s?{value:this.format(s)}:{defaultValue:this.format(l)},{format:this.format,onKeyUp:function(e){e.target.setSelectionRange(-1,-1)},onChange:function(t){null===t?e.props.onChange(""):e.props.onChange(t.toString())},onBlur:function(t){r&&(t.target.value=e.parse(t.target.value),r(t))},disabled:n||!1,parse:this.parse,onKeyPress:function(e){null!==e.key.match(/^[a-zA-Z]*$/)&&e.preventDefault()},componentClass:"input",className:"form-control"}))}}])&&s(t.prototype,r),n&&s(t,n),d}(y.Component);f(g,"propTypes",{type:m.oneOfType([m.string,m.number]),value:m.oneOfType([m.string,m.number]),defaultValue:m.oneOfType([m.string,m.number]),onChange:m.func,step:m.number,locale:m.string,disabled:m.bool,onBlur:m.func}),f(g,"contextTypes",{intl:m.object}),e.exports=g},"./MapStore2/web/client/components/I18N/Message.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-intl/lib/index.es.js").FormattedMessage,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderFormattedMsg",(function(e){var t=e.msgId,r=e.msgParams,n=e.children;return n&&"function"==typeof n?f.createElement(m,{id:t,values:r},(function(e){return n(e)})):f.createElement(m,{id:t,values:r})})),p(c(e),"renderMsg",(function(e){var t=e.msgId,r=e.children;return r&&"function"==typeof r?r(t):f.createElement("span",null,t||"")})),e}return t=u,(r=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(y,"propTypes",{msgId:d.string.isRequired,msgParams:d.object}),p(y,"contextTypes",{intl:d.object}),e.exports=y},"./MapStore2/web/client/components/I18N/Number.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").isNil,y=r("./node_modules/react-intl/lib/index.es.js").FormattedNumber,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return this.context.intl?f.createElement(y,o({value:this.props.value},this.props.numberParams)):f.createElement("span",null,!m(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(b,"propTypes",{value:d.oneOfType([d.object,d.number]),numberParams:d.object}),p(b,"contextTypes",{intl:d.object}),e.exports=b},"./MapStore2/web/client/components/I18N/css/formControlIntl.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/I18N/css/formControlIntl.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/I18N/enhancers/addI18NProps.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react-intl/lib/index.es.js").injectIntl,s=r("./node_modules/prop-types/index.js"),l=r("./MapStore2/node_modules/lodash/lodash.js").omit,c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.branch,d=c.getContext,f=c.withProps,m=c.withPropsOnChange,y=c.mapProps,b=function(e){return y((function(t){return l(t,e)}))},g={locale:navigator&&navigator.language,formats:{},messages:{},defaultLocale:"en",defaultFormats:{},formatDate:function(e){return e},formatTime:function(e){return e},formatRelative:function(e){return e},formatNumber:function(e){return e},formatPlural:function(e){return e},formatMessage:function(e){return e},formatHTMLMessage:function(e){return e},now:function(){return new Date}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(d({intl:s.object}),p((function(e){return!!e.intl}),a,f({intl:g})),m(["intl"],(function(t){var r=t.intl,n=void 0===r?{}:r;return e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return o(o({},e),{},i({},t,n[t]))}),{})})),b(["intl"]))}},"./MapStore2/web/client/components/I18N/images/flags sync recursive ^\\.\\/.*\\.png$":function(e,t,r){var n={"./de-DE.png":"./MapStore2/web/client/components/I18N/images/flags/de-DE.png","./de.png":"./MapStore2/web/client/components/I18N/images/flags/de.png","./en-US.png":"./MapStore2/web/client/components/I18N/images/flags/en-US.png","./en.png":"./MapStore2/web/client/components/I18N/images/flags/en.png","./es-ES.png":"./MapStore2/web/client/components/I18N/images/flags/es-ES.png","./es.png":"./MapStore2/web/client/components/I18N/images/flags/es.png","./fi-FI.png":"./MapStore2/web/client/components/I18N/images/flags/fi-FI.png","./fi.png":"./MapStore2/web/client/components/I18N/images/flags/fi.png","./fr-FR.png":"./MapStore2/web/client/components/I18N/images/flags/fr-FR.png","./fr.png":"./MapStore2/web/client/components/I18N/images/flags/fr.png","./hr-HR.png":"./MapStore2/web/client/components/I18N/images/flags/hr-HR.png","./it-IT.png":"./MapStore2/web/client/components/I18N/images/flags/it-IT.png","./jp.png":"./MapStore2/web/client/components/I18N/images/flags/jp.png","./nl-NL.png":"./MapStore2/web/client/components/I18N/images/flags/nl-NL.png","./nl.png":"./MapStore2/web/client/components/I18N/images/flags/nl.png","./pt-PT.png":"./MapStore2/web/client/components/I18N/images/flags/pt-PT.png","./pt.png":"./MapStore2/web/client/components/I18N/images/flags/pt.png","./us.png":"./MapStore2/web/client/components/I18N/images/flags/us.png","./vi-VN.png":"./MapStore2/web/client/components/I18N/images/flags/vi-VN.png","./vi.png":"./MapStore2/web/client/components/I18N/images/flags/vi.png","./zh-ZH.png":"./MapStore2/web/client/components/I18N/images/flags/zh-ZH.png"};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/components/I18N/images/flags sync recursive ^\\.\\/.*\\.png$"},"./MapStore2/web/client/components/I18N/images/flags/de-DE.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGzSURBVHjaYvTxcWb4+53h3z8GZpZff/79+v3n/7/fDAz/GHAAgABi+f37e3FxOZD1Dwz+/v3z9y+E/AMFv3//+Qumfv9et241QACxMDExAVWfOHkJJAEW/gUEP0EQDn78+AHE/gFOQJUAAcQiy8Ag8O+fLFj1n1+/QDp+/gQioK7fP378+vkDqOH39x9A/RJ/gE5lAAhAYhzcAACCQBDkgRXRjP034R0IaDTZTFZn0DItot37S94KLOINerEcI7aKHAHE8v/3r/9//zIA1f36/R+o4tevf1ANYNVA9P07RD9IJQMDQACxADHD3z8Ig4GMHz+AqqHagKp//fwLVA0U//v7LwMDQACx/LZiYFD7/5/53/+///79BqK/EMZ/UPACSYa/v/8DyX9A0oTxx2EGgABi+a/H8F/m339BoCoQ+g8kgRaCQvgPJJiBYmAuw39hxn+uDAABxMLwi+E/0PusRkwMvxhBGoDkH4b/v/+D2EDyz///QB1/QLb8+sP0lQEggFh+vGXYM2/SP6A2Zoaf30Ex/J+PgekHwz9gQDAz/P0FYrAyMfz7wcDAzPDtFwNAgAEAd3SIyRitX1gAAAAASUVORK5CYII="},"./MapStore2/web/client/components/I18N/images/flags/de.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGzSURBVHjaYvTxcWb4+53h3z8GZpZff/79+v3n/7/fDAz/GHAAgABi+f37e3FxOZD1Dwz+/v3z9y+E/AMFv3//+Qumfv9et241QACxMDExAVWfOHkJJAEW/gUEP0EQDn78+AHE/gFOQJUAAcQiy8Ag8O+fLFj1n1+/QDp+/gQioK7fP378+vkDqOH39x9A/RJ/gE5lAAhAYhzcAACCQBDkgRXRjP034R0IaDTZTFZn0DItot37S94KLOINerEcI7aKHAHE8v/3r/9//zIA1f36/R+o4tevf1ANYNVA9P07RD9IJQMDQACxADHD3z8Ig4GMHz+AqqHagKp//fwLVA0U//v7LwMDQACx/LZiYFD7/5/53/+///79BqK/EMZ/UPACSYa/v/8DyX9A0oTxx2EGgABi+a/H8F/m339BoCoQ+g8kgRaCQvgPJJiBYmAuw39hxn+uDAABxMLwi+E/0PusRkwMvxhBGoDkH4b/v/+D2EDyz///QB1/QLb8+sP0lQEggFh+vGXYM2/SP6A2Zoaf30Ex/J+PgekHwz9gQDAz/P0FYrAyMfz7wcDAzPDtFwNAgAEAd3SIyRitX1gAAAAASUVORK5CYII="},"./MapStore2/web/client/components/I18N/images/flags/en-US.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3woNChAfXTteVAAAAjRJREFUKM9VkklIlVEAhb9fHxkVDWLwQKw2URI0kQ2GmoYELcJFhFZQ+FBxHaRhIA20qKiWrzDSoAwMGsgicEIlizILi+ZNIERJhNp777/3/ve0sEV9q7M78J0TJBqGxb94D94BBhBguLK8B6V+M/njGwbwgJ23hLHSBCQahuV9pOsDTlZGHX1O1lq19TqFYUbJx07GhArDUJlMWul0SnZ0RD4KlXw0riDRMKyymq10DnoiD5EH40Sk2ZxxYpQW+PkLxbLxW7cwp7aWa13jnE++IAss8nC3SYQe7jdZIkH30RQZJ94GkGptxTXWk336FO/KqqjYfYs376fIGEOQqBtUaU0x1/o8kZ9tdhZCibeELHVPmWheSxCP/6dKgtcfvxPDp9hfItp6xIOmDJWn5tLdNEX8jGGy6jPzkx246glkDN5avDEQRcRW59P7EWIg2gcCnIPy0zl4J9ZczDB+dDGL9h3Hh5bsZyN/Fwnw3iOEBDs+TcLXr19krVUqldLMzIzS09MKW5olSX7jJtl1GzRLpImKcvVf7lY8/4r2Hr6jhSuOKCu//RLZY0/IuXCBWOcNwmSSRLhn9hJhiIwBie07Osnr7aMo+MarykHWFi1HkSXrS3U9bv02THwBoysrOPF7M7kLIiQICvMJCuNIomBVLgcP3WaosISlbW00Pm+l7kAxQX/HTX3oGqKrYBsvhwzWpXFRxMi9ah5WViHn2NXbTdHOs+Aj8BF5y5Zw7FwNAyev8gcAFF3B0hKD4gAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/I18N/images/flags/en.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGCSURBVHjaYvz48SMDEvj3j+Hfty/npKX/MTAY3L7NwMf3DxUABBALUBEfHx+Q/P//P1QPJ7t6UdG/P3+EpKQY2Nj+I4Fnz54BBBALRBFcNUj4378fDx78+/3739+/QBvhqhkZGf/8+QMQQCxoqiEkUPX/X7+BShiQjAc7+B9AALE8SEmRi4//++ED0Dyg2Qx///77+fPfr1//f/9+PWMGUBVQHCT15w+LkNCF3FyAAGJ5t3q1oJLSr8eP///+8//Pb5BLgMYDyV+/3q1Z8w/MAPrn/69f7AoKzxgYAAKIhcventvIiE1e/t+/vwx/QIYBbfi4dStQKa+LC9QGoIa/f1lFRAT27QMIIMa3b9/y8/PDXQ/ywI8ft1xdgQar7tsHDyWgLNDTd+7cAQggFqA/kL0LkQQ5A4j+/mVE8jEQAEMJIIBAGuCqIaKMDAxsMjJAJzEyMQFNhYlBZQECCKTh1atXyHH56927Q1u2/GJgcLh0iUFICOSEf//+gB0CBAABBgAC4UQezUonUAAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/I18N/images/flags/es-ES.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFnSURBVHjaYvzPgAD/UNlYEUAAmuTYAAAQhAEYqF/zFbe50RZ1cMmS9TLi0pJLRjZohAMTGFUN9HdnHgEE1sDw//+Tp0ClINW/f0NIKPoFJH/9//ULyGaUlQXaABBALAx/Gf4zAt31F4i+ffj3/cN/XrFfzOx//v///f//LzACM/79ZmD8/e8TA0AAMYHdDVT958vXP38nMDB0s3x94/Tj5y+YahhiAKLfQKUAAcQEdtJfoDHMF2L+vPzDmFXLelf551tGFOOhev4A/QgQQExgHwAd8IdFT/Wz6j+GhlpmXSOW/2z///8Eq/sJ18Dw/zdQA0AAMQExxJjjdy9x2/76EfLz4MXdP/i+wsyGkkA3Aw3984cBIIAYfzIwMKel/bt3jwEaLNAwgZIQxp/fDH/+MqqovL14ESCAWICeZvr9h0FSEhSgwBgAygFDEMT+wwAhgQgc4kAEVAwQQIxfUSMSTxxDAECAAQAJWke8v4u1tAAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/I18N/images/flags/es.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFnSURBVHjaYvzPgAD/UNlYEUAAmuTYAAAQhAEYqF/zFbe50RZ1cMmS9TLi0pJLRjZohAMTGFUN9HdnHgEE1sDw//+Tp0ClINW/f0NIKPoFJH/9//ULyGaUlQXaABBALAx/Gf4zAt31F4i+ffj3/cN/XrFfzOx//v///f//LzACM/79ZmD8/e8TA0AAMYHdDVT958vXP38nMDB0s3x94/Tj5y+YahhiAKLfQKUAAcQEdtJfoDHMF2L+vPzDmFXLelf551tGFOOhev4A/QgQQExgHwAd8IdFT/Wz6j+GhlpmXSOW/2z///8Eq/sJ18Dw/zdQA0AAMQExxJjjdy9x2/76EfLz4MXdP/i+wsyGkkA3Aw3984cBIIAYfzIwMKel/bt3jwEaLNAwgZIQxp/fDH/+MqqovL14ESCAWICeZvr9h0FSEhSgwBgAygFDEMT+wwAhgQgc4kAEVAwQQIxfUSMSTxxDAECAAQAJWke8v4u1tAAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/I18N/images/flags/fi-FI.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AIUFBUyAPfcpAAAAUpJREFUKM+FkjtLA1EQhb979242IeKrCBokiqJgp0IaS8HOVjvxB1gI4o+wtBFs7CztrCwsbCy1UBCbiBiNDzD43NzdZMciJkTJxgNT3DNw7pk5g4h8iEggIlZE7O7Bmc3NbVpGNuz61qH1bWgbvXZlgCTg0IDwG3/ff6CBqJVIeQZHKRAh5bkkPdNRwJycF0Hq33gJw0XhCb9aA9fh+r7M8dkNnusQRe2tqJml7QBwAZSC5zefh5dPgrBGpj9Nti+NVirWgSK71hQgEujyoDeFMgZ5/YI3vz5kjIaZX5hqbkprze3zO4W7MpVKyPBohrHBHoyjEYkZ4fSqFMiPg2TCYf/okp29E0rFMivLs6wu5nGNQxQjYKYnBn4R47lHko6GsMpQppv8ZPbfGN1Wwq9UqYmA1viVEN9WO8cIFIBEcxGq5YBUPZlO+AYo0JZbV1yoGgAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/I18N/images/flags/fi.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AIUFBUyAPfcpAAAAUpJREFUKM+FkjtLA1EQhb979242IeKrCBokiqJgp0IaS8HOVjvxB1gI4o+wtBFs7CztrCwsbCy1UBCbiBiNDzD43NzdZMciJkTJxgNT3DNw7pk5g4h8iEggIlZE7O7Bmc3NbVpGNuz61qH1bWgbvXZlgCTg0IDwG3/ff6CBqJVIeQZHKRAh5bkkPdNRwJycF0Hq33gJw0XhCb9aA9fh+r7M8dkNnusQRe2tqJml7QBwAZSC5zefh5dPgrBGpj9Nti+NVirWgSK71hQgEujyoDeFMgZ5/YI3vz5kjIaZX5hqbkprze3zO4W7MpVKyPBohrHBHoyjEYkZ4fSqFMiPg2TCYf/okp29E0rFMivLs6wu5nGNQxQjYKYnBn4R47lHko6GsMpQppv8ZPbfGN1Wwq9UqYmA1viVEN9WO8cIFIBEcxGq5YBUPZlO+AYo0JZbV1yoGgAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/I18N/images/flags/fr-FR.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGzSURBVHjaYiyeepkBBv79+Zfnx/f379+fP38CyT9//jAyMiq5GP77wvDnJ8MfoAIGBoAAYgGqC7STApL///3/9++/pCTv////Qdz/QO4/IMna0vf/z+9/v379//37bUUTQACBNDD8Z/j87fffvyAVX79+/Q8GQDbQeKA9fM+e/Pv18/+vnwzCIkBLAAKQOAY5AIAwCEv4/4PddNUm3ji0QJyxW3rgzE0iLfqDGr2oYuu0l54AYvnz5x9Q6d+/QPQfyAQqAin9B3EOyG1A1UDj//36zfjr1y8GBoAAFI9BDgAwCMIw+P8Ho3GDO6XQ0l4MN8b2kUwYaLszqgKM/KHcDXwBxAJUD3TJ779A8h9Q5D8SAHoARP36+Rfo41+/mcA2AAQQy49ff0Cu//MPpAeI/0FdA1QNYYNVA/3wmwEYVgwMAAHE8uPHH5BqoD1//gJJLADoJKDS378Z//wFhhJAALF8A3rizz8uTmYg788fJkj4QOKREQyYxSWBhjEC/fcXZANAALF8+/anbcHlHz9+ffvx58uPX9KckkCn/gby/wLd8uvHjx96k+cD1UGiGQgAAgwA7q17ZpsMdUQAAAAASUVORK5CYII="},"./MapStore2/web/client/components/I18N/images/flags/fr.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGzSURBVHjaYiyeepkBBv79+Zfnx/f379+fP38CyT9//jAyMiq5GP77wvDnJ8MfoAIGBoAAYgGqC7STApL///3/9++/pCTv////Qdz/QO4/IMna0vf/z+9/v379//37bUUTQACBNDD8Z/j87fffvyAVX79+/Q8GQDbQeKA9fM+e/Pv18/+vnwzCIkBLAAKQOAY5AIAwCEv4/4PddNUm3ji0QJyxW3rgzE0iLfqDGr2oYuu0l54AYvnz5x9Q6d+/QPQfyAQqAin9B3EOyG1A1UDj//36zfjr1y8GBoAAFI9BDgAwCMIw+P8Ho3GDO6XQ0l4MN8b2kUwYaLszqgKM/KHcDXwBxAJUD3TJ779A8h9Q5D8SAHoARP36+Rfo41+/mcA2AAQQy49ff0Cu//MPpAeI/0FdA1QNYYNVA/3wmwEYVgwMAAHE8uPHH5BqoD1//gJJLADoJKDS378Z//wFhhJAALF8A3rizz8uTmYg788fJkj4QOKREQyYxSWBhjEC/fcXZANAALF8+/anbcHlHz9+ffvx58uPX9KckkCn/gby/wLd8uvHjx96k+cD1UGiGQgAAgwA7q17ZpsMdUQAAAAASUVORK5CYII="},"./MapStore2/web/client/components/I18N/images/flags/hr-HR.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3WAAAN1gGQb3mcAAAAB3RJTUUH4QoHCTAQC4tfhwAAARZJREFUKM+VkqtOA0EUhr+ZWWi3XS4hEBpAkCIICYKLRBIcOAQPUEHqeAEcDkOC4wVQqGLwWCyGFswGSLglTUvbmc7BYMhuFzjy5Fz//1ONUkkYGAIosiJIbdMaly/iTUDQa4MTtDiU978P0N5xsXvIx8Mjk+Mx9aVl5l5eKfcN6+dneG1+1KvnSiXxQmtkipvWGBPSJuc69BDmw08KvU7iAiUiSQ2sJd6vUtzapP/2TrN2yczpCcPlhT9qYC3h2iq23oBgiNGdbUwUpYqo05KqkAdrQWuUAul2MSbdDbV3UEu1sTr9xErYxHvhLlfi6DYiFyT3KRaPZRACG7OKKG+4uneI/IOD79FcxwK4TJaCTMyyIQTgC/dfW5JUkrXFAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/I18N/images/flags/it-IT.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAE2SURBVHjaYmSYyMDwgwEE/jEw/GF4mvT0HyqQUlX9B5aEIIAAYmH4wlDtWg1SDwT//0lKSv7/D+T9/w+nYmL+//79/88fIPll0yaAAGJhYAGJP/n69O+/v0CAUAcHt2////ULqJpRVhZoA0AAsQCtAZoMVP0HiP7+RlcNBEDVYA0Mv38DNQAEEMj8vwx//wCt/AdC/zEBkgagYoAAYgF6FGj277+///wlpAEoz8AAEEAgDX/BZv/69wuoB48GRrCTAAKICajh9//fv/6CVP/++wu7BrDxQFf/YWAACCCwk0BKf0MQdg1/gBqAPv0L9ANAALEAY+33vz+S3JIgb/z5C45CBkZGRgY4UFICKQUjoJMAAoiRoZSB4RMojkHx/YPhbNVZoM3AOISQQPUK9vaQOIYAgAADAC5Wd4RRwnKfAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/I18N/images/flags/jp.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAE2SURBVHjaYvz69SsDEvj37x+ERGbAwZ9//wACiAUoysXFBST///8P0QOm//+HU0jgxYsXAAHEAlP0H8HYt+//4SP/f//6b2b238sLrpqRkRFoCUAAsaCrXrv2/8KF///8+f/r9//Dh/8/ffI/OQWiAeJCgABigrseJPT27f/Vq////v3/1y8oWrzk/+PHcEv+/PkDEEBMEM/B3fj/40eo0t9g8suX/w8f/odZAVQMEEAsQAzj/2cQFf3PxARWCrYEaBXQLCkpqB/+/wcqBgggJrjxQPX/hYX/+/v///kLqhpIBgf/l5ODhxiQBAggFriToDoTEv5zcf3ftQuk2s7uf0wM3MdAAPQDQAAxvn37lo+PDy4KZUDcycj4/z9CBojv3r0LEEAgG969eweLSBDEBSCWAAQYACaTbJ/kuok9AAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/I18N/images/flags/nl-NL.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFXSURBVHjaYvzPgAD/UNlYEUAAkuTgCAAIBgJggq5VoAs1qM0vdzmMz362vezjokxPGimkEQ5WoAQEKuK71zwCCKyB4c//J8+BShn+/vv/+w/D399AEox+//8FJH/9/wUU+cUoKw20ASCAWBhEDf/LyDOw84BU//kDtgGI/oARmAHRDJQSFwVqAAggxo8fP/Ly8oKc9P8/AxjiAoyMjA8ePAAIIJZ///5BVIM0MOBWDpRlZPzz5w9AALH8gyvCbz7QBrCJAAHEyKDYX15r/+j1199//v35++/Xn7+///77DST/wMl/f4Dk378K4jx7O2cABBALw7NP77/+ev3xB0gOpOHfr99AdX9/gTVASKCGP//+8XCyMjC8AwggFoZfIHWSwpwQk4CW/AYjsKlA8u+ff////v33998/YPgBnQQQQIzAaGNg+AVGf5AYf5BE/oCjGEIyAQQYAGvKZ4C6+xXRAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/I18N/images/flags/nl.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFXSURBVHjaYvzPgAD/UNlYEUAAkuTgCAAIBgJggq5VoAs1qM0vdzmMz362vezjokxPGimkEQ5WoAQEKuK71zwCCKyB4c//J8+BShn+/vv/+w/D399AEox+//8FJH/9/wUU+cUoKw20ASCAWBhEDf/LyDOw84BU//kDtgGI/oARmAHRDJQSFwVqAAggxo8fP/Ly8oKc9P8/AxjiAoyMjA8ePAAIIJZ///5BVIM0MOBWDpRlZPzz5w9AALH8gyvCbz7QBrCJAAHEyKDYX15r/+j1199//v35++/Xn7+///77DST/wMl/f4Dk378K4jx7O2cABBALw7NP77/+ev3xB0gOpOHfr99AdX9/gTVASKCGP//+8XCyMjC8AwggFoZfIHWSwpwQk4CW/AYjsKlA8u+ff////v33998/YPgBnQQQQIzAaGNg+AVGf5AYf5BE/oCjGEIyAQQYAGvKZ4C6+xXRAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/I18N/images/flags/pt-PT.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAG8SURBVHjaYmSIZGD4wgAF/xgYWBj+boQysSKAAGJh+MRQnVoNUgEE///9ZfzLoPiX4e8fxj9/mP/8Yfr9+/+fP/9h5JdNmwACiIWBCaj4/5P3T7mY/xoJ/9UR/v0n8O+f17/Zlv/+//73/1+////+9f/XL6BqRllZoA0AAcQCNvv/339/C03+8v/8w7bk7+/vv/+7/P4S95ur+xdY9W+IBobfv4EaAAKICeiuv////vnz58PX3xxb/7BlN3/K7Ph1WoSR/fcfhl//f4KN/wW1BGg6QAAxMfxi+PP37++/v1kYfn//+usnE+cHCbWfTKz/mH7+ZgUpQmj48wdoA0AAsQA1/P0HZP458/qXqvNfjdnVItxy3wNvApUIvwPb8BvqJEawkwACiIXhDwPQ+F9/f+2890dY6/cnrycCb++z3frNfOwX01eEagZgKAHdzcAAEEAgG4DGA/W8+fO79+Rvdt5f2+b++sP+m+kdWDVEwx+gBmBY/wX6ASCAWBi+Mfz+80eSX/L3n99AzwBDm0H2NwtQHS/QapDBIPT3LwQBnQQQQIwMxgwM7xgYfjAArQKRTAyvP2OPYwgACDAAjtdGduN8tIgAAAAASUVORK5CYII="},"./MapStore2/web/client/components/I18N/images/flags/pt.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAG8SURBVHjaYmSIZGD4wgAF/xgYWBj+boQysSKAAGJh+MRQnVoNUgEE///9ZfzLoPiX4e8fxj9/mP/8Yfr9+/+fP/9h5JdNmwACiIWBCaj4/5P3T7mY/xoJ/9UR/v0n8O+f17/Zlv/+//73/1+////+9f/XL6BqRllZoA0AAcQCNvv/339/C03+8v/8w7bk7+/vv/+7/P4S95ur+xdY9W+IBobfv4EaAAKICeiuv////vnz58PX3xxb/7BlN3/K7Ph1WoSR/fcfhl//f4KN/wW1BGg6QAAxMfxi+PP37++/v1kYfn//+usnE+cHCbWfTKz/mH7+ZgUpQmj48wdoA0AAsQA1/P0HZP458/qXqvNfjdnVItxy3wNvApUIvwPb8BvqJEawkwACiIXhDwPQ+F9/f+2890dY6/cnrycCb++z3frNfOwX01eEagZgKAHdzcAAEEAgG4DGA/W8+fO79+Rvdt5f2+b++sP+m+kdWDVEwx+gBmBY/wX6ASCAWBi+Mfz+80eSX/L3n99AzwBDm0H2NwtQHS/QapDBIPT3LwQBnQQQQIwMxgwM7xgYfjAArQKRTAyvP2OPYwgACDAAjtdGduN8tIgAAAAASUVORK5CYII="},"./MapStore2/web/client/components/I18N/images/flags/us.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHzSURBVHjaYkxOP8IAB//+Mfz7w8Dwi4HhP5CcJb/n/7evb16/APL/gRFQDiAAw3JuAgAIBEDQ/iswEERjGzBQLEru97ll0g0+3HvqMn1SpqlqGsZMsZsIe0SICA5gt5a/AGIEarCPtFh+6N/ffwxA9OvP/7//QYwff/6fZahmePeB4dNHhi+fGb59Y4zyvHHmCEAAAW3YDzQYaJJ93a+vX79aVf58//69fvEPlpIfnz59+vDhw7t37968efP3b/SXL59OnjwIEEAsDP+YgY53b2b89++/awvLn98MDi2cVxl+/vl6mituCtBghi9f/v/48e/XL86krj9XzwEEEENy8g6gu22rfn78+NGs5Ofr16+ZC58+fvyYwX8rxOxXr169fPny+fPn1//93bJlBUAAsQADZMEBxj9/GBxb2P/9+S/R8u3vzxuyaX8ZHv3j8/YGms3w8ycQARmi2eE37t4ACCDGR4/uSkrKAS35B3TT////wADOgLOBIaXIyjBlwxKAAGKRXjCB0SOEaeu+/y9fMnz4AHQxCP348R/o+l+//sMZQBNLEvif3AcIIMZbty7Ly6t9ZmXl+fXj/38GoHH/UcGfP79//BBiYHjy9+8/oUkNAAHEwt1V/vI/KBY/QSISFqM/GBg+MzB8A6PfYC5EFiDAABqgW776MP0rAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/I18N/images/flags/vi-VN.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFsSURBVHjaYvzPgAD/UNlYEUAAmuTYAAAQhAEYqF/zFbe50RZ1cMmS9TLi0pJLRjZohAMTGFUN9HdnHgEE1sDw//+Tp0ClINW/f4NI9d////3+f+b3/1+////+9f/XL6A4o6ws0AaAAGIBm/0fRTVQ2v3Pf97f/4/9Aqv+DdHA8Ps3UANAALEAMSNQNdDGP3+ALvnf8vv/t9//9X/////7f+uv/4K//iciNABNBwggsJP+/IW4kuH3n//1v/8v+wVSDURmv/57//7/CeokoKFA0wECiAnkpL9/wH4CO+DNr/+VQA1A9PN/w6//j36CVIMRxEkAAQR20m+QpSBXgU0CuSTj9/93v/8v//V/xW+48UBD/zAwAAQQSAMzOMiABoBUswCd8ev/M7A669//OX7///Lr/x+gBlCoAJ0DEEAgDUy//zBISoKNAfoepJNRFmQkyJecfxj4/kDCEIiAigECiPErakTiiWMIAAgwAB4ZUlqMMhQQAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/I18N/images/flags/vi.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFsSURBVHjaYvzPgAD/UNlYEUAAmuTYAAAQhAEYqF/zFbe50RZ1cMmS9TLi0pJLRjZohAMTGFUN9HdnHgEE1sDw//+Tp0ClINW/f4NI9d////3+f+b3/1+////+9f/XL6A4o6ws0AaAAGIBm/0fRTVQ2v3Pf97f/4/9Aqv+DdHA8Ps3UANAALEAMSNQNdDGP3+ALvnf8vv/t9//9X/////7f+uv/4K//iciNABNBwggsJP+/IW4kuH3n//1v/8v+wVSDURmv/57//7/CeokoKFA0wECiAnkpL9/wH4CO+DNr/+VQA1A9PN/w6//j36CVIMRxEkAAQR20m+QpSBXgU0CuSTj9/93v/8v//V/xW+48UBD/zAwAAQQSAMzOMiABoBUswCd8ev/M7A669//OX7///Lr/x+gBlCoAJ0DEEAgDUy//zBISoKNAfoepJNRFmQkyJecfxj4/kDCEIiAigECiPErakTiiWMIAAgwAB4ZUlqMMhQQAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/I18N/images/flags/zh-ZH.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFqSURBVHjaYrzOwPAPjJgYQEDAleHVbhADIvgHLPgHiQ0QQCxAlkR9NW8sw+cV/1gV/7Gb/hV4+vfzhj8Mv/78//Pn/+/f/8AkhH1t0yaAAAJp4I37zyz2lDfu79uqv/++/WYz+cuq/vvLxt8gdb+A5K9/v34B2SyyskBLAAII5JAva/7/+/z367a/f3/8ZuT9+//Pr78vQUrB6n4CSSj6/RuoASCAWEDO/fD3ddEfhv9/OE3/sKj8/n7k9/fDQNUIs/+DVf8HawAIIJCT/v38C3Hr95N/GDh/f94AVvT7N8RUBpjxQAVADQABBNLw/y/Ifwy/f/399ufTOpDBEPf8g5sN0QBEDAwAAQTWABEChgOSA9BVA00E2wAQQCANQBbEif/AzoCqgLkbbBYwWP/+//sXqBYggFhAkfL7D7OkJFCOCSj65zfUeFjwg8z++/ffX5AGoGKAAGI8jhSRyIw/SJH9D4aAYQoQYAA6rnMw1jU2vQAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/TOC/DefaultGroup.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/components/TOC/Node.jsx"),b=r("./node_modules/prop-types/index.js"),g=r("./MapStore2/web/client/components/TOC/enhancers/draggableComponent.jsx"),h=r("./MapStore2/web/client/components/TOC/fragments/GroupTitle.jsx"),v=r("./MapStore2/web/client/components/TOC/fragments/GroupChildren.jsx"),S=r("./MapStore2/web/client/components/TOC/fragments/VisibilityCheck.jsx"),w=r("./MapStore2/web/client/components/TOC/fragments/LayersTool.jsx"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,r,n,u=c(d);function d(){var e;a(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=u.call.apply(u,[this].concat(r))),"renderVisibility",(function(t){return e.props.groupVisibilityCheckbox&&!t?m.createElement(S,{node:e.props.node,key:"visibility",tooltip:"toc.toggleGroupVisibility",checkType:e.props.visibilityCheckType,propertiesChangeHandler:e.props.propertiesChangeHandler}):m.createElement(w,{key:"loadingerror",glyph:"exclamation-mark text-danger",tooltip:"toc.loadingerror",className:"toc-error"})})),e}return t=d,(r=[{key:"render",value:function(){var e=this,t=this.props,r=(t.children,t.onToggle,t.connectDragPreview),n=t.connectDragSource,a=t.connectDropTarget,s=i(t,["children","onToggle","connectDragPreview","connectDragSource","connectDropTarget"]),l=this.props.selectedNodes.filter((function(t){return t===e.props.node.id})).length>0?" selected":"",c=this.props.node.loadingError?" group-error":"",u=s.isDraggable?m.createElement(w,{key:"grabTool",tooltip:"toc.grabGroupIcon",className:"toc-grab",ref:"target",glyph:"menu-hamburger"}):m.createElement("span",{className:"toc-layer-tool toc-grab"}),p=m.createElement("div",{className:"toc-default-group-head"},u,this.renderVisibility(c),m.createElement(h,{tooltipOptions:this.props.tooltipOptions,tooltip:this.props.titleTooltip,node:this.props.node,currentLocale:this.props.currentLocale,onClick:this.props.onToggle,onSelect:this.props.onSelect})),d=m.createElement(v,{level:this.props.level+1,onSort:this.props.onSort,onError:this.props.onError,setDndState:this.props.setDndState,position:"collapsible"},this.props.children);return this.props.node.showComponent&&!this.props.node.hide?m.createElement(y,o({className:(this.props.isDragging||this.props.node.placeholder?"is-placeholder ":"")+"toc-default-group toc-group-"+this.props.level+l+c,sortableStyle:this.props.sortableStyle,style:this.props.style,type:"group"},s),r(a(this.props.isDraggable?n(p):p)),this.props.isDragging||this.props.node.placeholder?null:d):null}}])&&s(t.prototype,r),n&&s(t,n),d}(m.Component);f(O,"propTypes",{node:b.object,style:b.object,sortableStyle:b.object,onToggle:b.func,level:b.number,onSort:b.func,onError:b.func,propertiesChangeHandler:b.func,groupVisibilityCheckbox:b.bool,visibilityCheckType:b.string,currentLocale:b.string,selectedNodes:b.array,onSelect:b.func,titleTooltip:b.bool,tooltipOptions:b.object,setDndState:b.func,connectDragSource:b.func,connectDragPreview:b.func,connectDropTarget:b.func,isDraggable:b.bool,isDragging:b.bool,isOver:b.bool}),f(O,"defaultProps",{node:{},onToggle:function(){},style:{marginBottom:"16px",cursor:"pointer"},sortableStyle:{},propertiesChangeHandler:function(){},groupVisibilityCheckbox:!1,visibilityCheckType:"glyph",level:1,currentLocale:"en-US",joinStr:" - ",selectedNodes:[],onSelect:function(){},titleTooltip:!1,connectDragPreview:function(e){return e},connectDragSource:function(e){return e},connectDropTarget:function(e){return e},isDraggable:!1,isDragging:!1,isOver:!1}),e.exports=g("LayerOrGroup",O)},"./MapStore2/web/client/components/TOC/DefaultLayer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./MapStore2/web/client/components/TOC/Node.jsx"),g=r("./MapStore2/node_modules/lodash/lodash.js"),h=g.isObject,v=g.castArray,S=g.find,w=r("./node_modules/react-bootstrap/es/index.js"),O=w.Grid,j=w.Row,E=w.Col,x=w.Glyphicon,P=r("./MapStore2/web/client/components/TOC/enhancers/draggableComponent.jsx"),T=r("./MapStore2/web/client/components/TOC/fragments/VisibilityCheck.jsx"),M=r("./MapStore2/web/client/components/TOC/fragments/Title.jsx"),A=r("./MapStore2/web/client/components/TOC/fragments/WMSLegend.jsx"),C=r("./MapStore2/web/client/components/TOC/fragments/LayersTool.jsx"),_=r("./MapStore2/web/client/components/TOC/fragments/OpacitySlider.jsx"),I=r("./MapStore2/web/client/components/TOC/fragments/ToggleFilter.jsx"),R=r("./MapStore2/web/client/components/data/featuregrid/enhancers/withTooltip.js"),L=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js")("tooltip")(R(x)),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,r,n,u=c(d);function d(){var e;a(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=u.call.apply(u,[this].concat(r))),"getTitle",(function(t){return(h(t.title)?t.title[e.props.currentLocale]||t.title.default:t.title)||t.name})),f(p(e),"renderOpacitySlider",(function(t){return e.props.activateOpacityTool?m.createElement(_,{opacity:e.props.node.opacity,disabled:!e.props.node.visibility,hideTooltip:t,onChange:function(t){return e.props.onUpdateNode(e.props.node.id,"layers",{opacity:t})}}):null})),f(p(e),"renderCollapsible",(function(){return m.createElement("div",{key:"legend",position:"collapsible",className:"collapsible-toc"},m.createElement(O,{fluid:!0},e.props.showFullTitleOnExpand?m.createElement(j,null,m.createElement(E,{xs:12,className:"toc-full-title"},e.getTitle(e.props.node))):null,e.props.activateLegendTool?m.createElement(j,null,m.createElement(E,{xs:12},m.createElement(A,i({node:e.props.node,currentZoomLvl:e.props.currentZoomLvl,scales:e.props.scales,language:e.props.language},e.props.legendOptions)))):null),e.renderOpacitySlider(e.props.hideOpacityTooltip))})),f(p(e),"renderVisibility",(function(){return"Error"===e.props.node.loadingError?m.createElement(C,{key:"loadingerror",glyph:"exclamation-mark text-danger",tooltip:"toc.loadingerror",className:"toc-error"}):m.createElement(T,{key:"visibilitycheck",tooltip:"Warning"===e.props.node.loadingError?"toc.toggleLayerVisibilityWarning":"toc.toggleLayerVisibility",node:e.props.node,checkType:e.props.visibilityCheckType,propertiesChangeHandler:e.props.propertiesChangeHandler})})),f(p(e),"renderToolsLegend",(function(t){return"Error"===e.props.node.loadingError||t?null:m.createElement(C,{node:e.props.node,tooltip:"toc.displayLegendAndTools",key:"toollegend",className:"toc-legend",ref:"target",glyph:"chevron-left",onClick:function(t){return e.props.onToggle(t.id,t.expanded)}})})),f(p(e),"renderIndicators",(function(){return v(e.props.indicators).map((function(t){return"dimension"===t.type&&S(e.props.node&&e.props.node.dimensions||[],t.condition)?t.glyph&&m.createElement(L,i({key:t.key,glyph:t.glyph},t.props)):null}))})),f(p(e),"renderNode",(function(t,r,n,o,a,s,l){var c="wms"===e.props.node.type&&!e.props.activateLegendTool&&!e.props.showFullTitleOnExpand||"wms"!==e.props.node.type&&!e.props.showFullTitleOnExpand,u=s?m.createElement("div",{style:{padding:0,height:10},className:"toc-default-layer-head"}):m.createElement("div",{className:"toc-default-layer-head"},t,e.renderVisibility(),m.createElement(I,{node:e.props.node,propertiesChangeHandler:e.props.propertiesChangeHandler}),m.createElement(M,{tooltipOptions:e.props.tooltipOptions,tooltip:e.props.titleTooltip,filterText:e.props.filterText,node:e.props.node,currentLocale:e.props.currentLocale,onClick:e.props.onSelect,onContextMenu:e.props.onContextMenu}),e.props.node.loading?m.createElement("div",{className:"toc-inline-loader"}):e.renderToolsLegend(c),e.props.indicators?e.renderIndicators():null);return m.createElement(b,i({className:(e.props.isDragging||e.props.node.placeholder?"is-placeholder ":"")+"toc-default-layer"+r+n+o+a,style:e.props.style,type:"layer"},l),l.isDraggable&&!s?e.props.connectDragPreview(u):u,s||!e.props.activateOpacityTool||e.props.node.expanded||!e.props.node.visibility||"Error"===e.props.node.loadingError?null:e.renderOpacitySlider(e.props.hideOpacityTooltip),s||c?null:e.renderCollapsible())})),f(p(e),"filterLayers",(function(t){return-1!==((h(t.title)?t.title[e.props.currentLocale]||t.title.default:t.title)||t.name).toLowerCase().indexOf(e.props.filterText.toLowerCase())})),e}return t=d,(r=[{key:"render",value:function(){var e=this,t=this.props,r=(t.children,t.propertiesChangeHandler,t.onToggle,t.connectDragSource),n=t.connectDropTarget,i=o(t,["children","propertiesChangeHandler","onToggle","connectDragSource","connectDropTarget"]),a=!this.props.node.visibility||this.props.node.invalid?" visibility":"",s=this.props.selectedNodes.filter((function(t){return t===e.props.node.id})).length>0?" selected":"",l="Error"===this.props.node.loadingError?" layer-error":"",c="Warning"===this.props.node.loadingError?" layer-warning":"",u=i.isDraggable?m.createElement(C,{key:"grabTool",tooltip:"toc.grabLayerIcon",className:"toc-grab",ref:"target",glyph:"menu-hamburger"}):m.createElement("span",{className:"toc-layer-tool toc-grab"}),p=!!this.props.node.dummy,d=!p&&this.filterLayers(this.props.node)?this.renderNode(u,a,s,l,c,p,i):null,f=m.createElement("div",{style:p?{opacity:0,boxShadow:"none"}:{},className:"toc-list-item"},!this.props.filterText||this.props.filterText&&p?this.renderNode(u,a,s,l,c,p,i):d);return!1!==i.node.showComponent&&!i.node.hide&&this.props.filter(this.props.node)?n(i.isDraggable&&!p?r(f):f):null}}])&&s(t.prototype,r),n&&s(t,n),d}(m.Component);f(D,"propTypes",{node:y.object,propertiesChangeHandler:y.func,onToggle:y.func,onContextMenu:y.func,onSelect:y.func,style:y.object,sortableStyle:y.object,activateLegendTool:y.bool,activateOpacityTool:y.bool,indicators:y.array,visibilityCheckType:y.string,currentZoomLvl:y.number,scales:y.array,additionalTools:y.array,legendOptions:y.object,currentLocale:y.string,selectedNodes:y.array,filterText:y.string,onUpdateNode:y.func,titleTooltip:y.bool,filter:y.func,showFullTitleOnExpand:y.bool,hideOpacityTooltip:y.bool,tooltipOptions:y.object,connectDragPreview:y.func,connectDragSource:y.func,connectDropTarget:y.func,isDraggable:y.bool,isDragging:y.bool,isOver:y.bool,language:y.string}),f(D,"defaultProps",{style:{},sortableStyle:{},propertiesChangeHandler:function(){},onToggle:function(){},onContextMenu:function(){},onSelect:function(){},activateLegendTool:!1,activateOpacityTool:!0,indicators:[],visibilityCheckType:"glyph",additionalTools:[],currentLocale:"en-US",joinStr:" - ",selectedNodes:[],filterText:"",onUpdateNode:function(){},filter:function(){return!0},titleTooltip:!1,showFullTitleOnExpand:!1,hideOpacityTooltip:!1,connectDragPreview:function(e){return e},connectDragSource:function(e){return e},connectDropTarget:function(e){return e}}),e.exports=P("LayerOrGroup",D)},"./MapStore2/web/client/components/TOC/DefaultLayerOrGroup.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,r,n,o=u(p);function p(){return s(this,p),o.apply(this,arguments)}return t=p,(r=[{key:"render",value:function(){var e=this.props,t=e.groupElement,r=e.layerElement,n=e.node,o=a(e,["groupElement","layerElement","node"]);return n.nodes?y.cloneElement(t,i({node:n},o),y.createElement(p,{groupElement:t,layerElement:r})):y.cloneElement(r,i({node:n},o))}}])&&l(t.prototype,r),n&&l(t,n),p}(y.Component);f(b,"propTypes",{node:m.object,groupElement:m.element.isRequired,layerElement:m.element.isRequired}),e.exports=b},"./MapStore2/web/client/components/TOC/Header.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Grid,b=m.Row,g=m.Col,h=m.Glyphicon,v=r("./MapStore2/web/client/components/misc/Filter.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderTitle",(function(){return d.createElement(b,null,d.createElement(g,{xs:12,className:"mapstore-toc-head-title-container text-center no-border"},d.createElement("div",{className:"mapstore-toc-head-title",title:e.props.title},d.createElement(h,{glyph:"1-map"}),"",e.props.title)))})),p(c(e),"renderFilter",(function(){return d.createElement(b,null,d.createElement(g,{xs:12,className:"text-center"},d.createElement(v,{onFocus:e.props.onClear,filterPlaceholder:e.props.filterPlaceholder,tooltipClear:e.props.filterTooltipClear,filterText:e.props.filterText,onFilter:e.props.onFilter})))})),p(c(e),"renderTools",(function(){return d.createElement(b,null,d.createElement(g,{xs:12,className:"text-center"},e.props.toolbar))})),e}return t=u,(r=[{key:"render",value:function(){var e=[this.props.showTools,this.props.showFilter,this.props.showTitle].filter((function(e){return e})),t=e.length>0?" toc-head-sections-"+e.length:" toc-head-sections";return d.createElement("div",{className:"mapstore-toc-head"+t},d.createElement(y,{fluid:!0},this.props.showTitle?this.renderTitle():null,this.props.showFilter?this.renderFilter():null,this.props.showTools?this.renderTools():null))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(S,"propTypes",{title:f.string,filterText:f.string,filterPlaceholder:f.oneOfType([f.object,f.string]),showTitle:f.bool,showFilter:f.oneOfType([f.bool,f.number]),showTools:f.bool,toolbar:f.object,onFilter:f.func,onClear:f.func,filterTooltipClear:f.oneOfType([f.object,f.string])}),p(S,"defaultProps",{title:"",filterText:"",filterPlaceholder:"Filter",showTitle:!0,showFilter:!0,showTools:!0,toolbar:null,onFilter:function(){},onClear:function(){},filterTooltipClear:"Clear"}),e.exports=S},"./MapStore2/web/client/components/TOC/Node.jsx":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r("./node_modules/prop-types/index.js"),i=r("./node_modules/react/index.js"),a=r("./node_modules/create-react-class/index.js"),s=r("./node_modules/object-assign/index.js"),l=r("./node_modules/react-transition-group/index.js").CSSTransitionGroup,c=a({displayName:"Node",propTypes:{node:o.object,style:o.object,styler:o.func,className:o.string,type:o.string,onSort:o.func,isDraggable:o.bool,animateCollapse:o.bool},getDefaultProps:function(){return{node:null,style:{},styler:function(){},className:"",type:"node",onSort:null,animateCollapse:!0}},renderChildren:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return i.Children.map(this.props.children,(function(r){if(t(r)){var o=(r.type.inheritedPropTypes||["node"]).reduce((function(t,r){return e.props[r]?s(t,n({},r,e.props[r])):t}),{});return i.cloneElement(r,o)}return null}))},render:function(){var e=void 0===this.props.node.expanded||this.props.node.expanded,t=this.props.type,r=s({},this.props.style,this.props.styler(this.props.node)),n=e&&"Error"!==this.props.node.loadingError?this.renderChildren((function(e){return e&&"collapsible"===e.props.position})):[];return this.props.animateCollapse&&(n=i.createElement(l,{transitionName:"TOC-Node",transitionEnterTimeout:250,transitionLeaveTimeout:250},n)),i.createElement("div",{key:this.props.node.name,className:(e?t+"-expanded":t+"-collapsed")+" "+this.props.className,style:this.props.node.dummy?{padding:0}:r},this.renderChildren((function(e){return e&&"collapsible"!==e.props.position})),n)}});e.exports=c},"./MapStore2/web/client/components/TOC/TOC.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./MapStore2/web/client/components/TOC/enhancers/dndTree.jsx");r("./MapStore2/web/client/components/TOC/css/toc.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=[],r=this.props.nodes.filter(this.props.filter);if(this.props.children){var n=0;t=r.map((function(t){return p.cloneElement(e.props.children,{node:t,parentNodeId:"root",onSort:e.props.onSort,onError:e.props.onError,sortIndex:t.hide||t.dummy?n:n++,key:t.name||t.id||"default",isDraggable:!(!e.props.onSort||t.nodes&&"Default"===t.name),setDndState:e.props.setDndState})}))}return this.props.onSort,p.createElement("div",{id:this.props.id,className:"mapstore-layers-container"},t)}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(m,"propTypes",{filter:d.func,nodes:d.array,id:d.string,onSort:d.func,onError:d.func,setDndState:d.func}),u(m,"defaultProps",{filter:function(){return!0},nodes:[],id:"mapstore-layers",onSort:null,setDndState:function(){}}),e.exports=f(m)},"./MapStore2/web/client/components/TOC/TOCItemsSettings.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./node_modules/react/index.js"),s=r("./node_modules/prop-types/index.js"),l=r("./node_modules/react-bootstrap/es/index.js"),c=l.Row,u=l.Col,p=l.Nav,d=l.NavItem,f=l.Glyphicon,m=r("./MapStore2/web/client/components/misc/panels/DockablePanel.jsx"),y=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),b=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(d),g=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),h=r("./MapStore2/web/client/components/misc/Portal.jsx"),v=r("./MapStore2/node_modules/lodash/lodash.js"),S=v.head,w=v.isObject,O=v.isString,j=r("./MapStore2/web/client/components/I18N/Message.jsx"),E=function(e){var t=e.className,r=void 0===t?"":t,i=e.activeTab,s=void 0===i?"general":i,l=e.currentLocale,d=void 0===l?"en-US":l,v=e.currentLocaleLanguage,E=void 0===v?"en":v,x=e.width,P=void 0===x?500:x,T=e.groups,M=void 0===T?[]:T,A=e.element,C=void 0===A?{}:A,_=e.settings,I=void 0===_?{}:_,R=e.onSave,L=void 0===R?function(){}:R,D=e.onClose,k=void 0===D?function(){}:D,N=e.onHideSettings,F=void 0===N?function(){}:N,G=e.onSetTab,U=void 0===G?function(){}:G,B=e.onUpdateParams,z=void 0===B?function(){}:B,W=e.onRetrieveLayerData,V=void 0===W?function(){}:W,H=e.onShowAlertModal,q=void 0===H?function(){}:H,Y=e.realtimeUpdate,Z=void 0===Y||Y,Q=e.alertModal,K=void 0!==Q&&Q,X=e.dockStyle,J=void 0===X?{}:X,$=e.dock,ee=void 0===$||$,te=e.showFullscreen,re=e.draggable,ne=e.position,oe=void 0===ne?"left":ne,ie=e.tabs,ae=void 0===ie?[]:ie,se=e.tabsConfig,le=void 0===se?{}:se,ce=e.isLocalizedLayerStylesEnabled,ue=void 0!==ce&&ce,pe=S(ae.filter((function(e){return e.id===s&&e.toolbarComponent})).map((function(e){return e.toolbarComponent}))),de=ae&&ae.map((function(e){return e&&e.onClose})).filter((function(e){return e}))||[],fe=[{glyph:"floppy-disk",tooltipId:"save",visible:!!L,onClick:function(){return L(de)}}].concat(o(S(ae.filter((function(e){return e.id===s&&e.toolbar})).map((function(e){return e.toolbar})))||[]));return a.createElement("div",null,a.createElement(m,{open:I.expanded,glyph:"wrench",title:C.title&&w(C.title)&&(C.title[d]||C.title.default)||O(C.title)&&C.title||"",className:r,onClose:function(){k?k(!1,de):(de.forEach((function(e){e()})),F())},size:P,style:J,showFullscreen:te,dock:ee,draggable:re,position:oe,header:[a.createElement(c,{key:"ms-toc-settings-toolbar",className:"text-center"},a.createElement(u,{xs:12},pe?a.createElement(pe,{buttons:fe}):a.createElement(y,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:fe})))].concat(o(ae.length>1?[a.createElement(c,{key:"ms-toc-settings-navbar",className:"ms-row-tab"},a.createElement(u,{xs:12},a.createElement(p,{bsStyle:"tabs",activeKey:s,justified:!0},ae.map((function(e){return a.createElement(b,{key:"ms-tab-settings-"+e.id,tooltip:a.createElement(j,{msgId:e.tooltipId}),eventKey:e.id,onClick:function(){U(e.id),e.onClick&&e.onClick()}},a.createElement(f,{glyph:e.glyph}))})))))]:[]))},ae.filter((function(e){return e.id&&e.id===s})).filter((function(e){return e.Component})).map((function(t){return a.createElement(t.Component,n({},e,le[t.id],{key:"ms-tab-settings-body-"+t.id,containerWidth:P,element:C,groups:M,nodeType:I.nodeType,settings:I,retrieveLayerData:V,onChange:function(e,t){return w(e)?z(e,Z):z(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,t),Z)},isLocalizedLayerStylesEnabled:ue,currentLocaleLanguage:E}))}))),a.createElement(h,null,a.createElement(g,{fade:!0,show:K,title:a.createElement(j,{msgId:"layerProperties.changedSettings"}),size:"xs",onClose:function(){return q(!1)},buttons:[{bsStyle:"primary",text:a.createElement(j,{msgId:"close"}),onClick:function(){return k(!0,de)}},{bsStyle:"primary",text:a.createElement(j,{msgId:"save"}),onClick:function(){return L(de)}}]},a.createElement("div",{className:"ms-alert"},a.createElement("div",{className:"ms-alert-center"},a.createElement(j,{msgId:"layerProperties.changedSettingsAlert"}))))))};E.contextTypes={plugins:s.object,pluginsConfig:s.array,loadedPlugins:s.object},e.exports=E},"./MapStore2/web/client/components/TOC/Toolbar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.ButtonGroup,b=m.Button,g=m.Glyphicon,h=m.Tooltip,v=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),S=r("./MapStore2/node_modules/lodash/lodash.js").head,w=r("./MapStore2/web/client/components/maps/modals/ConfirmModal.jsx"),O=r("./MapStore2/web/client/components/TOC/fragments/LayerMetadataModal.jsx"),j=r("./MapStore2/web/client/libs/proj4.js").default,E=r("./MapStore2/web/client/components/I18N/Message.jsx"),x=r("./MapStore2/web/client/components/TOC/swipe/SwipeButton.jsx"),P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{showDeleteDialog:!1}),p(c(e),"isNestedGroup",(function(){var t=e.props.selectedGroups.map((function(e){return e.id.split(".")}));return S(t.reduce((function(e,t){return e[0]===t[0]?t:[!1]}),t[0]))})),p(c(e),"isLoading",(function(){return S(e.props.selectedLayers.filter((function(e){return e.loading})))})),p(c(e),"getStatus",(function(){var t=e.props,r=t.selectedLayers,n=t.selectedGroups,o=e.isNestedGroup(),i=0===r.length&0===n.length?"DESELECT":"";return i=1===r.length&0===n.length?"LAYER":i,i=o?"GROUP":i,i=r.length>1&0===n.length?"LAYERS":i,i=n.length>1&&!o?"GROUPS":i,i=e.props.selectedLayers.length>0&&e.props.selectedLayers.filter((function(e){return"Error"===e.loadingError})).length===e.props.selectedLayers.length?"".concat(i,"_LOAD_ERROR"):i})),p(c(e),"getSelectedGroup",(function(){return e.props.selectedGroups.length>0&&e.props.selectedGroups[e.props.selectedGroups.length-1]})),p(c(e),"getSelectedNodeDepth",(function(){return"DESELECT"===e.getStatus()?0:e.getSelectedGroup().id.split(".").length+1})),p(c(e),"addLayer",(function(){var t=e.getSelectedGroup();e.props.onToolsActions.onAddLayer(t&&t.id)})),p(c(e),"addGroup",(function(){var t=e.getSelectedGroup();e.props.onToolsActions.onAddGroup(t&&t.id)})),p(c(e),"browseData",(function(){e.props.onToolsActions.onBrowseData({url:e.props.selectedLayers[0].search.url||e.props.selectedLayers[0].url,name:e.props.selectedLayers[0].name,id:e.props.selectedLayers[0].id})})),p(c(e),"download",(function(){e.props.onToolsActions.onDownload({url:e.props.selectedLayers[0].search.url||e.props.selectedLayers[0].url,name:e.props.selectedLayers[0].name,id:e.props.selectedLayers[0].id})})),p(c(e),"checkBbox",(function(){var t=e.props.selectedLayers.filter((function(e){return e.bbox})).map((function(e){return e.bbox})),r=t.length>0?t.reduce((function(e,t){return e.crs===t.crs?e:{crs:"differentCRS"}})):{crs:"differentCRS"};return!!S(t)&&"differentCRS"!==r.crs&&r.crs})),p(c(e),"zoomTo",(function(){var t=e.props.selectedLayers.filter((function(e){return e.bbox})).map((function(e){return e.bbox})),r=t.length>1?t.reduce((function(e,t){return{bounds:{maxx:e.bounds.maxx>t.bounds.maxx?e.bounds.maxx:t.bounds.maxx,maxy:e.bounds.maxy>t.bounds.maxy?e.bounds.maxy:t.bounds.maxy,minx:e.bounds.minx<t.bounds.minx?e.bounds.minx:t.bounds.minx,miny:e.bounds.miny<t.bounds.miny?e.bounds.miny:t.bounds.miny},crs:t.crs}}),t[0]):t[0];e.props.onToolsActions.onZoom(r.bounds,r.crs)})),p(c(e),"showSettings",(function(t){e.props.settings.expanded?e.props.onToolsActions.onHideSettings():"LAYER"===t||"LAYER_LOAD_ERROR"===t?e.props.onToolsActions.onSettings(e.props.selectedLayers[0].id,"layers",{opacity:parseFloat(void 0!==e.props.selectedLayers[0].opacity?e.props.selectedLayers[0].opacity:1)}):"GROUP"===t&&e.props.onToolsActions.onSettings(e.props.selectedGroups[e.props.selectedGroups.length-1].id,"groups",{})})),p(c(e),"showMetadata",(function(){e.props.layerMetadata.expanded?e.props.onToolsActions.onHideLayerMetadata():e.props.onToolsActions.onGetMetadataRecord(e.props.options.metadataOptions)})),p(c(e),"removeNodes",(function(){e.props.selectedLayers.forEach((function(t){e.props.onToolsActions.onRemove(t.id,"layers")})),e.props.selectedGroups.forEach((function(t){e.props.onToolsActions.onRemove(t.id,"groups")})),e.props.onToolsActions.onClear(),e.closeDeleteDialog()})),p(c(e),"reload",(function(){e.props.selectedLayers.forEach((function(t){e.props.onToolsActions.onShow(t.id,{visibility:!0}),e.props.onToolsActions.onReload(t.id)}))})),p(c(e),"closeDeleteDialog",(function(){e.setState({showDeleteDialog:!1})})),p(c(e),"displayDeleteDialog",(function(){e.setState({showDeleteDialog:!0})})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.getStatus(),r=this.checkBbox(),n=r&&j.defs(r),o=d.createElement(O,{key:"toollayermetadatamodal",layerMetadata:this.props.layerMetadata,metadataTemplate:this.props.metadataTemplate,hideLayerMetadata:this.props.onToolsActions.onHideLayerMetadata,layerMetadataPanelTitle:this.props.text.layerMetadataPanelTitle});return this.props.activateTool.activateToolsContainer?d.createElement(y,null,this.props.activateTool.activateLayerInfoTool&&"DESELECT"===t?d.createElement(v,{key:"layerInfo",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-layerInfo"},this.props.text.layerInfoTooltip)},d.createElement(b,{key:"layerInfo",bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onLayerInfo},d.createElement(g,{glyph:"layer-info"}))):null,!this.props.activateTool.activateAddLayer||"DESELECT"!==t&&"GROUP"!==t?null:d.createElement(v,{key:"addLayer",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-addLayer"},"GROUP"===t?this.props.text.addLayerToGroupTooltip:this.props.text.addLayerTooltip)},d.createElement(b,{key:"addLayer",bsStyle:"primary",className:"square-button-md",onClick:this.addLayer},d.createElement(g,{glyph:"add-layer"}))),this.props.activateTool.activateAddGroup&&("DESELECT"===t||"GROUP"===t)&&this.getSelectedNodeDepth()<=this.props.maxDepth?d.createElement(v,{key:"addGroup",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-addGroup"},"GROUP"===t?this.props.text.addSubGroupTooltip:this.props.text.addGroupTooltip)},d.createElement(b,{key:"addGroup",bsStyle:"primary",className:"square-button-md",onClick:this.addGroup},d.createElement(g,{glyph:"add-folder"}))):null,this.props.activateTool.activateZoomTool&&("LAYER"===t||"GROUP"===t||"LAYERS"===t||"GROUPS"===t)&&r?d.createElement(v,{key:"zoomTo",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-zoomTo"},n?this.props.text.zoomToTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"]:d.createElement(E,{msgId:"toc.epsgNotSupported",msgParams:{epsg:r||" "}}))},d.createElement(b,{bsStyle:"primary",className:"square-button-md",style:n?{opacity:1,cursor:"pointer"}:{opacity:.5,cursor:"default"},onClick:n?this.zoomTo:function(){}},d.createElement(g,{glyph:"zoom-to"}))):null,!this.props.activateTool.activateSettingsTool||"LAYER"!==t&&"GROUP"!==t&&"LAYER_LOAD_ERROR"!==t||this.props.layerMetadata.expanded||this.props.wfsdownload.expanded?null:d.createElement(v,{key:"settings",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-settings"},this.props.text.settingsTooltip["LAYER_LOAD_ERROR"===t?"LAYER":t])},d.createElement(b,{active:this.props.settings.expanded,bsStyle:this.props.settings.expanded?"success":"primary",className:"square-button-md",onClick:function(){e.showSettings(t)}},d.createElement(g,{glyph:"wrench"}))),!this.props.activateTool.activateLayerFilterTool||"LAYER"!==t&&"LAYER_LOAD_ERROR"!==t||!this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.wfsdownload.expanded?null:d.createElement(v,{key:"queryPanel",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-layerFilter"},this.props.text.layerFilterTooltip)},d.createElement(b,{bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onQueryBuilder},d.createElement(g,{glyph:"filter-layer"}))),!this.props.activateTool.activateQueryTool||"LAYER"!==t||!this.props.selectedLayers[0].search||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.wfsdownload.expanded?null:d.createElement(v,{key:"featuresGrid",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-featuresGrid"},this.props.text.featuresGridTooltip)},d.createElement(b,{bsStyle:"primary",className:"square-button-md",onClick:this.browseData},d.createElement(g,{glyph:"features-grid"}))),(!this.props.activateTool.activateRemoveLayer||"LAYER"!==t&&"LAYERS"!==t&&"LAYER_LOAD_ERROR"!==t&&"LAYERS_LOAD_ERROR"!==t)&&(!this.props.activateTool.activateRemoveGroup||"GROUP"!==t&&"GROUPS"!==t&&"GROUP_LOAD_ERROR"!==t&&"GROUPS_LOAD_ERROR"!==t)||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.wfsdownload.expanded?null:d.createElement(v,{key:"removeNode",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-trash"},this.props.selectedGroups.length?this.props.text.trashTooltip.GROUP:this.props.text.trashTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"])},d.createElement(b,{active:this.state.showDeleteDialog,bsStyle:this.props.settings.showDeleteDialog?"success":"primary",className:"square-button-md",onClick:this.displayDeleteDialog},d.createElement(g,{glyph:"trash"}))),!this.isLoading()&&"LAYER_LOAD_ERROR"===t||"LAYERS_LOAD_ERROR"===t?d.createElement(v,{key:"reload",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-reload"},this.props.text.reloadTooltip[this.props.selectedLayers.length>1?"LAYERS":"LAYER"])},d.createElement(b,{bsStyle:"primary",className:"square-button-md",onClick:this.reload},d.createElement(g,{glyph:"refresh"}))):null,!this.props.activateTool.activateWidgetTool||"LAYER"!==t||1!==this.props.selectedLayers.length||"vector"===this.props.selectedLayers[0].type||this.props.settings.expanded||this.props.layerMetadata.expanded||this.props.wfsdownload.expanded?null:d.createElement(v,{key:"widgets",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-widgets"},this.props.text.createWidgetTooltip)},d.createElement(b,{bsStyle:"primary",className:"square-button-md",onClick:this.props.onToolsActions.onNewWidget},d.createElement(g,{glyph:"stats"}))),this.props.activateTool.activateDownloadTool&&"LAYER"===t&&this.props.selectedLayers[0].search&&!this.props.settings.expanded&&!this.props.layerMetadata.expanded?d.createElement(v,{key:"downloadTool",placement:"top",overlay:d.createElement(h,{id:"toc-tooltip-downloadTool"},this.props.text.downloadToolTooltip)},d.createElement(b,{bsStyle:this.props.wfsdownload.expanded?"success":"primary",className:"square-button-md",onClick:this.download},d.createElement(g,{glyph:"download"}))):null,!this.props.activateTool.activateMetedataTool||"LAYER"!==t||this.props.settings.expanded||this.props.wfsdownload.expanded?null:d.createElement(v,{key:"layerMetadata",placement:"top",overlay:d.createElement(h,{id:"legend-tooltip-metadata"},this.props.text.layerMetadataTooltip)},d.createElement(b,{key:"layer-metadata",bsStyle:this.props.layerMetadata.expanded?"success":"primary",className:"square-button-md",onClick:function(){return e.showMetadata()}},d.createElement(g,{glyph:"info-sign"}))),this.props.activateTool.activateSwipeOnLayer&&"LAYER"===t&&d.createElement(x,{status:t,onToolsActions:this.props.onToolsActions,swipeSettings:this.props.swipeSettings}),d.createElement(w,{ref:"removelayer",options:{animation:!1,className:"modal-fixed"},show:this.state.showDeleteDialog,onHide:this.closeDeleteDialog,onClose:this.closeDeleteDialog,onConfirm:this.removeNodes,titleText:this.props.selectedGroups&&this.props.selectedGroups.length?this.props.text.confirmDeleteLayerGroupText:this.props.text.confirmDeleteText,confirmText:this.props.text.confirmDeleteConfirmText,cancelText:this.props.text.confirmDeleteCancelText,body:this.props.selectedGroups&&this.props.selectedGroups.length?this.props.text.confirmDeleteLayerGroupMessage:this.props.text.confirmDeleteMessage}),o):null}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(P,"propTypes",{groups:f.array,selectedLayers:f.array,generalInfoFormat:f.string,selectedGroups:f.array,onToolsActions:f.object,text:f.object,activateTool:f.object,options:f.object,style:f.object,settings:f.object,layerMetadata:f.object,wfsdownload:f.object,maxDepth:f.number,metadataTemplate:f.oneOfType([f.string,f.array,f.object,f.func])}),p(P,"defaultProps",{groups:[],selectedLayers:[],selectedGroups:[],onToolsActions:{onZoom:function(){},onNewWidget:function(){},onBrowseData:function(){},onQueryBuilder:function(){},onUpdate:function(){},onRemove:function(){},onClear:function(){},onSettings:function(){},onUpdateSettings:function(){},onRetrieveLayerData:function(){},onHideSettings:function(){},onReload:function(){},onAddLayer:function(){},onAddGroup:function(){},onDownload:function(){},onGetMetadataRecord:function(){},onHideLayerMetadata:function(){},onShow:function(){},onLayerInfo:function(){},onSetActive:function(){},onSetSwipeMode:function(){}},maxDepth:3,text:{settingsText:"",opacityText:"",elevationText:"",saveText:"",closeText:"",confirmDeleteText:"",confirmDeleteMessage:"",confirmDeleteConfirmText:"",confirmDeleteCancelText:"",createWidgetTooltip:"",addLayerTooltip:"",addLayerToGroupTooltip:"",addGroupTooltip:"",addSubGroupTooltip:"",zoomToTooltip:{LAYER:"",LAYERS:""},settingsTooltip:{LAYER:"",GROUP:""},featuresGridTooltip:"",downloadToolTooltip:"",trashTooltip:{LAYER:"",LAYERS:"",GROUP:""},reloadTooltip:{LAYER:"",LAYERS:""},layerMetadataTooltip:"",layerMetadataPanelTitle:"",layerFilter:"",layerInfoTooltip:""},activateTool:{activateToolsContainer:!0,activateRemoveLayer:!0,activateRemoveGroup:!0,activateZoomTool:!0,activateQueryTool:!0,activateDownloadTool:!0,activateSettingsTool:!0,activateAddLayer:!0,activateAddGroup:!0,includeDeleteButtonInSettings:!1,activateMetedataTool:!0,activateLayerFilterTool:!0,activateLayerInfoTool:!0,activateSwipeOnLayer:!1},options:{modalOptions:{},metadataOptions:{},settingsOptions:{}},style:{chartStyle:{}},settings:{},layerMetadata:{},wfsdownload:{},metadataTemplate:null}),e.exports=P},"./MapStore2/web/client/components/TOC/css/toc.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/css/toc.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/TOC/enhancers/dndTree.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/react/index.js"),c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.branch,d=c.withState,f=r("./MapStore2/node_modules/lodash/isArray.js"),m=r("./MapStore2/node_modules/lodash/flatten.js"),y=function e(t,r,n){var o=t.findIndex((function(e){return e.id===r}));if(-1!==o){var i=t.slice();return n?i[o]=a(a({},i[o]),n):i.splice(o,1),i}return t.map((function(t){return a(a({},t),{},{nodes:t.nodes&&e(t.nodes,r,n)})}))},b=p((function(e){var t=e.nodes;return f(t)}),u(d("dndState","setDndState",{node:null,parentNodeId:"",newParentNodeId:"",sortIndex:0,illegalDrop:null}),(function(e){return function(t){var r=t.dndState,i=t.nodes,s=o(t,["dndState","nodes"]),c=r.node,u=r.parentNodeId,p=r.newParentNodeId,d=r.illegalDrop,f=function e(t,r){var n=r.node,o=r.sortIndex,i=r.parentNodeId,s=r.newParentNodeId,l=r.illegalDrop;return t&&n?t.map((function(t){if(t.nodes&&t.id===s){var c=s===i?y(t.nodes,n.id,null):t.nodes.slice();return c.splice(o,0,a(a({},n),s===i?{}:{id:n.id+"__placeholder",placeholder:!0,hide:!!l})),a(a({},t),{},{nodes:c})}return a(a({},t),{},{nodes:e(t.nodes,r)})})):t}([{id:"root",nodes:i}],r)[0],b=function e(t,r){var n=r.node,o=r.newParentNodeId,i=r.parentNodeId;return a(a({},t),{},{nodes:m(t.nodes.map((function(a,s){return!a.nodes||a.placeholder||a.hide||n&&a.id===n.id?[a]:[e(a,r)].concat(t.nodes[s+1]&&(t.nodes[s+1].placeholder||n&&t.id===o&&o===i&&t.nodes[s+1].id===n.id)?[]:[{id:a.id+"__dummy",dummy:!0}])})))})}({id:"root",nodes:p!==u||d?y(f.nodes,c.id,{hide:!0}):f.nodes},r);return l.createElement(e,n({},s,{nodes:b.nodes}))}})));e.exports=b},"./MapStore2/web/client/components/TOC/enhancers/draggableComponent.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react-dom/index.js"),a=r("./node_modules/react-dnd/lib/index.js"),s=a.DragSource,l=a.DropTarget,c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.branch,d={beginDrag:function(e){return e.setDndState&&e.setDndState({node:e.node,parentNodeId:e.parentNodeId,newParentNodeId:e.parentNodeId,sortIndex:e.sortIndex}),{node:e.node,parentNodeId:e.parentNodeId,newParentNodeId:e.parentNodeId,sortIndex:e.sortIndex}},endDrag:function(e,t){var r=t.getItem(),i=r.sortIndex,a=r.newParentNodeId,s=r.illegalDrop;e.setDndState&&e.setDndState({node:null,illegalDrop:null}),s?e.onError&&e.onError(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:"notification.warning",autoDismiss:5,position:"tc"},s)):e.onSort&&e.onSort(e.node.id,a,i)}},f=function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggedItem:t.getItem()}},m={hover:function(e,t,r){var n=t.getItem(),o=n.sortIndex,a=e.sortIndex;if(t.isOver({shallow:!0})){var s=i.findDOMNode(r),l=s.getElementsByClassName("toc-default-group-head")[0],c=l||s;if(c){var u=c.getBoundingClientRect(),p=t.getClientOffset().y-u.top;if(l){var d=(u.bottom-u.top)/3;if(e.isDragging||e.node&&e.node.placeholder)return;if(n.newParentNodeId===e.parentNodeId&&o<a&&p<d)return;if(n.newParentNodeId===e.parentNodeId&&o>a&&p>2*d)return;p<d?(n.sortIndex=e.sortIndex,n.newParentNodeId=e.parentNodeId,"Default"===e.node.name&&(n.illegalDrop={message:"toc.error.defaultGroupOnTop",values:{groupTitle:e.node.title}})):(n.sortIndex=0,n.newParentNodeId=e.node.id,n.illegalDrop=null)}else{var f=(u.bottom-u.top)/2;if(o===a&&n.newParentNodeId===e.parentNodeId)return;if(n.newParentNodeId===e.parentNodeId&&o<a&&p<f)return;if(n.newParentNodeId===e.parentNodeId&&o>a&&p>f)return;n.sortIndex=e.sortIndex,n.newParentNodeId=e.parentNodeId,n.illegalDrop=null}e.setDndState&&e.setDndState(n)}}}},y=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0})}};e.exports=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return p((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDraggable;return t}),u(s(e,d,f),l(e,m,y)),u(l(e,m,y))).apply(void 0,r)}},"./MapStore2/web/client/components/TOC/enhancers/tocItemsSettings.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/lodash/lodash.js"),s=a.isNil,l=a.isEqual,c=a.isArray,u=a.isFunction,p=r("./node_modules/recompose/es/Recompose.js"),d=p.withState,f=p.withHandlers,m=p.compose,y=p.lifecycle,b=m(d("alertModal","onShowAlertModal",!1),d("showEditor","onShowEditor",!1)),g=m(f({onClose:function(e){var t=e.onUpdateInitialSettings,r=void 0===t?function(){}:t,n=e.onUpdateOriginalSettings,a=void 0===n?function(){}:n,s=e.onUpdateNode,p=void 0===s?function(){}:s,d=e.originalSettings,f=e.settings,m=e.onHideSettings,y=void 0===m?function(){}:m,b=e.onShowAlertModal,g=void 0===b?function(){}:b;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(f.options).reduce((function(e,t){return o(o({},e),{},i({},t,"opacity"!==t||d[t]?d[t]:1))}),{});l(n,f.options)||e?(c(t)&&t.forEach((function(e){u(e)&&e()})),p(f.node,f.nodeType,o(o({},f.options),d)),y(),g(!1),a({}),r({})):g(!0)}},onSave:function(e){var t=e.onUpdateInitialSettings,r=void 0===t?function(){}:t,n=e.onUpdateOriginalSettings,o=void 0===n?function(){}:n,i=e.onHideSettings,a=void 0===i?function(){}:i,s=e.onShowAlertModal,l=void 0===s?function(){}:s;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];c(e)&&e.forEach((function(e){u(e)&&e()})),a(),l(!1),o({}),r({})}}}),y({componentWillMount:function(){var e=this.props,t=e.element,r=void 0===t?{}:t,n=e.onUpdateOriginalSettings,i=void 0===n?function(){}:n,a=e.onUpdateInitialSettings,s=void 0===a?function(){}:a;i({}),s(o({},r))},componentWillReceiveProps:function(e){var t=this.props,r=t.settings,n=void 0===r?{}:r,o=t.onRetrieveLayerData,i=void 0===o?function(){}:o;!n.expanded&&e.settings&&e.settings.expanded&&s(e.element.description)&&"wms"===e.element.type&&i(e.element)},componentWillUpdate:function(e){var t=this.props,r=t.initialActiveTab,n=void 0===r?"general":r,i=t.settings,a=void 0===i?{}:i,s=t.onUpdateOriginalSettings,l=void 0===s?function(){}:s,c=t.onUpdateInitialSettings,u=void 0===c?function(){}:c,p=t.onSetTab,d=void 0===p?function(){}:p;!a.expanded&&e.settings&&e.settings.expanded&&(l({}),u(o({},e.element)),d(n))}}));e.exports={settingsState:b,settingsLifecycle:g,updateSettingsLifecycle:m(b,g)}},"./MapStore2/web/client/components/TOC/fragments/GroupChildren.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js");r("./MapStore2/web/client/components/TOC/fragments/css/groupchildren.css");var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=[];if(this.props.children){var r=(this.props.node.nodes||[]).filter((function(t){return e.props.filter(t,e.props.node)})),n=0;t=r.map((function(t){return d.cloneElement(e.props.children,{node:t,parentNodeId:e.props.node?e.props.node.id:"",key:t.id,sortIndex:t.hide||t.dummy?n:n++,onSort:e.props.onSort,onError:e.props.onError,level:e.props.level,isDraggable:!!e.props.onSort,setDndState:e.props.setDndState})}))}return this.props.onSort,d.createElement("div",{className:"toc-group-children"},t)}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(f,"propTypes",{node:p.object,filter:p.func,onSort:p.func,onError:p.func,setDndState:p.func,level:p.number}),u(f,"inheritedPropTypes",["node","filter","onSort"]),u(f,"defaultProps",{node:null,filter:function(){return!0},onSort:null,level:1}),e.exports=f},"./MapStore2/web/client/components/TOC/fragments/GroupTitle.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./MapStore2/web/client/components/TOC/fragments/StatusIcon.jsx"),m=r("./node_modules/react-bootstrap/es/index.js").Tooltip,y=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),b=r("./MapStore2/web/client/utils/TOCUtils.js").getTitleAndTooltip,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=void 0===this.props.node.expanded||this.props.node.expanded,r=b(this.props),n=r.title,o=r.tooltipText;return this.props.tooltip&&o?p.createElement(y,{placement:this.props.node.tooltipPlacement||"top",overlay:p.createElement(m,{id:"tooltip-layer-group"},o)},p.createElement("div",{style:this.props.style},p.createElement("span",{className:"toc-group-title",onClick:this.props.onSelect?function(t){return e.props.onSelect(e.props.node.id,"group",t.ctrlKey)}:function(){}},n),p.createElement(f,{onClick:function(){return e.props.onClick(e.props.node.id,t)},expanded:t,node:this.props.node}))):p.createElement("div",{style:this.props.style},p.createElement("span",{className:"toc-group-title",onClick:this.props.onSelect?function(t){return e.props.onSelect(e.props.node.id,"group",t.ctrlKey)}:function(){}},n),p.createElement(f,{onClick:function(){return e.props.onClick(e.props.node.id,t)},expanded:t,node:this.props.node}))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(g,"propTypes",{node:d.object,onClick:d.func,onSelect:d.func,style:d.object,currentLocale:d.string,tooltip:d.bool,tooltipOptions:d.object}),u(g,"inheritedPropTypes",["node"]),u(g,"defaultProps",{onClick:function(){},onSelect:null,currentLocale:"en-US",style:{},tooltip:!1,tooltipOptions:{maxLength:807,separator:" - "}}),e.exports=g},"./MapStore2/web/client/components/TOC/fragments/LayerMetadataModal.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").Glyphicon;r("./MapStore2/web/client/components/TOC/fragments/css/settingsModal.css");var y=r("./MapStore2/web/client/components/misc/Dialog.jsx"),b=r("./MapStore2/web/client/components/misc/Portal.jsx"),g=r("./MapStore2/web/client/components/data/template/jsx/Template.jsx"),h=r("./MapStore2/web/client/components/TOC/fragments/template/MetadataTemplate.jsx"),v=r("./MapStore2/web/client/components/TOC/fragments/template/index.js"),S=r("./MapStore2/node_modules/lodash/lodash.js"),w=S.isArray,O=S.isString,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onDelete",(function(){e.props.hideLayerMetadata()})),p(c(e),"onClose",(function(){e.props.hideLayerMetadata()})),p(c(e),"getTemplate",(function(){var t=e.props.metadataTemplate||h;if(w(t)||O(t)){var r=w(t)?t.join("\n"):t;return d.createElement(g,{model:e.props.layerMetadata.metadataRecord,template:r,renderContent:v})}var n=t;return d.createElement(n,{model:e.props.layerMetadata.metadataRecord})})),p(c(e),"renderBodyTemplate",(function(){return e.props.layerMetadata.maskLoading?null:e.getTemplate()})),e}return t=u,(r=[{key:"render",value:function(){var e=d.createElement("span",{role:"footer"});return this.props.layerMetadata.expanded?d.createElement(b,null,d.createElement(y,{maskLoading:this.props.layerMetadata.maskLoading,id:this.props.id,style:this.props.panelStyle,className:this.props.panelClassName},d.createElement("span",{role:"header"},d.createElement("span",{className:"layer-settings-metadata-panel-title"},this.props.layerMetadataPanelTitle),d.createElement("button",{onClick:this.onClose,className:"layer-settings-metadata-panel-close close"},this.props.closeGlyph?d.createElement(m,{glyph:this.props.closeGlyph}):d.createElement("span",null,""))),d.createElement("div",{role:"body",style:{minWidth:"500px"}},this.renderBodyTemplate()),e)):null}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(j,"propTypes",{id:f.string,layerMetadata:f.object,metadataTemplate:f.oneOfType([f.string,f.array,f.object,f.func]),hideLayerMetadata:f.func,closeGlyph:f.string,panelStyle:f.object,panelClassName:f.string,maskLoading:f.bool,layerMetadataPanelTitle:f.oneOfType([f.string,f.object])}),p(j,"defaultProps",{id:"mapstore-layer-settings-metadata",layerMetadata:{expanded:!1},metadataTemplate:null,closeGlyph:"1-close",panelStyle:{},panelClassName:"toolbar-panel portal-dialog",maskLoading:!0,layerMetadataPanelTitle:""}),e.exports=j},"./MapStore2/web/client/components/TOC/fragments/LayersTool.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.Glyphicon,y=f.Tooltip,b=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),g=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=this.props.className?" "+this.props.className:"",r=d.createElement(m,{className:"toc-layer-tool"+t,style:this.props.style,glyph:this.props.glyph,onClick:function(){return e.props.onClick(e.props.node)}});return this.props.tooltip?d.createElement(b,{placement:"bottom",overlay:d.createElement(y,{id:"Tooltip-"+this.props.tooltip},d.createElement("strong",null,d.createElement(g,{msgId:this.props.tooltip})))},r):r}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(h,"propTypes",{node:p.object,onClick:p.func,style:p.object,glyph:p.string,tooltip:p.string,className:p.string}),u(h,"defaultProps",{onClick:function(){}}),e.exports=h},"./MapStore2/web/client/components/TOC/fragments/OpacitySlider.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./MapStore2/web/client/components/misc/Slider.jsx"),m=r("./MapStore2/node_modules/lodash/lodash.js"),y=m.isNil,b=m.isArray,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return p.createElement("div",{className:"mapstore-slider ".concat(this.props.hideTooltip?"":"with-tooltip"),onClick:function(e){e.stopPropagation()}},this.props.hideTooltip&&p.createElement(f,{disabled:this.props.disabled,start:[y(this.props.opacity)?100:Math.round(100*this.props.opacity)],range:{min:0,max:100},onChange:function(t){b(t)&&t[0]&&e.props.onChange(parseFloat(t[0].replace(" %","")/100))}})||p.createElement(f,{disabled:this.props.disabled,start:[y(this.props.opacity)?100:Math.round(100*this.props.opacity)],tooltips:[!0],format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" %"}},range:{min:0,max:100},onChange:function(t){return e.props.onChange(parseFloat(t[0].replace(" %",""))/100)}}))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(g,"propTypes",{opacity:d.number,disabled:d.bool,hideTooltip:d.bool,onChange:d.func}),u(g,"defaultProps",{opacity:1,onChange:function(){},visibility:!0}),e.exports=g},"./MapStore2/web/client/components/TOC/fragments/StatusIcon.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.Glyphicon,y=f.Tooltip,b=r("./MapStore2/web/client/components/I18N/Message.jsx"),g=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=void 0===this.props.node.expanded||this.props.node.expanded;return p.createElement(g,{placement:"bottom",overlay:p.createElement(y,{id:"toc-status-icon"},p.createElement(b,{msgId:e?"toc.statusIconOpen":"toc.statusIconClose"}))},p.createElement(m,{onClick:this.props.onClick,className:"toc-status-icon",glyph:e?"folder-open":"folder-close"}))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(h,"propTypes",{node:d.object,onClick:d.func}),u(h,"inheritedPropTypes",["node","expanded"]),u(h,"defaultProps",{node:null,onClick:function(){}}),e.exports=h},"./MapStore2/web/client/components/TOC/fragments/Title.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./node_modules/react-bootstrap/es/index.js").Tooltip,g=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),h=r("./MapStore2/web/client/utils/TOCUtils.js").getTitleAndTooltip;r("./MapStore2/web/client/components/TOC/fragments/css/toctitle.css");var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,i=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=i.call.apply(i,[this].concat(r))),"getFilteredTitle",(function(t){var r=t.toLowerCase().split(e.props.filterText.toLowerCase());return e.props.filterText?r.reduce((function(t,n,i){return i===r.length-1?[].concat(o(t),[n]):[].concat(o(t),[n,y.createElement("strong",{key:i},e.props.filterText.toLowerCase())])}),[]):t})),f(p(e),"renderTitle",(function(){var t=h(e.props).title;return y.createElement("div",{className:"toc-title",onClick:e.props.onClick?function(t){return e.props.onClick(e.props.node.id,"layer",t.ctrlKey)}:function(){},onContextMenu:function(t){t.preventDefault(),e.props.onContextMenu(e.props.node)}},e.getFilteredTitle(t))})),e}return t=u,(r=[{key:"render",value:function(){var e=h(this.props).tooltipText;return this.props.tooltip&&e?y.createElement(g,{placement:this.props.node.tooltipPlacement||"top",overlay:y.createElement(b,{id:"tooltip-layer-title"},e)},this.renderTitle()):this.renderTitle()}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);f(v,"propTypes",{node:m.object,onClick:m.func,onContextMenu:m.func,currentLocale:m.string,filterText:m.string,tooltip:m.bool,tooltipOptions:m.object}),f(v,"defaultProps",{onClick:function(){},onContextMenu:function(){},currentLocale:"en-US",filterText:"",tooltip:!1,tooltipOptions:{maxLength:807,separator:" - "}}),e.exports=v},"./MapStore2/web/client/components/TOC/fragments/ToggleFilter.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-bootstrap/es/index.js"),g=b.Glyphicon,h=b.Tooltip,v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"onClick",(function(){var t=(e.props.node||{}).layerFilter;e.props.propertiesChangeHandler(e.props.node.id,{layerFilter:i(i({},t),{},{disabled:!t.disabled})})})),e}return t=u,(r=[{key:"render",value:function(){var e=(this.props.node||{}).layerFilter,t=(e||{}).disabled;return!!e&&m.createElement(S,{placement:"bottom",overlay:m.createElement(h,{id:"toc-filter-icon"},m.createElement(v,{msgId:t?"toc.filterIconDisabled":"toc.filterIconEnabled"}))},m.createElement(g,{onClick:this.onClick,className:"toc-filter-icon ".concat(t?"disabled":""),glyph:"filter-layer"}))}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);f(w,"propTypes",{node:y.object,propertiesChangeHandler:y.func}),f(w,"inheritedPropTypes",["node"]),f(w,"defaultProps",{node:null,propertiesChangeHandler:function(){}}),e.exports=w},"./MapStore2/web/client/components/TOC/fragments/VisibilityCheck.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").isFunction,y=r("./MapStore2/web/client/components/TOC/fragments/LayersTool.jsx"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"changeVisibility",(function(){e.props.propertiesChangeHandler(e.props.node.id,{visibility:!e.props.node.visibility})})),e}return t=u,(r=[{key:"render",value:function(){return"glyph"===this.props.checkType?d.createElement(y,{tooltip:this.props.tooltip,style:this.props.style,className:"visibility-check"+(this.props.node.visibility?" checked":""),"data-position":this.props.node.storeIndex,glyph:this.props.node.visibility?this.props.glyphChecked:this.props.glyphUnchecked,onClick:this.changeVisibility}):d.createElement("input",{className:"visibility-check",style:this.props.style,"data-position":this.props.node.storeIndex,type:m(this.props.checkType)?this.props.checkType(this.props.node):this.props.checkType,checked:this.props.node.visibility?"checked":"",onChange:this.changeVisibility})}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(b,"propTypes",{node:f.object,tooltip:f.string,propertiesChangeHandler:f.func,style:f.object,checkType:f.oneOfType([f.string,f.func]),glyphChecked:f.string,glyphUnchecked:f.string}),p(b,"defaultProps",{style:{},checkType:"glyph",glyphChecked:"eye-open",tooltip:"toc.toggleLayerVisibility",glyphUnchecked:"eye-close"}),e.exports=b},"./MapStore2/web/client/components/TOC/fragments/WMSLegend.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js"),y=m.isEmpty,b=m.isNumber,g=r("./MapStore2/web/client/components/TOC/fragments/legend/Legend.jsx"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),p(c(t=l.call(this,e)),"state",{containerWidth:0,legendContainerStyle:{overflowX:"auto"}}),p(c(t),"canShow",(function(e){return e.visibility||!t.props.showOnlyIfVisible})),p(c(t),"useLegendOptions",(function(){return!y(t.props.node.legendOptions)&&b(t.props.node.legendOptions.legendHeight)&&b(t.props.node.legendOptions.legendWidth)})),p(c(t),"setOverflow",(function(){return t.useLegendOptions()&&t.props.node.legendOptions.legendWidth>t.state.containerWidth})),t.containerRef=d.createRef(),t}return t=u,(r=[{key:"componentDidMount",value:function(){var e=this.containerRef.current&&this.containerRef.current.clientWidth;this.setState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({containerWidth:e},this.state))}},{key:"render",value:function(){var e=this.props.node||{},t=this.canShow(e)&&"wms"===e.type&&"background"!==e.group,r=t&&this.useLegendOptions();return t?d.createElement("div",{style:this.setOverflow()?this.state.legendContainerStyle:this.props.legendContainerStyle,ref:this.containerRef},d.createElement(g,{style:this.setOverflow()?{}:this.props.legendStyle,layer:e,currentZoomLvl:this.props.currentZoomLvl,scales:this.props.scales,legendHeight:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendHeight||this.props.legendHeight||void 0,legendWidth:r&&this.props.node.legendOptions&&this.props.node.legendOptions.legendWidth||this.props.legendWidth||void 0,legendOptions:this.props.WMSLegendOptions,scaleDependent:this.props.scaleDependent,language:this.props.language})):null}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(h,"propTypes",{node:f.object,legendContainerStyle:f.object,legendStyle:f.object,showOnlyIfVisible:f.bool,currentZoomLvl:f.number,scales:f.array,WMSLegendOptions:f.string,scaleDependent:f.bool,language:f.string,legendWidth:f.number,legendHeight:f.number}),p(h,"defaultProps",{legendContainerStyle:{},showOnlyIfVisible:!1,scaleDependent:!0}),e.exports=h},"./MapStore2/web/client/components/TOC/fragments/css/groupchildren.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/fragments/css/groupchildren.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/TOC/fragments/css/settingsModal.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/fragments/css/settingsModal.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/TOC/fragments/css/toctitle.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/fragments/css/toctitle.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/TOC/fragments/legend/Legend.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/url/url.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./MapStore2/node_modules/lodash/lodash.js").isArray,b=r("./MapStore2/web/client/components/I18N/Message.jsx"),g=r("./MapStore2/web/client/utils/SecurityUtils.js"),h=r("./node_modules/object-assign/index.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{error:!1}),p(c(e),"onImgError",(function(){e.setState((function(){return{error:!0}}))})),p(c(e),"getUrl",(function(e,t){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var r=e.layer,n=t||y(r.url)&&Math.floor(Math.random()*r.url.length),o=y(r.url)?r.url[n]:r.url.replace(/[?].*$/g,""),i=d.parse(o),a=g.clearNilValuesForParams(r.params),s=h({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:r.name,style:r.style||null,version:r.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},r.legendParams||{},e.language&&r.localizedLayerStyles?{LANGUAGE:e.language}:{},g.addAuthenticationToSLD(a||{},e.layer),a&&a.SLD_BODY?{SLD_BODY:a.SLD_BODY}:{},e.scales&&e.currentZoomLvl&&e.scaleDependent?{SCALE:Math.round(e.scales[e.currentZoomLvl])}:{});return g.addAuthenticationParameter(o,s),d.format({host:i.host,protocol:i.protocol,pathname:i.pathname,query:s})}return""})),p(c(e),"validateImg",(function(t){t.height<=1&&t.width<=2&&e.onImgError()})),e}return t=u,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?m.createElement("img",{onError:this.onImgError,onLoad:function(t){return e.validateImg(t.target)},src:this.getUrl(this.props),style:this.props.style}):m.createElement(b,{msgId:"layerProperties.legenderror"})}}])&&i(t.prototype,r),n&&i(t,n),u}(m.Component);p(v,"propTypes",{layer:f.object,legendHeight:f.number,legendWidth:f.number,legendOptions:f.string,style:f.object,currentZoomLvl:f.number,scales:f.array,scaleDependent:f.bool,language:f.string}),p(v,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0}),e.exports=v},"./MapStore2/web/client/components/TOC/fragments/settings/Display.jsx":function(e,t,r){var n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./node_modules/react/index.js"),b=r("./node_modules/prop-types/index.js"),g=r("./node_modules/react-widgets/lib/index.js").DropdownList,h=r("./MapStore2/web/client/components/I18N/Message.jsx"),v=r("./node_modules/react-bootstrap/es/index.js"),S=v.Grid,w=v.Row,O=v.Col,j=v.FormGroup,E=v.ControlLabel,x=v.Checkbox,P=r("./MapStore2/node_modules/lodash/lodash.js"),T=P.clamp,M=P.isNil,A=P.isNumber,C=r("./MapStore2/web/client/components/TOC/fragments/legend/Legend.jsx"),_=r("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),I=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx");r("./node_modules/react-widgets/lib/less/react-widgets.less"),e.exports=(o=n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,e);var t,r,n,o=u(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),m(d(t=o.call(this,e)),"state",{opacity:100,legendOptions:{legendWidth:12,legendHeight:12},containerStyle:{overflowX:"auto"},containerWidth:0}),m(d(t),"updateState",(function(e){e.settings&&e.settings.options&&t.setState(s(s({},t.state),{},{opacity:M(e.settings.options.opacity)?t.state.opacity:Math.round(100*e.settings.options.opacity),legendOptions:s(s({},t.state.legendOptions),{},{legendHeight:e.element.legendOptions&&!M(e.element.legendOptions.legendHeight)?e.element.legendOptions.legendHeight:t.state.legendOptions.legendHeight,legendWidth:e.element.legendOptions&&!M(e.element.legendOptions.legendWidth)?e.element.legendOptions.legendWidth:t.state.legendOptions.legendWidth}),containerWidth:t.containerRef.current&&t.containerRef.current.clientWidth}))})),m(d(t),"onChange",(function(e,r){if("opacity"===e){var n=r&&T(Math.round(r),0,100);t.setState(s({opacity:n},t.state)),t.props.onChange("opacity",n&&n/100||0)}else{var o=r&&T(Math.round(r),0,1e3);t.setState(s(s({},t.state),{},{legendOptions:s(s({},t.state.legendOptions),{},m({},e,o))})),t.props.onChange({legendOptions:s(s({},t.state.legendOptions),{},m({},e,o))})}})),m(d(t),"onBlur",(function(e){var r=e.target.value&&Math.round(e.target.value),n=e.target.name;t.props.onChange({legendOptions:s(s({},t.state.legendOptions),{},m({},n,r>=12?r:""))})})),m(d(t),"getValidationState",(function(e){return t.state.legendOptions&&t.state.legendOptions[e]?parseInt(t.state.legendOptions[e],10)<12&&"error":null})),m(d(t),"setOverFlow",(function(){return t.state.legendOptions.legendWidth>t.state.containerWidth})),m(d(t),"useLegendOptions",(function(){return"error"!==t.getValidationState("legendWidth")&&"error"!==t.getValidationState("legendHeight")&&A(t.state.legendOptions.legendHeight)&&A(t.state.legendOptions.legendWidth)})),t.containerRef=y.createRef(),t}return t=i,(r=[{key:"componentDidMount",value:function(){this.updateState(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props!==e&&this.updateState(e)}},{key:"render",value:function(){var e=this;return y.createElement(S,{fluid:!0,className:"fluid-container "+(!this.props.containerWidth&&"adjust-display")},"wms"===this.props.element.type&&y.createElement(w,null,y.createElement(O,{xs:12},y.createElement(j,null,y.createElement(E,null,y.createElement(h,{msgId:"layerProperties.format"})),y.createElement(g,{key:"format-dropdown",data:this.props.formats||["image/png","image/png8","image/jpeg","image/vnd.jpeg-png","image/gif"],value:this.props.element&&this.props.element.format||"image/png",onChange:function(t){e.props.onChange("format",t)}}))),y.createElement(O,{xs:12},y.createElement(j,null,y.createElement(E,null,y.createElement(h,{msgId:"WMS Layer tile size"})),y.createElement(g,{key:"wsm-layersize-dropdown",data:[256,512],value:this.props.element&&this.props.element.tileSize||256,onChange:function(t){e.props.onChange("tileSize",t)}})))),y.createElement(w,null,y.createElement(O,{xs:12},y.createElement(j,null,y.createElement(E,null,this.props.opacityText," %"),y.createElement(_,{type:"number",min:0,max:100,name:"opacity",value:this.state.opacity,onChange:function(t){return e.onChange("opacity",t)}})))),"wms"===this.props.element.type&&y.createElement(w,null,y.createElement(O,{xs:12},y.createElement("hr",null),y.createElement(j,null,y.createElement(x,{key:"transparent",checked:this.props.element&&(void 0===this.props.element.transparent||this.props.element.transparent),onChange:function(t){e.props.onChange("transparent",t.target.checked)}},y.createElement(h,{msgId:"layerProperties.transparent"})),y.createElement(x,{value:"tiled",key:"tiled",disabled:!!this.props.element.singleTile,onChange:function(t){return e.props.onChange("tiled",t.target.checked)},checked:!this.props.element||void 0===this.props.element.tiled||this.props.element.tiled},y.createElement(h,{msgId:"layerProperties.cached"})),y.createElement(x,{key:"singleTile",value:"singleTile",checked:this.props.element&&void 0!==this.props.element.singleTile&&this.props.element.singleTile,onChange:function(t){return e.props.onChange("singleTile",t.target.checked)}},y.createElement(h,{msgId:"layerProperties.singleTile"})),this.props.isLocalizedLayerStylesEnabled&&y.createElement(x,{key:"localizedLayerStyles",value:"localizedLayerStyles","data-qa":"display-lacalized-layer-styles-option",checked:this.props.element&&void 0!==this.props.element.localizedLayerStyles&&this.props.element.localizedLayerStyles,onChange:function(t){return e.props.onChange("localizedLayerStyles",t.target.checked)}},y.createElement(h,{msgId:"layerProperties.enableLocalizedLayerStyles.label"}),"",y.createElement(I,{text:y.createElement(h,{msgId:"layerProperties.enableLocalizedLayerStyles.tooltip"})})))),y.createElement("div",{className:"legend-options"},y.createElement(O,{xs:12,className:"legend-label"},y.createElement("label",{key:"legend-options-title",className:"control-label"},y.createElement(h,{msgId:"layerProperties.legendOptions.title"}))),y.createElement(O,{xs:12,sm:6,className:"first-selectize"},y.createElement(j,{validationState:this.getValidationState("legendWidth")},y.createElement(E,null,y.createElement(h,{msgId:"layerProperties.legendOptions.legendWidth"})),y.createElement(_,{value:this.state.legendOptions.legendWidth,name:"legendWidth",type:"number",min:12,max:1e3,onChange:function(t){return e.onChange("legendWidth",t)},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:this.onBlur}))),y.createElement(O,{xs:12,sm:6,className:"second-selectize"},y.createElement(j,{validationState:this.getValidationState("legendHeight")},y.createElement(E,null,y.createElement(h,{msgId:"layerProperties.legendOptions.legendHeight"})),y.createElement(_,{value:this.state.legendOptions.legendHeight,name:"legendHeight",type:"number",min:12,max:1e3,onChange:function(t){return e.onChange("legendHeight",t)},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:this.onBlur}))),y.createElement(O,{xs:12,className:"legend-preview"},y.createElement(E,null,y.createElement(h,{msgId:"layerProperties.legendOptions.legendPreview"})),y.createElement("div",{style:this.setOverFlow()&&this.state.containerStyle||{},ref:this.containerRef},y.createElement(C,{style:this.setOverFlow()&&{}||void 0,layer:this.props.element,legendHeight:this.useLegendOptions()&&this.state.legendOptions.legendHeight||void 0,legendWidth:this.useLegendOptions()&&this.state.legendOptions.legendWidth||void 0,language:this.props.isLocalizedLayerStylesEnabled?this.props.currentLocaleLanguage:void 0}))))))}}])&&l(t.prototype,r),n&&l(t,n),i}(y.Component),m(n,"propTypes",{opacityText:b.node,element:b.object,formats:b.array,settings:b.object,onChange:b.func,isLocalizedLayerStylesEnabled:b.bool}),m(n,"defaultProps",{onChange:function(){},opacityText:y.createElement(h,{msgId:"opacity"})}),o)},"./MapStore2/web/client/components/TOC/fragments/settings/Elevation.jsx":function(e,t,r){var n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/react/index.js"),g=r("./node_modules/prop-types/index.js"),h=r("./node_modules/react-nouislider/dist/react-nouislider.common.js"),v=r("./MapStore2/web/client/components/TOC/fragments/settings/ElevationChart.jsx"),S=r("./node_modules/react-bootstrap/es/index.js").Grid,w=r("./MapStore2/web/client/components/I18N/Message.jsx"),O=r("./MapStore2/web/client/utils/LayersUtils.js");r("./node_modules/react-widgets/lib/less/react-widgets.less"),r("./MapStore2/web/client/components/TOC/fragments/settings/css/elevation.css"),e.exports=(o=n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,r,n,o=p(i);function i(){var e;l(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=o.call.apply(o,[this].concat(r))),"renderElevationsChart",(function(t){return e.props.showElevationChart?b.createElement(v,{elevations:t,chartStyle:s({height:200,width:e.props.containerWidth-30},e.props.chartStyle)}):null})),y(f(e),"renderElevationsSlider",(function(t){var r=t.values,n=r.length-1,o=n-0,i=parseFloat(r[0]),a=parseFloat(r[r.length-1]),s=e.props.element&&e.props.element.params&&e.props.element.params[t.name]||r[0];return b.createElement("div",{id:"mapstore-elevation"},b.createElement(h,{snap:!0,start:[parseFloat(s)]||!1,range:e.calculateRange(r,0,n,o,i,a),behaviour:"tap",pips:{mode:"range",stepped:!0,density:10,format:{to:function(e){return parseFloat(e).toFixed(1)}}},tooltips:!e.props.showElevationChart,onChange:function(r){e.props.onChange("params",Object.assign({},y({},t.name,r[0])))}}))})),y(f(e),"calculateRange",(function(e,t,r,n,o,i){var a=[],s="",l={min:o,max:i};return e.forEach((function(e,r){a[r]=(r-t)/n*100,s=a[r]+"%",l[s]=parseFloat(e)})),l})),e}return t=i,(r=[{key:"shouldComponentUpdate",value:function(e){return this.props.element.id!==e.element.id}},{key:"render",value:function(){var e=this.props.getDimension(this.props.element.dimensions,"elevation");return b.createElement(S,{fluid:!0,style:{paddingTop:15,paddingBottom:15}},b.createElement("label",{id:"mapstore-elevation-label",key:"elevation-label",className:"control-label",style:this.props.showElevationChart?{marginBottom:"10px"}:{marginBottom:"90px"}},this.props.elevationText,": (",e.units,")"),this.renderElevationsChart(e),b.createElement("div",null,b.createElement("div",{key:"elevation"},this.renderElevationsSlider(e))))}}])&&c(t.prototype,r),n&&c(t,n),i}(b.Component),y(n,"propTypes",{elevationText:g.node,element:g.object,getDimension:g.func,onChange:g.func,chartStyle:g.object,showElevationChart:g.bool,containerWidth:g.number}),y(n,"defaultProps",{onChange:function(){},showElevationChart:!0,containerWidth:500,elevationText:b.createElement(w,{msgId:"elevation"}),getDimension:O.getDimension}),o)},"./MapStore2/web/client/components/TOC/fragments/settings/ElevationChart.jsx":function(e,t,r){var n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./node_modules/recharts/es6/index.js"),g=b.LineChart,h=b.Line,v=b.XAxis,S=b.YAxis,w=b.CartesianGrid,O=b.Tooltip,j=r("./MapStore2/web/client/components/TOC/fragments/settings/ElevationChartTooltip.jsx");e.exports=(o=n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,r,n,o=c(i);function i(){var e;a(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"renderLineChart",(function(){return y.createElement(g,{margin:e.props.chartStyle.margin,width:e.props.chartStyle.width,height:e.props.chartStyle.height,data:e.formatData(e.props.elevations.values)},y.createElement(v,{hide:!0,dataKey:"name"}),y.createElement(S,{hide:!0}),y.createElement(O,{content:y.createElement(j,null)}),y.createElement(w,{strokeDasharray:"3 3",horizontal:!1}),y.createElement(h,{isAnimationActive:e.props.animated,type:"monotone",dataKey:"value",stroke:"#82ca9d",activeDot:{r:8}}))})),f(p(e),"formatData",(function(t){var r=[];return t.map((function(e){r.push({name:this.props.elevations.name,value:parseFloat(this.props.elevations.positive?e:-e)})}),p(e)),r})),e}return t=i,(r=[{key:"render",value:function(){return y.createElement("div",null,this.renderLineChart())}}])&&s(t.prototype,r),n&&s(t,n),i}(y.Component),f(n,"propTypes",{elevations:m.object,chartStyle:m.object,animated:m.bool}),f(n,"defaultProps",{elevations:{},chartStyle:{margin:{top:5,right:5,left:5,bottom:45},width:600,height:200},animated:!1}),o)},"./MapStore2/web/client/components/TOC/fragments/settings/ElevationChartTooltip.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,p,d,f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){if(this.props.active){var e=this.props.payload;return m.createElement("div",{className:"custom-tooltip"},m.createElement("p",{className:"label"},Math.abs(e[0].value)))}return null}}])&&i(t.prototype,r),n&&i(t,n),c}(m.Component);u=y,p="propTypes",d={type:f.string,payload:f.array,label:f.string,active:f.bool},p in u?Object.defineProperty(u,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[p]=d,e.exports=y},"./MapStore2/web/client/components/TOC/fragments/settings/FeatureInfo.jsx":function(e,t,r){var n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=r("./node_modules/react/index.js"),h=r("./node_modules/prop-types/index.js"),v=r("./MapStore2/web/client/components/misc/panels/Accordion.jsx"),S=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,w=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=(o=n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,r,n,o=d(i);function i(){var e;c(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(m(e=o.call.apply(o,[this].concat(r))),"getInfoFormat",(function(t){return Object.keys(t).map((function(t){var r=e.props.formatCards[t]&&e.props.formatCards[t].body;return{id:t,head:{preview:g.createElement(S,{glyph:e.props.formatCards[t]&&e.props.formatCards[t].glyph||"ext-empty"}),title:e.props.formatCards[t]&&e.props.formatCards[t].titleId&&g.createElement(w,{msgId:e.props.formatCards[t].titleId})||"",description:e.props.formatCards[t]&&e.props.formatCards[t].descId&&g.createElement(w,{msgId:e.props.formatCards[t].descId})||"",size:"sm"},body:r&&g.createElement(r,l({template:e.props.element.featureInfo&&e.props.element.featureInfo.template||""},e.props))||null}}))})),e}return t=i,(r=[{key:"render",value:function(){var e=this,t=this.getInfoFormat(this.props.defaultInfoFormat);return g.createElement("span",null,g.createElement(v,{fillContainer:!0,activePanel:this.props.element.featureInfo&&this.props.element.featureInfo.format,panels:t,onSelect:function(t){var r=e.props.element.featureInfo&&e.props.element.featureInfo.format&&t===e.props.element.featureInfo.format;e.props.onChange("featureInfo",s(s({},e.props.element&&e.props.element.featureInfo||{}),{},{format:r?"":t,viewer:e.props.element.featureInfo?e.props.element.featureInfo.viewer:void 0}))}}))}}])&&u(t.prototype,r),n&&u(t,n),i}(g.Component),b(n,"propTypes",{element:h.object,defaultInfoFormat:h.object,onChange:h.func,formatCards:h.object}),b(n,"defaultProps",{element:{},defaultInfoFormat:[],onChange:function(){},formatCards:{}}),o)},"./MapStore2/web/client/components/TOC/fragments/settings/FeatureInfoEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-quill/lib/index.js"),g=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),h=r("./MapStore2/web/client/components/misc/Portal.jsx"),v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=b.Quill,w=r("./MapStore2/web/client/components/misc/quillmodules/ResizeModule.js")(S),O=w.ResizeModule,j=w.IFrame,E=w.toolbarConfig;S.register({"formats/video":j,"modules/resizeModule":O});var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"state",{template:" "}),f(p(e),"close",(function(){e.props.onShowEditor(!e.props.showEditor),e.props.onChange("featureInfo",i(i({},e.props.element&&e.props.element.featureInfo||{}),{},{template:e.state.template}))})),e}return t=u,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.setState({template:this.props.element&&this.props.element.featureInfo&&this.props.element.featureInfo.template||" "})}},{key:"render",value:function(){var e=this,t=this.props,r=t.showEditor,n=t.enableIFrameModule,o=void 0===n||n;return m.createElement(h,null,m.createElement(g,{fade:!0,show:r,title:m.createElement(v,{msgId:"layerProperties.editCustomFormat"}),size:"lg",showFullscreen:!0,clickOutEnabled:!1,onClose:function(){return e.close()},buttons:[{bsStyle:"primary",text:m.createElement(v,{msgId:"close"}),onClick:function(){return e.close()}}]},m.createElement("div",{id:"ms-template-editor",className:"ms-editor"},m.createElement(b,{bounds:"#ms-template-editor",ref:function(t){t&&(e.quill=t)},modules:o?{resizeModule:{},toolbar:E}:{},defaultValue:this.state.template,onChange:function(t){return e.setState({template:t})}}))))}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);f(x,"propTypes",{showEditor:y.bool,element:y.object,onChange:y.func,onShowEditor:y.func,enableIFrameModule:y.bool}),f(x,"defaultProps",{showEditor:!1,element:{},enableIFrameModule:!1,onChange:function(){},onShowEditor:function(){}}),e.exports=x},"./MapStore2/web/client/components/TOC/fragments/settings/General.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-spinkit/dist/index.js"),g=r("./node_modules/react-bootstrap/es/index.js"),h=g.FormControl,v=g.FormGroup,S=g.ControlLabel,w=g.InputGroup,O=g.Col,j=r("./MapStore2/web/client/components/I18N/Message.jsx"),E=r("./node_modules/react-selectize/src/index.js").SimpleSelect,x=r("./MapStore2/node_modules/lodash/lodash.js"),P=x.isString,T=x.isObject,M=x.find,A=r("./MapStore2/web/client/utils/LocaleUtils.js"),C=r("./node_modules/object-assign/index.js");r("./node_modules/react-selectize/themes/index.css");var _=r("./node_modules/react-bootstrap/es/index.js").Grid,I=r("./MapStore2/web/client/utils/TOCUtils.js"),R=I.createFromSearch,L=I.flattenGroups,D=r("./MapStore2/web/client/utils/TOCUtils.js"),k=r("./MapStore2/web/client/components/TOC/fragments/settings/LayerNameEditField.jsx").default,N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,o,u=c(d);function d(){var e;a(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=u.call.apply(u,[this].concat(r))),"updateEntry",(function(t,r){return T(t)?e.props.onChange(t):e.props.onChange(t,r.target.value)})),f(p(e),"updateTranslation",(function(t,r){var n="default"===t&&P(e.props.element.title)?r.target.value:C({},T(e.props.element.title)?e.props.element.title:{default:e.props.element.title||""},f({},t,r.target.value));e.props.onChange("title",n)})),e}return t=d,(n=[{key:"render",value:function(){var e=this,t=A.getSupportedLocales(),n=T(this.props.element.title)?C({},this.props.element.title):{default:this.props.element.title},o=this.props.pluginCfg.hideTitleTranslations,a=void 0!==o&&o,s=[{value:"title",label:A.getMessageById(this.context.messages,"layerProperties.tooltip.title")},{value:"description",label:A.getMessageById(this.context.messages,"layerProperties.tooltip.description")},{value:"both",label:A.getMessageById(this.context.messages,"layerProperties.tooltip.both")},{value:"none",label:A.getMessageById(this.context.messages,"layerProperties.tooltip.none")}],l=[{value:"top",label:A.getMessageById(this.context.messages,"layerProperties.tooltip.top")},{value:"right",label:A.getMessageById(this.context.messages,"layerProperties.tooltip.right")},{value:"bottom",label:A.getMessageById(this.context.messages,"layerProperties.tooltip.bottom")}],c=this.props.groups&&L(this.props.groups);return m.createElement(_,{fluid:!0,style:{paddingTop:15,paddingBottom:15}},m.createElement("form",{ref:"settings"},m.createElement(v,null,m.createElement(S,null,m.createElement(j,{msgId:"layerProperties.title"})),m.createElement(h,{defaultValue:n.default||"",key:"title",type:"text",onBlur:this.updateTranslation.bind(null,"default")})),a||m.createElement(v,null,m.createElement(S,null,m.createElement(j,{msgId:"layerProperties.titleTranslations"})),Object.keys(t).map((function(o){var i;try{i=r("./MapStore2/web/client/components/I18N/images/flags sync recursive ^\\.\\/.*\\.png$")("./"+t[o].code+".png")}catch(e){i=!1}return i?m.createElement(w,{key:o},m.createElement(w.Addon,null,m.createElement("img",{src:i,alt:t[o].description})),m.createElement(h,{placeholder:t[o].description,defaultValue:n[t[o].code]||"",type:"text",onBlur:e.updateTranslation.bind(null,t[o].code)})):null}))),m.createElement(k,{element:this.props.element,enableLayerNameEditFeedback:this.props.enableLayerNameEditFeedback,onUpdateEntry:this.updateEntry.bind(null)}),m.createElement(v,null,m.createElement(S,null,m.createElement(j,{msgId:"layerProperties.description"})),this.props.element.capabilitiesLoading?m.createElement(b,{spinnerName:"circle"}):m.createElement(h,{defaultValue:this.props.element.description||"",key:"description",rows:"2",componentClass:"textarea",style:{resize:"vertical",minHeight:"33px"},onBlur:this.updateEntry.bind(null,"description")})),"layers"===this.props.nodeType?m.createElement("div",null,m.createElement("label",{key:"group-label",className:"control-label"},m.createElement(j,{msgId:"layerProperties.group"})),m.createElement(E,{key:"group-dropdown",options:(c||this.props.element&&this.props.element.group||[]).map((function(e){return T(e)?i(i({},e),{},{label:D.getLabelName(e.label,c)}):{label:D.getLabelName(e,c),value:e}})),defaultValue:{label:D.getLabelName(this.props.element&&this.props.element.group||"Default",c),value:this.props.element&&this.props.element.group||"Default"},placeholder:D.getLabelName(this.props.element&&this.props.element.group||"Default",c),onChange:function(t){e.updateEntry("group",{target:{value:t||"Default"}})},theme:"bootstrap3",createFromSearch:this.props.allowNew?R:void 0,hideResetButton:!this.props.allowNew,editable:this.props.allowNew,onValueChange:function(e){e&&e.newOption&&this.options.unshift({label:e.label,value:e.value}),this.onChange(e?e.value:null)}})):null,this.props.showTooltipOptions&&m.createElement("div",{style:{width:"100%"}},m.createElement(O,{xs:12,sm:8,className:"first-selectize"},m.createElement("br",null),m.createElement("label",{key:"tooltip-label",className:"control-label"},m.createElement(j,{msgId:"layerProperties.tooltip.label"})),m.createElement(E,{hideResetButton:!0,dropdownDirection:-1,key:"tooltips-dropdown",options:s,theme:"bootstrap3",value:M(s,(function(t){return t.value===(e.props.element.tooltipOptions||"title")})),onValueChange:function(t){e.updateEntry("tooltipOptions",{target:{value:t.value||"title"}})}})),m.createElement(O,{xs:12,sm:4,className:"second-selectize"},m.createElement("br",null),m.createElement("label",{key:"tooltip-placement-label",className:"control-label"},m.createElement(j,{msgId:"layerProperties.tooltip.labelPlacement"})),m.createElement(E,{hideResetButton:!0,dropdownDirection:-1,key:"tooltips-placement-dropdown",options:l,theme:"bootstrap3",value:M(l,(function(t){return t.value===(e.props.element.tooltipPlacement||"top")})),onValueChange:function(t){e.updateEntry("tooltipPlacement",{target:{value:t.value||"top"}})}})))))}}])&&s(t.prototype,n),o&&s(t,o),d}(m.Component);f(N,"propTypes",{onChange:y.func,element:y.object,settings:y.object,groups:y.array,nodeType:y.string,pluginCfg:y.object,showTooltipOptions:y.bool,allowNew:y.bool,enableLayerNameEditFeedback:y.bool}),f(N,"contextTypes",{messages:y.object}),f(N,"defaultProps",{element:{},onChange:function(){},nodeType:"layers",showTooltipOptions:!0,pluginCfg:{},allowNew:!1}),e.exports=N},"./MapStore2/web/client/components/TOC/fragments/settings/LayerNameEditField.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/recompose/es/Recompose.js"),a=r("./node_modules/react-bootstrap/es/index.js"),s=r("./node_modules/react-spinkit/dist/index.js"),l=r.n(s),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r.n(c),p=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),d=r.n(p);t.default=Object(i.compose)(Object(i.withState)("enableOverlayTrigger","setEnableOverlayTrigger",!0),Object(i.withState)("overlayTriggerDelayID","setOverlayTriggerDelayID"),Object(i.withState)("layerName","setLayerName",""),Object(i.withState)("editingLayerName","setEditingLayerName",!1),Object(i.withState)("waitingForLayerLoading","setWaitingForLayerLoading",!1),Object(i.withState)("waitingForLayerLoad","setWaitingForLayerLoad",!1),Object(i.withState)("layerError","setLayerError"),Object(i.withHandlers)({setEditingLayerName:function(e){var t=e.editingLayerName,r=void 0!==t&&t,n=e.overlayTriggerDelayID,o=e.setEditingLayerName,i=void 0===o?function(){}:o,a=e.setOverlayTriggerDelayID,s=void 0===a?function(){}:a,l=e.setEnableOverlayTrigger,c=void 0===l?function(){}:l;return function(e){r!==e&&(n&&clearTimeout(n),c(!1),s(setTimeout((function(){c(!0)}),250))),i(e)}}}),Object(i.lifecycle)({componentDidMount:function(){var e;this.props.setLayerName(null===(e=this.props.element)||void 0===e?void 0:e.name)},componentDidUpdate:function(){var e=this.props,t=e.element,r=void 0===t?{}:t,n=e.waitingForLayerLoading,o=e.waitingForLayerLoad,i=e.setWaitingForLayerLoad,a=void 0===i?function(){}:i,s=e.setWaitingForLayerLoading,l=void 0===s?function(){}:s,c=e.setEditingLayerName,u=void 0===c?function(){}:c,p=e.setLayerError,d=void 0===p?function(){}:p;n&&r.loading?(l(!1),a(!0)):o&&!r.loading&&(a(!1),d(r.loadingError),u(!!r.loadingError))}}))((function(e){var t,r=e.enableOverlayTrigger,n=e.element,i=void 0===n?{}:n,s=e.enableLayerNameEditFeedback,c=void 0!==s&&s,p=e.layerName,f=void 0===p?"":p,m=e.editingLayerName,y=void 0!==m&&m,b=e.layerError,g=e.waitingForLayerLoading,h=void 0!==g&&g,v=e.waitingForLayerLoad,S=void 0!==v&&v,w=e.setLayerName,O=void 0===w?function(){}:w,j=e.setWaitingForLayerLoading,E=void 0===j?function(){}:j,x=e.setEditingLayerName,P=void 0===x?function(){}:x,T=e.onUpdateEntry,M=void 0===T?function(){}:T,A=o.a.createElement(a.InputGroup.Addon,{className:"btn",onClick:function(){y?f!==i.name?(M("name",{target:{value:f}}),c?E(!0):P(!1)):P(!1):P(!0)}},h||S?o.a.createElement(l.a,{noFadeIn:!0,style:{width:"18px",height:"18px"},spinnerName:"circle"}):o.a.createElement(a.Glyphicon,{glyph:y?"ok":"pencil"}));return o.a.createElement(a.FormGroup,{validationState:!b||S||h?null:"error"},o.a.createElement(a.ControlLabel,null,o.a.createElement(u.a,{msgId:"layerProperties.name"})),o.a.createElement(a.InputGroup,null,o.a.createElement(a.FormControl,{value:f,key:"name",type:"text",disabled:!y,onChange:function(e){return O(e.target.value)}}),r?(t=A,o.a.createElement(d.a,{placement:"top",overlay:o.a.createElement(a.Tooltip,{id:"tooltip-layer-name-edit"},o.a.createElement(u.a,{msgId:"layerProperties.tooltip.".concat(y?"confirm":"edit","LayerName")}))},t)):A))}))},"./MapStore2/web/client/components/TOC/fragments/settings/WMSStyle.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/components/I18N/Message.jsx"),y=r("./node_modules/react-select/dist/react-select.es.js").default,b=r("./node_modules/react-bootstrap/es/index.js"),g=b.Button,h=b.Glyphicon,v=b.Alert,S=r("./MapStore2/node_modules/lodash/lodash.js").findIndex,w=r("./node_modules/react-bootstrap/es/index.js").Grid,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderLegend",(function(){return null})),p(c(e),"renderItemLabel",(function(e){return d.createElement("div",null,d.createElement("div",{key:"item-title"},e.title||e.name),d.createElement("div",null,d.createElement("small",{className:"text-muted",key:"item-key-description"},e.name)))})),p(c(e),"renderError",(function(){return e.props.element&&e.props.element.capabilities&&e.props.element&&e.props.element.capabilities.error?d.createElement(v,{bsStyle:"danger"},d.createElement(m,{msgId:"layerProperties.styleListLoadError"})):null})),p(c(e),"updateEntry",(function(t,r){var n=r.target.value;e.props.onChange(t,n)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=[{label:"Default Style",value:""}].concat((this.props.element.availableStyles||[]).map((function(t){return{label:e.renderItemLabel(t),value:t.name}})));return(this.props.element.style&&this.props.element.availableStyles&&S(this.props.element.availableStyles,(function(t){return t.name===e.props.element.style})))>=0||!this.props.element.style||t.push({label:this.props.element.style,value:this.props.element.style}),d.createElement(w,{fluid:!0,style:{paddingTop:15,paddingBottom:15}},d.createElement("form",{ref:"style"},d.createElement(y.Creatable,{key:"styles-dropdown",options:t,isLoading:this.props.element&&this.props.element.capabilitiesLoading,value:this.props.element.style||"",onOpen:function(){!e.props.element||e.props.element.capabilities&&e.props.element.availableStyles||e.props.retrieveLayerData(e.props.element)},promptTextCreator:function(e){return d.createElement(m,{msgId:"layerProperties.styleCustom",msgParams:{value:e}})},onChange:function(t){e.updateEntry("style",{target:{value:t&&t.value||""}})}}),d.createElement("br",null),this.renderLegend(),this.renderError(),d.createElement(g,{bsStyle:"primary",style:{float:"right"},onClick:function(){return e.props.retrieveLayerData(e.props.element)}},d.createElement(h,{glyph:"refresh"}),"",d.createElement(m,{msgId:"layerProperties.stylesRefreshList"})),d.createElement("br",null)))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(O,"propTypes",{retrieveLayerData:f.func,onChange:f.func,element:f.object,groups:f.array}),p(O,"defaultProps",{element:{},retrieveLayerData:function(){},onChange:function(){}}),e.exports=O},"./MapStore2/web/client/components/TOC/fragments/settings/css/elevation.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/fragments/settings/css/elevation.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/TOC/fragments/template/MetadataTemplate.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Button,g=y.Glyphicon,h=r("./MapStore2/node_modules/lodash/lodash.js"),v=h.keys,S=h.isArray,w=h.isObject,O=h.isString,j=r("./MapStore2/web/client/components/I18N/Message.jsx"),E=r("./node_modules/react-bootstrap/es/index.js").Table,x=r("./MapStore2/web/client/utils/LocaleUtils.js"),P=r("./MapStore2/web/client/utils/URLUtils.js"),T=r("./MapStore2/web/client/utils/StringUtils.js"),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,r,n,o=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),d(u(t=o.call(this,e)),"renderMetadata",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=function(e,r){t.setState({collapsed:i(i({},t.state.collapsed),{},d({},e,r))})},a=function(e,r){return f.createElement("div",{style:{display:"flex",flexDirection:"row"}},e,f.createElement(b,{style:{margin:"4px 0 0 4px"},className:"square-button-md no-border",onClick:function(){return o(r,!t.state.collapsed[r])}},f.createElement(g,{glyph:t.state.collapsed[r]?"plus":"minus"})))},s=function(e,t){return"".concat(e,"@item_").concat(t)},l=v(e).filter((function(e){return"references"!==e})).map((function(r){var o,i,l=e[r],c="".concat(n,".").concat(r),u="toc.layerMetadata.".concat(r),p=x.getMessageById(t.context.messages,u)===u?f.createElement(j,{msgId:"toc.layerMetadata.defaultPropName",msgParams:{propName:r}}):f.createElement(j,{msgId:u}),d=function(e){return f.createElement("tr",null,f.createElement("td",null,p),f.createElement("td",null,e))};if(S(l))if(l.length){var m="toc.layerMetadata.itemTitles.".concat(r),y=x.getMessageById(t.context.messages,m),b=y===m?x.getMessageById(t.context.messages,"toc.layerMetadata.itemTitles.default"):y,g=l.map((function(e,r){var n=s(c,r);return w(e)?t.renderMetadata(e,l.length>1?a(f.createElement("h4",null,"".concat(b," #").concat(r+1)),n):null,n):f.createElement("li",{key:r},e)}));o=w(l[0])?(i=f.createElement("div",null,a(f.createElement("h4",null,p),c),t.state.collapsed[c]?null:f.createElement("div",null,g)),f.createElement("tr",null,f.createElement("td",{colSpan:"2"},i))):d(f.createElement("ul",null,g))}else o=null;else if(O(l)){var h=T.isValidEmail(l),v=P.isValidURL(l);o=d(h||v?f.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:v?l:"mailto:".concat(l)},l):l)}return o})).filter((function(e){return!!e}));return f.createElement("div",{style:n?{padding:"8px"}:{}},r,t.state.collapsed[n]?null:f.createElement(E,null,f.createElement("tbody",null,l)))})),t.state={collapsed:{}},t}return t=c,(r=[{key:"renderEmpty",value:function(){return f.createElement("div",null,f.createElement(j,{msgId:"toc.layerMetadata.emptyMetadata"}))}},{key:"render",value:function(){var e=this.props.model;return v(e).length?f.createElement("div",{style:{maxHeight:"400px",overflow:"auto"},id:e.identifier},this.renderMetadata(e)):this.renderEmpty()}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);d(M,"propTypes",{model:m.object}),d(M,"contextTypes",{messages:m.object}),d(M,"defaultProps",{model:{}}),e.exports=M},"./MapStore2/web/client/components/TOC/fragments/template/index.js":function(module,exports,__webpack_require__){var Bootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js"),Message=__webpack_require__("./MapStore2/web/client/components/I18N/Message.jsx"),React=__webpack_require__("./node_modules/react/index.js"),RenderTemplate=function RenderTemplate(comp,props){var model=props.model;return eval(comp)};module.exports=RenderTemplate},"./MapStore2/web/client/components/TOC/swipe/SwipeButton.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./node_modules/prop-types/index.js"),a=r("./node_modules/react-bootstrap/es/index.js"),s=a.Glyphicon,l=a.SplitButton,c=a.MenuItem,u=r("./MapStore2/web/client/components/I18N/Message.jsx"),p=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(l),d={title:o.createElement(s,{glyph:"transfer"}),tooltipId:"toc.compareTool",tooltipPosition:"top",className:"square-button-md no-border",pullRight:!0},f=function(e){var t=e.swipeSettings,r=e.onToolsActions,i=e.status;return o.createElement(p,n({onClick:function(){t.active||"LAYER"!==i?r.onSetActive(!1):r.onSetActive(!0)},bsStyle:(null==t?void 0:t.active)?"success":"primary"},d),o.createElement(c,{active:"swipe"===(null==t?void 0:t.mode),onClick:function(){r.onSetSwipeMode("swipe"),r.onSetActive(!0)}},o.createElement(s,{glyph:"vert-dashed"}),o.createElement(u,{msgId:"toc.swipe"})),o.createElement(c,{active:"spy"===(null==t?void 0:t.mode),onClick:function(){r.onSetSwipeMode("spy"),r.onSetActive(!0)}},o.createElement(s,{glyph:"search"}),o.createElement(u,{msgId:"toc.spyGlass"})),o.createElement(c,{onClick:function(){t.configuring||"LAYER"!==i?r.onSetActive(!1,"configuring"):r.onSetActive(!0,"configuring")}},o.createElement(s,{glyph:"cog"}),o.createElement(u,{msgId:"toc.configureTool"})))};f.propTypes={swipeSettings:i.object,status:i.string,onToolsActions:i.object},f.defaultProps={status:"LAYER",onToolsActions:{onToolsActions:function(){}}},e.exports=f},"./MapStore2/web/client/components/background/BackgroundDialog.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return N}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./node_modules/react-select/dist/react-select.es.js"),l=r("./node_modules/object-assign/index.js"),c=r.n(l),u=r("./node_modules/uuid/v1.js"),p=r.n(u),d=r("./MapStore2/node_modules/lodash/lodash.js"),f=r("./MapStore2/web/client/components/I18N/Message.jsx"),m=r.n(f),y=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),b=r.n(y),g=r("./node_modules/react-bootstrap/es/index.js"),h=r("./MapStore2/web/client/components/maps/forms/Thumbnail.jsx"),v=r.n(h),S=r("./MapStore2/web/client/utils/LocaleUtils.js"),w=r.n(S),O=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function T(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=L(e);if(t){var o=L(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return I(this,r)}}function I(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=r.n(O)()(g.Button),N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,r,n,i=_(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),D(R(t=i.call(this,e)),"state",{title:"",format:"image/png",thumbnail:{},additionalParameters:[]}),D(R(t),"assignParameters",(function(e){return Object(d.keys)(e).map((function(t,r){var n=e[t],o=Object(d.isNumber)(n)?"number":Object(d.isBoolean)(n)?"boolean":"string";return{id:r,param:t,type:o,val:"string"===o?n.toString():n}}))})),D(R(t),"addAdditionalParameter",(function(e,r,n,o){t.setState({additionalParameters:t.state.additionalParameters.map((function(t){if(t.id===n){var i,a;if("val"===r)switch(o){case"number":(a=Number(e))&&!isNaN(a)||(a=0);break;case"boolean":a=!Object(d.isBoolean)(e)||e;break;default:a=e?e.toString():""}else a=e;return c()({},t,(D(i={},r,a),D(i,"type",o),i))}return t}))})})),D(R(t),"resetParameters",(function(){return t.setState({additionalParameters:[]})}));var r=Object(d.pick)(t.props,"title","format","style","thumbnail"),n=c()({},r,{additionalParameters:t.assignParameters(t.props.additionalParameters)});return t.state=n,t}return t=a,(r=[{key:"renderStyleSelector",value:function(){var e=this;return this.props.capabilities?o.a.createElement(g.FormGroup,null,o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.style"})),o.a.createElement(s.default,{onChange:function(t){return e.setState({style:t?t.value:void 0})},clearable:!0,value:this.state.style,options:(this.props.capabilities.availableStyles||[]).map((function(e){var t=e.name;return{label:t,value:t}}))})):null}},{key:"renderThumbnailErrors",value:function(){var e={FORMAT:o.a.createElement(m.a,{msgId:"map.errorFormat"}),SIZE:o.a.createElement(m.a,{msgId:"map.errorSize"})};return this.state.thumbnailErrors&&this.state.thumbnailErrors.length>0?o.a.createElement("div",{className:"dropzone-errorBox alert-danger"},o.a.createElement("p",null,o.a.createElement(m.a,{msgId:"map.error"})),this.state.thumbnailErrors.map((function(t){return o.a.createElement("div",{id:"error"+t,key:"error"+t,className:"error"+t},e[t])}))):null}},{key:"renderSpecificTypeForm",value:function(){var e=this;return"wms"===this.props.layer.type?o.a.createElement(o.a.Fragment,null,o.a.createElement(g.FormGroup,{controlId:"formControlsSelect"},o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.format"})),o.a.createElement(s.default,{onChange:function(t){return e.setState({format:t&&t.value})},value:this.state.format||this.props.defaultFormat,clearable:!0,options:this.props.formatOptions})),this.renderStyleSelector(),o.a.createElement(k,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(g.ControlLabel,{style:{flex:1}},o.a.createElement(m.a,{msgId:"backgroundDialog.additionalParameters"})),o.a.createElement(k,{className:"square-button-md",tooltipId:"backgroundDialog.addAdditionalParameterTooltip",style:{borderColor:"transparent"},onClick:function(){var t=Math.max.apply(Math,T(e.state.additionalParameters.length>0?e.state.additionalParameters.map((function(e){return e.id})):[-1]))+1;e.setState({additionalParameters:[].concat(T(e.state.additionalParameters),[{id:t,type:"string",param:"",val:""}])})}},o.a.createElement(g.Glyphicon,{glyph:"plus"}))),this.state.additionalParameters.map((function(t){return o.a.createElement("div",{key:"val:"+t.id,style:{display:"flex",marginTop:8}},o.a.createElement("div",{style:{display:"flex",flex:1,marginRight:8}},o.a.createElement(g.FormControl,{style:{width:"50%",marginRight:8,minWidth:0},placeholder:w.a.getMessageById(e.context.messages,"backgroundDialog.parameter"),value:t.param,onChange:function(r){return e.addAdditionalParameter(r.target.value,"param",t.id,t.type)}}),"boolean"===t.type?o.a.createElement("div",{style:{width:"50%"}},o.a.createElement(s.default,{onChange:function(r){return e.addAdditionalParameter(r.value,"val",t.id,t.type)},clearable:!1,value:t.val,options:e.props.booleanOptions})):o.a.createElement(g.FormControl,{style:{width:"50%",minWidth:0},placeholder:w.a.getMessageById(e.context.messages,"backgroundDialog.value"),value:t.val.toString(),onChange:function(r){return e.addAdditionalParameter(r.target.value,"val",t.id,t.type)}})),o.a.createElement(s.default,{style:{flex:1,width:90},onChange:function(r){return e.addAdditionalParameter(t.val,"val",t.id,r.value)},clearable:!1,value:t.type,options:e.props.parameterTypeOptions.map((function(t){var r=t.label;return x(x({},P(t,["label"])),{},{label:w.a.getMessageById(e.context.messages,r)})}))}),o.a.createElement(k,{onClick:function(){return e.setState({additionalParameters:e.state.additionalParameters.filter((function(e){return t.id!==e.id}))})},tooltipId:"backgroundDialog.removeAdditionalParameterTooltip",className:"square-button-md",style:{borderColor:"transparent"}},o.a.createElement(g.Glyphicon,{glyph:"trash"})))})))):null}},{key:"render",value:function(){var e=this;return o.a.createElement(b.a,{fitContent:!0,title:o.a.createElement(m.a,{msgId:this.props.editing?"backgroundDialog.editTitle":"backgroundDialog.addTitle"}),show:!0,fade:!0,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container background-dialog",loading:this.props.loading,onClose:function(){e.props.onClose(),e.resetParameters()},buttons:this.props.loading?[]:[{text:o.a.createElement(m.a,{msgId:this.props.editing?"save":"backgroundDialog.add"}),bsStyle:"primary",onClick:function(){var t=e.props.editing?e.props.layer.id:p()(),r=e.props.layer.thumbURL||"",n=e.state.format||e.props.defaultFormat;e.props.updateThumbnail(e.state.thumbnail.data,t),e.props.onSave(c()({},e.props.layer,Object(d.omit)(e.state,"thumbnail"),e.props.editing?{}:{id:t},{params:Object(d.omit)(e.state.additionalParameters.reduce((function(e,t){return c()(e,D({},t.param,t.val))}),{}),["source","title"]),format:n,group:"background"},r||e.state.thumbnail.data?{thumbURL:e.state.thumbnail.url}:{})),e.resetParameters()}}]},o.a.createElement(g.Form,{style:{width:"100%"}},this.renderThumbnailErrors(),o.a.createElement(v.a,{onUpdate:function(t,r){return e.setState({thumbnail:{data:t,url:r}})},onError:function(t){return e.setState({thumbnailErrors:t})},message:o.a.createElement(m.a,{msgId:"backgroundDialog.thumbnailMessage"}),suggestion:"",map:{newThumbnail:Object(d.get)(this.state.thumbnail,"url")||"NODATA"}}),o.a.createElement(g.FormGroup,null,o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.title"})),o.a.createElement(g.FormControl,{value:this.state.title,placeholder:w.a.getMessageById(this.context.messages,"backgroundDialog.titlePlaceholder"),onChange:function(t){return e.setState({title:t.target.value})}})),this.renderSpecificTypeForm()))}}])&&A(t.prototype,r),n&&A(t,n),a}(o.a.Component);D(N,"propTypes",{loading:a.a.bool,editing:a.a.bool,layer:a.a.object,capabilities:a.a.object,onAdd:a.a.func,onClose:a.a.func,source:a.a.string,onSave:a.a.func,addParameters:a.a.func,updateThumbnail:a.a.func,thumbURL:a.a.string,title:a.a.string,format:a.a.string,style:a.a.string,thumbnail:a.a.object,additionalParameters:a.a.object,addParameter:a.a.func,defaultFormat:a.a.string,formatOptions:a.a.array,parameterTypeOptions:a.a.array,booleanOptions:a.a.array}),D(N,"contextTypes",{messages:a.a.object}),D(N,"defaultProps",{updateThumbnail:function(){},onClose:function(){},onSave:function(){},addParameters:function(){},addParameter:function(){},loading:!1,editing:!1,layer:{},capabilities:{},title:"",thumbnail:{},additionalParameters:{},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],parameterTypeOptions:[{label:"backgroundDialog.string",value:"string"},{label:"backgroundDialog.number",value:"number"},{label:"backgroundDialog.boolean",value:"boolean"}],booleanOptions:[{label:"True",value:!0},{label:"False",value:!1}]})},"./MapStore2/web/client/components/background/BackgroundSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/object-assign/index.js"),y=r("./MapStore2/web/client/components/I18N/Message.jsx"),b=r("./MapStore2/web/client/components/background/PreviewButton.jsx"),g=r("./MapStore2/web/client/components/background/PreviewList.jsx"),h=r("./MapStore2/web/client/components/background/PreviewIcon.jsx"),v=r("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),S=r("./MapStore2/web/client/components/background/BackgroundDialog.jsx").default,w=r("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),O=r("./node_modules/prop-types/index.js"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"getThumb",(function(t){return t.thumbURL||e.props.thumbs[t.source]&&e.props.thumbs[t.source][t.name]||e.props.thumbs.unknown})),d(u(e),"getIcons",(function(t,r,n,o){return e.props.enabled?e.props.layers.map((function(i,a){var s=e.getThumb(i);return f.createElement("div",{style:{width:(o?n:0)+(o?0:n)+t+r,height:n+t+r},className:"background-preview-container"},"mobile"!==e.props.mode&&f.createElement("div",{style:{width:(o?n:0)+t+r},className:"background-tool-buttons"},e.props.mapIsEditable&&e.props.allowDeletion&&e.props.layers.length>1&&f.createElement(v,{glyph:"trash",className:"square-button-md background-tool-button delete-button",bsStyle:"primary",onClick:function(){e.props.onRemoveBackground(!0,i.title||i.name||"",i.id)}}),e.props.mapIsEditable&&!e.props.enabledCatalog&&!("wms"!==i.type&&"wmts"!==i.type&&"tms"!==i.type&&"tileprovider"!==i.type)&&f.createElement(v,{glyph:"wrench",className:"square-button-md background-tool-button edit-button",bsStyle:"primary",onClick:function(){e.props.addBackgroundProperties({layer:i,editing:!0})}})),f.createElement(h,{projection:e.props.projection,vertical:o,key:a,src:s,currentLayer:e.props.currentLayer,margin:n,side:t,frame:r,layer:i,onToggle:e.props.onToggle,onPropertiesChange:e.props.onPropertiesChange,onLayerChange:e.props.onLayerChange,setCurrentBackgroundLayer:e.props.setCurrentBackgroundLayer}))})):[]})),d(u(e),"getDimensions",(function(t,r,n,o,i,a){var s=i/2-(t+2*r+2*n)-o,l=t+2*r+2*n+(t+2*r+n)*a+o>i/2,c=Math.floor(s/(t+2*r+n));return c=c>a?a:c,{pagination:l,listSize:e.props.enabled?(t+r+n)*c+52:0,visibleIconsLength:c}})),d(u(e),"renderBackgroundSelector",(function(){var t=m({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},e.props.dimensions),r=2*t.frame,n=t.side-r,i=e.props.enabled?t.sidePreview-r:n,a=t.margin,s=e.props.enabled?i-2*r:0,l=e.props.enabled?e.props.tempLayer:e.props.currentLayer,c=e.getIcons(n,r,a,t.vertical),u=e.getDimensions(n,r,a,0,t.vertical?e.props.size.height:e.props.size.width,c.length),p=u.pagination,d=u.listSize,h=u.visibleIconsLength,v=n+r+a,O=n+r+2*a,j=t.vertical?{bottom:O,left:0,width:O,height:d}:{left:i+2*a+r,width:d,height:v},E=t.vertical?{height:v*h,width:v}:{height:v,width:v*h},x=e.props.modalParams&&e.props.modalParams.layer||{},P=(e.props.backgroundList||[]).find((function(e){return e.id===x.id})),T={title:x.title,format:x.format,style:x.style,additionalParameters:x.params,thumbnail:{data:P&&P.thumbnail,url:e.getThumb(x)}},M=e.props.confirmDeleteBackgroundModal||{show:!1},A=M.show,C=M.layerId,_=M.layerTitle;return h<=0&&!e.props.alwaysVisible&&e.props.enabled?null:f.createElement("span",null,f.createElement(w,{draggable:!1,modal:!0,show:A,onClose:function(){return e.props.onRemoveBackground(!1)},onConfirm:function(){e.props.removeBackground(C),e.props.onRemoveBackground(!1)},confirmButtonBSStyle:"default",confirmButtonContent:f.createElement(y,{msgId:"confirm"}),closeText:f.createElement(y,{msgId:"cancel"}),closeGlyph:"1-close"},f.createElement(y,{msgId:"backgroundSelector.confirmDelete",msgParams:{title:_}})),e.props.modalParams&&f.createElement(S,o({onClose:e.props.clearModal,onSave:function(t){e.props.modalParams.editing?(e.props.updateNode(t.id,"layers",t),e.props.onBackgroundEdit(t.id)):(e.props.addLayer(t),e.props.backgroundAdded(t.id))},updateThumbnail:e.props.onUpdateThumbnail},T,e.props.modalParams)),f.createElement("div",{className:"background-plugin-position",style:e.props.style},f.createElement(b,{layers:e.props.layers,showAdd:"mobile"!==e.props.mode&&e.props.mapIsEditable&&e.props.hasCatalog&&!e.props.enabledCatalog,onAdd:function(){return e.props.onAdd(e.props.source||"backgroundSelector")},showLabel:t.label,src:e.getThumb(l),side:i,frame:r,margin:a,labelHeight:s,label:l.title,onToggle:e.props.onToggle}),f.createElement("div",{className:"background-list-container",style:j},f.createElement(g,{vertical:t.vertical,start:e.props.start,bottom:0,height:E.height,width:E.width,icons:c,pagination:p,length:h,onStartChange:e.props.onStartChange}))))})),e}return t=p,(r=[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}])&&a(t.prototype,r),n&&a(t,n),p}(f.Component);d(j,"propTypes",{mode:O.string,backgroundList:O.array,backgrounds:O.array,start:O.number,style:O.object,enabled:O.bool,layers:O.array,currentLayer:O.object,tempLayer:O.object,size:O.object,dimensions:O.object,thumbs:O.object,mapIsEditable:O.bool,onPropertiesChange:O.func,onToggle:O.func,onLayerChange:O.func,onStartChange:O.func,onAdd:O.func,hasCatalog:O.bool,alwaysVisible:O.bool,enabledCatalog:O.bool,onRemove:O.func,onBackgroundEdit:O.func,source:O.string,addBackgroundProperties:O.func,onUpdateThumbnail:O.func,removeBackground:O.func,onRemoveBackground:O.func,setCurrentBackgroundLayer:O.func,confirmDeleteBackgroundModal:O.object,deletedId:O.string,modalParams:O.object,updateNode:O.func,clearModal:O.func,allowDeletion:O.bool,projection:O.string}),d(j,"defaultProps",{mode:"desktop",addBackgroundProperties:function(){},onBackgroundEdit:function(){},setCurrentBackgroundLayer:function(){},source:"backgroundSelector",start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},allowDeletion:!0,thumbs:{unknown:r("./MapStore2/web/client/components/background/img/default.jpg")},mapIsEditable:!0,onRemoveBackground:function(){},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){},onAdd:function(){},onRemove:function(){},clearModal:function(){}}),e.exports=j},"./MapStore2/web/client/components/background/PaginationButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,f=r("./node_modules/prop-types/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],t=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",r=this.props.vertical?{width:this.props.side}:{height:this.props.side};return p.createElement("div",{className:t+" text-primary",style:r,onClick:this.props.onClick},p.createElement(d,{glyph:e}))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(m,"propTypes",{side:f.number,direction:f.bool,vertical:f.bool,glyphs:f.object,onClick:f.func}),u(m,"defaultProps",{side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/PreviewButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx");r("./MapStore2/web/client/components/background/css/previewbutton.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return p.createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},p.createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?p.createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},p.createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,p.createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},p.createElement("img",{src:this.props.src}))),this.props.labelHeight>0?p.createElement(f,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.showAdd?[{glyph:"plus",tooltipId:"backgroundSelector.addTooltip",onClick:function(){return e.props.onAdd()}}]:[]}):null)}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(m,"propTypes",{src:d.string,side:d.number,frame:d.number,margin:d.number,labelHeight:d.number,label:d.string,showLabel:d.bool,onToggle:d.func,onAdd:d.func,showAdd:d.bool}),u(m,"defaultProps",{src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,onToggle:function(){},onAdd:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/PreviewIcon.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./MapStore2/node_modules/lodash/lodash.js"),m=f.indexOf,y=f.has;r("./MapStore2/web/client/components/background/css/previewicon.css");var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=m(["EPSG:4326","EPSG:3857","EPSG:900913"],this.props.projection)>-1,r="wmts"===this.props.layer.type&&y(this.props.layer.allowedSRS,this.props.projection),n=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",o=this.props.layer.visibility?" bg-primary":" bg-body",i=(t||r||"wms"===this.props.layer.type||"empty"===this.props.layer.type)&&!this.props.layer.invalid,a=i?function(){e.props.onToggle(),e.props.onPropertiesChange(e.props.layer.id,{visibility:!0}),e.props.setCurrentBackgroundLayer(e.props.layer.id)}:function(){};return p.createElement("div",{className:n+o+(i?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},p.createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},p.createElement("img",{onMouseOver:function(){e.props.onLayerChange("tempLayer",e.props.layer)},onMouseOut:function(){e.props.onLayerChange("tempLayer",e.props.currentLayer)},onClick:a,src:this.props.src})))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(b,"propTypes",{side:d.number,frame:d.number,margin:d.number,src:d.string,vertical:d.bool,layer:d.object,currentLayer:d.object,onPropertiesChange:d.func,onToggle:d.func,onLayerChange:d.func,setCurrentBackgroundLayer:d.func,projection:d.string}),u(b,"defaultProps",{side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}}),e.exports=b},"./MapStore2/web/client/components/background/PreviewList.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./MapStore2/web/client/components/background/PaginationButton.jsx"),f=r("./node_modules/prop-types/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this,t=[].concat(this.props.icons);t=this.props.pagination?t.slice(this.props.start,this.props.start+this.props.length):t,this.props.vertical&&t.unshift(p.createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&t.shift(),t.unshift(p.createElement(d,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){e.props.onStartChange(e.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&t.push(p.createElement(d,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){e.props.onStartChange(e.props.start+1)}})));var r=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return p.createElement("div",{style:r},t)}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(m,"propTypes",{bottom:f.number,width:f.number,height:f.number,length:f.number,start:f.number,pagination:f.bool,vertical:f.bool,icons:f.array,onStartChange:f.func}),u(m,"defaultProps",{bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/background/img/default.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/components/background/img/default.jpg"},"./MapStore2/web/client/components/buttons/ConfirmButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/classnames/index.js"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"state",{is:"active"}),d(u(e),"onClick",(function(){return e.props.onClick?e.props.onClick.bind(u(e)):function(){}})),d(u(e),"onDisable",(function(){return e.props.onDisable?e.props.onDisable.bind(u(e)):function(){}})),d(u(e),"onConfirm",(function(){return e.props.onConfirm?e.props.onConfirm():e.props.confirming&&e.props.confirming.onClick?e.props.confirming.onClick():function(){}})),d(u(e),"isDisabled",(function(){return"disabled"===e.state.is})),d(u(e),"isConfirming",(function(){return"confirming"===e.state.is})),d(u(e),"isActive",(function(){return!e.isConfirming()&&!e.isDisabled()})),d(u(e),"handleClick",(function(){return e.isConfirming()&&e.props.disableAfterConfirmed?(e.onConfirm(),e.onDisable(),void e.setState({is:"disabled"})):e.isConfirming()?(e.onConfirm(),void e.setState({is:"active"})):(e.onClick(),void e.setState({is:"confirming"}))})),d(u(e),"handleBlur",(function(){e.setState({is:"active"})})),e}return t=p,(r=[{key:"render",value:function(){var e=this.props,t=e.children,r=e.buttonProps,n=e.confirming,i=e.disabled,a=this.props,s=a.text,l=a.style,c=a.className,u=void 0===c?"btn btn-sm btn-danger":c,p=this.isDisabled(),d=this.isConfirming();return p&&(s=i&&i.text||"Loading...",u=i&&i.className||"btn btn-sm btn-secondary",l=i&&i.style||{}),d&&(s=n&&n.text||"Confirm?",u=n&&n.className||"btn btn-sm btn-warning",l=n&&n.style||{}),m.createElement("button",o({className:y("confirm-button",u),style:l,onClick:this.handleClick,onBlur:this.handleBlur,disabled:p},r),t,t?" ":"",s)}}])&&a(t.prototype,r),n&&a(t,n),p}(m.Component);d(b,"propTypes",{disableAfterConfirmed:f.bool,resetOnBlur:f.bool,onConfirm:f.func,onDisable:f.func,onClick:f.func,text:f.oneOfType([f.string,f.node]),className:f.string,style:f.object,confirming:f.shape({text:f.oneOfType([f.string,f.node]),className:f.string,style:f.object,onClick:f.func}),disabled:f.shape({text:f.oneOfType([f.string,f.node]),className:f.string,style:f.object}),children:f.node,buttonProps:f.object}),d(b,"defaultProps",{resetOnBlur:!0}),e.exports=b},"./MapStore2/web/client/components/buttons/FullScreenButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/components/buttons/ToggleButton.jsx"),b=r("./node_modules/react-bootstrap/es/index.js").Tooltip,g=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"getButtonProperties",(function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce((function(t,r){return t[r]=e.props[r],t}),{})})),e}return t=p,(r=[{key:"render",value:function(){return m.createElement(y,o({},this.getButtonProperties(),{pressed:this.props.active,tooltip:m.createElement(b,{id:"full-screen-button-tip"},m.createElement(g,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}])&&a(t.prototype,r),n&&a(t,n),p}(m.Component);d(h,"propTypes",{id:f.string,btnConfig:f.object,options:f.object,text:f.oneOfType([f.string,f.element]),help:f.oneOfType([f.string,f.element]),glyphicon:f.string,active:f.bool,onClick:f.func,activeTooltip:f.string,notActiveTooltip:f.string,tooltipPlace:f.string,style:f.object,btnType:f.oneOf(["normal","image"]),image:f.string,pressedStyle:f.string,defaultStyle:f.string}),d(h,"defaultProps",{id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}}),e.exports=h},"./MapStore2/web/client/components/buttons/ImageButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/object-assign/index.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getStyle",(function(){var t={cursor:e.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return e.props.image?m(t,{overflow:"hidden"}):m(t,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),m(t,e.props.style),t})),e}return t=u,(r=[{key:"render",value:function(){return f.createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(y,"propTypes",{id:d.string,image:d.string,onClick:d.func,style:d.object,disabled:d.bool,tooltip:d.string,className:d.string}),p(y,"defaultProps",{disabled:!1,tooltip:null,className:void 0}),e.exports=y},"./MapStore2/web/client/components/buttons/ToggleButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Button,g=y.Glyphicon,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=r("./MapStore2/web/client/components/buttons/ImageButton.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"onClick",(function(){e.props.onClick(!e.props.pressed,e.props.options)})),d(u(e),"renderNormalButton",(function(){return f.createElement(b,o({id:e.props.id},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.pressed?e.props.pressedStyle:e.props.defaultStyle,style:e.props.style}),e.props.glyphicon?f.createElement(g,{glyph:e.props.glyphicon}):null,e.props.glyphicon&&e.props.text&&!f.isValidElement(e.props.text)?"":null,e.props.text,e.props.help)})),d(u(e),"renderImageButton",(function(){return f.createElement(v,{id:e.props.id,image:e.props.image,onClick:e.onClick,style:e.props.style})})),d(u(e),"addTooltip",(function(t){return f.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:e.props.tooltip},t)})),e}return t=p,(r=[{key:"render",value:function(){var e="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(e):e}}])&&a(t.prototype,r),n&&a(t,n),p}(f.Component);d(S,"propTypes",{id:m.string,btnConfig:m.object,options:m.object,text:m.oneOfType([m.string,m.element]),help:m.oneOfType([m.string,m.element]),glyphicon:m.string,pressed:m.bool,onClick:m.func,tooltip:m.element,tooltipPlace:m.string,style:m.object,btnType:m.oneOf(["normal","image"]),image:m.string,pressedStyle:m.string,defaultStyle:m.string}),d(S,"defaultProps",{onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"}),e.exports=S},"./MapStore2/web/client/components/buttons/ZoomButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Button,b=m.Glyphicon,g=m.Tooltip,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"addTooltip",(function(t){if(!e.props.tooltip)return t;var r=f.createElement(g,{id:"locate-tooltip"},e.props.tooltip);return f.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:r},t)})),e}return t=u,(r=[{key:"render",value:function(){var e=this;return this.addTooltip(f.createElement(y,{id:this.props.id,style:this.props.style,onClick:function(){return e.props.onZoom(e.props.currentZoom+e.props.step)},className:this.props.className,disabled:this.props.currentZoom+this.props.step>this.props.maxZoom||this.props.currentZoom+this.props.step<this.props.minZoom,bsStyle:this.props.bsStyle},this.props.glyphicon?f.createElement(b,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?"":null,this.props.text,this.props.help))}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(v,"propTypes",{id:d.string,style:d.object,glyphicon:d.string,text:d.string,btnSize:d.oneOf(["large","small","xsmall"]),className:d.string,help:d.oneOfType([d.string,d.element]),step:d.number,currentZoom:d.number,minZoom:d.number,maxZoom:d.number,onZoom:d.func,tooltip:d.element,tooltipPlace:d.string,bsStyle:d.string}),p(v,"defaultProps",{id:"mapstore-zoom",className:"square-button",glyphicon:"plus",btnSize:"xsmall",tooltipPlace:"left",step:1,currentZoom:3,minZoom:0,maxZoom:28,onZoom:function(){},bsStyle:"default",style:{}}),e.exports=v},"./MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Button,b=m.Glyphicon,g=m.Tooltip,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=r("./MapStore2/web/client/utils/MapUtils.js"),S=r("./MapStore2/web/client/utils/ConfigUtils.js"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"addTooltip",(function(t){var r=f.createElement(g,{id:"locate-tooltip"},e.props.tooltip);return f.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:r},t)})),p(c(e),"zoomToMaxExtent",(function(){var t=e.props.mapConfig.maxExtent,r=e.props.mapConfig.size,n=1,o=e.props.mapConfig.center,i=e.props.mapConfig.projection||"EPSG:3857";t&&"[object Array]"===Object.prototype.toString.call(t)&&(n=v.getZoomForExtent(t,r,0,21),0===(o=v.getCenterForExtent(t,i)).x&&0===o.y||(o=S.getCenter(o,"EPSG:4326")));var a=v.getBbox(o,n,r);e.props.changeMapView(o,n,a,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),p(c(e),"zoomToInitialExtent",(function(){var t=e.props.mapInitialConfig,r=v.getBbox(t.center,t.zoom,e.props.mapConfig.size);e.props.changeMapView(t.center,t.zoom,r,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),e}return t=u,(r=[{key:"render",value:function(){var e=this;return this.addTooltip(f.createElement(y,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:function(){return e.props.useInitialExtent?e.zoomToInitialExtent():e.zoomToMaxExtent()},className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?f.createElement(b,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?"":null,this.props.text,this.props.help))}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(w,"propTypes",{id:d.string,image:d.string,glyphicon:d.string,text:d.string,btnSize:d.oneOf(["large","small","xsmall"]),mapConfig:d.object,mapInitialConfig:d.object,changeMapView:d.func,btnType:d.oneOf(["normal","image"]),help:d.oneOfType([d.string,d.element]),tooltip:d.element,tooltipPlace:d.string,className:d.string,useInitialExtent:d.bool,bsStyle:d.string,style:d.object}),p(w,"defaultProps",{id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"}),e.exports=w},"./MapStore2/web/client/components/catalog/Catalog.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./MapStore2/node_modules/lodash/lodash.js"),b=y.isNil,g=y.has,h=y.omit,v=r("./node_modules/object-assign/index.js"),S=r("./node_modules/prop-types/index.js"),w=r("./node_modules/react/index.js"),O=r("./node_modules/react-bootstrap/es/index.js"),j=O.FormControl,E=O.FormGroup,x=O.Alert,P=O.Pagination,T=O.Button,M=O.Panel,A=O.Form,C=O.InputGroup,_=O.ControlLabel,I=O.Glyphicon,R=r("./node_modules/react-select/dist/react-select.es.js").default,L=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),D=r("./MapStore2/web/client/utils/LocaleUtils.js"),k=r("./MapStore2/web/client/components/I18N/Message.jsx"),N=r("./MapStore2/web/client/components/catalog/RecordGrid.jsx"),F=r("./MapStore2/web/client/components/misc/Loader.jsx"),G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,r,n,i=u(p);function p(){var e;s(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=i.call.apply(i,[this].concat(r))),"state",{catalogURL:null}),m(d(e),"onSearchTextChange",(function(t){e.props.onChangeText(t.target.value)})),m(d(e),"onKeyDown",(function(t){13===t.keyCode&&e.search({services:e.props.services,selectedService:e.props.selectedService,searchText:e.props.searchText})})),m(d(e),"getServices",(function(){return(g(e.props.services,"default_map_backgrounds")?["default_map_backgrounds"]:[]).concat(Object.keys(h(e.props.services,"default_map_backgrounds"))).map((function(t){return v({},e.props.services[t],{label:D.getMessageById(e.context.messages,e.props.services[t].title),value:t})}))})),m(d(e),"renderResult",(function(){return e.props.result?0===e.props.result.numberOfRecordsMatched?w.createElement("div",null,w.createElement(k,{msgId:"catalog.noRecordsMatched"})):e.renderRecords():e.props.loadingError?e.renderError():null})),m(d(e),"renderError",(function(e){return w.createElement(x,{bsStyle:"danger"},w.createElement(k,{msgId:e||"catalog.error"}))})),m(d(e),"renderLoading",(function(){return w.createElement("div",{className:"catalog-results loading"},w.createElement(F,{size:176}))})),m(d(e),"renderPagination",(function(){if(e.props.result){var t=e.props.result.numberOfRecordsMatched,r=e.props.result.numberOfRecordsReturned,n=e.props.searchOptions.startPosition,o=e.props.pageSize,i=Math.floor(n/o),a=Math.ceil(t/o);return w.createElement("div",{className:"catalog-pagination"},w.createElement(P,{prev:!0,next:!0,first:!0,last:!0,ellipsis:!0,boundaryLinks:!0,bsSize:"small",items:a,maxButtons:5,activePage:i+1,onSelect:e.handlePage}),w.createElement("div",{className:"push-right"},w.createElement(k,{msgId:"catalog.pageInfo",msgParams:{start:n,end:n+r-1,total:t}})))}return null})),m(d(e),"renderRecords",(function(){var t="",r=!1,n=!1;if(e.props.services&&e.props.services[e.props.selectedService]){var i=e.props.services[e.props.selectedService];b(i.metadataTemplate)||b(i.showTemplate)||(r=i.showTemplate,t=i.metadataTemplate),b(i.hideThumbnail)||(n=i.hideThumbnail)}return w.createElement("div",{className:"catalog-results"},w.createElement(N,o({},e.props.gridOptions,{crs:e.props.crs,key:"records",hideThumbnail:n,records:e.props.records.map((function(e){return r&&t?a(a({},e),{},{metadataTemplate:t}):e})),clearModal:e.props.clearModal,layers:e.props.layers,modalParams:e.props.modalParams,onAddBackgroundProperties:e.props.onAddBackgroundProperties,source:e.props.source,authkeyParamNames:e.props.authkeyParamNames,catalogURL:e.isValidServiceSelected()&&e.props.services[e.props.selectedService].url||"",service:e.props.services[e.props.selectedService],catalogType:e.props.services[e.props.selectedService]&&e.props.services[e.props.selectedService].type,showTemplate:e.props.services[e.props.selectedService].showTemplate,onLayerAdd:e.props.onLayerAdd,onPropertiesChange:e.props.onPropertiesChange,zoomToLayer:e.props.zoomToLayer,onError:e.props.onError,showGetCapLinks:e.props.showGetCapLinks,addAuthentication:e.props.addAuthentication,currentLocale:e.props.currentLocale,recordItem:e.props.recordItem,hideIdentifier:e.props.hideIdentifier,hideExpand:e.props.hideExpand,onAddBackground:e.props.onAddBackground,defaultFormat:e.props.services[e.props.selectedService]&&e.props.services[e.props.selectedService].format,formatOptions:e.props.formatOptions,layerBaseConfig:e.props.layerBaseConfig,onAdd:function(){e.search({services:e.props.services,selectedService:e.props.selectedService})}})))})),m(d(e),"renderButtons",(function(){var t=[];return e.props.includeSearchButton&&t.push(w.createElement(T,{bsStyle:"primary",style:e.props.buttonStyle,onClick:function(){return e.search({services:e.props.services,selectedService:e.props.selectedService,searchText:e.props.searchText})},className:e.props.buttonClassName,key:"catalog_search_button",disabled:e.props.loading||!e.isValidServiceSelected()},w.createElement(k,{msgId:"catalog.search"}))),e.props.includeResetButton&&t.push(w.createElement(T,{style:e.props.buttonStyle,onClick:e.reset,key:"catalog_reset_button"},w.createElement(k,{msgId:"catalog.reset"}))),t})),m(d(e),"renderTextSearch",(function(){var t=w.createElement(j,{ref:"searchText",type:"text",style:{textOverflow:"ellipsis"},value:e.props.searchText,placeholder:D.getMessageById(e.context.messages,"catalog.textSearchPlaceholder"),onChange:e.onSearchTextChange,onKeyDown:e.onKeyDown});return e.props.wrapOptions?w.createElement(M,{collapsible:!0,defaultExpanded:!1,header:D.getMessageById(e.context.messages,"catalog.options")},t):t})),m(d(e),"isValidServiceSelected",(function(){return void 0!==e.props.services[e.props.selectedService]})),m(d(e),"search",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.services,n=t.selectedService,o=t.start,i=void 0===o?1:o,a=t.searchText,s=void 0===a?"":a,l=r[n].url,c=r[n].type;e.props.onSearch({format:c,url:l,startPosition:i,maxRecords:e.props.pageSize,text:s||"",options:{service:e.props.services[n]}})})),m(d(e),"reset",(function(){e.props.onReset()})),m(d(e),"handlePage",(function(t){if(t){var r=(t-1)*e.props.pageSize+1;e.search({services:e.props.services,selectedService:e.props.selectedService,start:r,searchText:e.props.searchText})}})),e}return t=p,(r=[{key:"componentDidMount",value:function(){this.props.selectedService&&this.isValidServiceSelected()&&this.props.services[this.props.selectedService].autoload&&this.search({services:this.props.services,selectedService:this.props.selectedService,searchText:this.props.searchText})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e!==this.props&&(("view"===e.mode&&"edit"===this.props.mode||e.services!==this.props.services||e.selectedService!==this.props.selectedService)&&e.active&&this.props.active&&e.selectedService&&e.services[e.selectedService]&&e.services[e.selectedService].autoload&&this.search({services:e.services,selectedService:e.selectedService,searchText:e.searchText}),e.active&&!1===this.props.active&&e.selectedService&&e.services[e.selectedService]&&e.services[e.selectedService].autoload&&this.search({services:e.services,selectedService:e.selectedService,searchText:e.searchText}))}},{key:"render",value:function(){var e=this;return w.createElement(L,{key:"catalog-BorderLayout",bodyClassName:"ms2-border-layout-body catalog",header:w.createElement(A,null,w.createElement(E,{controlId:"labelService",key:"labelService"},w.createElement(_,null,w.createElement(k,{msgId:"catalog.service"}))),w.createElement(E,{controlId:"service",key:"service"},w.createElement(C,null,w.createElement(R,{clearValueText:D.getMessageById(this.context.messages,"catalog.clearValueText"),noResultsText:D.getMessageById(this.context.messages,"catalog.noResultsText"),clearable:!0,options:this.getServices(),value:this.props.selectedService,onChange:function(t){return e.props.onChangeSelectedService(t&&t.value?t.value:"")},placeholder:D.getMessageById(this.context.messages,"catalog.servicePlaceholder")}),this.isValidServiceSelected()&&"default_map_backgrounds"!==this.props.selectedService?w.createElement(C.Addon,{className:"btn",onClick:function(){return e.props.onChangeCatalogMode("edit",!1)}},w.createElement(I,{glyph:"pencil"})):null,w.createElement(C.Addon,{className:"btn",onClick:function(){return e.props.onChangeCatalogMode("edit",!0)}},w.createElement(I,{glyph:"plus"})))),w.createElement(E,{controlId:"searchText",key:"searchText"},this.renderTextSearch()),w.createElement(E,{controlId:"buttons",key:"buttons"},this.renderButtons(),this.props.layerError?this.renderError(this.props.layerError):null)),footer:this.renderPagination()},this.props.loading?this.renderLoading():this.renderResult())}}])&&l(t.prototype,r),n&&l(t,n),p}(w.Component);m(G,"propTypes",{active:S.bool,searchText:S.string,addAuthentication:S.bool,buttonClassName:S.string,buttonStyle:S.object,currentLocale:S.string,loading:S.bool,format:S.string,crs:S.string,gridOptions:S.object,includeSearchButton:S.bool,includeResetButton:S.bool,loadingError:S.object,layerError:S.string,mode:S.string,onChangeCatalogMode:S.func,onChangeText:S.func,onChangeFormat:S.func,onChangeSelectedService:S.func,onPropertiesChange:S.func,onError:S.func,onLayerAdd:S.func,onReset:S.func,onSearch:S.func,onAddBackground:S.func,pageSize:S.number,records:S.array,authkeyParamNames:S.array,recordItem:S.element,result:S.object,searchOptions:S.object,selectedService:S.string,services:S.object,showGetCapLinks:S.bool,wrapOptions:S.bool,zoomToLayer:S.bool,hideThumbnail:S.bool,hideIdentifier:S.bool,hideExpand:S.bool,source:S.string,onAddBackgroundProperties:S.func,modalParams:S.object,layers:S.array,clearModal:S.func,formatOptions:S.array,layerBaseConfig:S.object}),m(G,"contextTypes",{messages:S.object}),m(G,"defaultProps",{buttonClassName:"search-button",buttonStyle:{marginBottom:"10px",marginRight:"5px"},currentLocale:"en-US",format:"csw",includeSearchButton:!0,includeResetButton:!1,mode:"view",onChangeCatalogMode:function(){},onChangeFormat:function(){},onChangeText:function(){},onChangeSelectedService:function(){},onPropertiesChange:function(){},onError:function(){},onLayerAdd:function(){},onReset:function(){},onSearch:function(){},changeLayerProperties:function(){},pageSize:4,records:[],loading:!1,services:{},wrapOptions:!1,zoomToLayer:!0,formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],layerBaseConfig:{},crs:"EPSG:3857"}),e.exports=G},"./MapStore2/web/client/components/catalog/CatalogForm.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Col,a=o.FormGroup,s=o.FormControl,l=o.Grid,c=o.Row,u=r("./MapStore2/web/client/components/I18N/Message.jsx"),p=r("./MapStore2/web/client/components/catalog/CatalogServiceSelector.jsx"),d=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js")("placeholder")(s);e.exports=function(e){var t=e.onSearchTextChange,r=void 0===t?function(){}:t,o=e.searchText,s=e.title,f=void 0===s?n.createElement(u,{msgId:"catalog.title"}):s,m=e.catalog,y=e.services,b=e.isValidServiceSelected,g=e.showCatalogSelector;return n.createElement(l,{className:"catalog-form",fluid:!0},n.createElement(c,null,n.createElement(i,{xs:12},n.createElement("h4",{className:"text-center"},f),g?n.createElement(a,null,n.createElement(p,{servieces:y,catalog:m,isValidServiceSelected:b})):null,n.createElement(a,{controlId:"catalog-form"},n.createElement(d,{type:"text",placeholder:"catalog.textSearchPlaceholder",value:o,onChange:function(e){return r(e.currentTarget.value)}})))))}},"./MapStore2/web/client/components/catalog/CatalogServiceEditor.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-spinkit/dist/index.js"),a=r.n(i),s=r("./node_modules/react-bootstrap/es/index.js"),l=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),c=r.n(l),u=r("./MapStore2/web/client/components/I18N/Message.jsx"),p=r.n(u),d=r("./MapStore2/node_modules/lodash/lodash.js"),f=r("./node_modules/react-quill/lib/index.js"),m=r.n(f),y=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),b=r.n(y),g=function(e){var t=e.children,r=e.service,n=e.isLocalizedLayerStylesEnabled,i=e.onChangeMetadataTemplate,a=void 0===i?function(){}:i,l=e.onChangeServiceProperty,c=void 0===l?function(){}:l,u=e.onToggleTemplate,f=void 0===u?function(){}:u,y=e.onToggleThumbnail,g=void 0===y?function(){}:y;return o.a.createElement("div",null,o.a.createElement(s.FormGroup,{controlId:"autoload",key:"autoload"},o.a.createElement(s.Col,{xs:12},o.a.createElement(s.Checkbox,{value:"autoload",onChange:function(e){return c("autoload",e.target.checked)},checked:!Object(d.isNil)(r.autoload)&&r.autoload},o.a.createElement(p.a,{msgId:"catalog.autoload"})))),o.a.createElement(s.FormGroup,{controlId:"thumbnail",key:"thumbnail"},o.a.createElement(s.Col,{xs:12},o.a.createElement(s.Checkbox,{onChange:function(){return g()},checked:!!Object(d.isNil)(r.hideThumbnail)||!r.hideThumbnail},o.a.createElement(p.a,{msgId:"catalog.showPreview"})))),!(!n||Object(d.isNil)(r.type))&&"wms"===r.type&&o.a.createElement(s.FormGroup,{controlId:"localized-styles",key:"localized-styles"},o.a.createElement(s.Col,{xs:12},o.a.createElement(s.Checkbox,{"data-qa":"service-lacalized-layer-styles-option",onChange:function(e){return c("localizedLayerStyles",e.target.checked)},checked:!Object(d.isNil)(r.localizedLayerStyles)&&r.localizedLayerStyles},o.a.createElement(p.a,{msgId:"catalog.enableLocalizedLayerStyles.label"}),"",o.a.createElement(b.a,{text:o.a.createElement(p.a,{msgId:"catalog.enableLocalizedLayerStyles.tooltip"})})))),!Object(d.isNil)(r.type)&&"csw"===r.type&&o.a.createElement(s.FormGroup,{controlId:"metadata-template",key:"metadata-template",className:"metadata-template-editor"},o.a.createElement(s.Col,{xs:12},o.a.createElement(s.Checkbox,{onChange:function(){return f()},checked:r&&r.showTemplate},o.a.createElement(p.a,{msgId:"catalog.showTemplate"})),o.a.createElement("br",null)),r&&r.showTemplate&&o.a.createElement(s.Col,{xs:12},o.a.createElement("span",null,o.a.createElement("p",null,o.a.createElement(p.a,{msgId:"layerProperties.templateFormatInfoAlert2",msgParams:{attribute:"{ }"}}),""),o.a.createElement("pre",null,o.a.createElement(p.a,{msgId:"catalog.templateFormatDescriptionExample"})," ${ description }"))),o.a.createElement(s.Col,{xs:12},r&&r.showTemplate&&o.a.createElement(m.a,{modules:{toolbar:[[{size:["small",!1,"large","huge"]},"bold","italic","underline","blockquote"],[{list:"bullet"},{align:[]}],[{color:[]},{background:[]},"clean"],["link"]]},value:r.metadataTemplate||"",onChange:function(e){a(e&&"<p><br></p>"!==e?e:"")}}))),t)},h=r("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),v=r.n(h),S=r("./node_modules/react-codemirror2/index.js");r("./node_modules/codemirror/lib/codemirror.css"),r("./node_modules/codemirror/addon/lint/lint.js"),r("./node_modules/codemirror/addon/lint/json-lint.js"),r("./node_modules/codemirror/mode/javascript/javascript.js");function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t=e.onValid,r=e.onError,i=e.json,a=void 0===i?{}:i,s=w(Object(n.useState)(JSON.stringify(a,!0,2)),2),l=s[0],c=s[1],u=w(Object(n.useState)(),2),d=u[0],f=u[1];return Object(n.useEffect)((function(){try{var e=JSON.parse(l);f(),t(e)}catch(e){f(e),r(e)}}),[l]),o.a.createElement("div",{className:"code-editor"},o.a.createElement(S.Controlled,{value:l,onBeforeChange:function(e,t,r){c(r)},options:{theme:"lesser-dark",mode:"application/json",lineNumbers:!0,styleSelectedText:!0,indentUnit:2,tabSize:2}}),d&&o.a.createElement("div",{className:"error-area"},o.a.createElement("div",{className:"error-area-header"},o.a.createElement(p.a,{msgId:"contextCreator.configurePlugins.cfgParsingError.title"})),o.a.createElement("div",{className:"error-area-body"},o.a.createElement(p.a,{msgId:"contextCreator.configurePlugins.cfgParsingError.body",msgParams:{error:d.message}},(function(e){return o.a.createElement("pre",{className:"error-msg"},e)})))))},E=r("./MapStore2/web/client/components/I18N/HTML.jsx"),x=r.n(E),P={options:{}},T=function(e){var t=e.service,r=void 0===t?{}:t,n=e.setValid,i=void 0===n?function(){}:n,a=e.onToggleThumbnail,l=void 0===a?function(){}:a,c=e.onChangeServiceProperty,u=void 0===c?function(){}:c,f=r.options||r.variants?{options:r.options||{},variants:r.variants}:void 0;return o.a.createElement("div",null,o.a.createElement(s.FormGroup,{controlId:"autoload",key:"autoload"},o.a.createElement(s.Col,{xs:12},o.a.createElement(s.Checkbox,{key:"autoload",value:"autoload",onChange:function(e){return u("autoload",e.target.checked)},checked:!Object(d.isNil)(r.autoload)&&r.autoload},o.a.createElement(p.a,{msgId:"catalog.autoload"})),o.a.createElement(s.Checkbox,{key:"thumbnail",value:"thumbnail",onChange:function(){return l()},checked:!!Object(d.isNil)(r.hideThumbnail)||!r.hideThumbnail},o.a.createElement(p.a,{msgId:"catalog.showPreview"})),"tms"===r.provider?o.a.createElement(s.Checkbox,{key:"forceDefaultTileGrid",value:"forceDefaultTileGrid",onChange:function(e){return u("forceDefaultTileGrid",e.target.checked)},checked:!Object(d.isNil)(r.forceDefaultTileGrid)&&r.forceDefaultTileGrid},o.a.createElement(p.a,{msgId:"catalog.tms.forceDefaultTileGrid"}),"",o.a.createElement(b.a,{text:o.a.createElement(p.a,{msgId:"catalog.tms.forceDefaultTileGridDescription"})})):null),r.provider&&"custom"!==r.provider?null:o.a.createElement(s.Col,null,o.a.createElement(s.ControlLabel,null,o.a.createElement(p.a,{msgId:"catalog.tms.customTMSConfiguration"}),"",o.a.createElement(b.a,{text:o.a.createElement(x.a,{msgId:"catalog.tms.customTMSConfigurationHint"})})),o.a.createElement(j,{json:f||P,onValid:function(e){var t=e.options,n=e.variants;Object(d.isEqual)(t,r.options)||u("options",t),Object(d.isEqual)(n,r.variants)||u("variants",n),i(!0)},onError:function(){r.options&&u("options",void 0),r.variants&&u("variants",void 0),i(!1)}}))))},M=r("./node_modules/react-select/dist/react-select.es.js");function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var _=function(e){return e.map((function(e){return{label:"".concat(e,"x").concat(e),value:e}}))},I=function(e){var t,r=e.service,n=e.formatOptions,i=e.onChangeServiceFormat,a=void 0===i?function(){}:i,l=e.onChangeServiceProperty,c=void 0===l?function(){}:l,u=e.tileSizeOptions,p=(e.currentWMSCatalogLayerSize,e.selectedService,C(e,["service","formatOptions","onChangeServiceFormat","onChangeServiceProperty","tileSizeOptions","currentWMSCatalogLayerSize","selectedService"])),d=_(u);return o.a.createElement(g,A({onChangeServiceProperty:c,service:r},p),o.a.createElement(s.FormGroup,{style:{display:"flex",alignItems:"center",paddingTop:15,borderTop:"1px solid #ddd"}},o.a.createElement(s.Col,{xs:6},o.a.createElement(s.ControlLabel,null,"Format")),o.a.createElement(s.Col,{xs:6},o.a.createElement(M.default,{value:r&&r.format,clearable:!0,options:n,onChange:function(e){return a(e&&e.value)}}))),o.a.createElement(s.FormGroup,{style:{display:"flex",alignItems:"center",paddingTop:15,borderTop:"1px solid #ddd"}},o.a.createElement(s.Col,{xs:6},o.a.createElement(s.ControlLabel,null,"WMS Layer tile size")),o.a.createElement(s.Col,{xs:6},o.a.createElement(M.default,{value:_([(null===(t=r.layerOptions)||void 0===t?void 0:t.tileSize)||256])[0],options:d,onChange:function(e){return c("layerOptions",{tileSize:e&&e.value})}}))))};function R(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var L=function(e){var t=e.onToggleAdvancedSettings,r=void 0===t?function(){}:t,n=R(e,["onToggleAdvancedSettings"]),i=n.service,a=void 0===i?{}:i,s=function(e){switch(e){case"tms":return T;case"wmts":case"wfs":return g;case"wms":case"csw":return I;default:return g}}(a.type);return o.a.createElement(v.a,{useToolbar:!0,title:o.a.createElement(p.a,{msgId:"catalog.advancedSettings"}),expanded:!Object(d.isNil)(a.showAdvancedSettings)&&a.showAdvancedSettings,onSwitch:r},o.a.createElement(s,n))},D=r("./MapStore2/web/client/utils/ConfigUtils.js"),k=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js"),N=r.n(k),F=r("./MapStore2/web/client/utils/ConfigProvider.js");function G(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=N()("placeholder")(s.FormControl),z="custom",W="tms",V=function(e){var t=e.service,r=void 0===t?{}:t,n=e.onChangeUrl,i=void 0===n?function(){}:n;return o.a.createElement(s.FormGroup,{controlId:"URL"},o.a.createElement(s.Col,{xs:12},o.a.createElement(s.ControlLabel,null,o.a.createElement(p.a,{msgId:"catalog.url"})),o.a.createElement(B,{type:"text",style:{textOverflow:"ellipsis"},placeholder:"catalog.urlPlaceholder",value:r&&r.url,onChange:function(e){return i(e.target.value)}})))},H=function(e){return e===W?"TMS 1.0.0":e},q=function(e){var t,r,n,i=e.serviceTypes,a=void 0===i?[]:i,l=e.onChangeServiceProperty,c=e.service,u=void 0===c?{}:c,f=e.onChangeUrl,m=void 0===f?function(){}:f,y=e.onChangeTitle,g=void 0===y?function(){}:y,h=Object(D.getConfigProp)("allowedProviders")||Object(d.get)(Object(d.find)(a||[],{name:"tms"}),"allowedProviders")||[],v=Object.keys(F.a).filter((function(e){return"ALL"===h||h.indexOf(e)>=0})),S=u===W?u:null==u||null===(t=u.provider)||void 0===t||null===(r=t.split)||void 0===r||null===(n=r.call(t,"."))||void 0===n?void 0:n[0],w=!S||S===z,O=S===W,j=O||w;return o.a.createElement(s.FormGroup,null,o.a.createElement(s.Col,{xs:12,sm:w?3:12,md:j?3:12},o.a.createElement(s.ControlLabel,null,o.a.createElement(p.a,{msgId:"catalog.tms.provider"})),o.a.createElement(B,{onChange:function(e){var t=e.target.value;l("provider","".concat(t)),t!==z&&t!==W?g(t):w||O||g("")},value:S,componentClass:"select"},[z,W].concat(G(v)).map((function(e){return{name:e,label:H(e)}})).map((function(e){return o.a.createElement("option",{value:e.name,key:e.name},e.label)})))),o.a.createElement(s.Col,{xs:12,sm:9,md:9},w?o.a.createElement(o.a.Fragment,null,o.a.createElement(s.ControlLabel,null,o.a.createElement(p.a,{msgId:"catalog.tms.urlTemplate"}),"",o.a.createElement(b.a,{text:o.a.createElement(x.a,{msgId:"catalog.tms.urlTemplateHint"})})),o.a.createElement(B,{type:"text",style:{textOverflow:"ellipsis"},placeholder:"example: https://{s}.myUrl.com/{variant}/{z}/{x}/{y}",value:u&&u.url,onChange:function(e){return m(e.target.value)}})):O?o.a.createElement(o.a.Fragment,null,o.a.createElement(s.ControlLabel,null,o.a.createElement(p.a,{msgId:"catalog.url"})),o.a.createElement(B,{type:"text",style:{textOverflow:"ellipsis"},placeholder:"catalog.urlPlaceholder",value:u&&u.url,onChange:function(e){return m(e.target.value)}})):null))},Y=function(e){var t=e.service,r=void 0===t?{}:t,n=e.serviceTypes,i=e.onChangeTitle,a=e.onChangeUrl,l=e.onChangeServiceProperty,c=e.onChangeType,u="tms"===r.type?q:V;return o.a.createElement(s.Form,{horizontal:!0},o.a.createElement(s.FormGroup,{controlId:"title",key:"type-title-row"},o.a.createElement(s.Col,{key:"type",xs:12,sm:3,md:3},o.a.createElement(s.ControlLabel,null,o.a.createElement(p.a,{msgId:"catalog.type"})),o.a.createElement(B,{onChange:function(e){return c(e.target.value)},value:r&&r.type,componentClass:"select"},n.map((function(e){return o.a.createElement("option",{value:e.name,key:e.name},e.label)})))),o.a.createElement(s.Col,{key:"title",xs:12,sm:9,md:9},o.a.createElement(s.ControlLabel,null,o.a.createElement(p.a,{msgId:"catalog.serviceTitle"})),o.a.createElement(B,{type:"text",style:{textOverflow:"ellipsis"},placeholder:"catalog.serviceTitlePlaceholder",value:r&&r.title,onChange:function(e){return i(e.target.value)}}))),o.a.createElement(u,{key:"url-row",serviceTypes:n,service:r,onChangeUrl:a,onChangeTitle:i,onChangeServiceProperty:l}))};r("./node_modules/react-select/dist/react-select.css"),r("./node_modules/react-quill/dist/quill.snow.css");function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t=e.service,r=void 0===t?{title:"",type:"wms",url:"",format:"image/png"}:t,i=e.serviceTypes,l=void 0===i?[{name:"csw",label:"CSW"}]:i,u=e.onChangeTitle,d=void 0===u?function(){}:u,f=e.onChangeUrl,m=void 0===f?function(){}:f,y=e.onChangeType,b=void 0===y?function(){}:y,g=e.id,h=e.urlTooltip,v=e.formatOptions,S=e.buttonStyle,w=e.saving,O=e.onChangeServiceFormat,j=void 0===O?function(){}:O,E=e.onChangeMetadataTemplate,x=void 0===E?function(){}:E,P=e.onToggleAdvancedSettings,T=void 0===P?function(){}:P,M=e.onChangeServiceProperty,A=void 0===M?function(){}:M,C=e.onToggleTemplate,_=void 0===C?function(){}:C,I=e.onToggleThumbnail,R=void 0===I?function(){}:I,D=e.onAddService,k=void 0===D?function(){}:D,N=e.onDeleteService,F=void 0===N?function(){}:N,G=e.onChangeCatalogMode,U=void 0===G?function(){}:G,B=e.selectedService,z=e.isLocalizedLayerStylesEnabled,W=e.tileSizeOptions,V=void 0===W?[256]:W,H=e.layerOptions,q=Z(Object(n.useState)(!0),2),Q=q[0],K=q[1];return o.a.createElement(c.a,{bodyClassName:"ms2-border-layout-body catalog",header:o.a.createElement(Y,{setValid:K,service:r,serviceTypes:l,onChangeTitle:d,onChangeUrl:m,onChangeType:b,onChangeServiceProperty:A,urlTooltip:h})},o.a.createElement(s.Form,null,o.a.createElement(L,{setValid:K,id:g,service:r,formatOptions:v,buttonStyle:S,saving:w,onChangeServiceFormat:j,onChangeMetadataTemplate:x,onToggleAdvancedSettings:T,onChangeServiceProperty:A,onToggleTemplate:_,onToggleThumbnail:R,isLocalizedLayerStylesEnabled:z,tileSizeOptions:V,currentWMSCatalogLayerSize:H.tileSize?H.tileSize:256,selectedService:B}),o.a.createElement(s.FormGroup,{controlId:"buttons",key:"buttons"},o.a.createElement(s.Col,{xs:12},o.a.createElement(s.Button,{style:S,disabled:w||!Q,onClick:function(){return k()},key:"catalog_add_service_button"},w?o.a.createElement(a.a,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}):null,o.a.createElement(p.a,{msgId:"save"})),r&&!r.isNew?o.a.createElement(s.Button,{style:S,onClick:function(){return F()},key:"catalog_delete_service_button"},o.a.createElement(p.a,{msgId:"catalog.delete"})):null,o.a.createElement(s.Button,{style:S,disabled:w,onClick:function(){return U("view")},key:"catalog_back_view_button"},o.a.createElement(p.a,{msgId:"cancel"}))))))}},"./MapStore2/web/client/components/catalog/CatalogServiceSelector.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.InputGroup,a=o.Glyphicon,s=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js")(["placeholder","clearValueText","noResultsText"])(r("./node_modules/react-select/dist/react-select.es.js").default);e.exports=function(e){var t=e.isValidServiceSelected,r=e.services,o=e.selectedService,l=e.onChangeCatalogMode,c=void 0===l?function(){}:l,u=e.onChangeSelectedService,p=void 0===u?function(){}:u;return n.createElement(i,null,n.createElement(s,{clearValueText:"catalog.clearValueText",noResultsText:"catalog.noResultsText",clearable:!0,options:r,value:o,onChange:function(e){return p(e&&e.value?e.value:"")},placeholder:"catalog.servicePlaceholder"}),t?n.createElement(i.Addon,{className:"btn",onClick:function(){return c("edit",!1)}},n.createElement(a,{glyph:"pencil"})):null,n.createElement(i.Addon,{className:"btn",onClick:function(){return c("edit",!0)}},n.createElement(a,{glyph:"plus"})))}},"./MapStore2/web/client/components/catalog/CompactCatalog.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/recompose/es/Recompose.js"),l=s.compose,c=s.mapPropsStream,u=r("./MapStore2/node_modules/lodash/lodash.js").isNil,p=r("./MapStore2/web/client/components/I18N/Message.jsx"),d=r("./node_modules/rxjs/Rx.js"),f=r("./MapStore2/node_modules/lodash/lodash.js").isObject,m={csw:r("./MapStore2/web/client/api/CSW.js"),wms:r("./MapStore2/web/client/api/WMS.js"),wmts:r("./MapStore2/web/client/api/WMTS.js"),backgrounds:r("./MapStore2/web/client/api/mapBackground.js")},y=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),b=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),g=r("./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withInfiniteScroll.js"),h=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),v=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),S=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),w=r("./MapStore2/web/client/components/misc/enhancers/withControllableState.js"),O=r("./MapStore2/web/client/components/catalog/CatalogForm.jsx"),j=r("./MapStore2/web/client/utils/CatalogUtils.js").getCatalogRecords,E=r("./MapStore2/web/client/components/misc/FitIcon.jsx"),x=a.createElement(E,{glyph:"geoserver",padding:20}),P=l(h((function(e){var t=e.loading,r=e.items;return 0===(void 0===r?[]:r).length&&t})),S((function(e){var t=e.loading,r=e.error;return!t&&r}),{title:a.createElement(p,{msgId:"catalog.error"}),style:{transform:"translateY(50%)"}}),v((function(e){var t=e.loading,r=e.items;return 0===(void 0===r?[]:r).length&&!t}),{title:a.createElement(p,{msgId:"catalog.noRecordsMatched"}),style:{transform:"translateY(50%)"}}))(r("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx")),T=function(e){var t=e.records,r=e.result,n=void 0===r?{}:r;return{items:(t||[]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{title:e.title&&f(e.title)&&e.title.default||e.title,caption:e.identifier,description:e.description,preview:e.thumbnail?a.createElement("img",{src:"thumbnail"}):x,record:e}})),total:n&&n.numberOfRecordsMatched}},M={querySelector:".ms2-border-layout-body",pageSize:10};e.exports=l(w("searchText","setSearchText",""),g({loadPage:function(e){var t=e.text,r=e.catalog,n=void 0===r?{}:r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return d.Observable.fromPromise(m[n.type].textSearch(n.url,10*o+("csw"===n.type?1:0),10,t)).map((function(e){return{result:e,records:j(n.type,e||[],{url:n&&n.url,service:n})}})).map(T)},scrollSpyOptions:M}),c((function(e){return e.merge(e.take(1).switchMap((function(t){var r=t.catalog,n=t.loadFirst,o=void 0===n?function(){}:n;return e.debounceTime(500).startWith({searchText:"",catalog:r}).distinctUntilKeyChanged("searchText").do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchText,r=e.catalog;return o({text:t,catalog:r})})).ignoreElements()})))})))((function(e){var t=e.setSearchText,r=void 0===t?function(){}:t,n=e.selected,i=e.onRecordSelected,s=e.loading,l=e.searchText,c=e.items,d=void 0===c?[]:c,f=e.total,m=e.catalog,g=e.services,h=e.title,v=e.showCatalogSelector,S=e.error;return a.createElement(y,{className:"compat-catalog",header:a.createElement(O,{services:g||[m],showCatalogSelector:v,title:h,searchText:l,onSearchTextChange:r}),footer:a.createElement("div",{className:"catalog-footer"},a.createElement("span",null,s?a.createElement(b,null):null),u(f)?null:a.createElement("span",{className:"res-info"},a.createElement(p,{msgId:"catalog.pageInfoInfinite",msgParams:{loaded:d.length,total:f}})))},a.createElement(P,{items:d.map((function(e){return e===n||n&&e&&e.record&&n.identifier===e.record.identifier?o(o({},e),{},{selected:!0}):e})),loading:s,error:S,onItemClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.record;return i(t,m)}}))}))},"./MapStore2/web/client/components/catalog/RecordGrid.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Grid,g=y.Row,h=y.Col,v=r("./MapStore2/web/client/components/catalog/RecordItem.jsx").default,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"renderRecordItem",(function(t){var r=e.props.recordItem||v;return f.createElement(h,o({},e.props.column,{key:t.identifier}),f.createElement(r,{crs:e.props.crs,clearModal:e.props.clearModal,layers:e.props.layers,modalParams:e.props.modalParams,onAddBackgroundProperties:e.props.onAddBackgroundProperties,onAddBackground:e.props.onAddBackground,source:e.props.source,onLayerAdd:e.props.onLayerAdd,onPropertiesChange:e.props.onPropertiesChange,zoomToLayer:e.props.zoomToLayer,hideThumbnail:e.props.hideThumbnail,hideIdentifier:e.props.hideIdentifier,hideExpand:e.props.hideExpand,onError:e.props.onError,catalogURL:e.props.catalogURL,catalogType:e.props.catalogType,service:e.props.service,showTemplate:e.props.showTemplate,record:t,authkeyParamNames:e.props.authkeyParamNames,style:{height:"215px",maxHeight:"215px"},showGetCapLinks:e.props.showGetCapLinks,addAuthentication:e.props.addAuthentication,currentLocale:e.props.currentLocale,defaultFormat:e.props.defaultFormat,formatOptions:e.props.formatOptions,layerBaseConfig:e.props.layerBaseConfig}))})),e}return t=p,(r=[{key:"render",value:function(){if(this.props.records){var e=this.props.records instanceof Array?this.props.records:[this.props.records];return f.createElement(b,{className:"record-grid",fluid:!0,style:this.props.style},f.createElement(g,null,e.map(this.renderRecordItem)))}return null}}])&&a(t.prototype,r),n&&a(t,n),p}(f.Component);d(S,"propTypes",{crs:m.string,recordItem:m.element,catalogURL:m.string,catalogType:m.string,zoomToLayer:m.bool,onLayerAdd:m.func,onPropertiesChange:m.func,onError:m.func,records:m.array,authkeyParamNames:m.array,style:m.object,showGetCapLinks:m.bool,addAuthentication:m.bool,column:m.object,currentLocale:m.string,hideThumbnail:m.bool,hideIdentifier:m.bool,hideExpand:m.bool,source:m.string,onAddBackgroundProperties:m.func,modalParams:m.object,layers:m.object,clearModal:m.func,onAddBackground:m.func,showTemplate:m.bool,service:m.object,defaultFormat:m.string,formatOptions:m.array,layerBaseConfig:m.object}),d(S,"defaultProps",{column:{xs:12},currentLocale:"en-US",onLayerAdd:function(){},onPropertiesChange:function(){},onError:function(){},records:[],zoomToLayer:!0,layerBaseConfig:{},crs:"EPSG:3857"}),e.exports=S},"./MapStore2/web/client/components/catalog/RecordItem.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=r("./node_modules/react-bootstrap/es/index.js"),c=r("./MapStore2/web/client/utils/CatalogUtils.js"),u=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),p=r.n(u),d=r("./MapStore2/web/client/components/misc/HtmlRenderer.jsx"),f=r.n(d),m=r("./MapStore2/web/client/utils/TemplateUtils.js"),y=r("./MapStore2/web/client/utils/LocaleUtils.js"),b=r.n(y),g=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=r.n(g),v=r("./MapStore2/web/client/components/catalog/SharingLinks.jsx"),S=r.n(v),w=r("./MapStore2/web/client/components/misc/cardgrids/SideCard.jsx"),O=r.n(w),j=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),E=r.n(j),x=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),P=r.n(x),T=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),M=r.n(T),A=r("./node_modules/xml2js/lib/xml2js.js"),C=r.n(A),_=r("./MapStore2/web/client/libs/ajax.js"),I=r.n(_);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var N=P()(l.Button),F=function(e){var t=e.record,r=e.service,i=e.children,a=e.addLayer,s=void 0===a?function(){}:a,l=k(e,["record","service","children","addLayer"]),u=L(Object(n.useState)(!1),2),p=u[0],d=u[1];return o.a.createElement(N,R({disabled:p},l,{onClick:function(){var e;d(!0),(e=t.tileMapUrl,I.a.get(e).then((function(e){return new Promise((function(t){C.a.parseString(e.data,{explicitArray:!1},(function(e,r){return t(r)}))}))}))).then((function(e){d(!1),s(Object(c.tmsToLayer)(t,e,r))}))}}),p?o.a.createElement(M.a,null):i)};function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var B=P()(l.Button),z=function(e){var t=e.record,r=e.service,n=e.children,i=e.addLayer,a=void 0===i?function(){}:i,s=U(e,["record","service","children","addLayer"]);return o.a.createElement(B,G({},s,{onClick:function(){a(Object(c.tileProviderToLayer)(t,r))}}),n)},W=r("./MapStore2/web/client/components/catalog/img/default.jpg"),V=r.n(W),H=r("./MapStore2/web/client/plugins/background/DefaultThumbs.js"),q=r.n(H);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oe(e);if(t){var o=oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return re(this,r)}}function re(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?ne(e):t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ae=P()(l.Button),se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(a,e);var t,r,n,i=te(a);function a(){var e;J(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ie(ne(e=i.call.apply(i,[this].concat(r))),"state",{visibleExpand:!1}),ie(ne(e),"getTitle",(function(t){return Object(s.isObject)(t)?t[e.props.currentLocale]||t.default:t||""})),ie(ne(e),"renderThumb",(function(t,r){var n=t||V.a;return o.a.createElement(l.Image,{className:"preview",src:n,alt:r&&e.getTitle(r.title)})})),ie(ne(e),"renderButtons",(function(t,r){if(!t||!t.references)return null;var n=Object(c.extractOGCServicesReferences)(t),i=n.wms,a=n.wmts,s=n.tms,u=n.wfs,p=Object(c.extractEsriReferences)(t).esri,d=t&&t.background,f=t&&"tileprovider"===t.type&&t.provider,m=[];if(d&&m.push(r?o.a.createElement(h.a,{msgId:"catalog.backgroundAlreadyAdded"}):o.a.createElement(ae,{tooltipId:"catalog.addToMap",className:"square-button-md",bsStyle:"primary",bsSize:e.props.buttonSize,onClick:function(){var t=X(X({},d),{},{id:d.name,visibility:!1});e.props.onLayerAdd(t,{background:d})},key:"addlayer"},o.a.createElement(l.Glyphicon,{glyph:"plus"}))),i||a){var y=i?"wms":"wmts";m.push(o.a.createElement(ae,{tooltipId:"catalog.addToMap",className:"square-button-md",bsStyle:"primary",bsSize:e.props.buttonSize,onClick:function(){var r=e.makeLayer(y,i||a,t.format&&[t.format]||t.formats);r&&e.addLayer(r,{record:t})},key:"add".concat(y,"layer")},o.a.createElement(l.Glyphicon,{glyph:"plus"})))}if(p&&m.push(o.a.createElement(ae,{tooltipId:"catalog.addToMap",className:"square-button-md",bsStyle:"primary",bsSize:e.props.buttonSize,onClick:function(){e.addLayer(Object(c.esriToLayer)(e.props.record,e.props.layerBaseConfig))},key:"addesrilayer"},o.a.createElement(l.Glyphicon,{glyph:"plus"}))),s&&m.push(o.a.createElement(F,{service:e.props.service,key:"addTmsLayer",tooltipId:"catalog.addToMap",className:"square-button-md",bsStyle:"primary",bsSize:e.props.buttonSize,addLayer:e.addLayer,record:e.props.record},o.a.createElement(l.Glyphicon,{glyph:"plus"}))),u&&m.push(o.a.createElement(ae,{tooltipId:"catalog.addToMap",key:"addWFSLayer",className:"square-button-md",bsStyle:"primary",bsSize:e.props.buttonSize,onClick:function(){e.addLayer(Object(c.wfsToLayer)(e.props.record,e.props.layerBaseConfig))}},o.a.createElement(l.Glyphicon,{glyph:"plus"}))),f&&m.push(o.a.createElement(z,{key:"addTileProviderLayer",service:e.props.service,tooltipId:"catalog.addToMap",className:"square-button-md",bsStyle:"primary",bsSize:e.props.buttonSize,addLayer:e.addLayer,record:e.props.record},o.a.createElement(l.Glyphicon,{glyph:"plus"}))),e.props.showGetCapLinks){var b=Object(c.getRecordLinks)(t);b.length>0&&m.push(o.a.createElement(S.a,{key:"sharing-links",popoverContainer:ne(e),links:b,onCopy:e.props.onCopy,buttonSize:e.props.buttonSize,addAuthentication:e.props.addAuthentication}))}return m})),ie(ne(e),"renderDescription",(function(t){if(!t)return null;var r=b.a.getMessageById(e.context.messages,"catalog.notAvailable");return e.state.fullText&&t.metadataTemplate?o.a.createElement("div",{className:"catalog-metadata ql-editor"},o.a.createElement(f.a,{html:Object(m.parseCustomTemplate)(t.metadataTemplate,t.metadata,(function(e){return"".concat(Object(s.trim)(e.substring(2,e.length-1))," ").concat(r)}))})):t.metadataTemplate?"":Object(s.isArray)(t.description)?t.description.join(", "):t.description})),ie(ne(e),"isLinkCopied",(function(t){return e.state[t]})),ie(ne(e),"setLinkCopiedStatus",(function(t,r){e.setState(ie({},t,r))})),ie(ne(e),"getLayerFormat",(function(t){return 0===t.length||t.filter((function(t){return t===e.props.defaultFormat})).length>0?e.props.defaultFormat:t[0]})),ie(ne(e),"makeLayer",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[e.props.defaultFormat],o=Object(c.buildSRSMap)(r.SRS);if(r.SRS.length>0&&!p.a.isAllowedSRS(e.props.crs,o))return e.props.onError("catalog.srs_not_allowed"),null;var i=e.props.service&&e.props.service.localizedLayerStyles;return Object(c.recordToLayer)(e.props.record,t,X({removeParams:e.props.authkeyParamNames},"wms"===t?{catalogURL:"csw"===e.props.catalogType&&e.props.catalogURL?e.props.catalogURL+"?request=GetRecordById&service=CSW&version=2.0.2&elementSetName=full&id="+e.props.record.identifier:null,format:e.getLayerFormat(n.filter((function(e){return 0===e.indexOf("image/")})))}:{format:e.getLayerFormat(n.filter((function(e){return 0===e.indexOf("image/")})))}),e.props.layerBaseConfig,i)})),ie(ne(e),"addLayer",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.background;if("backgroundSelector"===e.props.source)n?(e.props.onLayerAdd(X(X({},t),{},{group:"background"}),{source:e.props.source}),e.props.onAddBackground(t.id)):e.props.onAddBackgroundProperties({editing:!1,layer:t},!0);else{var o=e.props.zoomToLayer;e.props.onLayerAdd(t,{zoomToLayer:o})}})),ie(ne(e),"displayExpand",(function(){return(e.descriptionRuler?e.descriptionRuler.clientWidth:0)>(e.sideCardDesc?e.sideCardDesc.clientWidth:0)})),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=b.a.getMessageById(this.context.messages,"catalog.notAvailable"),t=this.props.record;this.setState({visibleExpand:!this.props.hideExpand&&(this.displayExpand()||!!(this.props.showTemplate&&t&&t.metadataTemplate&&Object(m.parseCustomTemplate)(t.metadataTemplate,t.metadata,(function(t){return"".concat(Object(s.trim)(t.substring(2,t.length-1))," ").concat(e)}))))})}},{key:"UNSAFE_componentWillMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t=this.props.record,r=Object(c.extractOGCServicesReferences)(t),n=r.wms,i=r.wmts,a=r.tms,l=r.wfs,u=Object(c.extractEsriReferences)(t).esri,p=t&&"tileprovider"===t.type&&t.provider,d=t&&t.background,f=d&&Object(s.head)((this.props.layers||[]).filter((function(e){return e.id===d.name||e.type===d.type&&e.source===d.source&&e.name===d.name})));return t?o.a.createElement("div",null,o.a.createElement(O.a,{style:{transform:"none",opacity:f?.4:1},fullText:this.state.fullText,preview:!this.props.hideThumbnail&&this.renderThumb(t&&t.thumbnail||d&&q.a[d.source][d.name],t),title:t&&this.getTitle(t.title),description:o.a.createElement("span",null,o.a.createElement("div",{className:!0,ref:function(t){e.sideCardDesc=t}},this.renderDescription(t))),caption:o.a.createElement("div",null,!this.props.hideIdentifier&&o.a.createElement("div",{className:"identifier"},t&&t.identifier),o.a.createElement("div",null,!n&&!i&&!u&&!d&&!a&&!p&&!l&&o.a.createElement("small",{className:"text-danger"},o.a.createElement(h.a,{msgId:"catalog.missingReference"}))),!this.props.hideExpand&&o.a.createElement("div",{className:"ms-ruler",style:{visibility:"hidden",height:0,whiteSpace:"nowrap",position:"absolute"},ref:function(t){e.descriptionRuler=t}},this.renderDescription(t))),tools:o.a.createElement(E.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[].concat(Z((t&&this.renderButtons(t,f)||[]).map((function(e){return{Element:function(){return e}}}))),[{glyph:this.state.fullText?"chevron-down":"chevron-left",visible:this.state.visibleExpand,tooltipId:this.state.fullText?"collapse":"expand",onClick:function(){return e.setState({fullText:!e.state.fullText})}}])})})):null}}])&&$(t.prototype,r),n&&$(t,n),a}(o.a.Component);ie(se,"propTypes",{addAuthentication:a.a.bool,authkeyParamNames:a.a.array,buttonSize:a.a.string,catalogURL:a.a.string,catalogType:a.a.string,crs:a.a.string,currentLocale:a.a.string,hideThumbnail:a.a.bool,hideExpand:a.a.bool,hideIdentifier:a.a.bool,layerBaseConfig:a.a.object,onCopy:a.a.func,onError:a.a.func,onLayerAdd:a.a.func,record:a.a.object,showGetCapLinks:a.a.bool,zoomToLayer:a.a.bool,onPropertiesChange:a.a.func,onLayerChange:a.a.func,layers:a.a.array,onAdd:a.a.func,source:a.a.string,onAddBackgroundProperties:a.a.func,deletedId:a.a.string,clearModal:a.a.func,service:a.a.service,showTemplate:a.a.bool,defaultFormat:a.a.string,formatOptions:a.a.array}),ie(se,"defaultProps",{buttonSize:"small",crs:"EPSG:3857",currentLocale:"en-US",onAddBackgroundProperties:function(){},hideThumbnail:!1,hideIdentifier:!1,hideExpand:!1,layerBaseConfig:{},onCopy:function(){},onError:function(){},onLayerAdd:function(){},onPropertiesChange:function(){},onLayerChange:function(){},clearModal:function(){},style:{},showGetCapLinks:!1,zoomToLayer:!0,layers:[],onAdd:function(){},source:"metadataExplorer",showTemplate:!1,changeLayerProperties:function(){},defaultFormat:"image/png"}),ie(se,"contextTypes",{messages:a.a.object});t.default=se},"./MapStore2/web/client/components/catalog/SharingLink.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./MapStore2/web/client/components/I18N/Message.jsx"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.FormControl,g=y.FormGroup,h=y.Button,v=y.Glyphicon,S=y.Tooltip,w=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),O=r("./node_modules/react-copy-to-clipboard/lib/index.js"),j=r("./MapStore2/web/client/utils/SecurityUtils.js"),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{showCopiedToolTip:!1}),e}return t=u,(r=[{key:"render",value:function(){var e=this;if(!this.props.url)return null;var t=this.props.addAuthentication?j.addAuthenticationToUrl(this.props.url):this.props.url,r=this.state.showCopiedToolTip?"catalog.copied":"catalog.copyToClipboard",n=f.createElement(S,{id:"tooltip"},f.createElement(m,{msgId:r})),o=f.createElement(O,{text:t,onCopy:this.props.onCopy},f.createElement(w,{placement:"right",overlay:n,onExited:function(){return e.setState({showCopiedToolTip:!1})}},f.createElement(h,{bsSize:this.props.bsSize,bsStyle:"primary",className:"link-button",onClick:function(){return e.setState({showCopiedToolTip:!0})}},f.createElement(v,{glyph:"paperclip"}),"",this.props.labelId&&f.createElement(m,{msgId:this.props.labelId}))));return f.createElement("div",{className:"link-sharing"},f.createElement(g,{bsSize:this.props.bsSize},f.createElement(b,{className:"link-input",type:"text",value:t,onChange:function(){}}),o))}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(E,"propTypes",{url:d.string.isRequired,labelId:d.string,onCopy:d.func,bsSize:d.string,addAuthentication:d.bool}),p(E,"defaultProps",{onCopy:function(){},bsSize:"small",addAuthentication:!1}),e.exports=E},"./MapStore2/web/client/components/catalog/SharingLinks.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,f,m,y=r("./node_modules/react/index.js"),b=r("./node_modules/prop-types/index.js"),g=r("./MapStore2/web/client/components/catalog/SharingLink.jsx"),h=r("./MapStore2/web/client/components/I18N/Message.jsx"),v=r("./node_modules/react-bootstrap/es/index.js"),S=v.Popover,w=v.Button,O=v.Glyphicon,j=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,r,n,u=c(p);function p(){return a(this,p),u.apply(this,arguments)}return t=p,(r=[{key:"render",value:function(){if(!this.props.links||0===this.props.links.length)return null;var e=this.props,t=e.links,r=e.buttonSize,n=i(e,["links","buttonSize"]),a=t.map((function(e,t){return y.createElement(g,o({key:t,url:e.url,labelId:e.labelId},n))})),s=y.createElement(S,{className:"links-popover",id:"links-popover"},y.createElement("h5",null,y.createElement(h,{msgId:"catalog.share"})),a);return y.createElement(j,{container:this.props.popoverContainer,positionLeft:150,placement:"top",trigger:"click",overlay:s},y.createElement(w,{bsSize:r,className:"square-button-md",bsStyle:"primary"},y.createElement(O,{glyph:"link"})))}}])&&s(t.prototype,r),n&&s(t,n),p}(y.Component);d=E,f="propTypes",m={links:b.array,onCopy:b.func,messages:b.object,locale:b.string,buttonSize:b.string,popoverContainer:b.object,addAuthentication:b.bool},f in d?Object.defineProperty(d,f,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[f]=m,e.exports=E},"./MapStore2/web/client/components/catalog/img/default.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/components/catalog/img/default.jpg"},"./MapStore2/web/client/components/charts/Bar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.castArray,h=b.isNil,v=b.isEqual,S=r("./node_modules/prop-types/index.js"),w=r("./node_modules/react/index.js"),O=r("./node_modules/recharts/es6/index.js"),j=O.BarChart,E=O.Bar,x=r("./MapStore2/web/client/components/charts/cartesian.jsx").default,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,r,n,o=p(d);function d(){var e;l(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=o.call.apply(o,[this].concat(r))),"state",{marginLeft:0,marginBottom:0}),e}return t=d,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){v(e.xAxisAngle,this.props.xAxisAngle)||this.setState({marginLeft:0,marginBottom:0})}},{key:"render",value:function(){var e=this,t=this.props,r=t.autoColorOptions,n=t.colorGenerator,o=t.data,l=(t.isAnimationActive,t.height),c=t.margin,u=t.series,p=t.width,d=s(t,["autoColorOptions","colorGenerator","data","isAnimationActive","height","margin","series","width"]),f=g(u),m=n(f.length),y=h(d.xAxisAngle)?[]:["angle".concat(d.xAxisAngle)],b=d.yAxisLabel?[d.yAxisLabel]:[],v=d.yAxis,S=(m||["linechart"]).concat(b,v,y).join(""),O=this.state.marginLeft,P=this.state.marginBottom;return w.createElement(j,{key:S,autoColorOptions:r,width:p,height:l,data:o,margin:d.xAxisAngle?{top:20,right:30,left:O,bottom:P+20}:c},f.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.color,s(e,["color"])),r=arguments.length>1?arguments[1]:void 0;return w.createElement(E,a({key:"bar-".concat(r),name:d.yAxisLabel?d.yAxisLabel:null,fill:m[r]},t))})),x(i(i({},d),{},{onUpdateLabelLength:function(t){var r=t.marginLeft,n=t.marginBottom;e.setState((function(e){return{marginBottom:e.marginBottom<n?n:e.marginBottom,marginLeft:e.marginLeft<r?r:e.marginLeft}}))}})),d.children)}}])&&c(t.prototype,r),n&&c(t,n),d}(w.Component);y(P,"propTypes",{autoColorOptions:S.object,colorGenerator:S.func,data:S.array,isAnimationActive:S.bool,height:S.number,margin:S.object,series:S.array,xAxisAngle:S.number,width:S.number}),y(P,"defaultProps",{height:300,series:[],width:600}),e.exports=P},"./MapStore2/web/client/components/charts/Gauge.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r("./node_modules/react/index.js"),c=r("./node_modules/recharts/es6/index.js"),u=c.Sector,p=c.Cell,d=c.PieChart,f=c.Pie,m=c.Tooltip,y=r("./MapStore2/web/client/components/charts/polar.jsx").convertToNameValue,b=function(e){var t=e.customCellHeight,r=e.height,n=e.rows;return t||(r-20)/n},g=function(e){return e.width/e.cols},h=function(e){var t=e.data,r=e.cols;return Math.ceil(t.length/r)},v=function(e){var t=e.width,r=e.height,n=e.data,o=void 0===n?[]:n,i=e.customCellHeight,a=Math.floor(Math.sqrt(o.length));a=Math.min(a,o.length,20);var s=g({width:t,cols:a}),l=h({data:o,cols:a});return function(e){var t=e.cols,r=e.rows,n=e.cellWidth,o=e.cellHeight,i=e.height,a=e.width,s=e.data,l=void 0===s?[]:s;if(2*o<n){var c=Math.min(l.length,Math.ceil(l.length/(i/n*2)));return{cols:c,rows:h({data:l,cols:c}),cellWidth:g({width:a,cols:c}),cellHeight:b({height:i,rows:h({data:l,cols:c})})}}return{cols:t,rows:r,cellWidth:n,cellHeight:o}}({data:o,height:r,width:t,cols:a,rows:l,cellWidth:s,cellHeight:b({customCellHeight:i,height:r,rows:l})})};e.exports=function(e){var t=e.data,r=e.xAxis,s=void 0===r?{}:r,c=e.colorGenerator,b=e.series,g=void 0===b?[]:b,h=e.width,S=void 0===h?500:h,w=e.height,O=void 0===w?500:w,j=e.useActive,E=void 0!==j&&j,x=e.customCellHeight,P=e.tooltip,T=e.legend,M=e.maxValue,A=e.isAnimationActive,C=Array.isArray(g)?g:[g],_=v({width:S,height:O,data:t,customCellHeight:x}),I=_.cols,R=_.rows,L=_.cellWidth,D=_.cellHeight,k=t.map((function(e,t){return{cx:(t%I+.5)*L,cy:Math.floor(t/I)*D+5}})),N=C[0]||{},F=isNaN(M)?y({name:s&&s.dataKey||N.name,value:N.dataKey||N.value},t).reduce((function(e,t){return Math.max(t.value,e)}),Number.NEGATIVE_INFINITY):M,G=c(2),U=[{value:F,color:G[0]}];return l.createElement(d,{width:L*I,height:D*R+20},P?l.createElement(m,{content:function(e){var t=e.payload,r=e.label;return l.createElement("div",{style:{backgroundColor:"#FFF",padding:5,border:"1px solid #CCCCCC"}},"".concat(r||t&&t[0]&&t[0].name||""," : ").concat(t&&t[0]&&(t[0].realValue||t[0].value)))}}):null,y({name:s&&s.dataKey||N.name,value:N.dataKey||N.value},t).map((function(e,t){var r=S/I,s=e.value,c=U.map((function(e,t,r){var n=a(r).splice(0,t+1).reduce((function(e,t){return{value:e.value+t.value}})).value;return s>n-e.value&&s<=n})).findIndex((function(e){return e})),d=U.map((function(e){return e.value})).reduce((function(e,t){return e+t})),m=[{value:s,realValue:s,name:e.name},{value:0,realValue:s,name:e.name},{value:d-s,realValue:s,name:e.name}],y={startAngle:180,endAngle:0,cx:k[t]&&k[t].cx||0,cy:k[t]&&k[t].cy+D||0},b={innerRadius:r/2*.5,outerRadius:r/2*.9};return[l.createElement(f,n({key:"pie-".concat(t),isAnimationActive:A,activeIndex:c,activeShape:E?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,o=e.outerRadius,i=e.startAngle,a=e.endAngle,s=e.fill;return l.createElement("g",null,l.createElement(u,{cx:t,cy:r,innerRadius:n,outerRadius:1.2*o,startAngle:i,endAngle:a,fill:s}))}:void 0,data:U.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({realValue:s,name:e.name},t)})),fill:"#8884d8"},b,y),U.map((function(e,t){return l.createElement(p,{key:"cell-".concat(t),fill:U[t].color})}))),l.createElement(f,n({isAnimationActive:A,stroke:"none",activeIndex:1,activeShape:function(t){var n=t.cx,o=t.cy,i=t.midAngle,a=t.outerRadius,s=Math.PI/180,c=Math.sin(-s*i),u=Math.cos(-s*i),p=n+(a+.1*r)*u,d=o+(a+.1*r)*c;return l.createElement("g",{width:r},l.createElement("circle",{cx:n,cy:o,r:.05*r,fill:G[1],stroke:"none"}),l.createElement("path",{d:"M".concat(n,",").concat(o,"L").concat(p,",").concat(d),strokeWidth:.06*r,stroke:"#999999",strokeLinecap:"round"}),l.createElement("path",{d:"M".concat(n,",").concat(o,"L").concat(p,",").concat(d),strokeWidth:.05*r,stroke:G[1],fill:G[1],strokeLinecap:"round"}),T?l.createElement("text",{textAnchor:"middle",width:r,x:n,y:o-1.5*a},e.value.toFixed(2)):null,T?l.createElement("text",{style:{fill:"#000000",stroke:"#000000",fontSize:.1*r},textAnchor:"middle",width:r,x:n,y:o},e.name):null)},data:m,outerRadius:b.innerRadius,fill:"none"},y,{legend:!0}))]})))}},"./MapStore2/web/client/components/charts/Line.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.castArray,h=b.isNil,v=b.isEqual,S=r("./node_modules/prop-types/index.js"),w=r("./node_modules/react/index.js"),O=r("./node_modules/recharts/es6/index.js"),j=O.LineChart,E=O.Line,x=r("./MapStore2/web/client/components/charts/cartesian.jsx").default,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,r,n,o=p(d);function d(){var e;l(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=o.call.apply(o,[this].concat(r))),"state",{marginLeft:0,marginBottom:0}),e}return t=d,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){v(e.xAxisAngle,this.props.xAxisAngle)||this.setState({marginLeft:0,marginBottom:0})}},{key:"render",value:function(){var e=this,t=this.props,r=t.autoColorOptions,n=t.colorGenerator,o=t.data,l=t.isAnimationActive,c=t.height,u=t.margin,p=t.series,d=t.width,f=s(t,["autoColorOptions","colorGenerator","data","isAnimationActive","height","margin","series","width"]),m=g(p),y=n(m.length,r),b=f.yAxisLabel?[f.yAxisLabel]:[],v=f.yAxis,S=h(f.xAxisAngle)?[]:["angle".concat(f.xAxisAngle)],O=(y||["linechart"]).concat(b,v,S).join(""),P=this.state.marginLeft,T=this.state.marginBottom;return w.createElement(j,{key:O,width:d,height:c,data:o,margin:f.xAxisAngle?{top:20,right:30,left:P+5,bottom:T+20}:u},m.map((function(e,t){e.color;var r=s(e,["color"]);return w.createElement(E,a({key:"line-".concat(t),name:f.yAxisLabel?f.yAxisLabel:null,isAnimationActive:l,stroke:y[t]},r))})),x(i(i({},f),{},{onUpdateLabelLength:function(t){var r=t.marginLeft,n=t.marginBottom;e.setState((function(e){return{marginBottom:e.marginBottom<n?n:e.marginBottom,marginLeft:e.marginLeft<r?r:e.marginLeft}}))}})),f.children)}}])&&c(t.prototype,r),n&&c(t,n),d}(w.Component);y(P,"propTypes",{autoColorOptions:S.object,colorGenerator:S.func,data:S.array,isAnimationActive:S.bool,height:S.number,margin:S.object,series:S.array,xAxisAngle:S.number,width:S.number}),y(P,"defaultProps",{height:300,series:[],width:600}),e.exports=P},"./MapStore2/web/client/components/charts/Pie.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js").pure,s=r("./node_modules/recharts/es6/index.js"),l=s.PieChart,c=s.Pie,u=s.Cell,p=r("./MapStore2/web/client/components/charts/polar.jsx").convertToNameValue;e.exports=a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isAnimationActive,r=e.width,a=void 0===r?600:r,s=e.height,d=void 0===s?300:s,f=e.data,m=e.series,y=void 0===m?[]:m,b=e.xAxis,g=e.colorGenerator,h=e.maxCols,v=void 0===h?3:h,S=o(e,["isAnimationActive","width","height","data","series","xAxis","colorGenerator","maxCols"]),w=Array.isArray(y)?y:[y],O=Math.min(v,w.length),j=g(f.length),E=a/O,x=d/Math.floor((w.length||1)/O),P=w.map((function(e,t){return{cx:(t%O+.5)*E,cy:(Math.floor(t/O)+.5)*x}})),T=f.map((function(e,t){return i.createElement(u,{key:"cell-".concat(t),fill:j[t]})}));return i.createElement(l,{width:a,height:d,data:f},w.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return i.createElement(c,n({key:"pie-".concat(r),isAnimationActive:t},P[r],{data:p({name:b&&b.dataKey||e.name,value:e.dataKey||e.value},f)},e,{outerRadius:Math.min(E/2,x/2)}),T)})),S.children)}))},"./MapStore2/web/client/components/charts/SimpleChart.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/recharts/es6/index.js"),s=a.Tooltip,l=a.Legend,c=r("./MapStore2/web/client/utils/ColorUtils.js").sameToneRangeColors,u={line:r("./MapStore2/web/client/components/charts/Line.jsx"),pie:r("./MapStore2/web/client/components/charts/Pie.jsx"),bar:r("./MapStore2/web/client/components/charts/Bar.jsx"),gauge:r("./MapStore2/web/client/components/charts/Gauge.jsx")},p={base:190,range:0,s:.95,v:.63};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=void 0===t?"line":t,a=e.tooltip,d=void 0===a?{}:a,f=e.legend,m=void 0===f?{}:f,y=e.autoColorOptions,b=void 0===y?p:y,g=e.colorGenerator,h=o(e,["type","tooltip","legend","autoColorOptions","colorGenerator"]),v=u[r],S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,r=t.base,n=t.range,i=o(t,["base","range"]);return(c(r,n,e+1,i)||[0]).slice(1)},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.active,r=e.payload;if(t){var n=r[0].name,o=r[0].percent;return i.createElement("div",{className:"custom-tooltip"},i.createElement("p",{className:"label"},"".concat(n," : ").concat(r[0].value),i.createElement("span",{className:"desc"},"(",(100*o).toFixed(0),"%)")))}return null};return i.createElement(v,n({margin:{top:5,right:30,left:20,bottom:5},colorGenerator:g||S,autoColorOptions:b},h,{legend:m,tooltip:d}),!1!==d?"pie"===r?i.createElement(s,{content:w}):i.createElement(s,d):null,!1!==m?i.createElement(l,n({},m,{wrapperStyle:{bottom:0}})):null)}},"./MapStore2/web/client/components/charts/cartesian.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/recharts/es6/index.js"),a=r("./node_modules/prop-types/index.js"),s=r.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,r,n,i=d(a);function a(){return c(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"componentDidMount",value:function(){if(this.label){var e=Math.floor(this.label.getClientRects()[0].width*Math.cos(Math.PI/180*this.props.angle)),t=Math.ceil(this.label.getClientRects()[0].height*Math.sin(Math.PI/180*this.props.angle));this.props.onUpdateLabelLength({marginLeft:e,marginBottom:t})}}},{key:"render",value:function(){var e=this,t=this.props,r=t.x,n=t.y,i=t.payload,a=t.angle;return o.a.createElement("g",{transform:"translate(".concat(r-(a>=75?10:0),",").concat(n+5,")")},o.a.createElement("text",{ref:function(t){e.label=t},x:0,y:0,dy:16,textAnchor:"end",fill:"#666",transform:"rotate(-".concat(a,")")},i.value))}}])&&u(t.prototype,r),n&&u(t,n),a}(o.a.Component);y(b,"propTypes",{angle:s.a.number,onUpdateLabelLength:s.a.func,payload:s.a.object,x:s.a.number,y:s.a.number}),y(b,"defaultProps",{angle:0,payload:{}});var g=b,h=r("./MapStore2/web/client/utils/WidgetsUtils.js"),v=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,i=void 0===n?0:n,a=e.threshold,s=e.payload,l=void 0===s?{}:s;return o.a.createElement("g",{transform:"translate(0,3)"},o.a.createElement("text",{style:{fill:"#666"},x:r-5,y:i,textAnchor:"end"},Object(h.shortenLabel)(l.value,a)))};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.xAxis,r=e.yAxis,n=e.cartesian,a=e.xAxisAngle,s=void 0===a?0:a,l=e.shortenChartLabelThreshold,c=e.onUpdateLabelLength,u=void 0===c?function(){}:c;return[t&&!1!==t.show?o.a.createElement(i.XAxis,S({key:"xaxis"},t,{interval:s>0?0:void 0,tick:s>0?o.a.createElement(g,{angle:s,onUpdateLabelLength:u}):void 0})):null,r?o.a.createElement(i.YAxis,S({key:"yaxis",tick:o.a.createElement(v,{threshold:l}),domain:[0,"auto"]},r)):null,!1!==n?o.a.createElement(i.CartesianGrid,S({key:"cartesiangrid"},n)):null]}},"./MapStore2/web/client/components/charts/polar.jsx":function(e,t){e.exports={convertToNameValue:function(e){var t=e.name,r=e.value,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.map((function(e){return{name:e[t],value:e[r]}}))}}},"./MapStore2/web/client/components/data/featuregrid/AttributeSelector.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js").Checkbox,i=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,a=e.titleMsg,s=void 0===a?"featuregrid.columns":a,l=e.onChange,c=void 0===l?function(){}:l,u=e.attributes,p=void 0===u?[]:u;return n.createElement("div",{className:"bg-body data-attribute-selector",style:r},n.createElement("h4",{className:"text-center"},n.createElement("strong",null,n.createElement(i,{msgId:s}))),n.createElement("div",null,p.map((function(e){return n.createElement(o,{key:e.attribute||e.name,checked:!e.hide,onChange:function(){return c(e.attribute,!e.hide)}},e.label||e.attribute)}))))}},"./MapStore2/web/client/components/data/featuregrid/AttributeTable.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./node_modules/react-data-grid/index.js"),s=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,o=e.titleMsg,l=void 0===o?"featuregrid.columns":o,c=e.onChange,u=void 0===c?function(){}:c,p=e.attributes,d=void 0===p?[]:p;return i.createElement("div",{className:"bg-body data-attribute-selector",style:r},i.createElement("h4",{className:"text-center"},i.createElement("strong",null,i.createElement(s,{msgId:l}))),i.createElement(a,{rowKey:"id",columns:[{name:"",key:"attribute"}],rowGetter:function(e){return d[e]},rowsCount:d.length,rowSelection:{showCheckbox:!0,enableShiftSelect:!0,onRowsSelected:function(e){return u(e.map((function(e){return d[e.rowIdx].name})),!1)},onRowsDeselected:function(e){return u(e.map((function(e){return d[e.rowIdx].name})),!0)},selectBy:{indexes:d.reduce((function(e,t,r){return[].concat(n(e),n(t.hide?[]:[r]))}),[])}}}))}},"./MapStore2/web/client/components/data/featuregrid/EmptyRowsView.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,p,d,f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./MapStore2/web/client/components/I18N/Message.jsx"),b={width:"100%",height:"100%",textAlign:"center",verticalAlign:"center"},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return this.props.loading?f.createElement("div",{style:b},f.createElement(y,{msgId:"loading"})):f.createElement("div",{style:b},f.createElement(y,{msgId:"featuregrid.noFeaturesAvailable"}))}}])&&i(t.prototype,r),n&&i(t,n),c}(f.PureComponent);u=g,p="propTypes",d={loading:m.bool},p in u?Object.defineProperty(u,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[p]=d,e.exports=g},"./MapStore2/web/client/components/data/featuregrid/FeatureGrid.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./MapStore2/web/client/components/misc/AdaptiveGrid.jsx"),m=r("./MapStore2/web/client/components/data/featuregrid/enhancers/editor.js").featuresToGrid,y=r("./MapStore2/web/client/components/data/featuregrid/renderers/RowRenderer.jsx"),b=r("./MapStore2/web/client/utils/FeatureGridUtils.js"),g=b.isValidValueForPropertyName,h=b.isProperty,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),l.call(this,e)}return t=c,(r=[{key:"componentDidMount",value:function(){this.props.initPlugin({virtualScroll:this.props.virtualScroll,editingAllowedRoles:this.props.editingAllowedRoles,maxStoredPages:this.props.maxStoredPages})}},{key:"getChildContext",value:function(){var e=this;return{isModified:function(t,r){return e.props.changes.hasOwnProperty(t)&&e.props.changes[t].hasOwnProperty(r)},isProperty:function(t){return"geometry"===t||h(t,e.props.describeFeatureType)},isValid:function(t,r){return!e.props.describeFeatureType||g(t,r,e.props.describeFeatureType)}}}},{key:"render",value:function(){var e=this.props.gridComponent;return p.createElement(e,o({rowRenderer:y},this.props))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.PureComponent);u(v,"propTypes",{autocompleteEnabled:d.bool,editingAllowedRoles:d.array,gridOpts:d.object,changes:d.object,selectBy:d.object,customEditorsOptions:d.object,features:d.array,showDragHandle:d.bool,gridComponent:d.func,describeFeatureType:d.object,columnSettings:d.object,gridOptions:d.object,actionOpts:d.object,initPlugin:d.func,tools:d.array,gridEvents:d.object,virtualScroll:d.bool,maxStoredPages:d.number}),u(v,"childContextTypes",{isModified:d.func,isValid:d.func,isProperty:d.func}),u(v,"defaultProps",{editingAllowedRoles:["ADMIN"],initPlugin:function(){},autocompleteEnabled:!1,gridComponent:f,changes:{},gridEvents:{},gridOpts:{},describeFeatureType:{},columnSettings:{},features:[],tools:[],showDragHandle:!1,virtualScroll:!1,maxStoredPages:5}),e.exports=m(v)},"./MapStore2/web/client/components/data/featuregrid/Footer.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./node_modules/react-bootstrap/es/index.js"),a=i.Button,s=i.Glyphicon,l=i.Grid,c=i.Row,u=i.Col,p=r("./node_modules/react-spinkit/dist/index.js"),d=r("./MapStore2/web/client/utils/FeatureGridUtils.js").toPage;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,onPageChange:function(){}},t=d(e),r=t.page,i=void 0===r?0:r,f=t.size,m=void 0===f?0:f,y=t.resultSize,b=void 0===y?0:y,g=t.maxPages,h=void 0===g?0:g,v=t.total,S=void 0===v?0:v;return n.createElement(l,{className:"bg-body data-grid-bottom-toolbar",fluid:!0,style:{width:"100%"}},n.createElement(c,{className:"featuregrid-toolbar-margin"},n.createElement(u,{md:3},n.createElement("span",null,n.createElement(o,{msgId:e.virtualScroll?"featuregrid.resultInfoVirtual":"featuregrid.resultInfo",msgParams:{start:i*m+1,end:i*m+b,total:S}}))),e.virtualScroll?null:n.createElement(u,{className:"text-center",md:6},n.createElement(a,{key:"first-page",onClick:function(){return e.onPageChange(0)},disabled:0===i,className:"no-border first-page"},n.createElement(s,{glyph:"step-backward"})),n.createElement(a,{key:"prev-page",onClick:function(){return e.onPageChange(i-1)},disabled:0===i,className:"no-border prev-page"},n.createElement(s,{glyph:"chevron-left"})),n.createElement("span",{key:"page-info"},n.createElement(o,{msgId:"featuregrid.pageInfo",msgParams:{page:i+1,totalPages:h+1}})),n.createElement(a,{key:"next-page",onClick:function(){return e.onPageChange(i+1)},className:"no-border next-page",disabled:i>=h},n.createElement(s,{glyph:"chevron-right"})),n.createElement(a,{key:"last-page",onClick:function(){return e.onPageChange(h)},className:"no-border last-page",disabled:i>=h},n.createElement(s,{glyph:"step-forward"})))," ",n.createElement(u,{md:3},e.loading?n.createElement("span",{style:{float:"right"}},n.createElement(o,{msgId:"loading"}),n.createElement(p,{spinnerName:"circle",style:{float:"right"},noFadeIn:!0})):null)))}},"./MapStore2/web/client/components/data/featuregrid/Header.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Button,a=o.Grid,s=o.Row,l=o.Col,c=o.Glyphicon;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onDownloadToggle:function(){}};return n.createElement(a,{className:"bg-body data-grid-top-toolbar",fluid:!0,style:{width:"100%"}},n.createElement(s,{className:"flex-center"},n.createElement(l,{xs:4},e.children),n.createElement(l,{xs:4},n.createElement("div",{className:"text-center text-primary"},n.createElement("strong",null,e.title))),n.createElement(l,{xs:4},n.createElement(i,{onClick:e.onClose,style:{float:"right"},className:"square-button no-border featuregrid-top-toolbar-margin"},n.createElement(c,{glyph:"1-close"})))))}},"./MapStore2/web/client/components/data/featuregrid/dialog/ConfirmClear.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),i=r("./MapStore2/web/client/components/misc/Portal.jsx"),a=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,s=e.saving,l=void 0!==s&&s,c=e.onConfirm,u=void 0===c?function(){}:c;return n.createElement(i,null,n.createElement(o,{draggable:!1,show:!0,onClose:r,onConfirm:u,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:n.createElement(a,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:l,closeText:n.createElement(a,{msgId:"featuregrid.noButton"})},n.createElement(a,{msgId:"featuregrid.clear"})))}},"./MapStore2/web/client/components/data/featuregrid/dialog/ConfirmDelete.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),i=r("./MapStore2/web/client/components/misc/Portal.jsx"),a=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,s=e.saving,l=void 0!==s&&s,c=e.count,u=e.onConfirm,p=void 0===u?function(){}:u;return n.createElement(i,null,n.createElement(o,{show:!0,onClose:r,onConfirm:p,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:n.createElement(a,{msgId:"featuregrid.deleteButton"}),confirmButtonDisabled:l},n.createElement(a,{msgId:"featuregrid.delete",msgParams:{count:c}})))}},"./MapStore2/web/client/components/data/featuregrid/dialog/ConfirmFeatureClose.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),i=r("./MapStore2/web/client/components/misc/Portal.jsx"),a=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,s=e.saving,l=void 0!==s&&s,c=e.onConfirm,u=void 0===c?function(){}:c;return n.createElement(i,null,n.createElement(o,{show:!0,onClose:r,onConfirm:u,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:n.createElement(a,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:l,closeText:n.createElement(a,{msgId:"featuregrid.noButton"})},n.createElement(a,{msgId:"featuregrid.featureClose"})))}},"./MapStore2/web/client/components/data/featuregrid/editors/AttributeEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!0)}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!1)}}])&&i(t.prototype,r),n&&i(t,n),c}(r("./node_modules/react-data-grid/index.js").editors.SimpleTextEditor);u(d,"propTypes",{onTemporaryChanges:p.func}),u(d,"defaultProps",{onTemporaryChanges:function(){}}),e.exports=d},"./MapStore2/web/client/components/data/featuregrid/editors/AutocompleteEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./MapStore2/web/client/components/data/featuregrid/editors/AttributeEditor.jsx"),b=r("./MapStore2/web/client/components/misc/AutocompleteCombobox.jsx").AutocompleteCombobox,g=r("./MapStore2/web/client/utils/ConfigUtils.js").getParsedUrl,h=r("./MapStore2/web/client/observables/autocomplete.js").createPagedUniqueAutompleteStream,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,r,n,l=s(d);function d(e){var t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(r=l.call(this,e)).validate=function(e){try{return r.props.isValid(e[r.props.column&&r.props.column.key])}catch(e){return!1}},r.getValue=function(){return u((t=c(r),p(d.prototype)),"getValue",t).call(t)},r}return t=d,(r=[{key:"render",value:function(){return f.createElement(b,o({},this.props,{url:g(this.props.url,{outputFormat:"json"}),filter:"contains",autocompleteStreamFactory:h}))}}])&&i(t.prototype,r),n&&i(t,n),d}(y);d(v,"propTypes",{column:m.object,dataType:m.string,inputProps:m.object,isValid:m.func,onBlur:m.func,autocompleteStreamFactory:m.func,url:m.string,typeName:m.string,value:m.string}),d(v,"defaultProps",{isValid:function(){return!0},dataType:"string"}),e.exports=v},"./MapStore2/web/client/components/data/featuregrid/editors/DropDownEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./MapStore2/web/client/components/data/featuregrid/editors/AttributeEditor.jsx"),g=r("./MapStore2/web/client/components/misc/combobox/ControlledCombobox.jsx"),h=r("./MapStore2/web/client/utils/FeatureGridEditorUtils.js").forceSelection,v=r("./MapStore2/node_modules/lodash/lodash.js").head,S=r("./node_modules/object-assign/index.js"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(y,e);var t,r,n,c=l(y);function y(e){var t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(r=c.call(this,e)).validate=function(e){try{return r.props.isValid(e[r.props.column&&r.props.column.key])}catch(e){return!1}},r.getValue=function(){var e=p((t=u(r),d(y.prototype)),"getValue",t).call(t);return r.props.forceSelection?f({},r.props.column.key,h({oldValue:r.props.defaultOption,changedValue:e[r.props.column&&r.props.column.key],data:r.props.values,allowEmpty:r.props.allowEmpty})):r.props.allowEmpty?e:f({},r.props.column.key,h({oldValue:r.props.defaultOption,changedValue:e[r.props.column&&r.props.column.key],data:r.props.values,allowEmpty:r.props.allowEmpty}))},r}return t=y,(r=[{key:"render",value:function(){var e=this.props.values.map((function(e){return{label:e,value:e}})),t=S({},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.props),{data:e,defaultOption:this.props.defaultOption||v(this.props.values)});return m.createElement(g,o({},t,{filter:this.props.filter}))}}])&&a(t.prototype,r),n&&a(t,n),y}(b);f(w,"propTypes",{column:y.object,dataType:y.string,defaultOption:y.string,forceSelection:y.bool,allowEmpty:y.bool,inputProps:y.object,isValid:y.func,onBlur:y.func,typeName:y.string,url:y.string,value:y.string,filter:y.string,values:y.array}),f(w,"defaultProps",{isValid:function(){return!0},dataType:"string",filter:"contains",values:[],forceSelection:!0,allowEmpty:!0}),e.exports=w},"./MapStore2/web/client/components/data/featuregrid/editors/FormatEditor.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return b}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,r,n,i=p(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),y(f(t=i.call(this,e)),"state",{inputText:""}),y(f(t),"validateValue",(function(e){return!t.props.formatRegex||new RegExp(t.props.formatRegex).test(e)})),t.state={inputText:e.value},t.inputRef=o.a.createRef(),t}return t=a,(r=[{key:"componentDidMount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!0)}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!1)}},{key:"getValue",value:function(){return y({},this.props.column.key,this.validateValue(this.state.inputText)?this.state.inputText:this.props.value)}},{key:"getInputNode",value:function(){return this.inputRef.current}},{key:"render",value:function(){var e=this;return o.a.createElement("input",l({},this.props.inputProps,{style:!this.state.validated||this.state.isValid?{}:{borderColor:"red"},value:this.state.inputText,ref:this.inputRef,className:"form-control",defaultValue:this.props.value,onChange:function(t){e.setState({inputText:t.target.value,isValid:e.validateValue(t.target.value),validated:!0})}}))}}])&&c(t.prototype,r),n&&c(t,n),a}(o.a.Component);y(b,"propTypes",{value:a.a.string,inputProps:a.a.object,dataType:a.a.string,column:a.a.object,formatRegex:a.a.string,onTemporaryChanges:a.a.func}),y(b,"defaultProps",{dataType:"string",column:{}})},"./MapStore2/web/client/components/data/featuregrid/editors/NumberEditor.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return S}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=r("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),c=r.n(l);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={int:function(e){return parseInt(e,10)},number:function(e){return parseFloat(e,10)}},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,r,n,i=m(a);function a(e){var t,r,n,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),h(b(l=i.call(this,e)),"state",{inputText:""}),h(b(l),"validateTextValue",(function(e){if(!v[l.props.dataType])return!1;try{var t=v[l.props.dataType](e);return l.validateNumberValue(t)}catch(e){return!1}})),h(b(l),"validateNumberValue",(function(e){return Object(s.isNumber)(e)&&!isNaN(e)&&(!Object(s.isNumber)(l.props.minValue)||l.props.minValue<=e)&&(!Object(s.isNumber)(l.props.maxValue)||l.props.maxValue>=e)})),l.state={inputText:null!==(t=null===(r=e.value)||void 0===r||null===(n=r.toString)||void 0===n?void 0:n.call(r))&&void 0!==t?t:""},l.inputRef=o.a.createRef(),l}return t=a,(r=[{key:"componentDidMount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!0)}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!1)}},{key:"getValue",value:function(){try{var e=v[this.props.dataType](this.state.inputText);return h({},this.props.column.key,this.validateNumberValue(e)?e:this.props.value)}catch(e){return h({},this.props.column.key,this.props.value)}}},{key:"getInputNode",value:function(){return this.inputRef.current}},{key:"render",value:function(){var e=this;return o.a.createElement(c.a,p({},this.props.inputProps,{style:!this.state.validated||this.state.isValid?{}:{borderColor:"red"},value:this.state.inputText,ref:function(t){e.inputRef=t},type:"number",min:this.props.minValue,max:this.props.maxValue,className:"form-control",defaultValue:this.props.value,onChange:function(t){e.setState({inputText:t,isValid:e.validateTextValue(t),validated:!0})}}))}}])&&d(t.prototype,r),n&&d(t,n),a}(o.a.Component);h(S,"propTypes",{value:a.a.oneOfType([a.a.string,a.a.number]),inputProps:a.a.object,dataType:a.a.string,minValue:a.a.number,maxValue:a.a.number,column:a.a.object,onTemporaryChanges:a.a.func}),h(S,"defaultProps",{dataType:"number",column:{}})},"./MapStore2/web/client/components/data/featuregrid/editors/customEditors.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/data/featuregrid/editors/DropDownEditor.jsx"),a=r("./MapStore2/web/client/components/data/featuregrid/editors/NumberEditor.jsx").default,s=r("./MapStore2/web/client/components/data/featuregrid/editors/FormatEditor.jsx").default,l={DropDownEditor:{string:function(e){return o.createElement(i,n({dataType:"string"},e))}},NumberEditor:{int:function(e){return o.createElement(a,n({dataType:"int"},e))},number:function(e){return o.createElement(a,n({dataType:"number"},e))}},FormatEditor:{string:function(e){return o.createElement(s,n({dataType:"string"},e))}}};e.exports=l},"./MapStore2/web/client/components/data/featuregrid/editors/index.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/data/featuregrid/editors/AttributeEditor.jsx"),a=r("./MapStore2/web/client/components/data/featuregrid/editors/NumberEditor.jsx").default,s=r("./MapStore2/web/client/components/data/featuregrid/editors/AutocompleteEditor.jsx"),l=r("./MapStore2/web/client/components/data/featuregrid/editors/DropDownEditor.jsx"),c={defaultEditor:function(e){return o.createElement(i,e)},int:function(e){return o.createElement(a,n({dataType:"int",inputProps:{step:1,type:"number"}},e))},number:function(e){return o.createElement(a,n({dataType:"number",inputProps:{step:1,type:"number"}},e))},string:function(e){return e.autocompleteEnabled?o.createElement(s,n({dataType:"string"},e)):o.createElement(i,n({dataType:"string"},e))},boolean:function(e){return o.createElement(l,n({dataType:"string"},e,{value:e.value&&e.value.toString(),filter:!1,values:["true","false"]}))}};e.exports=function(e,t){return c[e]?c[e](t):c.defaultEditor(t)}},"./MapStore2/web/client/components/data/featuregrid/enhancers/editor.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r("./MapStore2/web/client/utils/FeatureGridUtils.js"),u=c.featureTypeToGridColumns,p=c.getToolColumns,d=c.getRow,f=c.getRowVirtual,m=c.getGridEvents,y=c.applyAllChanges,b=c.createNewAndEditingFilter,g=r("./MapStore2/web/client/utils/featuregrid/EditorRegistry.jsx"),h=r("./node_modules/recompose/es/Recompose.js"),v=h.compose,S=h.withPropsOnChange,w=h.withHandlers,O=h.defaultProps,j=h.createEventHandler,E=r("./MapStore2/node_modules/lodash/lodash.js").isNil,x=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/index.js").getFilterRenderer,P=r("./MapStore2/web/client/components/data/featuregrid/formatters/index.js").getFormatter,T=r("./MapStore2/web/client/components/data/featuregrid/enhancers/filterRenderers.js").manageFilterRendererState,M=r("./MapStore2/web/client/components/misc/enhancers/propsStreamFactory.jsx"),A=r("./MapStore2/web/client/components/data/featuregrid/editors/index.jsx"),C=r("./MapStore2/web/client/utils/FeatureGridUtils.js").getRowIdx,_=v(O({sortable:!0,autocompleteEnabled:!1,initPlugin:function(){},url:"",typeName:"",enableColumnFilters:!1,columns:[],features:[],newFeatures:[],select:[],changes:{},focusOnEdit:!0,editors:A,dataStreamFactory:function(e){var t=j(),r=t.handler,n=t.stream;return function(e){return e.distinctUntilChanged((function(e,t){var r=e.features,n=e.pages,o=e.isFocused,i=t.features,a=t.pages,s=t.isFocused;return r===i&&o===s&&n===a})).switchMap((function(e){var t=e.size,r=e.pageEvents,n=e.isFocused,o=e.pages,i=e.pagination,a=e.vsOverScan,s=void 0===a?20:a,l=e.scrollDebounce,c=void 0===l?50:l;return e.onGridScroll$.debounceTime(c).filter((function(){return!n})).map((function(e){for(var r=e.firstRowIdx,n=e.lastRowIdx,a=r-s<0?0:r-s,l=n+s>i.totalFeatures-1?i.totalFeatures-1:n+s,c=Math.floor(a/t),u=Math.floor(l/t),p=!1,d=c;d<=u&&!p;d++)-1===C(d*t,o,t)&&(p=!0);return p&&{startPage:c,endPage:u}})).filter((function(e){return e})).do((function(e){return r.moreFeatures(e)}))}))}(e.filter((function(e){return e.virtualScroll})).map((function(e){return s(s({},e),{},{onGridScroll$:n})}))).startWith({}).map((function(e){return s(s({},e),{},{onGridScroll:r})}))},virtualScroll:!0}),S("showDragHandle",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showDragHandle,r=void 0!==t&&t;return{className:r?"feature-grid-drag-handle-show":"feature-grid-drag-handle-hide"}})),S(["enableColumnFilters"],(function(e){return{displayFilters:e.enableColumnFilters}})),S(["editingAllowedRoles","virtualScroll"],(function(e){return{editingAllowedRoles:e.editingAllowedRoles,initPlugin:e.initPlugin}})),S(["autocompleteEnabled"],(function(e){return{autocompleteEnabled:e.autocompleteEnabled}})),S(["url"],(function(e){return{url:e.url}})),S(["typeName"],(function(e){return{typeName:e.typeName}})),S(["features","newFeatures","changes"],(function(e){return{rows:(e.newFeatures?[].concat(o(e.newFeatures),o(e.features)):e.features).filter(e.focusOnEdit?b(e.changes&&Object.keys(e.changes).length>0,e.newFeatures,e.changes):function(){return!0}).map((function(t){return y(t,e.changes)})).map((function(e){return s(s({},e),{},{get:function(t){return"id"===t||"geometry"===t||"_new"===t?e[t]:e.properties&&e.properties[t]}})}))}})),S(["newFeatures","changes","focusOnEdit"],(function(e){return{isFocused:e.focusOnEdit&&(e.changes&&Object.keys(e.changes).length>0||e.newFeatures&&e.newFeatures.length>0)}})),S(["features","newFeatures","isFocused","virtualScroll"],(function(e){return{rowsCount:(e.isFocused||!e.virtualScroll)&&e.rows&&e.rows.length||e.pagination&&e.pagination.totalFeatures||0}})),w({rowGetter:function(e){return e.virtualScroll&&function(t){return f(t,e.rows,e.pages,e.size)}||function(t){return d(t,e.rows)}}}),S(["describeFeatureType","columnSettings","tools","actionOpts","mode","isFocused","sortable"],(function(e){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.localType,n=void 0===r?"":r,o=arguments.length>1?arguments[1]:void 0;return e.filterRenderers&&e.filterRenderers[o]?e.filterRenderers[o]:T(x(n))};return{columns:p(e.tools,e.rowGetter,e.describeFeatureType,e.actionOpts,t).concat(u(e.describeFeatureType,e.columnSettings,{editable:"EDIT"===e.mode,sortable:e.sortable&&!e.isFocused,defaultSize:e.defaultSize},{getEditor:function(t){var r={onTemporaryChanges:e.gridEvents&&e.gridEvents.onTemporaryChanges,autocompleteEnabled:e.autocompleteEnabled,url:e.url,typeName:e.typeName},n={attribute:t.name,url:e.url,typeName:e.typeName},o=e.customEditorsOptions&&e.customEditorsOptions.rules||[],i={type:t.localType,generalProps:r,props:e},a=g.getCustomEditor(n,o,i);return E(a)?e.editors(t.localType,r):a},getFilterRenderer:t,getFormatter:function(e){return P(e)}}))}})),S(["gridOpts","describeFeatureType","actionOpts","mode","select","columns"],(function(e){var t=m(e.gridEvents,e.rowGetter,e.describeFeatureType,e.actionOpts,e.columns),r=t.onRowsSelected,o=void 0===r?function(){}:r,i=t.onRowsDeselected,a=void 0===i?function(){}:i,l=t.onRowsToggled,c=void 0===l?function(){}:l,u=n(t,["onRowsSelected","onRowsDeselected","onRowsToggled"]),p=e.gridOpts;return p=s(s({},p),{},{enableCellSelect:"EDIT"===e.mode,rowSelection:{showCheckbox:"EDIT"===e.mode,selectBy:{keys:{rowKey:"id",values:e.select.map((function(e){return e.id}))}},onRowsSelected:o,onRowsDeselected:a}}),u.onRowClick=function(e,t){e>=0&&c([{rowIdx:e,row:t}])},s(s({},u),p)})),M);e.exports={featuresToGrid:_}},"./MapStore2/web/client/components/data/featuregrid/enhancers/filterRenderers.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").withState;e.exports={manageFilterRendererState:n("value","onValueChange",(function(e){return e.value}))}},"./MapStore2/web/client/components/data/featuregrid/enhancers/withHint.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=r("./node_modules/recompose/es/Recompose.js"),l=s.compose,c=s.branch,u=s.withProps,p=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),d=r("./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js");e.exports=l(u((function(e){var t=e.renderPopover,r=e.popoverOptions,n=a(e,["renderPopover","popoverOptions"]);return o(t?{renderPopover:t,popoverOptions:r}:{},n)})),c((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.renderPopover,r=e.popoverOptions;return t&&!!r}),d,p))},"./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r("./node_modules/react/index.js"),f=r("./MapStore2/web/client/components/misc/Overlay.jsx"),m=r("./node_modules/react-bootstrap/es/index.js").Popover,y=r("./MapStore2/node_modules/lodash/lodash.js").omit,b=r("./node_modules/react-dom/index.js");e.exports=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(g,t);var r,n,u,p=c(g);function g(){return a(this,g),p.apply(this,arguments)}return r=g,(n=[{key:"render",value:function(){var t=null,r=this.props,n=r.popoverOptions,a=r.keyProp,s=i(r,["popoverOptions","keyProp"]);return d.createElement("span",{className:"mapstore-info-popover"},d.createElement(e,o({},y(s,["renderPopover","tooltipId"]),{key:a,ref:function(e){t=e}})),d.createElement(f,{placement:n.placement,shouldUpdatePosition:!0,show:!0,target:function(){return b.findDOMNode(t)}},d.createElement(m,n.props,n.content)))}}])&&s(r.prototype,n),u&&s(r,u),g}(d.Component)}},"./MapStore2/web/client/components/data/featuregrid/enhancers/withTooltip.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),a=r("./node_modules/react-bootstrap/es/index.js").Tooltip;e.exports=function(e){return function(t){var r=t.tooltip,s=t.id,l=t.placement,c=n(t,["tooltip","id","placement"]);return o.createElement(i,{placement:l,overlay:o.createElement(a,{id:"fe-".concat(s)},r)},o.createElement(e,c))}}},"./MapStore2/web/client/components/data/featuregrid/filterRenderers/AttributeFilter.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/utils/LocaleUtils.js"),y=r("./node_modules/react-bootstrap/es/index.js").Tooltip,b=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderInput",(function(){if(!1===e.props.column.filterable)return d.createElement("span",null);var t=m.getMessageById(e.context.messages,e.props.placeholderMsgId)||"Search",r="header-filter-"+e.props.column.key;return d.createElement("input",{disabled:e.props.disabled,key:r,type:"text",className:"form-control input-sm",placeholder:t,value:e.props.value,onChange:e.handleChange})})),p(c(e),"renderTooltip",(function(t){return e.props.tooltipMsgId&&m.getMessageById(e.context.messages,e.props.tooltipMsgId)?d.createElement(b,{placement:"top",overlay:d.createElement(y,{id:"tooltip"},m.getMessageById(e.context.messages,e.props.tooltipMsgId))},t):t})),p(c(e),"handleChange",(function(t){var r=t.target.value;e.props.onChange({value:r,attribute:e.props.column&&e.props.column.key})})),e}return t=u,(r=[{key:"render",value:function(){var e="header-filter--"+this.props.column.key;return d.createElement("div",{key:e,className:"form-group".concat(this.props.valid?"":" has-error")},this.renderTooltip(this.renderInput()))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.PureComponent);p(g,"propTypes",{valid:f.bool,disabled:f.bool,onChange:f.func.isRequired,value:f.any,column:f.object,placeholderMsgId:f.string,tooltipMsgId:f.string}),p(g,"contextTypes",{messages:f.object}),p(g,"defaultProps",{value:"",valid:!0,onChange:function(){},column:{},placeholderMsgId:"featuregrid.filter.placeholders.default"}),e.exports=g},"./MapStore2/web/client/components/data/featuregrid/filterRenderers/DateTimeFilter.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/recompose/es/Recompose.js"),o=r("./node_modules/react/index.js"),i=r.n(o),a=r("./node_modules/prop-types/index.js"),s=r.n(a),l=r("./node_modules/react-intl/lib/index.es.js"),c=r("./node_modules/moment/moment.js"),u=r.n(c),p=r("./node_modules/react-widgets/lib/index.js"),d=r("./node_modules/react-widgets/lib/localizers/moment.js"),f=r.n(d),m=r("./node_modules/react-bootstrap/es/index.js"),y=r("./MapStore2/node_modules/lodash/lodash.js"),b=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),g=r.n(b);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=function(e){for(var t=u()().startOf("day"),r=u()().startOf("day").add(1,"d"),n=[],o=t.date();t.date()===o&&t.isBefore(r);)n.push({date:t.toDate(),label:t.format("LT")}),t=t.add(e||30,"m");return n},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,r,n,o=O(a);function a(){var e;v(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return P(E(e=o.call.apply(o,[this].concat(r))),"state",{focusedItemIndex:0,times:[]}),P(E(e),"handleKeyDown",(function(t){var r=t.key,n=e.state,o=n.focusedItemIndex,i=n.times;if("Enter"===r){var a=i[o];e.props.onSelect(a),t.preventDefault()}else if("ArrowDown"===r){t.preventDefault();var s=o+1;e.scrollDown(s),s<i.length&&e.setState({focusedItemIndex:s})}else if("ArrowUp"===r){t.preventDefault();var l=o-1;e.scrollUp(l),l>-1&&e.setState({focusedItemIndex:l})}})),P(E(e),"scrollDown",(function(t){var r=e.itemsRef[t];r&&r.offsetTop>e.listRef.offsetHeight&&(e.listRef.scrollTop=r.offsetTop-e.listRef.offsetTop)})),P(E(e),"scrollUp",(function(t){var r=e.itemsRef[t];if(r){var n=e.listRef.scrollTop,o=r.offsetTop;n&&o<n&&(e.listRef.scrollTop=r.offsetTop-e.listRef.offsetTop)}})),P(E(e),"attachListRef",(function(t){return e.listRef=t})),P(E(e),"itemsRef",{}),e}return t=a,(r=[{key:"componentDidMount",value:function(){this.setState({times:T()})}},{key:"render",value:function(){var e=this,t=this.state,r=t.focusedItemIndex,n=t.times;return i.a.createElement("ul",{id:"rw_1_time_listbox",style:{position:"relative"},ref:this.attachListRef,tabIndex:"0",className:"rw-list",role:"listbox","aria-labelledby":"rw_1_input","aria-live":"false","aria-hidden":"true","aria-activedescendant":"rw_1_time_listbox__option__11"},n.map((function(t,n){return i.a.createElement("li",{key:t.label,onMouseDown:e.props.onMouseDown,onClick:function(){return e.props.onSelect(t)},ref:function(t){e.itemsRef[n]=t},role:"option",tabIndex:"0","aria-selected":"false",className:"rw-list-option ".concat(r===n?"rw-state-focus":""),id:"rw_1_time_listbox__option__0"},t.label)})))}}])&&S(t.prototype,r),n&&S(t,n),a}(o.Component);P(M,"propTypes",{onSelect:s.a.func,onMouseDown:s.a.func}),P(M,"defaultProps",{onSelect:function(){},onMouseDown:function(){}});var A=M;function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return k(this,r)}}function k(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}f()(u.a);var U="function"==typeof u()().locale?"locale":"lang";function B(e,t,r){return e?u()(t,r)[U](e):u()(t,r)}var z=function(e,t){var r=u()(e);return r.hours(t.getHours()).minute(t.getMinutes()).seconds(t.getSeconds()).milliseconds(t.getMilliseconds()),r.toDate()},W="lll",V="L",H="LT",q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,e);var t,r,n,o=D(a);function a(){var e;I(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return G(N(e=o.call.apply(o,[this].concat(r))),"state",{open:"",focused:!1,inputValue:"",operator:"",date:null}),G(N(e),"getFormat",(function(){var t=e.props,r=t.format,n=t.time,o=t.calendar;return r||(!n&&o?V:n&&!o?H:W)})),G(N(e),"renderInput",(function(t,r,n,o,a,s,l){return n?i.a.createElement(g.a,{placement:"top",overlay:i.a.createElement(m.Tooltip,{id:"tooltip"},n)},i.a.createElement("input",{type:"text",id:"rw_1_input",role:"combobox",onBlur:e.handleInputBlur,placeholder:o,"aria-expanded":s||l,"aria-haspopup":"true","aria-busy":"false","aria-owns":"rw_1_cal rw_1_time_listbox",tabIndex:a,autoComplete:"off",value:"".concat(r).concat(t),className:"rw-input",onChange:e.handleValueChange})):i.a.createElement("input",{type:"text",id:"rw_1_input",role:"combobox",onBlur:e.handleInputBlur,placeholder:o,"aria-expanded":s||l,"aria-haspopup":"true","aria-busy":"false","aria-owns":"rw_1_cal rw_1_time_listbox",tabIndex:a,autoComplete:"off",value:"".concat(r).concat(t),className:"rw-input",onChange:e.handleValueChange})})),G(N(e),"inputFlush",!1),G(N(e),"ignoreBlur",!1),G(N(e),"handleWidgetFocus",(function(){e.setState({focused:!0}),e.ignoreBlur=!1})),G(N(e),"handleWidgetBlur",(function(){e.ignoreBlur||e.setState({open:"",focused:!1})})),G(N(e),"handleMouseDown",(function(){e.ignoreBlur=!0})),G(N(e),"toggleCalendar",(function(){e.setState((function(e){return{open:"date"!==e.open?"date":""}}))})),G(N(e),"toggleTime",(function(){e.setState((function(e){return{open:"time"!==e.open?"time":""}}))})),G(N(e),"handleInputBlur",(function(){if(e.inputFlush){var t=e.parse(e.state.inputValue),r=e.format(t);e.setState({inputValue:r,date:t}),e.inputFlush=!1,e.props.onChange(t,"".concat(e.state.operator).concat(r))}})),G(N(e),"setDateFromValueProp",(function(t,r){if(Object(y.isDate)(t)){var n=e.format(t);e.setState((function(e){return{date:t,inputValue:n,operator:r||e.operator}}))}})),G(N(e),"parse",(function(t){var r=e.props.culture,n=e.getFormat();if(t){var o=B(r,t,n);if(o.isValid())return o.toDate()}return null})),G(N(e),"format",(function(t){if(!t)return"";var r=e.props.culture,n=e.getFormat(),o=B(r,t);return o.isValid()?o.format(n):""})),G(N(e),"close",(function(){e.setState({open:""})})),G(N(e),"open",(function(){var t=e.props,r=t.calendar,n=t.time;return!r&&n?e.setState({open:"time"}):r&&!n?e.setState({open:"date"}):""})),G(N(e),"handleKeyDown",(function(t){var r=e.state.open,n="time"===r,o="date"===r;if(!t.defaultPrevented)if("Escape"!==t.key){if(t.altKey&&"ArrowDown"===t.key)return t.preventDefault(),void e.open();if(t.altKey&&"ArrowUp"===t.key)return t.preventDefault(),void e.close();if(n&&e.timeRef.handleKeyDown(t),o&&e.calRef.refs.inner.handleKeyDown(t),!n&&!o&&"Enter"===t.key){var i=e.parse(e.state.inputValue),a=e.format(i);e.setState({inputValue:a,date:i}),e.inputFlush=!1,e.props.onChange(i,"".concat(e.state.operator).concat(a))}}else e.close()})),G(N(e),"handleValueChange",(function(t){var r=t.target.value,n=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?(.*)/.exec(r);e.setState({inputValue:n[2],operator:n[1]||""}),e.inputFlush=!0})),G(N(e),"handleCalendarChange",(function(t){var r=z(t,new Date),n=e.format(r);e.setState({date:r,inputValue:n,open:""}),e.props.onChange(r,"".concat(e.state.operator).concat(n))})),G(N(e),"handleTimeSelect",(function(t){var r=e.state.date||new Date,n=z(r,t.date),o=e.format(n);e.setState({date:n,inputValue:o,open:""}),e.props.onChange(n,"".concat(e.state.operator).concat(o))})),G(N(e),"attachTimeRef",(function(t){return e.timeRef=t})),G(N(e),"attachCalRef",(function(t){return e.calRef=t})),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,r=e.operator;this.setDateFromValueProp(t,r)}},{key:"componentDidUpdate",value:function(e){if(e.value!==this.props.value||e.operator!==this.props.operator){var t=this.props,r=t.value,n=t.operator;this.setDateFromValueProp(r,n)}}},{key:"render",value:function(){var e=this,t=this.state,r=t.open,n=t.inputValue,o=t.operator,a=t.focused,s=this.props,l=s.calendar,c=s.time,u=s.toolTip,d=s.placeholder,f=s.tabIndex,m=Object.keys(this.props).reduce((function(t,r){return["placeholder","calendar","time","onChange","value"].includes(r)||(t[r]=e.props[r]),t}),{}),y="date"===r,b="time"===r;return i.a.createElement("div",{tabIndex:"-1",onKeyDown:this.handleKeyDown,onBlur:this.handleWidgetBlur,onFocus:this.handleWidgetFocus,className:"rw-datetimepicker rw-widget ".concat(l&&c?"rw-has-both":""," ").concat(l||c?"":"rw-has-neither"," ").concat(a?"rw-state-focus":"")},this.renderInput(n,o,u,d,f,y,b),l||c?i.a.createElement("span",{className:"rw-select"},l?i.a.createElement("button",{tabIndex:"-1",title:"Select Date",type:"button","aria-disabled":"false","aria-label":"Select Date",className:"rw-btn-calendar rw-btn",onClick:this.toggleCalendar},i.a.createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-calendar"})):"",c?i.a.createElement("button",{tabIndex:"-1",title:"Select Time",type:"button","aria-disabled":"false","aria-label":"Select Time",className:"rw-btn-time rw-btn",onClick:this.toggleTime},i.a.createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-clock-o"})):""):"",i.a.createElement("div",{className:"rw-popup-container rw-popup-animating",style:{display:b?"block":"none",overflow:b?"visible":"hidden",height:"216px"}},i.a.createElement("div",{className:"rw-popup rw-widget",style:{transform:b?"translateY(0)":"translateY(-100%)",position:b?"":"absolute"}},i.a.createElement(A,_({ref:this.attachTimeRef,onMouseDown:this.handleMouseDown},m,{onClose:this.close,onSelect:this.handleTimeSelect})))),i.a.createElement("div",{className:"rw-calendar-popup rw-popup-container ".concat(y?"":"rw-popup-animating"),style:{display:y?"block":"none",overflow:y?"visible":"hidden",height:"375px"}},i.a.createElement("div",{className:"rw-popup",style:{transform:y?"translateY(0)":"translateY(-100%)",padding:"0",borderRadius:"4px",position:y?"":"absolute"}},i.a.createElement(p.Calendar,_({tabIndex:"-1",ref:this.attachCalRef,onMouseDown:this.handleMouseDown,onChange:this.handleCalendarChange},m)))))}}])&&R(t.prototype,r),n&&R(t,n),a}(o.Component);G(q,"propTypes",{format:s.a.string,type:s.a.string,placeholder:s.a.string,onChange:s.a.func,calendar:s.a.bool,time:s.a.bool,value:s.a.any,operator:s.a.string,culture:s.a.string,toolTip:s.a.string,tabIndex:s.a.string}),G(q,"defaultProps",{placeholder:"Type date...",calendar:!0,time:!0,onChange:function(){},value:null});var Y=q,Z=r("./MapStore2/web/client/utils/LocaleUtils.js"),Q=r.n(Z),K=r("./MapStore2/web/client/utils/TimeUtils.js"),X=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/AttributeFilter.jsx"),J=r.n(X),$=r("./MapStore2/web/client/components/misc/enhancers/utcDateWrapper.js");r("./node_modules/react-widgets/lib/less/react-widgets.less");function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae(e);if(t){var o=ae(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return oe(this,r)}}function oe(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var le=Object($.default)({dateProp:"value",dateTypeProp:"type",setDateProp:"onChange"})(Y),ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(r,e);var t=ne(r);function r(){var e;te(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return se(ie(e=t.call.apply(t,[this].concat(o))),"renderInput",(function(){if(!1===e.props.column.filterable)return i.a.createElement("span",null);var t,r=Object(K.getDateTimeFormat)(e.context.locale,e.props.type),n=Q.a.getMessageById(e.context.messages,e.props.placeholderMsgId)||"Insert date",o=e.props.intl&&e.props.intl.formatMessage({id:"".concat(e.props.tooltipMsgId)},{format:r})||"Insert date in ".concat(r," format"),a="header-filter-"+e.props.column.key;t=e.props.value&&null===e.props.value.startDate||!e.props.value?null:e.props.value&&e.props.value.startDate||e.props.value;var s=e.props.value?t:null,l=e.props.value&&e.props.value.operator;return i.a.createElement(le,{key:a,disabled:e.props.disabled,format:r,placeholder:n,value:s,toolTip:o,operator:l,type:e.props.type,time:"date-time"===e.props.type||"time"===e.props.type,calendar:"date-time"===e.props.type||"date"===e.props.type,onChange:function(t,r){return e.handleChange(t,r)}})})),se(ie(e),"handleChange",(function(t,r){e.props.onChange({value:t,stringValue:r,attribute:e.props.column&&e.props.column.name})})),e}return r}(J.a);se(ce,"propTypes",{type:s.a.string,disabled:s.a.boolean,onChange:s.a.func,intl:l.intlShape}),se(ce,"contextTypes",{messages:s.a.object,locale:s.a.string}),se(ce,"defaultProps",{value:null,type:"date-time",column:{},placeholderMsgId:"featuregrid.filter.placeholders.default"});var ue=Object(n.getContext)({intl:l.intlShape})(ce);t.default=Object(n.compose)(Object(n.defaultProps)({onValueChange:function(){},value:null}),Object(n.withHandlers)({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value,n=t.attribute,o=t.stringValue,i=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?(.*)/.exec(o),a=i[1],s=i[1]||"=";"!=="===a|"!="===a?s="<>":"==="===a|"=="===a&&(s="="),e.onValueChange(r),e.onChange({value:{startDate:r,operator:a},operator:s,type:e.type,attribute:n})}}}),Object(n.defaultProps)({placeholderMsgId:"featuregrid.filter.placeholders.date",tooltipMsgId:"featuregrid.filter.tooltips.date"}))(ue)},"./MapStore2/web/client/components/data/featuregrid/filterRenderers/DefaultFilter.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/AttributeFilter.jsx"),o=r("./node_modules/recompose/es/Recompose.js"),i=o.compose,a=o.withHandlers,s=o.defaultProps;e.exports=i(s({onValueChange:function(){}}),a({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value,n=t.attribute;e.onValueChange(r),e.onChange({value:r,operator:"=",type:e.type,attribute:n})}}}))(n)},"./MapStore2/web/client/components/data/featuregrid/filterRenderers/GeometryFilter.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-bootstrap/es/index.js"),a=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),s=r.n(a),l=r("./MapStore2/web/client/components/I18N/Message.jsx"),c=r.n(l);t.default=function(e){var t=e.value,r=e.filterEnabled,n=void 0!==r&&r,a=e.filterDeactivated,l=void 0!==a&&a,u=e.column,p=void 0===u?{}:u,d=e.tooltipPlace,f=void 0===d?"top":d,m=e.tooltipDisabled,y=void 0===m?"featuregrid.filter.tooltips.geometry.disabled":m,b=e.tooltipEnabled,g=void 0===b?"featuregrid.filter.tooltips.geometry.enabled":b,h=e.tooltipApplied,v=void 0===h?"featuregrid.filter.tooltips.geometry.applied":h,S=e.onChange,w=void 0===S?function(){}:S,O=l?void 0:n&&t?v:n&&!t?g:y,j=o.a.createElement("div",{className:"featuregrid-geometry-filter".concat(n?" filter-enabled":"").concat(l?" filter-deactivated":""),onClick:l?function(){}:function(){w({enabled:!n,type:"geometry",attribute:p.geometryPropName})}},o.a.createElement(i.Glyphicon,{glyph:t?"remove-sign":"map-marker"}));return O?o.a.createElement(s.a,{placement:f,overlay:o.a.createElement(i.Tooltip,{id:"gofull-tooltip"},o.a.createElement(c.a,{msgId:O}))},j):j}},"./MapStore2/web/client/components/data/featuregrid/filterRenderers/NumberFilter.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/AttributeFilter.jsx"),o=r("./MapStore2/node_modules/lodash/lodash.js").trim,i=r("./node_modules/recompose/es/Recompose.js"),a=i.compose,s=i.withHandlers,l=i.withState,c=i.defaultProps,u=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?\s*(-?\d*\.?\d*)\s*/;e.exports=a(c({onValueChange:function(){}}),l("valid","setValid",!0),s({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value,n=t.attribute;e.onValueChange(r);var i,a="=",s=u.exec(r);s?("!=="===(a=s[1]||"=")|"!="===a?a="<>":"==="===a|"=="===a&&(a="="),i=parseFloat(s[2])):i=parseFloat(r,10),isNaN(i)&&""!==o(r)?e.setValid(!1):e.setValid(!0),e.onChange({value:isNaN(i)?void 0:i,rawValue:r,operator:a,type:"number",attribute:n})}}}),c({placeholderMsgId:"featuregrid.filter.placeholders.number",tooltipMsgId:"featuregrid.filter.tooltips.number"}))(n)},"./MapStore2/web/client/components/data/featuregrid/filterRenderers/StringFilter.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/AttributeFilter.jsx"),o=r("./node_modules/recompose/es/Recompose.js"),i=o.compose,a=o.withHandlers,s=o.defaultProps,l=r("./MapStore2/node_modules/lodash/lodash.js").trim;e.exports=i(s({onValueChange:function(){},placeholderMsgId:"featuregrid.filter.placeholders.string"}),a({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value,n=t.attribute;e.onValueChange(r),e.onChange({rawValue:r,value:l(r)?l(r):void 0,operator:"ilike",type:"string",attribute:n})}}}))(n)},"./MapStore2/web/client/components/data/featuregrid/filterRenderers/index.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").withProps,o=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/DefaultFilter.jsx"),i=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/StringFilter.jsx"),a=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/NumberFilter.jsx"),s=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/DateTimeFilter.jsx").default,l=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/GeometryFilter.jsx").default,c={defaultFilter:function(e){return n((function(){return{type:e}}))(o)},string:function(){return i},number:function(){return a},int:function(){return a},date:function(){return n((function(){return{type:"date"}}))(s)},time:function(){return n((function(){return{type:"time"}}))(s)},"date-time":function(){return n((function(){return{type:"date-time"}}))(s)},geometry:function(){return l}};e.exports={getFilterRenderer:function(e,t){return c[e]?c[e](e,t):c.defaultFilter(e,t)},DefaultFilter:o,StringFilter:i,NumberFilter:a,DateTimeFilter:s,GeometryFilter:l}},"./MapStore2/web/client/components/data/featuregrid/formatters/index.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").isNil,i=r("./MapStore2/web/client/components/I18N/Number.jsx");e.exports={getFormatter:function(e){return"boolean"===e.localType?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value;return o(t)?null:n.createElement("span",null,t.toString())}:["int","number"].includes(e.localType)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value;return o(t)?null:n.createElement(i,{value:t,numberParams:{maximumFractionDigits:17}})}:null}}},"./MapStore2/web/client/components/data/featuregrid/renderers/CellRenderer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react-data-grid/index.js").Cell,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).setScrollLeft=function(e){return t.refs.cell.setScrollLeft(e)},t}return t=c,(r=[{key:"render",value:function(){var e=this.context.isProperty(this.props.column.key),t=this.props.rowData._new&&e||this.context.isModified(this.props.rowData.id,this.props.column.key),r=!e||this.context.isValid(this.props.rowData.get(this.props.column.key),this.props.column.key),n=(t?["modified"]:[]).concat(r?[]:["invalid"]).join(" ");return p.createElement(f,o({},this.props,{ref:"cell",className:n}))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(m,"propTypes",{value:d.any,rowData:d.object,column:d.object}),u(m,"contextTypes",{isModified:d.func,isProperty:d.func,isValid:d.func}),u(m,"defaultProps",{value:null,rowData:{},column:{}}),e.exports=m},"./MapStore2/web/client/components/data/featuregrid/renderers/RowRenderer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=r("./MapStore2/web/client/components/data/featuregrid/renderers/CellRenderer.jsx"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=l.call(this,e)).setScrollLeft=function(e){return t.refs.row.setScrollLeft(e)},t}return t=c,(r=[{key:"render",value:function(){return this.props.renderBaseRow(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({extraClasses:"empty_row"===this.props.row.id?"empty-row":"",cellRenderer:f},this.props))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(m,"propTypes",{columns:d.array,row:d.object,renderBaseRow:d.func.isRequired}),e.exports=m},"./MapStore2/web/client/components/data/featuregrid/toolbars/TButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.Button,y=f.Glyphicon,b={width:0,padding:0,borderWidth:0},g={},h=function(e){return e?g:b};e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,r,n,u=c(p);function p(){return a(this,p),u.apply(this,arguments)}return t=p,(r=[{key:"render",value:function(){var e=this.props,t=e.disabled,r=e.id,n=e.visible,a=e.onClick,s=e.glyph,l=e.active,c=e.className,u=void 0===c?"square-button":c,p=i(e,["disabled","id","visible","onClick","glyph","active","className"]);return d.createElement(m,o({},p,{bsStyle:l?"success":"primary",disabled:t,id:"fg-".concat(r),style:h(n),className:u,onClick:function(){return!t&&a()}}),d.createElement(y,{glyph:s}))}}])&&s(t.prototype,r),n&&s(t,n),p}(d.Component)},"./MapStore2/web/client/components/data/featuregrid/toolbars/Toolbar.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.ButtonGroup,a=o.Glyphicon,s=o.Checkbox;r("./MapStore2/web/client/components/data/featuregrid/toolbars/toolbar.css");var l=r("./MapStore2/web/client/components/I18N/Message.jsx"),c=r("./MapStore2/web/client/components/data/featuregrid/enhancers/withHint.js")(r("./MapStore2/web/client/components/data/featuregrid/toolbars/TButton.jsx")),u=function(e,t){return e?"featuregrid.toolbar.stopDrawGeom":t?"featuregrid.toolbar.drawGeom":"featuregrid.toolbar.addGeom"},p=function(e){var t=e.saving,r=e.saved;return t||r?"featuregrid.toolbar.saving":"featuregrid.toolbar.saveChanges"};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableToolbar,r=e.disableDownload,o=e.disableZoomAll,d=void 0!==o&&o,f=e.displayDownload,m=e.events,y=void 0===m?{}:m,b=e.hasChanges,g=e.hasGeometry,h=e.hasNewFeatures,v=e.hasSupportedGeometry,S=void 0===v||v,w=e.isColumnsOpen,O=e.isDrawing,j=void 0!==O&&O,E=e.isEditingAllowed,x=e.isFilterActive,P=void 0!==x&&x,T=e.isDownloadOpen,M=e.isSearchAllowed,A=e.isSimpleGeom,C=e.isSyncActive,_=void 0!==C&&C,I=e.saved,R=void 0!==I&&I,L=e.saving,D=void 0!==L&&L,k=e.selectedCount,N=e.showAdvancedFilterButton,F=void 0===N||N,G=e.showChartButton,U=void 0===G||G,B=e.showSyncOnMapButton,z=void 0===B||B,W=e.showTimeSyncButton,V=void 0!==W&&W,H=e.syncPopover,q=void 0===H?{showPopoverSync:!0,dockSize:"32.2%"}:H,Y=e.mode,Z=void 0===Y?"VIEW":Y,Q=e.timeSync,K=void 0!==Q&&Q;return n.createElement(i,{id:"featuregrid-toolbar",className:"featuregrid-toolbar featuregrid-toolbar-margin"},n.createElement(c,{id:"edit-mode",keyProp:"edit-mode",tooltipId:"featuregrid.toolbar.editMode",disabled:t,visible:"VIEW"===Z&&E,onClick:y.switchEditMode,glyph:"pencil"}),n.createElement(c,{id:"search",keyProp:"search",tooltipId:"featuregrid.toolbar.advancedFilter",active:P,disabled:t||!M,visible:"VIEW"===Z&&F,onClick:y.showQueryPanel,glyph:"filter"}),n.createElement(c,{id:"zoom-all",keyProp:"zoom-all",tooltipId:"featuregrid.toolbar.zoomAll",disabled:t||d,visible:"VIEW"===Z,onClick:y.zoomAll,glyph:"zoom-to"}),n.createElement(c,{id:"back-view",keyProp:"back-view",tooltipId:"featuregrid.toolbar.quitEditMode",disabled:t,visible:"EDIT"===Z&&!b&&!h,onClick:y.switchViewMode,glyph:"arrow-left"}),n.createElement(c,{id:"add-feature",keyProp:"add-feature",tooltipId:"featuregrid.toolbar.addNewFeatures",disabled:t,visible:"EDIT"===Z&&!h&&!b&&S,onClick:y.createFeature,glyph:"row-add"}),n.createElement(c,{id:"draw-feature",keyProp:"draw-feature",tooltipId:u(j,A),disabled:t,visible:"EDIT"===Z&&1===k&&(!g||g&&!A)&&S,onClick:y.startDrawingFeature,active:j,glyph:"pencil-add"}),n.createElement(c,{id:"remove-features",keyProp:"remove-features",tooltipId:"featuregrid.toolbar.deleteSelectedFeatures",disabled:t,visible:"EDIT"===Z&&k>0&&!b&&!h,onClick:y.deleteFeatures,glyph:"trash-square"}),n.createElement(c,{id:"save-feature",keyProp:"save-feature",tooltipId:p({saving:D,saved:R}),disabled:D||R||t,visible:"EDIT"===Z&&b||h,active:R,onClick:y.saveChanges,glyph:"floppy-disk"}),n.createElement(c,{id:"cancel-editing",keyProp:"cancel-editing",tooltipId:"featuregrid.toolbar.cancelChanges",disabled:t,visible:"EDIT"===Z&&b||h,onClick:y.clearFeatureEditing,glyph:"remove-square"}),n.createElement(c,{id:"delete-geometry",keyProp:"delete-geometry",tooltipId:"featuregrid.toolbar.deleteGeometry",disabled:t,visible:"EDIT"===Z&&g&&1===k&&S,onClick:y.deleteGeometry,glyph:"polygon-trash"}),n.createElement(c,{id:"download-grid",keyProp:"download-grid",tooltipId:"featuregrid.toolbar.downloadGridData",disabled:t||r,active:T,visible:f&&"VIEW"===Z,onClick:y.download,glyph:"features-grid-download"}),n.createElement(c,{id:"grid-settings",keyProp:"grid-settings",tooltipId:"featuregrid.toolbar.hideShowColumns",disabled:t,active:w,visible:k<=1&&"VIEW"===Z,onClick:y.settings,glyph:"features-grid-set"}),n.createElement(c,{id:"grid-map-chart",keyProp:"grid-map-chart",tooltipId:"featuregrid.toolbar.createNewChart",disabled:t,visible:"VIEW"===Z&&U,onClick:y.chart,glyph:"stats"}),n.createElement(c,{id:"grid-map-filter",keyProp:"grid-map-filter",tooltipId:"featuregrid.toolbar.syncOnMap",disabled:t,active:_,visible:z,onClick:y.sync,glyph:"map-filter",renderPopover:q.showPopoverSync,popoverOptions:!t&&{placement:"top",content:n.createElement("span",null,n.createElement("p",null,n.createElement(l,{msgId:"featuregrid.toolbar.synchPopoverText"})),n.createElement("p",null,n.createElement(s,{checked:q.showAgain,onClick:y.toggleShowAgain},n.createElement(l,{msgId:"featuregrid.toolbar.notShowAgain"})))),props:{id:"sync-popover",title:n.createElement("div",null,n.createElement(l,{msgId:"featuregrid.toolbar.synchPopoverTitle"}),n.createElement("button",{onClick:function(){q.showAgain&&localStorage.setItem("showPopoverSync",!1),y.hideSyncPopover()},className:"close"},n.createElement(a,{className:"pull-right",glyph:"1-close"}))),style:{bottom:q.dockSize}}}}),n.createElement(c,{id:"timeSync-button",keyProp:"fg-timeSync-button",tooltipId:K?"featuregrid.toolbar.disableTimeSync":"featuregrid.toolbar.enableTimeSync",visible:V,active:K,onClick:function(){return y.setTimeSync&&y.setTimeSync(!K)},glyph:"time"}))}},"./MapStore2/web/client/components/data/featuregrid/toolbars/toolbar.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/data/featuregrid/toolbars/toolbar.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/data/grid/DataGrid.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react-data-grid/index.js"),f=r("./node_modules/react-dom/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,s=a(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),u(l(t=s.call(this,e)),"scrollListener",(function(){t.props.isFocused||(t.scroll=t.canvas.scrollTop);var e=Math.ceil(t.canvas.clientHeight/t.props.rowHeight),r=Math.floor(t.canvas.scrollTop/t.props.rowHeight),n=r+e;t.props.onGridScroll&&t.props.onGridScroll({firstRowIdx:r,lastRowIdx:n})})),u(l(t),"setCanvasListener",(function(){t.canvas=f.findDOMNode(l(t)).querySelector(".react-grid-Canvas"),t.canvas&&t.canvas.addEventListener("scroll",t.scrollListener)})),t}return t=c,(r=[{key:"componentDidMount",value:function(){this.setCanvasListener(),this.props.displayFilters&&this.onToggleFilter()}},{key:"componentWillUnmount",value:function(){this.canvas&&(this.canvas.removeEventListener("scroll",this.scrollListener),this.canvas=null),this.props.displayFilters&&this.onToggleFilter()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.virtualScroll,n=t.displayFilters,o=t.scrollToTopCounter;e.displayFilters!==n&&this.onToggleFilter(),r&&(this.canvas&&this.canvas!==f.findDOMNode(this).querySelector(".react-grid-Canvas")&&(this.canvas.removeEventListener("scroll",this.scrollListener),this.setCanvasListener()),this.canvas||this.setCanvasListener(),this.canvas&&e.isFocused&&!this.props.isFocused?this.canvas.scrollTop=this.scroll:this.canvas&&this.props.minHeight!==e.minHeight&&this.scrollListener(),!this.props.isFocused&&this.canvas&&(this.scroll=this.canvas.scrollTop),o!==e.scrollToTopCounter&&this.canvas&&(this.canvas.scrollTop=0))}}])&&o(t.prototype,r),n&&o(t,n),c}(d);u(m,"propTypes",{displayFilters:p.bool}),e.exports=m},"./MapStore2/web/client/components/data/grid/forceScrollTop.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.branch,c=a.withHandlers,u=a.mapPropsStream,p=a.createEventHandler,d=r("./node_modules/rxjs/Rx.js");e.exports=l((function(e){return e.virtualScroll}),s(u((function(e){var t=p(),r=t.handler,n=t.stream;return e.combineLatest(n.throttle((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d.Observable.timer(e)})).scan((function(e){return e+1}),0).map((function(e){return{scrollToTopCounter:e}})).startWith({}),(function(e,t){return o(o(o({},e),t),{},{scrollToTop:r})}))})),c({onGridSort:function(e){var t=e.onGridSort,r=void 0===t?function(){}:t,n=e.scrollToTop,o=void 0===n?function(){}:n;return function(){return o(0),r.apply(void 0,arguments)}},onAddFilter:function(e){var t=e.onAddFilter,r=void 0===t?function(){}:t,n=e.scrollToTop,o=void 0===n?function(){}:n;return function(){o(1e3),r.apply(void 0,arguments)}}})))},"./MapStore2/web/client/components/data/identify/DefaultViewer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./MapStore2/web/client/utils/MapInfoUtils.js"),b=r("./MapStore2/web/client/components/I18N/HTML.jsx"),g=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=r("./node_modules/react-bootstrap/es/index.js"),v=h.Alert,S=h.Panel,w=h.Accordion,O=r("./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx"),j=r("./MapStore2/node_modules/lodash/lodash.js"),E=j.isEmpty,x=j.reverse,P=r("./MapStore2/web/client/utils/IdentifyUtils.js").getFormatForResponse,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"getResponseProperties",(function(){var t=e.props.validator(e.props.format),r=e.props.responses.map((function(e){return void 0===e?{}:e})),n=e.props.renderEmpty?t.getValidResponses(r,e.props.renderEmpty):r,o=t.getNoValidResponses(e.props.responses),i=e.props.requests.length===o.length;return{validResponses:n,currResponse:e.getCurrentResponse(n[e.props.index]),emptyResponses:i,invalidResponses:o}})),d(u(e),"getCurrentResponse",(function(t){return e.props.validator(e.props.format).getValidResponses([t],!0)})),d(u(e),"renderEmptyLayers",(function(){var t=e.getResponseProperties(),r=t.invalidResponses,n=t.emptyResponses;if(0===e.props.missingResponses&&n)return null;var o=0!==r.length;if(e.props.renderEmpty||(o=o&&0===e.props.missingResponses),o){var i=r.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI?f.createElement(v,{bsStyle:"info"},f.createElement(g,{msgId:"noInfoForLayers"}),f.createElement("b",null,i.join(", "))):null}return null})),d(u(e),"renderPage",(function(t){var r=e.props.viewers[e.props.format];return r?f.createElement(r,{response:t}):null})),d(u(e),"renderEmptyPages",(function(){var t=e.getResponseProperties().emptyResponses;return 0===e.props.missingResponses&&t?f.createElement(v,{bsStyle:"danger"},f.createElement("h4",null,f.createElement(b,{msgId:"noFeatureInfo"}))):null})),d(u(e),"renderPages",(function(){var t=e.getResponseProperties().validResponses;return t.map((function(r,n){var i,a,s=r.response,l=r.layerMetadata,c=P(r,e.props),u=e.props.header;return(null==l||null===(i=l.viewer)||void 0===i?void 0:i.type)&&(a=y.getViewer(l.viewer.type)),f.createElement(S,{eventKey:n,key:n,collapsible:e.props.collapsible,header:u?f.createElement("span",null,f.createElement(u,o({size:t.length},e.props.headerOptions,l,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},f.createElement(O,{response:s,format:c,viewers:a||e.props.viewers,layer:l}))}))})),d(u(e),"containerStyle",(function(t){return E(t)&&e.props.isMobile?{height:"100%"}:{display:E(t)?"none":"block"}})),e}return t=p,(r=[{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,r=this.getResponseProperties(),n=r.currResponse,i=r.emptyResponses,a=[this.renderEmptyLayers(),f.createElement(t,o({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",style:this.containerStyle(n),className:"swipeable-view"}),this.renderPages())];return a=this.props.isMobile?a:x(a),f.createElement("div",{className:"mapstore-identify-viewer"},i?this.renderEmptyPages():a.map((function(e){return e})))}}])&&a(t.prototype,r),n&&a(t,n),p}(f.Component);d(T,"propTypes",{format:m.string,collapsible:m.bool,requests:m.array,responses:m.array,missingResponses:m.number,container:m.oneOfType([m.object,m.func]),header:m.oneOfType([m.object,m.func]),headerOptions:m.object,validator:m.func,viewers:m.object,style:m.object,containerProps:m.object,index:m.number,onNext:m.func,onPrevious:m.func,onUpdateIndex:m.func,setIndex:m.func,showEmptyMessageGFI:m.bool,renderEmpty:m.bool,loaded:m.bool,isMobile:m.bool}),d(T,"defaultProps",{format:y.getDefaultInfoFormatValue(),responses:[],requests:[],missingResponses:0,collapsible:!1,headerOptions:{},container:w,validator:y.getValidator,viewers:y.getViewers(),style:{position:"relative",marginBottom:0},containerProps:{},showEmptyMessageGFI:!0,renderEmpty:!1,onNext:function(){},onPrevious:function(){},setIndex:function(){},isMobile:!1}),e.exports=T},"./MapStore2/web/client/components/data/identify/GeocodeViewer.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),i=r("./MapStore2/web/client/components/misc/Portal.jsx"),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),s=r("./node_modules/react-bootstrap/es/index.js").Glyphicon;e.exports=function(e){var t=e.latlng,r=e.enableRevGeocode,l=e.hideRevGeocode,c=void 0===l?function(){}:l,u=e.showModalReverse,p=e.revGeocodeDisplayName;return r&&t?n.createElement(i,null,n.createElement(o,{fade:!0,title:n.createElement("span",null,n.createElement(s,{glyph:"map-marker"}),"",n.createElement(a,{msgId:"identifyRevGeocodeModalTitle"})),size:"xs",show:u,onClose:c,buttons:[{text:n.createElement(a,{msgId:"close"}),onClick:c,bsStyle:"primary"}]},n.createElement("div",{className:"ms-alert",style:{padding:15}},n.createElement("div",{className:"ms-alert-center text-center"},n.createElement("div",null,p))))):null}},"./MapStore2/web/client/components/data/identify/IdentifyContainer.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/react-bootstrap/es/index.js").Row,c=r("./MapStore2/node_modules/lodash/lodash.js").get,u=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=r("./MapStore2/web/client/components/I18N/Message.jsx"),d=r("./MapStore2/web/client/components/misc/panels/DockablePanel.jsx"),f=r("./MapStore2/web/client/components/data/identify/GeocodeViewer.jsx"),m=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),y=r("./MapStore2/web/client/components/misc/Portal.jsx"),b=r("./MapStore2/web/client/components/data/identify/coordinates/Coordinate.jsx"),g=r("./MapStore2/web/client/utils/IdentifyUtils.js").responseValidForEdit,h=r("./MapStore2/web/client/components/data/identify/LayerSelector.jsx").default;e.exports=function(e){var t,r,o=e.enabled,a=e.requests,v=void 0===a?[]:a,S=e.onClose,w=e.responses,O=void 0===w?[]:w,j=e.index,E=e.viewerOptions,x=void 0===E?{}:E,P=e.format,T=e.dock,M=void 0===T||T,A=e.position,C=e.size,_=e.fluid,I=e.validResponses,R=void 0===I?[]:I,L=e.viewer,D=void 0===L?function(){return null}:L,k=e.getToolButtons,N=void 0===k?function(){return[]}:k,F=e.getFeatureButtons,G=void 0===F?function(){return[]}:F,U=e.showFullscreen,B=e.reverseGeocodeData,z=void 0===B?{}:B,W=e.point,V=e.dockStyle,H=void 0===V?{}:V,q=e.draggable,Y=e.setIndex,Z=e.warning,Q=e.clearWarning,K=e.zIndex,X=e.showEmptyMessageGFI,J=e.showEdit,$=e.isEditingAllowed,ee=e.onEdit,te=void 0===ee?function(){}:ee,re=e.enabledCoordEditorButton,ne=e.showCoordinateEditor,oe=e.onSubmitClickPoint,ie=e.onChangeFormat,ae=e.formatCoord,se=e.loaded,le=e.validator,ce=void 0===le?function(){return null}:le,ue=W&&W.latlng||null,pe=R[j],de=(pe||{}).layer,fe=null;ue&&(fe=ue&&Math.round(1e17*ue.lng)/1e17,fe-=360*Math.floor(fe/360+.5));var me=D,ye=N(i(i({},e),{},{lngCorrected:fe,validResponses:R,latlng:ue,showEdit:J&&$&&!!pe&&g(pe),onEdit:te.bind(null,de&&{id:de.id,name:de.name,url:c(de,"search.url")})})),be=v.length===(null===(t=ce(P))||void 0===t||null===(r=t.getNoValidResponses(O))||void 0===r?void 0:r.length)||0,ge=v.length-O.length,he=z.error?s.createElement(p,{msgId:"identifyRevGeocodeError"}):z.display_name;return s.createElement("div",{id:"identify-container",className:o&&0!==v.length?"identify-active":""},s.createElement(d,{bsStyle:"primary",glyph:"map-marker",open:o&&0!==v.length,size:C,fluid:_,position:A,draggable:q,onClose:S,dock:M,style:H,showFullscreen:U,zIndex:K,header:[s.createElement(l,{className:"layer-select-row"},s.createElement("div",{className:"layer-col"},s.createElement("span",{className:"identify-icon glyphicon glyphicon-1-layer"}),s.createElement(h,{responses:O,index:j,loaded:se,setIndex:Y,missingResponses:ge,emptyResponses:be}),s.createElement(u,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:G(e),transitionProps:null}))),s.createElement(l,{className:"coordinates-edit-row"},s.createElement("span",{className:"identify-icon glyphicon glyphicon-point"}),s.createElement("div",{className:"coordinate-editor"},s.createElement(b,{key:"coordinate-editor",formatCoord:ae,enabledCoordEditorButton:re,onSubmit:oe,onChangeFormat:ie,edit:ne,coordinate:{lat:ue&&ue.lat,lon:fe}})),s.createElement(f,n({latlng:ue,revGeocodeDisplayName:he},e)),s.createElement(u,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:ye,transitionProps:null}))].filter((function(e){return e}))},s.createElement(me,n({index:j,setIndex:Y,format:P,missingResponses:ge,responses:O,requests:v,showEmptyMessageGFI:X},x))),s.createElement(y,null,s.createElement(m,{fade:!0,title:s.createElement(p,{msgId:"warning"}),size:"xs",show:Z,onClose:Q,buttons:[{text:s.createElement(p,{msgId:"close"}),onClick:Q,bsStyle:"primary"}]},s.createElement("div",{className:"ms-alert",style:{padding:15}},s.createElement("div",{className:"ms-alert-center text-center"},s.createElement(p,{msgId:"identifyNoQueryableLayers"}))))))}},"./MapStore2/web/client/components/data/identify/LayerSelector.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./node_modules/react-select/dist/react-select.es.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=r.n(c)()(["placeholder","clearValueText","noResultsText"])(s.default),m=function(e){var t=e.responses,r=void 0===t?[]:t,i=e.index,a=void 0===i?0:i,s=e.loaded,c=e.setIndex,d=e.missingResponses,m=void 0===d?0:d,y=e.emptyResponses,b=void 0!==y&&y,g=p(Object(n.useState)([]),2),h=g[0],v=g[1],S=p(Object(n.useState)(""),2),w=S[0],O=S[1];Object(n.useEffect)((function(){Object(l.isEmpty)(r)||v(r.map((function(e){var t;return null==e||null===(t=e.layerMetadata)||void 0===t?void 0:t.title})))}),[r]),Object(n.useEffect)((function(){var e,t;s&&O((null===(e=r[a])||void 0===e||null===(t=e.layerMetadata)||void 0===t?void 0:t.title)||"")}),[r,a,s]);return o.a.createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%",padding:"0px 4px"}},o.a.createElement(f,u({},{clearable:!1,isSearchable:!0},{onChange:function(e){var t=(null==e?void 0:e.idx)||0;c(t)},value:w||"",options:h.map((function(e,t){return{label:e,value:e,idx:t}})),disabled:0!==m||0===r.length||b,noResultsText:"identifyLayerSelectNoResult"})))};m.propTypes={responses:a.a.array,setIndex:a.a.func,index:a.a.number,emptyResponses:a.a.bool},t.default=m},"./MapStore2/web/client/components/data/identify/SwipeHeader.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Glyphicon,b=m.Button,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderLeftButton",(function(){var t=0===e.props.index;return e.props.useButtons?f.createElement(b,{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onPrevious()}},f.createElement(y,{glyph:"back"})):f.createElement("a",{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onPrevious()}},f.createElement(y,{glyph:"back"}))})),p(c(e),"renderRightButton",(function(){var t=e.props.index===e.props.size-1;return e.props.useButtons?f.createElement(b,{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onNext()}},f.createElement(y,{glyph:"next"})):f.createElement("a",{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onNext()}},f.createElement(y,{glyph:"next"}))})),e}return t=u,(r=[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return f.createElement("div",{className:"ms-identify-swipe-header"},this.props.size>1&&f.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderLeftButton()),f.createElement("div",{className:"ms-identify-swipe-header-title"},this.props.title),this.props.size>1&&f.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderRightButton()))}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(g,"propTypes",{title:d.string,index:d.number,size:d.number,container:d.oneOfType([d.object,d.func]),useButtons:d.bool,onPrevious:d.func,onNext:d.func,btnClassName:d.string}),p(g,"defaultProps",{useButtons:!0}),e.exports=g},"./MapStore2/web/client/components/data/identify/coordinates/Coordinate.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/data/identify/coordinates/Editor.jsx"),i=r("./MapStore2/web/client/components/data/identify/coordinates/Viewer.jsx");e.exports=function(e){var t=e.coordinate,r=void 0===t?{}:t,a=e.formatCoord,s=e.edit,l=e.onSubmit,c=void 0===l?function(){}:l,u=e.onChangeFormat,p=void 0===u?function(){}:u;return s?n.createElement(o,{removeVisible:!1,formatCoord:a,coordinate:r||{lat:"",lon:""},onSubmit:c,onChangeFormat:p}):n.createElement(i,{className:"coordinates-text",formatCoord:a,coordinate:r||{lat:"",lon:""}})}},"./MapStore2/web/client/components/data/identify/coordinates/Editor.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx"),i=r("./MapStore2/node_modules/lodash/lodash.js").isEmpty;e.exports=function(e){return n.createElement(o,{format:e.formatCoord||"decimal",aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},idx:1,onSubmit:function(t,r){e.onSubmit(i(r)?void 0:r)},onChangeFormat:function(t){e.onChangeFormat(t)},key:"GFI row coord editor",component:e.coordinate||{},customClassName:"coord-editor",isDraggable:!1,showDraggable:!1,formatVisible:!0,showLabels:!0,removeVisible:!1})}},"./MapStore2/web/client/components/data/identify/coordinates/Viewer.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Row,a=o.Col,s=r("./MapStore2/node_modules/lodash/lodash.js").isNil,l=r("./MapStore2/web/client/components/I18N/Number.jsx"),c=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js")((function(e){var t=e.degrees,r=void 0===t?0:t,o=e.minutes,i=void 0===o?0:o,a=e.seconds,s=void 0===a?0:a,c=e.direction,u=e.integerFormat,p=e.decimalFormat;return n.createElement("span",{className:"coordinate-dms"},n.createElement(l,{key:"latD",numberParams:u,value:r}),n.createElement("span",null,""),n.createElement(l,{key:"latM",numberParams:u,value:i}),n.createElement("span",null,"'"),n.createElement(l,{key:"latS",numberParams:p,value:s}),n.createElement("span",null,"''"),"",n.createElement("span",null,c))}));e.exports=function(e){var t=e.integerFormat,r=void 0===t?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0}:t,o=e.decimalFormat,u=void 0===o?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:4,minimumFractionDigits:4}:o,p=e.coordinate,d=void 0===p?{}:p,f=e.formatCoord,m=void 0===f?"decimal":f,y=e.className;return n.createElement(i,{className:y},n.createElement(a,{xs:12},s(d.lat)||s(d.lon)?null:"decimal"===m?n.createElement("div",{className:"ms-coordinates-decimal"},"Lat: ",n.createElement(l,{value:Math.round(1e5*d.lat)/1e5})," - Long: ",n.createElement(l,{value:d.lon})):n.createElement("div",{className:"ms-coordinates-aeronautical"},n.createElement("span",null,"Lat: ",n.createElement(c,{integerFormat:r,decimalFormat:u,value:d.lat})),n.createElement("span",null," - "),n.createElement("span",null," Long: ",n.createElement(c,{coordinate:"lon",integerFormat:r,decimalFormat:u,value:d.lon})))))}},"./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.withHandlers,i=n.defaultProps,a=r("./MapStore2/web/client/utils/MapInfoUtils.js"),s=o({onNext:function(e){var t=e.index,r=void 0===t?0:t,n=e.setIndex,o=void 0===n?function(){}:n,i=e.validResponses,a=void 0===i?[]:i;return function(){o(Math.min(a.length-1,r+1))}},onPrevious:function(e){var t=e.index,r=e.setIndex,n=void 0===r?function(){}:r;return function(){n(Math.max(0,t-1))}}}),l=i({format:a.getDefaultInfoFormatValue(),validator:a.getValidator});e.exports={defaultViewerHandlers:s,defaultViewerDefaultProps:l}},"./MapStore2/web/client/components/data/identify/enhancers/identify.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.lifecycle,i=n.withHandlers,a=n.compose,s=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.isNil,u=l.isNaN,p=a(i({needsRefresh:function(){return function(e,t){if(t.enabled&&t.point&&t.point.pixel){if(!e.point||!e.point.pixel||e.point.pixel.x!==t.point.pixel.x||e.point.latlng!==t.point.latlng||e.point.pixel.y!==t.point.pixel.y)return!0;if(!e.point||!e.point.pixel||t.point.pixel&&e.format!==t.format)return!0}return!1}},onClose:function(e){var t=e.purgeResults,r=void 0===t?function(){}:t,n=e.closeIdentify,o=void 0===n?function(){}:n;return function(){r(),o()}},onSubmitClickPoint:function(e){var t=e.onSubmitClickPoint,r=void 0===t?function(){}:t,n=e.point;return function(e){var t=c(e.lat)||u(e.lat)?0:parseFloat(e.lat),o=c(e.lon)||u(e.lon)?0:parseFloat(e.lon),i=s("latlng.lng",o,s("latlng.lat",t,n));r(i)}},onChangeFormat:function(e){var t=e.onChangeFormat,r=void 0===t?function(){}:t;return function(e){r(e)}}}),o({componentDidMount:function(){var e=this.props,t=e.enabled,r=e.changeMousePointer,n=void 0===r?function(){}:r,o=e.disableCenterToMarker,i=e.onEnableCenterToMarker,a=void 0===i?function(){}:i;t&&n("pointer"),o||a()},componentWillUnmount:function(){var e=this.props,t=e.hideMarker,r=void 0===t?function(){}:t,n=e.purgeResults,o=void 0===n?function(){}:n,i=e.changeMousePointer;(void 0===i?function(){}:i)("auto"),r(),o()},componentWillReceiveProps:function(e){var t=this.props,r=t.hideMarker,n=void 0===r?function(){}:r,o=t.purgeResults,i=void 0===o?function(){}:o,a=t.changeMousePointer,s=void 0===a?function(){}:a,l=t.enabled;e.enabled&&!l?s("pointer"):!e.enabled&&l&&(s("auto"),n(),i())}}));e.exports={identifyLifecycle:p}},"./MapStore2/web/client/components/data/identify/enhancers/zoomToFeatureHandler.js":function(e,t,r){var n=r("./node_modules/@turf/bbox/index.js"),o=r("./node_modules/recompose/es/Recompose.js").withHandlers;e.exports=o({zoomToFeature:function(e){var t=e.zoomToExtent,r=void 0===t?function(){}:t,o=e.currentFeature,i=void 0===o?[]:o,a=e.currentFeatureCrs;return function(){var e=i.filter((function(e){return!!e.geometry}));if(e.length>0){var t=n({type:"FeatureCollection",features:e});t&&r(t,a)}}}})},"./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx":function(e,t,r){var n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js");e.exports=(o=n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,r,n,o=c(i);function i(){var e;a(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"onTouchStart",(function(t){var r=t.touches[0];e.startX=r.pageX,e.startY=r.pageY,e.setState({scrolling:!1})})),f(p(e),"onTouchMove",(function(t){var r=t.touches[0],n=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-r.pageY)>Math.abs(e.startX-r.pageX))t.stopPropagation();else{var o=e.startX<r.pageX?"left":"right";(n&&"left"===o&&n.clientWidth<n.scrollWidth&&0!==n.scrollLeft||n&&"right"===o&&n.clientWidth+n.scrollLeft!==n.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),f(p(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),f(p(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?y.createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=i,(r=[{key:"render",value:function(){return y.createElement("div",{style:{width:"100%",height:"100%",overflowX:"auto"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&s(t.prototype,r),n&&s(t,n),i}(y.Component),f(n,"propTypes",{format:m.string,viewers:m.oneOfType([m.func,m.object]),response:m.oneOfType([m.string,m.object,m.node]),layer:m.object}),o)},"./MapStore2/web/client/components/data/query/AutocompleteFieldHOC.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/object-assign/index.js"),y=r("./MapStore2/web/client/components/data/query/AutocompleteListItem.jsx"),b=r("./MapStore2/web/client/components/misc/combobox/PagedCombobox.jsx"),g=r("./MapStore2/web/client/utils/FilterUtils.jsx").isLikeOrIlike,h=r("./MapStore2/web/client/components/I18N/HTML.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getOptions",(function(){return e.props.filterField&&e.props.filterField.options&&e.props.filterField.options[e.props.filterField.attribute]&&e.props.filterField.options[e.props.filterField.attribute].map((function(e){return{value:e,label:e}}))})),p(c(e),"getPagination",(function(t){if(!e.props.filterField.options)return{};var r=Math.ceil(e.props.filterField.fieldOptions.valuesCount/e.props.maxFeaturesWPS),n=1===e.props.filterField.fieldOptions.currentPage||!e.props.filterField.fieldOptions.currentPage,o=e.props.filterField.fieldOptions.currentPage===r||!e.props.filterField.fieldOptions.currentPage;return m({},e.props.pagination,{paginated:0!==t.length&&!(n&&1===t.length),firstPage:n,lastPage:o,loadPrevPage:function(){return e.props.onUpdateField(e.props.filterField.rowId,"value",e.props.filterField.value,"string",{currentPage:e.props.filterField.fieldOptions.currentPage-1,delayDebounce:0})},loadNextPage:function(){return e.props.onUpdateField(e.props.filterField.rowId,"value",e.props.filterField.value,"string",{currentPage:e.props.filterField.fieldOptions.currentPage+1,delayDebounce:0})}})})),p(c(e),"getTooltip",(function(){return m({},e.props.tooltip,{enabled:g(e.props.filterField.operator),id:e.props.filterField.rowId,message:f.createElement(h,{msgId:"queryform.attributefilter.tooltipTextField"}),overlayTriggerKey:e.props.filterField.rowId,placement:"top"})})),p(c(e),"renderField",(function(){var t;e.props.filterField&&e.props.filterField.value&&"*"!==e.props.filterField.value&&(t={value:e.props.filterField.value,label:e.props.filterField.value});var r=e.getOptions()?e.getOptions().slice(0):[];return f.createElement(b,{busy:e.props.filterField.loading,data:e.props.filterField.loading?[]:r,disabled:"isNull"===e.props.filterField.operator,itemComponent:e.props.itemComponent,open:e.props.filterField.openAutocompleteMenu,onChange:function(t){return e.handleChange(t)},onFocus:function(){return e.handleFocus(r)},onSelect:function(){return e.handleSelect()},onToggle:function(){return e.handleToggle(r)},pagination:e.getPagination(r),selectedValue:t&&t.value,tooltip:e.getTooltip()})})),p(c(e),"handleSelect",(function(){e.selected=!0})),p(c(e),"handleChange",(function(t){e.selected?(e.selected=!1,t&&""!==t.value&&e.props.onUpdateField(e.props.filterField.rowId,"value",t.value,"string",{currentPage:1,selected:"selected",delayDebounce:0})):e.props.onUpdateField(e.props.filterField.rowId,"value","string"==typeof t?t:t.value,"string",{currentPage:1,delayDebounce:1e3})})),p(c(e),"handleFocus",(function(t){e.loadWithoutfilter(t)})),p(c(e),"handleToggle",(function(){e.props.toggleMenu(e.props.filterField.rowId,!e.props.filterField.openAutocompleteMenu)})),p(c(e),"loadWithoutfilter",(function(t){0!==t.length||e.props.filterField.value||e.props.onUpdateField(e.props.filterField.rowId,"value","","string",{currentPage:1,delayDebounce:0})})),e}return t=u,(r=[{key:"render",value:function(){var e=this.props.label?f.createElement("label",null,this.props.label):f.createElement("span",null);return f.createElement("div",{className:"autocompleteField"},e,this.renderField())}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(v,"propTypes",{disabled:d.bool,filterField:d.object,label:d.string,itemComponent:d.oneOfType([d.object,d.func]),maxFeaturesWPS:d.number,onUpdateField:d.func,pagination:d.object,textField:d.string,tooltip:d.object,toggleMenu:d.func,valueField:d.string}),p(v,"contextTypes",{messages:d.object}),p(v,"defaultProps",{label:null,onUpdateField:function(){},pagination:{paginated:!0,nextPageIcon:"chevron-right",prevPageIcon:"chevron-left"},itemComponent:y,toggleMenu:function(){},filterField:{fieldOptions:{}}}),e.exports=v},"./MapStore2/web/client/components/data/query/AutocompleteListItem.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,p,d,f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this.props.item;return e.pagination?f.createElement("span",null,e[this.props.textField]," ",e.pagination," "):f.createElement("span",null,e[this.props.textField])}}])&&i(t.prototype,r),n&&i(t,n),c}(f.Component);u=y,p="propTypes",d={item:m.object,textField:m.string,valueField:m.string},p in u?Object.defineProperty(u,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[p]=d,e.exports=y},"./MapStore2/web/client/components/data/query/ComboField.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/object-assign/index.js"),y=r("./MapStore2/web/client/utils/LocaleUtils.js"),b=r("./node_modules/react-bootstrap/es/index.js").Tooltip,g=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),h=r("./node_modules/react-widgets/lib/index.js"),v=h.DropdownList,S=h.Multiselect,w=r("./MapStore2/web/client/components/I18N/Message.jsx"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){var e=this,t=m({},{borderColor:"#dedede"},this.props.style);this.props.fieldException&&(t=m({},t,{borderColor:"#FF0000"}));var r=this.props.multivalue?S:v,n=null!==this.props.valueField&&null!==this.props.textField?f.createElement(r,o({},this.props.options,{busy:this.props.busy,disabled:this.props.disabled,itemComponent:this.props.itemComponent,valueField:this.props.valueField,textField:this.props.textField,data:this.props.fieldOptions,value:this.props.fieldValue,caseSensitive:!1,minLength:3,placeholder:this.props.placeholder,messages:{open:y.getMessageById(this.context.messages,"queryform.comboField.drop_down")},filter:this.props.comboFilter,style:t,groupBy:this.props.groupBy,onSelect:this.props.onSelect,onChange:function(t){return e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,e.props.multivalue?t:t[e.props.valueField],e.props.attType)},onToggle:this.props.onToggle,onSearch:this.props.onSearch})):f.createElement(r,o({},this.props.options,{busy:this.props.busy,disabled:this.props.disabled,itemComponent:this.props.itemComponent,data:this.props.fieldOptions,value:this.props.fieldValue,caseSensitive:!1,minLength:3,placeholder:this.props.placeholder,messages:{open:y.getMessageById(this.context.messages,"queryform.comboField.drop_down")},filter:this.props.comboFilter,style:t,groupBy:this.props.groupBy,onSelect:this.props.onSelect,onChange:function(t){return e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t,e.props.attType)},onToggle:this.props.onToggle,onSearch:this.props.onSearch}));return this.props.fieldException?f.createElement(g,{placement:"bottom",overlay:f.createElement(b,{id:this.props.fieldRowId+"_tooltip"},f.createElement("strong",null,this.props.fieldException))},n):n}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(O,"propTypes",{busy:d.bool,style:d.object,valueField:d.string,textField:d.string,placeholder:d.object,itemComponent:d.oneOfType([d.object,d.func]),fieldOptions:d.array,fieldName:d.string,fieldRowId:d.number,attType:d.string,fieldValue:d.oneOfType([d.number,d.string,d.array]),fieldException:d.oneOfType([d.object,d.string]),comboFilter:d.oneOfType([d.bool,d.string,d.func]),groupBy:d.oneOfType([d.string,d.func]),multivalue:d.bool,disabled:d.bool,options:d.object,onSelect:d.func,onToggle:d.func,onSearch:d.func,onUpdateField:d.func,onClick:d.func,onUpdateExceptionField:d.func}),p(O,"contextTypes",{messages:d.object}),p(O,"defaultProps",{options:{},busy:!1,style:{width:"100%"},placeholder:f.createElement(w,{msgId:"queryform.comboField.default_placeholder"}),multivalue:!1,disabled:!1,valueField:null,textField:null,fieldOptions:[],fieldName:null,itemComponent:null,fieldRowId:null,fieldValue:null,fieldException:null,comboFilter:!1,groupBy:function(){},onSelect:function(){},onToggle:function(){},onSearch:function(){},onUpdateField:function(){},onUpdateExceptionField:function(){}}),e.exports=O},"./MapStore2/web/client/components/data/query/ComboFieldListItem.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,p,d,f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return f.createElement("span",{className:this.props.customItemClassName?this.props.customItemClassName:""},this.props.item)}}])&&i(t.prototype,r),n&&i(t,n),c}(f.Component);u=y,p="propTypes",d={item:m.string,textField:m.string,customItemClassName:m.string,valueField:m.string},p in u?Object.defineProperty(u,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[p]=d,e.exports=y},"./MapStore2/web/client/components/data/query/CrossLayerFilter.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),s=r("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),l=r("./node_modules/react-bootstrap/es/index.js"),c=l.Row,u=l.Col,p=r("./node_modules/react-select/dist/react-select.es.js").default,d=r("./MapStore2/web/client/components/data/query/GeometricOperationSelector.jsx"),f=r("./MapStore2/web/client/components/data/query/GroupField.jsx"),m=r("./MapStore2/web/client/utils/URLUtils.js").isSameUrl,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.search,n=t.url;return m(e,n)||m(e,r&&r.url)},b=function(e){return(e||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return"BBOX"!==t}))};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.crossLayerExpanded,r=void 0===t||t,o=e.spatialOperations,l=e.expandCrossLayerFilterPanel,m=void 0===l?function(){}:l,g=e.layers,h=void 0===g?[]:g,v=e.errorObj,S=e.loadingAttributes,w=e.loadingCapabilities,O=e.searchUrl,j=e.queryCollection,E=void 0===j?{}:j,x=e.attributes,P=void 0===x?[]:x,T=e.operation,M=e.updateLogicCombo,A=void 0===M?function(){}:M,C=e.resetCrossLayerFilter,_=void 0===C?function(){}:C,I=e.setOperation,R=void 0===I?function(){}:I,L=e.setQueryCollectionParameter,D=void 0===L?function(){}:L,k=e.addCrossLayerFilterField,N=void 0===k?function(){}:k,F=e.updateCrossLayerFilterField,G=void 0===F?function(){}:F,U=e.removeCrossLayerFilterField,B=void 0===U?function(){}:U,z=E.typeName,W=E.geometryName,V=E.filterFields,H=E.groupFields,q=void 0===H?[{id:1,logic:"OR",index:0}]:H;return i.createElement(s,{loading:w,expanded:r&&!w&&!v,error:v,errorMsgId:"queryPanel",buttons:n(z?[{glyph:"clear-filter",tooltipId:"queryform.crossLayerFilter.clear",onClick:function(){return _()}}]:[]),onSwitch:m,title:i.createElement(a,{msgId:"queryform.crossLayerFilter.title"})},i.createElement(c,{className:"inline-form filter-field-fixed-row"},i.createElement(u,{xs:6},i.createElement("div",null,i.createElement(a,{msgId:"queryform.crossLayerFilter.targetLayer"}))),i.createElement(u,{xs:6},i.createElement(p,{clearable:!1,disabled:w||!!v,isLoading:S,options:h.filter((function(e){return y(O,e)})).map((function(e){return{label:e.title||e.name,value:e.name}})),placeholder:i.createElement(a,{msgId:"queryform.crossLayerFilter.placeholder"}),filter:"contains",value:z,onChange:function(e){D("typeName",e&&e.value)}}))),z&&W?i.createElement(c,{className:"inline-form filter-field-fixed-row"},i.createElement(u,{xs:6},i.createElement("div",null,i.createElement(a,{msgId:"queryform.crossLayerFilter.operation"}))),i.createElement(u,{xs:6},i.createElement(d,{value:T,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return R(t)},spatialOperations:b(o)}))):null,z&&W&&T?i.createElement(c,{className:"filter-field-fixed-row"},i.createElement(u,{xs:12},i.createElement(f,{autocompleteEnabled:!1,withContainer:!1,attributes:P,groupLevels:-1,filterFields:V,actions:{onUpdateLogicCombo:A,onAddFilterField:N,onUpdateFilterField:G,onRemoveFilterField:B},groupFields:q,filterField:!0}))):null)}},"./MapStore2/web/client/components/data/query/DateField.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/moment/moment.js");r("./node_modules/react-widgets/lib/localizers/moment.js")(m);var y=r("./MapStore2/web/client/components/misc/enhancers/utcDateWrapper.js").default,b=r("./MapStore2/web/client/components/I18N/Message.jsx"),g=r("./MapStore2/web/client/utils/TimeUtils.js").getDateTimeFormat,h=r("./node_modules/react-widgets/lib/index.js").DateTimePicker,v=y({dateProp:"value",dateTypeProp:"type",setDateProp:"onChange"})(h);r("./node_modules/react-widgets/lib/less/react-widgets.less");var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"updateValueState",(function(t){t.startDate&&t.endDate&&t.startDate>t.endDate?e.props.onUpdateExceptionField(e.props.fieldRowId,"queryform.attributefilter.datefield.wrong_date_range"):e.props.onUpdateExceptionField(e.props.fieldRowId,null),e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t,e.props.attType)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.props.fieldValue&&this.props.fieldValue.startDate||null,r=this.props.fieldValue&&this.props.fieldValue.endDate||null;return"><"===this.props.operator?d.createElement("div",{className:"query-field"},d.createElement("div",{className:"query-field-value"},this.props.showLabels&&d.createElement(b,{msgId:"queryform.from"}),d.createElement(v,{type:this.props.attType,defaultValue:t,value:t,calendar:this.props.dateEnabled,time:this.props.timeEnabled,format:g(this.context.locale,this.props.attType),onChange:function(t){return e.updateValueState({startDate:t,endDate:r})}})),d.createElement("div",{className:"query-field-value"},this.props.showLabels&&d.createElement(b,{msgId:"queryform.to"}),d.createElement(v,{type:this.props.attType,defaultValue:r,value:r,calendar:this.props.dateEnabled,time:this.props.timeEnabled,format:g(this.context.locale,this.props.attType),onChange:function(r){return e.updateValueState({startDate:t,endDate:r})}}))):d.createElement("div",null,this.props.showLabels&&d.createElement(b,{msgId:"queryform.date"}),d.createElement(v,{type:this.props.attType,defaultValue:t,value:t,time:this.props.timeEnabled,calendar:this.props.dateEnabled,format:g(this.context.locale,this.props.attType),onChange:function(t){e.updateValueState({startDate:t,endDate:null})}}))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(S,"propTypes",{attType:f.string,dateEnabled:f.bool,fieldName:f.string,fieldRowId:f.number,fieldValue:f.object,fieldException:f.string,operator:f.string,onUpdateField:f.func,onUpdateExceptionField:f.func,showLabels:f.bool,timeEnabled:f.bool}),p(S,"contextTypes",{locale:f.string}),p(S,"defaultProps",{timeEnabled:!1,dateEnabled:!0,operator:null,fieldName:null,fieldRowId:null,attType:null,fieldValue:null,fieldException:null,onUpdateField:function(){},onUpdateExceptionField:function(){},showLabels:!1}),e.exports=S},"./MapStore2/web/client/components/data/query/FilterField.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/components/data/query/ComboField.jsx"),y=r("./node_modules/object-assign/index.js"),b=r("./MapStore2/web/client/utils/LocaleUtils.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderOperatorField",(function(){return d.createElement(m,{fieldOptions:e.props.operatorOptions,fieldName:"operator",fieldRowId:e.props.filterField.rowId,fieldValue:e.props.filterField.operator,onUpdateField:e.updateFieldElement})})),p(c(e),"renderValueField",(function(t){return d.cloneElement(d.Children.toArray(e.props.children).filter((function(e){return e.props.attType===t.type}))[0],y({fieldName:"value",fieldRowId:e.props.filterField.rowId,fieldValue:e.props.filterField.value,fieldException:e.props.filterField.exception,onUpdateField:e.updateFieldElement,toggleMenu:e.props.toggleMenu,maxFeaturesWPS:e.props.maxFeaturesWPS,onUpdateExceptionField:e.updateExceptionFieldElement},t.fieldOptions||{}))})),p(c(e),"updateExceptionFieldElement",(function(t,r){e.props.onUpdateExceptionField(t,r)})),p(c(e),"updateFieldElement",(function(t,r,n,o,i){var a;if("attribute"===r?(a=e.props.attributes.filter((function(e){return e.attribute===n}))[0],e.props.onUpdateField(t,r,n,a&&a.type||o,i)):e.props.onUpdateField(t,r,n,"boolean"===o?"string":o,i),"value"===r){var s=e.props.attributes.filter((function(t){return t.dependson&&t.dependson.field===e.props.filterField.attribute}));s.length>0&&e.props.onChangeCascadingValue(s)}})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.props.attributes.filter((function(t){return t.attribute===e.props.filterField.attribute}))[0];return d.createElement("div",{className:"filter-field-row"},d.createElement("div",{className:"filter-field-attribute"},d.createElement(m,{valueField:"id",textField:"name",fieldOptions:this.props.attributes.map((function(e){return{id:e.attribute,name:e.label}})),placeholder:b.getMessageById(this.context.messages,"queryform.attributefilter.combo_placeholder"),fieldValue:this.props.filterField.attribute,attType:t&&t.type,fieldName:"attribute",fieldRowId:this.props.filterField.rowId,onUpdateField:this.updateFieldElement,comboFilter:"contains"})),d.createElement("div",{className:"filter-field-operator"},t?this.renderOperatorField():null),d.createElement("div",{className:"filter-field-value"},t&&this.props.filterField.operator?this.renderValueField(t):null),this.props.deleteButton?d.createElement("div",{className:"filter-field-tools"},this.props.deleteButton):null)}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(g,"propTypes",{attributes:f.array,filterField:f.object,operatorOptions:f.array,onUpdateField:f.func,maxFeaturesWPS:f.number,toggleMenu:f.func,deleteButton:f.node,onUpdateExceptionField:f.func,onChangeCascadingValue:f.func}),p(g,"contextTypes",{messages:f.object}),p(g,"defaultProps",{attributes:[],filterField:null,operatorOptions:["=",">","<",">=","<=","<>","><"],onUpdateField:function(){},toggleMenu:function(){},onUpdateExceptionField:function(){},onChangeCascadingValue:function(){}}),e.exports=g},"./MapStore2/web/client/components/data/query/GeometricOperationSelector.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./node_modules/react-widgets/lib/index.js").DropdownList,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item;return n.createElement("span",null,t&&t.name?n.createElement(o,{msgId:t.name}):null)};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.spatialOperations,r=void 0===t?[]:t,o=e.onChange,s=void 0===o?function(){}:o,l=e.value;return n.createElement(i,{valueField:"id",className:"geometry-operation-selector",onChange:s,data:r,valueComponent:a,value:l,itemComponent:a})}},"./MapStore2/web/client/components/data/query/GeometryDetails.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Row,b=m.Col,g=r("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),h=r("./MapStore2/web/client/components/I18N/I18N.jsx"),v=r("./node_modules/object-assign/index.js"),S=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),w=r("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onUpdateBBOX",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"replace";"replace"===n&&(e.tempExtent[r]=!isNaN(parseFloat(t))&&parseFloat(t)||0);var o=[];for(var i in e.tempExtent)i&&o.push(e.tempExtent[i]);var a=S.reprojectBbox(o,"EPSG:4326",e.props.projection),s={type:e.props.geometry.type,coordinates:[[[a[0],a[1]],[a[0],a[3]],[a[2],a[3]],[a[2],a[1]],[a[0],a[1]]]],projection:e.props.geometry.projection};e.props.onChangeDrawingStatus(n,void 0,"queryform",[s])})),p(c(e),"onUpdateCircle",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"replace";"replace"===n&&(e.tempCircle[r]=parseFloat(t));var o=isNaN(parseFloat(e.tempCircle.x))||isNaN(parseFloat(e.tempCircle.y))?[e.tempCircle.x,e.tempCircle.y]:S.reproject([e.tempCircle.x,e.tempCircle.y],"EPSG:4326",e.props.projection);o=void 0===o.x?{x:o[0],y:o[1]}:o;var i={x:isNaN(o.x)?0:o.x,y:isNaN(o.y)?0:o.y},a={type:e.props.geometry.type,center:i,coordinates:[i.x,i.y],radius:isNaN(e.tempCircle.radius)?0:e.tempCircle.radius,projection:e.props.geometry.projection};e.props.onChangeDrawingStatus(n,void 0,"queryform",[a],{geodesic:e.props.enableGeodesic})})),p(c(e),"onModifyGeometry",(function(){"BBOX"===e.props.type?e.onUpdateBBOX(null,null,"endDrawing"):"Circle"===e.props.type&&e.onUpdateCircle(null,null,"endDrawing"),e.props.onShowPanel(!1)})),p(c(e),"onClosePanel",(function(){e.resetGeom(),e.props.onShowPanel(!1)})),p(c(e),"getStep",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Math.min(1/Math.pow(10,Math.ceil(Math.min(e,21)/3)-2),1)})),p(c(e),"getStepCircle",(function(t,r){var n=e.getStep(t);return"radius"===r&&!e.isWGS84()&&1e4*n||n})),p(c(e),"getBBOXDimensions",(function(e){var t=S.reprojectBbox(e.extent,e.projection,"EPSG:4326");return{west:t[0],sud:t[1],est:t[2],north:t[3]}})),p(c(e),"getCircleDimensions",(function(t){var r=S.reproject(t.center,t.projection,"EPSG:4326"),n=S.reproject(t.center,t.projection,e.props.projection),o=S.reproject([t.center[0]+t.radius,t.center[1]],t.projection,e.props.projection),i=Math.sqrt((o.x-n.x)*(o.x-n.x)+(o.y-n.y)*(o.y-n.y));return{x:r.x,y:r.y,radius:i}})),p(c(e),"renderCoordinateField",(function(t,r){return d.createElement("div",null,d.createElement("div",{className:"detail-field-title"},r),d.createElement(w,{style:{minWidth:"105px",margin:"auto"},type:"number",id:"queryform_bbox_"+r,step:e.getStep(e.props.zoom),defaultValue:e.roundValue(t,1e6),onChange:function(t){return e.onUpdateBBOX(t,r)}}))})),p(c(e),"renderCircleField",(function(t,r){return d.createElement(w,{type:"number",id:"queryform_circle_"+r,defaultValue:e.roundValue(t,"radius"!==r||e.isWGS84()?1e6:100),step:e.getStepCircle(e.props.zoom,r),onChange:function(t){return e.onUpdateCircle(t,r)}})})),p(c(e),"renderDetailsContent",(function(){var t,r=e.props.geometry;if("BBOX"===e.props.type){var n=e.getBBOXDimensions(r);t=d.createElement("div",null,d.createElement("div",{className:"container-fluid"},d.createElement(y,null,d.createElement(b,{xs:4},d.createElement("span",null)),d.createElement(b,{xs:4},e.renderCoordinateField(n.north,"north")),d.createElement(b,{xs:4},d.createElement("span",null))),d.createElement(y,null,d.createElement(b,{xs:4},e.renderCoordinateField(n.west,"west")),d.createElement(b,{xs:4},d.createElement("span",null)),d.createElement(b,{xs:4},e.renderCoordinateField(n.est,"est"))),d.createElement(y,null,d.createElement(b,{xs:4},d.createElement("span",null)),d.createElement(b,{xs:4},e.renderCoordinateField(n.sud,"sud")),d.createElement(b,{xs:4},d.createElement("span",null)))),d.createElement("span",null,d.createElement("hr",{width:"90%"}),d.createElement("div",null,d.createElement("h5",null,d.createElement(h.Message,{msgId:"queryform.spatialfilter.details.details_bbox_label"})))))}else if("Circle"===e.props.type){var o=e.getCircleDimensions(r),i=S.getUnits(e.props.projection);t=d.createElement("div",null,d.createElement("div",{className:"container-fluid"},d.createElement(y,null,d.createElement(b,{xs:2},d.createElement("span",null)),d.createElement(b,{xs:2},d.createElement("span",{className:"details-circle-attribute-name"},"x:")),d.createElement(b,{xs:4},e.renderCircleField(o.x,"x")),d.createElement(b,{xs:4},d.createElement("span",null))),d.createElement(y,null,d.createElement(b,{xs:2},d.createElement("span",null)),d.createElement(b,{xs:2},d.createElement("span",{className:"details-circle-attribute-name"},"y:")),d.createElement(b,{xs:4},e.renderCircleField(o.y,"y")),d.createElement(b,{xs:4},d.createElement("span",null))),d.createElement(y,null,d.createElement(b,{xs:2},d.createElement("span",null)),d.createElement(b,{xs:2},d.createElement("span",{className:"details-circle-attribute-name"},d.createElement(h.Message,{msgId:"queryform.spatialfilter.details.radius",msgParams:{unit:"degrees"===i?"":i}}),":")),d.createElement(b,{xs:4},e.renderCircleField(o.radius,"radius")),d.createElement(b,{xs:4},d.createElement("span",null)))),d.createElement("span",null,d.createElement("hr",{width:"90%"}),d.createElement("div",null,d.createElement("h5",null,d.createElement(h.Message,{msgId:"queryform.spatialfilter.details.details_circle_label"})))))}return t})),p(c(e),"isWGS84",(function(){return"EPSG:4326"===e.props.projection})),p(c(e),"roundValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6;return Math.round(e*t)/t})),p(c(e),"resetGeom",(function(){"BBOX"===e.props.type?e.resetBBOX():"Circle"===e.props.type&&e.resetCircle()})),p(c(e),"resetBBOX",(function(){for(var t in e.extent){if(t)document.getElementById("queryform_bbox_"+t).value=e.roundValue(e.extent[t],1e6),e.onUpdateBBOX(e.extent[t],t)}})),p(c(e),"resetCircle",(function(){document.getElementById("queryform_circle_radius").value=e.roundValue(e.circle.radius,100),e.onUpdateCircle(e.circle.radius,"radius"),document.getElementById("queryform_circle_x").value=e.roundValue(e.circle.x,e.isWGS84()?1e6:100),e.onUpdateCircle(e.circle.x,"x"),document.getElementById("queryform_circle_y").value=e.roundValue(e.circle.y,e.isWGS84()?1e6:100),e.onUpdateCircle(e.circle.y,"y")})),e}return t=u,(r=[{key:"componentDidMount",value:function(){var e=this.props.geometry;"BBOX"===this.props.type?(this.extent=this.getBBOXDimensions(e),this.tempExtent=v({},this.extent)):"Circle"===this.props.type&&(this.circle=this.getCircleDimensions(e),this.tempCircle=v({},this.circle))}},{key:"render",value:function(){var e=this;return d.createElement(g,{buttons:[{key:"confirm",glyph:"ok",tooltipId:"confirm",onClick:function(){return e.onModifyGeometry()}},{key:"reset",tooltipId:"queryform.reset",glyph:"clear-filter",onClick:function(){return e.resetGeom()}},{key:"close",glyph:"1-close",onClick:function(){return e.onClosePanel(!1)}}],title:d.createElement(h.Message,{msgId:"queryform.spatialfilter.details.details_header"}),locked:!0,expanded:!0,className:"details-panel",bsStyle:"primary"},this.renderDetailsContent())}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(O,"propTypes",{useMapProjection:f.bool,geometry:f.object,type:f.string,onShowPanel:f.func,onChangeDrawingStatus:f.func,zoom:f.number,projection:f.string,enableGeodesic:f.bool}),p(O,"defaultProps",{useMapProjection:!0,geometry:null,type:null,onShowPanel:function(){},onChangeDrawingStatus:function(){}}),e.exports=O},"./MapStore2/web/client/components/data/query/GroupField.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./node_modules/react-bootstrap/es/index.js"),g=b.Button,h=b.Glyphicon,v=b.Tooltip,S=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),w=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),O=r("./MapStore2/web/client/components/data/query/FilterField.jsx"),j=r("./MapStore2/web/client/components/data/query/ComboField.jsx"),E=r("./MapStore2/web/client/components/data/query/DateField.jsx"),x=r("./MapStore2/web/client/components/data/query/NumberField.jsx"),P=r("./MapStore2/web/client/components/data/query/TextField.jsx"),T=r("./MapStore2/web/client/components/data/query/AutocompleteFieldHOC.jsx"),M=r("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),A=r("./MapStore2/web/client/components/misc/StringSelector.jsx"),C=r("./MapStore2/web/client/utils/LocaleUtils.js"),_=r("./MapStore2/web/client/components/I18N/I18N.jsx"),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,i=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=i.call.apply(i,[this].concat(r))),"getComboValues",(function(t,r){if(t&&t.dependson){var n=e.props.filterFields.filter((function(e){return e.attribute===t.dependson.field}))[0];if(n&&n.value){var o=r.filter((function(e){return e.attribute===n.attribute}))[0],i=o.values.filter((function(e){return e[o.valueId]===n.value}))[0][t.dependson.from],a=t.values.filter((function(e){return e[t.dependson.to]===i}));return t&&"list"===t.type?a.map((function(e){return{id:t.fidPrefix?t.fidPrefix+"."+e[t.valueId]:e[t.valueId],name:e[t.valueLabel]}})):null}}return t&&"list"===t.type?t.values.map((function(e){return{id:t.fidPrefix?t.fidPrefix+"."+e[t.valueId]:e[t.valueId],name:e[t.valueLabel]}})):null})),f(p(e),"getOperator",(function(t){switch(t&&t.type?t.type:""){case"list":return e.props.listOperators;case"string":return e.props.stringOperators;case"boolean":return e.props.booleanOperators;default:return e.props.defaultOperators}})),f(p(e),"renderFilterField",(function(t){var r=e.props.attributes.filter((function(e){return e.attribute===t.attribute}))[0],n=e.getComboValues(r,e.props.attributes),o=t.exception?y.createElement(w,{placement:"bottom",overlay:y.createElement(v,{id:t.rowId+"tooltip"},y.createElement("strong",null,y.createElement(_.Message,{msgId:t.exception||""})))},y.createElement(g,{id:"remove-filter-field",className:"filter-buttons no-border",style:{backgroundColor:"red"},onClick:function(){return e.props.actions.onRemoveFilterField(t.rowId)}},y.createElement(h,{style:{color:"white"},glyph:"glyphicon glyphicon-warning-sign"}))):y.createElement(w,{placement:"top",overlay:y.createElement(v,{id:t.rowId+"tooltip"},y.createElement("strong",null,y.createElement(_.Message,{msgId:"queryform.attributefilter.delete"})))},y.createElement(g,{id:"remove-filter-field",className:"filter-buttons no-border",onClick:function(){return e.props.actions.onRemoveFilterField(t.rowId)}},y.createElement(h,{glyph:e.props.removeButtonIcon})));return y.createElement(O,{key:t.rowId,deleteButton:o,attributes:e.props.attributes,filterField:t,operatorOptions:e.getOperator(r),onUpdateField:e.props.actions.onUpdateFilterField,toggleMenu:e.props.actions.toggleMenu,maxFeaturesWPS:e.props.maxFeaturesWPS,onUpdateExceptionField:e.props.actions.onUpdateExceptionField,onChangeCascadingValue:e.props.actions.onChangeCascadingValue},y.createElement(j,{attType:"list",valueField:"id",textField:"name",fieldOptions:n||[],comboFilter:"contains"}),y.createElement(E,{attType:"date",dateEnabled:!0,operator:t.operator}),y.createElement(E,{attType:"date-time",timeEnabled:!0,dateEnabled:!0,operator:t.operator}),y.createElement(E,{attType:"time",timeEnabled:!0,dateEnabled:!1,operator:t.operator}),y.createElement(x,{operator:t.operator,attType:"number"}),e.props.autocompleteEnabled?y.createElement(T,{filterField:t,attType:"string"}):y.createElement(P,{operator:t.operator,attType:"string"}),y.createElement(j,{fieldOptions:["true","false"],attType:"boolean",comboFilter:"contains"}))})),f(p(e),"renderGroupButtons",(function(t){var r=[];return t.index<=e.props.groupLevels&&r.push({key:"add-condition-group",id:"add-condition-group",className:"filter-buttons no-border",glyph:"list-alt",tooltipId:"queryform.attributefilter.add_group",onClick:function(){return e.props.actions.onAddGroupField(t.id,t.index)}}),r.push({key:"add-filter-field",id:"add-filter-field",className:"filter-buttons no-border",glyph:e.props.addButtonIcon,tooltipId:"queryform.attributefilter.add_condition",onClick:function(){return e.props.actions.onAddFilterField(t.id)}}),t.groupId&&r.push({key:"remove-group",className:"filter-buttons no-border",tooltipId:"queryform.attributefilter.delete",glyph:e.props.removeButtonIcon,onClick:function(){return e.props.actions.onRemoveGroupField(t.id)}}),y.createElement(S,{buttons:r,btnDefaultProps:{}})})),f(p(e),"renderGroupHeader",(function(t){return y.createElement("div",{className:"logicHeader filter-logic-header"},y.createElement("div",{key:"filter-logic-header",className:"filter-logic-header-text m-label"},y.createElement("span",{className:"group_label_a"},y.createElement(_.Message,{msgId:"queryform.attributefilter.group_label_a"})),"",y.createElement(A,{options:e.props.logicComboOptions,valueField:"logic",value:t.logic,onSelect:function(r){return e.props.actions.onUpdateLogicCombo(t.id,r)},labelRenderer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name;return y.createElement(_.Message,{msgId:t})}}),"",y.createElement("span",{className:"group_label_b"},y.createElement(_.Message,{msgId:"queryform.attributefilter.group_label_b"}))),e.renderGroupButtons(t))})),f(p(e),"renderGroupField",(function(t){var r=e.props.filterFields.filter((function(e){return e.groupId===t.id})),n=e.props.groupFields.filter((function(e){return e.groupId===t.id})),i=[].concat(o(r),o(n)).map((function(t){return void 0!==t.rowId?e.renderFilterField(t):e.renderGroupField(t)}));return y.createElement("div",{className:"mapstore-conditions-group",key:t.id},e.renderGroupHeader(t),y.createElement("div",{className:"query-content"},i))})),f(p(e),"renderHeader",(function(){return C.getMessageById(e.context.messages,"queryform.attributefilter.attribute_filter_header")})),f(p(e),"updateLogicCombo",(function(t,r,n){var o=e.props.logicComboOptions.filter((function(t){return n===C.getMessageById(e.context.messages,t.name)}))[0].logic;e.props.actions.onUpdateLogicCombo(t,o)})),e}return t=u,(r=[{key:"render",value:function(){var e=this;return this.props.withContainer?y.createElement(M,{id:"attributeFilterPanel",className:"query-filter-container",header:this.renderHeader(),collapsible:!0,expanded:this.props.attributePanelExpanded,onSwitch:function(t){return e.props.actions.onExpandAttributeFilterPanel(t)}},this.props.groupFields.filter((function(e){return!e.groupId})).map(this.renderGroupField)):y.createElement("div",{className:"query-filter-container"},this.props.groupFields.filter((function(e){return!e.groupId})).map(this.renderGroupField))}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);f(I,"propTypes",{groupLevels:m.number,withContainer:m.bool,autocompleteEnabled:m.bool,maxFeaturesWPS:m.number,groupFields:m.array,filterFields:m.array,attributes:m.array,fieldWidth:m.string,removeButtonIcon:m.string,addButtonIcon:m.string,logicComboOptions:m.array,attributePanelExpanded:m.bool,actions:m.object,listOperators:m.array,stringOperators:m.array,booleanOperators:m.array,defaultOperators:m.array}),f(I,"contextTypes",{messages:m.object}),f(I,"defaultProps",{autocompleteEnabled:!0,withContainer:!0,groupLevels:1,groupFields:[],filterFields:[],attributes:[],removeButtonIcon:"trash",addButtonIcon:"glyphicon glyphicon-plus",attributePanelExpanded:!0,logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"},{logic:"NOR",name:"queryform.attributefilter.groupField.none"}],actions:{onAddGroupField:function(){},onAddFilterField:function(){},onRemoveFilterField:function(){},onUpdateFilterField:function(){},onUpdateExceptionField:function(){},onUpdateLogicCombo:function(){},onRemoveGroupField:function(){},onChangeCascadingValue:function(){},onExpandAttributeFilterPanel:function(){},toggleMenu:function(){}},listOperators:["="],stringOperators:["=","like","ilike","isNull"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>","><"]}),e.exports=I},"./MapStore2/web/client/components/data/query/NumberField.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react/index.js"),g=r("./node_modules/react-bootstrap/es/index.js").Tooltip,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=r("./MapStore2/web/client/utils/LocaleUtils.js");r("./node_modules/react-widgets/lib/localizers/simple-number.js")();var S=r("./node_modules/react-widgets/lib/index.js").NumberPicker,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,r,n,o=u(p);function p(){var e;s(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=o.call.apply(o,[this].concat(r))),"renderPicker",(function(t){var r=e.props.label?b.createElement("label",null,e.props.label):null,n=e.props.lowLabel?b.createElement("label",null,e.props.lowLabel):null,o=e.props.upLabel?b.createElement("label",null,e.props.upLabel):null;return"><"===e.props.operator?b.createElement("div",{className:"query-field"},b.createElement("div",{className:"query-field-value"},n,b.createElement(S,a({style:t,value:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:null,onChange:function(t){return!isNaN(t)&&e.changeNumber({lowBound:t,upBound:e.props.fieldValue&&null!==e.props.fieldValue.upBound&&void 0!==e.props.fieldValue.upBound?e.props.fieldValue.upBound:null})}},e.props.options))),b.createElement("div",{className:"query-field-value"},o,b.createElement(S,a({style:t,value:e.props.fieldValue&&null!==e.props.fieldValue.upBound&&void 0!==e.props.fieldValue.upBound?e.props.fieldValue.upBound:null,onChange:function(t){return!isNaN(t)&&e.changeNumber({upBound:t,lowBound:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:null})}},e.props.options)))):b.createElement("div",null,r,b.createElement(S,a({style:t,value:e.props.fieldValue&&null!==e.props.fieldValue.lowBound&&void 0!==e.props.fieldValue.lowBound?e.props.fieldValue.lowBound:e.props.fieldValue,onChange:function(t){return!isNaN(t)&&e.changeNumber(t)}},e.props.options)))})),m(d(e),"changeNumber",(function(t){"><"===e.props.operator?null!==t.lowBound&&void 0!==t.lowBound&&null!==t.upBound&&void 0!==t.upBound&&t.lowBound>=t.upBound?e.props.onUpdateExceptionField(e.props.fieldRowId,v.getMessageById(e.context.messages,"queryform.attributefilter.numberfield.wrong_range")):e.props.fieldException&&e.props.onUpdateExceptionField(e.props.fieldRowId,null):e.props.isRequired&&null==t?e.props.onUpdateExceptionField(e.props.fieldRowId,v.getMessageById(e.context.messages,"queryform.attributefilter.numberfield.isRequired")):e.props.fieldException&&e.props.onUpdateExceptionField(e.props.fieldRowId,null),e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t,e.props.attType)})),e}return t=p,(r=[{key:"render",value:function(){var e=this.props.style;return this.props.fieldException&&(e=i(i({},this.props.style),{},{borderColor:"#FF0000"})),b.createElement(h,{placement:"bottom",overlay:this.props.fieldException?b.createElement(g,{id:this.props.fieldRowId+"_tooltip"},b.createElement("strong",null,this.props.fieldException)):b.createElement("noscript",null)},this.renderPicker(e))}}])&&l(t.prototype,r),n&&l(t,n),p}(b.Component);m(w,"propTypes",{operator:y.string,fieldName:y.string,fieldRowId:y.number,attType:y.string,fieldValue:y.oneOfType([y.number,y.object]),fieldException:y.oneOfType([y.object,y.bool,y.string]),onUpdateField:y.func,onUpdateExceptionField:y.func,isRequired:y.bool,label:y.string,lowLabel:y.string,upLabel:y.string,options:y.shape({format:y.string,min:y.number,max:y.number,step:y.number,precision:y.number}),style:y.object}),m(w,"contextTypes",{messages:y.object}),m(w,"defaultProps",{style:{borderColor:"#dedede"},operator:"=",fieldName:null,fieldRowId:null,attType:"number",fieldValue:null,fieldException:null,isRequired:!1,label:null,lowLabel:null,upLabel:null,options:{},onUpdateField:function(){},onUpdateExceptionField:function(){}}),e.exports=w},"./MapStore2/web/client/components/data/query/QueryBuilder.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./MapStore2/web/client/components/data/query/GroupField.jsx"),y=r("./MapStore2/web/client/components/data/query/SpatialFilter.jsx"),b=r("./MapStore2/web/client/components/data/query/QueryToolbar.jsx"),g=r("./MapStore2/web/client/components/data/query/enhancers/crossLayerFilter.js")(r("./MapStore2/web/client/components/data/query/CrossLayerFilter.jsx")),h=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),v=r("./node_modules/react-spinkit/dist/index.js");r("./MapStore2/web/client/components/data/query/queryform.css");var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){if(""!==this.props.featureTypeError)return f.createElement("div",{style:{margin:"0 auto","text-align":"center"}},this.props.featureTypeErrorText);var e=f.createElement("div",{className:"m-header"},this.props.header,f.createElement(b,{sendFilters:{attributeFilter:this.props.attributePanelExpanded,spatialFilter:this.props.spatialPanelExpanded,crossLayerFilter:this.props.crossLayerExpanded},params:this.props.params,filterFields:this.props.filterFields,groupFields:this.props.groupFields,spatialField:this.props.spatialField,toolbarEnabled:this.props.toolbarEnabled,searchUrl:this.props.searchUrl,showGeneratedFilter:this.props.showGeneratedFilter,featureTypeName:this.props.featureTypeName,ogcVersion:this.props.ogcVersion,filterType:this.props.filterType,actions:this.props.queryToolbarActions,resultTitle:this.props.resultTitle,pagination:this.props.pagination,sortOptions:this.props.sortOptions,crossLayerFilter:this.props.crossLayerFilterOptions.crossLayerFilter,hits:this.props.hits,allowEmptyFilter:this.props.allowEmptyFilter,emptyFilterWarning:this.props.emptyFilterWarning,appliedFilter:this.props.appliedFilter,storedFilter:this.props.storedFilter,advancedToolbar:this.props.advancedToolbar,loadingError:this.props.loadingError}));return this.props.attributes.length>0?f.createElement(h,{header:e,className:"mapstore-query-builder",id:"query-form-panel"},f.createElement(m,{autocompleteEnabled:this.props.autocompleteEnabled,maxFeaturesWPS:this.props.maxFeaturesWPS,attributes:this.props.attributes,groupLevels:this.props.groupLevels,filterFields:this.props.filterFields,groupFields:this.props.groupFields,removeButtonIcon:this.props.removeButtonIcon,addButtonIcon:this.props.addButtonIcon,attributePanelExpanded:this.props.attributePanelExpanded,actions:this.props.attributeFilterActions}),this.props.toolsOptions.hideSpatialFilter?null:f.createElement(y,{useMapProjection:this.props.useMapProjection,spatialField:this.props.spatialField,spatialOperations:this.props.spatialOperations,spatialMethodOptions:this.props.spatialMethodOptions,spatialPanelExpanded:this.props.spatialPanelExpanded,showDetailsPanel:this.props.showDetailsPanel,actions:this.props.spatialFilterActions,zoom:this.props.zoom,projection:this.props.projection}),this.props.toolsOptions.hideCrossLayer?null:f.createElement(g,o({spatialOperations:this.props.spatialOperations,crossLayerExpanded:this.props.crossLayerExpanded,searchUrl:this.props.searchUrl,featureTypeName:this.props.featureTypeName},this.props.crossLayerFilterOptions,this.props.crossLayerFilterActions))):f.createElement("div",{style:{margin:"0 auto",width:"60px"}},f.createElement(v,{spinnerName:"three-bounce",overrideSpinnerClassName:"spinner"}))}}])&&a(t.prototype,r),n&&a(t,n),u}(f.Component);p(S,"propTypes",{params:d.object,featureTypeConfigUrl:d.string,useMapProjection:d.bool,attributes:d.array,featureTypeError:d.string,featureTypeErrorText:d.node,groupLevels:d.number,maxFeaturesWPS:d.number,filterFields:d.array,groupFields:d.array,spatialField:d.object,removeButtonIcon:d.string,addButtonIcon:d.string,attributePanelExpanded:d.bool,spatialPanelExpanded:d.bool,crossLayerExpanded:d.bool,showDetailsPanel:d.bool,toolbarEnabled:d.bool,searchUrl:d.string,showGeneratedFilter:d.oneOfType([d.bool,d.string]),filterType:d.string,featureTypeName:d.string,ogcVersion:d.string,attributeFilterActions:d.object,spatialFilterActions:d.object,queryToolbarActions:d.object,resultTitle:d.string,pagination:d.object,sortOptions:d.object,spatialOperations:d.array,spatialMethodOptions:d.array,crossLayerFilterOptions:d.object,crossLayerFilterActions:d.object,hits:d.bool,maxHeight:d.number,allowEmptyFilter:d.bool,autocompleteEnabled:d.bool,emptyFilterWarning:d.bool,header:d.node,zoom:d.number,projection:d.string,toolsOptions:d.object,appliedFilter:d.object,storedFilter:d.object,advancedToolbar:d.bool,loadingError:d.bool}),p(S,"defaultProps",{params:{},featureTypeConfigUrl:null,useMapProjection:!0,groupLevels:1,groupFields:[],filterFields:[],attributes:[],spatialMethodOptions:[],spatialOperations:[],featureTypeError:"",spatialField:{},crossLayerFilter:null,removeButtonIcon:"trash",addButtonIcon:"glyphicon glyphicon-plus",attributePanelExpanded:!0,spatialPanelExpanded:!0,showDetailsPanel:!1,toolbarEnabled:!0,searchUrl:"",showGeneratedFilter:!1,featureTypeName:null,pagination:null,sortOptions:null,hits:!1,maxHeight:830,allowEmptyFilter:!1,autocompleteEnabled:!0,emptyFilterWarning:!1,advancedToolbar:!1,loadingError:!1,attributeFilterActions:{onAddGroupField:function(){},onAddFilterField:function(){},onRemoveFilterField:function(){},onUpdateFilterField:function(){},onUpdateExceptionField:function(){},onUpdateLogicCombo:function(){},onRemoveGroupField:function(){},onChangeCascadingValue:function(){},onExpandAttributeFilterPanel:function(){}},spatialFilterActions:{onExpandSpatialFilterPanel:function(){},onSelectSpatialMethod:function(){},onSelectSpatialOperation:function(){},onChangeDrawingStatus:function(){},onRemoveSpatialSelection:function(){},onShowSpatialSelectionDetails:function(){},onSelectViewportSpatialMethod:function(){},onChangeDwithinValue:function(){}},crossLayerFilterOptions:{},crossLayerFilterActions:{},queryToolbarActions:{onQuery:function(){},onReset:function(){},onChangeDrawingStatus:function(){},onSaveFilter:function(){},onRestoreFilter:function(){}},toolsOptions:{}}),e.exports=S},"./MapStore2/web/client/components/data/query/QueryPanelHeader.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/I18N/Message.jsx"),a=r("./node_modules/react-bootstrap/es/index.js"),s=a.Button,l=a.Glyphicon,c=r("./MapStore2/web/client/components/misc/enhancers/popover.js")((function(e){return o.createElement("div",n({className:"square-button pull-right no-border",style:{display:"flex"}},e),o.createElement(l,{glyph:"exclamation-mark",className:"text-danger"}))}));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.loadingError,r=e.onToggleQuery,n=void 0===r?function(){}:r;return o.createElement("div",{className:"mapstore-block-width"},o.createElement(s,{id:"toc-query-close-button",key:"menu-button",className:"square-button no-border",onClick:function(){return n()}},o.createElement(l,{glyph:"arrow-left"})),t&&o.createElement(c,{popover:{text:o.createElement(i,{msgId:"queryform.loadingError"})}})||o.createElement("div",{className:"square-button pull-right no-border",style:{display:"flex"}},o.createElement(l,{glyph:"filter",className:"text-primary"})))}},"./MapStore2/web/client/components/data/query/QueryToolbar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js").Button,m=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,y=r("./MapStore2/web/client/components/misc/Modal.jsx"),b=r("./MapStore2/web/client/utils/FilterUtils.jsx"),g=b.checkOperatorValidity,h=b.setupCrossLayerFilterDefaults,v=b.isCrossLayerFilterValid,S=b.isFilterEmpty,w=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,s=a(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),u(l(t=s.call(this,e)),"getCurrentFilter",(function(){return{featureTypeName:t.props.featureTypeName,groupFields:t.props.groupFields,filterFields:t.props.sendFilters&&t.props.sendFilters.attributeFilter&&t.props.filterFields.filter((function(e){return g(e.value,e.operator)}))||[],spatialField:t.props.sendFilters&&t.props.sendFilters.spatialFilter&&t.props.spatialField||{attribute:t.props.spatialField&&t.props.spatialField.attribute},pagination:t.props.pagination,filterType:t.props.filterType,ogcVersion:t.props.ogcVersion,sortOptions:t.props.sortOptions,crossLayerFilter:t.props.sendFilters&&t.props.sendFilters.crossLayerFilter&&h(t.props.crossLayerFilter)||null,hits:t.props.hits}})),u(l(t),"isCurrentFilterChanged",(function(){var e=t.getCurrentFilter(),r={groupFields:e.groupFields,filterFields:e.filterFields,spatialField:e.spatialField,crossLayerFilter:e.crossLayerFilter},n=t.props.appliedFilter||{},o={groupFields:n.groupFields,filterFields:n.attributePanelExpanded&&n.filterFields||[],spatialField:n.spatialPanelExpanded&&n.spatialField||{attribute:t.props.spatialField&&t.props.spatialField.attribute},crossLayerFilter:n.crossLayerExpanded&&n.crossLayerFilter&&n.crossLayerFilter.operation?h(n.crossLayerFilter):null};return!m(r,o)})),u(l(t),"search",(function(){var e=t.getCurrentFilter();t.props.actions.onQuery(t.props.searchUrl,e,t.props.params),t.props.advancedToolbar&&t.props.actions.storeAppliedFilter()})),u(l(t),"reset",(function(){if(t.props.actions.onChangeDrawingStatus("clean","","queryform",[]),t.props.actions.onReset(),t.props.advancedToolbar){var e={featureTypeName:t.props.featureTypeName,groupFields:[],filterFields:[],spatialField:{attribute:t.props.spatialField&&t.props.spatialField.attribute},pagination:t.props.pagination,filterType:t.props.filterType,ogcVersion:t.props.ogcVersion,sortOptions:t.props.sortOptions,crossLayerFilter:null,hits:t.props.hits};t.props.actions.onQuery(t.props.searchUrl,e,t.props.params),t.props.advancedToolbar&&t.props.actions.storeAppliedFilter()}})),u(l(t),"restorePersistedFilter",(function(){t.props.actions.onRestoreFilter()})),t}return t=c,(r=[{key:"render",value:function(){var e=this,t=this.props.filterFields.filter((function(e){return e.exception})).length>0,r=this.props.allowEmptyFilter&&!this.props.advancedToolbar,n=this.props.filterFields.filter((function(e){return e.value||0===e.value})).length>0,o=S(this.props),i=S(this.props.appliedFilter),a=this.isCurrentFilterChanged(),s=n||this.props.spatialField.geometry||v(this.props.crossLayerFilter),l=!m(this.props.appliedFilter,this.props.storedFilter),c=r||o&&this.props.appliedFilter&&!i,u=t||!this.props.toolbarEnabled||o&&!c||!o&&(!s||!a),p=this.props.emptyFilterWarning&&o&&a,b=this.props.advancedToolbar?"queryform.apply":this.props.queryBtnMsgId,g=[{tooltipId:p?"queryform.emptyfilter":b,disabled:u,noTooltipWhenDisabled:!0,glyph:this.props.advancedToolbar?"ok":this.props.queryBtnGlyph,className:p?"square-button-md showWarning":"square-button-md",id:"query-toolbar-query",onClick:this.search}];if(this.props.advancedToolbar){var h=!l||this.props.loadingError||a,O=!l||!this.props.storedFilter||!this.props.toolbarEnabled,j=!this.props.appliedFilter||this.props.appliedFilter&&i||!this.props.toolbarEnabled;g=g.concat([{tooltipId:"queryform.save",disabled:h,noTooltipWhenDisabled:!0,glyph:"floppy-disk",id:"query-toolbar-save",onClick:this.props.actions.onSaveFilter},{tooltipId:"queryform.discard",disabled:O,noTooltipWhenDisabled:!0,glyph:"undo",id:"query-toolbar-discard",onClick:this.restorePersistedFilter},{tooltipId:"queryform.reset",glyph:"clear-filter",noTooltipWhenDisabled:!0,id:"reset",disabled:j,onClick:this.reset}])}else g=[{tooltipId:"queryform.reset",glyph:"clear-filter",noTooltipWhenDisabled:!0,id:"reset",disabled:!this.props.toolbarEnabled,onClick:this.reset}].concat(g);return d.createElement("div",{className:"container-fluid query-toolbar"},d.createElement(w,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md",tooltipPosition:"bottom"},className:"queryFormToolbar row-fluid pull-right",buttons:g}),d.createElement(y,{show:!!this.props.showGeneratedFilter,bsSize:"large"},d.createElement(y.Header,null,d.createElement(y.Title,null,this.props.resultTitle)),d.createElement(y.Body,null,d.createElement("textarea",{style:{width:"862px",maxWidth:"862px",height:"236px",maxHeight:"236px"}},this.props.showGeneratedFilter)),d.createElement(y.Footer,null,d.createElement(f,{style:{float:"right"},onClick:function(){return e.props.actions.onQuery(null,null)}},"Close"))))}}])&&o(t.prototype,r),n&&o(t,n),c}(d.Component);u(O,"propTypes",{filterType:p.string,params:p.object,filterFields:p.array,groupFields:p.array,spatialField:p.object,sendFilters:p.object,crossLayerFilter:p.object,toolbarEnabled:p.bool,searchUrl:p.string,showGeneratedFilter:p.oneOfType([p.bool,p.string]),featureTypeName:p.string,actions:p.object,ogcVersion:p.string,titleMsgId:p.string,queryBtnMsgId:p.string,resultTitle:p.string,queryBtnGlyph:p.string,pagination:p.object,sortOptions:p.object,hits:p.bool,allowEmptyFilter:p.bool,emptyFilterWarning:p.bool,appliedFilter:p.object,storedFilter:p.object,advancedToolbar:p.bool,loadingError:p.bool}),u(O,"defaultProps",{sendFilters:{attributeFilter:!0,spatialFilter:!0,crossLayerFilter:!0},filterType:"OGC",params:{},groupFields:[],filterFields:[],spatialField:{},toolbarEnabled:!0,searchUrl:null,showGeneratedFilter:!1,featureTypeName:null,titleMsgId:"queryform.title",queryBtnMsgId:"queryform.query",resultTitle:"Generated Filter",queryBtnGlyph:"search",pagination:null,sortOptions:null,hits:!1,allowEmptyFilter:!1,emptyFilterWarning:!1,advancedToolbar:!1,loadingError:!1,actions:{onQuery:function(){},onReset:function(){},onChangeDrawingStatus:function(){},onSaveFilter:function(){},onRestoreFilter:function(){},storeAppliedFilter:function(){}}}),e.exports=O},"./MapStore2/web/client/components/data/query/SpatialFilter.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").find,y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-bootstrap/es/index.js"),g=b.Row,h=b.Col,v=b.Panel,S=b.Glyphicon,w=r("./MapStore2/web/client/components/data/query/ComboField.jsx"),O=r("./MapStore2/web/client/components/data/query/GeometryDetails.jsx"),j=r("./MapStore2/web/client/components/misc/AutocompleteWFSCombobox.jsx").AutocompleteWFSCombobox,E=r("./MapStore2/web/client/components/data/query/ComboFieldListItem.jsx"),x=r("./MapStore2/web/client/observables/autocomplete.js").createWFSFetchStream,P=r("./MapStore2/web/client/components/data/query/ZoneField.jsx"),T=r("./MapStore2/web/client/utils/LocaleUtils.js"),M=r("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),A=r("./MapStore2/web/client/components/I18N/I18N.jsx"),C=r("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"getMethodFromId",(function(t){return m(e.props.spatialMethodOptions,(function(e){return e&&e.id===t}))||null})),d(u(e),"renderHeader",(function(){var t=T.getMessageById(e.context.messages,"queryform.spatialfilter.spatial_filter_header");return f.createElement("span",null,f.createElement("span",{style:{cursor:"pointer"},onClick:e.props.actions.onExpandSpatialFilterPanel.bind(null,!e.props.spatialPanelExpanded)},t),f.createElement("button",{onClick:e.props.actions.onExpandSpatialFilterPanel.bind(null,!e.props.spatialPanelExpanded),className:"close"},e.props.spatialPanelExpanded?f.createElement(S,{glyph:"glyphicon glyphicon-collapse-down"}):f.createElement(S,{glyph:"glyphicon glyphicon-expand"})))})),d(u(e),"renderSpatialHeader",(function(){var t=e.getMethodFromId(e.props.spatialField.method);return f.createElement("div",null,f.createElement(g,{className:"logicHeader inline-form filter-field-row filter-field-fixed-row"},f.createElement(h,{xs:6},f.createElement("div",null,f.createElement(A.Message,{msgId:"queryform.spatialfilter.filterType"}))),f.createElement(h,{xs:6},f.createElement(w,{itemComponent:function(t){return f.createElement(E,o({customItemClassName:e.getMethodFromId(t.item)&&e.getMethodFromId(t.item).customItemClassName||""},t))},fieldOptions:e.props.spatialMethodOptions.map((function(t){return T.getMessageById(e.context.messages,t.name)||t.name})),placeholder:T.getMessageById(e.context.messages,"queryform.spatialfilter.combo_placeholder"),fieldName:"method",fieldRowId:(new Date).getTime(),fieldValue:T.getMessageById(e.context.messages,t?t.name:"")||t&&t.name||"",onUpdateField:e.updateSpatialMethod}))))})),d(u(e),"renderDwithin",(function(){return f.createElement(g,{className:"container-fluid filter-field-fixed-row"},f.createElement(h,{xs:6,className:"filter-text-desc"},f.createElement(A.Message,{msgId:"queryform.spatialfilter.dwithin_label"})),f.createElement(h,{xs:6},f.createElement(C,{type:"number",min:"0",defaultValue:"0",disabled:!e.props.spatialField.geometry,id:"queryform_dwithin_field",onChange:function(t){return e.props.actions.onChangeDwithinValue(t,name)}})))})),d(u(e),"renderZoneFields",(function(){return e.props.spatialField.method&&"ZONE"===e.props.spatialField.method&&e.props.spatialField.zoneFields&&e.props.spatialField.zoneFields.length>0?e.props.spatialField.zoneFields.map((function(t){return f.createElement(P,{key:t.id,open:t.open,zoneId:t.id,url:t.url,typeName:t.typeName,wfs:t.wfs,busy:t.busy,label:t.label,values:t.values,value:t.value,valueField:t.valueField,textField:t.textField,searchText:t.searchText,searchMethod:t.searchMethod,searchAttribute:t.searchAttribute,sort:t.sort,error:t.error,disabled:t.disabled,dependsOn:t.dependson,groupBy:t.groupBy,multivalue:t.multivalue,onSearch:e.props.actions.zoneSearch,onFilter:e.props.actions.zoneFilter,onChange:e.props.actions.zoneChange})})):null})),d(u(e),"renderRoiPanel",(function(){var t=e.getMethodFromId(e.props.spatialField.method),r=t&&t.filterProps&&t.filterProps.valueField&&e.props.spatialField&&e.props.spatialField.value&&e.props.spatialField.value[t.filterProps.valueField];return f.createElement(v,null,f.createElement("div",{className:"container-fluid"},f.createElement(g,{className:"filter-field-row filter-field-fixed-row"},f.createElement(h,{xs:6},f.createElement("span",null,t&&t.name||t.id)),f.createElement(h,{xs:6},f.createElement(j,{originalValue:r,key:e.props.spatialField.method,options:t,autocompleteStreamFactory:x,valueField:t&&t.filterProps&&t.filterProps.valueField,textField:t&&t.filterProps&&t.filterProps.valueField,url:t&&t.url,filter:"contains",onChangeSpatialFilterValue:e.props.actions.onChangeSpatialFilterValue,onChangeDrawingStatus:function(){var t;(t=e.props.actions).onChangeDrawingStatus.apply(t,arguments)},filterProps:t&&t.filterProps})))))})),d(u(e),"renderSpatialPanel",(function(t,r,n){return f.createElement(v,{className:"spatial-panel"},e.props.spatialMethodOptions.length>1?e.renderSpatialHeader():f.createElement("span",null),e.renderZoneFields(),e.props.spatialField.method&&e.getMethodFromId(e.props.spatialField.method)&&"wfsGeocoder"===e.getMethodFromId(e.props.spatialField.method).type?e.renderRoiPanel():null,e.props.spatialOperations.length>1?f.createElement(v,null,f.createElement("div",null,t),n&&"DWITHIN"===n.id?e.renderDwithin():null,f.createElement(g,null,f.createElement(h,{xs:12},r))):f.createElement("span",null))})),d(u(e),"renderButtons",(function(){var t=[],r=e.props.spatialField.geometry&&(e.props.spatialField.method&&"BBOX"===e.props.spatialField.method||"Circle"===e.props.spatialField.method),n=e.props.spatialField.geometry&&e.props.spatialField.geometry.coordinates;return r&&t.push({glyph:"pencil",onClick:function(){return e.props.actions.onShowSpatialSelectionDetails(!0)},tooltipId:"queryform.spatialfilter.details.detail_button_label"}),n&&t.push({glyph:"clear-filter",tooltipId:"queryform.spatialfilter.remove",onClick:function(){return e.resetSpatialFilter()}}),t})),d(u(e),"updateSpatialMethod",(function(t,r,n){e.props.actions.onShowSpatialSelectionDetails(!1);var o=e.props.spatialMethodOptions.filter((function(t){return n===(T.getMessageById(e.context.messages,t.name)||t.name)}))[0].id,i=e.getMethodFromId(o);if(e.props.actions.onSelectSpatialMethod(o,r),"wfsGeocoder"!==e.getMethodFromId(o).type)switch(o){case"ZONE":e.changeDrawingStatus("clean","","queryform",[]);break;case"Viewport":e.changeDrawingStatus("clean","","queryform",[]),e.props.actions.onSelectViewportSpatialMethod();break;default:e.changeDrawingStatus("start",o,"queryform",[],{geodesic:i&&i.geodesic,stopAfterDrawing:!0})}else e.changeDrawingStatus("clean","","queryform",[])})),d(u(e),"updateSpatialOperation",(function(t,r,n){var o=e.props.spatialOperations.filter((function(t){return n===T.getMessageById(e.context.messages,t.name)}))[0].id;e.props.actions.onSelectSpatialOperation(o,r)})),d(u(e),"resetSpatialFilter",(function(){e.changeDrawingStatus("clean","","queryform",[]),e.props.actions.onRemoveSpatialSelection(),e.props.actions.onShowSpatialSelectionDetails(!1)})),d(u(e),"changeDrawingStatus",(function(t,r,n,o,i){e.props.actions.onChangeDrawingStatus(t,void 0!==r?r:e.props.spatialField.method,n,o,i)})),e}return t=p,(r=[{key:"render",value:function(){var e=this,t=this.props.spatialOperations.filter((function(t){return e.props.spatialField.operation===t.id}))[0],r=f.createElement("span",null);"ZONE"!==this.props.spatialField.method&&"Viewport"!==this.props.spatialField.method&&this.getMethodFromId(this.props.spatialField.method)&&"wfsGeocoder"!==this.getMethodFromId(this.props.spatialField.method).type&&(r=this.props.spatialField.geometry?null:f.createElement("span",null,f.createElement("div",{className:"m-label m-caption text-center"},f.createElement(A.Message,{msgId:"queryform.spatialfilter.draw_start_label"}))));var n=this.getMethodFromId(this.props.spatialField.method),o=this.props.showDetailsPanel?f.createElement(O,{useMapProjection:this.props.useMapProjection,enableGeodesic:n&&n.geodesic,geometry:this.props.spatialField.geometry,type:this.props.spatialField.method,onShowPanel:this.props.actions.onShowSpatialSelectionDetails,onChangeDrawingStatus:this.changeDrawingStatus,zoom:this.props.zoom,projection:this.props.projection}):f.createElement("span",null),i=f.createElement(g,{className:"filter-field-row inline-form filter-field-fixed-row"},f.createElement(h,{xs:6},f.createElement(A.Message,{msgId:"queryform.spatialfilter.geometric_operation"})),f.createElement(h,{xs:6},f.createElement(w,{fieldOptions:this.props.spatialOperations.map((function(t){return T.getMessageById(e.context.messages,t.name)})),fieldName:"operation",fieldRowId:(new Date).getTime(),fieldValue:T.getMessageById(this.context.messages,t?t.name:""),onUpdateField:this.updateSpatialOperation})));return f.createElement("div",{className:"query-filter-container"},this.props.withContainer?f.createElement(M,{id:"spatialFilterPanel",header:this.renderHeader(),buttons:this.renderButtons(),collapsible:!0,expanded:this.props.spatialPanelExpanded,onSwitch:function(t){return e.props.actions.onExpandSpatialFilterPanel(t)}},this.renderSpatialPanel(i,r,t)):this.renderSpatialPanel(i,r,t),o)}}])&&a(t.prototype,r),n&&a(t,n),p}(f.Component);d(_,"propTypes",{useMapProjection:y.bool,spatialField:y.object,spatialOperations:y.array,spatialMethodOptions:y.array,spatialPanelExpanded:y.bool,showDetailsPanel:y.bool,withContainer:y.bool,actions:y.object,zoom:y.number,projection:y.string}),d(_,"contextTypes",{messages:y.object}),d(_,"defaultProps",{useMapProjection:!0,spatialField:{},spatialPanelExpanded:!0,showDetailsPanel:!1,withContainer:!0,spatialMethodOptions:[],spatialOperations:[],actions:{onExpandSpatialFilterPanel:function(){},onSelectSpatialMethod:function(){},onSelectSpatialOperation:function(){},onChangeSpatialFilterValue:function(){},onChangeDrawingStatus:function(){},onRemoveSpatialSelection:function(){},onShowSpatialSelectionDetails:function(){},onSelectViewportSpatialMethod:function(){},onChangeRegion:function(){},onChangeDwithinValue:function(){},zoneFilter:function(){},zoneSearch:function(){},zoneChange:function(){}}}),e.exports=_},"./MapStore2/web/client/components/data/query/TextField.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.FormControl,y=f.Tooltip,b=r("./MapStore2/web/client/utils/LocaleUtils.js"),g=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),h=r("./MapStore2/web/client/components/I18N/HTML.jsx"),v=r("./node_modules/prop-types/index.js"),S=r("./MapStore2/web/client/utils/FilterUtils.jsx").isLikeOrIlike,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderField",(function(){var t=b.getMessageById(e.context.messages,"queryform.attributefilter.text_placeholder"),r=d.createElement(y,{id:"textField-tooltip"+e.props.fieldRowId},d.createElement(h,{msgId:"queryform.attributefilter.tooltipTextField"})),n=d.createElement(m,{disabled:"isNull"===e.props.operator,placeholder:t,onChange:e.changeText,type:"text",value:e.props.fieldValue||""});return S(e.props.operator)?d.createElement(g,{key:"textField-overlay"+e.props.fieldRowId,placement:"top",overlay:r},n):n})),p(c(e),"changeText",(function(t){e.props.onUpdateField(e.props.fieldRowId,e.props.fieldName,t.target.value,e.props.attType)})),e}return t=u,(r=[{key:"componentDidMount",value:function(){"isNull"!==this.props.operator||this.props.fieldValue||this.props.onUpdateField(this.props.fieldRowId,this.props.fieldName," ",this.props.attType)}},{key:"componentDidUpdate",value:function(){"isNull"!==this.props.operator||this.props.fieldValue||this.props.onUpdateField(this.props.fieldRowId,this.props.fieldName," ",this.props.attType)}},{key:"render",value:function(){var e=this.props.label?d.createElement("label",null,this.props.label):d.createElement("span",null);return d.createElement("div",{className:"textField"},e,this.renderField())}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(w,"propTypes",{operator:v.string,fieldName:v.string,fieldRowId:v.number,attType:v.string,fieldValue:v.string,label:v.string,fieldException:v.oneOfType([v.object,v.string]),onUpdateField:v.func,onUpdateExceptionField:v.func,style:v.object}),p(w,"contextTypes",{messages:v.object}),p(w,"defaultProps",{operator:"like",fieldName:null,fieldRowId:null,attType:"string",fieldValue:null,label:null,fieldException:null,onUpdateField:function(){},onUpdateExceptionField:function(){},style:{}}),e.exports=w},"./MapStore2/web/client/components/data/query/ZoneField.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,y=r("./MapStore2/web/client/components/data/query/ComboField.jsx"),b=r("./MapStore2/web/client/utils/FilterUtils.jsx"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,r,l,u=s(d);function d(){var e;o(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=u.call.apply(u,[this].concat(r))),"state",{open:!1}),p(c(e),"getFilter",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=",n={filterFields:[{attribute:e.props.searchAttribute,operator:r,value:t,type:"list"}]};e.props.dependsOn&&(n.groupFields=[{id:1,logic:"AND",index:0}],n.filterFields[0].groupId=1,e.props.multivalue?(n.groupFields.push({id:2,logic:"OR",groupId:1,index:1}),e.props.dependsOn.value instanceof Array?e.props.dependsOn.value.forEach((function(t){n.filterFields.push({attribute:e.props.dependsOn.field,operator:e.props.dependsOn.operator||"=",value:t,groupId:2,type:"list"})})):n.filterFields.push({attribute:e.props.dependsOn.field,operator:e.props.dependsOn.operator||"=",value:e.props.dependsOn.value,groupId:2,type:"list"})):n.filterFields.push({attribute:e.props.dependsOn.field,operator:e.props.dependsOn.operator||"=",value:e.props.dependsOn.value,groupId:1,type:"list"}));var o=b.toOGCFilter(e.props.typeName,n,e.props.wfs,e.props.sort||{sortBy:e.props.searchAttribute,sortOrder:"ASC"});return o})),p(c(e),"changeZoneValue",(function(t,r,n){var o;e.setState({open:!1}),o=e.props.multivalue?{value:n.map((function(e){return e.id})),feature:n.map((function(e){return e.feature}))}:{value:[n],feature:[e.values.filter((function(e){return e.id===n}))[0].feature]},e.props.onChange(e.props.zoneId,o)})),e}return t=d,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.values&&!m(this.props.values,e.values)&&e.values.length>0&&this.setState({open:!0})}},{key:"render",value:function(){var e=this;this.values=[],this.props.values&&this.props.values.length>0&&(this.values=this.props.values.map((function(t){var r=t;e.props.valueField.split(".").forEach((function(e){r=r?r[e]:null}));var n=t;return e.props.textField.split(".").forEach((function(e){n=n?n[e]:null})),{id:r,name:n,feature:t}})));var t=this.props.label?f.createElement("label",null,this.props.label):f.createElement("span",null),r=this.props.error;return r&&(r="object"!==n(r)?r:r.status+" "+r.statusText+": "+r.data),f.createElement("div",{className:"zone-combo"},t,f.createElement(y,{key:(new Date).getTime(),busy:this.props.busy,disabled:this.props.disabled,fieldRowId:this.props.zoneId,valueField:"id",textField:"name",fieldOptions:this.values,fieldValue:this.props.value,fieldName:"zone",fieldException:r,options:{defaultOpen:this.state.open},groupBy:this.props.groupBy?function(t){return t.feature.properties[e.props.groupBy]}:function(){},multivalue:this.props.multivalue,comboFilter:this.props.comboFilter,onSelect:this.props.onSelect,onUpdateField:this.changeZoneValue,onToggle:function(t){if(t&&(!e.props.values||e.props.values.length<1)){var r=e.getFilter(e.props.searchText,e.props.searchMethod);e.props.onSearch(!0,e.props.zoneId),e.props.onFilter(e.props.url,r,e.props.zoneId)}}}))}}])&&i(t.prototype,r),l&&i(t,l),d}(f.Component);p(g,"propTypes",{zoneId:d.number,url:d.string,typeName:d.string,wfs:d.string,busy:d.bool,values:d.array,value:d.oneOfType([d.object,d.number,d.string,d.array]),label:d.string,searchText:d.string,searchMethod:d.string,searchAttribute:d.string,sort:d.object,error:d.oneOfType([d.object,d.string]),comboFilter:d.oneOfType([d.bool,d.string,d.func]),groupBy:d.oneOfType([d.string,d.func]),multivalue:d.bool,open:d.bool,disabled:d.bool,dependsOn:d.object,valueField:d.string,textField:d.string,onSearch:d.func,onFilter:d.func,onChange:d.func,onSelect:d.func}),p(g,"contextTypes",{messages:d.object}),p(g,"defaultProps",{open:!1,zoneId:null,url:null,typeName:null,wfs:"1.1.0",busy:!1,values:[],value:null,valueField:null,textField:null,label:null,disabled:!1,error:null,searchText:"*",searchMethod:"ilike",searchAttribute:null,comboFilter:"contains",multivalue:!0,groupBy:null,onSearch:function(){},onFilter:function(){},onChange:function(){},onSelect:function(){}}),e.exports=g},"./MapStore2/web/client/components/data/query/enhancers/crossLayerFilter.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/lodash/lodash.js"),s=a.get,l=a.find,c=r("./node_modules/rxjs/Rx.js").Observable,u=r("./MapStore2/web/client/observables/wfs.js"),p=u.describeFeatureType,d=u.getLayerWFSCapabilities,f=r("./MapStore2/web/client/utils/ogc/WFS/base.js").findGeometryProperty,m=r("./MapStore2/web/client/utils/FeatureTypeUtils.js").describeFeatureTypeToAttributes,y=r("./node_modules/recompose/es/Recompose.js"),b=y.compose,g=y.withProps,h=y.withPropsOnChange,v=y.withHandlers,S=y.defaultProps,w=r("./MapStore2/web/client/components/misc/enhancers/propsStreamFactory.jsx"),O=function(e){return e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchUrl,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.searchUrl;return t===n})).switchMap((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.crossLayerExpanded?c.of(t):e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.crossLayerExpanded;return t})).take(1)})).switchMap((function(e){var t=e.featureTypeName,r=e.searchUrl;return d({layer:{name:t,url:r,search:{type:"wfs",url:r}}}).do((function(e){if(t=s(e,"WFS_Capabilities.Filter_Capabilities.Scalar_Capabilities.ArithmeticOperators.Functions.FunctionNames.FunctionName"),!l(t,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e._;return"queryCollection"===t})))throw new Error("nocrosslayerfunctionalities");var t})).map((function(){return{loadingCapabilities:!1}})).catch((function(e){return c.of({errorObj:e,loadingAttributes:!1,loadingCapabilities:!1,featureTypeProperties:[]})})).startWith({loadingCapabilities:!0})})).startWith({})},j=function(e,t){return e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,r=void 0===t?{}:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.layer;return o&&r.name===(o&&o.name)})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer;return!!t})).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.layer;return c.defer((function(){return p({layer:r})})).do((function(e){var r=s(f(e.data||{}),"name");r&&t("geometryName",r)})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t;return m(r)})).map((function(e){return{attributes:e,loadingAttributes:!1}})).startWith({loadingAttributes:!0}).catch((function(e){return c.of({errorObj:e,loadingAttributes:!1,featureTypeProperties:[]})}))})).catch((function(e){return c.of({errorObj:e,loadingAttributes:!1,loadingCapabilities:!1,featureTypeProperties:[]})})).startWith({})};e.exports=b(h(["crossLayerFilter"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.crossLayerFilter,r=void 0===t?{}:t;return{queryCollection:s(r,"collectGeometries.queryCollection"),operation:s(r,"operation"),distance:s(r,"distance")}})),g((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layers,r=void 0===t?[]:t,n=e.queryCollection,o=void 0===n?{}:n;return{layer:l(r,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name;return t===o.typeName}))}})),v({setQueryCollectionParameter:function(e){var t=e.setCrossLayerFilterParameter,r=void 0===t?function(){}:t;return function(e,t){r("collectGeometries.queryCollection[".concat(e,"]"),t),"typeName"===e&&r("collectGeometries.queryCollection.filterFields",[])}},updateLogicCombo:function(e){var t=e.setCrossLayerFilterParameter,r=void 0===t?function(){}:t;return function(e,t){return r("collectGeometries.queryCollection.groupFields",[{id:e,logic:t,index:0}])}},setOperation:function(e){var t=e.setCrossLayerFilterParameter,r=void 0===t?function(){}:t;return function(e){return r("operation",e)}}}),S({dataStreamFactory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.setQueryCollectionParameter,n=void 0===r?function(){}:r;return O(e).combineLatest(j(e,n),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(o({},t),e)})).startWith({})}}),w)},"./MapStore2/web/client/components/data/query/queryform.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/data/query/queryform.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/data/template/jsx/Template.jsx":function(module,exports,__webpack_require__){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var PropTypes=__webpack_require__("./node_modules/prop-types/index.js"),React=__webpack_require__("./node_modules/react/index.js"),_require=__webpack_require__("./MapStore2/node_modules/lodash/lodash.js"),isEqual=_require.isEqual,TemplateUtils=__webpack_require__("./MapStore2/web/client/utils/TemplateUtils.js"),Template=function(_React$Component){_inherits(Template,_React$Component);var _super=_createSuper(Template);function Template(){var _this;_classCallCheck(this,Template);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_super.call.apply(_super,[this].concat(args)),_defineProperty(_assertThisInitialized(_this),"renderContent",(function(){var model=_this.props.model,props=_this.props;return eval(_this.comp)})),_defineProperty(_assertThisInitialized(_this),"parseTemplate",(function(e){TemplateUtils.parseTemplate(e,(function(e,t){t?_this.props.onError(t.message):(_this.comp=e,_this.forceUpdate())}))})),_this}return _createClass(Template,[{key:"UNSAFE_componentWillMount",value:function(){this.parseTemplate(this.props.template)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.template!==this.props.template&&this.parseTemplate(e.template)}},{key:"shouldComponentUpdate",value:function(e){return!isEqual(e,this.props)}},{key:"render",value:function(){if(this.comp){var e=this.props.renderContent?this.props.renderContent(this.comp,this.props):this.renderContent();return React.isValidElement(e)?e:null}return null}}]),Template}(React.Component);_defineProperty(Template,"propTypes",{template:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),model:PropTypes.object,renderContent:PropTypes.func,onError:PropTypes.func}),_defineProperty(Template,"defaultProps",{template:"",model:{},onError:function(){}}),module.exports=Template},"./MapStore2/web/client/components/help/HelpBadge.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").Badge,y=r("./MapStore2/node_modules/lodash/lodash.js").isString,b=r("./MapStore2/web/client/utils/LocaleUtils.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onMouseOver",(function(){var t=y(e.props.helpText)?e.props.helpText:b.getMessageById(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=u,(r=[{key:"render",value:function(){return f.createElement(m,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(g,"propTypes",{id:d.string,helpText:d.oneOfType([d.string,d.element]),isVisible:d.bool,changeHelpText:d.func,changeHelpwinVisibility:d.func,className:d.string}),p(g,"contextTypes",{messages:d.object}),p(g,"defaultProps",{helpText:"",isVisible:!1}),e.exports=g},"./MapStore2/web/client/components/help/HelpWrapper.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./node_modules/prop-types/index.js"),p=r("./node_modules/react/index.js"),d=r("./MapStore2/web/client/components/help/HelpBadge.jsx");r("./MapStore2/web/client/components/help/help.css");var f,m,y,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return p.createElement("div",{id:this.props.id},p.createElement(d,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);f=b,m="propTypes",y={id:u.string,helpText:u.oneOfType([u.string,u.element]),helpEnabled:u.bool,changeHelpText:u.func,changeHelpwinVisibility:u.func},m in f?Object.defineProperty(f,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[m]=y,e.exports=b},"./MapStore2/web/client/components/help/help.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/layout/BorderLayout.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js");e.exports=function(e){var t=e.id,r=e.children,n=e.header,i=e.footer,s=e.columns,l=e.height,c=e.style,u=void 0===c?{}:c,p=e.className,d=e.bodyClassName,f=void 0===d?"ms2-border-layout-body":d;return a.createElement("div",{id:t,className:p,style:o({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},u)},n,a.createElement("div",{className:f,style:{display:"flex",flex:1,overflowY:"auto"}},a.createElement("main",{className:"ms2-border-layout-content",style:{flex:1}},l?a.createElement("div",{style:{height:l}},r):r),l?a.createElement("div",{style:{height:l}},s):s),i)}},"./MapStore2/web/client/components/layout/enhancers/gridLayout.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js"),a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.defaultProps,c=a.withStateHandlers,u=r("./node_modules/react-container-dimensions/lib/index.js").default;e.exports={widthProvider:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.overrideWidthProvider;return s(l({useDefaultWidthProvider:!t}),(function(e){return function(t){return o.createElement(u,null,(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.width;return o.createElement(e,n({width:i},t))}))}}))},heightProvider:function(e){return s(c((function(){return{}}),{onResize:function(){return function(e){return{height:e.height}}}}),i(e))}}},"./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$":function(e,t,r){var n={"./cesium/plugins/index":"./MapStore2/web/client/components/map/cesium/plugins/index.js","./leaflet/plugins/index":"./MapStore2/web/client/components/map/leaflet/plugins/index.js","./openlayers/plugins/index":"./MapStore2/web/client/components/map/openlayers/plugins/index.js"};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$"},"./MapStore2/web/client/components/map/BaseMap.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/react/index.js"),g=r("./node_modules/prop-types/index.js"),h=r("./MapStore2/node_modules/lodash/lodash.js").isString,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,r,n,a=p(d);function d(){var e;l(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=a.call.apply(a,[this].concat(r))),"getTool",(function(t){var r=e.props.plugins;return h(t)?{name:t,impl:r.tools[t]}:s({name:t.name,impl:r.tools[t.name]},t)})),y(f(e),"renderLayers",(function(){var t=e.props.map&&e.props.map.projection||"EPSG:3857",r=e.props.plugins.Layer;return e.props.layers.map((function(n,o){return b.createElement(r,{type:n.type,srs:t,position:o,key:n.id||n.name,options:n,env:n.localizedLayerStyles?e.props.env:[]},e.renderLayerContent(n,t))}))})),y(f(e),"renderLayerContent",(function(t,r){if(t.features&&"vector"===t.type){var n=e.props.plugins.Feature;return t.features.map((function(e){return b.createElement(n,{key:e.id,msId:e.id,type:e.type,crs:r,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})}))}return null})),y(f(e),"renderTools",(function(){return e.props.tools.map((function(t){var r=e.getTool(t),n=r.impl,a=r.name,s=i(r,["impl","name"]);return b.createElement(n,o({key:a},s))}))})),e}return t=d,(r=[{key:"render",value:function(){var e=this.props.plugins.Map,t=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map?b.createElement(e,o({projectionDefs:this.props.projectionDefs,style:this.props.styleMap,id:this.props.id,zoomControl:!1,center:{x:0,y:0},zoom:1,hookRegister:this.props.hookRegister,mapStateSource:this.props.mapStateSource||this.props.id},this.props.options,this.props.map,{projection:t},this.props.eventHandlers),this.renderLayers(),this.renderTools()):null}}])&&c(t.prototype,r),n&&c(t,n),d}(b.Component);y(v,"propTypes",{id:g.string,options:g.object,map:g.object,mapStateSource:g.string,eventHandlers:g.object,styleMap:g.object,layers:g.array,hookRegister:g.object,projectionDefs:g.array,plugins:g.any,tools:g.array,getLayerProps:g.func,env:g.array}),y(v,"defaultProps",{id:"__base_map__",options:{},map:{},styleMap:{},tools:[],projectionDefs:[],eventHandlers:{onMapViewChanges:function(){},onClick:function(){},onMouseMove:function(){},onLayerLoading:function(){},onLayerError:function(){}},env:[]}),e.exports=v},"./MapStore2/web/client/components/map/cesium/Layer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/utils/cesium/Layers.js"),b=r("./node_modules/object-assign/index.js"),g=r("./node_modules/prop-types/index.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"updateZIndex",(function(t){var r=t||e.props.position,n=e.props.map.imageryLayers._layers.reduce((function(t,r,n){return e.provider===r?n:t}),-1),o=e.props.map.imageryLayers._layers.reduce((function(e,t,n){return-1===e&&r<t._position?n:e}),-1);-1===o&&(o=n);var i=o-n;0!==i&&Array.apply(null,{length:Math.abs(i)}).map(Number.call,Number).forEach((function(){e.props.map.imageryLayers[i>0?"raise":"lower"](e.provider)}))})),f(p(e),"setLayerVisibility",(function(t,r){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?(e.addLayer(r),e.updateZIndex()):e.removeLayer())})),f(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.provider&&(e.provider.alpha=t)})),f(p(e),"createLayer",(function(t,r,n,o,i){if(t){var a=b({},r,n?{zIndex:n}:null,{securityToken:i});e.layer=y.createLayer(t,a,o),e.layer&&(e.layer.layerName=r.name,e.layer.layerId=r.id),null===e.layer&&e.props.onCreationError(r)}})),f(p(e),"updateLayer",(function(t,r){var n=y.updateLayer(t.type,e.layer,i(i({},t.options),{},{securityToken:t.securityToken}),i(i({},r.options),{},{securityToken:r.securityToken}),e.props.map);n&&(e.removeLayer(),e.layer=n,e.addLayer(t))})),f(p(e),"addLayerInternal",(function(t){t.options.useForElevation?e.props.map.terrainProvider=e.layer:(e.provider=e.props.map.imageryLayers.addImageryProvider(e.layer),e.provider._position=e.props.position,void 0!==t.options.opacity&&(e.provider.alpha=t.options.opacity))})),f(p(e),"addLayer",(function(t){if(e.layer&&!e.layer.detached&&(e.addLayerInternal(t),e.props.options.refresh&&e.layer.updateParams)){var r=0;e.refreshTimer=setInterval((function(){var n=e.layer.updateParams(b({},e.props.options.params,{_refreshCounter:r++}));e.removeLayer(),e.layer=n,e.addLayerInternal(t)}),e.props.options.refresh)}})),f(p(e),"removeLayer",(function(t){var r=t||e.provider;r&&e.props.map.imageryLayers.remove(r)})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.createLayer(this.props.type,this.props.options,this.props.position,this.props.map,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(this.props),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,r=e.options&&!1!==e.options.visibility;this.setLayerVisibility(r,e);var n=e.options&&void 0!==e.options.opacity?e.options.opacity:1;if(this.setLayerOpacity(n),e.position!==this.props.position&&(this.updateZIndex(e.position),this.provider&&(this.provider._position=e.position)),this.props.options&&this.props.options.params&&this.layer.updateParams&&e.options.visibility&&Object.keys(this.props.options.params).reduce((function(r,n){return e.options.params[n]!==t.props.options.params[n]||r}),!1)){var o=this.provider,i=this.layer.updateParams(e.options.params);this.layer=i,this.addLayer(e),setTimeout((function(){t.removeLayer(o)}),1e3)}this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&!this.props.map.isDestroyed()&&(this.layer.detached?this.layer.remove():(this.layer.destroy&&this.layer.destroy(),this.props.map.imageryLayers.remove(this.provider)),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?m.Children.map(this.props.children,(function(r){return r?m.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return m.createElement(m.Fragment,null,r)}return y.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);f(h,"propTypes",{map:g.object,type:g.string,options:g.object,onCreationError:g.func,position:g.number,securityToken:g.string}),e.exports=h},"./MapStore2/web/client/components/map/cesium/Map.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./MapStore2/web/client/libs/cesium.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/rxjs/Rx.js"),b=r("./node_modules/react/index.js"),g=r("./node_modules/react-dom/index.js"),h=r("./MapStore2/web/client/utils/ConfigUtils.js"),v=r("./MapStore2/web/client/utils/cesium/ClickUtils.js"),S=r("./MapStore2/web/client/utils/MapUtils.js"),w=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),O=r("./node_modules/object-assign/index.js"),j=r("./MapStore2/node_modules/lodash/lodash.js").throttle,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"state",{}),d(u(e),"onClick",(function(t,r){if(e.props.onClick&&null!==r.position){var n=t.camera.pickEllipsoid(r.position,t.scene.globe.ellipsoid),o=v.getMouseXYZ(t,r)||n&&f.Cartographic.fromCartesian(n);if(o){var i=180*o.latitude/Math.PI,a=180*o.longitude/Math.PI,s=(90-i)/180*e.props.standardHeight*(e.props.zoom+1),l=(180+a)/360*e.props.standardWidth*(e.props.zoom+1);e.props.onClick({pixel:{x:l,y:s},height:e.props.mapOptions&&e.props.mapOptions.terrainProvider?o.height:void 0,cartographic:o,latlng:{lat:i,lng:a},crs:"EPSG:4326"})}}})),d(u(e),"onMouseMove",(function(t){if(e.props.onMouseMove&&t.endPosition){var r=e.map.camera.pickEllipsoid(t.endPosition,e.map.scene.globe.ellipsoid),n=v.getMouseXYZ(e.map,t)||r&&f.Cartographic.fromCartesian(r);if(n){var o=Math.round(n.height);e.props.onMouseMove({y:180*n.latitude/Math.PI,x:180*n.longitude/Math.PI,z:o,crs:"EPSG:4326"})}}})),d(u(e),"getDocument",(function(){return e.props.document||document})),d(u(e),"getMapOptions",(function(e){var t={};if(e.terrainProvider){var r=e.terrainProvider,n=r.type,i=o(r,["type"]);switch(n){case"cesium":t.terrainProvider=new f.CesiumTerrainProvider(i);break;case"ellipsoid":t.terrainProvider=new f.EllipsoidTerrainProvider}}return O({},e,t)})),d(u(e),"getCenter",(function(){var t=e.map.camera.positionCartographic;return{longitude:180*t.longitude/Math.PI,latitude:180*t.latitude/Math.PI,height:t.height}})),d(u(e),"getZoomFromHeight",(function(t){return Math.log2(e.props.zoomToHeight/t)+1})),d(u(e),"getHeightFromZoom",(function(t){return e.props.zoomToHeight/Math.pow(2,t-1)})),d(u(e),"gestureStartListener",(function(e){e.preventDefault()})),d(u(e),"setMousePointer",(function(t){e.map&&(g.findDOMNode(u(e)).getElementsByClassName("cesium-viewer")[0].style.cursor=t||"auto")})),d(u(e),"_updateMapPositionFromNewProps",(function(t){var r=e.getCenter(),n=e.getZoomFromHeight(r.height),o=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)<=1e-12},i=!o(t.center.x,r.longitude)||!o(t.center.y,r.latitude),a=t.zoom!==n;if(i||a){var s={destination:f.Cartesian3.fromDegrees(t.center.x,t.center.y,e.getHeightFromZoom(t.zoom)),orientation:t.viewerOptions.orientation};e.setView(s)}})),d(u(e),"setView",(function(t){e.props.mapOptions&&e.props.mapOptions.flyTo?e.map.camera.flyTo(t,e.props.mapOptions.defaultFlightOptions):e.map.camera.setView(t)})),d(u(e),"subscribeClickEvent",(function(t){var r={LEFT_UP:f.ScreenSpaceEventType.LEFT_UP,LEFT_DOWN:f.ScreenSpaceEventType.LEFT_DOWN,LEFT_CLICK:f.ScreenSpaceEventType.LEFT_CLICK,PINCH_START:f.ScreenSpaceEventType.PINCH_START,PINCH_END:f.ScreenSpaceEventType.PINCH_END,PINCH_MOVE:f.ScreenSpaceEventType.PINCH_MOVE},n=new y.Subject,o=new y.Subject;Object.keys(r).forEach((function(t){return e.hand.setInputAction((function(e){o.next({type:r[t],movement:e}),n.next({type:r[t],movement:e})}),r[t])})),o.filter((function(e){return e.type===r.PINCH_END})).switchMap((function(){return y.Observable.of(!0).concat(y.Observable.of(!1).delay(500))})).startWith(!1).switchMap((function(e){return e?y.Observable.never():n})).filter((function(e){return e.type===r.LEFT_DOWN})).switchMap((function(e){var t=e.movement;return n.filter((function(e){return e.type===r.LEFT_CLICK})).takeUntil(y.Observable.timer(500).merge(n.filter((function(e){return e.type!==r.LEFT_UP&&e.type!==r.LEFT_CLICK||e.type===r.LEFT_UP&&(n=t&&t.position,o=e.movement&&e.movement.position,!(n&&o&&n.x===o.x&&n.y===o.y));var n,o}))))})).subscribe((function(r){var n=r.movement;return e.onClick(t,n)})),e.clickStream$=n,e.pauserStream$=o})),d(u(e),"registerHooks",(function(){e.props.hookRegister.registerHook(S.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.crs,o=r.duration,i=w.reprojectBbox(t,n,"EPSG:4326");if(e.map.camera.flyTo){var a=f.Rectangle.fromDegrees(i[0],i[1],i[2],i[3]);e.map.camera.flyTo({destination:a,duration:o,complete:e.updateMapInfoState})}}))})),d(u(e),"updateMapInfoState",(function(){var t=e.getCenter(),r=e.getZoomFromHeight(t.height),n={height:Math.round(e.props.standardWidth*(r+1)),width:Math.round(e.props.standardHeight*(r+1))};e.props.onMapViewChanges({x:t.longitude,y:t.latitude,crs:"EPSG:4326"},r,{bounds:{minx:-180,miny:-90,maxx:180,maxy:90},crs:"EPSG:4326",rotation:0},n,e.props.id,e.props.projection,{orientation:{heading:e.map.camera.heading,pitch:e.map.camera.pitch,roll:e.map.camera.roll}})})),e}return t=p,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.getDocument().addEventListener("gesturestart",this.gestureStartListener)}},{key:"componentDidMount",value:function(){var e=new f.Viewer(this.getDocument().getElementById(this.props.id),O({baseLayerPicker:!1,animation:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1},this.getMapOptions(this.props.mapOptions)));e.scene.globe.baseColor=f.Color.WHITE,e.imageryLayers.removeAll(),e.camera.moveEnd.addEventListener(this.updateMapInfoState),this.hand=new f.ScreenSpaceEventHandler(e.scene.canvas),this.subscribeClickEvent(e),this.hand.setInputAction(j(this.onMouseMove.bind(this),500),f.ScreenSpaceEventType.MOUSE_MOVE),e.camera.setView({destination:f.Cartesian3.fromDegrees(this.props.center.x,this.props.center.y,this.getHeightFromZoom(this.props.zoom))}),this.setMousePointer(this.props.mousePointer),this.map=e,this.forceUpdate(),this.props.mapOptions.navigationTools&&(this.cesiumNavigation=window.CesiumNavigation,this.cesiumNavigation&&this.cesiumNavigation.navigationInitialization(this.props.id,e)),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),!1}},{key:"componentWillUnmount",value:function(){this.clickStream$.complete(),this.pauserStream$.complete(),this.hand.destroy(),this.getDocument().removeEventListener("gesturestart",this.gestureStartListener),this.map.destroy()}},{key:"render",value:function(){var e=this,t=this.map,r=this.props.projection,n=t?b.Children.map(this.props.children,(function(n){return n?b.cloneElement(n,{map:t,projection:r,onCreationError:e.props.onCreationError}):null})):null;return b.createElement("div",{id:this.props.id},n)}}])&&a(t.prototype,r),n&&a(t,n),p}(b.Component);d(E,"propTypes",{id:m.string,document:m.object,center:h.PropTypes.center,zoom:m.number.isRequired,mapStateSource:h.PropTypes.mapStateSource,projection:m.string,onMapViewChanges:m.func,onCreationError:m.func,onClick:m.func,onMouseMove:m.func,mapOptions:m.object,standardWidth:m.number,standardHeight:m.number,mousePointer:m.string,zoomToHeight:m.number,registerHooks:m.bool,hookRegister:m.object,viewerOptions:m.object}),d(E,"defaultProps",{id:"map",onMapViewChanges:function(){},onClick:function(){},onCreationError:function(){},projection:"EPSG:3857",mapOptions:{},standardWidth:512,standardHeight:512,zoomToHeight:8e7,registerHooks:!0,hookRegister:S,viewerOptions:{orientation:{heading:0,pitch:-1*Math.PI/2,roll:0}}}),e.exports=E},"./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js");n.registerType("bing",(function(e){var t=e.apiKey;return new o.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:t,mapStyle:o.BingMapsStyle[e.name.toUpperCase()]})}))},"./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),i=r("./node_modules/object-assign/index.js"),a=function(){var e=[o.Math.toRadians(.05),o.Math.toRadians(.1),o.Math.toRadians(.2),o.Math.toRadians(.5),o.Math.toRadians(1),o.Math.toRadians(2),o.Math.toRadians(5),o.Math.toRadians(10)];function t(e,t){var r=e||{};this._tilingScheme=r.tilingScheme||new o.GeographicTilingScheme,this._color=r.color&&new o.Color(r.color[0],r.color[1],r.color[2],r.color[3])||new o.Color(1,1,1,.4),this._tileWidth=r.tileWidth||256,this._tileHeight=r.tileHeight||256,this._ready=!0,this._sexagesimal=r.sexagesimal||!1,this._numLines=r.numLines||50,this._scene=t,this._labels=new o.LabelCollection,t.primitives.add(this._labels),this._polylines=new o.PolylineCollection,t.primitives.add(this._polylines),this._ellipsoid=t.globe.ellipsoid;var n=document.createElement("canvas");n.width=256,n.height=256,this._canvas=n}var r=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),n=Object.defineProperties;function i(e){return e<.01?3:e<.1?2:e<1?1:0}return r&&n||(n=function(e){return e}),n(t.prototype,{url:{get:function(){}},proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return 18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),t.prototype.makeLabel=function(e,t,r,n){this._labels.add({position:this._ellipsoid.cartographicToCartesian(new o.Cartographic(e,t,10)),text:r,font:"normal",fillColor:this._color,outlineColor:this._color,style:o.LabelStyle.FILL,pixelOffset:new o.Cartesian2(5,n?5:-5),eyeOffset:o.Cartesian3.ZERO,horizontalOrigin:o.HorizontalOrigin.LEFT,verticalOrigin:n?o.VerticalOrigin.BOTTOM:o.VerticalOrigin.TOP,scale:1})},t.prototype._drawGrid=function(t){if(!this._currentExtent||!this._currentExtent.equals(t)){this._currentExtent=t,this._polylines.removeAll(),this._labels.removeAll();for(var r=0,n=0,a=0;a<e.length&&r<(t.north-t.south)/10;a++)r=e[a];for(var s=0;s<e.length&&n<(t.east-t.west)/10;s++)n=e[s];var l=(t.west<0?Math.ceil(t.west/n):Math.floor(t.west/n))*n,c=(t.south<0?Math.ceil(t.south/r):Math.floor(t.south/r))*r,u=(t.east<0?Math.ceil(t.east/r):Math.floor(t.east/r))*r,p=(t.north<0?Math.ceil(t.north/n):Math.floor(t.north/n))*n;l=Math.max(l-2*n,-Math.PI),u=Math.min(u+2*n,Math.PI),c=Math.max(c-2*r,-Math.PI/2),p=Math.min(p+2*n,Math.PI/2);for(var d=this._ellipsoid,f=o.Math.toRadians(1),m=c+Math.floor((p-c)/r/2)*r,y=l;y<u;y+=n){for(var b=[],g=c;g<p;g+=f)b.push(new o.Cartographic(y,g));b.push(new o.Cartographic(y,p)),this._polylines.add({positions:d.cartographicArrayToCartesianArray(b),width:.75,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var h=o.Math.toDegrees(y);this.makeLabel(y,m,this._sexagesimal?this._decToSex(h):h.toFixed(i(n)),!1)}for(var v=l+Math.floor((u-l)/n/2)*n,S=c;S<p;S+=r){for(var w=[],O=l;O<u;O+=f)w.push(new o.Cartographic(O,S));w.push(new o.Cartographic(u,S)),this._polylines.add({positions:d.cartographicArrayToCartesianArray(w),width:1,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var j=o.Math.toDegrees(S);this.makeLabel(v,S,this._sexagesimal?this._decToSex(j):j.toFixed(i(r)),!0)}}},t.prototype.requestImage=function(){return this._show&&this._drawGrid(this._getExtentView()),this._canvas},t.prototype.setVisible=function(e){this._show=e,e?(this._currentExtent=null,this._drawGrid(this._getExtentView())):(this._polylines.removeAll(),this._labels.removeAll())},t.prototype.isVisible=function(){return this._show},t.prototype._decToSex=function(t){var r=Math.floor(t),n=(60*(Math.abs(t)-r)).toFixed(2);return"60.00"===n&&(r+=1,e="0.00"),[r,":",n].join("")},t.prototype._getExtentView=function(){for(var e=this._scene.camera,t=this._scene.canvas,r=[e.pickEllipsoid(new o.Cartesian2(0,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(0,t.height),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,t.height),this._ellipsoid)],n=0;n<4;n++)if(void 0===r[n])return o.Rectangle.MAX_VALUE;return o.Rectangle.fromCartographicArray(this._ellipsoid.cartesianArrayToCartographicArray(r))},t.prototype.destroy=function(){this._show=!1,this._polylines&&this._scene.primitives.remove(this._polylines),this._labels&&this._scene.primitives.remove(this._labels)},t}();n.registerType("graticule",{create:function(e,t){var r=t.scene,n=new a(i({tileWidth:512,tileHeight:512,numLines:10},e||{}),r);return e.visibility&&n.setVisible(!0),n}})},"./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),i=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,a=r("./node_modules/object-assign/index.js");n.registerType("marker",{create:function(e,t){var r=a({},{point:{pixelSize:5,color:o.Color.RED,outlineColor:o.Color.WHITE,outlineWidth:2}},e.style),n=t.entities.add(a({position:o.Cartesian3.fromDegrees(e.point.lng,e.point.lat)},r));return{detached:!0,point:n,remove:function(){t.entities.remove(n)}}},update:function(e,t,r,n){return i(t.point,r.point)?null:(e.remove(),this.create(t,n))}})},"./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js");n.registerType("osm",(function(){return o.createOpenStreetMapImageryProvider({url:"//a.tile.openstreetmap.org/"})}))},"./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r("./MapStore2/web/client/libs/cesium.js"),i=r("./node_modules/eventlistener/eventlistener.js"),a=function(){function e(e){this._scene=e.scene;var t=document.createElement("div");t.className="infoWindow",this._div=t;var r=document.createElement("div");r.className="frame",this._div.appendChild(r);var n=document.createElement("div");n.className="content",r.appendChild(n),e.container.appendChild(t),this._content=n,this.setVisible(!0)}return e.prototype.setVisible=function(e){this._visible=e,this._div.style.display=e?"block":"none"},e.prototype.setContent=function(e){if("string"==typeof e)this._content.innerHTML=e;else{for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._content.appendChild(e)}},e.prototype.setPosition=function(e,t){this._position=this._scene.globe.ellipsoid.cartographicToCartesian(o.Cartographic.fromDegrees(t,e,0))},e.prototype.showAt=function(e,t,r){this.setPosition(e,t),this.setContent(r),this.setVisible(!0)},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.computeVisible=function(){var e=6356752.314245179,t=this._scene.camera.position,r=t.x/6378137,n=t.y/6378137,o=t.z/e,i=r*r+n*n+o*o-1,a=this._position,s=a.x/6378137-r,l=a.y/6378137-n,c=a.z/e-o,u=-(s*r+l*n+c*o);u>i&&u*u/(s*s+l*l+c*c)>i?this.setVisible(!1):this.setVisible(!0)},e.prototype.update=function(){if(this.computeVisible(),this._visible&&this._position){var e=o.SceneTransforms.wgs84ToWindowCoordinates(this._scene,this._position);if(e){var t=Math.floor(e.x)-this._div.clientWidth/2+"px",r=Math.floor(e.y)-this._div.clientHeight+"px";this._div.tabIndex=5,this._div.style.left=t,this._div.style.top=r}}},e.prototype.destroy=function(){this._div.parentNode.removeChild(this._div)},e}();n.registerType("overlay",{create:function(e,t){var r=function(e,t){var r=e.cloneNode(!0);r.id=t.id+"-overlay",r.className=(t.className||e.className)+"-overlay",r.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var r=0;r<t.length;r++){var n=t.item(r);n.removeAttribute("data-reactid"),e(n.children||[])}}(r.children||[]);var n=t.closeClass||"close";if(t.onClose&&1===r.getElementsByClassName(n).length){var o=r.getElementsByClassName(n)[0];i.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}return r}(document.getElementById(e.id),e),n=new a(t);n.showAt(e.position.y,e.position.x,r),n.setVisible(!0);var o=t.scene.primitives.add(n);return{detached:!0,info:o,remove:function(){t.scene.primitives.remove(o)}}}})},"./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r.n(n),i=r("./MapStore2/web/client/libs/cesium.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/TileConfigProvider.js"),l=r("./MapStore2/web/client/utils/ConfigUtils.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/ProxyUtils.js"),p=r.n(u);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){this.proxy=e}function y(){}m.prototype.getURL=function(e){var t=function(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}(e),r=t.url,n=t.queryString;return 0===r.indexOf("//")&&(r=location.protocol+r),p.a.getProxyUrl()+encodeURIComponent(r+n)},y.prototype.getURL=function(e){return e},o.a.registerType("tileprovider",(function(e){var t,r=d(s.default.getLayerConfig(e.provider,e),2),n=r[0],o=r[1],i=c.a.getProxyUrl({});i&&(t=o.noCors||p.a.needProxy(n));var l,u,f=o.credits,b=f?new a.a.Credit(f.text,f.imageUrl,f.link):o.attribution;return new a.a.UrlTemplateImageryProvider({url:(l=n,u=o,l.replace(/(?!(\{?[zyxs]?\}))\{*([\w_]+)*\}/g,(function(){var e=arguments[0],t=arguments[1]?arguments[1]:arguments[2],r=u[t];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(u)),r}))),enablePickFeatures:!1,subdomains:o.subdomains,maximumLevel:o.maxZoom,minimumLevel:o.minZoom,credit:b,proxy:t?new m(i):new y})}))},"./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/web/client/utils/cesium/Layers.js"),s=r("./MapStore2/web/client/libs/cesium.js"),l=r("./MapStore2/web/client/utils/cesium/BILTerrainProvider.js")(s),c=r("./MapStore2/web/client/utils/ConfigUtils.js"),u=r("./MapStore2/web/client/utils/ProxyUtils.js"),p=r("./node_modules/object-assign/index.js"),d=r("./MapStore2/node_modules/lodash/lodash.js").isArray,f=r("./MapStore2/web/client/utils/cesium/WMSUtils.js"),m=r("./MapStore2/web/client/utils/LayersUtils.js"),y=m.getAuthenticationParam,b=m.getURLs,g=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,h=r("./MapStore2/web/client/utils/SecurityUtils.js"),v=r("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;function S(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}function w(e){this.proxy=e}function O(){}function j(e){return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}w.prototype.getURL=function(e){var t=S(e),r=t.url,n=t.queryString;return u.getProxyUrl()+encodeURIComponent(r+n)},O.prototype.getURL=function(e){var t=S(e);return t.url+t.queryString};var E=function e(t){var r;return t.useForElevation?new l(function(e){var t,r=c.getProxyUrl({}),n=e.url;return r&&(t=u.needProxy(e.url)&&r)&&(n=t+encodeURIComponent(n)),p({url:n,layerName:e.name})}(t)):((r=t.singleTile?new s.SingleTileImageryProvider(function(e){var t=void 0!==e.opacity?e.opacity:1,r=g(e),n=p({styles:e.style||"",format:(v(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:t,tiled:void 0===e.tiled||e.tiled,layers:e.name,width:e.size||2e3,height:e.size||2e3,bbox:"-180.0,-90,180.0,90",srs:"EPSG:4326"},r||{},y(e));return{url:(d(e.url)?e.url[Math.round(Math.random()*(e.url.length-1))]:e.url)+"?service=WMS&version=1.1.0&request=GetMap&"+j(h.addAuthenticationToSLD(n,e))}}(t)):new s.WebMapServiceImageryProvider(function(e){var t,r=void 0!==e.opacity?e.opacity:1,n=g(e),o=c.getProxyUrl({});o&&(t=u.needProxy(e.url)&&o);var i=e.credits,a=i?new s.Credit(i.text||i.title,i.imageUrl,i.link):e.attribution;return p({url:"{s}",credit:a,subdomains:b(d(e.url)?e.url:[e.url]),proxy:t&&new w(t)||new O,layers:e.name,enablePickFeatures:!1,parameters:p({styles:e.style||"",format:(v(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:r,tiled:void 0===e.tiled||e.tiled,width:e.tileSize||256,height:e.tileSize||256},p({},e._v_?{_v_:e._v_}:{},n||{},y(e)))})}(t))).updateParams=function(r){var n=p({},t,{params:p({},t.params||{},r)});return e(n)},r)};a.registerType("wms",{create:E,update:function(e,t,r){var n=t&&t.params,i=r&&r.params,a=o(o({},n),i);return Object.keys(o(o(o({},t),r),a)).filter((function(e){return f.PARAM_OPTIONS.indexOf(e.toLowerCase())>=0})).filter((function(e){return(void 0===r[e]?i&&i[e]:r[e])!==(void 0===t[e]?n&&n[e]:t[e])})).length>0||t.securityToken!==r.securityToken||t.tileSize!==r.tileSize?E(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/cesium/Layers.js"),o=r.n(n),i=r("./MapStore2/web/client/utils/ConfigUtils.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/ProxyUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/WMTSUtils.js"),u=r.n(c),p=r("./MapStore2/web/client/libs/cesium.js"),d=r.n(p),f=r("./MapStore2/web/client/utils/LayersUtils.js"),m=r("./node_modules/object-assign/index.js"),y=r.n(m),b=r("./MapStore2/node_modules/lodash/lodash.js"),g=r("./node_modules/url/url.js"),h=r.n(g),v=r("./MapStore2/web/client/utils/VectorTileUtils.js");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=e,r="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),r=e.substring(e.indexOf("?")+1)),{url:t,queryString:r}}function E(e){this.proxy=e}function x(){}E.prototype.getURL=function(e){var t=j(e),r=t.url,n=t.queryString;return l.a.getProxyUrl()+encodeURIComponent(r+n)},x.prototype.getURL=function(e){var t=j(e);return t.url+t.queryString};var P=function(e){return e.indexOf("EPSG:4326")>=0?new d.a.GeographicTilingScheme:e.indexOf("EPSG:3857")>=0?new d.a.WebMercatorTilingScheme:null},T=function(e,t){var r=u.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return{tileMatrixSet:r,matrixIds:function(e,t){return e.length>t?Object(b.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e}(e.matrixIds&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(Object(b.isObject)(e)&&e[t]||Object(b.isArray)(e)&&e||[]).map((function(e){return e.identifier}))}(e.matrixIds,r)||function(e){for(var t=new Array(30),r=0;r<30;++r)t[r]=e.tileMatrixPrefix+r;return t}(e))}};function M(e){var t="EPSG:4326",r=T(e,t),n=r.tileMatrixSet,o=r.matrixIds;if(0===o.length){var i=T(e,t="EPSG:3857");n=i.tileMatrixSet,o=i.matrixIds}var s,c=a.a.getProxyUrl({});c&&(s=l.a.needProxy(e.url)&&c);var u,p=(u=e.matrixIds&&e.matrixIds[n],function(e,t,r){return u&&u[r]&&!u[r].ranges||e<=parseInt(Object(b.get)(u[r],"ranges.cols.max"),10)&&e>=parseInt(Object(b.get)(u[r],"ranges.cols.min"),10)&&t<=parseInt(Object(b.get)(u[r],"ranges.rows.max"),10)&&t>=parseInt(Object(b.get)(u[r],"ranges.rows.min"),10)}),d=h.a.format({query:w({},Object(f.getAuthenticationParam)(e))});return y()({url:Object(b.head)(Object(f.getURLs)(Object(b.isArray)(e.url)?e.url:[e.url],d)),format:(Object(v.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",isValid:p,layer:e.name,style:e.style||"",tileMatrixLabels:o,tilingScheme:P(t,e.matrixIds[n]),proxy:s&&new E(s)||new x,enablePickFeatures:!1,tileWidth:e.tileWidth||e.tileSize||256,tileHeight:e.tileHeight||e.tileSize||256,tileMatrixSetID:n,maximumLevel:30,parameters:w({},Object(f.getAuthenticationParam)(e))})}var A=function e(t){var r,n=M(t),o=(r=new d.a.WebMapTileServiceImageryProvider(n)).requestImage;return r.requestImage=function(e,t,i){return n.isValid(e,t,i)?o.bind(r)(e,t,i):new Promise((function(){}))},r.updateParams=function(r){var n=y()({},t,{params:y()({},t.params||{},r)});return e(n)},r};o.a.registerType("wmts",{create:A,update:function(e,t,r){return t.securityToken!==r.securityToken||r.format!==t.format?A(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js"),OSMLayer:r("./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js"),TileProviderLayer:r("./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js"),WMSLayer:r("./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js"),WMTSLayer:r("./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js"),GraticuleLayer:r("./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js"),MarkerLayer:r("./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js"),OverlayLayer:r("./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js")}},"./MapStore2/web/client/components/map/enhancers/autoMapType.js":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./node_modules/reselect/es/index.js").createSelector,i=r("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector;e.exports=n(o(i,(function(e){return{mapType:e}})))},"./MapStore2/web/client/components/map/enhancers/autoResize.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.withStateHandlers,l=a.withProps,c=a.compose,u=r("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return c(s((function(){return{resize:0}}),{onResize:function(e){var t=e.resize,r=void 0===t?0:t;return function(){return{resize:r+1}}}}),u({debounceTime:e}),l((function(e){var t=e.options,r=e.resize;return{options:o(o({},t),{},{resize:r})}})))}},"./MapStore2/web/client/components/map/enhancers/getProjectionDefs.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getProjectionDefs",(function(){return s}));var n=r("./node_modules/recompose/es/Recompose.js"),o=r("./MapStore2/web/client/utils/ConfigUtils.js"),i=r.n(o),a=r("./MapStore2/node_modules/lodash/lodash.js"),s=Object(n.withProps)((function(e){var t=e.projectionDefs;return{projectionDefs:Object(a.isArray)(t)&&t.length?t:i.a.getConfigProp("projectionDefs")||[]}}));t.default=s},"./MapStore2/web/client/components/map/enhancers/handlingUnsupportedProjection.js":function(e,t,r){"use strict";r.r(t),r.d(t,"fetchingProjection",(function(){return d})),r.d(t,"handlingUnsupportedProjection",(function(){return f}));var n=r("./node_modules/recompose/es/Recompose.js"),o=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),i=r.n(o),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),s=r.n(a),l=r("./node_modules/react/index.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/ConfigUtils.js"),p=r.n(u),d=Object(n.withProps)((function(e){var t=e.map;return{projection:e.projection||(t.data&&t.data.map?t.data.map.projection:t&&t.projection)}})),f=Object(n.compose)(d,i()((function(e){var t=e.projectionDefs,r=void 0===t?p.a.getConfigProp("projectionDefs")||[]:t,n=e.projection;return n&&0===r.concat([{code:"EPSG:4326"},{code:"EPSG:3857"},{code:"EPSG:900913"}]).filter((function(e){return e.code===n})).length}),(function(e){var t=e.projection;return{glyph:"1-map",style:{width:"100%",height:"100%",display:"flex"},title:c.a.createElement(s.a,{msgId:"map.errors.loading.title"}),mainViewStyle:{margin:"auto"},imageStyle:{height:120,width:120,margin:"auto"},description:c.a.createElement(s.a,{msgId:"map.errors.loading.projectionError",msgParams:{projection:t}})}})))},"./MapStore2/web/client/components/map/enhancers/mapType.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js").withPropsOnChange;e.exports=a(["mapType","plugins"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapType,n=e.plugins;return{plugins:o(o({},r("./MapStore2/web/client/components/map/plugins sync recursive ^\\.\\/.*\\.js$")("./"+t+".js")()),n)}}))},"./MapStore2/web/client/components/map/enhancers/onMapViewChanges.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withHandlers,c=a.withPropsOnChange;e.exports=s(l({onMapViewChanges:function(e){var t=e.map,r=void 0===t?{}:t,n=e.onMapViewChanges,i=void 0===n?function(){}:n;return function(e,t,n,a,s,l){i(o(o({},r),{},{center:e,bbox:o(o({},r.bbox),n),zoom:t,size:a,mapStateSource:s,projection:l}))}}}),c(["onMapViewChanges","eventHandlers"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onMapViewChanges,r=void 0===t?function(){}:t,n=e.eventHandlers,i=void 0===n?{}:n;return{eventHandlers:o(o({},i),{},{onMapViewChanges:r})}})))},"./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.head,h=b.last,v=b.isNil,S=r("./MapStore2/web/client/libs/leaflet.js");r("./node_modules/leaflet-draw/dist/leaflet.draw.js"),S.Draw.Polygon.prototype._calculateFinishDistance=function(e){if(this._markers.length>0){var t=this._map.latLngToContainerPoint(this._markers[0].getLatLng()),r=this._map.latLngToContainerPoint(this._markers[this._markers.length-1].getLatLng()),n=new S.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(n.getLatLng());return Math.min(t.distanceTo(o),r.distanceTo(o))}return 1/0};var w=r("./MapStore2/web/client/utils/MapUtils.js"),O=w.isSimpleGeomType,j=w.getSimpleGeomType,E=r("./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js").boundsToOLExtent,x=r("./node_modules/object-assign/index.js"),P=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),T=r("./MapStore2/web/client/utils/leaflet/Vector.js").pointToLayer,M=Math.PI/180,A=function(e,t,r){if("EPSG:4326"===r)return{center:t,srs:r,radius:e};var n=e/40075017*360/Math.cos(M*t[1]),o=P.reproject(t,"EPSG:4326",r);if(n){var i=P.reproject([t[0]+n,t[1]],"EPSG:4326",r);return{center:o,srs:r,radius:Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))}}return{center:o,srs:r,radius:e}},C=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326";if("EPSG:4326"===r||void 0===e)return{center:t,projection:r,radius:e};var n=P.reproject({x:t.lng,y:t.lat},r,"EPSG:4326");if(void 0===e)return{center:n,projection:r,radius:e};var o=P.reproject([t.lng+e,t.lat],r,"EPSG:4326"),i=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),a=i*Math.cos(M*n.y)*40075017/360;return{center:n,projection:"EPSG:4326",radius:a}},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"onDrawStart",(function(){e.drawing=!0})),f(p(e),"onDrawCreated",(function(t){e.drawing=!1;var r,n=t.layer,o=n.toGeoJSON();"marker"===t.layerType?r=S.latLngBounds(o.geometry.coordinates,o.geometry.coordinates):(n._map||(n._map=e.props.map,n._renderer=e.props.map.getRenderer(n),n._project()),r=n.getBounds());var i=E(r),a=r.getCenter();a=[a.lng,a.lat];var s=o.geometry.coordinates,l="EPSG:4326",c=o.geometry.type,u=n.getRadius?n.getRadius():0;if("circle"===t.layerType){o.projection="EPSG:4326",l="EPSG:3857",i=P.reprojectBbox(i,"EPSG:4326",l);var p=A(n._mRadius,a,l);a=p.center,u=p.radius,s=P.calculateCircleCoordinates(a,u,100),o.radius=n.getRadius?n.getRadius():0,a=[a.x,a.y],c="Polygon"}e.drawLayer.addData(o);var d={type:c,extent:i,center:a,coordinates:s,radius:u,projection:l};e.props.options&&e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner);var f=e.convertFeaturesToGeoJson(t.layer,e.props);e.props.onEndDrawing(d,e.props.drawOwner),e.props.onGeometryChanged([f],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"")})),f(p(e),"onUpdateGeom",(function(t,r){var n=e.convertFeaturesToGeoJson(t,r);r.onGeometryChanged([n],r.drawOwner)})),f(p(e),"addLayer",(function(t){e.clean();var r=S.geoJson(null,{pointToLayer:function(e,t){var r=C(e.radius,t,e.projection),n=r.center,o=r.radius;return S.circle(n,o||5)},style:function(e){return t.style&&t.style[e.geometry.type]||{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}});e.props.map.addLayer(r),t.features&&t.features.length>0&&r.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod)),e.drawLayer=r})),f(p(e),"addGeojsonLayer",(function(t){var r=t.features,n=t.projection,o=t.style;e.clean();var i=S.geoJson(r,{style:function(e){return e.style||o},pointToLayer:function(e,t){var r=P.reproject({x:t.lng,y:t.lat},n,"EPSG:4326");return T(S.latLng(r.y,r.x),e,o)}});e.drawLayer=i.addTo(e.props.map)})),f(p(e),"replaceFeatures",(function(t){e.drawLayer?(e.drawLayer.clearLayers(),"Circle"===e.props.drawMethod?(e.drawLayer.options.pointToLayer=function(e,t){var r=C(e.radius,t,e.projection),n=r.center,o=r.radius;return S.circle(n,o||5)},e.drawLayer.options.style={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}):e.drawLayer.options.pointToLayer=function(e,r){var n=P.reproject({x:r.lng,y:r.lat},t.options&&t.options.featureProjection||"EPSG:4326","EPSG:4326");return T(S.latLng(n.y,n.x),e,t.style)},e.drawLayer.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod))):e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style})})),f(p(e),"endDrawing",(function(t){e.replaceFeatures(t);var r=h(t.features);"Circle"!==e.props.drawMethod||!r||v(r.center)||v(r.radius)?r&&e.props.onEndDrawing(r,e.props.drawOwner):e.props.onEndDrawing(i(i({},r),{},{coordinates:P.calculateCircleCoordinates(r.center,r.radius,100)}),e.props.drawOwner)})),f(p(e),"addDrawInteraction",(function(t){e.removeAllInteractions(),"Point"===t.drawMethod||"MultiPoint"===t.drawMethod?e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}):e.addLayer(t),e.props.map.on("draw:created",e.onDrawCreated,p(e)),e.props.map.on("draw:drawstart",e.onDrawStart,p(e)),"LineString"===t.drawMethod||"Bearing"===t.drawMethod||"MultiLineString"===t.drawMethod?e.drawControl=new S.Draw.Polyline(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},showLength:!1,repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Polygon"===t.drawMethod||"MultiPolygon"===t.drawMethod?e.drawControl=new S.Draw.Polygon(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5],guidelineDistance:5},allowIntersection:!1,showLength:!1,showArea:!1,repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"BBOX"===t.drawMethod?e.drawControl=new S.Draw.Rectangle(e.props.map,{draw:!1,shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Circle"===t.drawMethod?e.drawControl=new S.Draw.Circle(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},showRadius:!1,repeatMode:!0}):"Point"!==t.drawMethod&&"MultiPoint"!==t.drawMethod||(e.drawControl=new S.Draw.Marker(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},repeatMode:!0})),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawControl.enable()})),f(p(e),"addDrawOrEditInteractions",(function(t){var r,n=g(t.features);n&&n.geometry&&n.geometry.type&&!O(n.geometry.type)&&("GeometryCollection"===n.geometry.type?r=n.geometry.geometries.map((function(e){return e.coordinates.map((function(t,r){return{type:"Feature",properties:i({},n.properties),id:e.type+r,geometry:{coordinates:t,type:j(e.type)}}}))})):(r=n.geometry.coordinates.map((function(e,t){return{type:"Feature",properties:i({},n.properties),id:n.geometry.type+t,geometry:{coordinates:e,type:j(n.geometry.type)}}})),n={type:"FeatureCollection",features:r}));var o=x({},t,{features:[n||{}]});e.drawLayer?(e.drawLayer.clearLayers(),e.drawLayer.addData(e.convertFeaturesPolygonToPoint(o.features,o.drawMethod))):e.addGeojsonLayer({features:t.features&&t.options.featureProjection&&"EPSG:4326"!==t.options.featureProjection?t.features.map((function(e){return P.reprojectGeoJson(e,t.options.featureProjection,"EPSG:4326")})):t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}),t.options.editEnabled&&e.addEditInteraction(o),t.options.drawEnabled&&e.addDrawInteraction(o)})),f(p(e),"addEditInteraction",(function(t){e.clean(),e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:x({},t.style,{poly:{icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}})});var r=e.drawLayer.getLayers();setTimeout((function(){r.forEach((function(r){r.getLayers&&r.getLayers()&&r.getLayers().length?r.getLayers().forEach((function(r){r.on("edit",(function(r){return e.onUpdateGeom(r.target,t)})),r.on("moveend",(function(r){return e.onUpdateGeom(r.target,t)})),r.editing&&r.editing.enable()})):(r.on("edit",(function(r){return e.onUpdateGeom(r.target,t)})),r.on("moveend",(function(r){return e.onUpdateGeom(r.target,t)})),r.editing&&r.editing.enable())}))}),0),e.editControl=new S.Control.Draw({edit:{featureGroup:e.drawLayer,poly:{allowIntersection:!1},edit:!0},draw:{polygon:{allowIntersection:!1,showArea:!0}}}),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable()})),f(p(e),"removeAllInteractions",(function(){e.removeEditInteraction(),e.removeDrawInteraction()})),f(p(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.props.options&&e.props.options.stopAfterDrawing&&(e.drawControl.setOptions({repeatMode:!1}),e.props.onDrawStopped()),e.drawControl.disable(),e.drawControl=null,e.props.map.off("draw:created",e.onDrawCreated,p(e)),e.props.map.off("draw:drawstart",e.onDrawStart,p(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),f(p(e),"removeEditInteraction",(function(){e.drawLayer&&(e.drawLayer.getLayers().forEach((function(e){e.getLayers&&e.getLayers()&&e.getLayers().length?e.getLayers().forEach((function(e){e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable()})):(e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable())})),e.editControl=null);e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable()})),f(p(e),"cleanAndStop",(function(){e.removeAllInteractions(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),f(p(e),"clean",(function(){e.removeEditInteraction(),e.removeDrawInteraction(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),f(p(e),"convertFeaturesPolygonToPoint",(function(e,t){return"Circle"===t?e.map((function(e){var t=void 0!==e.center&&void 0!==e.radius?C(e.radius,{lat:e.center.y,lng:e.center.x},e.projection):e,r=t.center,n=t.projection,o=t.radius;return i(i({},e),{},{coordinates:r?[r.x,r.y]:e.coordinates,center:r||e.center,projection:n||e.projection,radius:void 0!==o?o:e.radius,type:"Point"})})):e})),f(p(e),"convertFeaturesToGeoJson",(function(t,r){var n;if(O(r.drawMethod))n=t.toGeoJSON().geometry;else{if("GeometryCollection"===r.drawMethod)return{type:"GeometryCollection",geometries:e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()})).map((function(e){return"FeatureCollection"===e.type?{type:"Multi"+e.features[0].geometry.type,coordinates:e.features.map((function(e){return e.geometry.coordinates}))}:{type:e.geometry.type,coordinates:e.geometry.coordinates}}))};var o=e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()}));n={type:r.drawMethod,coordinates:o.reduce((function(e,t){return e.concat([t.geometry.coordinates])}),[])}}return x({},t.toGeoJSON(),{geometry:n})})),e}return t=u,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!(!this.props.messages&&!this.context.messages)&&this.context.messages.drawLocal;if(t&&(S.drawLocal=t),this.props.drawStatus!==e.drawStatus||"replace"===e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addGeojsonLayer({features:e.features,projection:e.options&&e.options.featureProjection||"EPSG:4326",style:e.style&&e.style[e.drawMethod]||e.style});break;case"start":this.addDrawInteraction(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeAllInteractions();break;case"replace":this.replaceFeatures(e);break;case"clean":this.cleanAndStop();break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);f(_,"displayName","DrawSupport"),f(_,"propTypes",{map:m.object,drawOwner:m.string,drawStatus:m.string,drawMethod:m.string,options:m.object,features:m.array,onChangeDrawingStatus:m.func,onGeometryChanged:m.func,onDrawStopped:m.func,onEndDrawing:m.func,messages:m.object,style:m.object}),f(_,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onEndDrawing:function(){},style:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1,editing:{fill:1}}}),e.exports=_},"./MapStore2/web/client/components/map/leaflet/Feature.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.isEqual,h=b.isArray,v=b.castArray,S=r("./node_modules/object-assign/index.js"),w=r("./node_modules/axios/index.js"),O=r("./MapStore2/web/client/utils/leaflet/Vector.js").geometryToLayer,j=r("./MapStore2/web/client/utils/VectorStyleUtils.js").createStylesAsync,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"createLayer",(function(t){t.geometry&&e.addFeature(i(i({},t),{},{style:t.style&&v(t.style)||void 0})),t.features&&t.features.forEach((function(r){var n=S({},t,{type:r.type,geometry:r.geometry,style:r.style&&v(r.style)||void 0,properties:r.properties});e.addFeature(n)}))})),f(p(e),"removeLayer",(function(t){e._layers&&(e._layers.forEach((function(e){t.container.removeLayer(e)})),e._layers=[])})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this._layers=[],(this.props.container&&this.props.geometry||this.props.features)&&this.createLayer(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){g(e.properties,this.props.properties)&&g(e.geometry,this.props.geometry)&&e.features===this.props.features&&e.style===this.props.style&&e.styleName===this.props.styleName||(this.removeLayer(e),this.createLayer(e))}},{key:"componentWillUnmount",value:function(){this.removeLayer(this.props)}},{key:"render",value:function(){return null}},{key:"addFeature",value:function(e){var t=this;if(h(e.style)){var r=j(e.style);w.all(r).then((function(r){t.addLayer(e,r)}))}else this.addLayer(e,e.style)}},{key:"addLayer",value:function(e,t){var r=this,n=O({type:e.type,geometry:e.geometry,properties:e.properties,msId:e.msId},{style:t,styleName:e.styleName});e.container.addLayer(n),n.on("click",(function(t){e.onClick&&e.onClick({pixel:{x:t.originalEvent&&t.originalEvent.x,y:t.originalEvent&&t.originalEvent.y},latlng:t.latlng},r.props.options.handleClickOnLayer?r.props.options.id:null)})),n.setOpacity||(n.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.originalStyle||this.options&&this.options.style||this.options||{};this.originalStyle=i({},t);var r=t.opacity,o=void 0===r?1:r,a=t.fillOpacity,s=void 0===a?1:a,l=t.color,c=t.fillColor,u=t.radius,p=t.weight,d={color:l,fillColor:c,radius:u,weight:p,opacity:o*e,fillOpacity:s*e};n.setStyle&&n.setStyle(d)}),this._layers.push(n)}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);f(E,"propTypes",{msId:m.oneOfType([m.string,m.number]),type:m.string,styleName:m.string,properties:m.object,container:m.object,geometry:m.object,features:m.array,style:m.object,onClick:m.func,options:m.object}),e.exports=E},"./MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").findIndex,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"setLayer",(function(){var t;e._layer&&e.cleanSupport(),e.props.map.eachLayer((function(r){r.layerId===e.props.layer&&(t=r)}),c(e)),void 0!==t&&t.on("click",e.featureClicked,c(e)),e._layer=t,e.highlightFeatures(e.props.features)})),p(c(e),"featureClicked",(function(t){var r=t.layer;if((t.originalEvent.ctrlKey||t.originalEvent.metaKey)&&r){var n=m(e._selectedFeatures,(function(e){return e===r}));-1!==n?(e._layer.resetStyle(r),e._selectedFeatures=e._selectedFeatures.filter((function(e,t){return t!==n})),r=null):e._selectedFeatures.push(r)}else e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._selectedFeatures=r?[r]:[];r&&(r.bringToFront(),r.setStyle(e.props.selectedStyle)),e.props.updateHighlighted(e._selectedFeatures.map((function(e){return e.msId})),"")})),p(c(e),"cleanSupport",(function(){e._layer&&(e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._layer.off("click",e.featureClicked,c(e))),e._selectedFeatures=[],e._layer=null,e.props.updateHighlighted([],"")})),p(c(e),"highlightFeatures",(function(t){e._layer||e.setLayer(),e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._selectedFeatures=[],e._layer.eachLayer((function(r){-1!==t.indexOf(r.msId)&&(e._selectedFeatures.push(r),r.bringToFront(),r.setStyle(e.props.selectedStyle))}),c(e))})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this._selectedFeatures=[],this._layer=null,"enabled"===this.props.status&&this.setLayer()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}},{key:"UNSAFE_componentWillUpdate",value:function(e){switch(e.status){case"enabled":this.setLayer();break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this.cleanSupport()}},{key:"render",value:function(){return null}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(y,"propTypes",{map:d.object,layer:d.string,status:d.oneOf(["disabled","enabled","update"]),updateHighlighted:d.func,selectedStyle:d.object,features:d.array}),p(y,"contextTypes",{messages:d.object}),p(y,"defaultProps",{status:"disabled",updateHighlighted:function(){},selectedStyle:{radius:12,weight:4,opacity:1,fillOpacity:1,color:"yellow",fillColor:"red"},features:[]}),e.exports=y},"./MapStore2/web/client/components/map/leaflet/Layer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./MapStore2/web/client/utils/leaflet/Layers.js"),g=r("./node_modules/object-assign/index.js"),h=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?e.addLayer():e.removeLayer(),e.updateZIndex())})),f(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity&&e.layer.setOpacity(t)})),f(p(e),"generateOpts",(function(t,r,n){return g({},t,r?{zIndex:r,srs:e.props.srs}:null,{zoomOffset:-e.props.zoomOffset,onError:function(){e.props.onCreationError(t)},securityToken:n})})),f(p(e),"updateZIndex",(function(t){var r=t||e.props.position;r&&e.layer&&e.layer.setZIndex&&e.layer.setZIndex(r)})),f(p(e),"createLayer",(function(t,r,n,o){if(t){var i=e.generateOpts(r,n,o);e.layer=b.createLayer(t,i),e.layer&&(e.layer.layerName=r.name,e.layer.layerId=r.id),e.forceUpdate()}})),f(p(e),"updateLayer",(function(t,r){var n=b.updateLayer(t.type,e.layer,e.generateOpts(t.options,t.position,t.securityToken),e.generateOpts(r.options,r.position,r.securityToken));n&&(e.removeLayer(),e.layer=n,e.addLayer())})),f(p(e),"addLayer",(function(){if(e.isValid()&&(e.props.map.addLayer(e.layer),e.props.options.refresh&&e.layer.setParams)){var t=0;e.refreshTimer=setInterval((function(){e.layer.setParams(g({},e.props.options.params,{_refreshCounter:t++}))}),e.props.options.refresh)}})),f(p(e),"removeLayer",(function(){e.isValid()&&e.props.map.removeLayer(e.layer)})),f(p(e),"isValid",(function(){if(e.layer){var t=b.isValid(e.props.type,e.layer);return e.valid=t,t}return!1})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.valid=!0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(r),e.position!==this.props.position&&this.updateZIndex(e.position),this.updateLayer(e,this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!["map","type","srs","position","zoomOffset","onClick","options","children"].reduce((function(r,n){switch(n){case"map":case"type":case"srs":case"position":case"zoomOffset":case"onClick":case"children":return r&&t.props[n]===e[n];case"options":return r&&(t.props[n]===e[n]||h(i(i({},t.props[n]),{},{loading:!1}),i(i({},e[n]),{},{loading:!1})));default:return r}}),!0)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.removeLayer(),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?y.Children.map(this.props.children,(function(r){return r?y.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName,onClick:e.props.onClick,options:e.props.options||{}}):null})):null;return y.createElement(y.Fragment,null,r)}return b.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);f(v,"propTypes",{map:m.object,type:m.string,srs:m.string,options:m.object,position:m.number,zoomOffset:m.number,onCreationError:m.func,onClick:m.func,securityToken:m.string}),f(v,"defaultProps",{onCreationError:function(){},options:{}}),e.exports=v},"./MapStore2/web/client/components/map/leaflet/Locate.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./MapStore2/web/client/libs/leaflet.js"),y=r("./node_modules/object-assign/index.js");r("./node_modules/leaflet.locatecontrol/src/L.Control.Locate.js"),r("./node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css");var b={follow:!0,remainActive:!0,stopFollowingOnDrag:!0,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:1/0,watch:!0}};m.Control.MSLocate=m.Control.Locate.extend({setMap:function(e){this._map=e,this._layer=this.options.layer||new m.LayerGroup,this._layer.addTo(e),this._event=void 0,this._prevBounds=null;var t={};m.extend(t,this.options.markerStyle,this.options.followMarkerStyle),this.options.followMarkerStyle=t,t={},m.extend(t,this.options.circleStyle,this.options.followCircleStyle),this.options.followCircleStyle=t,this._resetVariables(),this._map.on("unload",this._unload,this)},_setClasses:function(e){return this._map.fire("locatestatus",{state:e}),e},_updateContainerStyle:function(){this._isFollowing()?this._setClasses("following"):this._active&&this._setClasses("active")},_cleanClasses:function(){return null},setStrings:function(e){this.options.strings=y({},this.options.strings,e)}});var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),p(c(e),"locateControlState",(function(t){"requesting"===t.state&&"LOCATING"!==e.props.status?e.props.changeLocateState("LOCATING"):"following"!==t.state||e.fol?"active"===t.state&&"ENABLED"!==e.props.status&&e.props.changeLocateState("ENABLED"):e.props.changeLocateState("FOLLOWING")})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.props.map&&(this.locate=new m.Control.MSLocate(b),this.locate.setMap(this.props.map),this.props.map.on("locatestatus",this.locateControlState),this.locate.options.onLocationError=this.onLocationError,this.locate.options.onLocationOutsideMapBounds=this.onLocationError),this.props.status.enabled&&this.locate.start()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fol=!1,e.status!==this.props.status&&("ENABLED"!==e.status||this.locate._active?"FOLLOWING"===e.status&&this.locate._active&&!this.locate._following?(this.fol=!0,this.locate.stop(),this.locate.start()):"DISABLED"===e.status&&(this.locate._following=!1,this.locate.stop()):this.locate.start()),e.messages!==this.props.messages&&(this.locate.setStrings(e.messages),"DISABLED"!==e.status&&this.locate.drawMarker(this.locate._map))}},{key:"render",value:function(){return null}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(g,"displayName","Locate"),p(g,"propTypes",{map:d.object,status:d.string,messages:d.object,changeLocateState:d.func,onLocateError:d.func}),p(g,"defaultProps",{id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}}),e.exports=g},"./MapStore2/web/client/components/map/leaflet/Map.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./MapStore2/web/client/libs/leaflet.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./MapStore2/web/client/utils/ConfigUtils.js"),b=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),g=r("./node_modules/object-assign/index.js"),h=r("./MapStore2/web/client/utils/MapUtils.js"),v=r("./node_modules/rxjs/Rx.js"),S=r("./MapStore2/node_modules/lodash/lodash.js").throttle;r("./MapStore2/web/client/components/map/leaflet/SingleClick.js");var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{}),p(c(e),"getDocument",(function(){return e.props.document||document})),p(c(e),"getResolutions",(function(){return e.props.resolutions})),p(c(e),"_updateMapPositionFromNewProps",(function(t){var r=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0},n=t.center,o=e.props.center,i=e.map.getCenter(),a=r(n.x,o.x)&&r(n.y,o.y)||r(n.x,i.lng)&&r(n.y,i.lat),s=t.zoom,l=e.props.zoom,c=e.map.getZoom(),u=s===l||s===c;a||u?u?a||e.map.setView([t.center.y,t.center.x]):e.map.setZoom(t.zoom):e.map.setView([t.center.y,t.center.x],Math.round(t.zoom))})),p(c(e),"updateMapInfoState",(function(){var t=e.map.getBounds().toBBoxString().split(","),r={height:e.map.getSize().y,width:e.map.getSize().x},n=e.map.getCenter();e.props.onMapViewChanges({x:n.lng,y:n.lat,crs:"EPSG:4326"},e.map.getZoom(),{bounds:{minx:parseFloat(t[0]),miny:parseFloat(t[1]),maxx:parseFloat(t[2]),maxy:parseFloat(t[3])},crs:"EPSG:4326",rotation:0},r,e.props.id,e.props.projection)})),p(c(e),"setMousePointer",(function(t){e.map&&(e.map.getContainer().style.cursor=t||"auto")})),p(c(e),"mouseMoveEvent",(function(t){var r=t.latlng.wrap();e.props.onMouseMove({x:r.lng||0,y:r.lat||0,z:e.elevationLayer&&e.elevationLayer.getElevation(r,t.containerPoint)||void 0,crs:"EPSG:4326",pixel:{x:t.containerPoint.x,y:t.containerPoint.x},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng]})})),p(c(e),"registerHooks",(function(){e.props.hookRegister.registerHook(h.EXTENT_TO_ZOOM_HOOK,(function(t){var r=b.reproject([t[0],t[1]],e.props.projection,"EPSG:4326"),n=b.reproject([t[2],t[3]],e.props.projection,"EPSG:4326");return e.map.getBoundsZoom([[r.y,r.x],[n.y,n.x]])-1})),e.props.hookRegister.registerHook(h.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(h.COMPUTE_BBOX_HOOK,(function(t,r){var n=d.latLng([t.y,t.x]),o=e.map._getNewPixelOrigin(n,r),i=new d.Bounds(o,o.add(e.map.getSize())),a=e.map.unproject(i.getBottomLeft(),r),s=e.map.unproject(i.getTopRight(),r),l=new d.LatLngBounds(a,s).toBBoxString().split(",");return{bounds:{minx:parseFloat(l[0]),miny:parseFloat(l[1]),maxx:parseFloat(l[2]),maxy:parseFloat(l[3])},crs:"EPSG:4326",rotation:0}})),e.props.hookRegister.registerHook(h.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){var r=b.reproject(t,e.props.projection,"EPSG:4326"),n=e.map.latLngToContainerPoint([r.y,r.x]);return[n.x,n.y]})),e.props.hookRegister.registerHook(h.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){var r=e.map.containerPointToLatLng(t),n=b.reproject([r.lng,r.lat],"EPSG:4326",e.props.projection);return[n.x,n.y]})),e.props.hookRegister.registerHook(h.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.padding,o=r.crs,i=r.maxZoom,a=r.duration,s=n&&d.point(n.left||0,n.top||0),l=n&&d.point(n.right||0,n.bottom||0),c=b.reprojectBbox(t,o,"EPSG:4326");e.map.fitBounds([[c[1],c[0]],[c[3],c[2]]],{paddingTopLeft:s,paddingBottomRight:l,maxZoom:i,duration:a,animate:0!==a&&void 0})}))})),p(c(e),"addLayerObservable",(function(t,r){!t.layer.layerId||t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&r&&(t.layer._ms2LoadingTileCount=0,t.layer.layerLoadingStream$=new v.Subject,t.layer.layerLoadStream$=new v.Subject,t.layer.layerErrorStream$=new v.Subject,t.layer.layerErrorStream$.bufferToggle(t.layer.layerLoadingStream$,(function(){return t.layer.layerLoadStream$})).subscribe({next:function(r){var n=t.layer._ms2LoadingTileCount||r&&r.length||0;r&&r.length>0&&e.props.onLayerError(r[0].target.layerId,n,r.length),t.layer._ms2LoadingTileCount=0}}))})),e}return t=u,(r=[{key:"UNSAFE_componentWillMount",value:function(){if(this.zoomOffset=0,this.props.mapOptions&&this.props.mapOptions.view&&this.props.mapOptions.view.resolutions&&this.props.mapOptions.view.resolutions.length>0){var e=d.CRS.EPSG3857.scale,t=this.props.mapOptions.view.resolutions[0]/h.getGoogleMercatorResolutions(0,23)[0];this.crs=g({},d.CRS.EPSG3857,{scale:function(r){return e.call(d.CRS.EPSG3857,r)/Math.pow(2,Math.round(Math.log2(t)))}}),this.zoomOffset=Math.round(Math.log2(t))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.limits,r=void 0===t?{}:t,n=r.restrictedExtent&&r.crs&&b.reprojectBbox(r.restrictedExtent,r.crs,"EPSG:4326"),o=g({},this.props.interactive?{}:{dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,attributionControl:!1,maxBounds:n&&d.latLngBounds([[n[1],n[0]],[n[3],n[2]]]),maxBoundsViscosity:n&&1,minZoom:r&&r.minZoom,maxZoom:r&&r.maxZoom||23},this.props.mapOptions,this.crs?{crs:this.crs}:{}),i=d.map(this.getDocument().getElementById(this.props.id),g({zoomControl:!1},o)).setView([this.props.center.y,this.props.center.x],Math.round(this.props.zoom));this.map=i,this.props.zoomControl&&(this.mapZoomControl=d.control.zoom(),this.map.addControl(this.mapZoomControl)),this.attribution=d.control.attribution(),this.attribution.addTo(this.map);var a=this.getDocument();this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&(a.querySelector(this.props.mapOptions.attribution.container).appendChild(this.attribution.getContainer()),a.querySelector(".leaflet-control-container .leaflet-control-attribution")&&a.querySelector(".leaflet-control-container .leaflet-control-attribution").parentNode.removeChild(a.querySelector(".leaflet-control-container .leaflet-control-attribution"))),this.map.on("moveend",this.updateMapInfoState),this.map.on("singleclick",(function(t){e.props.onClick&&e.props.onClick({pixel:{x:t.containerPoint.x,y:t.containerPoint.y},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng],modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,shift:t.originalEvent.shiftKey}})}));var s=S(this.mouseMoveEvent,100);this.map.on("dragstart",(function(){e.map.off("mousemove",s)})),this.map.on("dragend",(function(){e.map.on("mousemove",s)})),this.map.on("mousemove",s),this.map.on("contextmenu",(function(){e.props.onRightClick&&e.props.onRightClick(event.containerPoint)})),this.map.on("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.map.on("layeradd",(function(t){if(t.layer._ms2Added){var r=t.layer.layerLoadingStream$&&t.layer.layerLoadingStream$.isStopped;e.addLayerObservable(t,r)}else t.layer._ms2Added=!0,t.layer.getElevation&&(e.elevationLayer=t.layer),t.layer.layerId&&(t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&(e.addLayerObservable(t,!0),t.layer.options&&t.layer.options.hideLoading||(e.props.onLayerLoading(t.layer.layerId),t.layer.layerLoadingStream$.next()),t.layer.on("loading",(function(r){e.props.onLayerLoading(r.target.layerId),t.layer.layerLoadingStream$.next()})),t.layer.on("load",(function(r){e.props.onLayerLoad(r.target.layerId),t.layer.layerLoadStream$.next()})),t.layer.on("tileloadstart ",(function(){t.layer._ms2LoadingTileCount++})),(t.layer.options&&!t.layer.options.hideErrors||!t.layer.options)&&t.layer.on("tileerror",(function(e){t.layer.layerErrorStream$.next(e)})),t.layer.on("loaderror",(function(t){e.props.onLayerError(t.target.layerId)}))))})),this.map.on("layerremove",(function(e){e.layer.layerLoadingStream$&&(e.layer.layerLoadingStream$.complete(),e.layer.layerLoadStream$.complete(),e.layer.layerErrorStream$.complete())})),this.drawControl=null,this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),this.map&&e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?(this.mapZoomControl=d.control.zoom(),this.map.addControl(this.mapZoomControl)):this.mapZoomControl&&!e.zoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0)),e.resize!==this.props.resize&&setTimeout((function(){t.map&&t.map.invalidateSize(!1)}),0),this.props.limits!==e.limits){var r=e.limits,n=void 0===r?{}:r,o=this.props.limits;if(n.restrictedExtent!==(o&&o.restrictedExtent)){var i=n.restrictedExtent&&n.crs&&b.reprojectBbox(n.restrictedExtent,n.crs,"EPSG:4326");this.map.setMaxBounds(n.restrictedExtent&&d.latLngBounds([[i[1],i[0]],[i[3],i[2]]]))}n.minZoom!==(o&&o.minZoom)&&this.map.setMinZoom(n.minZoom)}return!1}},{key:"componentWillUnmount",value:function(){var e=this.getDocument(),t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&e.querySelector(this.props.mapOptions.attribution.container);if(t&&this.attribution.getContainer()&&t.querySelector(".leaflet-control-attribution"))try{t.removeChild(this.attribution.getContainer())}catch(e){}this.mapZoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0),this.map.off(),this.map.remove(),this.map=void 0}},{key:"render",value:function(){var e=this,t=this.map,r=this.props.projection,n=t?m.Children.map(this.props.children,(function(n){return n?m.cloneElement(n,{map:t,projection:r,zoomOffset:e.zoomOffset,onCreationError:e.props.onCreationError,onClick:e.props.onClick}):null})):null;return m.createElement("div",{id:this.props.id,style:this.props.style},n)}}])&&i(t.prototype,r),n&&i(t,n),u}(m.Component);p(w,"propTypes",{id:f.string,document:f.object,center:y.PropTypes.center,zoom:f.number.isRequired,mapStateSource:y.PropTypes.mapStateSource,style:f.object,projection:f.string,onMapViewChanges:f.func,onClick:f.func,onRightClick:f.func,mapOptions:f.object,limits:f.object,zoomControl:f.bool,mousePointer:f.string,onMouseMove:f.func,onLayerLoading:f.func,onLayerLoad:f.func,onLayerError:f.func,resize:f.number,measurement:f.object,changeMeasurementState:f.func,registerHooks:f.bool,interactive:f.bool,resolutions:f.array,hookRegister:f.object,onCreationError:f.func,onMouseOut:f.func}),p(w,"defaultProps",{id:"map",onMapViewChanges:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},zoomControl:!0,mapOptions:{zoomAnimation:!0,attributionControl:!1},projection:"EPSG:3857",center:{x:13,y:45,crs:"EPSG:4326"},zoom:5,onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:h,style:{},interactive:!0,resolutions:h.getGoogleMercatorResolutions(0,23),onMouseOut:function(){}}),e.exports=w},"./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/prop-types/index.js"),g=r("./node_modules/react/index.js"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/libs/leaflet.js"),S=r("./MapStore2/node_modules/lodash/lodash.js").slice,w=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),O=w.reproject,j=w.calculateAzimuth,E=w.calculateDistance,x=w.transformLineToArcs,P=r("./MapStore2/web/client/utils/MeasureUtils.js"),T=P.convertUom,M=P.getFormattedBearingValue;r("./node_modules/leaflet-draw/dist/leaflet.draw.js");var A={km:2,ha:2,m:2,mi:2,ac:2,yd:0,ft:0,nm:2,sqkm:2,sqha:2,sqm:2,sqmi:2,sqac:2,sqyd:2,sqft:2,sqnm:2};v.getMeasureWithTreshold=function(e,t,r,n,o,i,a){return e>t?v.GeometryUtil.formattedNumber(T(e,r,n),o[n])+" "+a:v.GeometryUtil.formattedNumber(e,o[r])+" "+i};var C=v.GeometryUtil.readableDistance;v.GeometryUtil.readableDistance=function(e,t,r,n,o,i){if(!i)return C.apply(null,arguments);if("Bearing"===i.geomType)return i.bearing;var a=v.Util.extend({},A,o),s=i.uom.length,l=s.unit,c=s.label,u=v.GeometryUtil.formattedNumber(T(e,"m",l),a[l])+" "+c;return i.useTreshold&&(t&&(u=v.getMeasureWithTreshold(e,1e3,"m","km",a,"m","km")),"mi"===l&&(u=v.getMeasureWithTreshold(T(e,"m","yd"),1760,"yd","mi",a,"yd","mi"))),u};var _=v.GeometryUtil.readableArea;v.GeometryUtil.readableArea=function(e,t,r,n){if(!n)return _.apply(null,arguments);var o=n.uom.area,i=o.unit,a=o.label,s=v.Util.extend({},A,r),l=v.GeometryUtil.formattedNumber(T(e,"sqm",i),s[i])+" "+a;return n.useTreshold&&(t&&(l=v.getMeasureWithTreshold(e,1e6,"sqm","sqkm",s,"m","km")),"sqmi"===i&&(l=v.getMeasureWithTreshold(T(e,"sqm","sqyd"),3097600,"sqyd","sqmi",s,"yd","mi"))),l};var I=v.Draw.Polygon.prototype._getMeasurementString;v.Draw.Polygon.prototype._getMeasurementString=function(){if(!this.options.uom)return I.apply(this,arguments);var e=this._area,t="";if(!e&&!this.options.showLength)return null;if(this.options.showLength&&(t=v.Draw.Polyline.prototype._getMeasurementString.call(this)),e){var r={uom:this.options.uom,useTreshold:this.options.useTreshold};t+=this.options.showLength?"<br>":""+v.GeometryUtil.readableArea(e,this.options.metric,this.options.precision,r)}return t};var R=v.Draw.Polyline.prototype._getMeasurementString;v.Draw.Polyline.prototype._getMeasurementString=function(){if(!this.options.uom)return R.apply(this,arguments);var e,t=this._currentLatLng,r=this._markers[this._markers.length-1].getLatLng();e=v.GeometryUtil.isVersion07x()?r&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(r)*(this.options.factor||1):this._measurementRunningTotal||0:r&&t?this._measurementRunningTotal+this._map.distance(t,r)*(this.options.factor||1):this._measurementRunningTotal||0;var n={uom:this.options.uom,useTreshold:this.options.useTreshold,geomType:this.options.geomType,bearing:this.options.bearing?M(this.options.bearing,this.options.trueBearing):0};return v.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision,n)};var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,r,n,o=p(s);function s(){var e;l(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=o.call.apply(o,[this].concat(r))),"onDrawStart",(function(){e.props.map.off("click",e.restartDrawing,f(e)),e.removeArcLayer(),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawing=!0})),y(f(e),"onDrawCreated",(function(t){e.drawing=!1,e.props.map.addLayer(t.layer),e.lastLayer=t.layer;var r=e.lastLayer&&e.lastLayer.toGeoJSON()||{};if("LineString"===e.props.measurement.geomType&&(r=h({},r,{geometry:h({},r.geometry,{coordinates:x(r.geometry.coordinates)})})),"Point"===e.props.measurement.geomType){var n=e.drawControl._marker.getLatLng(),o={x:n.lng,y:n.lat,srs:"EPSG:4326"},i=h({},e.props.measurement,{point:o,feature:r});e.props.changeMeasurementState(i)}else{var a=h({},e.props.measurement,{feature:r});e.props.changeMeasurementState(a)}e.props.measurement.lineMeasureEnabled&&e.lastLayer&&e.addArcsToMap([r]),setTimeout((function(){e.props.map.off("click",e.restartDrawing,f(e)),e.props.map.on("click",e.restartDrawing,f(e))}),100)})),y(f(e),"onDrawVertex",(function(){var t=e.drawControl._markers||[];"Bearing"===e.props.measurement.geomType&&t.length>=2?setTimeout((function(){e.drawControl._markers=S(e.drawControl._markers,0,2),e.drawControl._poly._latlngs=S(e.drawControl._poly._latlngs,0,2),e.drawControl._poly._originalPoints=S(e.drawControl._poly._originalPoints,0,2),e.updateMeasurementResults(),e.drawControl._finishShape(),e.drawControl.disable()}),100):e.updateMeasurementResults()})),y(f(e),"addArcsToMap",(function(t){e.removeLastLayer();var r=t.map((function(e){return h({},e,{geometry:h({},e.geometry,{coordinates:x(e.geometry.coordinates)})})}));e.arcLayer=v.geoJson(r,{style:{color:"#ffcc33",opacity:1,weight:1,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}),e.props.map.addLayer(e.arcLayer),r&&r.length>0&&e.arcLayer.addData(r)})),y(f(e),"updateMeasurementResults",(function(){if(e.drawing&&e.drawControl){var t=0,r=0,n=0,o=e.drawControl._currentLatLng;if("LineString"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>1){var i=e.drawControl._markers.reduce((function(e,t){var r=t.getLatLng(),n=r.lng,o=r.lat;return[].concat(a(e),[[n,o]])}),[]);t=E(i,e.props.measurement.lengthFormula)}else if("Polygon"===e.props.measurement.geomType&&e.drawControl._poly){var s=[].concat(a(e.drawControl._poly.getLatLngs()),[o]);r=v.GeometryUtil.geodesicArea(s)}else"Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0&&(n=e.calculateBearing());var l=h({},e.props.measurement,{point:null,len:t,area:r,bearing:n});e.props.changeMeasurementState(l)}})),y(f(e),"restartDrawing",(function(){e.props.map.off("click",e.restartDrawing,f(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable(),e.props.map.removeLayer(e.lastLayer),e.drawControl.enable(),e.drawing=!0})),y(f(e),"addDrawInteraction",(function(t){if(e.removeDrawInteraction(),e.props.map.on("draw:created",e.onDrawCreated,f(e)),e.props.map.on("draw:drawstart",e.onDrawStart,f(e)),e.props.map.on("draw:drawvertex",e.onDrawVertex,f(e)),e.props.map.on("mousemove",e.updateBearing,f(e)),e.props.updateOnMouseMove&&e.props.map.on("mousemove",e.updateMeasurementResults,f(e)),"Point"===t.measurement.geomType)e.drawControl=new v.Draw.Marker(e.props.map,{repeatMode:!1});else if("LineString"===t.measurement.geomType||"Bearing"===t.measurement.geomType){var r=e.uomLengthOptions(t);e.drawControl=new v.Draw.Polyline(e.props.map,i(i({shapeOptions:{color:"#ffcc33",weight:2},showLength:!0,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},r),{},{repeatMode:!1,icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),trueBearing:t.measurement.trueBearing}))}else if("Polygon"===t.measurement.geomType){var n=e.uomAreaOptions(t);e.drawControl=new v.Draw.Polygon(e.props.map,i(i({shapeOptions:{color:"#ffcc33",weight:2,fill:"rgba(255, 255, 255, 0.2)"},showArea:!0,allowIntersection:!1,showLength:!1,repeatMode:!1,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},n),{},{icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}e.drawControl.enable()})),y(f(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.drawControl.disable(),e.drawControl=null,e.removeLastLayer(),e.removeArcLayer(),e.props.map.off("draw:created",e.onDrawCreated,f(e)),e.props.map.off("draw:drawstart",e.onDrawStart,f(e)),e.props.map.off("draw:drawvertex",e.onDrawVertex,f(e)),e.props.map.off("mousemove",e.updateBearing,f(e)),e.props.map.off("click",e.restartDrawing,f(e)),e.props.updateOnMouseMove&&e.props.map.off("mousemove",e.updateMeasurementResults,f(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),y(f(e),"removeLastLayer",(function(){e.lastLayer&&e.props.map.removeLayer(e.lastLayer)})),y(f(e),"removeArcLayer",(function(){e.arcLayer&&e.props.map.removeLayer(e.arcLayer)})),y(f(e),"uomLengthOptions",(function(e){var t=e.uom.length.unit;return{metric:"m"===t||"km"===t,nautic:"nm"===t,feet:"ft"===t}})),y(f(e),"uomAreaOptions",(function(e){var t=e.uom.area.unit;return{metric:"sqm"===t||"sqkm"===t,nautic:"sqnm"===t,feet:"sqft"===t}})),y(f(e),"calculateBearing",(function(){var t,r=e.drawControl._currentLatLng,n=e.drawControl._markers,o=[n[0].getLatLng().lng,n[0].getLatLng().lat];return 1===n.length?t=[r.lng,r.lat]:2===n.length&&(t=[n[1].getLatLng().lng,n[1].getLatLng().lat]),o=O(o,"EPSG:4326",e.props.projection),t=O(t,"EPSG:4326",e.props.projection),j(o,t,e.props.projection)})),y(f(e),"updateBearing",(function(){if("Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0){var t=e.props.measurement&&e.props.measurement.trueBearing;e.drawControl.setOptions({bearing:e.calculateBearing(),trueBearing:t})}})),e}return t=s,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if((e&&e.uom&&e.uom.length&&e.uom.length.unit)!==(this.props&&this.props.uom&&this.props.uom.length&&this.props.uom.length.unit)&&this.drawControl){var t=this.uomLengthOptions(e);this.drawControl.setOptions(i(i({},t),{},{uom:e.uom}))}if((e&&e.uom&&e.uom.area&&e.uom.area.unit)!==(this.props&&this.props.uom&&this.props.uom.area&&this.props.uom.area.unit)&&this.drawControl){var r=this.uomAreaOptions(e);this.drawControl.setOptions(i(i({},r),{},{uom:e.uom}))}(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&this.props.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&this.addDrawInteraction(e),e.measurement.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){var e=this.props.messages||!!this.context.messages&&this.context.messages.drawLocal;return e&&(v.drawLocal=e),null}}])&&c(t.prototype,r),n&&c(t,n),s}(g.Component);y(L,"displayName","MeasurementSupport"),y(L,"propTypes",{map:b.object,metric:b.bool,feet:b.bool,nautic:b.bool,enabled:b.bool,useTreshold:b.bool,projection:b.string,measurement:b.object,changeMeasurementState:b.func,messages:b.object,uom:b.object,updateOnMouseMove:b.bool}),y(L,"contextTypes",{messages:b.object}),y(L,"defaultProps",{uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m"}},updateOnMouseMove:!1,metric:!0,nautic:!1,useTreshold:!1,feet:!1}),e.exports=L},"./MapStore2/web/client/components/map/leaflet/Overview.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/leaflet-minimap/dist/Control.MiniMap.min.js"),m=r("./MapStore2/web/client/libs/leaflet.js"),y=r("./MapStore2/web/client/utils/leaflet/Layers.js"),b=r("./node_modules/object-assign/index.js");r("./MapStore2/web/client/components/map/leaflet/overview.css");var g={position:"bottomright",width:300,height:150,collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,zoomLevelFixed:null,zoomAnimation:!1,toggleDisplay:!0,autoToggleDisplay:!1,minimized:!0},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){var e=b({},g,this.props.overviewOpt);if(this.props.layers){var t=[];this.props.layers.forEach((function(e){t.push(y.createLayer(e.type,e.options||{}))})),1===t.length?this.overview=new f(t[0],e):t.length>1&&(this.overview=new f(m.layerGroup(t),e))}this.props.map&&this.overview&&this.overview.addTo(this.props.map)}},{key:"render",value:function(){return null}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(h,"displayName","Overview"),u(h,"propTypes",{map:p.object,overviewOpt:p.object,layers:p.array}),u(h,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]}),e.exports=h},"./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return T}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-dom/index.js"),a=r.n(i),s=r("./node_modules/prop-types/index.js"),l=r.n(s),c=r("./MapStore2/web/client/libs/leaflet.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/isString.js"),d=r.n(p),f=r("./MapStore2/web/client/utils/PopupUtils.js"),m=r("./MapStore2/web/client/components/map/popups/index.js");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e,t){var r=new MutationObserver((function(){e.update()}));e.once("remove",(function(){r&&r.disconnect(),r=null})),r.observe(t,{attributes:!0,childList:!0,subtree:!0})},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e);var t,r,n,i=w(s);function s(){var e;h(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(j(e=i.call.apply(i,[this].concat(r))),"updatePopup",(function(){(e._popups||[]).map((function(e){return e.popup.update()}))})),x(j(e),"popupClose",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.target,n=(r=void 0===r?{}:r).options,o=(n=void 0===n?{}:n).id;o&&e.props.onPopupClose(o)})),x(j(e),"preparePopups",(function(){var t=e.props,r=t.popups,n=void 0===r?[]:r,o=t.map,i=e.props.map.getSize();return(e._popups||[]).forEach((function(t){var r=t.popup;r.off("remove",e.popupClose),r&&e.props.map.removeLayer(r)})),e._popups=n.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=.9*i.x,n=.9*i.y,a=t.id,s=t.position.coordinates,l=t.component,c=t.content,p=t.className,d=t.maxWidth,m=void 0===d?r:d,y=t.maxHeight,b=void 0===y?n:y,h=t.autoPan,v=void 0===h||h,S=t.offset,w=void 0===S?[0,7]:S,O=m>r?r:m,j=b>n?n:b,E=f.b(a,p);E.setAttribute("style","max-width: ".concat(O,"px; max-height: ").concat(j,"px")),f.a(E,c);var x=u.a.popup({id:a,autoClose:!1,closeOnClick:!1,autoPan:v,autoPanPadding:u.a.point(70,70),maxWidth:O,maxHeight:j,className:"ms-leaflet-popup",offset:w}).setContent(E);return x.once("remove",e.popupClose),l&&P(x,E),x.setLatLng(s),o.addLayer(x),g({popup:x},t)})),e._popups})),x(j(e),"stopPropagationOnMouseMove",(function(e){e.stopPropagation()})),x(j(e),"fireMouseOutEvent",(function(){e.props.map.fireEvent("mouseout")})),e}return t=s,(r=[{key:"componentWillMount",value:function(){this.props.map&&(this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"componentDidMount",value:function(){this.props.map&&this.props.map.on("resize",this.updatePopup)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){var e=this;(this._popups||[]).forEach((function(t){var r,n,o=t.popup;o.off("remove",e.popupClose),o&&(null===(r=e.props.map)||void 0===r||null===(n=r.removeLayer)||void 0===n||n.call(r,o))})),this.props.map&&(this.props.map.off("resize",this.updatePopup),this.props.map.getContainer().removeEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().removeEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"renderPopups",value:function(){return this.preparePopups().filter((function(e){return!!e.component})).map((function(e){var t=e.popup,r=e.props,n=void 0===r?{}:r,i=e.component,s=e.id,l=t.getContent(),c=d()(i)&&m.default[i]||i,u=o.a.isValidElement(c)&&c||o.a.createElement(c,n);return l?a.a.createPortal(u,l,s):null}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&v(t.prototype,r),n&&v(t,n),s}(o.a.Component);x(T,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),x(T,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./MapStore2/web/client/libs/leaflet.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){if(this.scalebar=f.control.scale(this.props),this.props.map&&(this.scalebar.addTo(this.props.map),this.props.container)){document.querySelector(this.props.container).appendChild(this.scalebar.getContainer());var e=document.querySelector(".leaflet-control-container .leaflet-control-scale-line");e&&e.parentNode&&e.parentNode.removeChild(e)}}},{key:"componentWillUnmount",value:function(){if(this.props.container&&this.scalebar&&this.scalebar.getContainer())try{document.querySelector(this.props.container).removeChild(this.scalebar.getContainer())}catch(e){}}},{key:"render",value:function(){return null}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(m,"propTypes",{map:p.object,position:p.oneOf(["topleft","topright","bottomleft","bottomright"]),maxWidth:p.number,metric:p.bool,imperial:p.bool,updateWhenIdle:p.bool,container:p.string}),u(m,"defaultProps",{map:null,position:"bottomleft",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1}),e.exports=m},"./MapStore2/web/client/components/map/leaflet/SingleClick.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js");n.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),n.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(e){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,e),this.options.singleClickTimeout||500)},_fireSingleClick:function(e){e.originalEvent._stopped||this.fire("singleclick",n.Util.extend(e,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!==this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},"./MapStore2/web/client/components/map/leaflet/img/toggle.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAH1JREFUOI3t0DEKAjEQheFP8ERWqfUCeg9rL+adbKxkYRFEY7ERhkUhCZb7wyuGYX5ewkIvK6z/ITpjxOHHPtWKrsh4fJEl3GpF29LoI9sHSS6pZjeTnTD0iOayjFevCI7hOKaJZHpObNIsih/b3WiDSzgaS+5lfrY0Wph4A4kFM89VzdVFAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/map/leaflet/img/toggle.svg":function(e,t,r){e.exports=r.p+"toggle.svg"},"./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js"),o=r("./MapStore2/web/client/utils/leaflet/Layers.js");r("./node_modules/leaflet-plugins/layer/tile/Bing.js");var i=r("./node_modules/object-assign/index.js");n.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+n.Util.stamp(this);window[t]=function(r){e.meta=r,window[t]=void 0;var n=document.getElementById(t);return n.parentNode.removeChild(n),r.errorDetails?(e.fire("load",{layer:e}),e.onError(r)):(e.initMetadata(r),null)};var r="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),o=r+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+r,i=document.createElement("script");i.type="text/javascript",i.src=o,i.id=t,document.getElementsByTagName("head")[0].appendChild(i)}},n.BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},o.registerType("bing",{create:function(e){var t=e.apiKey,r={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(r=i({},r,{zoomOffset:e.zoomOffset})),new n.BingLayer(t,r)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},"./MapStore2/web/client/components/map/leaflet/plugins/Commons.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js");e.exports=n.TileLayer.extend({initialize:function(e){n.TileLayer.prototype.initialize.call(this,this.url,e)}})},"./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/web/client/libs/leaflet.js");r("./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js"),n.registerType("google",(function(e){return o.gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},"./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js"),i=r("./node_modules/object-assign/index.js");r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css"),n.registerType("graticule",{create:function(e){var t=i({interval:20,showOriginLabel:!0,redraw:"move"},e);return o?new o(t):null},isValid:function(){return!!o}})},"./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./MapStore2/web/client/utils/leaflet/Layers.js"),a=r("./MapStore2/web/client/libs/mapquest.js");i.registerType("mapquest",{create:function(e){return a?a.mapLayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!a}})},"./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("osm",(function(e){return o.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),i=r("./MapStore2/web/client/libs/leaflet.js"),a=r.n(i);o.a.registerType("tms",(function(e){return a.a.tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),i=r("./MapStore2/web/client/libs/leaflet.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/TileConfigProvider.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o.a.registerType("tileprovider",(function(e){var t=u(s.default.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)),2),r=t[0],n=t[1];return a.a.tileLayer(r,n)}))},"./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").isNil,i=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,r=i.geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,r){return i.circleMarker(r,t.style||e.style)}:null,hideLoading:t});return r.setOpacity=function(e){!function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))}(r,e)},r.on("layeradd",(function(t){var n=t.layer;r.setOpacity(o(r.opacity)?e.opacity:r.opacity,n)})),r}(e);return t.opacity=o(e.opacity)?1:e.opacity,t},update:function(e,t,r){t.opacity!==r.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/libs/leaflet.js"),i=r.n(o),a=r("./MapStore2/web/client/utils/ColorUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/leaflet/Layers.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),d=r("./MapStore2/web/client/api/WFS.js"),f=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t){e.fireEvent("loading");var r=Object(p.optionsToVendorParams)(t),n=function(){e.fireEvent("loadError")};return Object(d.getFeature)(t.url,t.name,b({outputFormat:"application/json",maxFeatures:1e3,srsname:l.a.normalizeSRS("EPSG:4326")},r)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),n(new Error("status code of response:"+t.status))),e})).catch((function(e){n()}))},v=function(e){var t=e||{},r=t.color,n=t.fillColor;return b(b({},m(t,["color","fillColor"])),{},{color:Object(a.colorToRgbaStr)(r,1),fillColor:Object(a.colorToRgbaStr)(n,1)})},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return v(t)},w=function(e,t){var r=S(t);e.setStyle(r),e.options.style=r,e.styleName=t.styleName},O=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=S(e),o=function(t,n){return"marker"===e.styleName?i.a.marker(n,r):i.a.circleMarker(n,r)},a=new i.a.GeoJSON(t,{pointToLayer:o,style:r});return a.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=b({},a.options.style||{}),r=t.fillOpacity,n=void 0===r?1:r,o=t.opacity,i=void 0===o?1:o,s=b(b({},t),{},{opacity:i*e,fillOpacity:n*e});a.setStyle(v(s)),O(a,e)},a.on("layeradd",(function(){w(a,e),a.setOpacity(Object(n.isNil)(a.opacity)?e.opacity:a.opacity)})),a};u.a.registerType("wfs",{create:function(e){var t=j(e);return h(t,e),t.opacity=Object(n.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,r){if(t.opacity!==r.opacity&&(e.opacity=t.opacity),Object(f.needsReload)(r,t)&&h(e,t),Object(n.isEqual)(t.style,r.style)||w(e,t),t.styleName!==r.styleName){var o=e.toGeoJSON().features;return j(t,o)}return null},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/I18N/Message.jsx"),a=r("./MapStore2/web/client/utils/leaflet/Layers.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,c=r("./MapStore2/web/client/utils/leaflet/WMSUtils.js"),u=r("./MapStore2/web/client/libs/leaflet.js"),p=r("./node_modules/object-assign/index.js"),d=r("./MapStore2/node_modules/lodash/lodash.js"),f=d.isArray,m=d.isNil,y=r("./MapStore2/web/client/utils/SecurityUtils.js"),b=r("./MapStore2/web/client/utils/ElevationUtils.js"),g=r("./MapStore2/web/client/utils/LayersUtils.js").creditsToAttribution,h=r("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;r("./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js"),u.NonTiledLayer.WMSCustom=u.NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var r=u.extend({},this.defaultWmsParams);for(var n in t)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=t[n]);this.wmsParams=r,u.setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),u.nonTiledLayer.wmsCustom=function(e,t){return new u.NonTiledLayer.WMSCustom(e,t)},u.TileLayer.MultipleUrlWMS=u.TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=u.extend({},this.defaultWmsParams),n=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&u.Browser.retina?r.width=r.height=2*n:r.width=r.height=n,t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(r[o]=t[o]);this.wmsParams=r,u.setOptions(this,t)},getTileUrl:function(e){var t=this._map,r=this.options.tileSize,n=e.multiplyBy(r),o=n.add([r,r]),i=this._crs.project(t.unproject(n,e.z)),a=this._crs.project(t.unproject(o,e.z)),s=this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[a.y,i.x,i.y,a.x].join(","):[i.x,a.y,a.x,i.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var l=u.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return l+u.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+s},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),u.tileLayer.multipleUrlWMS=function(e,t){return new u.TileLayer.MultipleUrlWMS(e,t)},u.TileLayer.ElevationWMS=u.TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,r){this._tiles={},this._nodata=r,u.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);b.loadTile(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var r=this._getTileFromCoords(e),n=b.getElevation(this._tileCoordsToKey(r),this._getTileRelativePixel(r,t),this.getTileSize().x,this._nodata);return n.available?n.value:o.createElement(i,{msgId:n.message})}catch(e){return o.createElement(i,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return p(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var r=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),n=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new u.Point(r,n)},_removeTile:function(){},_abortLoading:function(){}}),u.tileLayer.elevationWMS=function(e,t,r){return new u.TileLayer.ElevationWMS(e,t,r)};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return m(e[r])?t:p(t,n({},r,e[r]))}),{})};function S(e){var t=void 0!==e.opacity?e.opacity:1,r=l(e),n=p({},e.baseParams,{attribution:e.credits&&g(e.credits),layers:e.name,styles:e.style||"",format:(h(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",SRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},p(e._v_?{_v_:e._v_}:{},r||{}));return y.addAuthenticationToSLD(n,e)}function w(e){return e.map((function(e){return e.split("?")[0]}))}a.registerType("wms",{create:function(e){var t=w(f(e.url)?e.url:[e.url]),r=v(S(e)||{});return t.forEach((function(t){return y.addAuthenticationParameter(t,r,e.securityToken)})),e.useForElevation?u.tileLayer.elevationWMS(t,r,e.nodata||-9999):e.singleTile?u.nonTiledLayer.wmsCustom(t[0],r):u.tileLayer.multipleUrlWMS(t,r)},update:function(e,t,r){if(r.singleTile!==t.singleTile||r.tileSize!==t.tileSize||r.securityToken!==t.securityToken&&t.visibility){var o=w(f(t.url)?t.url:[t.url]),i=S(t)||{};return o.forEach((function(e){return y.addAuthenticationParameter(e,i,t.securityToken)})),t.singleTile?u.nonTiledLayer.wmsCustom(o[0],i):u.tileLayer.multipleUrlWMS(o,i)}var a=p({},c.filterWMSParamOptions(S(r)),y.addAuthenticationToSLD(r.params||{},r)),s=p({},c.filterWMSParamOptions(S(t)),y.addAuthenticationToSLD(t.params||{},t)),l=Object.keys(s).filter((function(e){return s[e]!==a[e]})),d=Object.keys(a).filter((function(e){return a[e]!==s[e]})),m={};return d.length>0&&e.removeParams(d,l.length>0),l.length>0&&(m=l.reduce((function(e,t){return p({},e,n({},t,s[t]))}),m),e.setParams(v(p(m,m.params,y.addAuthenticationToSLD(t.params||{},t))))),null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r.n(n),i=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),a=r.n(i),s=r("./MapStore2/web/client/libs/leaflet.js"),l=r.n(s),c=r("./node_modules/object-assign/index.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/SecurityUtils.js"),d=r.n(p),f=r("./MapStore2/web/client/utils/WMTSUtils.js"),m=r.n(f),y=r("./MapStore2/web/client/utils/leaflet/WMTS.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/lodash.js"),h=r("./MapStore2/web/client/utils/VectorTileUtils.js");l.a.tileLayer.wmts=function(e,t,r){return new b.a(e,t,r)};var v=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(Object(g.isArray)(e.url)?e.url:[e.url]),r=function(e){var t=a.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),r=m.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return u()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:(Object(h.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:r,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:a.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return d.a.addAuthenticationParameter(t,r,e.securityToken)}));var n=a.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=m.a.getTileMatrix(e,n),i=o.tileMatrixSet,s=o.matrixIds;return l.a.tileLayer.wmts(t,r,{tileMatrixPrefix:e.tileMatrixPrefix||r.tileMatrixSet+":"||n+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:i})};o.a.registerType("wmts",{create:v,update:function(e,t,r){return r.securityToken!==t.securityToken||r.format!==t.format?v(t):null}})},"./MapStore2/web/client/components/map/leaflet/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js"),Commons:r("./MapStore2/web/client/components/map/leaflet/plugins/Commons.js"),GraticuleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js"),GoogleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js"),MapQuest:r("./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js"),OSMLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js"),TMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js"),TileProviderLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js"),WFSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx").default,WMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js"),WMTSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js"),VectorLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx")}},"./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return xe}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/concat.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/head.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/find.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/slice.js"),d=r.n(p),f=r("./MapStore2/node_modules/lodash/omit.js"),m=r.n(f),y=r("./MapStore2/node_modules/lodash/isArray.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/last.js"),h=r.n(g),v=r("./MapStore2/node_modules/lodash/filter.js"),S=r.n(v),w=r("./MapStore2/node_modules/lodash/isNil.js"),O=r.n(w),j=r("./MapStore2/node_modules/lodash/castArray.js"),E=r.n(j),x=r("./node_modules/prop-types/index.js"),P=r.n(x),T=r("./node_modules/object-assign/index.js"),M=r.n(T),A=r("./node_modules/uuid/index.js"),C=r.n(A),_=r("./node_modules/axios/index.js"),I=r.n(_),R=r("./MapStore2/web/client/utils/MapUtils.js"),L=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),D=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),k=r("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),N=r("./MapStore2/web/client/utils/AnnotationsUtils.js"),F=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),G=r("./node_modules/ol/format/GeoJSON.js"),U=r("./node_modules/ol/Feature.js"),B=r("./node_modules/ol/source/Vector.js"),z=r("./node_modules/ol/layer/Vector.js"),W=r("./node_modules/ol/interaction/Draw.js"),V=r("./node_modules/ol/geom/MultiPoint.js"),H=r("./node_modules/ol/geom/Polygon.js"),q=r("./node_modules/ol/geom/Point.js"),Y=r("./node_modules/ol/geom/LineString.js"),Z=r("./node_modules/ol/geom/MultiLineString.js"),Q=r("./node_modules/ol/geom/MultiPolygon.js"),K=r("./node_modules/ol/geom/Circle.js"),X=r("./node_modules/ol/geom/GeometryCollection.js"),J=r("./node_modules/ol/style/Style.js"),$=r("./node_modules/ol/style/Fill.js"),ee=r("./node_modules/ol/style/Stroke.js"),te=r("./node_modules/ol/style/Text.js"),re=r("./node_modules/ol/style/Circle.js"),ne=r("./node_modules/ol/Collection.js"),oe=r("./node_modules/ol/events/condition.js"),ie=r("./node_modules/ol/interaction/DoubleClickZoom.js"),ae=r("./node_modules/ol/interaction/Translate.js"),se=r("./node_modules/ol/interaction/Modify.js"),le=r("./node_modules/ol/interaction/Select.js"),ce=r("./node_modules/ol/Observable.js"),ue=r("./node_modules/ol/extent.js");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Oe(e);if(t){var o=Oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Se(this,r)}}function Se(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?we(e):t}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ee=new G.a,xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(i,e);var t,r,n,o=ve(i);function i(){var e;be(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return je(we(e=o.call.apply(o,[this].concat(r))),"getNewFeature",(function(t,r,n,o){return new U.a({geometry:e.createOLGeometry({type:t,coordinates:r,radius:n,center:o})})})),je(we(e),"getMapCrs",(function(){return e.props.map.getView().getProjection().getCode()})),je(we(e),"updateFeatureStyles",(function(t){t&&t.length>0&&t.forEach((function(t){if(t.style){var r=e.toOlFeature(t);r&&r.setStyle(t.style?Object(F.d)(t):e.toOlStyle(t.style,t.selected))}}))})),je(we(e),"updateOnlyFeatureStyles",(function(t){e.drawLayer&&e.drawLayer.getSource().getFeatures().forEach((function(e){var r=l()(t.features).features||t.features,n=u()(r,(function(t){return t.properties.id===e.getProperties().id}));if(n){var o=Object(D.createStylesAsync)(E()(n.style));I.a.all(o).then((function(t){e.setStyle((function(){return Object(F.e)(ye(ye({},n),{},{style:t}))}))}))}}))})),je(we(e),"addLayer",(function(t,r){var n,o=e.convertGeometryTypeToStyleType(t.drawMethod);n=function(e){var r=l()(t.features)&&u()(l()(t.features).features,(function(t){return t.properties.id===e.getProperties().id}))||null;if(r){var n=Object(D.createStylesAsync)(E()(r.style));return I.a.all(n).then((function(t){e.setStyle((function(){return Object(F.e)(ye(ye({},r),{},{style:t}))}))})),null}return Object(F.e)({style:F.a[o]})},e.geojson=new G.a,e.drawSource=new B.a,e.drawLayer=new z.a({source:e.drawSource,zIndex:1e8,style:n}),e.props.map.addLayer(e.drawLayer),r&&e.addInteractions(t);var i=l()(t.features);if(i&&i.features&&i.features.length){var a=i.features.filter((function(e){return!e.properties.isCircle||e.properties.isCircle&&!e.properties.canEdit||!t.options.drawEnabled}));return e.addFeatures(M()({},t,{features:[ye(ye({},i),{},{features:a})]}))}return e.addFeatures(t)})),je(we(e),"addFeatures",(function(t){var r,n=t.features,o=t.drawMethod,i=t.options,a=e.getMapCrs();if(n.forEach((function(t){if("FeatureCollection"===t.type){var n=(new G.a).readFeatures(t);n=n.map((function(e){return Object(k.a)(e,a)})),e.drawSource=new B.a({features:n}),e.drawLayer.setSource(e.drawSource)}else{var s=null,l=t;l.geometry&&"GeometryCollection"!==l.geometry.type&&(l=Object(L.reprojectGeoJson)(l,l.featureProjection,a).geometry),"GeometryCollection"!==l.type&&("Circle"===o&&l&&(l.properties&&l.properties.center||l.center)?(s=[(s=l.properties&&l.properties.center?Object(L.reproject)(l.properties.center,"EPSG:4326",a):l.center).x,s.y],r=new U.a({geometry:e.createOLGeometry({type:"Circle",center:s,projection:"EPSG:3857",radius:l.properties&&l.properties.radius||l.radius,options:i})})):r=new U.a({geometry:e.createOLGeometry(l.geometry?l.geometry:ye(ye(ye({},l),l.properties),{},{center:s}))}),r.setProperties(t.properties),e.drawSource.addFeature(r))}})),0===n.length&&(i.editEnabled||i.drawEnabled))i.transformToFeatureCollection?(e.drawSource=new B.a({features:(new G.a).readFeatures({type:"FeatureCollection",features:[]})}),e.drawLayer.setSource(e.drawSource)):(r=new U.a({geometry:e.createOLGeometry({type:o,coordinates:null})}),e.drawSource.addFeature(r));else{if(n[0]&&"GeometryCollection"===n[0].type){e.drawSource=new B.a({features:(new G.a).readFeatures(n[0])});var s=e.replacePolygonsWithCircles(e.drawSource.getFeatures()[0]);e.drawSource.getFeatures()[0].getGeometry().setGeometries(s),e.drawLayer.setSource(e.drawSource)}n[0]&&n[0].geometry&&"GeometryCollection"===n[0].geometry.type&&(r=Object(L.reprojectGeoJson)(n[0],i.featureProjection,a).geometry,e.drawSource=new B.a({features:(new G.a).readFeatures(r)}),e.drawSource.getFeatures()[0].set("textGeometriesIndexes",n[0].properties&&n[0].properties.textGeometriesIndexes),e.drawSource.getFeatures()[0].set("textValues",n[0].properties&&n[0].properties.textValues),e.drawSource.getFeatures()[0].set("circles",n[0].properties&&n[0].properties.circles),e.drawLayer.setSource(e.drawSource))}return e.updateFeatureStyles(n),r})),je(we(e),"replaceFeatures",(function(t){var r;return e.drawLayer?(e.drawSource.clear(),r=e.addFeatures(t),t.style&&e.drawLayer.setStyle((function(r){var n=u()(l()(t.features).features,(function(e){return e.properties.id===r.getProperties().id}));if(n){var o=Object(D.createStylesAsync)(E()(n.style));return I.a.all(o).then((function(e){r.setStyle((function(){return Object(F.e)(ye(ye({},n),{},{style:e}))}))})),null}var i=e.convertGeometryTypeToStyleType(t.drawMethod);return Object(F.e)({style:F.a[i]})}))):r=e.addLayer(t,t.options&&t.options.drawEnabled||!1),r})),je(we(e),"endDrawing",(function(t){var r=e.replaceFeatures(t);if(r){var n=e.fromOLFeature(r);"Circle"===t.drawMethod&&t&&t.features&&t.features.length&&t.features[0]&&t.features[0].radius>=0&&(n.radius=t.features[0].radius),e.props.onEndDrawing(n,t.drawOwner)}})),je(we(e),"addDrawInteraction",(function(t,r,n,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new W.a(e.drawPropertiesForGeometryType(t,n,e.drawSource,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(t){var n=t.feature.clone();if(n.set("id",C.a.v1()),"Circle"===e.props.drawMethod&&"Circle"===n.getGeometry().getType()){var o=n.getGeometry().getRadius(),i=n.getGeometry().getCenter();n.setGeometry(e.polygonFromCircle(i,o))}var a=e.fromOLFeature(n,r);e.props.onEndDrawing(a,e.props.drawOwner),e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,e.props.features.concat([a])),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),je(we(e),"toMulti",(function(e){return"Point"===e.getType()?new V.a([e.getCoordinates()]):e})),je(we(e),"handleDrawAndEdit",(function(t,r,n,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new W.a(e.drawPropertiesForGeometryType(Object(R.getSimpleGeomType)(t),n,Object(R.isSimpleGeomType)(t)?e.drawSource:null,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(n){var i=n.feature.clone(),a=C.a.v1();i.set("id",a);var s,c,p,d=i.getGeometry(),f=e.drawLayer.getSource().getFeatures(),m=e.props.features;if(e.props.options.transformToFeatureCollection){var y;if("Circle"===t){p="Polygon";var b=d.getRadius(),g=d.getCenter(),v=e.polygonCoordsFromCircle(g,b);y=e.getNewFeature(p,v),g=Object(L.reproject)(g,e.getMapCrs(),"EPSG:4326",!1);var S=o&&o.features&&o.features.length&&o.features[0]&&o.features[0].features&&o.features[0].features.length&&o.features[0].features.filter((function(e){return e.properties.isDrawing}))[0].properties.id||a;y.setProperties({isCircle:!0,radius:b,center:[g.x,g.y],id:S,crs:e.getMapCrs()})}else if("Polygon"===t){p=e.props.drawMethod;var w=d.getCoordinates();w[0].push(w[0][0]),y=e.getNewFeature(p,w)}else{p="Text"===t?"Point":e.props.drawMethod;var O=d.getCoordinates();y=e.getNewFeature(p,O),"Text"===t&&y.setProperties({isText:!0,valueText:"."})}var j=f.length>=1?de(e.replaceCirclesWithPolygonsInFeatureColl(f)):[];y.getProperties().id||y.setProperties({id:C.a.v1()});var E=[].concat(de(j),[y]),x=Ee.writeFeaturesObject(E),P=new B.a({features:(new G.a).readFeatures(x)});e.drawLayer.setSource(P);var T=Object(L.reprojectGeoJson)(x,e.getMapCrs(),"EPSG:4326");e.props.onGeometryChanged([T],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(T,e.props.drawOwner),e.props.onDrawingFeatures([h()(T.features)])}else{if("Circle"===t){p="Polygon";var A=d.getRadius(),_=d.getCenter(),I=e.polygonCoordsFromCircle(_,A),D=e.toMulti(e.createOLGeometry({type:p,coordinates:I}));if(1===m.length&&m[0]&&!m[0].geometry)s=[],c=new X.default([D]);else if((s=e.toMulti(l()(f).getGeometry())).getGeometries){var k=e.replaceCirclesWithPolygons(l()(f));c=new X.default([].concat(de(k),[D]))}else c=new X.default([s,D]);i.setGeometry(c)}else if("Text"===t||"MultiPoint"===t){var N=d.getCoordinates();p="MultiPoint";var F=e.toMulti(e.createOLGeometry({type:p,coordinates:[N]}));if(1!==m.length||m[0].geometry)if((s=e.toMulti(l()(f).getGeometry())).getGeometries){var U=e.replaceCirclesWithPolygons(l()(f));c=new X.default([].concat(de(U),[F]))}else(c=s.clone()).appendPoint(F.getPoint(0));else s=[],c=F.clone();i.setGeometry(c)}else if(!Object(R.isSimpleGeomType)(t)){var z;c=null,s=1!==m.length||m[0].geometry?e.toMulti(l()(f).getGeometry()):e.toMulti(e.createOLGeometry({type:t,coordinates:null}));var W=f.map((function(e){return"GeometryCollection"===e.getGeometry().getType()?e.getGeometry().getGeometries():e.getGeometry()}));"GeometryCollection"===f[0].getGeometry().getType()&&(W=W[0]);var V=u()(W,(function(e){return e.getType()===t}));if(V?e.appendToMultiGeometry(t,V,d):z=e.toMulti(e.createOLGeometry({type:t,coordinates:d.getCoordinates()})),d.getType()!==Object(R.getSimpleGeomType)(s.getType())){var H=l()(f).getGeometry().getGeometries?e.replaceCirclesWithPolygons(l()(f)):[];if(V){var q=H.map((function(e){return e.getType()===V.getType()?V:e}));c=new X.default(q)}else c="GeometryCollection"===s.getType()?new X.default([].concat(de(H),[z])):"Text"===t?new X.default([z]):new X.default([s,z]);i.setGeometry(c)}else i.setGeometry(V)}var Y=e.props.features[0].properties;"Text"===t&&(Y=M()({},e.props.features[0].properties,{textValues:(e.props.features[0].properties.textValues||[]).concat(["."]),textGeometriesIndexes:(e.props.features[0].properties.textGeometriesIndexes||[]).concat([i.getGeometry().getGeometries().length-1])})),"Circle"===t&&(Y=M()({},Y,{circles:(e.props.features[0].properties.circles||[]).concat([i.getGeometry().getGeometries().length-1])}));var Z=e.fromOLFeature(i,r,Y),Q=new B.a({features:(new G.a).readFeatures(Z)});e.drawLayer.setSource(Q);var K=Object(L.reprojectGeoJson)(Ee.writeFeatureObject(i.clone()),e.getMapCrs(),"EPSG:4326");"Polygon"===K.geometry.type&&K.geometry.coordinates[0].push(K.geometry.coordinates[0][0]),e.props.onGeometryChanged([K],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(Z,e.props.drawOwner),Z=Object(L.reprojectGeoJson)(Z,e.getMapCrs(),"EPSG:4326");var J=Object(R.isSimpleGeomType)(e.props.drawMethod)&&"GeometryCollection"!==e.props.features[0].geometry.type?e.props.features.map((function(t){return ye(ye({},t),{},{featureProjection:e.getMapCrs()})})).concat([ye(ye({},Z),{},{type:"Feature",geometry:{type:Z.type,coordinates:Z.coordinates},featureProjection:e.getMapCrs(),properties:Y})]):[ye(ye({},Z),{},{properties:Y})];e.props.options.stopAfterDrawing?e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,J):e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,J.map((function(t){return Object(L.reprojectGeoJson)(t,"EPSG:4326",e.getMapCrs())})),M()({},e.props.options,{featureProjection:e.getMapCrs()})),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))}})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),je(we(e),"drawPropertiesForGeometryType",(function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={source:e.drawSource||n,type:t,style:"Marker"===t?Object(F.b)(o.style):new J.default({fill:new $.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ee.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new re.default({radius:5,stroke:new ee.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new $.default({color:"rgba(255, 255, 255, 0.2)"})})}),features:new ne.a,condition:oe.c},a={};switch(t){case"BBOX":a.type="LineString",a.maxPoints=2,a.geometryFunction=function(e,t){var r=t;r||(r=new H.b([]));var n=e[0],o=e[1];return r.setCoordinates([[n,[n[0],o[1]],o,[o[0],n[1]],n]]),r};break;case"Circle":a.maxPoints=100,o.options&&o.options.geodesic?a.geometryFunction=function(t,r){var n=r;n||(n=new H.b([])).setProperties({geodesicCenter:de(t[0])},!0);var o=e.props.map.getView().getProjection().getCode(),i=de(t).map((function(t){return e.reprojectCoordinatesToWGS84(t,o)})),a=Object(L.calculateDistance)(i,"haversine"),s=Object(H.a)(i[0],a).clone().transform("EPSG:4326",o).getCoordinates();return n.setCoordinates(s),n}:a.type=t;break;case"Marker":case"Point":case"Text":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":"LineString"===t&&(a.maxPoints=r);var s="Text"===t||"Marker"===t?"Point":t;a.type=s,a.geometryFunction=function(t,r){var n=r;return n||(n=e.createOLGeometry({type:s,coordinates:null,options:o.options})),n.setCoordinates(t),n};break;default:return{}}return M()({},i,a)})),je(we(e),"setDoubleClickZoomEnabled",(function(t){for(var r=e.props.map.getInteractions(),n=0;n<r.getLength();n++){var o=r.item(n);if(o instanceof ie.a){o.setActive(t);break}}})),je(we(e),"updateFeatureExtent",(function(t){var r=t.features.getArray(),n=e.props.features.map((function(t){var n=l()(r.filter((function(r){return e.fromOLFeature(r).id===t.id})));return n?M()({},t,{geometry:n.geometry,center:n.center,extent:n.extent,coordinate:n.coordinates,radius:n.radius}):t}));e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,n)})),je(we(e),"addInteractions",(function(t){e.clean(),e.drawLayer||e.addLayer(t),e.addDrawInteraction(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t),t.options&&t.options.editEnabled&&(e.addSelectInteraction(),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ae.a({features:e.selectInteraction.getFeatures()}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",e.updateFeatureExtent),e.props.map.addInteraction(e.translateInteraction),e.addTranslateListener(),e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction),e.modifyInteraction=new se.a({features:e.selectInteraction.getFeatures(),condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.props.map.addInteraction(e.modifyInteraction)),e.drawSource.clear(),t.features.length>0&&e.addFeatures(t)})),je(we(e),"addSingleClickListener",(function(e,t){return t.map.on("singleclick",e)})),je(we(e),"addDrawOrEditInteractions",(function(t){e.state&&e.state.keySingleClickCallback&&Object(ce.b)(e.state.keySingleClickCallback);e.clean();var r,n=Object(L.reprojectGeoJson)(l()(t.features),t.options.featureProjection,e.getMapCrs())||{};r=n&&n.features&&n.features.length?M()({},t,{features:[n]}):n&&n.properties&&n.properties.isCircle?M()({},t,{features:[]}):M()({},t,{features:n.geometry?[ye(ye({},n.geometry),{},{properties:n.properties})]:[]}),e.drawLayer?(e.drawSource.clear(),e.addFeatures(r)):e.addLayer(r),t.options.editEnabled&&(e.addModifyInteraction(t),!1!==t.options.translateEnabled&&e.addTranslateInteraction(),t.options.addClickCallback&&e.setState({keySingleClickCallback:e.addSingleClickListener((function(r){if(e.drawSource&&t.options){var n,o=e.drawSource.getFeatures(),i=0,a=o&&o.length&&o.filter((function(e,t){return e.getProperties().canEdit&&(i=t),e.getProperties().canEdit}))[0]||null,s=a&&a.getGeometry()&&a.getGeometry().getCoordinates&&a.getGeometry().getCoordinates()||[],l=[],c=t.drawMethod;switch(c){case"Polygon":l=s.length?Object(N.isCompletePolygon)(s)?[(l=(l=d()(s[0],0,s[0].length-1)).concat([r.coordinate])).concat([s[0][0]])]:s[0].length>1?[[].concat(de(s[0]),[r.coordinate,s[0][0]])]:[[].concat(de(s[0]),[r.coordinate])]:[[r.coordinate]],(n=e.getNewFeature(c,l)).setProperties(m()(a&&a.getProperties()||{},"geometry"));break;case"LineString":case"MultiPoint":l=s.length?[].concat(de(s),[r.coordinate]):[r.coordinate],(n=e.getNewFeature(c,l)).setProperties(m()(a&&a.getProperties()||{},"geometry"));break;case"Circle":c="Polygon";var u=a&&a.getProperties()&&a.getProperties().radius||1e4,p=r.coordinate,f=e.polygonCoordsFromCircle(p,u);n=e.getNewFeature(c,f),p=Object(L.reproject)(p,e.getMapCrs(),"EPSG:4326",!1),n.setProperties(m()(a&&a.getProperties()||{},"geometry")),n.setProperties({isCircle:!0,radius:u,center:[p.x,p.y]});break;case"Text":c="Point",(n=e.getNewFeature(c,r.coordinate)).setProperties(m()(a&&a.getProperties()||{},"geometry")),n.setProperties({isText:!0,valueText:a&&a.getProperties()&&a.getProperties().valueText||t.options.defaultTextAnnotation||"New"});break;default:l=r.coordinate,(n=e.getNewFeature(c,l)).setProperties(m()(a&&a.getProperties()||{},"geometry"))}var y={type:"Feature",geometry:{coordinates:de(Object(L.reprojectGeoJson)(Ee.writeFeaturesObject([n.clone()]),e.getMapCrs(),"EPSG:4326").features[0].geometry.coordinates),type:c},properties:ye({},m()(n.getProperties(),"geometry"))};e.props.onDrawingFeatures([y]),n=Object(k.a)(n,e.getMapCrs()),o[i]=n,e.drawSource=new B.a({features:o}),e.drawLayer.setSource(e.drawSource),e.addModifyInteraction(t)}}),t)})),t.options&&t.options.selectEnabled&&e.addSelectInteraction(t.options&&t.options.selected,t),t.options.drawEnabled&&e.handleDrawAndEdit(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t)})),je(we(e),"addSelectInteraction",(function(t,r){var n;if(e.selectInteraction&&e.props.map.removeInteraction(e.selectInteraction),t&&(n=u()(e.drawSource.getFeatures(),(function(e){return e.getProperties().id===t.properties.id})))&&e.selectFeature(n),e.selectInteraction=new le.a({layers:[e.drawLayer],features:new ne.a(t&&n?[n]:null)}),n){var o=e.convertGeometryTypeToStyleType(r.drawMethod);n.setStyle(Object(F.d)(ye(ye({},r),{},{style:ye(ye({},r.style),{},{type:o,highlight:!0,useSelectedStyle:r.options.useSelectedStyle})}),!1,r.features[0]&&r.features[0].properties&&r.features[0].properties.valueText&&[r.features[0].properties.valueText]||[]))}e.selectInteraction.on("select",(function(t){var r=e.selectInteraction.getFeatures().getArray(),n=[];return r.length&&(n=e.props.features.map((function(n){var o;if("FeatureCollection"===n.type&&r.length>0){var i=l()(r);if(e.selectFeature(i),i.getGeometry&&"Circle"===i.getGeometry().getType()){var a=i.getGeometry().getRadius(),s=Object(L.reproject)(i.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326");i.setProperties({center:[s.x,s.y],radius:a}),i=e.replaceCircleWithPolygon(i.clone())}return e.drawSource.getFeatures().forEach((function(t){t.getProperties().id===i.getProperties().id?e.selectFeature(i):e.deselectFeature(t)})),Object(L.reprojectGeoJson)(Ee.writeFeatureObject(i.clone()),e.getMapCrs(),"EPSG:4326")}return o=r.reduce((function(e,t){return t.get("id")===n.id||e}),!1),M()({},n,{selected:o,selectedFeature:t.selected})})),e.props.onSelectFeatures(n)),0===r.length?(e.props.onSelectFeatures([]),e.drawSource.getFeatures().map((function(t){return e.deselectFeature(t)})),null):null})),e.props.map.addInteraction(e.selectInteraction)})),je(we(e),"selectFeature",(function(e){e.setProperties({selected:!0})})),je(we(e),"deselectFeature",(function(e){e.setProperties({selected:!1})})),je(we(e),"removeDrawInteraction",(function(){e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,setTimeout((function(){return e.props.map.enableEventListener("singleclick")}),500),setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),250))})),je(we(e),"removeInteractions",(function(){e.removeDrawInteraction(),e.selectInteraction&&(e.props.map.enableEventListener("singleclick"),e.props.map.removeInteraction(e.selectInteraction)),e.modifyInteraction&&(e.props.map.removeInteraction(e.modifyInteraction),e.props.map.un("singleclick")),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction)})),je(we(e),"clean",(function(t){t||e.removeInteractions(),e.drawLayer&&(e.props.map.removeLayer(e.drawLayer),e.geojson=null,e.drawLayer=null,e.drawSource=null)})),je(we(e),"fromOLFeature",(function(t,r,n){var o=t.getGeometry(),i=e.props.map.getView().getProjection().getCode(),s=o.getType();if(o.getCoordinates){var l,c=o.getExtent(),u=o.getProperties(),p=u&&u.geodesicCenter||Object(ue.x)(c),d=o.getCoordinates();if(r&&(d=a()(r,d),o.setCoordinates(d)),"Circle"===e.props.drawMethod)if(e.props.options.geodesic){var f=[de(p),de(d[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,i)}));l=Object(L.calculateDistance)(f,"haversine")}else l=e.calculateRadius(p,d);return M()({},{id:t.get("id"),type:s,extent:c,center:p,coordinates:d,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}var m=o.getGeometries().map((function(o,s){var l,c=o.getExtent(),u=Object(ue.x)(c),p=o.getCoordinates();if(r&&(p=a()(r,p),o.setCoordinates(p)),n.circles&&-1!==n.circles.indexOf(s))if(e.props.options.geodesic){var d=[de(u),de(p[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,i)}));l=Object(L.calculateDistance)(d,"haversine")}else l=e.calculateRadius(u,p);else l=0;return M()({},{id:t.get("id"),type:o.getType(),extent:c,center:u,coordinates:p,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}));return M()({},{type:"Feature",id:t.get("id"),style:e.fromOlStyle(t.getStyle()),geometry:{type:"GeometryCollection",geometries:m},projection:i})})),je(we(e),"reprojectCoordinatesToWGS84",(function(e,t){var r=Object(L.reproject)(e,t,"EPSG:4326");return[r.x,r.y]})),je(we(e),"toOlFeature",(function(t){return l()(e.drawSource.getFeatures().filter((function(e){return e.get("id")===t.id})))})),je(we(e),"fromOlStyle",(function(t){return t?{fillColor:e.rgbToHex(t.getFill().getColor()),fillTransparency:t.getFill().getColor()[3],strokeColor:t.getStroke().getColor(),strokeWidth:t.getStroke().getWidth(),text:t.getText().getText()}:{}})),je(we(e),"toOlStyle",(function(t,r,n){var o=t&&t.fillColor?t.fillColor:[255,255,255,.2];"string"==typeof o&&(o=e.hexToRgb(o).concat([t.fillOpacity>=0&&t.fillOpacity<=1?t.fillOpacity:1])),t&&t.fillTransparency&&(o[3]=t.fillTransparency);var i=t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#ffcc33";r&&(i="#4a90e2"),i=e.hexToRgb(i).concat([t&&t.opacity||1]);var a=new J.default({fill:new $.default({color:o}),stroke:new ee.default({color:i,width:t&&(t.strokeWidth||t.weight)?t.strokeWidth||t.weight:2}),text:new te.default({text:t&&t.text?t.text:"",fill:new $.default({color:t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#000"}),stroke:new ee.default({color:"#fff",width:2}),font:t&&t.fontSize?t.fontSize+"px helvetica":""})});return"GeometryCollection"===n?[].concat(de(Object(F.c)({style:{iconGlyph:"comment",iconShape:"square",iconColor:"blue"}})),[a]):t&&(t.iconUrl||t.iconGlyph)?Object(F.c)({style:t}):a})),je(we(e),"hexToRgb",(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n})));return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null})),je(we(e),"componentToHex",(function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})),je(we(e),"rgbToHex",(function(t){return"#"+e.componentToHex(t[0])+e.componentToHex(t[1])+e.componentToHex(t[2])})),je(we(e),"addModifyInteraction",(function(t){e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction);var r=t&&t.options&&t.options.editFilter;e.modifyFeatureColl=new ne.a(S()(e.drawLayer.getSource().getFeatures(),r)),e.modifyInteraction=new se.a({features:e.modifyFeatureColl,condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.modifyInteraction.on("modifyend",(function(t){var r=t.features.getArray().map((function(t){var r=t.clone();if(r.getGeometry&&"GeometryCollection"===r.getGeometry().getType()&&r.getGeometry().setGeometries(e.replaceCirclesWithPolygons(r)),r.getGeometry&&r.getGeometry()&&"Circle"===r.getGeometry().getType()){var n=Object(L.reproject)(r.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=r.getGeometry().getRadius();r.setProperties({center:[n.x,n.y],radius:o}),t.setProperties({center:[n.x,n.y],radius:o}),r=e.replaceCircleWithPolygon(r.clone())}return Object(L.reprojectGeoJson)(Ee.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(r):e.props.onGeometryChanged(r,e.props.drawOwner,!1,"editing","editing")})),e.props.map.addInteraction(e.modifyInteraction)})),je(we(e),"addTranslateInteraction",(function(){e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ae.a({features:new ne.a(e.drawLayer.getSource().getFeatures())}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",(function(t){var r=t.features.getArray().map((function(t){var r=t.clone();if(r.getGeometry&&"GeometryCollection"===r.getGeometry().getType()&&r.getGeometry().setGeometries(e.replaceCirclesWithPolygons(r)),r.getGeometry&&r.getGeometry()&&"Circle"===r.getGeometry().getType()){var n=Object(L.reproject)(r.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=r.getGeometry().getRadius();r.setProperties({center:[n.x,n.y],radius:o}),r=e.replaceCircleWithPolygon(r)}return t.getProperties()&&t.getProperties().selected&&e.props.onSelectFeatures([Object(L.reprojectGeoJson)(Ee.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")]),Object(L.reprojectGeoJson)(Ee.writeFeatureObject(r),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(r):e.props.onGeometryChanged(r,e.props.drawOwner,e.props.drawOwner,!1,"Text"===e.props.drawMethod,"Circle"===e.props.drawMethod)})),e.addTranslateListener(),e.props.map.addInteraction(e.translateInteraction)})),je(we(e),"createOLGeometry",(function(t){var r=t.type,n=t.coordinates,o=t.radius,i=t.center,a=t.geometries,s=t.projection,l=t.options,c=void 0===l?{}:l;return"GeometryCollection"===r?a&&a.length?new X.default(a.map((function(t){return e.olGeomFromType({type:t.type})}))):new X.default([]):e.olGeomFromType({type:r,coordinates:n,radius:o,center:i,projection:s,options:c})})),je(we(e),"olGeomFromType",(function(t){var r,n=t.type,o=t.coordinates,i=t.radius,a=t.center,s=t.projection,l=t.options;switch(n){case"Point":case"Marker":case"Text":r=new q.a(o||[]);break;case"LineString":r=new Y.a(o||[]);break;case"MultiPoint":r=new V.a(o||[]);break;case"MultiLineString":r=new Z.a(o||[]);break;case"MultiPolygon":r=new Q.a(o||[]);break;default:var c=b()(a)?{x:a[0],y:a[1]}:a,u=s&&!isNaN(parseFloat(i))&&c&&!O()(c.x)&&!O()(c.y)&&!isNaN(parseFloat(c.x))&&!isNaN(parseFloat(c.y));(r=u?l.geodesic?Object(H.a)(e.reprojectCoordinatesToWGS84([c.x,c.y],s),i,100).clone().transform("EPSG:4326",s):Object(H.c)(new K.a([c.x,c.y],i),100):new H.b(o&&b()(o[0])?o:[]))&&u&&l.geodesic&&r.setProperties({geodesicCenter:[c.x,c.y]},!0)}return r})),je(we(e),"convertGeometryTypeToStyleType",(function(e){switch(e){case"BBOX":return"LineString";default:return e}})),je(we(e),"appendToMultiGeometry",(function(e,t,r){switch(e){case"MultiPoint":t.appendPoint(r);break;case"MultiLineString":t.appendLineString(r);break;case"MultiPolygon":var n=r.getCoordinates();n[0].push(n[0][0]),r.setCoordinates(n),t.appendPolygon(r)}})),je(we(e),"calculateRadius",(function(e,t){return b()(t)&&b()(t[0])&&b()(t[0][0])?Math.sqrt(Math.pow(e[0]-t[0][0][0],2)+Math.pow(e[1]-t[0][0][1],2)):100})),je(we(e),"polygonFromCircle",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(H.c)(new K.a(e,t),r)})),je(we(e),"polygonCoordsFromCircle",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return e.polygonFromCircle(t,r,n).getCoordinates()})),je(we(e),"replaceCirclesWithPolygonsInFeatureColl",(function(t){return t.map((function(t){return"Circle"!==t.getGeometry().getType()?t:e.replaceCircleWithPolygon(t)}))})),je(we(e),"replaceCircleWithPolygon",(function(t){if(t.getProperties().isCircle&&"Circle"===t.getGeometry().getType()){var r=t.getGeometry().getCenter(),n=t.getGeometry().getRadius();return t.setGeometry(e.polygonFromCircle(r,n)),t}return t})),je(we(e),"replaceCirclesWithPolygons",(function(t){return t.getGeometry&&!t.getGeometry().getGeometries?t:t.getGeometry().getGeometries().map((function(r,n){if("Circle"!==r.getType())return r;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(n)){var o=r.getCenter(),i=r.getRadius();return e.polygonFromCircle(o,i)}return r}))})),je(we(e),"replacePolygonsWithCircles",(function(t){return t.getGeometry().getGeometries().map((function(r,n){if("Polygon"!==r.getType())return r;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(n)){var o=r.getExtent(),i=Object(ue.x)(o),a=e.calculateRadius(i,r.getCoordinates());return new K.a(i,a)}return r}))})),je(we(e),"addTranslateListener",(function(){document.addEventListener("keydown",(function(t){t.altKey&&"AltLeft"===t.code&&e.translateInteraction.setActive(!0)})),document.addEventListener("keyup",(function(t){"AltLeft"===t.code&&e.translateInteraction.setActive(!1)}))})),e}return t=i,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.drawLayer&&this.updateFeatureStyles(e.features),!e.drawStatus&&this.selectInteraction&&this.selectInteraction.getFeatures().clear(),this.props.drawStatus!==e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addLayer(e);break;case"start":this.addInteractions(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeDrawInteraction();break;case"replace":this.replaceFeatures(e);break;case"updateStyle":this.updateOnlyFeatureStyles(e);break;case"clean":this.clean();break;case"cleanAndContinueDrawing":this.clean(!0);break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&ge(t.prototype,r),n&&ge(t,n),i}(o.a.Component);je(xe,"propTypes",{map:P.a.object,drawOwner:P.a.string,drawStatus:P.a.string,drawMethod:P.a.string,options:P.a.object,features:P.a.array,onChangeDrawingStatus:P.a.func,onGeometryChanged:P.a.func,onDrawStopped:P.a.func,onDrawingFeatures:P.a.func,onSelectFeatures:P.a.func,onEndDrawing:P.a.func,style:P.a.object}),je(xe,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onDrawingFeatures:function(){},onSelectFeatures:function(){},onEndDrawing:function(){}})},"./MapStore2/web/client/components/map/openlayers/Feature.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return A}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./node_modules/axios/index.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=r("./MapStore2/node_modules/lodash/find.js"),p=r.n(u),d=r("./MapStore2/node_modules/lodash/castArray.js"),f=r.n(d),m=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),y=r("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),b=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),g=r("./node_modules/ol/format/GeoJSON.js");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,r,n,o=E(i);function i(){var e;w(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return M(P(e=o.call.apply(o,[this].concat(r))),"addFeatures",(function(t){var r=new g.a,n=null,o=!1;"FeatureCollection"===t.type?(n={features:!!Object(c.isUndefined)(t.properties.visibility)||t.properties.visibility?t.features:[]},o=!!t.features):(n={geometry:t.geometry},o=!(!t.geometry||!t.geometry.geometries&&!t.geometry.coordinates));t.container&&o&&(e._feature=r.readFeatures(S({type:t.type,properties:t.properties,id:t.msId},n),{dataProjection:t.featuresCrs}),e._feature.map((function(e){var r=e;return e.getProperties().isCircle&&(r=Object(y.a)(e,t.crs||"EPSG:3857",t.featuresCrs)).setGeometry(r.getGeometry().transform(t.crs||"EPSG:3857",t.featuresCrs)),r})).forEach((function(e){return e.getGeometry().transform(t.featuresCrs,t.crs||"EPSG:3857")})),t.style&&t.style!==t.layerStyle&&e._feature.forEach((function(e){var r=[],n={};"FeatureCollection"===t.type?(n=p()(t.features,(function(t){return t.properties.id===e.getProperties().id})),r=Object(b.createStylesAsync)(f()(n.style))):(r=Object(b.createStylesAsync)(f()(t.style)),n={type:t.type,geometry:t.geometry,properties:t.properties,style:t.style}),l.a.all(r).then((function(t){e.setStyle((function(){return Object(m.e)(S(S({},n),{},{style:t}))}))}))})),t.container.getSource().addFeatures(e._feature))})),M(P(e),"removeFromContainer",(function(){if(e._feature)if(Array.isArray(e._feature)){var t=e.props.container.getSource();e._feature.map((function(e){var r=e.getId();void 0!==r&&t.getFeatureById(r)?t.removeFeature(t.getFeatureById(r)):t.removeFeature(e)}))}else e.props.container.getSource().removeFeature(e._feature)})),e}return t=i,(r=[{key:"componentDidMount",value:function(){this.addFeatures(this.props)}},{key:"shouldComponentUpdate",value:function(e){return!(Object(c.isEqual)(e.properties,this.props.properties)&&Object(c.isEqual)(e.geometry,this.props.geometry)&&Object(c.isEqual)(e.features,this.props.features)&&Object(c.isEqual)(e.crs,this.props.crs)&&Object(c.isEqual)(e.style,this.props.style))}},{key:"UNSAFE_componentWillUpdate",value:function(e){this.removeFromContainer(),this.addFeatures(e)}},{key:"componentWillUnmount",value:function(){this.removeFromContainer()}},{key:"render",value:function(){return null}}])&&O(t.prototype,r),n&&O(t,n),i}(o.a.Component);M(A,"propTypes",{type:a.a.string,layerStyle:a.a.object,style:a.a.object,properties:a.a.object,crs:a.a.string,container:a.a.object,features:a.a.array,geometry:a.a.object,msId:a.a.oneOfType([a.a.string,a.a.number]),featuresCrs:a.a.string}),M(A,"defaultProps",{featuresCrs:"EPSG:4326"})},"./MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return E}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),i=r("./node_modules/react/index.js"),a=r.n(i),s=r("./node_modules/ol/interaction/Select.js"),l=r("./node_modules/ol/events/condition.js"),c=r("./node_modules/ol/style/Stroke.js"),u=r("./node_modules/ol/style/Fill.js"),p=r("./node_modules/ol/style/Style.js"),d=r("./node_modules/ol/style/Circle.js");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,r,n,o=v(i);function i(){var e;b(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return j(w(e=o.call.apply(o,[this].concat(r))),"getLayer",(function(){var t;return e.props.map.getLayers().forEach((function(r){e.layersFilter(r)&&(t=r)}),w(e)),t})),j(w(e),"setSelectInteraction",(function(){e._selectInteraction.getActive()||e._selectInteraction.setActive(!0)})),j(w(e),"createSelectInteraction",(function(){e.createStyle(),e._selectInteraction=new s.a({layers:e.layersFilter,style:e._style,toggleCondition:l.i}),e._selectInteraction.on("select",e.selectionChange,w(e)),e.props.map.addInteraction(e._selectInteraction)})),j(w(e),"selectionChange",(function(){var t=[];e._selectInteraction.getFeatures().forEach((function(e){t.push(e.getId())})),e.props.updateHighlighted(t,"")})),j(w(e),"cleanSupport",(function(){e._selectInteraction&&e._selectInteraction.getActive()&&(e._selectInteraction.getFeatures().clear(),e.props.updateHighlighted([],""),e._selectInteraction.setActive(!1))})),j(w(e),"layersFilter",(function(t){return e.props.layer&&t.get("msId")===e.props.layer})),j(w(e),"createStyle",(function(){var t=e.props.selectedStyle,r={stroke:new c.default(t.stroke?t.stroke:{color:"blue",width:1}),fill:new u.default(t.fill?t.fill:{color:"blue"})};"Point"===t.type&&(r={image:new d.default(y(y({},r),{},{radius:t.radius||5}))}),e._style=new p.default(r)})),j(w(e),"highlightFeatures",(function(t){var r=e.getLayer(),n=e._selectInteraction.getFeatures();(n.clear(),r)&&r.getSource().getFeatures().map((function(e){-1!==t.indexOf(e.getId())&&n.push(e)}),w(e))})),e}return t=i,(r=[{key:"componentDidMount",value:function(){this.createSelectInteraction(),"enabled"===this.props.status?this._selectInteraction.setActive(!0):this._selectInteraction.setActive(!1),this.props.features&&this.highlightFeatures(this.props.features)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}},{key:"UNSAFE_componentWillUpdate",value:function(e){switch(e.status){case"enabled":this.setSelectInteraction(e);break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this._selectInteraction&&(this.cleanSupport(),this._selectInteraction.un("select",this.selectionChange,this),this.props.map.removeInteraction(this._selectInteraction),this._selectInteraction=null,this._style=null)}},{key:"render",value:function(){return null}}])&&g(t.prototype,r),n&&g(t,n),i}(a.a.Component);j(E,"propTypes",{map:o.a.object,layer:o.a.string.isRequired,status:o.a.oneOf(["disabled","enabled","update"]),updateHighlighted:o.a.func,selectedStyle:o.a.object,features:o.a.array}),j(E,"contextTypes",{messages:o.a.object}),j(E,"defaultProps",{status:"disabled",updateHighlighted:function(){},selectedStyle:{type:"Point",radius:12,stroke:{width:4,color:"yellow"},fill:{color:"red"}}})},"./MapStore2/web/client/components/map/openlayers/Layer.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return _}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),i=r("./node_modules/react/index.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=r.n(l),u=r("./node_modules/object-assign/index.js"),p=r.n(u),d=r("./node_modules/rxjs/Rx.js"),f=r.n(d),m=r("./MapStore2/node_modules/lodash/isNumber.js"),y=r.n(m),b=r("./MapStore2/node_modules/lodash/isArray.js"),g=r.n(b),h=r("./MapStore2/node_modules/lodash/omit.js"),v=r.n(h),S=r("./MapStore2/node_modules/lodash/isEqual.js"),w=r.n(S);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,r,n,o=P(i);function i(){var e;j(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return C(M(e=o.call.apply(o,[this].concat(r))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&e.layer&&e.isValid()&&e.layer.setVisible(t)})),C(M(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity(t)})),C(M(e),"generateOpts",(function(t,r,n,o,i){return p()({},t,y()(r)?{zIndex:r}:null,{srs:n,onError:function(){e.props.onCreationError(t)},securityToken:o,env:i})})),C(M(e),"createLayer",(function(t,r,n,o,i){if(t){var a=e.generateOpts(r,n,c.a.normalizeSRS(e.props.srs),o,i);e.layer=s.default.createLayer(t,a,e.props.map,e.props.mapId);var l=s.default.isCompatible(t,a);if(e.layer&&!e.layer.detached){var u=e.props.map,p=u&&u.getView().getProjection().getExtent(),d=r&&r.bbox&&r.bbox.bounds,f=p&&c.a.reprojectBbox(p,e.props.srs,"EPSG:4326"),m=d&&c.a.reprojectBbox(c.a.getExtentFromNormalized(d,e.props.srs).extent,"EPSG:4326");m&&2===m.length&&g()(m[1])&&(m=m[1]),(f&&m&&!c.a.isBboxCompatible(c.a.getPolygonFromExtent(f),c.a.getPolygonFromExtent(m))||!l)&&e.props.onWarning({title:"warning",message:"notification.incompatibleDataAndProjection",action:{label:"close"},position:"tc",uid:"1"}),e.addLayer(r)}e.layer&&e.layer.get&&e.layer.get("getElevation")&&e.props.map.set("elevationLayer",e.layer),e.forceUpdate()}})),C(M(e),"updateLayer",(function(t,r){if(t.position===r.position&&t.srs===r.srs&&t.securityToken===r.securityToken){if(t.options===r.options)return;if(w()(v()(t.options,["loading"]),v()(r.options,["loading"])))return}var n=s.default.updateLayer(e.props.type,e.layer,e.generateOpts(t.options,t.position,t.projection,t.securityToken,t.env),e.generateOpts(r.options,r.position,r.projection,r.securityToken,r.env),e.props.map,e.props.mapId);n&&(e.props.map.removeLayer(e.layer),e.layer=n,e.addLayer(t.options))})),C(M(e),"addLayer",(function(t){if(e.isValid()){e.props.map.addLayer(e.layer);var r=new f.a.Subject,n=new f.a.Subject;t.handleClickOnLayer&&e.layer.set("handleClickOnLayer",!0),e.layer.getSource().on("tileloadstart",(function(){0===e.tilestoload?(e.props.onLayerLoading(t.id),e.tilestoload++):e.tilestoload++})),e.layer.getSource().on("tileloadend",(function(){r.next({type:"tileloadend"}),e.tilestoload--,0===e.tilestoload&&n.next()})),e.layer.getSource().on("tileloaderror",(function(t){r.next({type:"tileloaderror",event:t}),e.tilestoload--,0===e.tilestoload&&n.next()})),r.bufferWhen((function(){return n})).subscribe({next:function(r){var n=r.filter((function(e){return"tileloaderror"===e.type}));n.length>0&&(t&&!t.hideErrors||!t)?(e.props.onLayerLoad(t.id,{error:!0}),e.props.onLayerError(t.id,r.length,n.length)):e.props.onLayerLoad(t.id)}}),e.tileLoadEndStream$=r,e.tileStopStream$=n;var o=new f.a.Subject,i=new f.a.Subject;if(e.layer.getSource().on("imageloadstart",(function(){0===e.imagestoload?(e.props.onLayerLoading(t.id),e.imagestoload++):e.imagestoload++})),e.layer.getSource().on("imageloadend",(function(){e.imagestoload--,o.next({type:"imageloadend"}),0===e.imagestoload&&i.next()})),e.layer.getSource().on("imageloaderror",(function(t){e.imagestoload--,o.next({type:"imageloaderror",event:t}),0===e.imagestoload&&i.next()})),o.bufferWhen((function(){return i})).subscribe({next:function(r){var n=r.filter((function(e){return"imageloaderror"===e.type}));n.length>0?(e.props.onLayerLoad(t.id,{error:!0}),(t&&!t.hideErrors||!t)&&e.props.onLayerError(t.id,r.length,n.length)):e.props.onLayerLoad(t.id)}}),e.imageLoadEndStream$=o,e.imageStopStream$=i,t.refresh){var a=0;e.refreshTimer=setInterval((function(){e.layer.getSource().updateParams(p()({},t.params,{_refreshCounter:a++}))}),t.refresh)}}})),C(M(e),"isValid",(function(){var t=s.default.isValid(e.props.type,e.layer);return e.valid=t,t})),e}return t=i,(r=[{key:"componentDidMount",value:function(){this.valid=!0,this.tilestoload=0,this.imagestoload=0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken,this.props.env)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(r),e.position!==this.props.position&&this.layer&&this.layer.setZIndex&&this.layer.setZIndex(e.position),this.props.options&&this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.tileLoadEndStream$&&(this.tileLoadEndStream$.complete(),this.tileStopStream$.complete(),this.imageLoadEndStream$.complete(),this.imageStopStream$.complete()),this.layer.detached?this.layer.remove():this.props.map.removeLayer(this.layer)),this.refreshTimer&&clearInterval(this.refreshTimer),s.default.removeLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,r=t?a.a.Children.map(this.props.children,(function(r){return r?a.a.cloneElement(r,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return a.a.createElement(a.a.Fragment,null,r)}return s.default.renderLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}}])&&E(t.prototype,r),n&&E(t,n),i}(a.a.Component);C(_,"propTypes",{onWarning:o.a.func,maxExtent:o.a.array,map:o.a.object,mapId:o.a.string,srs:o.a.string,type:o.a.string,options:o.a.object,onLayerLoading:o.a.func,onLayerError:o.a.func,onCreationError:o.a.func,onLayerLoad:o.a.func,position:o.a.number,observables:o.a.array,securityToken:o.a.string,env:o.a.array}),C(_,"defaultProps",{observables:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},onCreationError:function(){},onWarning:function(){},srs:"EPSG:3857"})},"./MapStore2/web/client/components/map/openlayers/Locate.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/prop-types/index.js"),o=r.n(n),i=r("./node_modules/react/index.js"),a=r.n(i),s=(r("./MapStore2/web/client/utils/openlayers/olPopUp.css"),r("./node_modules/object-assign/index.js")),l=r.n(s),c=r("./node_modules/ol/util.js"),u=r("./node_modules/ol/Object.js"),p=r("./node_modules/ol/Overlay.js"),d=r("./node_modules/ol/Feature.js"),f=r("./node_modules/ol/source/Vector.js"),m=r("./node_modules/ol/layer/Vector.js"),y=r("./node_modules/ol/Geolocation.js"),b=r("./node_modules/ol/geom/Point.js"),g=r("./node_modules/ol/geom/Circle.js"),h=r("./node_modules/ol/geom/GeometryCollection.js"),v=r("./node_modules/ol/style/Style.js"),S=r("./node_modules/ol/style/Fill.js"),w=r("./node_modules/ol/style/Stroke.js"),O=r("./node_modules/ol/style/Circle.js"),j=function(){var e=document.createElement("div");e.setAttribute("class","ol-popup");var t=document.createElement("a");t.setAttribute("class","ol-popup-close-btn"),t.setAttribute("href","#close"),t.innerHTML="x";var r=document.createElement("div");r.setAttribute("class","ol-popup-cnt-wrapper");var n=document.createElement("div");n.setAttribute("class","ol-popup-cnt"),r.appendChild(n);var o=document.createElement("div");o.setAttribute("class","ol-popup-tip-wrapper");var i=document.createElement("div");return i.setAttribute("class","ol-popup-tip"),o.appendChild(i),e.appendChild(t),e.appendChild(r),e.appendChild(o),e}(),E=function(e,t){u.a.call(this,{state:"DISABLED"}),this.map=e;var r={drawCircle:!0,follow:!0,stopFollowingOnDrag:!1,remainActive:!0,locateStyle:this._getDefaultStyles(),metric:!0,onLocationError:this.onLocationError,keepCurrentZoomLevel:!1,showPopup:!0,strings:{metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point"},locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}};this.options=l()({},r,t||{}),this.geolocate=new y.a({projection:this.map.getView().getProjection(),trackingOptions:this.options.locateOptions}),this.updateHandler=this._updatePosFt.bind(this),this.geolocate.on("change:position",this.updateHandler),this.popup=j,this.popup.hidden=!0,this.popCnt=j.getElementsByClassName("ol-popup-cnt")[0],this.overlay=new p.a({element:this.popup,positioning:"top-center",stopEvent:!1}),this.layer=new m.a({source:new f.a({useSpatialIndex:!1})}),this.posFt=new d.a({geometry:this.geolocate.getAccuracyGeometry(),name:"position",id:"_locate-pos"}),this.posFt.setStyle(this.options.locateStyle),this.layer.getSource().addFeature(this.posFt),this.clickHandler=this.mapClick.bind(this),this.stopHandler=this.stopFollow.bind(this),this.errorHandler=this.options.onLocationError.bind(this)};Object(c.d)(E,u.a),E.prototype.start=function(){this.geolocate.on("error",this.errorHandler),this.follow=this.options.follow,this.geolocate.setTracking(!0),this.layer.setMap(this.map),this.map.addOverlay(this.overlay),this.options.showPopup&&(this.map.on("click",this.clickHandler),this.map.on("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p?this._updatePosFt():this.set("state","LOCATING")},E.prototype.startFollow=function(){this.follow=!0,this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p&&this._updatePosFt()},E.prototype.stop=function(){this.geolocate.un("error",this.errorHandler),this.geolocate.setTracking(!1),this.popup.hide=!0,this.map.removeOverlay(this.overlay),this.layer.setMap(null),this.options.showPopup&&(this.map.un("click",this.clickHandler),this.map.un("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.un("pointerdrag",this.stopHandler),this.set("state","DISABLED")},E.prototype.stopFollow=function(){this.follow=!1,this.map.un("pointerdrag",this.stopHandler),this.set("state","ENABLED")},E.prototype._updatePosFt=function(){var e=this.get("state"),t=this.follow?"FOLLOWING":"ENABLED";t!==e&&this.set("state",t);var r=this.geolocate.getPosition();this.p=r;var n=new b.a([parseFloat(r[0]),parseFloat(r[1])]);if(this.options.drawCircle){var o=new g.a([parseFloat(r[0]),parseFloat(r[1])],this.geolocate.getAccuracy());this.posFt.setGeometry(new h.default([n,o]))}else this.posFt.setGeometry(new h.default([n]));this.popup.hidden||this._updatePopUpCnt(),this.follow&&this.updateView(n),this.options.remainActive||this.geolocate.setTracking(!1)},E.prototype.updateView=function(e){this.follow&&(this.map.getView().setCenter(e.getCoordinates()),this.options.keepCurrentZoomLevel||this.map.getView().setZoom(this.options.locateOptions.maxZoom))},E.prototype._updatePopUpCnt=function(){var e,t;this.options.metric?(e=this.geolocate.getAccuracy(),t=this.options.strings.metersUnit):(e=Math.round(3.2808399*this.geolocate.getAccuracy()),t=this.options.strings.feetUnit);var r=this.options.strings.popup.replace("{distance}",e);this.popCnt.innerHTML=r.replace("{unit}",t),this.overlay.setPosition(this.posFt.getGeometry().getGeometries()[0].getCoordinates()),this.popup.hidden=!1},E.prototype.onLocationError=function(e){alert(e.message)},E.prototype.mapClick=function(e){var t=this.map.forEachFeatureAtPixel(e.pixel,(function(e){return e}));t&&"_locate-pos"===t.get("id")&&this.popup.hidden?this._updatePopUpCnt():this.popup.hidden||(j.hidden=!0)},E.prototype._getDefaultStyles=function(){return new v.default({image:new O.default({radius:6,fill:new S.default({color:"rgba(42,147,238,0.7)"}),stroke:new w.default({color:"rgba(19,106,236,1)",width:2})}),fill:new S.default({color:"rgba(19,106,236,0.15)"}),stroke:new w.default({color:"rgba(19,106,236,1)",width:2})})},E.prototype.setStrings=function(e){this.options.strings=l()({},this.options.strings,e)};var x=E;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"default",(function(){return k}));var D={follow:!0,remainActive:!0,metric:!0,stopFollowingOnDrag:!0,keepCurrentZoomLevel:!1,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,r,n,o=C(i);function i(){var e;T(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return L(I(e=o.call.apply(o,[this].concat(r))),"onStateChange",(function(t){e.props.status!==t&&e.props.changeLocateState(t)})),L(I(e),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),L(I(e),"configureLocate",(function(t){var r=e.locate.get("state");"ENABLED"===t&&"DISABLED"===r?e.locate.start():"FOLLOWING"===t&&"ENABLED"===r?e.locate.startFollow():"DISABLED"===t&&e.locate.stop()})),e}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.map&&(this.locate=new x(this.props.map,D),this.locate.setStrings(this.props.messages),this.locate.options.onLocationError=this.onLocationError,this.locate.on("propertychange",(function(t){e.onStateChange(t.target.get(t.key))})),this.configureLocate(this.props.status))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.status!==this.props.status&&this.configureLocate(e.status),e.messages!==this.props.messages&&this.locate.setStrings(e.messages)}},{key:"render",value:function(){return null}}])&&M(t.prototype,r),n&&M(t,n),i}(a.a.Component);L(k,"displayName","Locate"),L(k,"propTypes",{map:o.a.object,status:o.a.string,messages:o.a.object,changeLocateState:o.a.func,onLocateError:o.a.func}),L(k,"defaultProps",{id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}})},"./MapStore2/web/client/components/map/openlayers/Map.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/ol/interaction.js"),o=r("./node_modules/ol/interaction/DragPan.js"),i=r("./node_modules/ol/interaction/MouseWheelZoom.js"),a=r("./node_modules/ol/control/util.js"),s=r("./node_modules/ol/Map.js"),l=r("./node_modules/ol/View.js"),c=r("./node_modules/ol/proj.js"),u=r("./node_modules/ol/control/Zoom.js"),p=r("./node_modules/ol/proj/Units.js"),d=r("./node_modules/ol/extent.js"),f=r("./MapStore2/web/client/libs/proj4.js"),m=r.n(f),y=r("./node_modules/ol/proj/proj4.js"),b=r("./node_modules/prop-types/index.js"),g=r.n(b),h=r("./node_modules/react/index.js"),v=r.n(h),S=r("./node_modules/object-assign/index.js"),w=r.n(S),O=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),j=r.n(O),E=r("./MapStore2/web/client/utils/ConfigUtils.js"),x=r.n(E),P=r("./MapStore2/web/client/utils/MapUtils.js"),T=r.n(P),M=r("./node_modules/ol/proj/Projection.js"),A=function(e,t,r,n,o){Object(c.addProjection)(new M.a({code:e,extent:t,worldExtent:r,axisOrientation:n,units:o}))},C=r("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),_=r("./MapStore2/node_modules/lodash/lodash.js");r("./node_modules/ol/ol.css"),r("./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return N(this,r)}}function N(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(g,e);var t,r,f,b=k(g);function g(){var e;R(this,g);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return U(F(e=b.call.apply(b,[this].concat(r))),"getDocument",(function(){return e.props.document||document})),U(F(e),"getResolutions",(function(){if(e.props.mapOptions&&e.props.mapOptions.view&&e.props.mapOptions.view.resolutions)return e.props.mapOptions.view.resolutions;var t=void 0!==e.props.mapOptions.minZoom?e.props.mapOptions.minZoom:0,r=void 0!==e.props.mapOptions.maxZoom?e.props.mapOptions.maxZoom:28,n=void 0!==e.props.mapOptions.zoomFactor?e.props.mapOptions.zoomFactor:2,o=e.map.getView().getProjection(),i=o.getExtent(),a=(i?Object(d.E)(i):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256,s=(i?Object(d.A)(i):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256;a<=s?(1,s/=Math.round(s/a)):(1,a/=Math.round(a/s));var l=Math.max(a,s),c=l/Math.pow(2,28),u=e.props.mapOptions.maxResolution;void 0!==u?t=0:u=l/Math.pow(n,t);var f=e.props.mapOptions.minResolution;return void 0===f&&(f=void 0!==e.props.mapOptions.maxZoom?void 0!==e.props.mapOptions.maxResolution?u/Math.pow(n,r):l/Math.pow(n,r):c),r=t+Math.floor(Math.log(u/f)/Math.log(n)),Array.apply(0,Array(r-t+1)).map((function(e,t){return u/Math.pow(n,t)}))})),U(F(e),"mouseMoveEvent",(function(t){if(!t.dragging&&t.coordinate){var r=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation"),n=t.coordinate.slice(),o=Object(c.toLonLat)(n,e.props.projection),i=o[0]/360%1*360;i<-180?i+=360:i>180&&(i-=360),e.props.onMouseMove({y:o[1]||0,x:i||0,z:e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation")(n,t.pixel)||void 0,crs:"EPSG:4326",pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:o[1],lng:i,z:r&&r(n,t.pixel)||void 0},lat:o[1],lng:i,rawPos:t.coordinate.slice()})}})),U(F(e),"updateMapInfoState",(function(){var t=e.map.getView(),r=t.getCenter(),n=t.getProjection().getExtent(),o=t.getProjection().getCode();if(-1!==["EPSG:3857","EPSG:900913","EPSG:4326"].indexOf(o)||r&&r[0]>=n[0]&&r[0]<=n[2]&&r[1]>=n[1]&&r[1]<=n[3]){var i=e.normalizeCenter(t.getCenter()),a=t.calculateExtent(e.map.getSize()),s={width:e.map.getSize()[0],height:e.map.getSize()[1]};e.props.onMapViewChanges({x:i[0]||0,y:i[1]||0,crs:"EPSG:4326"},t.getZoom(),{bounds:{minx:a[0],miny:a[1],maxx:a[2],maxy:a[3]},crs:o,rotation:t.getRotation()},s,e.props.id,e.props.projection)}})),U(F(e),"haveResolutionsChanged",(function(t){var r=e.props.mapOptions&&e.props.mapOptions.view?e.props.mapOptions.view.resolutions:void 0,n=t.mapOptions&&t.mapOptions.view?t.mapOptions.view.resolutions:void 0;return!Object(_.isEqual)(r,n)})),U(F(e),"createView",(function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.restrictedExtent&&o.crs&&j.a.reprojectBbox(o.restrictedExtent,o.crs,j.a.normalizeSRS(r)),a=!n||n&&!n.view?w()({},n,{extent:i}):w()({},n),s=w()({},{projection:j.a.normalizeSRS(r),center:[e.x,e.y],zoom:t,minZoom:o.minZoom},a||{});return new l.a(s)})),U(F(e),"_updateMapPositionFromNewProps",(function(t){var r=e.map.getView(),n=e.props.center;if(!(t.center.y===n.y&&t.center.x===n.x)){var o=j.a.reproject({x:t.center.x,y:t.center.y},"EPSG:4326",t.projection,!0);r.setCenter([o.x,o.y])}Math.round(t.zoom)!==e.props.zoom&&r.setZoom(Math.round(t.zoom)),(t.bbox&&void 0!==t.bbox.rotation||e.bbox&&void 0!==e.bbox.rotation&&t.bbox.rotation!==e.props.bbox.rotation)&&r.setRotation(t.bbox.rotation)})),U(F(e),"normalizeCenter",(function(t){var r=j.a.reproject({x:t[0],y:t[1]},e.props.projection,"EPSG:4326",!0);return[r.x,r.y]})),U(F(e),"setMousePointer",(function(t){e.map&&(e.map.getViewport().style.cursor=t||"auto")})),U(F(e),"registerHooks",(function(){e.props.hookRegister.registerHook(T.a.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(T.a.RESOLUTION_HOOK,(function(){return e.map.getView().getResolution()})),e.props.hookRegister.registerHook(T.a.COMPUTE_BBOX_HOOK,(function(t,r){var n=j.a.reproject([t.x,t.y],"EPSG:4326",e.props.projection),o=e.createView(n,r,e.props.projection,e.props.mapOptions&&e.props.mapOptions.view,e.props.limits),i=e.map.getSize(),a=o.calculateExtent(i);return{bounds:{minx:a[0],miny:a[1],maxx:a[2],maxy:a[3]},crs:e.props.projection,rotation:e.map.getView().getRotation()}})),e.props.hookRegister.registerHook(T.a.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){return e.map.getPixelFromCoordinate(t)})),e.props.hookRegister.registerHook(T.a.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){return e.map.getCoordinateFromPixel(t)})),e.props.hookRegister.registerHook(T.a.ZOOM_TO_EXTENT_HOOK,(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.padding,o=r.crs,i=r.maxZoom,a=r.duration,s=j.a.reprojectBbox(t,o,e.props.projection);s&&s[0]===s[2]&&s[1]===s[3]&&"EPSG:4326"===o&&Object(_.isArray)(t)&&-180===t[0]&&-90===t[1]&&(s=e.map.getView().getProjection().getExtent());var l=i;s&&s[0]===s[2]&&s[1]===s[3]&&Object(_.isNil)(l)&&(l=21),e.map.getView().fit(s,{size:e.map.getSize(),padding:n&&[n.top||0,n.right||0,n.bottom||0,n.left||0],maxZoom:l,duration:a})}))})),e}return t=g,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.projectionDefs.forEach((function(e){var t=m.a.defs(e.code);A(e.code,e.extent,e.worldExtent,e.axisOrientation||t.axis||"enu",t.units||"m")}));var t=j.a.reproject([this.props.center.x,this.props.center.y],"EPSG:4326",this.props.projection);Object(y.a)(m.a);var r=w()(this.props.interactive?{}:{doubleClickZoom:!1,dragPan:!1,altShiftDragRotate:!1,keyboard:!1,mouseWheelZoom:!1,shiftDragZoom:!1,pinchRotate:!1,pinchZoom:!1},this.props.mapOptions.interactions),l=Object(n.a)(w()({dragPan:!1,mouseWheelZoom:!1},r,{}));void 0!==r&&void 0!==r.dragPan||(this.dragPanInteraction=new o.a({kinetic:!1}),l.extend([this.dragPanInteraction])),void 0!==r&&void 0!==r.mouseWheelZoom||(this.mouseWheelInteraction=new i.a({duration:0}),l.extend([this.mouseWheelInteraction]));var u=Object(a.a)(w()({zoom:this.props.zoomControl,attributionOptions:w()({collapsible:!1},this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container?{target:this.getDocument().querySelector(this.props.mapOptions.attribution.container)}:{})},this.props.mapOptions.controls)),p=new s.default({layers:[],controls:u,interactions:l,maxTilesLoading:1/0,target:this.getDocument().getElementById(this.props.id)||"".concat(this.props.id),view:this.createView(t,Math.round(this.props.zoom),this.props.projection,this.props.mapOptions&&this.props.mapOptions.view,this.props.limits)});this.map=p,this.map.disabledListeners={},this.map.disableEventListener=function(t){e.map.disabledListeners[t]=!0},this.map.enableEventListener=function(t){delete e.map.disabledListeners[t]},this.map.getViewport().addEventListener("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),p.on("moveend",this.updateMapInfoState),p.on("singleclick",(function(t){if(e.props.onClick&&!e.map.disabledListeners.singleclick){var r=e.map.getView(),n=t.coordinate.slice(),o=r.getProjection().getExtent();if("EPSG:4326"===e.props.projection&&(n[0]=j.a.normalizeLng(n[0])),"EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection||(n=Object(c.toLonLat)(n,e.props.projection),o=j.a.reprojectBbox(o,e.props.projection,"EPSG:4326")),n[0]>=o[0]&&n[0]<=o[2]&&n[1]>=o[1]&&n[1]<=o[3]){var i,a;i="EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection?j.a.reproject(n,e.props.projection,"EPSG:4326"):{x:n[0],y:n[1]},e.markerPresent=!1,p.forEachFeatureAtPixel(t.pixel,(function(t,r){if(r&&r.get("handleClickOnLayer")){var n=t.getGeometry();if(!e.markerPresent&&"Point"===n.getType()){e.markerPresent=!0,a=r.get("msId");var o=Object(c.toLonLat)(n.getFirstCoordinate(),e.props.projection);i={x:o[0],y:o[1]}}}}));var s=j.a.normalizeLng(i.x),l=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation");e.props.onClick({pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:i.y,lng:s,z:l&&l(n,t.pixel)||void 0},rawPos:t.coordinate.slice(),modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,shift:t.originalEvent.shiftKey}},a)}}}));var d=Object(_.throttle)(this.mouseMoveEvent,100);p.on("pointermove",d),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.props.onResolutionsChange(this.getResolutions()),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?this.map.addControl(new u.a):this.map.removeControl(this.map.getControls().getArray().filter((function(e){return e instanceof u.a}))[0])),this.map&&(this.props.mapOptions&&this.props.mapOptions.interactions)!==(e.mapOptions&&e.mapOptions.interactions)){var r=e.mapOptions.interactions||{},n=this.map.getInteractions().getArray();Object.keys(r).forEach((function(e){var o=C.a[e]||{},i=o.Instance,a=o.options,s=Object(_.find)(n,(function(t){return C.a[e]&&t instanceof i}));s?s.setActive(r[e]):r[e]&&i&&t.map.addInteraction(new i(a))}))}if(this.map&&this.props.id!==e.mapStateSource&&this._updateMapPositionFromNewProps(e),this.map&&e.resize!==this.props.resize&&setTimeout((function(){t.map.updateSize()}),0),this.map&&(this.props.projection!==e.projection||this.haveResolutionsChanged(e))||this.props.limits!==e.limits){if(this.props.projection!==e.projection||this.props.limits!==e.limits){var o=e.projection,i=j.a.reproject([e.center.x,e.center.y],"EPSG:4326",o);this.map.setView(this.createView(i,e.zoom,e.projection,e.mapOptions&&e.mapOptions.view,e.limits)),this.props.onResolutionsChange(this.getResolutions())}this.map.getLayers().forEach((function(e){var t=e.getSource();t.getTileLoadFunction&&t.setTileLoadFunction(t.getTileLoadFunction())})),this.map.render()}}},{key:"componentWillUnmount",value:function(){var e=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&this.getDocument().querySelector(this.props.mapOptions.attribution.container);if(e&&e.querySelector(".ol-attribution"))try{e.removeChild(e.querySelector(".ol-attribution"))}catch(e){}this.map&&this.map.setTarget(null)}},{key:"render",value:function(){var e=this,t=this.map,r=t?v.a.Children.map(this.props.children,(function(r){return r?v.a.cloneElement(r,{map:t,mapId:e.props.id,onLayerLoading:e.props.onLayerLoading,onLayerError:e.props.onLayerError,onLayerLoad:e.props.onLayerLoad,projection:e.props.projection,onCreationError:e.props.onCreationError}):null})):null;return v.a.createElement("div",{id:this.props.id,style:this.props.style},r)}}])&&L(t.prototype,r),f&&L(t,f),g}(v.a.Component);U(B,"propTypes",{id:g.a.string,document:g.a.object,style:g.a.object,center:x.a.PropTypes.center,zoom:g.a.number.isRequired,mapStateSource:x.a.PropTypes.mapStateSource,projection:g.a.string,projectionDefs:g.a.array,onMapViewChanges:g.a.func,onResolutionsChange:g.a.func,onClick:g.a.func,mapOptions:g.a.object,zoomControl:g.a.bool,mousePointer:g.a.string,onMouseMove:g.a.func,onLayerLoading:g.a.func,onLayerLoad:g.a.func,onLayerError:g.a.func,resize:g.a.number,measurement:g.a.object,changeMeasurementState:g.a.func,registerHooks:g.a.bool,hookRegister:g.a.object,interactive:g.a.bool,onCreationError:g.a.func,bbox:g.a.object,wpsBounds:g.a.object,onWarning:g.a.func,maxExtent:g.a.array,limits:g.a.object,onMouseOut:g.a.func}),U(B,"defaultProps",{id:"map",onMapViewChanges:function(){},onResolutionsChange:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},mapOptions:{},projection:"EPSG:3857",projectionDefs:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:T.a,interactive:!0,onMouseOut:function(){}});t.default=B},"./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return W}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=r("./MapStore2/web/client/utils/MeasureUtils.js"),u=r("./MapStore2/web/client/utils/ImmutableUtils.js"),p=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),d=r("./MapStore2/web/client/utils/LocaleUtils.js"),f=r("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),m=r("./node_modules/ol/geom/Polygon.js"),y=r("./node_modules/ol/geom/LineString.js"),b=r("./node_modules/ol/Overlay.js"),g=r("./node_modules/ol/source/Vector.js"),h=r("./node_modules/ol/layer/Vector.js"),v=r("./node_modules/ol/Feature.js"),S=r("./node_modules/ol/style/Style.js"),w=r("./node_modules/ol/style/Fill.js"),O=r("./node_modules/ol/style/Stroke.js"),j=r("./node_modules/ol/style/Circle.js"),E=r("./node_modules/ol/interaction/Draw.js"),x=r("./node_modules/ol/format/GeoJSON.js"),P=r("./node_modules/ol/Observable.js"),T=r("./node_modules/ol/sphere.js");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function C(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return F(this,r)}}function F(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(e){return e.getView().getProjection().getCode()},W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,r,n,o=N(i);function i(){var e;L(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return B(G(e=o.call.apply(o,[this].concat(r))),"getLength",(function(t,r){if("Bearing"===r.measurement.geomType&&t.length>1)return Object(l.calculateAzimuth)(t[0],t[1],z(r.map));var n=e.reprojectedCoordinatesIn4326(t);return Object(l.calculateDistance)(n,r.measurement.lengthFormula)})),B(G(e),"getArea",(function(t){return e.calculateGeodesicArea(t.getLinearRing(0).getCoordinates())})),B(G(e),"validateCoords",(function(e){return e.filter((function(e){return!isNaN(parseFloat(e[0]))&&!isNaN(parseFloat(e[1]))}))})),B(G(e),"updateFeatures",(function(t){var r=e.source.getFeatures();e.removeMeasureTooltips(),e.removeSegmentLengthOverlays(),e.source.clear(),e.textLabels=[],e.segmentLengths=[];var n=t.measurement.features.map((function(n,o){if(Object(s.get)(n,"properties.disabled"))return[n,r&&r[o]&&r[o].getGeometry()];var i=n.geometry.type,a=Object(s.get)(n,"properties.values",[]),u="bearing"===(a[0]||{}).type||!(a[0]||{}).type&&t.measurement.bearingMeasureEnabled,p="Polygon"===i?n.geometry.coordinates[0]:n.geometry.coordinates,d=e.reprojectedCoordinatesFrom4326(p),f="Polygon"===i?new m.b([d]):new y.a(d),b={Point:function(){return p},LineString:function(){return u?Object(l.calculateAzimuth)(p[0],p[1],"EPSG:4326"):Object(l.calculateDistance)(p,t.measurement.lengthFormula)},Polygon:function(){return e.getArea(f)}},g={LineString:function(){return e.formatLengthValue(u?Object(l.calculateAzimuth)(p[0],p[1],"EPSG:4326"):Object(l.calculateDistance)(p,t.measurement.lengthFormula),t.uom,u,t.measurement.trueBearing)},Polygon:function(){return e.formatAreaValue(e.getArea(f),t.uom)}};if(!u)for(var h=0;h<p.length-1;++h){e.createSegmentLengthOverlay();var v=Object(l.calculateAzimuth)(p[h],p[h+1],"EPSG:4326"),S=Object(l.calculateDistance)([p[h],p[h+1]],t.measurement.lengthFormula),w=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(v,e.props.measurement.trueBearing)||"",O=e.formatLengthValue(S,t.uom,u)+w;Object(s.last)(e.segmentOverlayElements).innerHTML=O,Object(s.last)(e.segmentOverlays).setPosition(Object(l.midpoint)(d[h],d[h+1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:O,position:Object(l.midpoint)(p[h],p[h+1],!0)},e.segmentLengths[e.segmentOverlays.length-1]={value:S,type:u?"bearing":"length"}}if(e.createMeasureTooltip(),"Polygon"===i&&e.createMeasureTooltip(),e.tooltipCoord="LineString"===i?Object(s.last)(d):e.tooltipCoord=f.getInteriorPoint().getCoordinates(),Object(s.last)(e.measureTooltipElements).innerHTML=g[i](),Object(s.last)(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.measureTooltipElements.length-1]={value:b[i](),type:"Polygon"===i?"area":u?"bearing":"length"},"Polygon"===i){var j=Object(l.calculateDistance)(p,t.measurement.lengthFormula);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(j,t.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:j,type:"length"},e.perimeterTooltipCoord=Object(s.last)(d),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord),e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7])}var E=R({},n);return E.properties=n.properties?R({},n.properties):{},E.properties.values=[{value:(b[i]||function(){return null})(),formattedValue:(g[i]||function(){return null})(),position:"Polygon"===i?Object(l.pointObjectToArray)(Object(l.reproject)(f.getInteriorPoint().getCoordinates(),z(t.map),"EPSG:4326")):Object(s.last)(p),type:(a[0]||{}).type||(t.measurement.pointMeasureEnabled?"point":t.measurement.lineMeasureEnabled?"length":t.measurement.areaMeasureEnabled?"area":t.measurement.bearingMeasureEnabled?"bearing":void 0)}].concat(C("Polygon"===i?[{value:Object(l.calculateDistance)(p,t.measurement.lengthFormula),formattedValue:e.formatLengthValue(Object(l.calculateDistance)(p,t.measurement.lengthFormula),t.uom,!1),position:Object(s.last)(p),uom:t.uom,type:"length"}]:[])),[E,f]})),o=n.map((function(e){return e[0]})),i=n.map((function(e){return e[1]}));e.source.addFeatures(i.filter((function(e){return!!e})).map((function(e){return new v.a({geometry:e})})));var a=C(e.textLabels);o.map((function(e){var t,r,n=!!(null===(t=e.properties)||void 0===t||null===(r=t.values)||void 0===r?void 0:r.find((function(e){return"bearing"===e.type}))),o="Polygon"===e.geometry.type,i=o||n?0:1,s=o?e.geometry.coordinates[0]:e.geometry.coordinates,l=o?s.length-1:n?0:s.length;return e.geometry.textLabels=a.splice(0,l-i)||[],e})),e.props.changeGeometry(o),e.props.setTextLabels(C(e.textLabels));for(var u=0;u<e.measureTooltipElements.length;++u)e.measureTooltipElements[u]&&(e.measureTooltipElements[u].className="tooltip tooltip-static");for(var p=0;p<e.segmentOverlayElements.length;++p)e.segmentOverlayElements[p]&&(e.segmentOverlayElements[p].className="segment-overlay segment-overlay-static")})),B(G(e),"updateMeasures",(function(t){var r=function(r){var n=r.type,o=r.value;return"length"===n?e.formatLengthValue(o,t.uom,!1):"area"===n?e.formatAreaValue(o,t.uom):e.formatLengthValue(o,t.uom,!0,t.measurement.trueBearing)};e.outputValues=e.outputValues||[],e.segmentOverlayElements=e.segmentOverlayElements||[],e.textLabels=e.textLabels||[];for(var n=0;n<e.outputValues.length;++n)e.outputValues[n]&&(e.measureTooltipElements[n].innerHTML=r(e.outputValues[n]));for(var o=0;o<e.segmentOverlayElements.length;++o)if(e.segmentOverlayElements[o]){var i=r(e.segmentLengths[o]),a=e.textLabels[o].text,s=a.indexOf(" | ");a=a.replace(a.substring(0,-1!==s?s:a.length),i),e.segmentOverlayElements[o].innerHTML=a,e.textLabels[o].text=a}e.drawing||e.props.setTextLabels(C(e.textLabels));var l=(t.measurement.features||[]).map((function(e){return R(R({},e),e.properties?{properties:R(R({},e.properties),{},{values:(e.properties.values||[]).map((function(e){return R(R({},e),{},{formattedValue:r({type:e.type,value:e.value})})}))})}:{})}));e.props.changeGeometry(l)})),B(G(e),"addFeature",(function(t){var r=!1;e.source||(e.source=new g.a,r=!0);var n=Object(l.reprojectGeoJson)(t,"EPSG:4326",z(e.props.map)).geometry,o=new v.a({geometry:Object(f.b)(n)});e.source.addFeature(o),r&&e.measureLayer.setSource(e.source)})),B(G(e),"resetGeometry",(function(){e.source.clear(),e.props.resetGeometry()})),B(G(e),"saveDrawState",(function(){var t,r,n,o;e.savedDrawState={textLabels:e.textLabels.slice(),segmentLengths:e.segmentLengths.slice(),measureTooltipsLength:null!==(t=null===(r=e.measureTooltips)||void 0===r?void 0:r.length)&&void 0!==t?t:0,segmentOverlaysLength:null!==(n=null===(o=e.segmentOverlays)||void 0===o?void 0:o.length)&&void 0!==n?n:0}})),B(G(e),"discardDrawState",(function(){e.savedDrawState=null})),B(G(e),"restoreDrawState",(function(){if(e.savedDrawState){e.textLabels=e.savedDrawState.textLabels,e.segmentLengths=e.savedDrawState.segmentLengths;for(var t=e.savedDrawState.measureTooltipsLength;t<e.measureTooltips.length;++t)e.props.map.removeOverlay(e.measureTooltips[t]),e.measureTooltipElements[t].parentNode.removeChild(e.measureTooltipElements[t]);for(var r=e.savedDrawState.segmentOverlaysLength;r<e.segmentOverlays.length;++r)e.props.map.removeOverlay(e.segmentOverlays[r]),e.segmentOverlayElements[r].parentNode.removeChild(e.segmentOverlayElements[r]);e.measureTooltips.splice(e.savedDrawState.measureTooltipsLength),e.measureTooltipElements.splice(e.savedDrawState.measureTooltipsLength),e.outputValues.splice(e.savedDrawState.measureTooltipsLength),e.segmentOverlays.splice(e.savedDrawState.segmentOverlaysLength),e.segmentOverlayElements.splice(e.savedDrawState.segmentOverlaysLength),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.savedDrawState=null}})),B(G(e),"addDrawInteraction",(function(t){var r,n,o=t.measurement.startEndPoint;if(e.continueLineMsg=Object(d.getMessageById)(e.context.messages,"measureSupport.continueLine"),e.continuePolygonMsg=Object(d.getMessageById)(e.context.messages,"measureSupport.continuePolygon"),e.drawInteraction&&e.removeDrawInteraction(),!e.vector){e.source=new g.a;var i=[new S.default({fill:new w.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.default({color:"#ffcc33",width:2}),image:new j.default({radius:7,fill:new w.default({color:"#ffcc33"})})})],a=[],f=o||!0===o;if(f||void 0===o){var b=f?void 0===o?{}:o:t.startEndPoint;a=Object(p.f)(b.startPointOptions,b.endPointOptions)}var v=[].concat(i,C(a));e.vector=new h.a({source:e.source,zIndex:1e6,style:v}),e.props.map.addLayer(e.vector)}n="Bearing"===t.measurement.geomType?"LineString":t.measurement.geomType,r=new E.a({source:new g.a,type:n,style:new S.default({fill:new w.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new j.default({radius:5,stroke:new O.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new w.default({color:"rgba(255, 255, 255, 0.2)"})})})}),e.clickListener=e.props.map.on("click",(function(){return e.updateMeasurementResults(e.props)})),e.props.updateOnMouseMove&&e.props.map.on("pointermove",(function(){return e.updateMeasurementResults(e.props)})),e.props.map.on("pointermove",(function(t){return e.pointerMoveHandler(t)})),r.on("drawstart",(function(t){var r,n;e.sketchFeature=t.feature,e.drawing=!0,e.textId=(null===(r=e.props.measurement)||void 0===r||null===(n=r.features)||void 0===n?void 0:n.length)||0,e.textLabels||(e.textLabels=[]),e.segmentLengths||(e.segmentLengths=[]),e.props.measurement.disableLabels||(e.saveDrawState(),e.createMeasureTooltip("Polygon"===e.props.measurement.geomType?[0,0]:void 0),"Polygon"===e.props.measurement.geomType&&e.createMeasureTooltip(),"Polygon"===e.props.measurement.geomType&&e.createSegmentLengthOverlay()),e.listener=e.sketchFeature.getGeometry().on("change",(function(t){var r,n,o=t.target;if(o instanceof m.b){n={value:e.getArea(o),type:"area"},r=e.formatAreaValue(n.value,e.props.uom),e.tooltipCoord=o.getInteriorPoint().getCoordinates();var i=o.getCoordinates()[0],a=[];if(!e.props.measurement.disableLabels&&((void 0===e.curPolygonLength||e.curPolygonLength<i.length)&&(e.createSegmentLengthOverlay(),e.curPolygonLength=i.length),i.length>2)){a.push(Object(l.midpoint)(i[i.length-1],i[i.length-2],!0)),a.push(Object(l.midpoint)(i[i.length-2],i[i.length-3],!0));for(var u=0;u<a.length;++u){var p=i.slice(i.length-2-u,i.length-u),d=e.getLength(p,e.props),f=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(Object(l.calculateAzimuth)(p[0],p[1],z(e.props.map)),e.props.measurement.trueBearing)||"",b=e.formatLengthValue(d,e.props.uom,!1)+f;e.segmentOverlayElements[e.segmentOverlays.length-u-1].innerHTML=b,e.segmentOverlays[e.segmentOverlays.length-u-1].setPosition(a[u]),e.segmentLengths[e.segmentOverlays.length-u-1]={value:d,type:"length"},e.textLabels[e.segmentOverlays.length-u-1]={text:b,position:Object(l.pointObjectToArray)(Object(l.reproject)(a[u],z(e.props.map),"EPSG:4326")),type:e.props.measurement.geomType,textId:e.textId}}}}else if(o instanceof y.a){var g=o.getCoordinates(),h=[g[g.length-2],g[g.length-1]];e.props.measurement.disableLabels||e.props.measurement.bearingMeasureEnabled||!(void 0===e.curLineStringLength||e.curLineStringLength<g.length)||(e.createSegmentLengthOverlay(),e.curLineStringLength=g.length);var v=e.getLength(g,e.props),S=e.getLength(h,e.props);if(r=e.formatLengthValue(v,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing),e.tooltipCoord=o.getLastCoordinate(),!e.props.measurement.disableLabels&&!e.props.measurement.bearingMeasureEnabled){var w=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(c.getFormattedBearingValue)(Object(l.calculateAzimuth)(h[0],h[1],z(e.props.map)),e.props.measurement.trueBearing)||"",O=e.formatLengthValue(S,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing)+w;Object(s.last)(e.segmentOverlayElements).innerHTML=O,Object(s.last)(e.segmentOverlays).setPosition(Object(l.midpoint)(h[0],h[1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:O,position:Object(l.pointObjectToArray)(Object(l.reproject)(Object(l.midpoint)(h[0],h[1],!0),z(e.props.map),"EPSG:4326")),type:e.props.measurement.geomType,textId:e.textId},e.segmentLengths[e.segmentOverlays.length-1]={value:S,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}n={value:v,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}if(!e.props.measurement.disableLabels&&(Object(s.last)(e.measureTooltipElements).innerHTML=r,Object(s.last)(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.outputValues.length-1]=n,o instanceof m.b)){var j=o.getCoordinates()[0],E=e.getLength(3===j.length?Object(s.dropRight)(j):j,e.props);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(E,e.props.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:E,type:"length"},e.perimeterTooltipCoord=o.getLastCoordinate(),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord)}}))})),r.on("drawend",(function(t){var r;e.drawing=!1;var n=Object(s.get)(e.props.measurement,"features",[]),o=t.feature.getGeometry(),i=o.getCoordinates(),a=new x.a,c={Point:function(){return Object(l.reproject)(i,z(e.props.map),"EPSG:4326")},LineString:function(){return e.getLength(i,e.props)},Polygon:function(){return e.getArea(o)},Bearing:function(){return Object(l.calculateAzimuth)(i[0],i[1],z(e.props.map))}},p={LineString:function(){return e.formatLengthValue(e.getLength(i,e.props),e.props.uom,!1)},Polygon:function(){return e.formatAreaValue(e.getArea(o),e.props.uom)},Bearing:function(){return e.formatLengthValue(Object(l.calculateAzimuth)(i[0],i[1],z(e.props.map)),e.props.uom,!0,e.props.measurement.trueBearing)}},d=Object(l.reprojectGeoJson)(a.writeFeatureObject(t.feature.clone()),z(e.props.map),"EPSG:4326");d.properties=d.properties||{},d.properties.values=[{value:(c[e.props.measurement.geomType]||function(){return null})(),formattedValue:(p[e.props.measurement.geomType]||function(){return null})(),position:Object(l.pointObjectToArray)(Object(l.reproject)("Polygon"===e.props.measurement.geomType?o.getInteriorPoint().getCoordinates():Object(s.last)(i),z(e.props.map),"EPSG:4326")),type:e.props.measurement.pointMeasureEnabled?"point":e.props.measurement.lineMeasureEnabled?"length":e.props.measurement.areaMeasureEnabled?"area":e.props.measurement.bearingMeasureEnabled?"bearing":void 0}].concat(C("Polygon"===e.props.measurement.geomType?[{value:(e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,formattedValue:e.formatLengthValue((e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,e.props.uom,!1),position:Object(l.pointObjectToArray)(Object(l.reproject)(Object(s.last)(i[0]),z(e.props.map),"EPSG:4326")),uom:e.props.uom,type:"length"}]:[]));var f=R({},d);if(e.props.measurement.lineMeasureEnabled){var m=f.geometry.coordinates,y=Object(l.transformLineToArcs)(m);if(!e.props.measurement.disableLabels){e.removeLastSegment();for(var b=0;b<m.length-1;++b){var g=y[100*b+50];g&&(e.textLabels[e.segmentOverlays.length-m.length+1+b].position=g,e.segmentOverlays[e.segmentOverlays.length-m.length+1+b].setPosition(Object(l.pointObjectToArray)(Object(l.reproject)(g,"EPSG:4326",z(e.props.map)))))}}f=Object(u.set)("geometry.coordinates",y,f)}else!e.props.measurement.disableLabels&&e.props.measurement.areaMeasureEnabled&&(e.textLabels.splice(e.segmentOverlays.length-2,1),e.props.map.removeOverlay(e.segmentOverlays[e.segmentOverlays.length-2]),e.segmentOverlayElements[e.segmentOverlays.length-2].parentNode.removeChild(e.segmentOverlayElements[e.segmentOverlays.length-2]),e.segmentOverlayElements.splice(e.segmentOverlays.length-2,1),e.segmentOverlays.splice(e.segmentOverlays.length-2,1));var h="bearing"===(null===(r=d.properties.values[0])||void 0===r?void 0:r.type)?"Bearing":d.geometry.type;if(d.geometry.textLabels=e.textLabels.filter((function(t){return t.type===h&&t.textId===e.textId})).map((function(e){e.textId,e.type;return A(e,["textId","type"])})),e.props.changeGeometry([].concat(C(n),[d])),e.props.setTextLabels(C(e.textLabels)),e.addFeature(f),!e.props.measurement.disableLabels&&(Object(s.last)(e.measureTooltipElements).className="tooltip tooltip-static",Object(s.last)(e.measureTooltips).setOffset([0,-7]),"Polygon"===e.props.measurement.geomType&&(e.measureTooltipElements[e.measureTooltipElements.length-2].className="tooltip tooltip-static",e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7])),e.segmentOverlayElements))for(var v=0;v<e.segmentOverlayElements.length;++v)e.segmentOverlayElements[v]&&(e.segmentOverlayElements[v].className="segment-overlay segment-overlay-static");Object(P.b)(e.listener),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.discardDrawState()})),e.props.map.addInteraction(r),e.createHelpTooltip(),e.drawInteraction=r,e.measureLayer=e.vector})),B(G(e),"removeLastSegment",(function(){e.textLabels.pop(),e.segmentLengths.pop(),e.props.map.removeOverlay(Object(s.last)(e.segmentOverlays)),Object(s.last)(e.segmentOverlayElements).parentNode.removeChild(Object(s.last)(e.segmentOverlayElements)),e.segmentOverlays.pop(),e.segmentOverlayElements.pop()})),B(G(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.removeHelpTooltip(),e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.sketchFeature=null,e.props.map.un("click",(function(){return e.updateMeasurementResults(e.props)}),G(e)),Object(P.b)(e.clickListener),e.props.updateOnMouseMove&&e.props.map.un("pointermove",(function(){return e.updateMeasurementResults(e.props)}),G(e)))})),B(G(e),"pointerMoveHandler",(function(e){if(!e.dragging){var t=Object(d.getMessageById)(this.context.messages,"measureSupport.startDrawing");if(this.sketchFeature&&this.drawing){var r=this.sketchFeature.getGeometry();r instanceof m.b?t=this.continuePolygonMsg:r instanceof y.a&&(t=this.continueLineMsg)}this.helpTooltipElement.innerHTML=t,this.helpTooltip.setPosition(e.coordinate),this.helpTooltipElement.classList.remove("hidden")}})),B(G(e),"updateMeasurementResults",(function(t){if(e.sketchFeature){var r=e.sketchFeature.getGeometry().getCoordinates();if("Bearing"===t.measurement.geomType&&r.length>1&&r.length>2){for(e.drawInteraction.sketchCoords_=[r[0],r[1],r[0]];e.sketchFeature.getGeometry().getCoordinates().length>3;)e.drawInteraction.removeLastPoint();e.sketchFeature.getGeometry().setCoordinates([r[0],r[1]]),e.drawInteraction.sketchFeature_=e.sketchFeature,e.drawInteraction.finishDrawing()}}})),B(G(e),"reprojectedCoordinatesFrom4326",(function(t){return t.map((function(t){var r=Object(l.reproject)(t,"EPSG:4326",z(e.props.map));return[r.x,r.y]}))})),B(G(e),"reprojectedCoordinatesIn4326",(function(t){return t.map((function(t){var r=Object(l.reproject)(t,z(e.props.map),"EPSG:4326");return[r.x,r.y]}))})),B(G(e),"calculateGeodesicArea",(function(t){if(t.length>=4){var r=e.reprojectedCoordinatesIn4326(t);return Math.abs(Object(T.a)(new m.b([r]),{projection:"EPSG:4326"}))}return 0})),B(G(e),"createHelpTooltip",(function(){e.removeHelpTooltip(),e.helpTooltipElement=document.createElement("div"),e.helpTooltipElement.className="tooltip hidden",e.helpTooltip=new b.a({element:e.helpTooltipElement,offset:[15,0],positioning:"center-left"}),e.props.map.addOverlay(e.helpTooltip)})),B(G(e),"createMeasureTooltip",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,-15];e.measureTooltipElements||(e.measureTooltipElements=[]),e.measureTooltips||(e.measureTooltips=[]),e.outputValues||(e.outputValues=[]);var r=document.createElement("div");r.className="tooltip tooltip-measure",r.style.display=e.props.measurement.showLabel?"":"none",e.measureTooltipElements.push(r);var n=new b.a({element:r,offset:t,positioning:"bottom-center"});e.props.map.addOverlay(n),e.measureTooltips.push(n),e.outputValues.push(null)})),B(G(e),"createSegmentLengthOverlay",(function(t){e.segmentOverlayElements||(e.segmentOverlayElements=[]),e.segmentOverlays||(e.segmentOverlays=[]);var r=document.createElement("div");r.className="segment-overlay",r.style.display=e.props.measurement.showSegmentLengths&&!t?"":"none",e.segmentOverlayElements.push(r);var n=new b.a({element:r,offset:[0,0],positioning:"center-center"});e.props.map.addOverlay(n),e.segmentOverlays.push(n)})),B(G(e),"formatLengthValue",(function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n)return Object(c.getFormattedBearingValue)(t,o);var i=r&&r.length,a=i.label,l=i.unit,u=Object(s.round)(Object(c.convertUom)(t,"m",l),2);return e.props.formatNumber(u)+" "+a})),B(G(e),"formatAreaValue",(function(t,r){var n=r&&r.area,o=n.label,i=n.unit,a=Object(s.round)(Object(c.convertUom)(t,"sqm",i),2);return e.props.formatNumber(a)+" "+o})),B(G(e),"removeHelpTooltip",(function(){e.helpTooltipElement&&e.helpTooltipElement.parentNode&&e.helpTooltipElement.parentNode.removeChild(e.helpTooltipElement),e.helpTooltip&&e.props.map.removeOverlay(e.helpTooltip)})),B(G(e),"removeMeasureTooltips",(function(){(e.measureTooltips||[]).forEach((function(t){e.props.map.removeOverlay(t)}));for(var t=document.getElementsByClassName("tooltip-static")||[],r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);t=document.getElementsByClassName("tooltip-measure")||[];for(var n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);e.measureTooltips=[],e.measureTooltipElements=[],e.outputValues=[]})),B(G(e),"removeSegmentLengthOverlays",(function(){(e.segmentOverlays||[]).forEach((function(t){e.props.map.removeOverlay(t)})),(e.segmentOverlayElements||[]).forEach((function(e){e.parentNode.removeChild(e)})),e.segmentOverlays=[],e.segmentOverlayElements=[]})),e}return t=i,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.measureTooltipElements&&e.measurement.showLabel!==this.props.measurement.showLabel)for(var t=0;t<this.measureTooltipElements.length;++t)this.measureTooltipElements[t]&&(this.measureTooltipElements[t].style.display=e.measurement.showLabel?"":"none");if(this.segmentOverlayElements&&e.measurement.showSegmentLengths)for(var r=0;r<this.segmentOverlayElements.length;++r)this.segmentOverlayElements[r]&&(this.segmentOverlayElements[r].style.display=e.measurement.showSegmentLengths?"":"none");(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&(this.restoreDrawState(),this.addDrawInteraction(e)),e.measurement.geomType||(this.removeDrawInteraction(),this.removeMeasureTooltips(),this.removeSegmentLengthOverlays(),this.textLabels=[],this.segmentLengths=[],this.props.map.removeLayer(this.measureLayer),this.vector=null,this.measureLayer=null,e.measurement.features&&e.measurement.features.length>0&&this.props.changeGeometry([]),e.measurement.textLabels&&e.measurement.textLabels.length>0&&this.props.setTextLabels([]),this.source&&(this.source.clear(),this.source=null));var n=this.props.measurement.features,o=e.measurement.features;e.measurement.updatedByUI&&!Object(s.isEqual)(n,o)?this.updateFeatures(e):e.measurement.updatedByUI&&!Object(s.isEqual)(this.props.uom,e.uom)&&this.updateMeasures(e)}},{key:"render",value:function(){return null}}])&&D(t.prototype,r),n&&D(t,n),i}(o.a.Component);B(W,"propTypes",{startEndPoint:a.a.object,map:a.a.object,measurement:a.a.object,enabled:a.a.bool,uom:a.a.object,formatNumber:a.a.func,changeMeasurementState:a.a.func,updateMeasures:a.a.func,resetGeometry:a.a.func,changeGeometry:a.a.func,updateOnMouseMove:a.a.bool,setTextLabels:a.a.func}),B(W,"contextTypes",{messages:a.a.object}),B(W,"defaultProps",{changeMeasurementState:function(){},resetGeometry:function(){},updateMeasures:function(){},changeGeometry:function(){},formatNumber:function(e){return e},setTextLabels:function(){},startEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},updateOnMouseMove:!1})},"./MapStore2/web/client/components/map/openlayers/Overview.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return j}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),i=r("./node_modules/react/index.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./node_modules/object-assign/index.js"),c=r.n(l),u=r("./MapStore2/node_modules/lodash/isFinite.js"),p=r.n(u),d=r("./node_modules/ol/control/OverviewMap.js");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r("./MapStore2/web/client/components/map/openlayers/overview.css");var O={className:"ol-overviewmap ol-custom-overviewmap",collapseLabel:"",label:"",collapsed:!0,collapsible:!0},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,r,n,o=g(i);function i(){var e;m(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(v(e=o.call.apply(o,[this].concat(r))),"dragstart",(function(t){e.dragging||(e.dragBox=e.box.cloneNode(),e.dragBox.setAttribute("class","ol-overview-dargbox"),e.dragBox.style.position="relative",e.box.appendChild(e.dragBox),""===e.box.style.top?e.offsetStartTop=0:e.offsetStartTop=parseInt(e.box.style.top.slice(0,-2),10),""===e.box.style.left?e.offsetStartLeft=0:e.offsetStartLeft=parseInt(e.box.style.left.slice(0,-2),10),e.mouseStartTop=t.pageY,e.mouseStartLeft=t.pageX,e.dragging=!0)})),w(v(e),"draggingel",(function(t){!0===e.dragging&&(e.dragBox.style.top=e.offsetStartTop+t.pageY-e.mouseStartTop+"px",e.dragBox.style.left=e.offsetStartLeft+t.pageX-e.mouseStartLeft+"px",t.stopPropagation(),t.preventDefault())})),w(v(e),"dragend",(function(){if(!0===e.dragging){var t={};t.top=""===e.dragBox.style.top?0:parseInt(e.dragBox.style.top.slice(0,-2),10),t.left=""===e.dragBox.style.left?0:parseInt(e.dragBox.style.left.slice(0,-2),10),e.box.removeChild(e.dragBox),delete e.dragBox,e.dragging=!1,e.setNewExtent(t)}})),w(v(e),"setNewExtent",(function(t){var r=e.box.offsetWidth,n=e.box.offsetHeight,o=e.props.map.getSize(),i=t.left*Math.abs(o[0]/r),a=t.top*Math.abs(o[1]/n);i=p()(i)?i:0,a=p()(a)?a:0;var s=[0+i,o[1]+a],l=[o[0]+i,0+a],c=e.props.map.getCoordinateFromPixel(s)||[0,0],u=e.props.map.getCoordinateFromPixel(l)||[0,0],d=[c[0],c[1],u[0],u[1]];e.props.map.getView().fit(d,o,{nearest:!0})})),e}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this,t=[];this.props.layers.forEach((function(e){t.push(s.default.createLayer(e.type,e.options||{}))}));var r=c()({},O,this.props.overviewOpt,{layers:t});this.overview=new d.a(r),this.props.map&&this.overview.setMap(this.props.map),this.box=this.overview.element.getElementsByClassName("ol-overviewmap-box").item(0),this.box.onmousedown=function(t){e.dragstart(t),e.box.onmousemove=function(t){e.draggingel(t)},e.overview.element.onmousemove=function(t){e.draggingel(t)},e.box.onmouseup=function(){e.dragend(),e.overview.element.onmousemove=null,e.box.onmousemove=null,e.box.onmouseup=null}}}},{key:"render",value:function(){return null}}])&&y(t.prototype,r),n&&y(t,n),i}(a.a.Component);w(j,"displayName","Overview"),w(j,"propTypes",{id:o.a.string,map:o.a.object,overviewOpt:o.a.object,layers:o.a.array}),w(j,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]})},"./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return P}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-dom/index.js"),a=r.n(i),s=r("./node_modules/prop-types/index.js"),l=r.n(s),c=r("./node_modules/ol/Overlay.js"),u=r("./MapStore2/node_modules/lodash/isString.js"),p=r.n(u),d=r("./MapStore2/web/client/utils/PopupUtils.js"),f=r("./MapStore2/web/client/components/map/popups/index.js");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j(e);if(t){var o=j(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new MutationObserver((function(){e.getMap().getSize()&&(e.setPosition(void 0),e.setPosition(r.coordinates))}));return n.observe(t,{attributes:!0,childList:!0,subtree:!0}),n},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,r,n,i=S(s);function s(){var e;g(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return E(O(e=i.call.apply(i,[this].concat(r))),"onPopupClose",(function(t){e.props.onPopupClose(t)})),E(O(e),"renderPopups",(function(){return e.preparePopups().map((function(t){var r,n=t.popup,i=t.id,s=t.component,l=t.content,c=t.props,u=t.containerStyle,m=n.getElement(),y=p()(s)&&f.default[s]||s;return y?r=o.a.isValidElement(y)&&y||o.a.createElement(y,c):l&&(r=d.c(l)?o.a.createElement("div",{dangerouslySetInnerHTML:{__html:l}}):l),m&&a.a.createPortal(o.a.createElement("div",{className:"map-popup-ol",key:i,onMouseUp:e.convertToClick},o.a.createElement("div",{className:"ol-popup-content-wrapper"},o.a.createElement("div",{className:"ol-popup-content",style:u},r)),o.a.createElement("div",{className:"ol-popup-closer",onClick:function(){return e.onPopupClose(i)}},"x")),m)}))})),E(O(e),"update",(function(){(e._popups||[]).map((function(e){var t=e.popup;t.setElement(t.getElement())}))})),E(O(e),"convertToClick",(function(e){var t=new MouseEvent("click",{bubbles:!0});t.stopPropagation=function(){},e.target.dispatchEvent(t)})),E(O(e),"preparePopups",(function(){var t=e.props,r=t.popups,n=void 0===r?[]:r,o=t.map,i=o.getSize();return(e._popups||[]).forEach((function(e){var t=e.popup,r=e.observer;r&&r.disconnect(),t&&o.removeOverlay(t)})),e._popups=n.map((function(e){var t=Math.round(.9*i[0])-40,r=Math.round(.9*i[1])-40,n=e.id,a=e.position.coordinates,s=e.className,l=e.maxWidth,u=void 0===l?t:l,p=e.maxHeight,f=void 0===p?r:p,m=e.autoPan,y=void 0!==m&&m,g=e.autoPanMargin,h=void 0===g?20:g,v=e.offset,S=void 0===v?[0,0]:v,w=e.autoPanAnimation,O=void 0===w?{duration:200}:w,j=u>t?t:u,E=f>r?r:f,P=d.b(n,s),T=new c.a({id:n,element:P,autoPan:y,offset:S,autoPanMargin:h,autoPanAnimation:O,positioning:"bottom-center",className:"ol-overlay-container ol-unselectable",position:a});return o.addOverlay(T),b({popup:T,observer:x(T,P,{coordinates:a}),containerStyle:{maxWidth:j,maxHeight:E}},e)})),e._popups})),E(O(e),"stopPropagationOnPointerMove",(function(e){e.stopPropagation()})),e}return t=s,(r=[{key:"componentWillMount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().addEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().removeEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&h(t.prototype,r),n&&h(t,n),s}(o.a.Component);E(P,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),E(P,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),i=r("./node_modules/react/index.js"),a=r.n(i),s=r("./node_modules/object-assign/index.js"),l=r.n(s),c=r("./node_modules/ol/control/ScaleLine.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,r,n,o=m(i);function i(){return p(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"componentDidMount",value:function(){this.scalebar=new c.a(l()({},this.props,this.props.container?{target:document.querySelector(this.props.container)}:{})),this.props.map&&this.props.map.addControl(this.scalebar)}},{key:"componentWillUnmount",value:function(){if(this.props.container&&document.querySelector(".ol-scale-line"))try{document.querySelector(this.props.container).removeChild(document.querySelector(".ol-scale-line"))}catch(e){}}},{key:"render",value:function(){return null}}])&&d(t.prototype,r),n&&d(t,n),i}(a.a.Component);g(h,"propTypes",{map:o.a.object,className:o.a.string,minWidth:o.a.number,units:o.a.oneOf(["degrees","imperial","nautical","metric","us"]),container:o.a.string}),g(h,"defaultProps",{map:null,className:"ol-scale-line",minWidth:64,units:"metric"})},"./MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return E}));var n=r("./node_modules/prop-types/index.js"),o=r.n(n),i=r("./node_modules/react/index.js"),a=r.n(i),s=r("./node_modules/ol/source/Vector.js"),l=r("./node_modules/ol/layer/Vector.js"),c=r("./node_modules/ol/style/Style.js"),u=r("./node_modules/ol/style/Fill.js"),p=r("./node_modules/ol/style/Stroke.js"),d=r("./node_modules/ol/style/Circle.js"),f=r("./node_modules/ol/interaction/Draw.js"),m=r("./node_modules/ol/interaction/DoubleClickZoom.js");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,r,n,o=v(i);function i(){var e;b(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return j(w(e=o.call.apply(o,[this].concat(r))),"addDrawInteraction",(function(t){e.drawInteraction&&e.removeDrawInteraction();var r=new s.a,n=new l.a({source:r,zIndex:1e6,style:new c.default({fill:new u.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new p.default({color:"#ffcc33",width:2}),image:new d.default({radius:7,fill:new u.default({color:"#ffcc33"})})})});e.props.map.addLayer(n);var o=new f.a({source:r,type:t.selection.geomType,style:new c.default({fill:new u.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new p.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new d.default({radius:5,stroke:new p.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new u.default({color:"rgba(255, 255, 255, 0.2)"})})})});o.on("drawstart",(function(t){e.sketchFeature=t.feature,r.clear()})),o.on("drawend",(function(){e.updateSelectionState()})),e.props.map.addInteraction(o),e.drawInteraction=o,e.selectionLayer=n,e.setDoubleClickZoomEnabled(!1)})),j(w(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.props.map.removeLayer(e.selectionLayer),e.sketchFeature=null,setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),251))})),j(w(e),"updateSelectionState",(function(){if(e.sketchFeature){var t=e.sketchFeature.getGeometry().getCoordinates(),r={geomType:e.props.selection.geomType,point:"Point"===e.props.selection.geomType?[t[0],t[1]]:null,line:"LineString"===e.props.selection.geomType?t.map((function(e){return[e[0],e[1]]})):null,polygon:"Polygon"===e.props.selection.geomType?e.sketchFeature.getGeometry().getLinearRing(0).getCoordinates().map((function(e){return[e[0],e[1]]})):null};e.props.changeSelectionState(r)}})),j(w(e),"setDoubleClickZoomEnabled",(function(t){for(var r=e.props.map.getInteractions(),n=0;n<r.getLength();n++){var o=r.item(n);if(o instanceof m.a){o.setActive(t);break}}})),e}return t=i,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selection.geomType&&e.selection.geomType!==this.props.selection.geomType&&this.addDrawInteraction(e),e.selection.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){return null}}])&&g(t.prototype,r),n&&g(t,n),i}(a.a.Component);j(E,"propTypes",{map:o.a.object,projection:o.a.string,selection:o.a.object,changeSelectionState:o.a.func}),j(E,"defaultProps",{selection:{}})},"./MapStore2/web/client/components/map/openlayers/VectorStyle.js":function(e,t,r){"use strict";var n=r("./MapStore2/node_modules/lodash/isNil.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/trim.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/isString.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/isArray.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/castArray.js"),d=r.n(p),f=r("./MapStore2/node_modules/lodash/head.js"),m=r.n(f),y=r("./MapStore2/node_modules/lodash/last.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/find.js"),h=r.n(g),v=r("./MapStore2/node_modules/lodash/isObject.js"),S=r.n(v),w=r("./MapStore2/web/client/utils/ColorUtils.js"),O=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),j=r("./MapStore2/web/client/utils/MarkerUtils.js"),E=r.n(j),x=r("./MapStore2/node_modules/lodash/isNumber.js"),P=r.n(x),T=r("./node_modules/ol/style/Style.js"),M=r("./node_modules/ol/style/Icon.js"),A=r("./node_modules/ol/style/Text.js"),C=r("./node_modules/ol/style/Fill.js"),_=r("./MapStore2/web/client/utils/openlayers/highlight.png"),I=r.n(_),R=E.a.markers.extra,L=R.icons[0],D=R.icons[1],k=R.size[1],N=E.a.getGlyphs("fontawesome"),F=function(e,t){var r=e.highlight,n=e.rotation,o=void 0===n?0:n;return r?[new T.default({image:new M.default({anchor:[.5,t],rotation:o,anchorXUnits:"fraction",anchorYUnits:"pixels",src:I.a,scale:.5})})]:[]},G={extra:{getIcon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()(e.style&&e.style.rotation)?0:e.style.rotation;return[new T.default({image:new M.default({rotation:t,anchor:[12,12],anchorXUnits:"pixels",anchorYUnits:"pixels",src:D})}),new T.default({image:new M.default({rotation:t,src:L,anchor:[R.size[0]/2,R.size[1]],anchorXUnits:"pixels",anchorYUnits:"pixels",size:R.size,offset:[R.colors.indexOf(e.style.iconColor||"blue")*R.size[0],R.shapes.indexOf(e.style.iconShape||"circle")*R.size[1]]}),text:new A.default({rotation:t,text:N[e.style.iconGlyph],font:"14px FontAwesome",offsetY:2*-R.size[1]/3,fill:new C.default({color:"#FFFFFF"})})})].concat(F(e.style,2*(k+15)))}},standard:{getIcon:function(e){var t=e.style,r=e.iconAnchor,n=o()(t&&t.rotation)?0:t.rotation,i=t.iconAnchor||r,a=[new T.default({image:new M.default({anchor:i||[.5,1],anchorXUnits:t.anchorXUnits||(i||0===i?"pixels":"fraction"),anchorYUnits:t.anchorYUnits||(i||0===i?"pixels":"fraction"),size:u()(t.size)?t.size:P()(t.size)?[t.size,t.size]:void 0,rotation:n,anchorOrigin:t.anchorOrigin||"top-left",src:t.iconUrl||t.symbolUrlCustomized||t.symbolUrl})})];t.shadowUrl&&(a=[new T.default({image:new M.default({anchor:[12,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:t.shadowUrl})}),a[0]]);var s=u()(t.size)?t.size[1]:P()(t.size)?t.size:0;return s=s>32?s+.75*s:k+10,a.concat(F(t,s))}},html:{getIcon:function(){return null}}},U=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),B=r("./node_modules/ol/style/Circle.js"),z=r("./node_modules/ol/style/Stroke.js"),W=r("./node_modules/ol/geom/Point.js"),V=r("./node_modules/ol/geom/LineString.js"),H=r("./node_modules/es6-promise/dist/es6-promise.js"),q=r("./MapStore2/web/client/libs/ajax.js"),Y=r.n(q),Z=r("./node_modules/geostyler-openlayers-parser/build/dist/OlStyleParser.js"),Q=r.n(Z),K=r("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),X=r.n(K),J=r("./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png"),$=r.n(J),ee=r("./node_modules/object-assign/index.js"),te=r.n(ee),re=r("./MapStore2/web/client/utils/ImmutableUtils.js");function ne(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var le=[0,153,255,1],ce=new B.default({radius:5,fill:null,stroke:new z.default({color:"red",width:1})}),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"green":n,i=e.applyToPolygon,a=void 0!==i&&i;return new T.default({image:new B.default({radius:r,fill:new C.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!a&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return n.length>1?new W.a(m()(n)):null}})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"red":n,i=e.applyToPolygon,a=void 0!==i&&i;return new T.default({image:new B.default({radius:r,fill:new C.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!a&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new W.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:b()(n))}})},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[ue(e),pe(t)]},fe=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new T.default({text:new A.default({offsetY:-4*Math.sqrt(e.fontSize),textAlign:e.textAlign||"center",text:t||"",font:e.font,fill:new C.default({color:Object(w.colorToRgbaStr)(e.stroke||e.color||"#000000",e.opacity||1)}),stroke:r?new z.default({color:[255,255,255,1],width:2}):null}),image:r?new B.default({radius:5,fill:null,stroke:new z.default({color:Object(w.colorToRgbaStr)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null})},me={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,radius:10},ye={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},be={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},ge={Marker:{iconColor:"orange",iconShape:"circle",iconGlyph:"comment"},Text:{fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1},Circle:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},Point:me,MultiPoint:me,LineString:ye,MultiLineString:ye,Polygon:be,MultiPolygon:be},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"blue",width:3,lineDash:[6]};return{stroke:new z.default(e.style?e.style.stroke||{color:e.style.color||t.color,lineDash:l()(e.style.dashArray)&&a()(e.style.dashArray).split(" ")||t.lineDash,width:e.style.weight||t.width,lineCap:e.style.lineCap||"round",lineJoin:e.style.lineJoin||"round",lineDashOffset:e.style.dashOffset||0}:ae({},t))}},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"rgba(0, 0, 255, 0.1)"};return{fill:new C.default(e.style?e.style.fill||{color:Object(w.colorToRgbaStr)(e.style.fillColor,e.style.fillOpacity)||t.color}:ae({},t))}},Se={Point:function(){return[new T.default({image:ce})]},LineString:function(e){return[new T.default(te()({},he(e,{color:"blue",width:3})))]},MultiLineString:function(e){return[new T.default(te()({},he(e,{color:"blue",width:3})))]},MultiPoint:function(){return[new T.default({image:ce})]},MultiPolygon:function(e){return[new T.default(te()({},he(e),ve(e)))]},Polygon:function(e){return[new T.default(te()({},he(e),ve(e)))]},GeometryCollection:function(e){return[new T.default(te()({},he(e),ve(e),{image:new B.default({radius:10,fill:null,stroke:new z.default({color:"magenta"})})}))]},Circle:function(){return[new T.default({stroke:new z.default({color:"red",width:2}),fill:new C.default({color:"rgba(255,0,0,0.2)"})})]},marker:function(e){return[new T.default({image:new M.default({anchor:[14,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:$.a})}),new T.default({image:new M.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:X.a}),text:new A.default({text:e.label,scale:1.25,offsetY:8,fill:new C.default({color:"#000000"}),stroke:new z.default({color:"#FFFFFF",width:2})})})]}},we=function(e,t){var r=e.getGeometry().getType();return Se[r](t&&t.style&&t.style[r]&&{style:ae({},t.style[r])}||t||{})};function Oe(e){if(e.style.iconUrl)return G.standard.getIcon(e);var t=e.style.iconLibrary||"extra";return G[t]?G[t].getIcon(e):null}var je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{style:ge},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=t.style[e]||t.style;if("MultiLineString"===e||"LineString"===e){var s=[new T.default({stroke:t.style.useSelectedStyle?new z.default({color:[255,255,255,1],width:a.weight+2}):null}),new T.default(a?{stroke:new z.default(a&&a.stroke?a.stroke:{color:Object(w.colorToRgbaStr)(t.style&&a.color||"#0000FF",a.opacity||1),lineDash:t.style.highlight?[10]:[0],width:a.weight||1}),image:r?ce:null}:{stroke:new z.default(ge[e]&&ge[e].stroke?ge[e].stroke:{color:Object(w.colorToRgbaStr)(t.style&&ge[e].color||"#0000FF",ge[e].opacity||1),lineDash:t.style.highlight?[10]:[0],width:ge[e].weight||1})})],l=t.style.useSelectedStyle?de({radius:a.weight,applyToPolygon:!0},{radius:a.weight,applyToPolygon:!0}):[];return[].concat(ne(l),s)}if(("MultiPoint"===e||"Point"===e)&&(a.iconUrl||a.iconGlyph))return r?new T.default({image:ce}):Oe({style:ae(ae({},a),{},{highlight:t.style.highlight||t.style.useSelectedStyle})});if("Circle"===e&&i){var c=[new T.default({stroke:t.style.useSelectedStyle?new z.default({color:[255,255,255,1],width:a.weight+4}):null}),new T.default({stroke:new z.default(a&&a.stroke?a.stroke:{color:t.style.useSelectedStyle?le:Object(w.colorToRgbaStr)(t.style&&a.color||"#0000FF",a.opacity||1),lineDash:t.style.highlight?[10]:[0],width:a.weight||1}),fill:new C.default(a.fill?a.fill:{color:Object(w.colorToRgbaStr)(t.style&&a.fillColor||"#0000FF",a.fillOpacity||.2)})}),new T.default({image:t.style.useSelectedStyle?new B.default({radius:3,fill:new C.default(a.fill?a.fill:{color:le})}):null,geometry:function(e){var t=e.getGeometry();if("Circle"===t.getType()){var r=t.getCenter();return new W.a(r)}return null}})];return c}if("Text"===e&&a.font)return[fe(a,n[0],t.style.useSelectedStyle||t.style.highlight)];if("MultiPolygon"===e||"Polygon"===e){var u=[new T.default({stroke:t.style.useSelectedStyle?new z.default({color:[255,255,255,1],width:a.weight+2}):null}),new T.default({stroke:new z.default(a.stroke?a.stroke:{color:t.style.useSelectedStyle?le:Object(w.colorToRgbaStr)(t.style&&a.color||"#0000FF",a.opacity||1),lineDash:t.style.highlight?[10]:[0],width:a.weight||1}),image:r?ce:null,fill:new C.default(a.fill?a.fill:{color:Object(w.colorToRgbaStr)(t.style&&a.fillColor||"#0000FF",a.fillOpacity||1)})})],p=t.style.useSelectedStyle?de({radius:a.weight,applyToPolygon:!0},{radius:a.weight,applyToPolygon:!0}):[];return[].concat(u,ne(p))}return o};function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.styleName&&!e.overrideOLStyle)return function(t){if("marker"===e.styleName)switch(t.getGeometry().getType()){case"Point":case"MultiPoint":return Se.marker(e)}return Se[e.styleName](e)};var n,i=e.nativeStyle,a=r,s=0,l=e.style&&e.style.type||(e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:void 0);if("FeatureCollection"===l||e.features&&e.features[0]&&"FeatureCollection"===e.features[0].type)return function(r){var o=this||r;n=o.getGeometry()&&o.getGeometry().getType();var i=o&&o.getProperties();i&&i.isCircle&&(n="Circle",s=i.radius),i&&i.isText&&(n="Text",a=[i.valueText]);var l=Object(re.set)("style.useSelectedStyle",i.canEdit,e);return je(n,l,t,a,null,s)};if(e&&e.properties&&e.properties.isText)return n="Text",a=[e.properties.valueText],je(n,e,t,a,null,s);if(e&&e.properties&&e.properties.isCircle)return n="Circle",s=e.properties.radius,je(n,e,t,a,null,s);if(!i&&e.style){if(i={stroke:new z.default(e.style.stroke?e.style.stroke:{color:Object(w.colorToRgbaStr)(e.style&&e.style.color||"#0000FF",o()(e.style.opacity)?1:e.style.opacity),lineDash:e.style.highlight?[10]:[0],width:e.style.weight||1}),fill:new C.default(e.style.fill?e.style.fill:{color:Object(w.colorToRgbaStr)(e.style&&e.style.fillColor||"#0000FF",o()(e.style.fillOpacity)?1:e.style.fillOpacity)})},"Point"===l&&(i={image:new B.default(te()({},i,{radius:e.style.radius||5}))}),e.style.iconUrl||e.style.iconGlyph){var c=Oe(e);return i=function(t){var r=this||t;switch(n=r.getGeometry().getType()){case"Point":case"MultiPoint":return c;default:return we(r,e)}}}return i=new T.default(i),"GeometryCollection"===l?i=function(o){var i,a=this||o;n=a.getGeometry().getType();var s=a.get("textGeometriesIndexes")||[],l=a.get("circles")||[],c=a.get("textValues");return"GeometryCollection"===a.getGeometry().getType()?a.getGeometry().getGeometries().reduce((function(o,a,p){if(("Point"===(n=a.getType())||"MultiPoint"===n)&&s.length&&-1!==s.indexOf(p)){var d=je("Text",e,t,[c[s.indexOf(p)]]);return d.setGeometry(a),o.concat([d])}if("Polygon"===n&&l.length&&-1!==l.indexOf(p)){var f=je("Circle",e,t,[]);return f.setGeometry(a),o.concat([f])}if("Point"===n||"MultiPoint"===n)return i=Oe({style:ae(ae({},e.style[n]),{},{highlight:e.style.highlight})}),o.concat(i.map((function(e){return e.setGeometry(a),e})));var m=je(n,e,t,r);return u()(m)?m.forEach((function(e){return e.setGeometry(a)})):m.setGeometry(a),o.concat([m])}),[]):"Point"===n||"MultiPoint"===n?(i=Oe({style:ae(ae({},e.style[n]),{},{highlight:e.style.highlight})}),t?new T.default({image:ce,geometry:a.getGeometry()}):i.map((function(e){return e.setGeometry(a.getGeometry()),e}))):je(n,e,t,r)}:("Circle"===l&&(s=e.features&&e.features.length&&e.features[0].properties&&e.features[0].properties.radius||10),je(l,e,t,r,i,s))}return i||we}function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"b",(function(){return _e})),r.d(t,"e",(function(){return Be})),r.d(t,"d",(function(){return ze})),r.d(t,"c",(function(){return We})),r.d(t,"f",(function(){return Ve})),r.d(t,"a",(function(){return He}));var Me=new Q.a,Ae={white:[255,255,255,1],blue:[0,153,255,1],width:3},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(U.isCircleStyle)(e)?new B.default({stroke:t,fill:r,radius:e.radius||5}):null},_e=function(e){if(Object(U.isMarkerStyle)(e)){if(e.iconUrl)return G.standard.getIcon({style:e});var t=e.iconLibrary||"extra";if(G[t])return G[t].getIcon({style:e})}return null},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(U.isStrokeStyle)(e)?new z.default(e.stroke&&S()(e.stroke)?e.stroke:{color:e.highlight?Ae.blue:Object(w.colorToRgbaStr)(e.color||e.stroke||"#0000FF",o()(e.opacity)?1:e.opacity),width:o()(e.weight)?1:e.weight,lineDash:l()(e.dashArray)&&a()(e.dashArray).split(" ")||u()(e.dashArray)&&e.dashArray||[0],lineCap:e.lineCap||"round",lineJoin:e.lineJoin||"round",lineDashOffset:e.dashOffset||0}):null},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(U.isFillStyle)(e)?new C.default(e.fill&&S()(e.fill)?e.fill:{color:Object(w.colorToRgbaStr)(e.fillColor||"#0000FF",o()(e.fillOpacity)?1:e.fillOpacity)}):null},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return Object(U.isTextStyle)(e)?new A.default({fill:r,offsetY:e.offsetY||-4*Math.sqrt(e.fontSize),rotation:e.textRotationDeg?e.textRotationDeg/180*Math.PI:0,textAlign:e.textAlign||"center",text:e.label||n&&n.properties&&n.properties.valueText||"New",font:e.font||"Arial",stroke:e.highlight?new z.default({color:[255,255,255,1],width:2}):t,image:e.highlight?new B.default({radius:5,fill:null,stroke:new z.default({color:Object(w.colorToRgbaStr)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null}):null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"green":n,i=e.applyToPolygon,a=void 0!==i&&i;return new T.default({image:new B.default({radius:r,fill:new C.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!a&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return n.length>1?new W.a(m()(n)):null}})},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,r=void 0===t?5:t,n=e.fillColor,o=void 0===n?"red":n,i=e.applyToPolygon,a=void 0!==i&&i;return new T.default({image:new B.default({radius:r,fill:new C.default({color:o})}),geometry:function(e){var t=e.getGeometry(),r=t.getType();if(!a&&"Polygon"===r)return null;var n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new W.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:b()(n))}})},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{radius:3,fillColor:"green",applyToPolygon:!0},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{radius:3,fillColor:"red",applyToPolygon:!0},n=[];return h()(e,(function(e){return"startPoint"===e.geometry&&e.filtering}))||n.push(De(Pe({},t))),h()(e,(function(e){return"endPoint"===e.geometry&&e.filtering}))||n.push(ke(Pe({},r))),n};Object(U.registerGeometryFunctions)("centerPoint",(function(e){var t=e.getGeometry(),r=t.getExtent(),n=t.getCenter&&t.getCenter()||[r[2]-r[0],r[3]-r[1]];return new W.a(n)}),"Point"),Object(U.registerGeometryFunctions)("lineToArc",(function(e){var t=e.getGeometry().getType();if("LineString"===t||"MultiPoint"===t){var r=e.getGeometry().getCoordinates();return r=Object(O.transformLineToArcs)(r.map((function(e){var t=Object(O.reproject)(e,"EPSG:3857","EPSG:4326");return[t.x,t.y]}))),new V.a(r.map((function(e){var t=Object(O.reproject)(e,"EPSG:4326","EPSG:3857");return[t.x,t.y]})))}return e.getGeometry()}),"LineString"),Object(U.registerGeometryFunctions)("startPoint",(function(e){var t=e.getGeometry(),r="Polygon"===t.getType()?t.getCoordinates()[0]:t.getCoordinates();return r.length>1?new W.a(m()(r)):null}),"Point"),Object(U.registerGeometryFunctions)("endPoint",(function(e){var t=e.getGeometry(),r=t.getType(),n="Polygon"===r?t.getCoordinates()[0]:t.getCoordinates();return new W.a(n.length>3?n[n.length-("Polygon"===r?2:1)]:b()(n))}),"Point");var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.geometry?function(t){var r=e.geometry||"centerPoint";return U.geometryFunctions[r].func(t)}:function(e){return e.getGeometry()}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!o()(e.filtering)||e.filtering},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=Ge(t,e);if(n){var o=Ie(t),i=Re(t),a=Ce(t,o,i);if(Object(U.isMarkerStyle)(t))return _e(t).map((function(e){return e.setGeometry(Fe(t)),e}));if(Object(U.isSymbolStyle)(t))return G.standard.getIcon({style:t}).map((function(e){return e.setGeometry(Fe(t)),e}));var s=Le(t,o,i,e),l=t.zIndex,c=new T.default({geometry:Fe(t),image:a,text:s,stroke:!s&&!a&&o||null,fill:!s&&!a&&i||null,zIndex:l});return[c].concat(e&&e.properties&&e.properties.canEdit&&!e.properties.isCircle?Ne(r):[])}return new T.default({})},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=e.style;if(t){var r=u()(t)?t:d()(t);return r.reduce((function(t,n){return t.concat(Ue(e,n,r))}),[])}return[]},ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.style&&e.style.url)return Y.a.get(e.style.url).then((function(t){return Object(U.getStyleParser)(e.style.format).readStyle(t.data).then((function(e){return Me.writeStyle(e)}))}));if(e.style&&"geostyler"===e.style.format)return Me.writeStyle(e.style.styleObj);var n=Ee(e,t,r);return e.asPromise?new H.Promise((function(e){e(n)})):n},We=Oe,Ve=de,He=ge},"./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="},"./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/layer/Tile.js"),i=r("./node_modules/ol/source/BingMaps.js"),a=function e(t,r){t.getSource&&"error"===t.getSource().getState()&&r.onError&&r.onError(t),t.getSource&&"loading"===t.getSource().getState()&&setTimeout(e.bind(null,t,r),1e3)};n.default.registerType("bing",{create:function(e){var t=e.apiKey,r=e.maxNativeZoom||19,n=new o.a({msId:e.id,preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,source:new i.a({key:t,imagerySet:e.name,maxZoom:r})});return setTimeout(a.bind(null,n,e),1e3),n},isValid:function(e){return!e.getSource||"error"!==e.getSource().getState()}})},"./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js":function(e,t,r){"use strict";r.r(t);var n,o,i=r("./MapStore2/web/client/utils/openlayers/Layers.js"),a=r("./node_modules/react/index.js"),s=r.n(a),l=r("./node_modules/ol/proj.js"),c={},u="ontouchstart"in window,p=u?"touchstart":"mousedown",d=u?"touchmove":"mousemove",f=u?"touchend":"mouseup";i.default.registerType("google",{create:function(e,t,r){if(document.getElementById(r+"gmaps")){var o=window.google;n||(n={HYBRID:o.maps.MapTypeId.HYBRID,SATELLITE:o.maps.MapTypeId.SATELLITE,ROADMAP:o.maps.MapTypeId.ROADMAP,TERRAIN:o.maps.MapTypeId.TERRAIN}),c[r]||(c[r]=new o.maps.Map(document.getElementById(r+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1})),c[r].setMapTypeId(n[e.name]);var i=document.getElementById(r+"gmaps"),a=function(){if(c[r]&&"hidden"!==i.style.visibility){var e=Object(l.transform)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");c[r].setCenter(new o.maps.LatLng(e[1],e[0]))}},s=function(){c[r]&&"hidden"!==i.style.visibility&&c[r].setZoom(t.getView().getZoom())},u=function(e,t){var r=t[0],n=t[1],o=[[r/2,n/2],[-r/2,n/2],[-r/2,-n/2],[r/2,-n/2]].map((function(t){return r=t,n=e*Math.PI/180,o=r[0],i=r[1],[o*Math.cos(n)-i*Math.sin(n),o*Math.sin(n)+i*Math.cos(n)];var r,n,o,i})),i=o.map((function(e){return e[0]})),a=o.map((function(e){return e[1]})),s=Math.max.apply(null,i),l=Math.min.apply(null,i),c=Math.max.apply(null,a),u=Math.min.apply(null,a),p=Math.abs(c)+Math.abs(u);return{width:Math.abs(s)+Math.abs(l),height:p}},m=function(){if("hidden"!==i.style.visibility){var e=180*t.getView().getRotation()/Math.PI;i.style.transform="rotate("+e+"deg)",o.maps.event.trigger(c[r],"resize")}},y=function(){var e=t.getView();e.on("change:center",a),e.on("change:resolution",s),e.on("change:rotation",m)};t.on("change:view",y),y(),a(),s();var b=t.getViewport(),g=document.getElementById(r+"gmaps").style.transform,h=!1,v=!1;b.addEventListener(p,(function(){h=!0})),b.addEventListener(f,(function(){v&&h&&function(){var e=document.getElementById(r+"gmaps").style.transform;if(c[r]&&e!==g&&-1!==e.indexOf("rotate")){var n=parseFloat(e.match(/[\+\-]?\d+\.?\d*/i)[0]),s=u(-n,t.getSize());i.style.width=s.width+"px",i.style.height=s.height+"px",i.style.left=Math.round((t.getSize()[0]-s.width)/2)+"px",i.style.top=Math.round((t.getSize()[1]-s.height)/2)+"px",o.maps.event.trigger(c[r],"resize"),a()}}(),g=document.getElementById(r+"gmaps").style.transform,h=!1})),b.addEventListener(d,(function(){v=h}))}return null},render:function(e,t,r){o||(o=e.name);var i={zIndex:0};if(!0===e.visibility){var a=document.getElementById(r+"gmaps");a&&(a.style.visibility="visible"),c[r]&&n&&(c[r].setMapTypeId(n[e.name]),c[r].setTilt(0))}else i.visibility="hidden";if(o===e.name){var l=document.getElementById(r+"gmaps");return l&&(l.style.visibility=e.visibility?"visible":"hidden"),s.a.createElement("div",{id:r+"gmaps",className:"fill",style:i})}return null},update:function(e,t,r,n,o){if(c[o]){var i=window.google;if(!r.visibility&&t.visibility){var a=n.getView(),s=Object(l.transform)(a.getCenter(),"EPSG:3857","EPSG:4326");c[o].setCenter(new i.maps.LatLng(s[1],s[0])),c[o].setZoom(a.getZoom())}}},remove:function(e,t,r){o===e.name&&(o=void 0,delete c[r])}})},"./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/Graticule.js"),i=r("./node_modules/ol/style/Stroke.js");n.default.registerType("graticule",{create:function(e,t){var r=new o.a({strokeStyle:e.style||new i.default({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]})});return r.setMap(t),{detached:!0,remove:function(){r.setMap(null)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js":function(e,t,r){"use strict";r.r(t),r("./MapStore2/web/client/utils/openlayers/Layers.js").default.registerType("mapquest",{create:function(e){return e.onError(),!1},isValid:function(){return!1}})},"./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/ol/source/OSM.js"),i=r("./node_modules/ol/layer/Tile.js");n.default.registerType("osm",{create:function(e){return new i.a({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new o.a})}})},"./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./node_modules/eventlistener/eventlistener.js"),i=r.n(o),a=r("./node_modules/ol/Overlay.js");n.default.registerType("overlay",{create:function(e,t){var r=function(e,t){var r=e.cloneNode(!0);r.id=t.id+"-overlay",r.className=(t.className||e.className)+"-overlay",r.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var r=0;r<t.length;r++){var n=t.item(r);n.removeAttribute("data-reactid"),e(n.children||[])}}(r.children||[]);var n=t.closeClass||"close";if(t.onClose&&1===r.getElementsByClassName(n).length){var o=r.getElementsByClassName(n)[0];i.a.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}if(t.onLink)for(var a=r.getElementsByTagName("a"),s=0;s<a.length;s++)i.a.add(a[s],"click",t.onLink);return r}(document.getElementById(e.id),e);document.body.appendChild(r);var n=new a.a({id:e.id,element:r,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(n),{detached:!0,remove:function(){t.removeOverlay(n)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/openlayers/Layers.js"),i=r("./node_modules/ol/source/XYZ.js"),a=r("./node_modules/ol/tilegrid/TileGrid.js"),s=r("./node_modules/ol/layer/Tile.js");o.default.registerType("tms",{create:function(e){return new s.a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.get)(e,"bbox.bounds",{}),r=t.minx,o=t.miny,s=t.maxx,l=t.maxy,c={projection:e.srs,url:"".concat(e.tileMapUrl,"/{z}/{x}/{-y}.").concat(e.extension),attributions:e.attribution?[e.attribution]:[]},u=new i.a(c),p=u.getTileGrid();if(e.forceDefaultTileGrid){var d=p.getExtent(),f=[d[0],d[1]],m=new a.a({origin:f,extent:e.bbox&&[r,o,s,l],resolutions:p.getResolutions(),tileSize:e.tileSize});u.setTileGridForProjection(e.srs,m),"EPSG:3857"===e.srs&&u.setTileGridForProjection("EPSG:900913",m)}else e.tileSets&&u.setTileGridForProjection(e.srs,new a.a({origin:e.origin,extent:e.bbox&&[r,o,s,l],resolutions:e.tileSets.map((function(e){return e.resolution})),tileSize:e.tileSize}));var y={msId:e.id,extent:e.bbox&&[r,o,s,l],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:u};return y}(e))}})},"./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/object-assign/index.js"),o=r.n(n),i=r("./MapStore2/web/client/utils/openlayers/Layers.js"),a=r("./MapStore2/web/client/utils/TileConfigProvider.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/TileProviderUtils.js"),u=r("./node_modules/ol/source/XYZ.js"),p=r("./node_modules/ol/layer/Tile.js");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}i.default.registerType("tileprovider",{create:function(e){var t=d(a.default.getLayerConfig(e.provider,e),2),r=t[0],n=t[1];return n.url=r,new p.a(function(e){var t,r,n,i,a,s,p,f,m,y=e.url.match(/(\{s\})/)?Object(c.getUrls)(e):[Object(c.template)(e.url,e)],b=o()({},{urls:y,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),g=new u.a(b);return o()({},{msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:g},e.bounds?{extent:(t=e.bounds,r=e.srs?e.srs:"EPSG:3857",n=d(t,2),i=d(n[0],2),a=i[0],s=i[1],p=d(n[1],2),f=p[0],m=p[1],l.a.reprojectBbox([s,a,m,f],"EPSG:4326",l.a.normalizeSRS(r)))}:{})}(n))}})},"./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),i=r("./MapStore2/node_modules/lodash/isEqual.js"),a=r.n(i),s=r("./node_modules/ol/source/Vector.js"),l=r("./node_modules/ol/layer/Vector.js");n.default.registerType("vector",{create:function(e){var t=new s.a({features:[]}),r=Object(o.d)(e);return new l.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:r,opacity:e.opacity})},update:function(e,t,r){var n=r.crs||r.srs||"EPSG:3857",i=t.crs||t.srs||"EPSG:3857";i!==n&&e.getSource().forEachFeature((function(e){e.getGeometry().transform(n,i)})),a()(r.style,t.style)&&r.styleName===t.styleName||e.setStyle(Object(o.d)(t))},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/head.js"),o=r.n(n),i=r("./node_modules/url/url.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/MapUtils.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/openlayers/Layers.js"),d=r("./MapStore2/web/client/utils/SecurityUtils.js"),f=r.n(d),m=r("./node_modules/ol/proj.js"),y=r("./node_modules/ol/extent.js"),b=r("./node_modules/ol/tilegrid/TileGrid.js"),g=r("./node_modules/ol/layer/VectorTile.js"),h=r("./node_modules/ol/source/VectorTile.js"),v=r("./node_modules/ol/format/MVT.js"),S=r("./MapStore2/web/client/utils/VectorTileUtils.js"),w=r("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js");function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=function(e){var t=l.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),r=Object(m.get)(t),n=r.getMetersPerUnit(),i=o()(e.tilingSchemes&&e.tilingSchemes.schemes&&e.tilingSchemes.schemes.filter((function(e){return e.supportedCRS===t})))||{},s=i.identifier,c=i.tileMatrix,p=i.boundingBox,d=c&&c.map((function(e){return e.scaleDenominator})),O=u.a.getResolutions(),E=e.resolutions||d&&d.map((function(e){return 28e-5*e/n}))||O,T="ne"===r.getAxisOrientation().substr(0,2),M=c&&c.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topLeftCorner;return t})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=P(e,2),r=t[0],n=t[1];return T?[n,r]:[r,n]})),A=c&&c.map((function(e){return[e.tileWidth,e.tileHeight]})),C=e.bbox,_=C?Object(y.a)([parseFloat(C.bounds.minx),parseFloat(C.bounds.miny),parseFloat(C.bounds.maxx),parseFloat(C.bounds.maxy)],Object(m.getTransform)(C.crs,e.srs)):null,I=p&&p.lowerCorner&&p.upperCorner?[].concat(x(p.lowerCorner),x(p.upperCorner)):null,R=new b.a({extent:I,minZoom:0,origins:M,origin:M?void 0:[20037508.3428,-20037508.3428],resolutions:E,tileSizes:A,tileSize:A?void 0:[256,256]}),L=(e.url||"").replace(/\{tilingSchemeId\}/,s).replace(/\{level\}/,"{z}").replace(/\{row\}/,"{y}").replace(/\{col\}/,"{x}"),D={};f.a.addAuthenticationParameter(L,D,e.securityToken);var k=decodeURI(L),N=a.a.format({query:j({},D)}),F=Object(S.isVectorFormat)(e.format)&&w.a[e.format]||v.a,G=new h.a({format:new F({dataProjection:t,layerName:"_layer_"}),tileGrid:R,url:k+N}),U=new g.a({extent:_,msId:e.id,source:G,visible:!1!==e.visibility,zIndex:e.zIndex});return Object(w.b)(e.vectorStyle,U),U};p.default.registerType("wfs3",{create:A,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs?A(t):null},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),i=r("./node_modules/ol/source/Vector.js"),a=r("./node_modules/ol/layer/Vector.js"),s=r("./node_modules/ol/format/GeoJSON.js"),l=r("./MapStore2/web/client/api/WFS.js"),c=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),u=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e,t){return function(r,n,o){var i=Object(c.optionsToVendorParams)(t),a=o.getCode(),s=function(){e.removeLoadedExtent(r)};Object(l.getFeature)(t.url,t.name,d({outputFormat:"application/json",srsname:a},i)).then((function(t){200===t.status?e.addFeatures(e.getFormat().readFeatures(t.data)):s()})).catch((function(e){s()}))}},y=function(e,t){return Object(o.d)(d(d({},e),{},{style:d(d({},e.style||{}),{},{type:t})}))},b=function(e,t){return e.geometryType?e.setStyle(y(t,e.geometryType)):Object(l.describeFeatureType)(t.url,t.name).then(u.extractGeometryType).then((function(r){e.geometryType=r,e.setStyle(y(t,r))}))};n.default.registerType("wfs",{create:function(e){var t=new i.a({format:new s.a});t.setLoader(m(t,e));var r=Object(o.d)(e),n=new a.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:r,opacity:e.opacity});return b(n,e),n},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.crs||r.srs||"EPSG:3857",o=t.crs||t.srs||"EPSG:3857",i=e.getSource();o!==n&&i.forEachFeature((function(e){e.getGeometry().transform(n,o)})),Object(u.needsReload)(r,t)&&(i.setLoader(m(i,t)),i.clear(),i.refresh()),t.style===r.style&&t.styleName===r.styleName||b(e,t)},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/web/client/components/I18N/Message.jsx"),a=r.n(i),s=r("./MapStore2/web/client/utils/openlayers/Layers.js"),l=r("./MapStore2/node_modules/lodash/isNil.js"),c=r.n(l),u=r("./MapStore2/node_modules/lodash/isEqual.js"),p=r.n(u),d=r("./MapStore2/node_modules/lodash/union.js"),f=r.n(d),m=r("./MapStore2/node_modules/lodash/isArray.js"),y=r.n(m),b=r("./node_modules/object-assign/index.js"),g=r.n(b),h=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),v=r.n(h),S=r("./MapStore2/web/client/utils/ProxyUtils.js"),w=r.n(S),O=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),j=r("./MapStore2/web/client/utils/SecurityUtils.js"),E=r.n(j),x=r("./MapStore2/web/client/utils/LayersUtils.js"),P=r("./MapStore2/web/client/utils/MapUtils.js"),T=r.n(P),M=r("./MapStore2/web/client/utils/ElevationUtils.js"),A=r.n(M),C=r("./node_modules/ol/layer/Image.js"),_=r("./node_modules/ol/source/ImageWMS.js"),I=r("./node_modules/ol/proj.js"),R=r("./node_modules/ol/tilegrid/TileGrid.js"),L=r("./node_modules/ol/layer/Tile.js"),D=r("./node_modules/ol/source/TileWMS.js"),k=r("./node_modules/ol/source/VectorTile.js"),N=r("./node_modules/ol/layer/VectorTile.js"),F=r("./MapStore2/web/client/utils/VectorTileUtils.js"),G=r("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js"),U=r("./MapStore2/web/client/utils/LayerLocalizationUtils.js");function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=Object(O.optionsToVendorParams)(e),r=g()({},e.baseParams,{LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:v.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:v.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),TILED:!e.singleTile&&(!!c()(e.tiled)||e.tiled),VERSION:e.version||"1.3.0"},g()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:Object(U.generateEnvString)(e.env)}:{}));return E.a.addAuthenticationToSLD(r,e)}function H(e,t){var r=t;w.a.needProxy(t)&&(r=w.a.getProxyUrl()+encodeURIComponent(t));e.getImage().src=r}function q(e){return e.join(":")}function Y(e,t,r){var n=r;e&&w.a.needProxy(r)&&(n=w.a.getProxyUrl()+encodeURIComponent(r));var o=t.getTileCoord();t.getImage().src="",A.a.loadTile(n,o,q(o))}function Z(e){try{var t=function(e,t){var r=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,r.getView().getZoom())}(this,e),r=this.getSource().getTileGrid().getTileSize(),n=A.a.getElevation(q(t),function(e,t,r){var n=e.getSource().getTileGrid(),o=n.getTileCoordExtent(r),i=n.getTileSize()/(o[2]-o[0]);return{x:Math.floor((t[0]-o[0])*i),y:Math.floor((o[3]-t[1])*i)}}(this,e,t),r,this.get("nodata"));return n.available?n.value:o.a.createElement(a.a,{msgId:n.message})}catch(e){return o.a.createElement(a.a,{msgId:"elevationLoadingError"})}}var Q=function(e){return e&&Object(x.creditsToAttribution)(e)||void 0},K=function(e,t){var r=function(e){return e.map((function(e){return e.split("?")[0]}))}(y()(e.url)?e.url:[e.url]),n=V(e)||{};r.forEach((function(t){return E.a.addAuthenticationParameter(t,n,e.securityToken)}));var o=Object(F.isVectorFormat)(e.format);if(e.singleTile&&!o)return new C.a({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:new _.default({url:r[0],crossOrigin:e.crossOrigin,attributions:Q(e.credits),params:n,ratio:e.ratio||1})});var i,a=t&&t.getView()&&t.getView().getProjection()&&t.getView().getProjection().getCode()||"EPSG:3857",s=Object(I.get)(v.a.normalizeSRS(e.srs||a,e.allowedSRS)).getExtent(),l=function(e,t){return t.useForElevation?g()({},e,{tileLoadFunction:Y.bind(null,[t.forceProxy])}):t.forceProxy?g()({},e,{tileLoadFunction:H}):e}({attributions:Q(e.credits),urls:r,crossOrigin:e.crossOrigin,params:n,tileGrid:new R.a({extent:s,resolutions:e.resolutions||T.a.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[s[0],s[1]]})},e),c=new D.default(z({},l)),u={msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex};return(i=o?new N.a(z(z({},u),{},{source:new k.a(z(z({},l),{},{format:new G.a[e.format]({layerName:"_layer_"}),tileUrlFunction:function(e,t,r){return c.tileUrlFunction(e,t,r)}}))})):new L.a(z(z({},u),{},{source:c}))).set("map",t),o&&(i.set("wmsSource",c),e.vectorStyle&&Object(G.b)(e.vectorStyle,i)),e.useForElevation&&(i.set("nodata",e.nodata),i.set("getElevation",Z.bind(i))),i};s.default.registerType("wms",{create:K,update:function(e,t,r,n){var o=Object(F.isVectorFormat)(t.format);if(function(e,t){return e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||Object(F.isVectorFormat)(e.format)!==Object(F.isVectorFormat)(t.format)||Object(F.isVectorFormat)(e.format)&&Object(F.isVectorFormat)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles||e.tileSize!==t.tileSize}(r,t))return K(t,n);var i=!1;o&&t.vectorStyle&&!p()(t.vectorStyle,r.vectorStyle||{})&&(Object(G.b)(t.vectorStyle,e),i=!0);var a=e.get("wmsSource")||e.getSource(),s=o?e.getSource():null;if(r.srs!==t.srs){var l=Object(I.get)(v.a.normalizeSRS(t.srs,t.allowedSRS)).getExtent();if(t.singleTile&&!o)e.setExtent(l);else{var u=new R.a({extent:l,resolutions:t.resolutions||T.a.getResolutions(),tileSize:t.tileSize?t.tileSize:256,origin:t.origin?t.origin:[l[0],l[1]]});a.tileGrid=u,s&&(s.tileGrid=u)}i=!0}r.credits!==t.credits&&t.credits&&(a.setAttributions(Q(t.credits)),i=!0);var d,m,y=!1;if(r&&a&&a.updateParams&&(r.params&&t.params?y=f()(Object.keys(r.params),Object.keys(t.params)).reduce((function(e,n){return t.params[n]!==r.params[n]||e}),!1):(!r.params&&t.params||r.params&&!t.params)&&(y=!0),d=V(r),m=V(t),y=y||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce((function(e,t){return d[t]!==m[t]||e}),!1),i=i||y),i&&(a.refresh&&a.refresh(),s&&(s.clear(),s.refresh()),y)){var b=g()(m,E.a.addAuthenticationToSLD(Object(O.optionsToVendorParams)(t)||{},t));a.updateParams(g()(b,Object.keys(d||{}).reduce((function(e,t){return c()(b[t])?g()(e,W({},t,void 0)):e}),{})))}return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/openlayers/Layers.js"),o=r("./MapStore2/node_modules/lodash/castArray.js"),i=r.n(o),a=r("./MapStore2/node_modules/lodash/head.js"),s=r.n(a),l=r("./MapStore2/node_modules/lodash/last.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/SecurityUtils.js"),p=r.n(u),d=r("./MapStore2/web/client/utils/WMTSUtils.js"),f=r.n(d),m=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),y=r.n(m),b=r("./MapStore2/web/client/utils/MapUtils.js"),g=r.n(b),h=r("./MapStore2/web/client/utils/VectorTileUtils.js"),v=r("./node_modules/url/url.js"),S=r.n(v),w=r("./node_modules/ol/proj.js"),O=r("./node_modules/ol/extent.js"),j=r("./node_modules/ol/layer/Tile.js"),E=r("./node_modules/ol/layer/VectorTile.js"),x=r("./node_modules/ol/source/WMTS.js"),P=r("./node_modules/ol/source/VectorTile.js"),T=r("./node_modules/ol/tilegrid/WMTS.js"),M=r("./node_modules/ol/format/MVT.js"),A=r("./node_modules/ol/format/GeoJSON.js"),C=r("./node_modules/ol/format/TopoJSON.js"),_=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D={"application/vnd.mapbox-vector-tile":M.a,"application/json;type=geojson":A.a,"application/json;type=topojson":C.a};var k=function(e){var t="RESTful"===e.requestEncoding?"REST":e.requestEncoding,r=function(e,t){return e.map((function(e){return"REST"===t?e:e.split("?")[0]}))}(i()(e.url),t),n=y.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=Object(w.get)(n),a=o.getMetersPerUnit(),s=f.a.getTileMatrix(e,n),l=s.tileMatrixSetName,u=s.tileMatrixSet,d=s.matrixIds,m=u&&(null==u?void 0:u.TileMatrix.map((function(e){return Number(e.ScaleDenominator)}))),b=g.a.getResolutions(),v=e.resolutions||m&&m.map((function(e){return 28e-5*e/a}))||b,M="ne"===o.getAxisOrientation().substr(0,2),A=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TopLeftCorner;return t&&y.a.parseString(t)})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,r=e.y;return M?[r,t]:[t,r]})),C=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.MatrixWidth,r=e.MatrixHeight;return[parseInt(t,10),parseInt(r,10)]})),I=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TileWidth,r=e.TileHeight;return[parseInt(t,10),parseInt(r,10)]})),L=e.bbox,k=L?Object(O.a)([parseFloat(L.bounds.minx),parseFloat(L.bounds.miny),parseFloat(L.bounds.maxx),parseFloat(L.bounds.maxy)],Object(w.getTransform)(L.crs,e.srs)):o.getExtent(),N=Object(O.B)(k,o.getExtent());Object(O.H)(N)&&(N=o.getExtent());var F={};r.forEach((function(t){return p.a.addAuthenticationParameter(t,F,e.securityToken)}));var G=S.a.format({query:R({},F)}),U=e.maxResolution||c()(b.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return v[0]/e*256<.5}))),B=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",z=Object(h.isVectorFormat)(B),W={requestEncoding:t,urls:r.map((function(e){return e+G})),layer:e.name,version:e.version||"1.0.0",matrixSet:l,format:B,style:e.style||"",tileGrid:new T.b({origins:A,origin:A?void 0:[20037508.3428,-20037508.3428],resolutions:v,matrixIds:f.a.limitMatrix((d||f.a.getDefaultMatrixId(e)||[]).map((function(e){return e.identifier})),v.length),sizes:C,extent:N,tileSizes:I,tileSize:!I&&(e.tileSize||[256,256])}),wrapX:!0},V=new x.a(W),H=new(z?E.a:j.a)({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,maxResolution:U,visible:!1!==e.visibility,source:z?new P.a(R(R({},W),{},{format:new D[e.format]({dataProjection:n}),tileUrlFunction:function(){return V.tileUrlFunction.apply(V,arguments)}})):V});return z&&H.setStyle(Object(_.d)(e)),H};n.default.registerType("wmts",{create:k,update:function(e,t,r){return r.securityToken!==t.securityToken||r.srs!==t.srs||r.format!==t.format||r.style!==t.style?k(t):null},isCompatible:function(e){return!!s()(y.a.getEquivalentSRS(e.srs||"EPSG:3857").filter((function(t){return function(e,t){var r=f.a.getTileMatrix(t,e),n=r.tileMatrixSetName,o=r.tileMatrixSet;return o?y.a.getEPSGCode(o["ows:SupportedCRS"])===e:n===e}(t,e)})))}})},"./MapStore2/web/client/components/map/openlayers/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js").default,GoogleLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js").default,GraticuleLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js").default,MapQuest:r("./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js").default,OSMLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js").default,OverlayLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js").default,TMSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js").default,TileProviderLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js").default,VectorLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js").default,WFSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js").default,WFS3Layer:r("./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js").default,WMSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js").default,WMTSLayer:r("./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js").default}},"./MapStore2/web/client/components/map/plugins sync recursive ^\\.\\/.*\\.js$":function(e,t,r){var n={"./cesium.js":"./MapStore2/web/client/components/map/plugins/cesium.js","./leaflet.js":"./MapStore2/web/client/components/map/plugins/leaflet.js","./openlayers.js":"./MapStore2/web/client/components/map/plugins/openlayers.js","./sink.js":"./MapStore2/web/client/components/map/plugins/sink.js"};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/components/map/plugins sync recursive ^\\.\\/.*\\.js$"},"./MapStore2/web/client/components/map/plugins/cesium.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").createSink;e.exports=function(){return r("./MapStore2/web/client/components/map/cesium/plugins/index.js"),{Map:r("./MapStore2/web/client/components/map/cesium/Map.jsx"),Layer:r("./MapStore2/web/client/components/map/cesium/Layer.jsx"),Feature:n((function(){}))}}},"./MapStore2/web/client/components/map/plugins/leaflet.js":function(e,t,r){e.exports=function(){return r("./MapStore2/web/client/components/map/leaflet/plugins/index.js"),{Map:r("./MapStore2/web/client/components/map/leaflet/Map.jsx"),Layer:r("./MapStore2/web/client/components/map/leaflet/Layer.jsx"),Feature:r("./MapStore2/web/client/components/map/leaflet/Feature.jsx"),Locate:r("./MapStore2/web/client/components/map/leaflet/Locate.jsx"),MeasurementSupport:r("./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx"),Overview:r("./MapStore2/web/client/components/map/leaflet/Overview.jsx"),ScaleBar:r("./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx"),DrawSupport:r("./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx"),PopupSupport:r("./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx").default}}},"./MapStore2/web/client/components/map/plugins/openlayers.js":function(e,t,r){e.exports=function(){return r("./MapStore2/web/client/components/map/openlayers/plugins/index.js"),{Map:r("./MapStore2/web/client/components/map/openlayers/Map.jsx").default,Layer:r("./MapStore2/web/client/components/map/openlayers/Layer.jsx").default,Feature:r("./MapStore2/web/client/components/map/openlayers/Feature.jsx").default,Locate:r("./MapStore2/web/client/components/map/openlayers/Locate.jsx").default,MeasurementSupport:r("./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx").default,Overview:r("./MapStore2/web/client/components/map/openlayers/Overview.jsx").default,ScaleBar:r("./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx").default,DrawSupport:r("./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx").default,PopupSupport:r("./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx").default}}},"./MapStore2/web/client/components/map/plugins/sink.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").createSink;e.exports=function(){return{Map:n((function(){})),Layer:n((function(){})),Feature:n((function(){}))}}},"./MapStore2/web/client/components/map/popups/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),a=r.n(i),s=r("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),l=r("./node_modules/recompose/es/Recompose.js"),c=r("./node_modules/react-redux/es/index.js"),u=r("./node_modules/reselect/es/index.js"),p=r("./MapStore2/web/client/selectors/mapInfo.js"),d=r("./MapStore2/web/client/actions/mapInfo.js"),f=r("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx"),m=r.n(f),y=r("./MapStore2/node_modules/lodash/lodash.js"),b=r("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx"),g=r.n(b),h=r("./MapStore2/web/client/selectors/map.js").isMouseMoveIdentifyActiveSelector,v=Object(l.compose)(Object(c.connect)(Object(u.createSelector)(p.indexSelector,(function(e){return{index:e}})),{setIndex:d.changePage}),Object(l.defaultProps)({index:0,responses:[]})),S=Object(u.createSelector)([p.responsesSelector,p.validResponsesSelector,p.requestsSelector,p.generalInfoFormatSelector,p.showEmptyMessageGFISelector,h,p.isLoadedResponseSelector],(function(e,t,r,n,o,i,a){return{responses:e,validResponses:t,requests:r,format:n,showEmptyMessageGFI:o,missingResponses:(r||[]).length-(e||[]).length,renderEmpty:i,loaded:a}})),w=Object(l.compose)(Object(c.connect)(S),Object(l.defaultProps)({responses:[],container:function(e){var t=e.index,r=e.children;return o.a.createElement(o.a.Fragment,null,Object(y.isArray)(r)&&r[t]||r)},header:g.a}),v,s.defaultViewerDefaultProps,s.defaultViewerHandlers,a()((function(e){var t=e.loaded;return Object(y.isUndefined)(t)})))(m.a);r.d(t,"IDENTIFY_POPUP",(function(){return O}));var O="identify";t.default={identify:w}},"./MapStore2/web/client/components/mapcontrols/annotations/CoordinatesEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=r("./node_modules/react/index.js"),h=r("./node_modules/prop-types/index.js"),v=r("./node_modules/react-bootstrap/es/index.js"),S=v.FormGroup,w=v.ControlLabel,O=v.MenuItem,j=v.DropdownButton,E=v.Glyphicon,x=r("./node_modules/react-select/dist/react-select.es.js").default,P=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),T=P(E),M=P(j),A=r("./MapStore2/node_modules/lodash/lodash.js"),C=A.head,_=A.isNaN,I=A.get,R=A.isEmpty,L=r("./MapStore2/web/client/utils/LocaleUtils.js"),D=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),k=r("./MapStore2/web/client/components/misc/enhancers/draggableContainer.jsx"),N=r("./MapStore2/web/client/components/I18N/Message.jsx"),F=r("./MapStore2/web/client/utils/AnnotationsUtils.js"),G=F.validateCoords,U=F.coordToArray,B=r("./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx"),z=r("./MapStore2/web/client/components/mapcontrols/annotations/MeasureEditor.jsx"),W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,r,n,o=d(s);function s(){var e;c(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(m(e=o.call.apply(o,[this].concat(r))),"getValidationStateRadius",(function(e){var t=parseFloat(e);return _(t)?"error":null})),b(m(e),"renderLabelTexts",(function(t,r){var n=r.textLabels,o=r.featurePropValue;return"Polygon"===e.props.type?!R(n)&&n[t].text:0!==t?R(n)?!R(o)&&o[0].formattedValue:n[t-1].text:null})),b(m(e),"validateCoordinates",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(t&&t.length){var o=t.filter(G);return r?o.length>e.props.componentsValidation[e.props.type].min||o.length>=e.props.componentsValidation[e.props.type].min&&!G(t[n]):o.length>=e.props.componentsValidation[e.props.type].min}return!1})),b(m(e),"validateCircle",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.properties.radius;if(t&&t.length){var n=C(t);return!_(parseFloat(r))&&G(n)}return!1})),b(m(e),"validateText",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.properties.valueText;if(t&&t.length){var n=C(t);return!!r&&G(n)}return!1})),b(m(e),"isValid",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,r=arguments.length>1?arguments[1]:void 0;return e[e.props.componentsValidation[e.props.type].validation](t,!1,r)})),b(m(e),"addCoordPolygon",(function(t){if("Polygon"===e.props.type){var r=t.filter(G);return t.concat([r.length?r[0]:{lat:"",lon:""}])}return t})),b(m(e),"change",(function(t,r){var n=e.props.components,o=_(parseFloat(r.lat))?"":parseFloat(r.lat),i=_(parseFloat(r.lon))?"":parseFloat(r.lon);n[t]={lat:o,lon:i};var a=e.addCoordPolygon(n);e.props.onChange(a,e.props.properties.radius,e.props.properties.valueText,e.props.mapProjection),e.isValid(n)?(e.props.isMouseEnterEnabled||"LineString"===e.props.type||"Polygon"===e.props.type)&&e.props.onHighlightPoint(n[t]):((e.props.isMouseLeaveEnabled||"LineString"===e.props.type||"Polygon"===e.props.type)&&e.props.onHighlightPoint(null),e.props.onSetInvalidSelected("coords",n.map(U)))})),e}return t=s,(r=[{key:"renderCircle",value:function(){var e=this;return g.createElement("div",{style:{flex:1,overflowY:"auto",padding:"0 10px"}},g.createElement("div",null,g.createElement(S,{validationState:this.getValidationStateRadius(this.props.properties.radius)},g.createElement(w,null,g.createElement(N,{msgId:"annotations.editor.radius"})),g.createElement(z,l({placeholder:"radius"},this.props.measureOptions,{value:this.props.properties.radius,projection:this.props.mapProjection,name:"radius",onChange:function(t,r){e.isValid(e.props.components,t)?e.props.onChangeRadius(parseFloat(t),e.props.components.map(U),r):""!==t?e.props.onChangeRadius(parseFloat(t),[],r):(e.props.onChangeRadius(null,e.props.components.map(U),r),e.props.onSetInvalidSelected("radius",e.props.components.map(U)))},step:1,type:"number"})))))}},{key:"render",value:function(){var e=this,t=this.props.features[this.props.currentFeature||0],r=I(t,"geometry.textLabels",[]),n=I(t,"properties.values",[]),o=this.props,s=o.componentsValidation,l=o.type,c=a(this.props.components),u=c.filter(G).length===c.length,p=this[s[l].validation]()&&u,d=[{value:"decimal",text:g.createElement(N,{msgId:"annotations.editor.decimal"})},{value:"aeronautical",text:g.createElement(N,{msgId:"annotations.editor.aeronautical"})}],f=[{glyph:p?"ok-sign text-success":"exclamation-mark text-danger",tooltipId:p?"annotations.editor.valid":s[l].notValid,visible:!0},{Element:function(){return g.createElement(M,{noCaret:!0,title:g.createElement(T,{glyph:"cog"}),pullRight:!0,className:"square-button-md no-border",tooltip:"Format"},d.map((function(t){var r=t.text,n=t.value;return g.createElement(O,{active:e.props.format===n,key:n,onClick:function(){return e.props.onChangeFormat(n)}},r)})))}},{glyph:"plus",tooltipId:"annotations.editor.add",visible:!s[l].add||!s[l].max||this.props.components.length!==s[l].max,onClick:function(){var t=a(e.props.components);t=t.concat([{lat:"",lon:""}]),e.props.onChange(t,e.props.properties.radius,e.props.properties.valueText,e.props.mapProjection)}}];return g.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},g.createElement("div",{className:"measure-feature-selector"},g.createElement("div",null,this.props.showFeatureSelector?g.createElement(x,{value:this.props.currentFeature,options:[].concat(a(this.props.features.map((function(t,r){var n=I(t,"properties.values",[]),o="bearing"===(n[0]||{}).type?"Bearing":t.geometry.type;if(o!==e.props.type)return null;var i="LineString"===o?"Length":"Bearing"===o?"Bearing":"Area",a=n.length>0?"".concat(i," ").concat(n[0].formattedValue):"",s=n.length>1&&"Polygon"===o?", Perimeter: ".concat(n[1].formattedValue):"";return{label:"".concat(o," (").concat(a).concat(s,")"),value:r}}))),[{label:L.getMessageById(this.context.messages,"annotations.editor.newFeature"),value:this.props.features.length}]).filter((function(e){return!!e})),onChange:function(t){return e.props.onChangeCurrentFeature(null==t?void 0:t.value)}}):null),g.createElement("div",null,g.createElement(D,{btnGroupProps:{className:"pull-right"},btnDefaultProps:{className:"square-button-md no-border"},buttons:f}))),"Circle"===this.props.type&&this.renderCircle(),"Circle"===this.props.type&&g.createElement("div",{style:{flex:1,overflowY:"auto",paddingLeft:10,marginTop:10}},g.createElement("div",null,g.createElement(w,null,g.createElement(N,{msgId:"annotations.editor.center"})))),g.createElement("div",{className:"coordinates-row-container"},this.props.components.map((function(t,o){return g.createElement(g.Fragment,null,e.props.showLengthAndBearingLabel&&g.createElement("div",{className:"label-texts"},g.createElement("span",null,e.renderLabelTexts(o,{textLabels:r,featurePropValue:n}))),g.createElement(B,{format:e.props.format,aeronauticalOptions:e.props.aeronauticalOptions,sortId:o,key:o+" key",renderer:e.props.renderer,isDraggable:e.props.isDraggable,isDraggableEnabled:e.props.isDraggable&&e[s[l].validation](),showDraggable:e.props.isDraggable&&!("Point"===e.props.type||"Text"===e.props.type||"Circle"===e.props.type),formatVisible:!1,removeVisible:s[l].remove,removeEnabled:e[s[l].validation](e.props.components,s[l].remove,o),onSubmit:e.change,onMouseEnter:function(t){(e.props.isMouseEnterEnabled||"LineString"===e.props.type||"Polygon"===e.props.type||"MultiPoint"===e.props.type)&&e.props.onHighlightPoint(t)},onMouseLeave:function(){(e.props.isMouseLeaveEnabled||"LineString"===e.props.type||"Polygon"===e.props.type||"MultiPoint"===e.props.type)&&e.props.onHighlightPoint(null)},onSort:function(t,r){var n=e.props.components.reduce((function(n,o,s){return t===s?[].concat(a(n),t>r?[i({},o),C(e.props.components.filter((function(e,t){return t===r})))]:[C(e.props.components.filter((function(e,t){return t===r}))),i({},o)]):r===s?a(n):[].concat(a(n),[i({},o)])}),[]).filter((function(e){return e}));e.isValid(n)?e.props.onChange(n):e.props.properties.isValidFeature&&e.props.onSetInvalidSelected("coords",e.props.components.map(U))},idx:o,component:t,onRemove:function(){var t=e.props.components.filter((function(e,t){return t!==o}));e.isValid(t)?(e.props.isMouseEnterEnabled||"LineString"===e.props.type&&o!==t.length||"Polygon"===e.props.type?e.props.onHighlightPoint(t[o]):e.props.onHighlightPoint(null),e.props.onChange(t)):e.props.properties.isValidFeature&&e.props.onSetInvalidSelected("coords",e.props.components.map(U))}}))}))),(!this.props.components||0===this.props.components.length)&&g.createElement("div",{className:"text-center",style:{padding:15,paddingBottom:30}},g.createElement("i",null,g.createElement(N,{msgId:"annotations.editor.addByClick"}))))}}])&&u(t.prototype,r),n&&u(t,n),s}(g.Component);b(W,"propTypes",{components:h.array,measureOptions:h.object,onSetInvalidSelected:h.func,onChange:h.func,onChangeRadius:h.func,onHighlightPoint:h.func,onChangeText:h.func,onChangeFormat:h.func,onChangeCurrentFeature:h.func,format:h.string,aeronauticalOptions:h.object,componentsValidation:h.object,transitionProps:h.object,properties:h.object,mapProjection:h.string,features:h.array,currentFeature:h.number,showFeatureSelector:h.bool,type:h.string,isDraggable:h.bool,isMouseEnterEnabled:h.bool,isMouseLeaveEnabled:h.bool,showLengthAndBearingLabel:h.bool,renderer:h.string}),b(W,"contextTypes",{messages:h.object}),b(W,"defaultProps",{components:[],measureOptions:{},onChange:function(){},onChangeRadius:function(){},onHighlightPoint:function(){},onChangeFormat:function(){},onChangeText:function(){},onChangeCurrentFeature:function(){},onSetInvalidSelected:function(){},componentsValidation:{Bearing:{min:2,max:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},Point:{min:1,max:1,add:!0,remove:!1,validation:"validateCoordinates",notValid:"annotations.editor.notValidMarker"},Circle:{min:1,max:1,add:!0,remove:!1,validation:"validateCircle",notValid:"annotations.editor.notValidCircle"},Text:{min:1,max:1,add:!0,remove:!1,validation:"validateText",notValid:"annotations.editor.notValidText"}},transitionProps:{transitionName:"switch-panel-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300},features:[],isDraggable:!0,isMouseEnterEnabled:!1,isMouseLeaveEnabled:!1,properties:{},type:"Point"}),e.exports=k(W)},"./MapStore2/web/client/components/mapcontrols/annotations/MeasureEditor.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.FormControl,a=o.FormGroup,s=r("./MapStore2/node_modules/lodash/lodash.js").isNumber,l=r("./MapStore2/web/client/utils/MeasureUtils.js").convertUom,c=r("./MapStore2/web/client/utils/CoordinatesUtils.js").getUnits,u=r("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),p=function(e,t,r){return s(parseFloat(e))&&!isNaN(parseFloat(e))?l(parseFloat(e),t,r):e},d=function(e,t,r){return s(parseFloat(e))&&!isNaN(parseFloat(e))?parseFloat(l(e,r,t).toFixed(4)):e},f=r("./node_modules/recompose/es/Recompose.js"),m=f.compose,y=f.withHandlers,b=f.withPropsOnChange,g=f.withState,h=f.withStateHandlers,v=f.defaultProps;e.exports=m(v({valueUom:"m",displayUom:"m",units:[{value:"degrees",label:"deg",originUom:"degrees"},{value:"ft",label:"ft",originUom:"m"},{value:"m",label:"m",originUom:"m"},{value:"km",label:"km",originUom:"m"},{value:"mi",label:"mi",originUom:"m"},{value:"nm",label:"nm",originUom:"m"}]}),h((function(e){var t=e.displayUom;return{uom:void 0===t?"nm":t}}),{setUom:function(){return function(e){return{uom:e}}}}),g("localValue","setLocalValue"),b(["value","localValue","uom","valueUom"],(function(e){var t=e.value,r=e.localValue,n=e.uom,o=e.valueUom;return{value:t===p(r,n,o)?r:d(t,n,o)}})),y({onChange:function(e){var t=e.uom,r=e.projection,n=e.valueUom,o=e.onChange,i=void 0===o?function(){}:o,a=e.setLocalValue,s=void 0===a?function(){}:a;return function(e){s(e),i(p(e,t,n),r)}}}))((function(e){var t=e.value,r=e.units,o=void 0===r?[]:r,s=e.uom,l=e.projection,p=void 0===l?"EPSG:3857":l,d=e.style,f=void 0===d?{display:"inline-flex",width:"100%"}:d,m=e.setUom,y=void 0===m?function(){}:m,b=e.onChange,g=void 0===b?function(){}:b,h=c(p);return n.createElement(a,{style:f},n.createElement(u,{value:t,placeholder:"radius",name:"radius",onChange:function(e){return g(e,s)},step:1,type:"number"}),n.createElement(i,{componentClass:"select",placeholder:"select",value:s,onChange:function(e){return y(e.target.value)},style:{width:85}},o.filter((function(e){var t=e.originUom;return h===t})).map((function(e){return n.createElement("option",{key:e.value,value:e.value},e.label)}))))}))},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png":function(e,t,r){e.exports=r.p+"MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAB3klEQVR42s3U4UdDURzG8czMXJnJ1Vwzc6VJZjaZJdlMlpQsKdmUFNOUspRSSqUolfQfr+fF98Vx5mwv9qbDx7LdznnO7/7Omej3+/+Ga0QMUYkhbvBgmhzCQxwxibIGrGEF8CQhU+LLtKQkQNqScUgjxRxTBIxbgfgD/BgnhM8kM5KTeclLQYqGkkMRBckzR8ic/mAgd5BAZplsUaqyIg2sDtHg2brUZJk5SmwopErJUWE8SpmTMhNvya60Zd/SNrR4bkeaskG4uiwRZk6yrJEYFibGAxn+scECHTmTnuVCzvmty3PHciB7bGKN6lQkzysPqIrHmpFhYbKUtckC1/Ioz4ZHuZdbuSLYiRxRpSZVWXZVxAzC0R4Ik5SQsu6w8yd5l2/5kg95I9SdXMoZQfYIUjeqEUrgOkXGPeN4TYRhxy8E+ZUf+eS7B7miIoeybVSjKDnm8u3+gH3pDTYwu1igATvs/pXqvBKiR4i2bNJfi1ZfUAnjgrOG8wY2quNzBKuU/ZS+uSFEl5O0xRGuUIlZCcw7xG5QPkeHYUSNV5WXGou2sC3rBC0LjenqCXGO0WEiTJa0Lr4KixdHBrDGuGGiRqCUpFk8pGIpQtCU7p4YPwxYxEMCk1aAMQZh8Ac8PfbIzYPJOwAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/mapcontrols/measure/MeasureComponent.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-widgets/lib/index.js").DropdownList,y=r("./node_modules/react-bootstrap/es/index.js"),b=y.ButtonToolbar,g=y.Tooltip,h=y.Glyphicon,v=y.Grid,S=y.Row,w=y.Col,O=y.FormGroup,j=r("./MapStore2/node_modules/lodash/lodash.js"),E=j.isEqual,x=j.round,P=j.get,T=j.dropRight,M=r("./node_modules/uuid/v1.js"),A=r("./MapStore2/web/client/utils/FileUtils.js").download,C=r("./MapStore2/web/client/components/I18N/Number.jsx"),_=r("./MapStore2/web/client/components/I18N/Message.jsx"),I=r("./MapStore2/web/client/utils/MeasureUtils.js"),R=I.convertUom,L=I.getFormattedBearingValue,D=r("./MapStore2/web/client/utils/MeasurementUtils.js").convertMeasuresToGeoJSON,k=r("./MapStore2/web/client/utils/LocaleUtils.js"),N=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),F=r("./MapStore2/web/client/components/misc/OverlayTriggerCustom.jsx").default,G=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),U=r("./MapStore2/web/client/components/mapcontrols/annotations/CoordinatesEditor.jsx");r("./MapStore2/web/client/components/mapcontrols/measure/measure.css");var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onGeomClick",(function(t){e.props.geomType!==t&&e.props.toggleMeasure({geomType:t})})),p(c(e),"onResetClick",(function(){e.props.toggleMeasure({geomType:null})})),p(c(e),"getToolTips",(function(){return{lineToolTip:f.createElement(g,{id:"tooltip-button.line"},e.props.lengthLabel),areaToolTip:f.createElement(g,{id:"tooltip-button.area"},e.props.areaLabel),bearingToolTip:f.createElement(g,{id:"tooltip-button.bearing"},e.isTrueBearing()?e.props.trueBearingLabel:e.props.bearingLabel)}})),p(c(e),"renderMeasurements",(function(){var t={style:"decimal",minimumIntegerDigits:1,maximumFractionDigits:2,minimumFractionDigits:2};return f.createElement(v,{fluid:!0,style:{maxHeight:400}},e.props.lineMeasureEnabled&&f.createElement(S,null,f.createElement(O,{style:{display:"flex",alignItems:"center"}},e.props.lineMeasureValueEnabled&&f.createElement(w,{xs:6},f.createElement("span",null,e.props.lengthLabel,": "),f.createElement("span",{id:"measure-len-res",className:"measure-value"},f.createElement("h3",null,f.createElement("strong",null,f.createElement(C,{key:"len",numberParams:t,value:e.props.formatLength(e.props.uom.length.unit,e.props.measurement.len)})," ",e.props.uom.length.label)))),f.createElement(w,{xs:6},f.createElement(m,{value:e.props.uom.length.label,onChange:function(t){e.props.onChangeUom("length",t,e.props.uom)},data:e.props.uomLengthValues,textField:"label",valueField:"value"})))),e.props.areaMeasureEnabled&&f.createElement(S,null,f.createElement(O,{style:{display:"flex",alignItems:"center"}},e.props.areaMeasureValueEnabled&&f.createElement(w,{xs:6},f.createElement("span",null,e.props.areaLabel,": "),f.createElement("span",{id:"measure-area-res",className:"measure-value"},f.createElement("h3",null,f.createElement("strong",null,f.createElement(C,{key:"area",numberParams:t,value:e.props.formatArea(e.props.uom.area.unit,e.props.measurement.area)})," ",e.props.uom.area.label)))),f.createElement(w,{xs:6},f.createElement(m,{value:e.props.uom.area.label,onChange:function(t){e.props.onChangeUom("area",t,e.props.uom)},data:e.props.uomAreaValues,textField:"label",valueField:"value"})))),e.props.bearingMeasureEnabled&&e.props.bearingMeasureValueEnabled&&f.createElement(S,null,f.createElement(O,{style:{display:"flex",alignItems:"center",minHeight:34}},f.createElement(w,{xs:6},f.createElement("span",null,e.isTrueBearing()?e.props.trueBearingLabel:e.props.bearingLabel,": "),f.createElement("span",{id:"measure-bearing-res",className:"measure-value"},f.createElement("h3",null,f.createElement("strong",null,e.props.formatBearing(e.props.measurement.bearing||0,e.isTrueBearing()&&e.props.measurement.trueBearing))))))))})),p(c(e),"renderPanel",(function(){return e.props.showResults?e.renderMeasurements():null})),p(c(e),"renderLabel",(function(t){return e.props.showButtonsLabels?f.createElement("span",{className:"option-text"},k.getMessageById(e.context.messages,t)):null})),p(c(e),"renderText",(function(t,r){return t?f.createElement("span",null,f.createElement("span",{className:"option-icon"},f.createElement(h,{glyph:t})),e.renderLabel(r)):e.renderLabel(r)})),p(c(e),"isTrueBearing",(function(){return e.props.measurement&&e.props.measurement.trueBearing&&e.props.measurement.trueBearing.measureTrueBearing})),e}return t=u,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.geomType||this.props.toggleMeasure({geomType:"LineString"})}},{key:"shouldComponentUpdate",value:function(e){return!E(e,this.props)}},{key:"render",value:function(){var e,t,r=this,n=P(this.props.measurement,"features",[])[this.props.measurement.currentFeature||0];this.props.useSingleFeature?(e=(P(this.props.measurement,"feature.geometry.type")||"").toLowerCase(),t=(P(this.props.measurement,-1!==e.indexOf("polygon")?"feature.geometry.coordinates[0]":"feature.geometry.coordinates")||[]).map((function(e){return{lon:e[0],lat:e[1]}}))):(e=P(n,"geometry.type","").toLowerCase(),t=(P(n,-1!==e.indexOf("polygon")?"geometry.coordinates[0]":"geometry.coordinates")||[]).map((function(e){return{lon:e[0],lat:e[1]}})));var o=(this.props.measurement||{}).exportToAnnotation,i=void 0!==o&&o;return f.createElement(G,{id:this.props.id,style:{overflow:"visible"},header:f.createElement("div",null,f.createElement(b,{style:{width:"100%",marginBottom:15,marginTop:8,display:"flex",justifyContent:"center"}},f.createElement(N,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:this.props.lineGlyph,active:!!this.props.lineMeasureEnabled,bsStyle:this.props.lineMeasureEnabled?"success":"primary",tooltip:this.renderText(this.props.inlineGlyph&&this.props.lineGlyph,"measureComponent.MeasureLength"),onClick:function(){return r.onGeomClick("LineString")}},{active:!!this.props.areaMeasureEnabled,bsStyle:this.props.areaMeasureEnabled?"success":"primary",glyph:this.props.areaGlyph,tooltip:this.renderText(this.props.inlineGlyph&&this.props.areaGlyph,"measureComponent.MeasureArea"),onClick:function(){return r.onGeomClick("Polygon")}},{visible:!this.props.disableBearing,active:!!this.props.bearingMeasureEnabled,bsStyle:this.props.bearingMeasureEnabled?"success":"primary",glyph:this.props.bearingGlyph,tooltip:this.renderText(this.props.inlineGlyph&&this.props.bearingGlyph,this.isTrueBearing()?"measureComponent.MeasureTrueBearing":"measureComponent.MeasureBearing"),onClick:function(){return r.onGeomClick("Bearing")}}]}),f.createElement(N,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"remove",visible:!!this.props.withReset,tooltip:f.createElement(_,{msgId:"measureComponent.resetTooltip"}),onClick:function(){return r.onResetClick()}}]}),f.createElement(N,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"ext-json",disabled:0===(this.props.measurement.features||[]).length,visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showExportToGeoJSON,tooltip:f.createElement(_,{msgId:"measureComponent.exportToGeoJSON"}),onClick:function(){A(JSON.stringify(D(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom,M(),"MapStore Measurements")),"measurements.json","application/geo+json")}},{glyph:"1-layer",visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showAddAsLayer,disabled:0===(this.props.measurement.features||[]).length||i,tooltip:f.createElement(_,{msgId:"measureComponent.addAsLayer"}),onClick:function(){return r.props.onAddAsLayer(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom)},customOverlayTrigger:F},{glyph:i?"floppy-disk":"comment",tooltip:f.createElement(_,{msgId:i?"measureComponent.saveMeasure":"measureComponent.addAsAnnotation"}),onClick:function(){r.props.onAddAnnotation(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom,!i,r.props.measurement.id)},disabled:0===(this.props.measurement.features||[]).length,visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showAddAsAnnotation}]})),this.renderPanel())},this.props.showCoordinateEditor&&f.createElement(v,{fluid:!0,style:{maxHeight:400,borderTop:"1px solid #ddd"}},this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled?f.createElement(S,{style:this.props.isCoordinateEditorEnabled?{}:{pointerEvents:"none",opacity:.5}},f.createElement(U,{key:"measureEditor",isMouseEnterEnabled:!0,isMouseLeaveEnabled:!0,format:this.props.format,currentFeature:this.props.measurement.currentFeature,features:this.props.measurement.features,mapProjection:this.props.mapProjection,onChangeFormat:this.props.onChangeFormat,onHighlightPoint:this.props.onHighlightPoint,onChange:this.props.onChangeCoordinates,onChangeCurrentFeature:this.props.onChangeCurrentFeature,showFeatureSelector:this.props.showFeatureSelector,items:[],isDraggable:!0,type:this.props.geomType,showLengthAndBearingLabel:this.props.showLengthAndBearingLabel,components:this.props.useSingleFeature||-1===e.indexOf("polygon")?t:T(t)})):f.createElement(S,null,f.createElement(w,{xs:12,className:"text-center",style:{padding:15}},f.createElement("i",null,f.createElement(_,{msgId:"measureComponent.selectTool"}))))))}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(B,"propTypes",{id:d.string,name:d.string,columnProperties:d.object,propertiesChangeHandler:d.func,lengthButtonText:d.oneOfType([d.string,d.element]),areaButtonText:d.oneOfType([d.string,d.element]),resetButtonText:d.oneOfType([d.string,d.element]),lengthLabel:d.oneOfType([d.string,d.element]),areaLabel:d.oneOfType([d.string,d.element]),bearingLabel:d.oneOfType([d.string,d.element]),trueBearingLabel:d.oneOfType([d.string,d.element]),uom:d.shape({length:d.shape({unit:d.string.isRequired,label:d.string.isRequired}),area:d.shape({unit:d.string.isRequired,label:d.string.isRequired})}),toggleMeasure:d.func,measurement:d.object,lineMeasureEnabled:d.bool,lineMeasureValueEnabled:d.bool,areaMeasureEnabled:d.bool,areaMeasureValueEnabled:d.bool,bearingMeasureEnabled:d.bool,bearingMeasureValueEnabled:d.bool,showButtons:d.bool,showResults:d.bool,mapProjection:d.string,lineGlyph:d.string,areaGlyph:d.string,bearingGlyph:d.string,withReset:d.bool,showButtonsLabels:d.bool,inlineGlyph:d.bool,formatLength:d.func,formatArea:d.func,formatBearing:d.func,onChangeUom:d.func,uomLengthValues:d.array,uomAreaValues:d.array,format:d.string,onChangeFormat:d.func,onChangeCoordinates:d.func,onChangeCurrentFeature:d.func,onAddAsLayer:d.func,onHighlightPoint:d.func,geomType:d.string,defaultOptions:d.object,onAddAnnotation:d.func,showAddAsAnnotation:d.bool,showLengthAndBearingLabel:d.bool,showAddAsLayer:d.bool,showFeatureSelector:d.bool,useSingleFeature:d.bool,showExportToGeoJSON:d.bool,disableBearing:d.bool,trueBearing:d.object,onMount:d.func,onUpdateOptions:d.func,showCoordinateEditor:d.bool,isCoordinateEditorEnabled:d.bool}),p(B,"contextTypes",{messages:d.object}),p(B,"defaultProps",{mapProjection:"EPSG:3857",columnProperties:{xs:4,sm:4,md:4},uomLengthValues:[{value:"ft",label:"ft"},{value:"m",label:"m"},{value:"km",label:"km"},{value:"mi",label:"mi"},{value:"nm",label:"nm"}],uomAreaValues:[{value:"sqft",label:"ft"},{value:"sqm",label:"m"},{value:"sqkm",label:"km"},{value:"sqmi",label:"mi"},{value:"sqnm",label:"nm"}],id:"measure-result-panel",uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m"}},geomType:"LineString",defaultOptions:{geomType:"LineString"},showResults:!0,showAddAsAnnotation:!1,showAddAsLayer:!0,showExportToGeoJSON:!0,showCoordinateEditor:!1,isCoordinateEditorEnabled:!0,showLengthAndBearingLabel:!1,withReset:!0,lineGlyph:"1-measure-length",areaGlyph:"1-measure-area",bearingGlyph:"1-measure-bearing",showButtonsLabels:!0,lengthLabel:f.createElement(_,{msgId:"measureComponent.lengthLabel"}),areaLabel:f.createElement(_,{msgId:"measureComponent.areaLabel"}),bearingLabel:f.createElement(_,{msgId:"measureComponent.bearingLabel"}),trueBearingLabel:f.createElement(_,{msgId:"measureComponent.trueBearingLabel"}),formatLength:function(e,t){return R(t,"m",e)},formatArea:function(e,t){return R(t,"sqm",e)},formatBearing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L(x(e||0,6),t)},onChangeUom:function(){},onChangeFormat:function(){},onMount:function(){},onUpdateOptions:function(){},onAddAsLayer:function(){}}),e.exports=B},"./MapStore2/web/client/components/mapcontrols/measure/MeasureDialog.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,g=r("./MapStore2/web/client/components/mapcontrols/measure/MeasureComponent.jsx"),h=r("./MapStore2/web/client/components/misc/panels/DockablePanel.jsx"),v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=r("./MapStore2/web/client/components/misc/Dialog.jsx"),w=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,r,n,u=c(d);function d(){var e;a(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=u.call.apply(u,[this].concat(r))),"onClose",(function(){e.props.onClose(!1)})),f(p(e),"initDefaultOptions",(function(t){var r=t.showCoordinateEditor,n=i(t,["showCoordinateEditor"]);e.props.onMount(r||e.props.showCoordinateEditor),e.props.toggleMeasure({geomType:n.geomType||"LineString"}),e.props.onInit(n)})),e}return t=d,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.initDefaultOptions(this.props.defaultOptions)}},{key:"componentDidUpdate",value:function(e){b(e.defaultOptions,this.props.defaultOptions)||this.initDefaultOptions(this.props.defaultOptions)}},{key:"render",value:function(){return this.props.show?this.props.showCoordinateEditor?y.createElement(h,{dock:!0,bsStyle:"primary",position:"right",title:y.createElement(v,{key:"title",msgId:"measureComponent.Measure"}),glyph:"1-ruler",size:660,open:this.props.show,onClose:this.onClose,style:this.props.style},y.createElement(g,o({id:"measure-panel"},this.props))):y.createElement(S,{id:"measure-dialog"},y.createElement("div",{key:"header",role:"header"},y.createElement(w,{glyph:"1-ruler"}),"",y.createElement(v,{key:"title",msgId:"measureComponent.Measure"}),y.createElement("button",{key:"close",onClick:this.onClose,className:"close"},this.props.closeGlyph?y.createElement(w,{glyph:this.props.closeGlyph}):y.createElement("span",null,""))),y.createElement("div",{key:"body",role:"body"},y.createElement(g,o({id:"measure-panel",style:{minWidth:"500px"}},this.props)))):null}}])&&s(t.prototype,r),n&&s(t,n),d}(y.Component);f(O,"propTypes",{show:m.bool,closeGlyph:m.string,onClose:m.func,onMount:m.func,onInit:m.func,showCoordinateEditor:m.bool,defaultOptions:m.object,style:m.object}),f(O,"contextTypes",{messages:m.object}),f(O,"defaultProps",{show:!1,defaultOptions:{},onMount:function(){},onInit:function(){},toggleMeasure:function(){},showCoordinateEditor:!1,showAddAsAnnotation:!1,closeGlyph:"1-close",style:{height:"calc(100% - 30px)"}}),e.exports=O},"./MapStore2/web/client/components/mapcontrols/measure/measure.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/mapcontrols/measure/measure.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/mapcontrols/mouseposition sync recursive ^\\.\\/.*$":function(e,t,r){var n={"./CRSSelector":"./MapStore2/web/client/components/mapcontrols/mouseposition/CRSSelector.jsx","./CRSSelector.jsx":"./MapStore2/web/client/components/mapcontrols/mouseposition/CRSSelector.jsx","./MousePosition":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePosition.jsx","./MousePosition.jsx":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePosition.jsx","./MousePositionLabelDD":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDD.jsx","./MousePositionLabelDD.jsx":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDD.jsx","./MousePositionLabelDM":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDM.jsx","./MousePositionLabelDM.jsx":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDM.jsx","./MousePositionLabelDMS":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMS.jsx","./MousePositionLabelDMS.jsx":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMS.jsx","./MousePositionLabelDMSNW":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMSNW.jsx","./MousePositionLabelDMSNW.jsx":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMSNW.jsx","./MousePositionLabelYX":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelYX.jsx","./MousePositionLabelYX.jsx":"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelYX.jsx","./__tests__/CRSSelector-test":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/CRSSelector-test.js","./__tests__/CRSSelector-test.js":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/CRSSelector-test.js","./__tests__/MousePosition-test":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePosition-test.js","./__tests__/MousePosition-test.js":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePosition-test.js","./__tests__/MousePositionLabelDM-test":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDM-test.js","./__tests__/MousePositionLabelDM-test.js":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDM-test.js","./__tests__/MousePositionLabelDMS-test":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDMS-test.js","./__tests__/MousePositionLabelDMS-test.js":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDMS-test.js","./__tests__/MousePositionLabelDMSNW-test":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDMSNW-test.js","./__tests__/MousePositionLabelDMSNW-test.js":"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDMSNW-test.js","./mousePosition.css":"./MapStore2/web/client/components/mapcontrols/mouseposition/mousePosition.css"};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/components/mapcontrols/mouseposition sync recursive ^\\.\\/.*$"},"./MapStore2/web/client/components/mapcontrols/mouseposition/CRSSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/react-dom/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.FormControl,g=y.FormGroup,h=y.ControlLabel,v=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"launchNewCRSAction",(function(t){if(e.props.useRawInput)e.props.onCRSChange(t.target.value);else{var r=f.findDOMNode(c(e)).getElementsByTagName("select").item(0);e.props.onCRSChange(r.value)}})),e}return t=u,(r=[{key:"render",value:function(){var e,t,r=[],n={};for(var o in Object.keys(this.props.availableCRS).length&&(n=v.filterCRSList(this.props.availableCRS,this.props.filterAllowedCRS,this.props.additionalCRS,this.props.projectionDefs)),n)n.hasOwnProperty(o)&&(e=o,t=n[o].label,r.push(d.createElement("option",{value:e,key:e},t)));return this.props.enabled&&this.props.useRawInput?d.createElement("select",{id:this.props.id,value:this.props.crs,onChange:this.launchNewCRSAction,bsSize:"small"},r):this.props.enabled&&!this.props.useRawInput?d.createElement(g,null,d.createElement(h,null,this.props.label),d.createElement(b,{componentClass:"select",id:this.props.id,value:this.props.crs,onChange:this.launchNewCRSAction,bsSize:"small"},r)):null}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(S,"propTypes",{id:m.string,label:m.oneOfType([m.func,m.string,m.object]),availableCRS:m.object,filterAllowedCRS:m.array,projectionDefs:m.array,additionalCRS:m.object,crs:m.string,enabled:m.bool,onCRSChange:m.func,useRawInput:m.bool}),p(S,"defaultProps",{id:"mapstore-crsselector",availableCRS:v.getAvailableCRS(),crs:null,onCRSChange:function(){},enabled:!1,useRawInput:!1}),e.exports=S},"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePosition.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./MapStore2/web/client/libs/proj4.js").default,y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Glyphicon,g=y.Button,h=y.Label,v=r("./node_modules/react-copy-to-clipboard/lib/index.js"),S=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),w=r("./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMS.jsx"),O=r("./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelYX.jsx"),j=r("./MapStore2/web/client/components/mapcontrols/mouseposition/CRSSelector.jsx"),E=r("./MapStore2/web/client/components/I18N/Message.jsx"),x=r("./MapStore2/node_modules/lodash/lodash.js").isNumber;r("./MapStore2/web/client/components/mapcontrols/mouseposition/mousePosition.css");var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getPosition",(function(){var t=e.props.mousePosition?e.props.mousePosition:[null,null],r=t.x,n=t.y,o=t.z;if(r||n){if(m.defs(e.props.mousePosition.crs)!==m.defs(e.props.crs)){var i=S.reproject([r,n],e.props.mousePosition.crs,e.props.crs);r=i.x,n=i.y}}else{var a={x:0,y:0,z:o};r=a.x,n=a.y}return"degrees"===S.getUnits(e.props.crs)?{lat:n,lng:r,z:o}:{x:r,y:n,z:o}})),p(c(e),"getTemplateComponent",(function(){return"degrees"===S.getUnits(e.props.crs)?e.props.degreesTemplate:e.props.projectedTemplate})),e}return t=u,(r=[{key:"render",value:function(){var e=this.props.mousePosition?this.getTemplateComponent():null;if(this.props.enabled){var t=this.getPosition();return f.createElement("div",{id:this.props.id,style:this.props.style},f.createElement("span",{className:"mapstore-mouse-coordinates"},this.props.showLabels?f.createElement("label",null,f.createElement(E,{msgId:"mouseCoordinates"})):null,e?f.createElement(e,{position:t}):f.createElement("h5",null,f.createElement(h,{bsSize:"lg",bsStyle:"info"},"...",f.createElement("span",null)))),this.props.copyToClipboardEnabled&&f.createElement(v,{text:JSON.stringify(t),onCopy:this.props.onCopy},f.createElement(g,{bsSize:this.props.btnSize},f.createElement(b,{glyph:this.props.glyphicon}))),this.props.showElevation?f.createElement("span",{className:"mapstore-mouse-elevation"},this.props.showLabels?f.createElement("label",null,f.createElement(E,{msgId:"mousePositionElevation"})):null,f.createElement("h5",null,this.props.elevationTemplate(t.z))):null,this.props.showCRS?this.props.crsTemplate(this.props.crs):null,this.props.editCRS?f.createElement(j,{projectionDefs:this.props.projectionDefs,filterAllowedCRS:this.props.filterAllowedCRS,additionalCRS:this.props.additionalCRS,label:this.props.showLabels?f.createElement("label",null,f.createElement(E,{msgId:"mousePositionCRS"})):null,crs:this.props.crs,enabled:!0,onCRSChange:this.props.onCRSChange}):null,this.props.showToggle?this.props.toggle:null)}return this.props.showToggle?f.createElement("div",{id:this.props.id,style:this.props.style},this.props.toggle):null}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(P,"propTypes",{id:d.string,mousePosition:d.object,crs:d.string,enabled:d.bool,showCRS:d.bool,editCRS:d.bool,filterAllowedCRS:d.array,projectionDefs:d.array,additionalCRS:d.object,degreesTemplate:d.oneOfType([d.object,d.func]),projectedTemplate:d.oneOfType([d.object,d.func]),crsTemplate:d.oneOfType([d.object,d.func]),elevationTemplate:d.oneOfType([d.object,d.func]),style:d.object,copyToClipboardEnabled:d.bool,glyphicon:d.string,btnSize:d.oneOf(["large","medium","small","xsmall"]),onCopy:d.func,onCRSChange:d.func,toggle:d.object,showLabels:d.bool,showToggle:d.bool,showElevation:d.bool}),p(P,"defaultProps",{id:"mapstore-mouseposition",mousePosition:null,crs:"EPSG:4326",enabled:!0,showCRS:!1,editCRS:!1,degreesTemplate:w,projectedTemplate:O,crsTemplate:function(e){return f.createElement("span",{className:"mouseposition-crs"},e)},elevationTemplate:function(e){return x(e)?f.createElement("span",{className:"mouseposition-elevation"},e," m"):f.createElement(E,{msgId:"mousePositionNoElevation"})},style:{},copyToClipboardEnabled:!1,glyphicon:"paste",btnSize:"xsmall",onCopy:function(){},onCRSChange:function(){},toggle:f.createElement("div",null),showLabels:!1,showToggle:!1,showElevation:!1}),e.exports=P},"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDD.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,p,d,f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/react-bootstrap/es/index.js").Label,b=r("./MapStore2/web/client/components/I18N/Number.jsx"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return m.createElement("h5",null,m.createElement(y,{bsSize:"lg",bsStyle:"info"},m.createElement("span",null,"Lat: "),m.createElement(b,{key:"latD",numberParams:{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:6,minimumFractionDigits:6},value:this.props.position.lat}),m.createElement("span",null," Lng: "),m.createElement(b,{key:"lngD",numberParams:{style:"decimal",minimumIntegerDigits:3,maximumFractionDigits:6,minimumFractionDigits:6},value:this.props.position.lng}),m.createElement("span",null," ")))}}])&&i(t.prototype,r),n&&i(t,n),c}(m.Component);u=g,p="propTypes",d={position:f.shape({lng:f.number,lat:f.number})},p in u?Object.defineProperty(u,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[p]=d,e.exports=g},"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDM.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").Label,y=r("./MapStore2/web/client/components/I18N/Number.jsx"),b=r("./MapStore2/node_modules/lodash/lodash.js").isNil,g=r("./MapStore2/web/client/utils/CoordinatesUtils.js").roundCoord,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getPositionValues",(function(e){var t=e||[null,null],r=t.lng,n=t.lat,o=n%1*60,i=r%1*60;return{lat:n,latM:Math.abs(o),lng:r,lngM:Math.abs(i)}})),e}return t=u,(r=[{key:"render",value:function(){var e=this.getPositionValues(this.props.position),t={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0},r={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:3,minimumFractionDigits:3},n={style:"decimal",minimumIntegerDigits:3,maximumFractionDigits:0};return d.createElement("h5",null,d.createElement(m,{bsSize:"lg",bsStyle:"info"},d.createElement("span",null,"Lat: "),d.createElement(y,{key:"latD",numberParams:t,value:b(e.lat)?e.lat:g({roundingBehaviour:"floor",value:e.lat,maximumFractionDigits:t.maximumFractionDigits})}),d.createElement("span",null," "),d.createElement(y,{key:"latM",numberParams:r,value:e.latM}),d.createElement("span",null,"' "),d.createElement("span",null,"Lng: "),d.createElement(y,{key:"lngD",numberParams:n,value:b(e.lng)?e.lng:g({roundingBehaviour:"floor",value:e.lng,maximumFractionDigits:n.maximumFractionDigits})}),d.createElement("span",null," "),d.createElement(y,{key:"lngM",numberParams:r,value:e.lngM}),d.createElement("span",null,"' ")))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(h,"propTypes",{position:f.shape({lng:f.number,lat:f.number})}),e.exports=h},"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMS.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").Label,y=r("./MapStore2/web/client/components/I18N/Number.jsx"),b=r("./MapStore2/web/client/utils/CoordinatesUtils.js").roundCoord,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getPositionValues",(function(e){var t=e||[null,null],r=t.lng,n=t.lat,o=n%1*60,i=r%1*60,a=o%1*60,s=i%1*60;return{lat:Math.trunc(n),latM:Math.abs(o),latS:Math.abs(a),lng:Math.trunc(r),lngM:Math.abs(i),lngS:Math.abs(s)}})),e}return t=u,(r=[{key:"render",value:function(){var e=this.props.position||{},t=e.lng,r=e.lat,n=this.getPositionValues(this.props.position),o=t<0?"-":"",i=r<0?"-":"",a={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0},s={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:2,minimumFractionDigits:2};return d.createElement("h5",null,d.createElement(m,{bsSize:"lg",bsStyle:"info"},d.createElement("span",null,"Lat: ",i),d.createElement(y,{key:"latD",numberParams:a,value:Math.abs(n.lat)}),d.createElement("span",null," "),d.createElement(y,{key:"latM",numberParams:a,value:b({roundingBehaviour:"floor",value:n.latM,maximumFractionDigits:a.maximumFractionDigits})}),d.createElement("span",null,"' "),d.createElement(y,{key:"latS",numberParams:s,value:n.latS}),d.createElement("span",null,"''"),d.createElement("span",{className:"mouseposition-separator"}),d.createElement("span",null," Lng: ",o),d.createElement(y,{key:"lngD",numberParams:{style:"decimal",minimumIntegerDigits:3,maximumFractionDigits:0},value:Math.abs(n.lng)}),d.createElement("span",null," "),d.createElement(y,{key:"lngM",numberParams:a,value:b({roundingBehaviour:"floor",value:n.lngM,maximumFractionDigits:a.maximumFractionDigits})}),d.createElement("span",null,"' "),d.createElement(y,{key:"lngS",numberParams:s,value:n.lngS}),d.createElement("span",null,"''")))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(g,"propTypes",{position:f.shape({lng:f.number,lat:f.number})}),e.exports=g},"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMSNW.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").Label,y=r("./MapStore2/web/client/components/I18N/Number.jsx"),b=r("./MapStore2/web/client/utils/CoordinatesUtils.js").roundCoord,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getPositionValues",(function(e){var t=e||[null,null],r=t.lng,n=t.lat,o=n%1*60,i=r%1*60,a=o%1*60,s=i%1*60;return{lat:n,latM:Math.abs(o),latS:Math.abs(a),lng:r,lngM:Math.abs(i),lngS:Math.abs(s)}})),e}return t=u,(r=[{key:"render",value:function(){var e=this.getPositionValues(this.props.position),t={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0},r={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:2,minimumFractionDigits:2},n={style:"decimal",minimumIntegerDigits:3,maximumFractionDigits:0};return d.createElement("h5",null,d.createElement(m,{bsSize:"lg",bsStyle:"info"},d.createElement(y,{key:"latD",numberParams:t,value:b({roundingBehaviour:"floor",value:Math.abs(e.lat),maximumFractionDigits:t.maximumFractionDigits})}),d.createElement("span",null," "),d.createElement(y,{key:"latM",numberParams:t,value:b({roundingBehaviour:"floor",value:e.latM,maximumFractionDigits:t.maximumFractionDigits})}),d.createElement("span",null,"' "),d.createElement(y,{key:"latS",numberParams:r,value:e.latS}),d.createElement("span",null,"'' ",e.lat>0?"N":"S"," "),d.createElement(y,{key:"lngD",numberParams:n,value:b({roundingBehaviour:"floor",value:Math.abs(e.lng),maximumFractionDigits:n.maximumFractionDigits})}),d.createElement("span",null," "),d.createElement(y,{key:"lngM",numberParams:t,value:b({roundingBehaviour:"floor",value:e.lngM,maximumFractionDigits:t.maximumFractionDigits})}),d.createElement("span",null,"' "),d.createElement(y,{key:"lngS",numberParams:r,value:e.lngS}),d.createElement("span",null,"'' ",e.lng>0?"E":"W")))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(g,"propTypes",{position:f.shape({lng:f.number,lat:f.number})}),e.exports=g},"./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelYX.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,p,d,f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/react-bootstrap/es/index.js").Label,b=r("./MapStore2/web/client/components/I18N/Number.jsx"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e={style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:2,minimumFractionDigits:2};return m.createElement("h5",null,m.createElement(y,{bsSize:"lg",bsStyle:"info"},m.createElement("span",null,"X: "),m.createElement(b,{key:"x",numberParams:e,value:this.props.position.x}),m.createElement("span",{className:"mouseposition-separator"}),m.createElement("span",null," Y: "),m.createElement(b,{key:"y",numberParams:e,value:this.props.position.y})))}}])&&i(t.prototype,r),n&&i(t,n),c}(m.Component);u=g,p="propTypes",d={position:f.shape({x:f.number,y:f.number})},p in u?Object.defineProperty(u,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[p]=d,e.exports=g},"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/CRSSelector-test.js":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/expect/lib/index.js"),i=r("./node_modules/react/index.js"),a=r("./node_modules/react-dom/index.js"),s=r("./MapStore2/web/client/components/mapcontrols/mouseposition/CRSSelector.jsx"),l=r("./node_modules/react-dom/test-utils.js"),c={availableCRS:{"EPSG:4326":{label:"EPSG:4326"}},filterAllowedCRS:["EPSG:4326"],additionalCRS:{},projectionDefs:[]};describe("CRSSelector",(function(){beforeEach((function(e){document.body.innerHTML='<div id="container"></div>',setTimeout(e)})),afterEach((function(e){a.unmountComponentAtNode(document.getElementById("container")),document.body.innerHTML="",setTimeout(e)})),it("checks default",(function(){var e=a.render(i.createElement(s,n({enabled:!0},c)),document.getElementById("container"));o(e).toExist();var t=a.findDOMNode(e);o(t).toExist();var r=t.getElementsByTagName("select").item(0).childNodes;o(r.length).toBe(1)})),it("checks if a change of the combo fires the proper action",(function(){var e,t=a.render(i.createElement(s,n({enabled:!0},c,{onCRSChange:function(t){e=t}})),document.getElementById("container")),r=a.findDOMNode(t).getElementsByTagName("select").item(0);r.value="EPSG:4326",l.Simulate.change(r,{target:{value:"EPSG:4326"}}),o(e).toBe("EPSG:4326")}))}))},"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePosition-test.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./node_modules/expect/lib/index.js"),p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-dom/index.js"),m=r("./MapStore2/web/client/components/mapcontrols/mouseposition/MousePosition.jsx");describe("MousePosition",(function(){beforeEach((function(e){document.body.innerHTML='<div id="container"></div>',setTimeout(e)})),afterEach((function(e){f.unmountComponentAtNode(document.getElementById("container")),document.body.innerHTML="",setTimeout(e)})),it("checks enabled",(function(){var e=f.render(d.createElement(m,{enabled:!0,mousePosition:{x:1,y:1,crs:"EPSG:4326"}}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toExist(),u(t.id).toExist();var r=t.getElementsByTagName("button");u(r).toExist(),u(r.length).toBe(0)})),it("checks disabled",(function(){var e=f.render(d.createElement(m,{enabled:!1,mousePosition:{x:1,y:1,crs:"EPSG:4326"}}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toNotExist()})),it("checks no position",(function(){var e=f.render(d.createElement(m,{enabled:!0}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toExist(),u(-1!==t.innerText.indexOf("...")).toBe(!0)})),it("checks no elevation",(function(){var e=f.render(d.createElement(m,{enabled:!0}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toExist(),u(t.getElementsByClassName("mapstore-mouse-elevation").length).toBe(0)})),it("checks elevation enabled",(function(){var e=f.render(d.createElement(m,{enabled:!0,showElevation:!0,mousePosition:{x:11,y:12,z:13,crs:"EPSG:4326"}}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toExist(),u(t.getElementsByClassName("mapstore-mouse-elevation").length).toBe(1),u(t.innerHTML).toContain("13")})),it("checks default templates degrees",(function(){var e=f.render(d.createElement(m,{enabled:!0,mousePosition:{x:1,y:1,crs:"EPSG:4326"}}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toExist(),u(t.innerHTML).toContain("Lat:"),u(t.innerHTML).toContain("Lng:")})),it("checks default templates meters",(function(){var e=f.render(d.createElement(m,{enabled:!0,crs:"EPSG:3857",mousePosition:{x:1,y:1,crs:"EPSG:4326"}}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toExist(),u(t.innerHTML).toContain("Y:"),u(t.innerHTML).toContain("X:")})),it("checks custom template",(function(){var e,t,r,n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return d.createElement("div",null,this.props.position.lng,",",this.props.position.lat)}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);e=n,t="propTypes",r={position:p.object},t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;var l=f.render(d.createElement(m,{degreesTemplate:n,enabled:!0,mousePosition:{x:11,y:12,crs:"EPSG:4326"}}),document.getElementById("container"));u(l).toExist();var c=f.findDOMNode(l);u(c).toExist(),u(c.innerHTML).toContain("11"),u(c.innerHTML).toContain("12")})),it("checks custom elevation template",(function(){var e=f.render(d.createElement(m,{elevationTemplate:function(e){return d.createElement("div",null,"Z: ",e)},showElevation:!0,enabled:!0,mousePosition:{x:11,y:12,z:13,crs:"EPSG:4326"}}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toExist(),u(t.innerHTML).toContain("Z:"),u(t.innerHTML).toContain("13")})),it("checks copy to clipboard enabled",(function(){var e=f.render(d.createElement(m,{enabled:!0,mousePosition:{x:1,y:1,crs:"EPSG:4326"},copyToClipboardEnabled:!0}),document.getElementById("container"));u(e).toExist();var t=f.findDOMNode(e);u(t).toExist(),u(t.id).toExist();var r=t.getElementsByTagName("button");u(r).toExist(),u(r.length).toBe(1)})),it("checks copy to clipboard action",(function(){var e={onCopy:function(){}},t=u.spyOn(e,"onCopy"),r=f.render(d.createElement(m,{enabled:!0,mousePosition:{x:1,y:1,crs:"EPSG:4326"},copyToClipboardEnabled:!0,onCopy:e.onCopy}),document.getElementById("container")),n=f.findDOMNode(r).getElementsByTagName("button")[0];u.spyOn(window,"prompt").andReturn(!0),n.click(),u(t.calls.length).toBe(1)})),it("checks lat ang lag value",(function(){var e={onCopy:function(){}},t=u.spyOn(e,"onCopy"),r=f.render(d.createElement(m,{enabled:!0,mousePosition:{x:Math.floor(1.1),y:Math.floor(1.2),crs:"EPSG:4326"},copyToClipboardEnabled:!0,onCopy:e.onCopy}),document.getElementById("container")),n=f.findDOMNode(r).getElementsByTagName("button")[0];u.spyOn(window,"prompt").andReturn(!0),n.click(),u(t.calls.length).toBe(1)}))}))},"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDM-test.js":function(e,t,r){var n=r("./node_modules/expect/lib/index.js"),o=r("./node_modules/react/index.js"),i=r("./node_modules/react-dom/index.js"),a=r("./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDM.jsx"),s=r("./node_modules/react-dom/test-utils.js"),l=r("./node_modules/react-intl/lib/index.es.js").IntlProvider;describe("MousePositionLabelDM",(function(){beforeEach((function(e){document.body.innerHTML='<div id="container"></div>',setTimeout(e)})),afterEach((function(e){i.unmountComponentAtNode(document.getElementById("container")),document.body.innerHTML="",setTimeout(e)})),it("checks default",(function(){var e=i.render(o.createElement(a,null),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("Lat:  ' Lng:  ' ");var r=s.scryRenderedDOMComponentsWithTag(e,"span");n(r.length).toBe(11),n(r[1].textContent).toBe("Lat: "),n(r[2].textContent).toBe(""),n(r[3].textContent).toBe(" "),n(r[4].textContent).toBe(""),n(r[5].textContent).toBe("' "),n(r[6].textContent).toBe("Lng: "),n(r[7].textContent).toBe(""),n(r[8].textContent).toBe(" "),n(r[9].textContent).toBe(""),n(r[10].textContent).toBe("' ")})),it("a position with defaults",(function(){var e=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:28.3,lat:13.5333333}})),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("Lat: 13 32.000' Lng: 028 18.000' ")})),it("position with no rounding but flooring of latD and lngD",(function(){var e=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:10.475013256072998,lat:43.70726776739903}})),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("Lat: 43 42.436' Lng: 010 28.501' ")}))}))},"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDMS-test.js":function(e,t,r){var n=r("./node_modules/expect/lib/index.js"),o=r("./node_modules/react/index.js"),i=r("./node_modules/react-dom/index.js"),a=r("./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMS.jsx"),s=r("./node_modules/react-dom/test-utils.js"),l=r("./node_modules/react-intl/lib/index.es.js").IntlProvider;describe("MousePositionLabelDMS",(function(){beforeEach((function(e){document.body.innerHTML='<div id="container"></div>',setTimeout(e)})),afterEach((function(e){i.unmountComponentAtNode(document.getElementById("container")),document.body.innerHTML="",setTimeout(e)})),it("checks default",(function(){var e=i.render(o.createElement(a,null),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("Lat:  ' '' Lng:  ' ''");var r=s.scryRenderedDOMComponentsWithTag(e,"span");n(r.length).toBe(16),n(r[1].textContent).toBe("Lat: "),n(r[2].textContent).toBe(""),n(r[3].textContent).toBe(" "),n(r[4].textContent).toBe(""),n(r[5].textContent).toBe("' "),n(r[6].textContent).toBe(""),n(r[7].textContent).toBe("''"),n(r[8].className).toBe("mouseposition-separator"),n(r[9].textContent).toBe(" Lng: "),n(r[10].textContent).toBe(""),n(r[11].textContent).toBe(" "),n(r[12].textContent).toBe(""),n(r[13].textContent).toBe("' "),n(r[14].textContent).toBe(""),n(r[15].textContent).toBe("''")})),it("a position with defaults",(function(){var e=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:28.3,lat:13.5333333}})),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("Lat: 13 31' 60.00'' Lng: 028 18' 00.00''")})),it("position with no rounding but trunc of latD and lngD",(function(){var e=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:10.475013256072998,lat:43.70726776739903}})),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("Lat: 43 42' 26.16'' Lng: 010 28' 30.05''")})),it("position with negative lat and lng correctly truncated ladD e lngD",(function(){var e=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:-.006,lat:-.006}})),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("Lat: -00 00' 21.60'' Lng: -000 00' 21.60''")})),it("test sign changes when crossing greenwich meridian and equator parallel and latD lngD are 0",(function(){var e=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:-.006,lat:-.006}})),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("Lat: -00 00' 21.60'' Lng: -000 00' 21.60''");var r=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:.006,lat:.006}})),document.getElementById("container"));n(r).toExist();var s=i.findDOMNode(r);n(s).toExist(),n(s.textContent).toBe("Lat: 00 00' 21.60'' Lng: 000 00' 21.60''")}))}))},"./MapStore2/web/client/components/mapcontrols/mouseposition/__tests__/MousePositionLabelDMSNW-test.js":function(e,t,r){var n=r("./node_modules/expect/lib/index.js"),o=r("./node_modules/react/index.js"),i=r("./node_modules/react-dom/index.js"),a=r("./MapStore2/web/client/components/mapcontrols/mouseposition/MousePositionLabelDMSNW.jsx"),s=r("./node_modules/react-dom/test-utils.js"),l=r("./node_modules/react-intl/lib/index.es.js").IntlProvider;describe("MousePositionLabelDMSNW",(function(){beforeEach((function(e){document.body.innerHTML='<div id="container"></div>',setTimeout(e)})),afterEach((function(e){i.unmountComponentAtNode(document.getElementById("container")),document.body.innerHTML="",setTimeout(e)})),it("checks default",(function(){var e=i.render(o.createElement(a,null),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe(" ' '' S  ' '' W");var r=s.scryRenderedDOMComponentsWithTag(e,"span");n(r.length).toBe(13),n(r[1].innerText).toBe(""),n(r[2].innerText).toBe(" "),n(r[3].innerText).toBe(""),n(r[4].innerText).toBe("' "),n(r[5].innerText).toBe(""),n(r[6].innerText).toBe("'' S "),n(r[7].innerText).toBe(""),n(r[8].innerText).toBe(" "),n(r[9].innerText).toBe(""),n(r[10].innerText).toBe("' "),n(r[11].innerText).toBe(""),n(r[12].innerText).toBe("'' W")})),it("a position with defaults",(function(){var e=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:28.3,lat:13.5333333}})),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("13 31' 60.00'' N 028 18' 00.00'' E")})),it("position with no rounding but flooring of latD and lngD",(function(){var e=i.render(o.createElement(l,null,o.createElement(a,{position:{lng:10.475013256072998,lat:43.70726776739903}})),document.getElementById("container"));n(e).toExist();var t=i.findDOMNode(e);n(t).toExist(),n(t.textContent).toBe("43 42' 26.16'' N 010 28' 30.05'' E")}))}))},"./MapStore2/web/client/components/mapcontrols/mouseposition/mousePosition.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/mapcontrols/mouseposition/mousePosition.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/mapcontrols/navigationhistory/RedoButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Button,g=y.Glyphicon,h=y.Tooltip,v=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"onClick",(function(){e.props.onClick()})),d(u(e),"renderButton",(function(){return m.createElement(b,o({id:e.props.id,disabled:e.props.disabled},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.buttonStyle,style:e.props.style}),m.createElement(g,{glyph:e.props.glyph}),e.props.text,e.props.help)})),d(u(e),"addTooltip",(function(t){var r=m.createElement(h,{id:"redo-btn-tooltip"},e.props.tooltip);return m.createElement(v,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:r},t)})),e}return t=p,(r=[{key:"shouldComponentUpdate",value:function(e){return this.props.disabled!==e.disabled}},{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.renderButton();return this.props.tooltip?this.addTooltip(e):e}}])&&a(t.prototype,r),n&&a(t,n),p}(m.Component);d(S,"propTypes",{id:f.string,btnConfig:f.object,text:f.oneOfType([f.string,f.element]),help:f.oneOfType([f.string,f.element]),onClick:f.func,tooltip:f.element,tooltipPlace:f.string,style:f.object,glyph:f.string,buttonStyle:f.string,disabled:f.bool}),d(S,"defaultProps",{id:"redo-btn",onClick:function(){},tooltipPlace:"left",glyph:"1-screen-forward",buttonStyle:"primary",btnConfig:{className:"square-button"}}),e.exports=S},"./MapStore2/web/client/components/mapcontrols/navigationhistory/UndoButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Button,g=y.Glyphicon,h=y.Tooltip,v=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"onClick",(function(){e.props.onClick()})),d(u(e),"renderButton",(function(){return m.createElement(b,o({id:e.props.id,disabled:e.props.disabled},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.buttonStyle,style:e.props.style}),m.createElement(g,{glyph:e.props.glyph}),e.props.text,e.props.help)})),d(u(e),"addTooltip",(function(t){var r=m.createElement(h,{id:"undo-btn-tooltip"},e.props.tooltip);return m.createElement(v,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:r},t)})),e}return t=p,(r=[{key:"shouldComponentUpdate",value:function(e){return this.props.disabled!==e.disabled}},{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.renderButton();return this.props.tooltip?this.addTooltip(e):e}}])&&a(t.prototype,r),n&&a(t,n),p}(m.Component);d(S,"propTypes",{id:f.string,btnConfig:f.object,text:f.oneOfType([f.string,f.element]),help:f.oneOfType([f.string,f.element]),onClick:f.func,tooltip:f.element,tooltipPlace:f.string,style:f.object,glyph:f.string,buttonStyle:f.string,disabled:f.bool}),d(S,"defaultProps",{id:"undo-btn",onClick:function(){},tooltipPlace:"left",glyph:"1-screen-backward",buttonStyle:"primary",btnConfig:{className:"square-button"}}),e.exports=S},"./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Form,b=m.FormControl,g=m.FormGroup,h=m.ControlLabel,v=r("./MapStore2/web/client/utils/MapUtils.js"),S=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onComboChange",(function(t){var r=parseInt(t.nativeEvent.target.value,10);e.props.onChange(r,e.props.scales[r])})),p(c(e),"getOptions",(function(){return e.props.scales.map((function(t,r){return f.createElement("option",{value:r,key:r},e.props.template(t,r))})).filter((function(t,r){return r>=e.props.minZoom}))})),e}return t=u,(r=[{key:"shouldComponentUpdate",value:function(e){return!S(e,this.props)}},{key:"render",value:function(){var e=null;return e=this.props.readOnly?f.createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?f.createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):f.createElement(y,{inline:!0},f.createElement(g,{bsSize:"small"},f.createElement(h,null,this.props.label),f.createElement(b,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),f.createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(w,"propTypes",{id:d.string,style:d.object,scales:d.array,currentZoomLvl:d.number,minZoom:d.number,onChange:d.func,readOnly:d.bool,label:d.oneOfType([d.func,d.string,d.object]),template:d.func,useRawInput:d.bool}),p(w,"defaultProps",{id:"mapstore-scalebox",scales:v.getGoogleMercatorScales(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1}),e.exports=w},"./MapStore2/web/client/components/mapcontrols/search/SearchBar.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-bootstrap/es/index.js"),a=r("./MapStore2/node_modules/lodash/lodash.js"),s=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=r.n(s),c=r("./MapStore2/web/client/components/mapcontrols/search/SearchBarMenu.jsx"),u=r.n(c),p=function(e){var t=e.className,r=e.style,n=e.children;return o.a.createElement("div",{id:"map-search-bar",style:r,className:"MapSearchBar"+(t?" "+t:"")},n)},d=r("./node_modules/prop-types/index.js"),f=r.n(d),m=r("./MapStore2/web/client/utils/LocaleUtils.js"),y=r.n(m);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e,t){var r=e.show,n=e.autoFocusOnSelect,a=void 0===n||n,s=e.selectedItems,l=void 0===s?[]:s,c=e.className,u=e.style,p=void 0===u?{textOverflow:"ellipsis"}:u,d=e.placeholder,f=e.placeholderMsgId,m=e.hideOnBlur,g=void 0===m||m,h=e.searchText,v=void 0===h?"":h,S=e.typeAhead,w=void 0===S||S,O=e.delay,j=void 0===O?1e3:O,E=e.blurResetDelay,x=void 0===E?300:E,P=e.onSearch,T=void 0===P?function(){}:P,M=e.onSearchTextChange,A=void 0===M?function(){}:M,C=e.onCancelSelectedItem,_=void 0===C?function(){}:C,I=e.onPurgeResults,R=void 0===I?function(){}:I,L=o.a.useRef(),D=o.a.useRef(),k=o.a.useRef(),N=o.a.useRef(),F=b(o.a.useState(),2),G=F[0],U=F[1],B=b(o.a.useState(),2),z=B[0],W=B[1],V=b(o.a.useState(),2),H=V[0],q=V[1],Y=b(o.a.useState(),2),Z=Y[0],Q=Y[1];o.a.useEffect((function(){var e=D.current;if(a&&l&&(e<l.length||!e&&1===l.length)){var t=L.current;t&&t.focus instanceof Function&&setTimeout((function(){return t.focus()}),200)}D.current=l&&l.length})),o.a.useEffect((function(){k&&(z&&(R(),k.current=0,W(!1)),G&&(k.current&&clearTimeout(k.current),k.current=setTimeout((function(){W(!0)}),x),U(!1)))})),o.a.useEffect((function(){N&&(Z&&(T(),N.current=0,Q(!1)),H&&(N.current&&clearTimeout(N.current),N.current=setTimeout((function(){Q(!0)}),j),q(!1)))}));var K="search.addressSearch";if(!d&&t.messages){var X=y.a.getMessageById(t.messages,f||K);X&&(K=X)}else K=d;return r&&o.a.createElement(i.FormControl,{className:"searchInput".concat(c?" ".concat(c):""),key:"search-input",placeholder:K,type:"text",inputRef:function(e){L.current=e},style:p,value:v,onKeyDown:function(e){switch(e.keyCode){case 13:T();break;case 8:!v&&l&&l.length>0&&_(l[l.length-1])}},onBlur:function(){g&&U(!0)},onFocus:function(){w&&v&&T()},onChange:function(e){var t=e.target.value;A(t),w&&q(!0)}})};h.contextTypes={messages:f.a.object};var v=h,S=r("./node_modules/object-assign/index.js"),w=r.n(S),O=r("./node_modules/react-spinkit/dist/index.js"),j=r.n(O),E=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),x=r.n(E);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){var t=e.loading,r=(e.splitTools,e.toolbarProps),n=void 0===r?{}:r,i=e.toolbarButtons,a=void 0===i?[]:i,s=e.children;return o.a.createElement("span",{className:"search-toolbar-options"},t&&o.a.createElement(j.a,{style:w()({},{position:"absolute"},M({},{right:"69px",zIndex:1,top:"13px"})),spinnerName:"pulse",noFadeIn:!0}),o.a.createElement(x.a,P({btnGroupProps:{className:"btn-group-menu-options"},transitionProps:null,btnDefaultProps:{className:"square-button-md",bsStyle:"primary"}},n,{buttons:a})),s)},_=r("./node_modules/react-redux/es/index.js"),I=r("./node_modules/react-select/dist/react-select.es.js"),R=r("./MapStore2/web/client/actions/searchbookmarkconfig.js"),L=r("./MapStore2/web/client/actions/map.js"),D=r("./MapStore2/web/client/actions/config.js"),k=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js");function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W=r.n(k)()(["placeholder","clearValueText","noResultsText"])(I.default),V={searchByBookmark:function(e,t,r,n,o){var i,s,l=e.options,c=void 0===l?{}:l,u=e.layerVisibilityReload;void 0!==u&&u?t(B(B({},r),{},{map:B(B({},r.map),{},{bookmark_search_config:n})}),null,{bounds:[c.west,c.south,c.east,c.north],crs:(null==r||null===(i=r.map)||void 0===i||null===(s=i.center)||void 0===s?void 0:s.crs)||"EPSG:4326"}):c&&!Object(a.isEmpty)(c)&&o([c.west,c.south,c.east,c.north],"EPSG:4326")},searchIcon:function(e,t){var r=t.onLayerVisibilityLoad,n=t.mapInitial,o=t.bookmarkConfig,i=t.onZoomToExtent;return{tooltipId:"bookmarkSearch"===e?"search.zoomToBookmark":"",tooltipPosition:"bottom",visible:"bookmarkSearch"===e&&!(null==o?void 0:o.zoomOnSelect),disabled:"bookmarkSearch"===e&&!o.selected,onClick:function(){"bookmarkSearch"===e&&V.searchByBookmark(o.selected,r,n,o.bookmarkSearchConfig||{},i)}}}},H=function(e){var t=e.bookmarkConfig,r=e.onPropertyChange,i=e.onLayerVisibilityLoad,s=e.mapInitial,l=e.onZoomToExtent,c=F(Object(n.useState)([]),2),u=c[0],p=c[1],d=t||{},f=d.selected,m=void 0===f?{}:f,y=d.bookmarkSearchConfig,b=void 0===y?{}:y,g=d.zoomOnSelect,h=void 0===g||g,v=b.bookmarks,S=void 0===v?[]:v,w=V.searchByBookmark;Object(n.useEffect)((function(){Object(a.isEmpty)(S)||p(S.map((function(e){return e.title})))}),[S]);return o.a.createElement("div",{className:"search-select"},o.a.createElement("div",{style:{flex:"1 1 0%",padding:"0px 4px"}},o.a.createElement(W,N({},{clearable:!0,isSearchable:!0,isClearable:!0},{onChange:function(e){var t=e&&e.value||"",n=F(S.filter((function(r,n){return r.title===t&&n===e.idx})),1)[0];r("selected",n),h&&w(n,i,s,b,l)},value:(null==m?void 0:m.title)||"",options:u.map((function(e,t){return{label:e,value:e,idx:t}})),placeholder:"search.b_placeholder",clearValueText:"search.b_clearvalue",noResultsText:"search.b_noresult"}))))};H.propTypes={bookmarkConfig:f.a.object.isRequired,onPropertyChange:f.a.func.isRequired};var q=Object(_.connect)((function(e){return{bookmarkConfig:e.searchbookmarkconfig||{}}}),{onPropertyChange:R.setSearchBookmarkConfig,onZoomToExtent:L.zoomToExtent,onLayerVisibilityLoad:D.configureMap})(H),Y=r("./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx"),Z=r.n(Y),Q=r("./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx"),K=r.n(Q),X=r("./MapStore2/web/client/actions/search.js"),J=X.zoomAndAddPoint,$=X.changeCoord,ee={clearCoordinates:function(e,t){e({owner:"search"}),t("lat",""),t("lon","")},areValidCoordinates:function(e){return Object(a.isNumber)(null==e?void 0:e.lon)&&Object(a.isNumber)(null==e?void 0:e.lat)},zoomToPoint:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;e({x:parseFloat(t.lon),y:parseFloat(t.lat)},r,"EPSG:4326")},coordinateFormatChange:function(e,t,r,n){return{buttonConfig:{title:o.a.createElement(i.Glyphicon,{glyph:"cog"}),tooltipId:"search.changeSearchInputField",tooltipPosition:"bottom",className:"square-button-md no-border",pullRight:!0},menuOptions:[{active:"decimal"===e,onClick:function(){return t("decimal")},text:o.a.createElement(l.a,{msgId:"search.decimal"})},{active:"aeronautical"===e,onClick:function(){return t("aeronautical")},text:o.a.createElement(l.a,{msgId:"search.aeronautical"})}],visible:r&&"coordinatesSearch"===n,Element:K.a}},removeIcon:function(e,t,r,n){return{visible:"coordinatesSearch"===e&&(Object(a.isNumber)(t.lon)||Object(a.isNumber)(t.lat)),onClick:function(){return ee.clearCoordinates(r,n)}}},searchIcon:function(e,t,r,n){return{visible:"coordinatesSearch"===e,onClick:function(){"coordinatesSearch"===e&&ee.areValidCoordinates(t)&&ee.zoomToPoint(r,t,n)}}},coordinatesMenuItem:function(e){var t=e.activeTool,r=e.searchText,n=e.clearSearch,a=e.onChangeActiveSearchTool,s=e.onClearBookmarkSearch;return o.a.createElement(i.MenuItem,{active:"coordinatesSearch"===t,onClick:function(){void 0!==r&&""!==r&&n(),s("selected"),a("coordinatesSearch"),document.dispatchEvent(new MouseEvent("click"))}},o.a.createElement(i.Glyphicon,{glyph:"search-coords"})," ",o.a.createElement(l.a,{msgId:"search.coordinatesSearch"}))}},te=function(e){var t=e.coordinate,r=void 0===t?{}:t,n=e.format,a=e.onClearCoordinatesSearch,s=e.onZoomToPoint,c=e.onChangeCoord,u=e.defaultZoomLevel,p=e.aeronauticalOptions,d=void 0===p?{seconds:{decimals:4,step:1e-4}}:p,f=e.constraintsCoordEditor,m=void 0===f?{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}:f,y=ee.zoomToPoint,b=ee.areValidCoordinates,g=function(e,t){var r=isNaN(parseFloat(t))?"":parseFloat(t);c(e,r),b()||a({owner:"search"})},h=function(){y(s,r,u)};return o.a.createElement("div",{className:"coordinateEditor",style:{flexWrap:"decimal"===n?"nowrap":"wrap"}},o.a.createElement(i.Row,{className:"entryRow ".concat(n)},o.a.createElement(i.FormGroup,null,o.a.createElement(i.InputGroup,null,o.a.createElement(i.InputGroup.Addon,{style:{minWidth:45}},o.a.createElement(l.a,{msgId:"search.latitude"})),o.a.createElement(Z.a,{format:n,aeronauticalOptions:d,coordinate:"lat",idx:1,value:r.lat,constraints:m,onChange:function(e){return g("lat",e)},onKeyDown:function(){b(r)&&h()}})))),o.a.createElement(i.Row,{className:"entryRow ".concat(n)},o.a.createElement(i.FormGroup,null,o.a.createElement(i.InputGroup,null,o.a.createElement(i.InputGroup.Addon,{style:{minWidth:45}},o.a.createElement(l.a,{msgId:"search.longitude"})),o.a.createElement(Z.a,{format:n,aeronauticalOptions:d,coordinate:"lon",idx:2,value:r.lon,constraints:m,onChange:function(e){return g("lon",e)},onKeyDown:function(){b(r)&&h()}})))))};te.propTypes={coordinate:f.a.object,format:f.a.string,onClearCoordinatesSearch:f.a.func,onZoomToPoint:f.a.func,onChangeCoord:f.a.func,defaultZoomLevel:f.a.number};var re=Object(_.connect)((function(e){return{coordinate:e.search.coordinate||{}}}),{onZoomToPoint:J,onChangeCoord:$})(te);function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function le(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.default=function(e){var t,r=e.activeSearchTool,n=void 0===r?"addressSearch":r,s=e.removeIcon,c=void 0===s?"1-close":s,d=e.searchIcon,f=void 0===d?"search":d,m=e.isSearchClickable,y=void 0===m||m,b=e.splitTools,g=e.searchText,h=void 0===g?"":g,S=e.maxResults,w=void 0===S?15:S,O=e.searchOptions,j=e.loading,E=e.delay,x=e.blurResetDelay,P=e.typeAhead,T=e.coordinate,M=void 0===T?{}:T,A=e.selectedItems,_=void 0===A?[]:A,I=e.defaultZoomLevel,R=void 0===I?12:I,L=e.enabledSearchServicesConfig,D=void 0!==L&&L,k=e.enabledSearchBookmarkConfig,N=void 0!==k&&k,F=e.error,G=e.format,U=void 0===G?"decimal":G,B=e.placeholder,z=e.placeholderMsgId,W=void 0===z?"search.addressSearch":z,H=e.showOptions,Y=void 0===H||H,Z=e.showAddressSearchOption,Q=void 0===Z||Z,K=e.showCoordinatesSearchOption,X=void 0===K||K,J=e.showBookMarkSearchOption,$=void 0===J||J,te=e.onSearch,ne=e.onSearchReset,ie=e.onSearchTextChange,se=e.onCancelSelectedItem,ce=e.onChangeCoord,ue=void 0===ce?function(){}:ce,pe=e.onChangeActiveSearchTool,de=void 0===pe?function(){}:pe,fe=e.onClearCoordinatesSearch,me=void 0===fe?function(){}:fe,ye=e.onChangeFormat,be=void 0===ye?function(){}:ye,ge=e.onToggleControl,he=void 0===ge?function(){}:ge,ve=e.onZoomToPoint,Se=void 0===ve?function(){}:ve,we=e.onClearBookmarkSearch,Oe=void 0===we?function(){}:we,je=e.onPurgeResults,Ee=e.items,xe=void 0===Ee?[]:Ee,Pe=le(e,["activeSearchTool","removeIcon","searchIcon","isSearchClickable","splitTools","searchText","maxResults","searchOptions","loading","delay","blurResetDelay","typeAhead","coordinate","selectedItems","defaultZoomLevel","enabledSearchServicesConfig","enabledSearchBookmarkConfig","error","format","placeholder","placeholderMsgId","showOptions","showAddressSearchOption","showCoordinatesSearchOption","showBookMarkSearchOption","onSearch","onSearchReset","onSearchTextChange","onCancelSelectedItem","onChangeCoord","onChangeActiveSearchTool","onClearCoordinatesSearch","onChangeFormat","onToggleControl","onZoomToPoint","onClearBookmarkSearch","onPurgeResults","items"]),Te=function(e){var t=e.searchText,r=e.selectedItems,n=e.searchOptions,o=e.maxResults,i=e.onSearch,a=void 0===i?function(){}:i,s=e.onSearchReset,l=void 0===s?function(){}:s;return function(){var e=t;void 0!==e&&""!==e||r&&0!==r.length?void 0!==e&&""!==e&&a(e,n,o):l()}}({searchText:h,selectedItems:_,searchOptions:O,maxResults:w,onSearch:te,onSearchReset:ne}),Me=function(){ne()},Ae=[];if(Q&&Ae.push(o.a.createElement(i.MenuItem,{active:"addressSearch"===n,onClick:function(){me({owner:"search"}),Oe("selected"),de("addressSearch")}},o.a.createElement(i.Glyphicon,{glyph:f})," ",o.a.createElement(l.a,{msgId:"search.addressSearch"}))),X&&Ae.push(o.a.createElement(ee.coordinatesMenuItem,{activeTool:n,searchText:h,clearSearch:Me,onChangeActiveSearchTool:de,onClearBookmarkSearch:Oe})),$&&!Object(a.isEmpty)(xe)){var Ce,_e=Pe.bookmarkConfig||{},Ie=_e.allowUser,Re=_e.bookmarkSearchConfig,Le=ae(xe,1)[0];if(Object(a.some)(xe,"menuItem")){var De=Le.menuItem;Ae.push(o.a.createElement(De,null))}Object(a.some)(xe,"bookmarkConfig")&&(t=oe(oe({},Le.bookmarkConfig(he,N,n)),!Ie&&{visible:!1})),Ie||0!==(null==Re||null===(Ce=Re.bookmarks)||void 0===Ce?void 0:Ce.length)||"bookmarkSearch"!==n||de("addressSearch")}var ke;return o.a.createElement(p,null,o.a.createElement(i.FormGroup,null,o.a.createElement("div",{className:"input-group",style:{display:"flex"}},_&&_.map((function(e,t){return o.a.createElement("span",{key:"selected-item"+t,className:"input-group-addon"},o.a.createElement("div",{className:"selectedItem-text"},e.text))})),o.a.createElement(v,{show:"addressSearch"===n,delay:E,typeAhead:P,blurResetDelay:x,placeholder:B,placeholderMsgId:W,searchText:h,selectedItems:_,onSearch:Te,onSearchTextChange:ie,onCancelSelectedItem:se,onPurgeResults:je}),"coordinatesSearch"===n&&X&&o.a.createElement(re,{format:U,defaultZoomLevel:R,onClearCoordinatesSearch:me}),"bookmarkSearch"===n&&$&&o.a.createElement(q,{mapInitial:Pe.mapInitial}),o.a.createElement(C,{splitTools:!1,toolbarButtons:[oe({},function(){if("addressSearch"===n)return{onClick:function(){D||he("searchservicesconfig")},glyph:"cog",className:"square-button-md no-border ",tooltip:o.a.createElement(l.a,{msgId:"search.searchservicesbutton"}),tooltipPosition:"bottom",bsStyle:"default",pullRight:!0,visible:Y&&"addressSearch"===n};if(Y){if("coordinatesSearch"===n)return ee.coordinateFormatChange(U,be,Y,n);if("bookmarkSearch"===n)return t}return{}}()),oe({glyph:c,className:"square-button-md no-border",bsStyle:"default",pullRight:!0,loading:!Object(a.isUndefined)(j)&&j,visible:"addressSearch"===n&&(""!==h||_&&_.length>0),onClick:function(){"addressSearch"===n&&Me()}},"coordinatesSearch"===n&&ee.removeIcon(n,M,me,ue)),oe(oe({glyph:f,className:"square-button-md no-border "+(y||"addressSearch"!==n?"magnifying-glass clickable":"magnifying-glass"),bsStyle:"default",pullRight:!0,tooltipPosition:"bottom",visible:!("addressSearch"!==n||(""!==h||_&&_.length>0)&&b),onClick:function(){return y&&Te()}},"coordinatesSearch"===n&&ee.searchIcon(n,M,Se,R)),"bookmarkSearch"===n&&V.searchIcon(n,Pe)),{tooltip:(ke=F,ke?o.a.createElement(l.a,{msgId:ke.msgId||"search.generic_error",msgParams:{message:ke.message,serviceType:ke.serviceType}}):null),tooltipPosition:"bottom",className:"square-button-md no-border",glyph:"warning-sign",bsStyle:"danger",glyphClassName:"searcherror",visible:!!F,onClick:Me},{visible:Y,renderButton:o.a.createElement(u.a,{disabled:Y,menuItems:Ae})}]}))))}},"./MapStore2/web/client/components/mapcontrols/search/SearchBarMenu.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Glyphicon,a=o.DropdownButton,s=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),l=r("./node_modules/react/index.js"),c=r("./node_modules/uuid/v1.js"),u=s(a),p={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:c()},d={title:l.createElement(i,{glyph:"menu-hamburger"}),tooltipId:"search.changeSearchInputField",tooltipPosition:"bottom",className:"square-button-md no-border",pullRight:!0};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.menuItems,r=void 0===t?[]:t,o=e.disabled,i=void 0!==o&&o;return l.createElement(u,n({disabled:i},p,d),r.length?r.map((function(e){return e})):null)}},"./MapStore2/web/client/components/mapcontrols/search/SearchResult.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").get,y=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),b=r("./MapStore2/web/client/utils/TemplateUtils.js").generateTemplateString,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onClick",(function(){var t=e.props.item;e.props.onItemClick(t)})),e}return t=u,(r=[{key:"render",value:function(){if(void 0===this.props.item)return null;var e=this.props.item;return d.createElement("div",{key:e.osm_id,className:"search-result",style:e.resultCssStyle,onClick:this.onClick},d.createElement("div",{className:"search-result-left-container"},d.createElement("div",{className:"icon"}," ",d.createElement("img",{src:e.icon})),d.createElement("div",{className:"text-result-title"},m(e,this.props.displayName)||b(this.props.displayName||"")(e)),d.createElement("small",{className:"text-info"},this.props.subTitle&&m(e,this.props.subTitle)||b(this.props.subTitle||"")(e))),d.createElement("div",{className:"search-result-right-container"},d.createElement("div",{className:"search-result-tools"},d.createElement(y,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.tools}))))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(g,"propTypes",{subTitle:f.string,item:f.object,displayName:f.string,idField:f.string,icon:f.string,onItemClick:f.func,tools:f.array}),p(g,"defaultProps",{displayName:"properties.display_name",idField:"id",icon:"properties.icon",tools:[]}),e.exports=g},"./MapStore2/web/client/components/mapcontrols/search/SearchResultList.jsx":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return x}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=r("./node_modules/object-assign/index.js"),c=r.n(l),u=r("./MapStore2/web/client/components/mapcontrols/search/SearchResult.jsx"),p=r.n(u),d=r("./MapStore2/web/client/components/I18N/I18N.jsx"),f=r.n(d),m=r("./MapStore2/web/client/components/misc/OverlayTriggerCustom.jsx"),y=r("./MapStore2/web/client/utils/SearchUtils.js");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=j(e);if(t){var o=j(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,r,n,i=S(a);function a(){var e;g(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return E(O(e=i.call.apply(i,[this].concat(r))),"onItemClick",(function(t){e.props.onItemClick(t,e.props.mapConfig)})),E(O(e),"renderResults",(function(){return e.props.results.map((function(t,r){var n,i=e.findService(t)||{},a=Object(s.find)(e.props.layers,{name:null===(n=i.options)||void 0===n?void 0:n.typeName}),l=Object(y.showGFIForService)(i),c=!Object(y.layerIsVisibleForGFI)(a,i);return o.a.createElement(p.a,{subTitle:i.subTitle,idField:i.idField,displayName:i.displayName,key:t.osm_id||t.id||"res_"+r,item:t,onItemClick:e.onItemClick,tools:[{id:"open-gfi",keyProp:"open-gfi",visible:l,disabled:c,glyph:"info-sign",tooltipId:l&&c?"search.layerMustBeVisible":"search.showGFI",customOverlayTrigger:m.default,onClick:function(r){r.stopPropagation(),e.props.showGFI(t)}}]})}))})),E(O(e),"findService",(function(t){var r=e.props.searchOptions&&e.props.searchOptions.services;if(null!==t.__SERVICE__)if(r&&"string"==typeof t.__SERVICE__){for(var n=0;n<r.length;n++)if(r[n]&&r[n].id===t.__SERVICE__)return r[n];for(var o=0;o<r.length;o++)if(r[o]&&r[o].type===t.__SERVICE__)return r[o]}else if("object"===b(t.__SERVICE__))return t.__SERVICE__;return null})),e}return t=a,(r=[{key:"render",value:function(){var e=this.props.notFoundMessage;e||(e=o.a.createElement(f.a.Message,{msgId:"noresultfound"}));var t=this.props.containerStyle,r=this.props.mapConfig&&this.props.mapConfig.size;if(this.props.fitToMapSize&&r){var n=r.width-this.props.sizeAdjustment.width,i=r.height-this.props.sizeAdjustment.height;t=c()({},this.props.containerStyle,{maxWidth:n,maxHeight:i})}return this.props.results?0===this.props.results.length?o.a.createElement("div",{className:"search-result-list",style:c()({padding:"10px",textAlign:"center"},t)},e):o.a.createElement("div",{className:"search-result-list",style:t},this.renderResults()):null}}])&&h(t.prototype,r),n&&h(t,n),a}(o.a.Component);E(x,"propTypes",{results:a.a.array,layers:a.a.array,searchOptions:a.a.object,mapConfig:a.a.object,fitToMapSize:a.a.bool,containerStyle:a.a.object,sizeAdjustment:a.a.object,onItemClick:a.a.func,addMarker:a.a.func,afterItemClick:a.a.func,showGFI:a.a.func,notFoundMessage:a.a.oneOfType([a.a.object,a.a.string])}),E(x,"defaultProps",{layers:[],sizeAdjustment:{width:0,height:110},containerStyle:{zIndex:1e3},onItemClick:function(){},addMarker:function(){},afterItemClick:function(){},showGFI:function(){}})},"./MapStore2/web/client/components/mapcontrols/searchservicesconfig/ResultsProps.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./node_modules/react/index.js"),b=r("./MapStore2/node_modules/lodash/lodash.js").get,g=r("./node_modules/react-bootstrap/es/index.js"),h=g.FormGroup,v=g.ControlLabel,S=g.FormControl,w=g.Label,O=g.Checkbox,j=r("./node_modules/react-nouislider/dist/react-nouislider.common.js"),E=r("./node_modules/object-assign/index.js"),x=r("./node_modules/prop-types/index.js"),P=r("./node_modules/react-select/dist/react-select.es.js").default,T=r("./MapStore2/web/client/components/I18N/Message.jsx"),M=r("./MapStore2/web/client/utils/LocaleUtils.js");var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,r,n,i=u(p);function p(){var e;s(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=i.call.apply(i,[this].concat(r))),"updateProp",(function(t,r,n){var o=b(n,r||"target.value");e.props.onPropertyChange("service",E({},e.props.service,m({},t,o)))})),m(d(e),"updatePriority",(function(t){e.props.onPropertyChange("service",E({},e.props.service,{priority:parseFloat(t[0],10)}))})),m(d(e),"updateLaunchInfoPanel",(function(t){var r=t&&t.value?t.value:"";"no_info"===r&&(r=void 0),e.props.onPropertyChange("service",a(a({},e.props.service),{},{launchInfoPanel:r,openFeatureInfoButtonEnabled:!1,forceSearchLayerVisibility:!1}))})),e}return t=p,(r=[{key:"render",value:function(){var e,t,r=this.props.service,n=this.props.launchInfoPanelOptions||[{label:M.getMessageById(this.context.messages,"search.s_launch_info_panel.no_info"),value:"no_info"},{label:M.getMessageById(this.context.messages,"search.s_launch_info_panel.all_layers"),value:"all_layers"},{label:M.getMessageById(this.context.messages,"search.s_launch_info_panel.single_layer"),value:"single_layer"}],i=(null==r?void 0:r.launchInfoPanel)||this.props.launchInfoPanelDefault;return y.createElement("form",null,y.createElement("span",{className:"wfs-required-props-title"},y.createElement(T,{msgId:"search.s_result_props_label"})),y.createElement(h,null,y.createElement(v,null,y.createElement(T,{msgId:"search.s_title"})),y.createElement(S,{value:r.displayName,key:"displayName",type:"text",placeholder:'e.g. "${properties.name}"',onChange:this.updateProp.bind(null,"displayName",null)})),y.createElement(h,null,y.createElement(v,null,y.createElement(T,{msgId:"search.s_description"})),y.createElement(S,{value:r.subTitle,key:"subTitle",type:"text",onChange:this.updateProp.bind(null,"subTitle",null)})),y.createElement(h,null,y.createElement(v,null,y.createElement(T,{msgId:"search.s_priority"}),y.createElement(w,{key:"priority-label",className:"slider-label"},parseInt(r.priority||1,10))),y.createElement(j,{key:"priority",start:[r.priority||1],step:1,range:{min:1,max:10},onSlide:this.updatePriority}),y.createElement("span",{className:"priority-info"},y.createElement(T,{msgId:"search.s_priority_info"}))),y.createElement(h,null,y.createElement(v,null,y.createElement(T,{msgId:"search.s_launch_info_panel.label"})),y.createElement(P,o({options:n,clearable:!1,value:i,onChange:this.updateLaunchInfoPanel},this.props.launchInfoPanelSelectOptions)),"single_layer"===i?y.createElement(h,null,y.createElement(O,{checked:null!==(e=null==r?void 0:r.openFeatureInfoButtonEnabled)&&void 0!==e&&e,onChange:this.updateProp.bind(null,"openFeatureInfoButtonEnabled","target.checked")},y.createElement(T,{msgId:"search.s_launch_info_panel.openFeatureInfoButtonCheckbox"})),y.createElement(O,{checked:null!==(t=null==r?void 0:r.forceSearchLayerVisibility)&&void 0!==t&&t,onChange:this.updateProp.bind(null,"forceSearchLayerVisibility","target.checked")},y.createElement(T,{msgId:"search.s_launch_info_panel.forceSearchLayerVisibility"}))):null,y.createElement("span",{className:"priority-info with-top-margin"},y.createElement(T,{msgId:"search.s_launch_info_panel.".concat(i,"_description")}))))}}])&&l(t.prototype,r),n&&l(t,n),p}(y.Component);m(A,"propTypes",{service:x.object,launchInfoPanelOptions:x.array,launchInfoPanelDefault:x.string,launchInfoPanelSelectOptions:x.object,onPropertyChange:x.func}),m(A,"contextTypes",{messages:x.object}),m(A,"defaultProps",{service:{},launchInfoPanelDefault:"no_info",launchInfoPanelSelectOptions:{},onPropertyChange:function(){}}),e.exports={Element:A,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.displayName&&e.displayName.length>0}}},"./MapStore2/web/client/components/mapcontrols/searchservicesconfig/ServicesList.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.FormGroup,y=f.Checkbox,b=f.ControlLabel,g=f.Glyphicon,h=r("./MapStore2/web/client/components/I18N/Message.jsx"),v=r("./MapStore2/web/client/components/buttons/ConfirmButton.jsx"),S=r("./node_modules/prop-types/index.js");var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getOptions",(function(){return 0===e.props.services.length?d.createElement("div",{className:"search-service-name"},d.createElement(h,{msgId:"search.serviceslistempty"})):e.props.services.map((function(t,r){return d.createElement("div",{className:"search-service-item",key:r},d.createElement("span",{className:"search-service-name"},t.name),d.createElement(v,{className:"list-remove-btn",onConfirm:function(){return e.remove(r)},text:d.createElement(g,{glyph:"remove-circle"}),confirming:{className:"text-warning list-remove-btn",text:d.createElement(h,{msgId:"search.confirmremove"})}}),d.createElement(g,{onClick:function(){return e.edit(t,r)},glyph:"pencil"}))}))})),p(c(e),"edit",(function(t,r){e.props.onPropertyChange("init_service_values",t),e.props.onPropertyChange("service",t),e.props.onPropertyChange("editIdx",r),e.props.onPropertyChange("page",1)})),p(c(e),"toggleOverride",(function(){var t=e.props,r=t.services,n=t.override;e.props.onPropertyChange("textSearchConfig",{services:r,override:!n})})),p(c(e),"remove",(function(t){var r=e.props,n=r.services,o=r.override,i=n.filter((function(e,r){return r!==t}));e.props.onPropertyChange("textSearchConfig",{services:i,override:o})})),e}return t=u,(r=[{key:"render",value:function(){var e=this.props.override;return d.createElement("form",null,d.createElement(m,null,d.createElement(b,null,d.createElement(h,{msgId:"search.serviceslistlabel"})),d.createElement("div",{className:"services-list"},this.getOptions())),d.createElement(y,{checked:e,onChange:this.toggleOverride},d.createElement(h,{msgId:"search.overriedservice"})))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(w,"propTypes",{services:S.array,override:S.bool,service:S.object,onPropertyChange:S.func}),p(w,"contextTypes",{messages:S.object}),p(w,"defaultProps",{services:[],override:!1,onPropertyChange:function(){}}),e.exports={Element:w,validate:function(){return!0}}},"./MapStore2/web/client/components/mapcontrols/searchservicesconfig/WFSOptionalProps.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.FormGroup,g=y.ControlLabel,h=y.FormControl,v=y.Label,S=r("./MapStore2/web/client/components/I18N/Message.jsx"),w=r("./node_modules/react-nouislider/dist/react-nouislider.common.js"),O=r("./node_modules/object-assign/index.js"),j=r("./node_modules/prop-types/index.js");var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"updateProp",(function(t,r){var n=r.target.value,o=O({},e.props.service.options,f({},t,n));e.props.onPropertyChange("service",O({},e.props.service,{options:o}))})),f(p(e),"updateSliderProps",(function(t,r){var n=i(i({},e.props.service.options),{},f({},t,parseInt(r[0],10)));e.props.onPropertyChange("service",i(i({},e.props.service),{},{options:n}))})),e}return t=u,(r=[{key:"render",value:function(){var e=this.props.service.options,t=void 0===e?{}:e;return m.createElement("form",null,m.createElement("span",{className:"wfs-required-props-title"},m.createElement(S,{msgId:"search.s_wfs_opt_props_label"})),m.createElement(b,null,m.createElement(g,null,m.createElement(S,{msgId:"search.s_sort"})),m.createElement(h,{value:t.sortBy,key:"sortBy",type:"text",onChange:this.updateProp.bind(null,"sortBy")})),m.createElement(b,null,m.createElement(g,null,m.createElement(S,{msgId:"search.s_max_features"})),m.createElement(w,{key:"maxFeatures",start:[t.maxFeatures||1],range:{min:1,max:50},onSlide:this.updateSliderProps.bind(null,"maxFeatures")}),m.createElement(v,{key:"maxFeatures-label",className:"slider-label"},t.maxFeatures||1)),m.createElement(b,null,m.createElement(g,null,m.createElement(S,{msgId:"search.s_max_zoom"})),m.createElement(w,{key:"maxZoomLevel",start:[t.maxZoomLevel||21],range:{min:1,max:35},onSlide:this.updateSliderProps.bind(null,"maxZoomLevel")}),m.createElement(v,{key:"maxZoomLevel-label",className:"slider-label"},t.maxZoomLevel||21)))}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);f(E,"propTypes",{service:j.object,onPropertyChange:j.func}),f(E,"defaultProps",{service:{},onPropertyChange:function(){}}),e.exports={Element:E,validate:function(){return!0}}},"./MapStore2/web/client/components/mapcontrols/searchservicesconfig/WFSServiceProps.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.FormGroup,y=f.ControlLabel,b=f.FormControl,g=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=r("./node_modules/object-assign/index.js"),v=r("./node_modules/prop-types/index.js");var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"updateProp",(function(t,r){var n=r.target.value;"queriableAttributes"===t&&(n=n.split(","));var o=h({},e.props.service.options,p({},t,n));e.props.onPropertyChange("service",h({},e.props.service,{options:o}))})),p(c(e),"updateName",(function(t){var r=t.target.value;e.props.onPropertyChange("service",h({},e.props.service,{name:r}))})),p(c(e),"updateMaxFeatures",(function(t){var r=h({},e.props.service.options,{maxFeatures:parseFloat(t[0],10)});e.props.onPropertyChange("service",h({},e.props.service,{options:r}))})),e}return t=u,(r=[{key:"render",value:function(){var e=this.props.service,t=e.options,r=void 0===t?{}:t;return d.createElement("form",null,d.createElement("span",{className:"wfs-required-props-title"},d.createElement(g,{msgId:"search.s_wfs_props_label"})),d.createElement(m,null,d.createElement(y,null,d.createElement(g,{msgId:"search.s_name"})),d.createElement(b,{value:e.name,key:"name",type:"text",onChange:this.updateName})),d.createElement(m,null,d.createElement(y,null,d.createElement(g,{msgId:"search.s_url"})),d.createElement(b,{value:r.url,key:"url",type:"text",onChange:this.updateProp.bind(null,"url")})),d.createElement(m,null,d.createElement(y,null,d.createElement(g,{msgId:"search.s_layer"})),d.createElement(b,{value:r.typeName,key:"typeName",type:"text",onChange:this.updateProp.bind(null,"typeName")})),d.createElement(m,null,d.createElement(y,null,d.createElement(g,{msgId:"search.s_attributes"})),d.createElement(b,{value:([r.queriableAttributes]||!1).join(","),key:"queriableAttributes",type:"text",onChange:this.updateProp.bind(null,"queriableAttributes")})))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(S,"propTypes",{service:v.object,onPropertyChange:v.func}),p(S,"defaultProps",{service:{},onPropertyChange:function(){}}),e.exports={Element:S,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=void 0===t?{}:t,n=e.name,o=void 0===n?"":n,i=r.url,a=void 0===i?"":i,s=r.typeName,l=void 0===s?"":s,c=r.queriableAttributes,u=void 0===c?"":c;return o.length>0&&a.length>0&&l.length>0&&u.length>0}}},"./MapStore2/web/client/components/maps/MapCatalog.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/recompose/es/Recompose.js").compose,l=r("./MapStore2/node_modules/lodash/lodash.js").isNil,c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r("./MapStore2/web/client/components/maps/MapCatalogForm.jsx"),p=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),d=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),f=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),m=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),y=s(f((function(e){var t=e.loading,r=e.items;return 0===(void 0===r?[]:r).length&&t})),m((function(e){var t=e.loading,r=e.items;return 0===(void 0===r?[]:r).length&&!t}),{title:a.createElement(c,{msgId:"catalog.noRecordsMatched"}),style:{transform:"translateY(50%)"}}))(r("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx"));e.exports=function(e){var t=e.setSearchText,r=void 0===t?function(){}:t,n=e.selected,i=e.skip,s=void 0===i?0:i,f=e.onSelected,m=e.loading,b=e.searchText,g=e.items,h=void 0===g?[]:g,v=e.loaderProps,S=void 0===v?{}:v,w=e.total,O=e.header,j=e.title,E=void 0===j?a.createElement(c,{msgId:"maps.title"}):j;return a.createElement(p,{className:"map-catalog",header:O||a.createElement(u,{title:E,searchText:b,onSearchTextChange:r}),footer:a.createElement("div",{className:"catalog-footer"},a.createElement("span",null,m&&h.length>0?a.createElement(d,null):null),l(w)?null:a.createElement("span",{className:"res-info"},a.createElement(c,{msgId:"catalog.pageInfoInfinite",msgParams:{loaded:h.length-s,total:w}})))},a.createElement(y,{loaderProps:S,items:h.map((function(e){return e===n||n&&e&&e.map&&n.id===e.map.id?o(o({},e),{},{selected:!0}):e})),loading:m,onItemClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.map;return f(t)}}))}},"./MapStore2/web/client/components/maps/MapCatalogForm.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Col,a=o.FormGroup,s=o.FormControl,l=o.Grid,c=o.Row,u=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js")("placeholder")(s);e.exports=function(e){var t=e.onSearchTextChange,r=void 0===t?function(){}:t,o=e.searchText,s=e.title;return n.createElement(l,{className:"catalog-form",fluid:!0},n.createElement(c,null,n.createElement(i,{xs:12},s&&n.createElement("h4",{className:"text-center"},s),n.createElement(a,{controlId:"catalog-form"},n.createElement(u,{type:"text",placeholder:"catalog.textSearchPlaceholder",value:o,onChange:function(e){return r(e.currentTarget.value)}})))))}},"./MapStore2/web/client/components/maps/enhancers/enhancers.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c,u,p,d,f=r("./node_modules/react/index.js"),m=r("./node_modules/rxjs/Rx.js"),y=r("./node_modules/recompose/es/Recompose.js"),b=y.compose,g=y.withProps,h=y.mapPropsStream,v=r("./MapStore2/node_modules/lodash/lodash.js").castArray,S=r("./MapStore2/web/client/components/I18N/Message.jsx"),w=r("./MapStore2/web/client/api/persistence/index.js").getResources,O=r("./MapStore2/web/client/components/misc/FitIcon.jsx"),j=r("./MapStore2/web/client/components/misc/enhancers/withControllableState.js"),E=r("./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withInfiniteScroll.js"),x=f.createElement(O,{glyph:"geoserver",padding:20}),P=function(e){var t=e.results,r=e.totalCount;return{items:(""!==t&&v(t)||[]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id,title:e.name,description:e.description,preview:e.thumbnail?f.createElement("img",{src:decodeURIComponent(e.thumbnail)}):x,map:e}})),total:r}},T=function(e){var t=e.text,r=void 0===t?"*":t,n=e.options,o=void 0===n?{}:n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w({category:"MAP",query:r,options:s({params:{start:10*i,limit:10}},o)}).map(P).catch((function(e){return m.Observable.of({error:e,items:[],total:0})}))},M={querySelector:".ms2-border-layout-body",pageSize:10},A=b(E((p=(c={loadPage:T,scrollSpyOptions:M,hasMore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.total,r=e.items,n=void 0===r?[]:r;return t>n.length}}).loadPage,d=c.scrollSpyOptions,s(s({},i(c,["loadPage","scrollSpyOptions"])),{},{scrollSpyOptions:s({skip:1},d),loadPage:(u=p,function(e,t){return 0===t&&e&&!e.text?u(e,t).map((function(e){var t=e.items,r=e.total;return s(s({},i(e,["items","total"])),{},{total:r,items:[{id:"EMPTY_MAP",title:f.createElement(S,{msgId:"widgets.selectMap.emptyMap.title"}),description:f.createElement(S,{msgId:"widgets.selectMap.emptyMap.description"}),preview:x,map:{id:"new.json"}}].concat(n(t))})})):u(e,t)}),hasMore:function(e){var t=e.total,r=e.items;return r&&r.length>=1&&"EMPTY_MAP"===r[0].id?t>r.length+1:t>r.length}}))),g((function(e){var t=e.items;return{skip:t&&t[0]&&"EMPTY_MAP"===t[0].id?1:0}})));e.exports={withSearchTextState:j("searchText","setSearchText",""),withVirtualScroll:E({loadPage:T,scrollSpyOptions:M,hasMore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.total,r=e.items,n=void 0===r?[]:r;return t>n.length}}),withEmptyMapVirtualScroll:A,searchOnTextChange:h((function(e){return e.merge(e.take(1).switchMap((function(t){var r=t.loadFirst,n=void 0===r?function(){}:r;return e.debounceTime(500).startWith({searchText:""}).distinctUntilKeyChanged("searchText",(function(e,t){return e===t})).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchText,r=e.options;return n({text:t,options:r})})).ignoreElements()})))}))}},"./MapStore2/web/client/components/maps/enhancers/mapCatalogWithEmptyMap.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").compose,o=r("./MapStore2/web/client/components/maps/enhancers/enhancers.js"),i=o.withSearchTextState,a=o.withEmptyMapVirtualScroll,s=o.searchOnTextChange;e.exports=n(i,a,s)},"./MapStore2/web/client/components/maps/forms/Thumbnail.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/components/I18N/Message.jsx"),y=r("./MapStore2/web/client/utils/ResourceUtils.js").getResourceIdFromURL,b=r("./MapStore2/web/client/components/misc/Thumbnail.jsx").default,g={FORMAT:d.createElement(m,{msgId:"map.errorFormat"}),SIZE:d.createElement(m,{msgId:"map.errorSize"})},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{}),p(c(e),"getThumbnailUrl",(function(){return e.props.map&&e.props.map.newThumbnail&&"NODATA"!==e.props.map.newThumbnail?decodeURIComponent(e.props.map.newThumbnail):null})),p(c(e),"getDataUri",(function(e,t){var r=e;if(r&&r.length>0){var n=r[0],o=new FileReader;return o.onload=function(e){return t(e.target.result,n.size)},o.readAsDataURL(n)}return t(null)})),p(c(e),"getThumbnailDataUri",(function(t){e.getDataUri(e.files,t)})),p(c(e),"generateUUID",(function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))})),p(c(e),"processUpdateThumbnail",(function(t,r,n){var o=e.generateUUID();!e.props.map||n||!e.props.map.thumbnail||e.refs.imgThumbnail||r||e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!0),e.props.map&&!n&&e.props.map.newThumbnail&&!e.refs.imgThumbnail&&r&&(e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,r,o,n,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&n&&e.refs.imgThumbnail&&(e.deleteThumbnail(e.props.map.thumbnail,null,!1),e.props.onSaveAll(t,r,o,n,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&!n&&e.refs.imgThumbnail&&e.props.onSaveAll(t,r,o,n,"THUMBNAIL",e.props.map.id),e.props.map.newThumbnail||n||e.refs.imgThumbnail||(e.props.map.thumbnail&&r&&e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,r,o,n,"THUMBNAIL",e.props.map.id))})),p(c(e),"updateThumbnail",(function(t,r){e.props.map.errors&&e.props.map.errors.length||e.getDataUri(e.files,(function(n){return e.processUpdateThumbnail(t,r,n),n}))})),p(c(e),"deleteThumbnail",(function(t,r){if(t&&-1!==t.indexOf("geostore")){var n=y(t);n&&e.props.onDeleteThumbnail(n,r)}})),e}return t=u,(r=[{key:"renderThumbnailErrors",value:function(){return this.props.thumbnailErrors&&this.props.thumbnailErrors.length>0?d.createElement("div",{className:"dropzone-errorBox alert-danger"},d.createElement("p",null,d.createElement(m,{msgId:"map.error"})),this.props.thumbnailErrors.map((function(e){return d.createElement("div",{id:"error"+e,key:"error"+e,className:"error"+e},g[e])}))):null}},{key:"render",value:function(){var e=this;return d.createElement(b,{ref:"imgThumbnail",thumbnail:this.getThumbnailUrl(),className:null,dropZoneProps:{className:"dropzone alert alert-info",rejectClassName:"alert-danger"},loading:this.props.loading,maxFileSize:this.props.maxFileSize,style:{pointerEvents:this.props.map.saving?"none":"auto"},label:this.props.withLabel&&d.createElement("label",{className:"control-label"},d.createElement(m,{msgId:"map.thumbnail"})),"":!0,message:d.createElement(d.Fragment,null,this.props.message,d.createElement("br",null),this.props.suggestion),error:this.renderThumbnailErrors(),onUpdate:function(t,r){var n;e.props.onError([],e.props.map.id),e.files=r,e.props.onUpdate(t,null==r||null===(n=r[0])||void 0===n?void 0:n.preview)},onError:function(t,r){e.props.onError(t,e.props.map.id),e.files=r,e.props.onUpdate(null,null)},onRemove:function(){e.files=null,e.props.onUpdate(null,null),e.props.onRemoveThumbnail(),e.props.onError([],e.props.map.id)}})}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(h,"propTypes",{glyphiconRemove:f.string,style:f.object,thumbnailErrors:f.array,loading:f.bool,withLabel:f.bool,map:f.object,maxFileSize:f.number,onDrop:f.func,onError:f.func,onUpdate:f.func,onSaveAll:f.func,onCreateThumbnail:f.func,onDeleteThumbnail:f.func,onRemoveThumbnail:f.func,message:f.oneOfType([f.string,f.element]),suggestion:f.oneOfType([f.string,f.element])}),p(h,"contextTypes",{messages:f.object}),p(h,"defaultProps",{loading:!1,withLabel:!0,glyphiconRemove:"remove-circle",maxFileSize:5e5,onDrop:function(){},onError:function(){},onUpdate:function(){},onSaveAll:function(){},onRemoveThumbnail:function(){},onCreateThumbnail:function(){},onDeleteThumbnail:function(){},message:d.createElement(m,{msgId:"map.message"}),suggestion:d.createElement(m,{msgId:"map.suggestion"}),map:{},thumbnailErrors:[]}),e.exports=h},"./MapStore2/web/client/components/maps/modals/ConfirmModal.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/react-bootstrap/es/index.js").Button,b=r("./MapStore2/web/client/components/misc/Modal.jsx"),g=r("./node_modules/react-spinkit/dist/index.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"onConfirm",(function(){e.props.onConfirm()})),e}return t=p,(r=[{key:"render",value:function(){var e=this,t=m.createElement("span",{role:"footer"},m.createElement("div",{style:{float:"left"}}),m.createElement(y,{ref:"confirmButton",disabled:this.props.running,className:this.props.className,key:"confirmButton",bsStyle:"primary",bsSize:this.props.buttonSize,onClick:function(){e.onConfirm()}},this.props.running?m.createElement(g,{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):null,this.props.confirmText),this.props.includeCloseButton?m.createElement(y,{key:"cancelButton",ref:"cancelButton",bsSize:this.props.buttonSize,onClick:this.props.onClose},this.props.cancelText):m.createElement("span",null)),r=this.props.body;return m.createElement(b,o({},this.props.options,{show:this.props.show,onHide:this.props.onClose}),m.createElement(b.Header,{key:"dialogHeader",closeButton:!0},m.createElement(b.Title,null,this.props.titleText)),m.createElement(b.Body,null,r),m.createElement(b.Footer,null,t))}}])&&a(t.prototype,r),n&&a(t,n),p}(m.Component);d(h,"propTypes",{className:f.string,show:f.bool,options:f.object,onConfirm:f.func,onClose:f.func,closeGlyph:f.string,style:f.object,buttonSize:f.string,includeCloseButton:f.bool,body:f.oneOfType([f.string,f.element]),titleText:f.oneOfType([f.string,f.element]),confirmText:f.oneOfType([f.string,f.element]),cancelText:f.oneOfType([f.string,f.element]),running:f.bool}),d(h,"defaultProps",{onConfirm:function(){},onClose:function(){},options:{animation:!1},className:"",closeGlyph:"",style:{},includeCloseButton:!0,body:"",titleText:"Confirm Delete",confirmText:"Delete",cancelText:"Cancel"}),e.exports=h},"./MapStore2/web/client/components/misc/AdaptiveGrid.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/data/grid/forceScrollTop.js")(r("./MapStore2/web/client/components/data/grid/DataGrid.jsx")),a=r("./node_modules/react-container-dimensions/lib/index.js").default;e.exports=function(e){return o.createElement(a,null,(function(t){var r=t.width,a=t.height;return o.createElement("div",{className:e.className},o.createElement(i,n({},e,{minHeight:a,minWidth:r,enableCellAutoFocus:!1})))}))}},"./MapStore2/web/client/components/misc/AutocompleteCombobox.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./MapStore2/node_modules/lodash/lodash.js").isArray,l=r("./MapStore2/web/client/components/misc/combobox/PagedCombobox.jsx"),c=r("./node_modules/recompose/es/Recompose.js"),u=c.setObservableConfig,p=c.mapPropsStreamWithConfig,d=c.compose,f=c.withStateHandlers,m=r("./node_modules/recompose/rxjsObservableConfig.js").default;u(m);var y=p(m)((function(e){return e.take(1).switchMap((function(t){return t.autocompleteStreamFactory(e)})).combineLatest(e,(function(e,t){return{data:s(e&&e.fetchedData&&e.fetchedData.values)?e.fetchedData.values.map((function(e){return{label:e,value:e}})):[],valuesCount:e&&e.fetchedData&&e.fetchedData.size,currentPage:t&&t.currentPage,maxFeatures:t&&t.maxFeatures,select:t&&t.select,focus:t&&t.focus,loadNextPage:t&&t.loadNextPage,loadPrevPage:t&&t.loadPrevPage,toggle:t&&t.toggle,change:t.change,open:t.open,selected:t&&t.selected,value:t.value,busy:e.busy}}))}))((function(e){var t=e.open,r=e.toggle,n=e.select,o=e.focus,i=e.change,s=e.value,c=e.valuesCount,u=e.loadNextPage,p=e.loadPrevPage,d=e.maxFeatures,f=e.currentPage,m=e.busy,y=e.data,b=e.loading,g=void 0!==b&&b,h=Math.ceil(c/d);return a.createElement(l,{pagination:{firstPage:1===f,lastPage:f===h,paginated:!0,loadPrevPage:p,loadNextPage:u},busy:m,dropUp:!1,data:y,open:t,onFocus:o,onToggle:r,onChange:i,onSelect:n,selectedValue:s,loading:g})})),b=d(f((function(e){return{delayDebounce:0,performFetch:!1,open:!1,currentPage:1,maxFeatures:5,url:e.url,typeName:e.typeName,value:e.value,attribute:e.column&&e.column.key,autocompleteStreamFactory:e.autocompleteStreamFactory}}),{select:function(e){return function(){return o(o({},e),{},{selected:!0})}},change:function(e){return function(t){if(e.selected&&e.changingPage)return o(o({},e),{},{delayDebounce:e.selected?0:500,selected:!1,changingPage:!1,performFetch:!(e.selected&&!e.changingPage),value:e.value,currentPage:e.changingPage?e.currentPage:1});var r="string"==typeof t?t:t.value;return o(o({},e),{},{delayDebounce:e.selected?0:500,selected:!1,changingPage:!1,performFetch:!(e.selected&&!e.changingPage),value:r,currentPage:e.changingPage?e.currentPage:1})}},focus:function(e){return function(t){return t&&0===t.length&&""===e.value?o(o({},e),{},{delayDebounce:0,currentPage:1,performFetch:!0,isToggled:!1,open:!0}):e}},toggle:function(e){return function(){return o(o({},e),{},{open:!!e.changingPage||!e.open})}},loadNextPage:function(e){return function(){return o(o({},e),{},{currentPage:e.currentPage+1,performFetch:!0,changingPage:!0,delayDebounce:0,value:e.value})}},loadPrevPage:function(e){return function(){return o(o({},e),{},{currentPage:e.currentPage-1,performFetch:!0,changingPage:!0,delayDebounce:0,value:e.value})}}}))(y);e.exports={AutocompleteCombobox:b}},"./MapStore2/web/client/components/misc/AutocompleteWFSCombobox.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./MapStore2/node_modules/lodash/lodash.js").isArray,l=r("./MapStore2/web/client/components/misc/combobox/PagedComboboxWithFeatures.jsx"),c=r("./MapStore2/web/client/utils/TemplateUtils.js").generateTemplateString,u=r("./node_modules/recompose/es/Recompose.js"),p=u.setObservableConfig,d=u.mapPropsStreamWithConfig,f=u.compose,m=u.withStateHandlers,y=u.withPropsOnChange,b=u.withHandlers,g=r("./node_modules/recompose/rxjsObservableConfig.js").default,h=r("./MapStore2/web/client/utils/FilterUtils.jsx").escapeCQLStrings;p(g);var v=d(g)((function(e){return e.take(1).switchMap((function(t){return t.autocompleteStreamFactory(e)})).combineLatest(e,(function(e,t){return o(o({},t),{},{data:s(e&&e.fetchedData&&e.fetchedData.values)?e.fetchedData.values:[],features:s(e&&e.fetchedData&&e.fetchedData.features)?e.fetchedData.features:[],valuesCount:e&&e.fetchedData&&e.fetchedData.size,srsName:e&&e.fetchedData&&e.fetchedData.crs,busy:e.busy})}))}))((function(e){var t=e.open,r=e.toggle,n=e.select,o=e.focus,i=e.change,s=e.changed,c=e.originalValue,u=e.value,p=e.valuesCount,d=e.onChangeDrawingStatus,f=e.loadNextPage,m=e.loadPrevPage,y=e.maxFeatures,b=e.currentPage,g=e.itemComponent,h=e.features,v=e.busy,S=e.data,w=e.loading,O=void 0!==w&&w,j=e.valueField,E=e.textField,x=e.filter,P=e.srsName,T=e.style,M=Math.ceil(p/y);return a.createElement(l,{pagination:{firstPage:1===b,lastPage:M<=b,paginated:!0,loadPrevPage:m,loadNextPage:f,currentPage:b},srsName:P,busy:v,dropUp:!1,data:S,open:t,onChangeDrawingStatus:d,valueField:j,textField:E,itemComponent:g,filter:x,onFocus:o,onToggle:r,onChange:i,onSelect:n,features:h,style:T,selectedValue:s?u:c||u,loading:O})})),S=f(y(["valueField"],(function(){return{value:void 0}})),m((function(e){return{delayDebounce:0,performFetch:!1,open:!1,currentPage:1,maxFeatures:5,changed:e.value,value:e.value,onChangeDrawingStatus:e.onChangeDrawingStatus,itemComponent:e.itemComponent}}),{select:function(){return function(e){return{selected:e}}},change:function(e){return function(t,r){return e.selected||e.open||e.onChangeDrawingStatus("clean","","queryform",[],{}),{delayDebounce:500,selected:!1,changingPage:!1,changed:!0,performFetch:!(e.selected&&!e.changingPage),value:e.selected&&e.changingPage&&e.value||("string"==typeof t?t:t[r]),currentPage:e.changingPage?e.currentPage:1}}},focus:function(e){return function(t){return t&&0===t.length&&""===e.value?{delayDebounce:0,currentPage:1,performFetch:!0,isToggled:!1,open:!0}:e}},toggle:function(e){return function(){return{open:!!e.changingPage||!e.open}}},loadNextPage:function(e){return function(){return{currentPage:e.currentPage+1,performFetch:!0,changingPage:!0,delayDebounce:0}}},loadPrevPage:function(e){return function(){return{currentPage:e.currentPage-1,performFetch:!0,changingPage:!0,delayDebounce:0}}}}),b({select:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=e.onChangeSpatialFilterValue,n=void 0===r?function(){}:r,o=e.select,i=void 0===o?function(){}:o;return function(e,r,o,a){r&&n({geometry:r.geometry,value:e,feature:r,srsName:o,style:a,options:t,collectGeometries:t&&t.crossLayer?{queryCollection:{typeName:t.crossLayer.typeName,geometryName:t.crossLayer.geometryName,cqlFilter:c(t.crossLayer.cqlTemplate||"",h)(r)}}:void 0}),i(!0)}}}))(v);e.exports={AutocompleteWFSCombobox:S}},"./MapStore2/web/client/components/misc/ConfirmDialog.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.Button,y=f.ButtonGroup,b=f.Glyphicon,g=r("./MapStore2/web/client/components/misc/Dialog.jsx"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return d.createElement(g,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:h({},this.props.style,{display:this.props.show?"block":"none"})},d.createElement("span",{role:"header"},d.createElement("span",{className:"user-panel-title"},this.props.title),d.createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?d.createElement(b,{glyph:this.props.closeGlyph}):d.createElement("span",null,""))),d.createElement("div",{role:"body"},this.props.children),d.createElement("div",{role:"footer"},d.createElement(y,null,d.createElement(m,{onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),d.createElement(m,{onClick:this.props.onClose},this.props.closeText))))}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(S,"propTypes",{show:p.bool,draggable:p.bool,onClose:p.func,onConfirm:p.func,onSave:p.func,modal:p.bool,closeGlyph:p.string,style:p.object,buttonSize:p.string,inputStyle:p.object,title:p.node,confirmButtonContent:p.node,confirmButtonDisabled:p.bool,closeText:p.node,confirmButtonBSStyle:p.string}),u(S,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:d.createElement(v,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:d.createElement(v,{msgId:"confirm"})||"Confirm",closeText:d.createElement(v,{msgId:"close"}),includeCloseButton:!0}),e.exports=S},"./MapStore2/web/client/components/misc/Dialog.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-draggable/dist/react-draggable.js"),g=r("./node_modules/react-spinkit/dist/index.js"),h=r("./node_modules/object-assign/index.js"),v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?m.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},m.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},m.createElement(v,{msgId:"loading"}),m.createElement(g,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),f(p(e),"renderRole",(function(t){return m.Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),f(p(e),"hasRole",(function(t){return m.Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),f(p(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=m.createElement("div",{id:this.props.id,style:i({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},m.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),m.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?m.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):m.createElement("span",null)),r=this.props.draggable?m.createElement(b,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=h({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?m.createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);f(S,"propTypes",{id:y.string.isRequired,style:y.object,backgroundStyle:y.object,className:y.string,maskLoading:y.bool,containerClassName:y.string,headerClassName:y.string,bodyClassName:y.string,footerClassName:y.string,onClickOut:y.func,modal:y.bool,start:y.object,draggable:y.bool,bounds:y.oneOfType([y.string,y.object])}),f(S,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"}),e.exports=S},"./MapStore2/web/client/components/misc/EmptyView.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./MapStore2/web/client/components/misc/FitIcon.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.mainViewStyle,i=void 0===n?{}:n,l=e.contentStyle,c=void 0===l?{}:l,u=e.imageStyle,p=void 0===u?{}:u,d=e.glyph,f=void 0===d?"info-sign":d,m=e.iconFit,y=e.title,b=e.tooltip,g=e.tooltipId,h=e.description,v=e.content;return a.createElement("div",{className:"empty-state-container",style:o({height:m?"100%":void 0},r)},a.createElement("div",{key:"main-view",className:"empty-state-main-view",style:o({height:m?"100%":void 0},i)},f?a.createElement("div",{key:"glyph",className:"empty-state-image",style:o({height:m?"100%":void 0},p)},a.createElement(s,{iconFit:m,tooltip:b,tooltipId:g,glyph:f})):null,y?a.createElement("h1",{key:"title"},y):null,h?a.createElement("p",{key:"description",className:"empty-state-description"},h):null),a.createElement("div",{key:"content",className:"empty-state-content",style:c},v))}},"./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/MapInfoUtils.js"),l=r.n(s),c=r("./node_modules/react-select/dist/react-select.es.js"),u=r("./node_modules/react-bootstrap/es/index.js"),p=r("./MapStore2/web/client/components/misc/Overlay.jsx"),d=r.n(p);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t=e.text,r=e.placement,i=e.bsStyle,a=e.left,s=e.top,l=e.title,c=e.glyph,p=e.id,m=Object(n.useRef)(),y=f(Object(n.useState)(!1),2),b=y[0],g=y[1];return o.a.createElement("span",{className:"mapstore-info-popover",onMouseLeave:function(){return g(!1)}},o.a.createElement(u.Glyphicon,{onMouseEnter:function(){g(!0)},ref:function(e){m.current=e},className:"text-".concat(i),glyph:c}),o.a.createElement(d.a,{placement:r,show:b,target:function(){return m.current}},o.a.createElement(u.Popover,{id:p,placement:r,positionLeft:a,positionTop:s,title:l},o.a.createElement("div",{style:{display:"flex"}},t))))};y.propTypes={id:a.a.string,title:a.a.string,text:a.a.string,glyph:a.a.string,bsStyle:a.a.string,placement:a.a.string,left:a.a.number,top:a.a.number,trigger:a.a.oneOfType([a.a.array,a.a.bool])},y.defaultProps={id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info"};var b=y,g=r("./MapStore2/web/client/components/I18N/HTML.jsx"),h=r.n(g);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=e.id,r=e.label,n=e.infoFormat,i=e.availableInfoFormat,a=e.popoverMessage,s=e.disabled,l=e.onInfoFormatChange,p=e.selectProps,d=Object.keys(i).reduce((function(e,t){return Object.keys(e).map((function(t){return e[t]})).some((function(e){return e===i[t]}))?e:w(w({},e),{},O({},t,i[t]))}),{}),f=Object.keys(d).map((function(e){return{value:d[e],label:e}})),m=o.a.createElement(o.a.Fragment,null,"  ",a&&o.a.createElement(b,{text:o.a.createElement(h.a,{msgId:a})}),o.a.createElement(c.default,v({},p,{id:t,value:n,clearable:!1,disabled:s,options:f,onChange:function(e){return l(null==e?void 0:e.value)}})));return r?o.a.createElement(u.FormGroup,{bsSize:"small"},o.a.createElement(u.ControlLabel,null,r),m):m}j.propTypes={id:a.a.string,label:a.a.oneOfType([a.a.func,a.a.string,a.a.object]),availableInfoFormat:a.a.object,infoFormat:a.a.string,popoverMessage:a.a.string,onInfoFormatChange:a.a.func,disabled:a.a.bool,selectProps:a.a.object},j.defaultProps={id:"mapstore-feature-format-selector",availableInfoFormat:l.a.getAvailableInfoFormat(),infoFormat:l.a.getDefaultInfoFormatValue(),popoverMessage:"",onInfoFormatChange:function(){},selectProps:{}};t.default=j},"./MapStore2/web/client/components/misc/FeatureInfoTriggerSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/plugins/locale/Message.jsx"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.FormControl,g=y.FormGroup,h=y.ControlLabel,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onChange",(function(t){e.props.onSetMapTrigger(t.target.value)})),e}return t=u,(r=[{key:"render",value:function(){return d.createElement(g,{bsSize:"small"},d.createElement(h,null,d.createElement(m,{msgId:"infoTriggerLabel"})),d.createElement(b,{value:this.props.trigger,componentClass:"select",onChange:this.onChange},d.createElement("option",{value:"click",key:"click"},"Click"),d.createElement("option",{value:"hover",key:"hover"},"Hover")))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(v,"propTypes",{trigger:f.string,onSetMapTrigger:f.func}),e.exports=v},"./MapStore2/web/client/components/misc/Filter.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.FormGroup,b=m.FormControl,g=m.Glyphicon,h=m.InputGroup,v=m.OverlayTrigger,S=m.Tooltip;r("./MapStore2/web/client/components/misc/style/filter.css");var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onFilter",(function(t){e.props.onFilter(t.target.value)})),p(c(e),"onClear",(function(){e.props.onFilter("")})),e}return t=u,(r=[{key:"render",value:function(){var e=this.props.filterText?d.createElement(v,{placement:"bottom",overlay:d.createElement(S,{id:"mapstore-toc-filter"},this.props.tooltipClear)},d.createElement(g,{glyph:"1-close",className:"text-primary close-filter",onClick:this.onClear})):d.createElement(g,{className:"text-primary",glyph:"filter"});return d.createElement(y,{className:"mapstore-filter"},d.createElement(h,null,d.createElement(b,{value:this.props.filterText,placeholder:this.props.filterPlaceholder,onChange:this.onFilter,onFocus:this.props.onFocus,type:"text"}),d.createElement(h.Addon,{className:"square-button-md"},this.props.loading?d.createElement("div",{className:"toc-inline-loader"}):e)))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(w,"propTypes",{loading:f.bool,filterText:f.string,filterPlaceholder:f.oneOfType([f.object,f.string]),onFilter:f.func,onFocus:f.func,tooltipClear:f.oneOfType([f.object,f.string])}),p(w,"defaultProps",{loading:!1,filterText:"",filterPlaceholder:"",onFilter:function(){},onFocus:function(){},tooltipClear:"Clear"}),e.exports=w},"./MapStore2/web/client/components/misc/FitIcon.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,i=r("./node_modules/react-container-dimensions/lib/index.js").default,a=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(o);e.exports=function(e){var t=e.glyph,r=void 0===t?"info-sign":t,o=e.tooltip,s=e.tooltipId,l=e.iconFit,c=e.padding,u=void 0===c?0:c,p=e.margin,d=void 0===p?0:p;return n.createElement(i,null,(function(e){var t=e.width,i=e.height;return n.createElement(a,{glyph:r,tooltip:o,tooltipId:s,style:{display:"inline-block",padding:u+"px",margin:d+"px",textAlign:"center",fontSize:l?Math.min(t,i)-2*u-2*d:t-2*u-2*d}})}))}},"./MapStore2/web/client/components/misc/Loader.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/prop-types/index.js"),l=function(e){return e>100?"full":e>40?"medium":"small"},c=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,i=e.className,s=e.hidden;return a.createElement("div",{className:i,style:o({width:t,height:t,overflow:"hidden"},n)},!s&&a.createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};c.propTypes={size:s.number,className:s.string,style:s.object},e.exports=c},"./MapStore2/web/client/components/misc/LoadingSpinner.jsx":function(e,t,r){var n=r("./node_modules/react/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{display:"inline-block"}:t;return n.createElement("div",{style:r,className:"mapstore-inline-loader"})}},"./MapStore2/web/client/components/misc/LoadingView.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/react-container-dimensions/lib/index.js").default,l=r("./MapStore2/web/client/components/misc/Loader.jsx");e.exports=function(e){var t=e.width,r=e.height,n=e.className,i=void 0===n?"loader-container":n,c=e.contentStyle,u=void 0===c?{}:c;return a.createElement("div",{className:i},a.createElement(s,null,(function(e){var n=e.width,i=void 0===n?200:n,s=e.height,c=void 0===s?200:s,p=t||(c>0?Math.min(i,c):i),d=r||(c>0?Math.min(i,c):i),f=Math.min(p,d);return a.createElement(l,{size:f,style:o({padding:f/10,margin:"auto",display:"flex"},u)})})))}},"./MapStore2/web/client/components/misc/Modal.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./MapStore2/web/client/components/misc/WithContainer.jsx"),p=r("./node_modules/react-bootstrap/es/index.js").Modal,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"handleDialogClick",value:function(e){e.target===e.currentTarget&&this.props.onHide(e)}}])&&i(t.prototype,r),n&&i(t,n),c}(p),f=r("./node_modules/object-assign/index.js");e.exports=f(u(d),{Body:p.Body,Dialog:p.Dialog,Footer:p.Footer,Header:p.Header,Title:p.Title})},"./MapStore2/web/client/components/misc/Overlay.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-bootstrap/es/index.js").Overlay)},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-bootstrap/es/index.js").OverlayTrigger)},"./MapStore2/web/client/components/misc/OverlayTriggerCustom.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-dom/index.js"),a=r.n(i),s=r("./node_modules/prop-types/index.js"),l=r.n(s),c=r("./node_modules/react-bootstrap/es/index.js"),u=r("./MapStore2/web/client/components/misc/WithContainer.jsx"),p=r.n(u);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,r,n,i=y(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={show:!1},t.target=o.a.createRef(),t}return t=s,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{ref:this.target,onMouseOver:function(){return e.setState({show:!0})},onMouseOut:function(){return e.setState({show:!1})}},o.a.Children.only(this.props.children)),o.a.createElement(c.Overlay,{show:this.state.show,onHide:function(){return e.setState({show:!1})},placement:this.props.placement,container:this.props.container,target:function(){return e.target&&e.target.current&&a.a.findDOMNode(e.target.current)}},this.props.overlay))}}])&&f(t.prototype,r),n&&f(t,n),s}(o.a.Component);h(v,"propTypes",{overlay:l.a.element,placement:l.a.string,container:l.a.element}),h(v,"defaultProps",{placement:"right"}),t.default=p()(v)},"./MapStore2/web/client/components/misc/Portal.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=n(r("./node_modules/react-overlays/es/index.js").Portal)},"./MapStore2/web/client/components/misc/ResizableModal.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,i=r("./MapStore2/web/client/components/misc/Dialog.jsx"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=r("./node_modules/recompose/es/Recompose.js").withState,l=r("./node_modules/react-addons-css-transition-group/index.js"),c=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),u={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},p={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}};e.exports=s("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,r=void 0!==t&&t,s=e.loading,d=e.loadingText,f=e.onClose,m=void 0===f?function(){}:f,y=e.title,b=void 0===y?"":y,g=e.clickOutEnabled,h=void 0===g||g,v=e.showClose,S=void 0===v||v,w=e.disabledClose,O=void 0!==w&&w,j=e.showFullscreen,E=void 0!==j&&j,x=e.fullscreenType,P=void 0===x?"full":x,T=e.buttons,M=void 0===T?[]:T,A=e.size,C=void 0===A?"":A,_=e.bodyClassName,I=void 0===_?"":_,R=e.children,L=e.draggable,D=void 0!==L&&L,k=e.fullscreenState,N=e.onFullscreen,F=e.fade,G=void 0!==F&&F,U=e.fitContent,B=e.modalClassName,z=void 0===B?"":B,W=e.dialogClassName,V=void 0===W?"":W,H=e.enableFooter,q=void 0===H||H,Y=u[C]||"",Z=E&&"expanded"===k&&p.className[P]||"",Q=r?n.createElement("div",{className:"modal-fixed ".concat(z," ")+(D?"ms-draggable":"")},n.createElement(i,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:h?m:function(){},containerClassName:"ms-resizable-modal",draggable:D,modal:!0,className:"modal-dialog modal-content"+Y+Z+V+(U?" ms-fit-content":"")},n.createElement("span",{role:"header"},n.createElement("h4",{className:"modal-title"},n.createElement("div",{className:"ms-title"},b),E&&p.className[P]&&n.createElement(o,{className:"ms-header-btn",onClick:function(){return N("expanded"===k?"collapsed":"expanded")},glyph:p.glyph[k][P]}),S&&m&&n.createElement(o,{glyph:"1-close",className:"ms-header-btn",onClick:m,disabled:O}))),n.createElement("div",{role:"body",className:I},R),q&&n.createElement("div",{style:{display:"flex"},role:"footer"},n.createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},s?n.createElement(c,null):null),n.createElement("div",{className:"ms-resizable-modal-loading-text"},s?d:null),n.createElement(a,{buttons:M})))):null;return G?n.createElement(l,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},Q):Q}))},"./MapStore2/web/client/components/misc/Slider.jsx":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,o=r("./node_modules/recompose/es/Recompose.js").shouldUpdate;e.exports=o((function(e,t){return!n(e.start,t.start)||e.disabled!==t.disabled}))(r("./node_modules/react-nouislider/dist/react-nouislider.common.js"))},"./MapStore2/web/client/components/misc/StringSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./MapStore2/node_modules/lodash/lodash.js").find,m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{open:!1}),p(c(e),"getSelected",(function(){return f(e.props.options,e.getFindFunciton())})),p(c(e),"getValue",(function(t){return e.props.valueField&&t&&t[e.props.valueField]?t[e.props.valueField]:t})),p(c(e),"getLabel",(function(t){return e.props.labelField&&t&&t[e.props.labelField]?t[e.props.labelField]:e.getValue(t)})),p(c(e),"getFindFunciton",(function(){return e.props.valueField?p({},e.props.valueField,e.props.value):e.props.value})),p(c(e),"renderLabel",(function(t){return e.props.labelRenderer?e.props.labelRenderer(t):e.getLabel(t)})),p(c(e),"handleOutsideClick",(function(t){e.node&&e.node.contains&&!e.node.contains(t.target)&&e.state.open?e.handleClick():document&&!e.node&&e.handleOutsideClick&&document.removeEventListener("click",e.handleOutsideClick,!1)})),p(c(e),"handleClick",(function(){document&&!e.state.open?document.addEventListener("click",e.handleOutsideClick,!1):document.removeEventListener("click",e.handleOutsideClick,!1);var t=!e.state.open;e.setState({open:t})})),e}return t=u,(r=[{key:"render",value:function(){var e=this;return d.createElement("span",{ref:function(t){e.node=t},className:"mapstore-string-select"},d.createElement("span",{onClick:this.handleClick},d.createElement("strong",null,this.renderLabel(this.getSelected())),d.createElement(y,{glyph:"chevron-down"})),this.state.open&&d.createElement("div",{className:"m-options"},d.createElement("ul",null,this.props.options.map((function(t,r){return d.createElement("li",{key:r,onClick:function(){e.setState({open:!1}),e.props.onSelect(e.getValue(t),t)}},e.renderLabel(t))})))))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(b,"propTypes",{options:m.array,value:m.any,onSelect:m.func,valueField:m.string,labelField:m.string,labelRenderer:m.any}),p(b,"defaultProps",{onSelect:function(){},options:[]}),e.exports=b},"./MapStore2/web/client/components/misc/Thumbnail.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-dropzone/dist/index.js"),a=r.n(i),s=r("./MapStore2/web/client/components/misc/Loader.jsx"),l=r.n(s),c=r("./MapStore2/web/client/utils/ThumbnailUtils.js"),u=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=r.n(u);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=Object(n.forwardRef)((function(e,t){var r=e.className,i=void 0===r?"ms-thumbnail":r,s=e.label,u=e.loading,y=e.message,b=e.error,g=e.thumbnail,h=e.removeGlyph,v=void 0===h?"trash":h,S=e.removeTooltipId,w=void 0===S?"removeThumbnail":S,O=e.style,j=void 0===O?{}:O,E=e.maxFileSize,x=void 0===E?5e5:E,P=e.supportedImageTypes,T=void 0===P?["image/png","image/jpeg","image/jpg"]:P,M=e.thumbnailOptions,A=e.dropZoneProps,C=void 0===A?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:A,_=e.onUpdate,I=void 0===_?function(){}:_,R=e.onError,L=void 0===R?function(){}:R,D=e.onRemove,k=e.toolbarButtons,N=Object(n.useRef)(),F=m(Object(n.useState)(),2),G=F[0],U=F[1];Object(n.useEffect)((function(){return N.current=!0,function(){N.current=!1}}),[]);if(u||G)return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(i?" ".concat(i):""," ms-loading")},o.a.createElement(l.a,{size:70}));var B=o.a.createElement(p.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:k||[{glyph:v,visible:!(!D||!g),tooltipId:w,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==D||D()}}]});return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(i?" ".concat(i):""),style:j},s,o.a.createElement(a.a,d({},C,{multiple:!1,onDrop:function(e){var t,r=null==e||null===(t=e[0])||void 0===t?void 0:t.type,n=-1!==T.indexOf(r);U(!0),function(e,t){return new Promise((function(r){var n=e;if(null==n?void 0:n[0]){var o=n[0],i=new FileReader;return i.onload=function(e){return r(t?Object(c.a)(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},i.readAsDataURL(o)}return r({data:null})}))}(e,M).then((function(t){var r=t.data,o=t.size;return N.current?(U(!1),n&&r&&o<x?I(r,e):L([].concat(f(n?[]:["FORMAT"]),f(r&&o>=x?["SIZE"]:[])),e)):null})).catch((function(e){return N.current?(U(!1),L(e)):null}))}}),g?o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o.a.createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(g,")"),backgroundSize:(null==M?void 0:M.contain)?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:"dropzone-content-image-added"},y),B):o.a.createElement("div",{className:"dropzone-content-image"},y,B,b&&o.a.createElement("div",{className:"dropzone-errors"},b))))}));t.default=g},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/utils/ConfigUtils.js");e.exports=function(e){return function(t){return o.createElement(e,n({},t,{container:document.querySelector("."+(i.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/components/misc/cardgrids/SideCard.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=r("./node_modules/react/index.js"),l=r("./MapStore2/node_modules/lodash/lodash.js").isObject,c=r("./MapStore2/web/client/components/misc/Loader.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.body,r=e.caption,n=e.infoExtra,i=e.className,u=void 0===i?"":i,p=e.description,d=e.fullText,f=e.onClick,m=void 0===f?function(){}:f,y=e.onMouseEnter,b=void 0===y?function(){}:y,g=e.onMouseLeave,h=void 0===g?function(){}:g,v=e.preview,S=e.selected,w=e.size,O=e.style,j=void 0===O?{}:O,E=e.stylePreview,x=void 0===E?{}:E,P=e.styleTools,T=void 0===P?{}:P,M=e.title,A=e.loading,C=e.dragSymbol,_=void 0===C?"+":C,I=e.tools,R=a(e,["body","caption","infoExtra","className","description","fullText","onClick","onMouseEnter","onMouseLeave","preview","selected","size","style","stylePreview","styleTools","title","loading","dragSymbol","tools"]);return s.createElement("div",{className:"mapstore-side-card".concat(S?" selected":"").concat(w?" ms-"+w:"").concat(u?" ".concat(u):"").concat(d?" full-text":""),onClick:function(e){return m(o({title:M,preview:v,description:p,caption:r,tools:I},R),e)},onMouseEnter:b,onMouseLeave:h,style:j},s.createElement("div",{className:"ms-head"},R.isDraggable&&R.connectDragSource&&R.connectDragSource(s.createElement("div",{className:"mapstore-side-card-tool text-center"},s.createElement("div",{style:{width:10,overflow:"hidden"}},_))),v&&s.createElement("div",{className:"mapstore-side-preview",style:x},v),s.createElement("div",{className:"mapstore-side-card-container"},s.createElement("div",{className:"mapstore-side-card-inner"},s.createElement("div",{className:"mapstore-side-card-left-container"},s.createElement("div",{className:"mapstore-side-card-info"},M&&s.createElement("div",{className:"mapstore-side-card-title"},s.createElement("span",null,M)),p&&s.createElement("div",{className:"mapstore-side-card-desc"},l(p)?p:s.createElement("span",null,p)),r&&s.createElement("div",{className:"mapstore-side-card-caption"},s.createElement("span",null,r))),n),s.createElement("div",{className:"mapstore-side-card-right-container"},s.createElement("div",{className:"mapstore-side-card-tool text-center",style:T},I),"sm"!==w&&s.createElement("div",{className:"mapstore-side-card-loading"},s.createElement(c,{className:"mapstore-side-card-loader",size:12,hidden:!A})))))),t&&s.createElement("div",{className:"ms-body"},t))}},"./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./MapStore2/web/client/components/misc/cardgrids/SideCard.jsx"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Row,g=y.Col,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){var e=this.props,t=e.cardComponent,r=e.items,n=e.colProps,i=e.onItemClick,a=e.size,s=t||f;return d.createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},d.createElement(b,{className:"items-list"},r.map((function(e,t){return d.createElement(g,o({key:e.id||t},n),d.createElement(s,o({onClick:function(){return i(e)},size:a},e)))}))))}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(h,"propTypes",{size:m.string,onItemClick:m.func,colProps:m.object,items:m.array,cardComponent:m.oneOfType([m.string,m.func]),className:m.string}),p(h,"defaultProps",{size:"",onItemClick:function(){},colProps:{xs:12},className:"",items:[]}),e.exports=h},"./MapStore2/web/client/components/misc/cardgrids/SquareCard.jsx":function(e,t,r){var n=r("./node_modules/react/index.js");e.exports=function(e){var t=e.disabled,r=e.selected,o=e.title,i=e.preview,a=e.previewSrc,s=e.onClick,l=void 0===s?function(){}:s;return n.createElement("div",{className:"ms-square-card".concat(r?" ms-selected":"").concat(t?" ms-disabled":""),onClick:t?null:function(){return l()}},(i||a)&&n.createElement("div",{className:"ms-preview"},i||a&&n.createElement("img",{src:a})),n.createElement("small",null,o))}},"./MapStore2/web/client/components/misc/combobox/ControlledCombobox.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/combobox/PagedCombobox.jsx"),i=r("./MapStore2/web/client/components/misc/combobox/addState.js")((function(e){var t=e.toggle,r=e.select,i=e.focus,a=e.change,s=e.value,l=e.busy,c=e.data,u=e.loading,p=void 0!==u&&u,d=e.filter,f=e.open;return n.createElement(o,{pagination:{paginated:!1},onFocus:i,onToggle:t,onChange:a,onSelect:r,selectedValue:s,dropUp:!1,busy:l,data:c,open:f,loading:p,filter:d})}));e.exports=i},"./MapStore2/web/client/components/misc/combobox/PagedCombobox.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/react-widgets/lib/index.js").Combobox,b=r("./node_modules/react-bootstrap/es/index.js"),g=b.Glyphicon,h=b.Tooltip,v=r("./MapStore2/web/client/utils/LocaleUtils.js"),S=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),w=r("./MapStore2/web/client/components/data/query/AutocompleteListItem.jsx"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"renderWithTooltip",(function(t){if(e.props.tooltip.customizedTooltip){var r=e.props.tooltip.customizedTooltip;return m.createElement(r,null,t)}var n=m.createElement(h,{id:e.props.tooltip.id},e.props.tooltip.message);return m.createElement(S,{key:e.props.tooltip.overlayTriggerKey,placement:e.props.tooltip.placement,overlay:n},t)})),d(u(e),"renderPagination",(function(){var t=e.props.pagination.firstPage,r=e.props.pagination.lastPage;return m.createElement("div",{className:"autocomplete-toolbar"},!t&&m.createElement(g,{className:e.props.prevPageIcon,glyph:e.props.prevPageIcon,onClick:function(t){e.props.stopPropagation&&t.stopPropagation(),e.props.pagination.loadPrevPage()}}),!r&&m.createElement(g,{className:e.props.nextPageIcon,glyph:e.props.nextPageIcon,onClick:function(t){e.props.stopPropagation&&t.stopPropagation(),e.props.pagination.loadNextPage()}}))})),d(u(e),"renderField",(function(){var t,r={emptyList:v.getMessageById(e.context.messages,"queryform.attributefilter.autocomplete.emptyList"),open:v.getMessageById(e.context.messages,"queryform.attributefilter.autocomplete.open"),emptyFilter:v.getMessageById(e.context.messages,"queryform.attributefilter.autocomplete.emptyFilter")},n=[];(e.props.data&&e.props.data.length>0&&(n=e.props.data.map((function(e){return e}))),e.props.pagination&&e.props.pagination.paginated&&n.length>0)&&n.push((d(t={},e.props.textField,""),d(t,e.props.valueField,""),d(t,"disabled",!0),d(t,"pagination",e.renderPagination()),t));var i=e.props.loading?[]:n,a=e.props.itemComponent,s=m.createElement(y,{placeholder:e.props.placeholder,dropUp:e.props.dropUp,busy:e.props.busy,data:i,disabled:e.props.disabled,itemComponent:function(t){return m.createElement(a,o({textField:e.props.textField,valueField:e.props.valueField},t))},messages:e.props.messages||r,open:e.props.open,filter:e.props.filter,onChange:function(t){return e.props.onChange(t)},onFocus:function(){return e.props.onFocus(e.props.data)},onSelect:function(t){return e.props.onSelect(t)},onToggle:function(t){return e.props.onToggle(t)},textField:e.props.textField,valueField:e.props.valueField,value:e.props.selectedValue});return e.props.tooltip&&e.props.tooltip.enabled?e.renderWithTooltip(s):s})),e}return t=p,(r=[{key:"render",value:function(){var e=this.props,t=e.selectedValue,r=e.disabled,n=e.onReset,o=e.label,i=e.clearable,a=o?m.createElement("label",null,o):m.createElement("span",null);return m.createElement("div",{className:"autocompleteField"},a,i?m.createElement("div",{className:"rw-combo-clearable ".concat(r?"disabled":"")},this.renderField(),m.createElement("span",{className:"rw-combo-clear ".concat(t?"":"hidden"),onClick:n},"x")):this.renderField())}}])&&a(t.prototype,r),n&&a(t,n),p}(m.Component);d(O,"propTypes",{busy:f.bool,data:f.array,disabled:f.bool,dropUp:f.bool,itemComponent:f.oneOfType([f.object,f.func]),label:f.string,loading:f.bool,filter:f.oneOfType([f.string,f.bool]),messages:f.object,onChange:f.func,onFocus:f.func,onSelect:f.func,onToggle:f.func,open:f.bool,pagination:f.object,nextPageIcon:f.string,prevPageIcon:f.string,selectedValue:f.string,textField:f.string,tooltip:f.object,valueField:f.string,placeholder:f.string,stopPropagation:f.bool,clearable:f.bool,onReset:f.func}),d(O,"contextTypes",{messages:f.object}),d(O,"defaultProps",{stopPropagation:!1,dropUp:!1,itemComponent:w,loading:!1,label:null,filter:"",pagination:{paginated:!0,firstPage:!1,lastPage:!1,loadPrevPage:function(){},loadNextPage:function(){}},nextPageIcon:"chevron-right",prevPageIcon:"chevron-left",onFocus:function(){},onToggle:function(){},onChange:function(){},onSelect:function(){},onReset:function(){},textField:"label",tooltip:{customizedTooltip:void 0,enabled:!1,id:"",message:void 0,overlayTriggerKey:"",placement:"top"},valueField:"value",clearable:!1}),e.exports=O},"./MapStore2/web/client/components/misc/combobox/PagedComboboxWithFeatures.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./MapStore2/node_modules/lodash/lodash.js").head,b=r("./node_modules/react-widgets/lib/index.js").Combobox,g=r("./node_modules/react-bootstrap/es/index.js"),h=g.Glyphicon,v=g.Tooltip,S=r("./MapStore2/web/client/utils/LocaleUtils.js"),w=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),O=r("./MapStore2/web/client/components/data/query/AutocompleteListItem.jsx"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"state",{}),d(u(e),"renderWithTooltip",(function(t){if(e.props.tooltip.customizedTooltip){var r=e.props.tooltip.customizedTooltip;return m.createElement(r,null,t)}var n=m.createElement(v,{id:e.props.tooltip.id},"this.props.tooltip.message");return m.createElement(w,{key:e.props.tooltip.overlayTriggerKey,placement:e.props.tooltip.placement,overlay:n},t)})),d(u(e),"renderPagination",(function(){var t=e.props.pagination.firstPage,r=e.props.pagination.lastPage;return m.createElement("div",{className:"autocomplete-toolbar"},!t&&m.createElement(h,{className:e.props.prevPageIcon,glyph:e.props.prevPageIcon,onClick:function(){return e.props.pagination.loadPrevPage()}}),!r&&m.createElement(h,{className:e.props.nextPageIcon,glyph:e.props.nextPageIcon,onClick:function(){return e.props.pagination.loadNextPage()}}))})),d(u(e),"renderField",(function(){var t,r={emptyList:function(){return e.props.busy?"Loading...":S.getMessageById(e.context.messages,"queryform.attributefilter.autocomplete.emptyList")},open:S.getMessageById(e.context.messages,"queryform.attributefilter.autocomplete.open"),emptyFilter:S.getMessageById(e.context.messages,"queryform.attributefilter.autocomplete.emptyFilter")},n=[];(e.props.data&&e.props.data.length>0&&(n=e.props.data.map((function(e){return e}))),e.props.pagination&&e.props.pagination.paginated&&n.length>0)&&n.push((d(t={},e.props.textField,""),d(t,e.props.valueField,""),d(t,"disabled",!0),d(t,"pagination",e.renderPagination()),t));var i=!1,a=e.props.loading?[]:n,s=e.props.itemComponent,l=m.createElement(b,{dropUp:e.props.dropUp,busy:e.props.busy,data:a,disabled:e.props.disabled,itemComponent:function(t){return m.createElement(s,o({textField:e.props.textField,valueField:e.props.valueField},t))},messages:e.props.messages||r,open:e.props.open,filter:!1,onChange:function(t){e.props.onChange(t,e.props.valueField),i=!0},onFocus:function(){return e.props.onFocus(e.props.data)},onSelect:function(t){var r=y(e.props.features.filter((function(r){return r.properties[e.props.valueField].toLowerCase()===t[e.props.valueField].toLowerCase()})));e.props.onSelect(t,r,e.props.srsName,e.props.style)},onToggle:function(t){var r=y(e.props.features.filter((function(t){return t.properties[e.props.valueField].toLowerCase()===e.props.selectedValue.toLowerCase()})));!t||e.props.selectedValue||e.props.selectedValue||i||e.props.onChange("",e.props.valueField),e.props.onToggle(t,r,e.props.pagination.currentPage),r&&!t&&e.props.onSelect(e.props.selectedValue,r,e.props.srsName,e.props.style),i=!1},textField:e.props.textField,valueField:e.props.valueField,value:e.props.selectedValue});return e.props.tooltip&&e.props.tooltip.enabled?e.renderWithTooltip(l):l})),e}return t=p,(r=[{key:"render",value:function(){var e=this.props.label?m.createElement("label",null,this.props.label):m.createElement("span",null);return m.createElement("div",{className:"autocompleteField"},e,this.renderField())}}])&&a(t.prototype,r),n&&a(t,n),p}(m.Component);d(j,"propTypes",{busy:f.bool,data:f.array,disabled:f.bool,dropUp:f.bool,features:f.array,filter:f.string,itemComponent:f.oneOfType([f.object,f.func]),label:f.string,loading:f.bool,messages:f.object,onChange:f.func,onFocus:f.func,onSelect:f.func,onToggle:f.func,onChangeDrawingStatus:f.func,style:f.style,open:f.bool,pagination:f.object,nextPageIcon:f.string,prevPageIcon:f.string,selectedValue:f.string,srsName:f.string,textField:f.string,tooltip:f.object,valueField:f.string}),d(j,"contextTypes",{messages:f.object}),d(j,"defaultProps",{dropUp:!1,features:[],filter:"",itemComponent:O,loading:!1,label:null,pagination:{paginated:!0,firstPage:!1,lastPage:!1,loadPrevPage:function(){},loadNextPage:function(){}},nextPageIcon:"chevron-right",prevPageIcon:"chevron-left",onFocus:function(){},onToggle:function(){},onChange:function(){},onChangeDrawingStatus:function(){},onSelect:function(){},srsName:"EPSG:4326",textField:"label",tooltip:{customizedTooltip:void 0,enabled:!1,id:"",message:void 0,overlayTriggerKey:"",placement:"top"},valueField:"value"}),e.exports=j},"./MapStore2/web/client/components/misc/combobox/addState.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=(0,a.compose)((0,a.withStateHandlers)((function(e){return{open:!1,currentPage:1,value:e.value,data:e.data,textValue:e.textValue,textLabel:e.textLabel}}),{select:function(e){return function(){return o(o({},e),{},{selected:!0})}},change:function(e){return function(t){if(e.selected&&e.changingPage)return o(o({},e),{},{selected:!1,changingPage:!1,value:e.value,currentPage:e.changingPage?e.currentPage:1});var r="string"==typeof t?t:t.value;return o(o({},e),{},{selected:!1,changingPage:!1,value:r,currentPage:e.changingPage?e.currentPage:1})}},focus:function(e){return function(t){return t&&0===t.length&&""===e.value?o(o({},e),{},{currentPage:1,isToggled:!1,open:!0}):e}},toggle:function(e){return function(){return o(o({},e),{},{open:!!e.changingPage||!e.open})}}}));e.exports=s},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx"),y=r("./MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx"),b=r("./MapStore2/node_modules/lodash/lodash.js").isNil,g=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/no90Lat.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){var e=this.props.format;return"decimal"===e||b(e)?d.createElement(m,o({},this.props,{format:this.props.format||"decimal"})):d.createElement(y,this.props)}}])&&a(t.prototype,r),n&&a(t,n),u}(d.Component);p(h,"propTypes",{idx:f.number,value:f.number,constraints:f.object,format:f.string,aeronauticalOptions:f.object,coordinate:f.string,onChange:f.func,onKeyDown:f.func}),p(h,"defaultProps",{format:"decimal",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}}),e.exports=g(h)},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-bootstrap/es/index.js"),b=y.Glyphicon,g=y.InputGroup,h=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),v=r("./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx"),S=r("./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx"),w=r("./MapStore2/web/client/components/I18N/Message.jsx"),O=r("./MapStore2/node_modules/lodash/lodash.js"),j=O.isEqual,E=O.isNumber,x=r("./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx"),P=r("./MapStore2/web/client/components/misc/OverlayTriggerCustom.jsx").default,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,r,n,o=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),d(u(t=o.call(this,e)),"onChangeLatLon",(function(e,r){t.setState(i(i({},t.state),{},d({},e,parseFloat(r))),(function(){var e=parseFloat(t.state.lat)!==parseFloat(t.props.component.lat),r=parseFloat(t.state.lon)!==parseFloat(t.props.component.lon);t.setState(i(i({},t.state),{},{disabledApplyChange:!(e||r)}),(function(){"annotations"===t.props.renderer&&t.props.onSubmit(t.props.idx,t.state)}))}))})),d(u(t),"onSubmit",(function(){t.props.onSubmit(t.props.idx,t.state)})),t.state={lat:E(t.props.component.lat)?t.props.component.lat:"",lon:E(t.props.component.lon)?t.props.component.lon:"",disabledApplyChange:!0},t}return t=c,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!j(e.component,this.props.component)){var t=E(e.component.lat)?e.component.lat:"",r=E(e.component.lon)?e.component.lon:"";this.setState({lat:t,lon:r,disabledApplyChange:!0})}}},{key:"render",value:function(){var e=this,t=this.props.idx,r=[{visible:this.props.removeVisible,disabled:!this.props.removeEnabled,glyph:"trash",onClick:function(){e.props.onRemove(t)},customOverlayTrigger:P},{buttonConfig:{title:f.createElement(b,{glyph:"cog"}),className:"square-button-md no-border",pullRight:!0,tooltipId:"identifyChangeCoordinateFormat"},menuOptions:[{active:"decimal"===this.props.format,onClick:function(){e.props.onChangeFormat("decimal")},text:f.createElement(w,{msgId:"search.decimal"})},{active:"aeronautical"===this.props.format,onClick:function(){e.props.onChangeFormat("aeronautical")},text:f.createElement(w,{msgId:"search.aeronautical"})}],visible:this.props.formatVisible,Element:x},{glyph:"ok",disabled:this.state.disabledApplyChange,tooltipId:"identifyCoordinateApplyChanges",onClick:this.onSubmit,visible:"annotations"!==this.props.renderer,customOverlayTrigger:P}],n=f.createElement("div",{role:"button",className:"square-button-md no-border btn btn-default",style:{display:"table",color:!this.props.isDraggableEnabled&&"#999999",pointerEvents:this.props.isDraggableEnabled?"auto":"none",cursor:this.props.isDraggableEnabled&&"grab"}},f.createElement(b,{glyph:"menu-hamburger"}));return f.createElement("div",{className:"coordinateRow ".concat(this.props.format||""," ").concat(this.props.customClassName||""),onMouseEnter:function(){e.props.onMouseEnter&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseEnter(e.props.component)},onMouseLeave:function(){e.props.onMouseLeave&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseLeave()}},f.createElement("div",{style:{cursor:this.props.isDraggableEnabled?"grab":"not-allowed"}},this.props.showDraggable?this.props.isDraggable?this.props.connectDragSource(n):n:null),f.createElement("div",{className:"coordinate lat"},f.createElement(g,null,f.createElement(g.Addon,null,f.createElement(w,{msgId:"latitude"})),f.createElement(S,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lat",idx:t,value:this.state.lat,onChange:function(t){return e.onChangeLatLon("lat",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit})),f.createElement(g,null,f.createElement(g.Addon,null,f.createElement(w,{msgId:"longitude"})),f.createElement(S,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lon",idx:t,value:this.state.lon,onChange:function(t){return e.onChangeLatLon("lon",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit}))),this.props.showToolButtons&&f.createElement("div",{key:"tools"},f.createElement(h,{btnGroupProps:{className:"tools"},btnDefaultProps:{className:"square-button-md no-border"},buttons:r})))}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);d(T,"propTypes",{idx:m.number,component:m.object,onRemove:m.func,onSubmit:m.func,onChangeFormat:m.func,onMouseEnter:m.func,format:m.string,type:m.string,onMouseLeave:m.func,connectDragSource:m.func,aeronauticalOptions:m.object,customClassName:m.string,isDraggable:m.bool,isDraggableEnabled:m.bool,showLabels:m.bool,showDraggable:m.bool,showToolButtons:m.bool,removeVisible:m.bool,formatVisible:m.bool,removeEnabled:m.bool,renderer:m.string}),d(T,"defaultProps",{showLabels:!1,formatVisible:!1,onMouseEnter:function(){},onMouseLeave:function(){},showToolButtons:!0}),e.exports=v(T)},"./MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/recompose/es/Recompose.js").compose,g=r("./node_modules/react-bootstrap/es/index.js"),h=g.FormGroup,v=g.FormControl,S=r("./MapStore2/node_modules/lodash/lodash.js").isNil,w=r("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),O=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js"),j=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/coordinateTypePreset.js"),E=r("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/tempAeronauticalValue.js"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"onChange",(function(t,r){var n=e.getUpdatedCoordinateValue(t,r);e.props.onChange(n)})),f(p(e),"getUpdatedCoordinateValue",(function(t,r){try{var n=f({degrees:e.props.degrees,minutes:e.props.minutes,seconds:e.props.seconds,direction:e.props.direction},t,"degrees"===t?Math.min(r,e.props.maxDegrees):r),o=n.seconds,i=n.minutes+e.getSexagesimalStep(o),a=Math.min(e.props.maxDegrees,n.degrees+e.getSexagesimalStep(i)),s=n.direction;return o=e.roundToNextSexagesimalStep(o),i=e.roundToNextSexagesimalStep(i),a===e.props.maxDegrees&&(i=0,o=0),s=a<0?s===e.props.directions[0]?e.props.directions[1]:e.props.directions[0]:s,-1===a&&(n.degrees<0&&n.minutes>=0?a=n.degrees:n.minutes<0&&n.degrees<=0?(a=0,i=n.minutes):(a=0,i=0,o=1e-4)),{degrees:a,minutes:i,seconds:o,direction:s}}catch(e){return null}})),f(p(e),"getSexagesimalStep",(function(e){return e>=60?1:e<0?-1:0})),f(p(e),"getInputStyle",(function(e){return isNaN(e)||""===e?{borderColor:"#a94442"}:{}})),f(p(e),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown())})),f(p(e),"roundToNextSexagesimalStep",(function(e){return e<0?60+e:e>=60?e-60:e})),f(p(e),"isValid",(function(t){var r=t.minutes,n=t.seconds,o=t.degrees,i=t.direction;return!S(r)&&r>0&&r<60&&!S(n)&&n>0&&n<60&&!S(o)&&o>0&&o<e.props.maxDegrees&&i})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t={padding:0,textAlign:"center",borderRight:"none"},r=this.getInputStyle(this.props.degrees),n=this.getInputStyle(this.props.minutes),o=this.getInputStyle(this.props.seconds),a={position:"relative",top:0,overflow:"visible",zIndex:3,left:-25,width:0,height:0},s=this.props.aeronauticalOptions.seconds.step;return m.createElement(h,{style:{display:"inline-flex"}},m.createElement("div",{className:"degrees",style:{width:40,display:"flex"}},m.createElement(w,{key:this.props.coordinate+"degree",value:this.props.degrees,placeholder:"d",onChange:function(t){return e.onChange("degrees",parseInt(t,10))},step:1,size:3,max:this.props.maxDegrees,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:i(i({width:"100%"},t),r),type:"number"}),m.createElement("span",{style:a},"")),m.createElement("div",{className:"minutes",style:{width:40,display:"flex"}},m.createElement(w,{key:this.props.coordinate+"minutes",placeholder:"m",size:3,value:this.props.minutes,onChange:function(t){e.onChange("minutes",parseInt(t,10))},max:60,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:i(i({width:"100%"},t),n),step:1,type:"number"}),m.createElement("span",{style:a},"")),m.createElement("div",{className:"seconds",style:{display:"flex"}},m.createElement(w,{key:this.props.coordinate+"seconds",value:this.props.seconds,placeholder:"s",onChange:function(t){return e.onChange("seconds",parseFloat(t))},step:s,max:60,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},min:-1,style:i(i({width:"100%"},t),o),type:"number"}),m.createElement("span",{style:a},"")),m.createElement("div",{className:"direction-select"},m.createElement(v,{componentClass:"select",placeholder:"select",value:this.props.direction,onChange:function(t){return e.onChange("direction",t.target.value)},style:{paddingLeft:4,paddingRight:4,flex:"1 1 0%"}},this.props.directions.map((function(e){return m.createElement("option",{key:e,value:e},e)})))))}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);f(x,"propTypes",{idx:y.number,maxDegrees:y.number,degrees:y.number,minutes:y.number,seconds:y.number,directions:y.array,direction:y.string,aeronauticalOptions:y.object,coordinate:y.string,onChange:y.func,onKeyDown:y.func}),f(x,"defaultProps",{coordinate:"lat",maxDegrees:90,directions:["N","S"],aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},onKeyDown:function(){}}),e.exports=b(j,O,E)(x)},"./MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").FormGroup,y=r("./MapStore2/node_modules/lodash/lodash.js").capitalize,b=r("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown(t))})),p(c(e),"validateDecimalLon",(function(t){var r=e.props.constraints[e.props.format].lon.min,n=e.props.constraints[e.props.format].lon.max,o=parseFloat(t);return isNaN(o)||o<r||o>n?"error":null})),p(c(e),"validateDecimalLat",(function(t){var r=e.props.constraints[e.props.format].lat.min,n=e.props.constraints[e.props.format].lat.max,o=parseFloat(t);return isNaN(o)||o<r||o>n?"error":null})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.coordinate,n=t.value,o=t.onChange,i="validateDecimal"+y(r);return d.createElement(m,{validationState:this[i](n)},d.createElement(b,{key:r,value:n,placeholder:r,onChange:function(t){""===t&&o(""),null===e[i](t)&&o(t)},onKeyDown:this.verifyOnKeyDownEvent,step:1,validateNameFunc:this[i],type:"number"}))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(g,"propTypes",{idx:f.number,value:f.number,constraints:f.object,format:f.string,coordinate:f.string,onChange:f.func,onKeyDown:f.func,onSubmit:f.func}),p(g,"defaultProps",{format:"decimal",coordinate:"lat",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:function(){}}),e.exports=g},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/coordinateTypePreset.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").withProps;e.exports=n((function(e){var t=e.coordinate,r=void 0===t?"lat":t;return{maxDegrees:"lat"===r?90:180,directions:"lat"===r?["N","S"]:["E","W"]}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/recompose/es/Recompose.js"),a=i.compose,s=i.withHandlers,l=i.withProps,c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.round,p=c.isNaN;e.exports=a(l((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{seconds:{decimals:4}},n=r.seconds,o=e>=0?Math.floor(e):Math.ceil(e),i=Math.abs(60*(e-o)),a=Math.floor(i),s=60*(i-a),l=u(s,n.decimals);if(o=Math.abs(o),60===l&&(a++,l=0),60===a&&(o++,a=0),p(o)||""===e)return{degrees:"",minutes:"",seconds:"",direction:t?"E":"N"};var c={degrees:o,minutes:a,seconds:l,direction:e<0?t?"W":"S":t?"E":"N"};return c}(e.value,"lon"===e.coordinate,e.aeronauticalOptions))})),s({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.degrees,n=t.minutes,o=t.seconds,i=t.direction,a=0,s=0,l=0;void 0===r&&void 0===n&&void 0===o&&e.onChange(void 0),p(r)||(a=r),p(n)||(s=n),p(o)||(l=o);var c=a+s/60+l/3600;(c>0&&("S"===i||"W"===i)||c<0&&("N"===i||"E"===i))&&(c*=-1),e.onChange(c.toPrecision(12))}}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/no90Lat.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withHandlers;e.exports=o(i({onChange:function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.maxLatitude,o=void 0===n?89.9997222222:n,i=e.coordinate;return function(e){return r(Math.abs(parseFloat(e))>o&&"lat"===i?Math.sign(e)*o:e)}}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/tempAeronauticalValue.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withHandlers,a=n.withState,s=n.withProps;e.exports=o(s((function(e){return{isValid:""!==e.value}})),a("initial","setInitial",{}),s((function(e){var t=e.isValid,r=e.initial,n=e.degrees,o=e.minutes,i=e.seconds;return t||""===n&&""===o&&""===i?{}:r})),i({onChange:function(e){return function(t){var r=t.degrees,n=t.minutes,o=t.seconds,i=t.direction;isNaN(r)?e.setInitial({degrees:"",minutes:n,seconds:o,direction:i}):isNaN(n)?e.setInitial({degrees:r,minutes:"",seconds:o,direction:i}):isNaN(o)&&e.setInitial({degrees:r,minutes:n,seconds:"",direction:i}),e.onChange({degrees:r,minutes:n,seconds:o,direction:i})}}}))},"./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js").branch,i=r("./MapStore2/node_modules/lodash/lodash.js").omit,a=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");e.exports=o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled,n=void 0!==r&&r;return!(n&&t)}),a,(function(e){return function(t){return n.createElement(e,i(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.branch,p=r("./node_modules/react-dnd/lib/index.js").DragSource,d=r("./node_modules/react-dnd/lib/index.js").DropTarget,f={beginDrag:function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}};e.exports=u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDraggable;return t}),c(p("row",f,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggingItem:t.getItem()||null}})),d("row",{drop:function(e,t){var r=t.getItem();r.sortId!==e.sortId&&e.onSort(e.sortId,r.sortId,{id:e.id,containerId:e.containerId},{id:r.id,containerId:r.containerId})}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})),(function(e){return function(t){var r=t.connectDragSource,i=t.connectDragPreview,a=t.connectDropTarget,l=t.isDragging,c=t.isOver,u=o(t,["connectDragSource","connectDragPreview","connectDropTarget","isDragging","isOver"]),p=u.draggingItem&&u.draggingItem.sortId<u.sortId,d=u.draggingItem&&u.draggingItem.containerId===u.containerId,f=d&&l?" ms-dragging":"",m=d&&c?" ms-over":"",y=d&&p?" ms-above":" ms-below";return i(a(s.createElement("div",{className:"ms-dragg".concat(f).concat(m," ").concat(y)},s.createElement("div",null,s.createElement(e,n({},u,{connectDragSource:r,isDragging:l,isOver:c,onDrop:function(e){return e.stopPropagation()}}))))))}})))},"./MapStore2/web/client/components/misc/enhancers/draggableContainer.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=r("./node_modules/react/index.js"),c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.branch;e.exports=u(p((function(e){var t=e.isDraggable;return void 0===t||t}),(function(e){return function(t){var r=t.onSort,o=t.isDraggable,a=t.items,c=void 0===a?[]:a,u=t.containerId,p=s(t,["onSort","isDraggable","items","containerId"]),d=c.map((function(e,t){return i(i({},e),{},{onSort:r,isDraggable:o,sortId:t,key:e.id||t,containerId:u})}));return l.createElement(e,n({},i(i({},p),{},{isDraggable:o}),{items:d}))}})))},"./MapStore2/web/client/components/misc/enhancers/emptyState.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").isFunction,i=r("./node_modules/recompose/es/Recompose.js").branch,a=r("./MapStore2/web/client/components/misc/EmptyView.jsx");e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return i(e,(function(){return function(e){return n.createElement(r,t&&o(t)?t(e):t)}}))}},"./MapStore2/web/client/components/misc/enhancers/infiniteScroll/loadMore.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}var p=r("./node_modules/recompose/es/Recompose.js"),d=p.mapPropsStream,f=p.createEventHandler,m=r("./node_modules/rxjs/Rx.js"),y=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.dataProp,a=void 0===i?"items":i,p=n.initialStreamDebounce,d=void 0===p?0:p,f=n.throttleTime,y=void 0===f?500:f;return e.take(1).concat(e.debounceTime(d)).switchMap((function(e){return r(e,0).startWith({loading:!0}).concat(m.Observable.of({loading:!1})).concat(t.throttleTime(y).distinct().exhaustMap((function(t){return r(e,t).startWith({loading:!0}).concat(m.Observable.of({loading:!1}))}))).scan((function(e,t){var r=e[a],n=c(e,[a].map(u)),i=t[a],p=c(t,[a].map(u));return s(s(l({},a,i?[].concat(o(r||[]),o(i)):r||[]),n),p)})).map((function(e){return s({},e)}))})).catch((function(e){return m.Observable.of({loading:!1,error:e})}))};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return m.Observable.empty()},t=arguments.length>1?arguments[1]:void 0;return d((function(r){var n=f(),o=n.handler,i=n.stream,a=f(),l=a.handler,c=a.stream;return r.combineLatest(y(c,i,e,t).startWith({}),(function(e,t){return s(s(s({},e),t),{},{onLoadMore:o,loadFirst:l})}))}))}},"./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withInfiniteScroll.js":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/enhancers/infiniteScroll/loadMore.js"),o=r("./node_modules/recompose/es/Recompose.js"),i=o.compose,a=o.defaultProps,s=r("./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withScrollSpy.js");e.exports=function(e){var t=e.loadPage,r=e.scrollSpyOptions,o=e.loadStreamOptions,l=e.loadMoreStreamOptions,c=e.hasMore,u=e.isScrolled;return i(n(t,l),a({hasMore:c,isScrolled:u}),s(r,o))}},"./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withScrollSpy.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/react/index.js"),g=r("./node_modules/prop-types/index.js"),h=r("./node_modules/react-dom/index.js");r("./node_modules/rxjs/Rx.js"),e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dataProp,r=void 0===t?"items":t,n=e.querySelector,o=e.closest,s=void 0!==o&&o,u=e.loadingProp,d=void 0===u?"loading":u,m=e.skip,v=void 0===m?0:m,S=e.pageSize,w=void 0===S?10:S,O=e.offsetSize,j=void 0===O?200:O;return function(e){var t,o;return o=t=function(t){c(u,t);var o=p(u);function u(){var e;a(this,u);for(var t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];return y(f(e=o.call.apply(o,[this].concat(l))),"findScrollDomNode",(function(){if(!e.isMounded)return null;var t=h.findDOMNode(f(e));return t&&s&&n?t.closest(n||"*"):t&&(n?t.querySelector(n):t)})),y(f(e),"onScroll",(function(){var t=i({skip:v,pageSize:w,offsetSize:j},e.props.scrollOptions),n=e.findScrollDomNode();n&&e.props.isScrolled({div:n,offset:t.offsetSize})&&(!r||e.props[r]&&e.props[r].length)&&(!d||!e.props[d])&&e.props.hasMore(e.props)&&e.props.onLoadMore(r?Math.ceil((e.props[r].length-t.skip)/t.pageSize):null)})),e}return l(u,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findScrollDomNode();e&&(this.listenerAdded=!0,e.addEventListener("scroll",this.onScroll,!1),this.onScroll())}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.findScrollDomNode();n&&!this.listenerAdded&&(n.addEventListener("scroll",this.onScroll,!1),this.listenerAdded=!0),!n||r&&this.props[r]&&this.props[r]===e[r]||setTimeout((function(){return t.onScroll()}),300)}},{key:"componentWillUnmount",value:function(){this.isMounded=!1,this.listenerAdded=!1;var e=this.findScrollDomNode();e&&e.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){return b.createElement(e,this.props)}}]),u}(b.Component),y(t,"propTypes",{hasMore:g.func,onLoadMore:g.func,isScrolled:g.func,scrollOptions:g.object}),y(t,"defaultProps",{onLoadMore:function(){},hasMore:function(){return!0},isScrolled:function(e){var t=e.div,r=e.offset;return t.scrollTop+t.clientHeight>=t.scrollHeight-r}}),o}}},"./MapStore2/web/client/components/misc/enhancers/loadingState.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./node_modules/recompose/es/Recompose.js").branch,a=r("./MapStore2/web/client/components/misc/LoadingView.jsx"),s=function(e){var t=e.loading,r=e.isLoading;return t||r&&("function"==typeof r?r():!0===r)};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return i(e,(function(){return function(e){var i=e.loaderProps;return o.createElement(r,n({},t,i))}}))}},"./MapStore2/web/client/components/misc/enhancers/localizeStringMap.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/prop-types/index.js"),l=r("./MapStore2/node_modules/lodash/lodash.js").castArray,c=r("./node_modules/recompose/es/Recompose.js"),u=c.getContext,p=c.mapProps,d=c.compose,f=r("./MapStore2/web/client/utils/LocaleUtils.js").getLocalizedProp;e.exports=function(e){return d(u({locale:s.string}),p((function(t){var r=t.locale,o=n(t,["locale"]);return i(i({},o),l(e).reduce(function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return i(i({},r),{},a({},n,e[n]&&f(t,e[n])))}}(o,r),{}))})))}},"./MapStore2/web/client/components/misc/enhancers/localizedProps.js":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./MapStore2/web/client/utils/LocaleUtils.js").getMessageById,l=r("./node_modules/prop-types/index.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.castArray,p=c.isArray,d=c.isNil,f=c.isString,m=r("./node_modules/recompose/es/Recompose.js"),y=m.getContext,b=m.mapProps,g=m.compose,h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(p(t))return t.map((function(n){var o=s(e,n[r]||f(n)&&n||"");return i(i({},n),{},a({},r,d(o)?t:o))}));var n=s(e,t);return d(n)?t:n},v=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return i(i({},n),{},a({},o,e[o]&&h(t,e[o],r)))}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return g(y({messages:l.object}),b((function(r){var o=r.messages,a=n(r,["messages"]);return i(i({},a),u(e).reduce(v(a,o,t),{}))})))}},"./MapStore2/web/client/components/misc/enhancers/popover.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/recompose/es/Recompose.js"),f=d.branch,m=d.toClass,y=r("./node_modules/prop-types/index.js"),b=r("./MapStore2/node_modules/lodash/lodash.js").omit,g=r("./node_modules/react-bootstrap/es/index.js").Popover,h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");e.exports=f((function(e){return e.popover}),(function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,t);var r,n,l,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return r=u,(n=[{key:"renderPopover",value:function(){return p.createElement(g,b(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=m(e);return p.createElement(t,b(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return p.createElement("span",null,p.createElement(h,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&i(r.prototype,n),l&&i(r,l),u}(p.Component),u(t,"propTypes",{popover:y.object}),u(t,"defaultProps",{popover:{trigger:!0}}),r}))},"./MapStore2/web/client/components/misc/enhancers/propsStreamFactory.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.mapPropsStreamWithConfig,c=a.defaultProps,u=r("./node_modules/recompose/rxjsObservableConfig.js").default,p=r("./node_modules/rxjs/Rx.js"),d=l(u);e.exports=s(c({dataStreamFactory:function(){return p.Observable.of({})}}),d((function(e){return e.take(1).switchMap((function(t){return t.dataStreamFactory(e.startWith(t),t)})).combineLatest(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(o({},t),e)}))})))},"./MapStore2/web/client/components/misc/enhancers/security/accessRuleParser.jsx":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r("./node_modules/recompose/es/Recompose.js").withPropsOnChange,i=r("./MapStore2/node_modules/lodash/lodash.js"),a=i.get,s=i.castArray,l=i.mapValues,c=i.isString,u=i.isArray,p=function e(t){var r=t.accessInfo,n=t.postProcessValue,o=t.reduceFun;return function(t){var i=s(t),l=o;return i.length>1&&"__OR__"===i[0]&&(l=function(e,t){return e||t},i=i.slice(1)),i.map((function(t){var i=t;if(u(i))return e({accessInfo:r,postProcessValue:n,reduceFun:o})(i);var s=!1;i&&c(i)&&i.startsWith("!")&&(s=!0,i=i.substr(1));var l=function(e){return s?!e:e},p=c(i)&&i.split(":");if(p&&p[0]){var d=p[0].split(/\!\=\=?/),f=p[0].split(/\=\=?\=?/);return d.length>1?l(n(a(r,d[0]),i)!==d[1]):f.length>1?l(n(a(r,f[0]),i)===f[1]):l(n(a(r,p[0]),i))}return i})).reduce(l||function(e,t){return e&&t})}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.asObject,i=void 0!==r&&r,a=t.postProcessValue,s=void 0===a?function(e){return e}:a,c=t.reduceFun,u=t.accessInfo,d=void 0===u?"accessInfo":u;return o([e,d],(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n({},e,i?l(t[e],p({accessInfo:t[d],postProcessValue:s,reduceFun:c})):p({accessInfo:t[d],postProcessValue:s,reduceFun:c})(t[e]))}))}},"./MapStore2/web/client/components/misc/enhancers/tooltip.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./node_modules/react/index.js"),i=r("./node_modules/recompose/es/Recompose.js").branch,a=r("./node_modules/react-bootstrap/es/index.js").Tooltip,s=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),l=r("./MapStore2/web/client/components/I18N/Message.jsx"),c=r("./MapStore2/node_modules/lodash/lodash.js").omit;e.exports=i((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,i=t.tooltipId,c=t.tooltipPosition,u=void 0===c?"top":c,p=t.tooltipTrigger,d=t.keyProp,f=t.idDropDown,m=t.args,y=t.customOverlayTrigger,b=void 0===y?s:y,g=n(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args","customOverlayTrigger"]);return o.createElement(b,{trigger:p,id:f,key:d,placement:u,overlay:o.createElement(a,{id:"tooltip-"+d},i?o.createElement(l,{msgId:i,msgParams:{data:m}}):r)},o.createElement(e,g))}}),(function(e){return function(t){return o.createElement(e,c(t,["tooltipId","tooltip"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/utcDateWrapper.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/recompose/es/Recompose.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),i=r("./node_modules/moment/moment.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/TimeUtils.js");function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dateTypeProp,r=void 0===t?"type":t,i=e.dateProp,c=void 0===i?"date":i,u=e.setDateProp,p=void 0===u?"onSetDate":u;return Object(n.compose)(Object(n.withPropsOnChange)([c],(function(e){var t,n=e[c],i=e[r],u=e.useUTCOffset,p=void 0===u||u,d=n,f="1970-01-01",m="00:00:00";!Object(o.isDate)(n)&&Object(o.isString)(n)&&("time"===i&&(d=new Date("".concat(f,"T").concat(n))),"date"===i&&(-1!==n.indexOf("Z")&&(d=n.substr(0,n.length-1)),d=new Date("".concat(d,"T").concat(m,"Z"))),"date-time"===i&&(d=new Date(n)));var y=d;if(d){switch(i){case"time":m=Object(s.getUTCTimePart)(d);break;case"date":f=Object(s.getUTCDatePart)(d);break;default:m=Object(s.getUTCTimePart)(d),f=Object(s.getUTCDatePart)(d)}(y=new Date("".concat(f,"T").concat(m,"Z"))).setUTCMilliseconds(d.getUTCMilliseconds());var b=p?Object(s.getTimezoneOffsetMillis)(y):0;y=new Date(y.getTime()+b)}return l(t={},c,y),l(t,"defaultCurrentDate","date-time"===i?a()().startOf("day").toDate():void 0),t})),Object(n.withHandlers)(l({},p,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e[p],n=e[r],o=e.useUTCOffset,i=void 0===o||o;return function(e,r){if(e){var o=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())),a=i?Object(s.getTimezoneOffsetMillis)(e):0,l=new Date(o.getTime()-a);switch(n){case"time":l="".concat(Object(s.getUTCTimePart)(l),"Z");break;case"date":l="".concat(Object(s.getUTCDatePart)(l),"Z")}t(l,r)}else t(null)}}))))}},"./MapStore2/web/client/components/misc/enhancers/withControllableState.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.branch,i=n.withState;e.exports=function(e,t,r){return o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e[t]}),i(e,t,r))}},"./MapStore2/web/client/components/misc/enhancers/withMask.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js"),i=o.branch,a=o.nest,s=function(e,t,r){var o=r.maskContainerStyle,i=r.maskStyle,s=r.className,l=r.white;return function(r){return a((function(r){return n.createElement("div",{className:"ms2-mask-container ".concat(s||""," ").concat(e(r)?"":"ms2-mask-empty"),style:o},r.children,e(r)?n.createElement("div",{className:"ms2-mask"+(l?" white-mask":""),style:i},t(r)):null)}),r)}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.alwaysWrap,o=void 0===n||n,a=r.white,l=void 0!==a&&a,c=r.maskContainerStyle,u=void 0===c?{}:c,p=r.maskStyle,d=void 0===p?{}:p,f=r.className;return o?s(e,t,{maskContainerStyle:u,maskStyle:d,className:f,white:l}):i(e,s((function(){return!0}),t,{maskContainerStyle:u,maskStyle:d,white:l}))}},"./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./MapStore2/node_modules/lodash/lodash.js").debounce,b=r("./node_modules/prop-types/index.js"),g=r("./node_modules/react-dom/index.js"),h=r("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js").default;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,r=e.querySelector,n=e.closest,i=void 0!==n&&n;return function(e){var n,l;return l=n=function(n){s(u,n);var l=c(u);function u(e){var n;return o(this,u),f(p(n=l.call(this,e)),"findDomNode",(function(){if(!n.isMounded)return null;var e=g.findDOMNode(p(n));return e&&i&&r?e.closest(r||"*"):e&&(r?e.querySelector(r):e)})),n.width=void 0,n.height=void 0,n.skipOnMount=e.skipOnMount,n.onResize=y((function(){var e;return(e=n.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),n.ro=new h((function(e){e.forEach((function(e){var t=e.contentRect,r=t.width,o=t.height,i=n.props.handleWidth&&n.width!==r,a=n.props.handleHeight&&n.height!==o;n.skipOnMount||!i&&!a||n.onResize({width:r,height:o}),n.width=r,n.height=o,n.skipOnMount=!1}))})),n}return a(u,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findDomNode();e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return m.createElement(e,this.props)}}]),u}(m.Component),f(n,"propTypes",{handleWidth:b.bool,handleHeight:b.bool,onResize:b.func}),f(n,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),l}}},"./MapStore2/web/client/components/misc/panels/Accordion.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./node_modules/react-bootstrap/es/index.js"),a=i.Panel,s=i.Accordion,l=r("./MapStore2/web/client/components/misc/cardgrids/SideCard.jsx");e.exports=function(e){var t=e.activePanel,r=e.fillContainer,i=e.className,c=e.onSelect,u=e.panels,p=void 0===u?[]:u,d=r?"ms-fill-container ":"";return o.createElement(s,{activeKey:t,className:"ms-accordion "+d+i},p.map((function(e,r){return o.createElement(a,{key:r,eventKey:e.id,className:t===e.id?"ms-selected":"",header:e.head&&o.createElement("a",{role:"tab"},o.createElement(l,n({},e.head,{selected:t===e.id,onClick:function(){c(e.id)}})))||null,collapsible:!0},e.body)})))}},"./MapStore2/web/client/components/misc/panels/DockPanel.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-dock/lib/index.js").default,i=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),a=r("./node_modules/recompose/es/Recompose.js").withState,s=r("./MapStore2/web/client/components/misc/panels/PanelHeader.jsx");e.exports=a("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,r=e.className,a=void 0===r?"":r,l=e.fullscreen,c=void 0!==l&&l,u=e.position,p=e.open,d=e.size,f=void 0===d?550:d,m=e.style,y=void 0===m?{}:m,b=e.zIndex,g=void 0===b?1030:b,h=e.onClose,v=e.bsStyle,S=e.title,w=e.showFullscreen,O=void 0!==w&&w,j=e.glyph,E=e.header,x=e.footer,P=e.children,T=e.onFullscreen,M=void 0===T?function(){}:T,A=e.fixed,C=void 0!==A&&A,_=e.resizable,I=void 0!==_&&_,R=e.hideHeader;return n.createElement("div",{className:"ms-side-panel "+(C?"":"ms-absolute-dock ")+(I?"":"react-dock-no-resize ")+a},n.createElement(o,{fluid:t||c,position:u,dimMode:"none",isVisible:p,size:c?1:f,dockStyle:y,zIndex:g},n.createElement(i,{header:!R&&p&&n.createElement(s,{position:u,onClose:h,bsStyle:v,title:S,fullscreen:c,showFullscreen:O,glyph:j,additionalRows:E,onFullscreen:M}),footer:p&&x},p&&P)))}))},"./MapStore2/web/client/components/misc/panels/DockablePanel.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./node_modules/react/index.js"),i=r("./node_modules/recompose/es/Recompose.js"),a=i.branch,s=i.renameProps,l=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),c=r("./MapStore2/web/client/components/misc/panels/DockPanel.jsx"),u=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),p=s({open:"show"})((function(e){var t=e.children,r=e.header,i=n(e,["children","header"]);return o.createElement(u,i,o.createElement(l,{header:o.createElement("div",{className:"ms-header"},r)},t))}));e.exports=a((function(e){return!e.dock}),(function(){return function(e){return o.createElement(p,e)}}))(c)},"./MapStore2/web/client/components/misc/panels/PanelHeader.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Button,a=o.Glyphicon,s=o.Grid,l=o.Row,c=o.Col,u={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};e.exports=function(e){var t=e.position,r=void 0===t?"right":t,o=e.onClose,p=e.bsStyle,d=void 0===p?"default":p,f=e.title,m=void 0===f?"":f,y=e.fullscreen,b=void 0!==y&&y,g=e.showFullscreen,h=void 0!==g&&g,v=e.glyph,S=void 0===v?"info-sign":v,w=e.additionalRows,O=e.onFullscreen,j=void 0===O?function(){}:O,E=o?n.createElement(i,{key:"ms-header-close",className:"square-button ms-close",onClick:o,bsStyle:d},n.createElement(a,{glyph:"1-close"})):null,x=h?n.createElement(i,{key:"ms-header-glyph",className:"square-button",bsStyle:d,onClick:function(){return j(!b)}},n.createElement(a,{glyph:u[r]&&u[r][b]||"resize-full"})):n.createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+d),style:{display:"flex"}},n.createElement(a,{glyph:S,className:"".concat("default"===d?"text-primary":"")})),P="left"===r?[E,x]:[x,E];return n.createElement(s,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+d},n.createElement(l,null,n.createElement(c,{xs:2},P[0]),n.createElement(c,{xs:8},n.createElement("h4",null,m)),n.createElement(c,{xs:2},P[1])),w)}},"./MapStore2/web/client/components/misc/quillmodules/ResizeModule.js":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.defaultsDeep,h=b.isObject,v=b.isString,S='<span class="glyphicon glyphicon-align-left" style="display: inline-block; margin-top: 4px;"></span>',w='<span class="glyphicon glyphicon-align-center" style="display: inline-block; margin-top: 4px;"></span>',O='<span class="glyphicon glyphicon-align-right" style="display: inline-block; margin-top: 4px;"></span>',j='<span class="glyphicon glyphicon-remove" style="display: inline-block; margin-top: 4px;"></span>';r("./MapStore2/web/client/components/misc/quillmodules/assets/css/resizemodule.css"),e.exports=function(e){var t=e.import("blots/embed"),r=e.import("formats/link"),n=e.imports.parchment,o=new n.Attributor.Style("float","float"),c=new n.Attributor.Style("margin","margin"),p=new n.Attributor.Style("display","display"),b=new n.Attributor.Style("width","width"),E={iframeIcon:!0,modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"#444",stroke:"#444",strokeWidth:"2"}},x=function e(t){m(this,e),y(this,"onCreate",(function(){})),y(this,"onDestroy",(function(){})),y(this,"onUpdate",(function(){})),this.overlay=t.overlay,this.domNode=t.domNode,this.options=t.options,this.requestUpdate=t.onUpdate},P=function(e){l(r,e);var t=u(r);function r(){var e;m(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return y(d(e=t.call.apply(t,[this].concat(o))),"onCreate",(function(){e.display=document.createElement("div"),Object.assign(e.display.style,e.options.displayStyles),e.overlay.appendChild(e.display)})),y(d(e),"onDestroy",(function(){})),y(d(e),"onUpdate",(function(){if(e.display&&e.domNode){var t=e.getCurrentSize();if(e.display.innerHTML=t.join(" &times; "),t[0]>120&&t[1]>30)Object.assign(e.display.style,{right:"4px",bottom:"4px",left:"auto"});else if("right"===e.domNode.style.float){var r=e.display.getBoundingClientRect();Object.assign(e.display.style,{right:"auto",bottom:"-".concat(r.height+4,"px"),left:"-".concat(r.width+4,"px")})}else{var n=e.display.getBoundingClientRect();Object.assign(e.display.style,{right:"-".concat(n.width+4,"px"),bottom:"-".concat(n.height+4,"px"),left:"auto"})}}})),y(d(e),"getCurrentSize",(function(){return"IMG"===e.domNode.tagName.toUpperCase()?[e.domNode.width,Math.round(e.domNode.width/e.domNode.naturalWidth*e.domNode.naturalHeight)]:[e.domNode.clientWidth,e.domNode.clientHeight]})),e}return r}(x),T=function(e){l(r,e);var t=u(r);function r(){var e;m(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return y(d(e=t.call.apply(t,[this].concat(o))),"onCreate",(function(){e.boxes=[],e.addBox("nwse-resize"),e.addBox("nesw-resize"),e.addBox("nwse-resize"),e.addBox("nesw-resize"),e.positionBoxes()})),y(d(e),"onDestroy",(function(){e.setCursor("")})),y(d(e),"positionBoxes",(function(){var t="".concat(-parseFloat(e.options.handleStyles.width)/2,"px"),r="".concat(-parseFloat(e.options.handleStyles.height)/2,"px");[{left:t,top:r},{right:t,top:r},{right:t,bottom:r},{left:t,bottom:r}].forEach((function(t,r){Object.assign(e.boxes[r].style,t)}))})),y(d(e),"addBox",(function(t){var r=document.createElement("div");Object.assign(r.style,e.options.handleStyles),r.style.cursor=t,r.style.width="".concat(e.options.handleStyles.width,"px"),r.style.height="".concat(e.options.handleStyles.height,"px"),r.addEventListener("mousedown",e.handleMousedown,!1),e.overlay.appendChild(r),e.boxes.push(r)})),y(d(e),"handleMousedown",(function(t){e.dragBox=t.target,e.dragStartX=t.clientX,e.dragStartY=t.clientY,e.preDragWidth=e.domNode.width||e.domNode.naturalWidth||e.domNode.clientWidth,e.preDragHeight=e.domNode.height||e.domNode.naturalHeight||e.domNode.clientHeight,e.setCursor(e.dragBox.style.cursor),document.addEventListener("mousemove",e.handleDrag,!1),document.addEventListener("mouseup",e.handleMouseup,!1)})),y(d(e),"handleMouseup",(function(){e.setCursor(""),document.removeEventListener("mousemove",e.handleDrag),document.removeEventListener("mouseup",e.handleMouseup)})),y(d(e),"handleDrag",(function(t){if(e.domNode){var r=t.clientX-e.dragStartX,n=t.clientY-e.dragStartY;if(e.dragBox===e.boxes[0]||e.dragBox===e.boxes[3]){if("IMG"===e.domNode.tagName.toUpperCase())e.domNode.width=Math.round(e.preDragWidth-r);else if("ms-quill-iframe"===e.domNode.getAttribute("class")){var o=e.domNode.parentNode&&e.domNode.parentNode.children&&e.domNode.parentNode.children[0]||null;o&&(e.domNode.parentNode.parentNode.style.width=Math.round(e.preDragWidth-r)+"px",o.setAttribute("width",e.domNode.parentNode.parentNode.clientWidth),e.domNode.style.width=e.domNode.parentNode.parentNode.clientWidth+"px")}}else if("IMG"===e.domNode.tagName.toUpperCase())e.domNode.width=Math.round(e.preDragWidth+r);else if("ms-quill-iframe"===e.domNode.getAttribute("class")){var i=e.domNode.parentNode&&e.domNode.parentNode.children&&e.domNode.parentNode.children[0]||null;i&&(e.domNode.parentNode.parentNode.style.width=Math.round(e.preDragWidth+r)+"px",i.setAttribute("width",e.domNode.parentNode.parentNode.clientWidth),e.domNode.style.width=e.domNode.parentNode.parentNode.clientWidth+"px")}if("ms-quill-iframe"===e.domNode.getAttribute("class")){var a=e.domNode.parentNode&&e.domNode.parentNode.children&&e.domNode.parentNode.children[0]||null;a&&(e.domNode.parentNode.parentNode.style.height=Math.round(e.preDragHeight+n)+"px",a.setAttribute("height",e.domNode.parentNode.parentNode.clientHeight),e.domNode.style.height=e.domNode.parentNode.parentNode.clientHeight+"px")}e.requestUpdate()}})),y(d(e),"setCursor",(function(t){[document.body,"IMG"===e.domNode.tagName.toUpperCase()?e.domNode:e.domNode.parentNode.parentNode].forEach((function(e){e.style.cursor=t}))})),e}return r}(x),M=function(e){l(r,e);var t=u(r);function r(){var e;m(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return y(d(e=t.call.apply(t,[this].concat(i))),"onCreate",(function(){e.toolbar=document.createElement("div"),Object.assign(e.toolbar.style,e.options.toolbarStyles),e.overlay.appendChild(e.toolbar),e._defineAlignments(),e._addToolbarButtons()})),y(d(e),"onDestroy",(function(){})),y(d(e),"onUpdate",(function(){})),y(d(e),"_defineAlignments",(function(){var t="IMG"===e.domNode.tagName.toUpperCase()?e.domNode:e.domNode.parentNode.parentNode;e.alignments=[{icon:S,apply:function(){p.add(t,"inline"),o.add(t,"left"),c.add(t,"0 1em 1em 0")},isApplied:function(){return"left"===o.value(t)}},{icon:w,apply:function(){p.add(t,"block"),o.remove(t),c.add(t,"auto")},isApplied:function(){return"auto"===c.value(t)}},{icon:O,apply:function(){p.add(t,"inline"),o.add(t,"right"),c.add(t,"0 0 1em 1em")},isApplied:function(){return"right"===o.value(t)}},{icon:j,apply:function(){if(p.add(t,"block"),o.add(t,"none"),c.add(t,"0"),b.add(t,"100%"),"ql-video"===t.getAttribute("class")){var e=t.querySelector("IFRAME")||null,r=t.querySelector(".ms-quill-iframe")||null;e&&r&&(t.style.width="100%",e.setAttribute("width","100%"),r.style.width="100%",t.style.height="200px",e.setAttribute("height",200),r.style.height="200px")}},isApplied:function(){return!1}}]})),y(d(e),"_addToolbarButtons",(function(){var t=[];e.alignments.forEach((function(r,n){var i=document.createElement("span");t.push(i),i.innerHTML=r.icon,i.addEventListener("click",(function(){t.forEach((function(e){e.style.filter=""})),r.isApplied()?(o.remove(e.domNode),c.remove(e.domNode),p.remove(e.domNode)):(e._selectButton(i),r.apply()),e.requestUpdate()})),Object.assign(i.style,e.options.toolbarButtonStyles),n>0&&(i.style.borderLeftWidth="0"),Object.assign(i.style,e.options.toolbarButtonSvgStyles),r.isApplied()&&e._selectButton(i),e.toolbar.appendChild(i)}))})),y(d(e),"_selectButton",(function(e){e.style.filter="invert(20%)"})),e}return r}(x),A={DisplaySize:P,Toolbar:M,Resize:T},C=["height","width"],_=function(e){l(p,e);var t,n,o,c=u(p);function p(){return m(this,p),c.apply(this,arguments)}return t=p,o=[{key:"create",value:function(e){var t="",r="100%",n=200;h(e)?(t=e.src||t,r=e.width||r,n=e.height||n):t=e||t;var o=s(f(p),"create",this).call(this,e);o.style.position="relative",e.domNodeStyle&&Object.assign(o.style,e.domNodeStyle),o.style.width=v(r)&&-1!==r.indexOf("%")?r:r+"px",o.style.height=v(n)&&-1!==n.indexOf("%")?n:n+"px";var i=document.createElement("IFRAME");i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen",!0),i.setAttribute("src",this.sanitize(t)),i.setAttribute("width",r),i.setAttribute("height",n);var a=document.createElement("DIV");return a.setAttribute("class","ms-quill-iframe"),a.style.overflow="hidden",a.style.position="absolute",a.style.left="0",a.style.top="0",a.style.width=v(r)&&-1!==r.indexOf("%")?r:r+"px",a.style.height=v(n)&&-1!==n.indexOf("%")?n:n+"px",a.style.border="1px solid #ddd",o.appendChild(i),o.appendChild(a),o}},{key:"formats",value:function(e){return C.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"sanitize",value:function(e){return r.sanitize(e)}},{key:"value",value:function(e){var t=e.children&&e.children[0]&&e.children[0].children&&e.children[0].children[0];return t?{src:t.getAttribute("src"),width:t.getAttribute("width"),height:t.getAttribute("height"),domNodeStyle:i({},e.style)}:""}}],(n=[{key:"format",value:function(e,t){C.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):s(f(p.prototype),"format",this).call(this,e,t)}}])&&a(t.prototype,n),o&&a(t,o),p}(t);_.blotName="video",_.className="ql-video",_.tagName="DIV";return{ResizeModule:function t(r){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,t),y(this,"initializeModules",(function(){n.removeModules(),n.modules=n.moduleClasses.map((function(e){return new(A[e]||e)(n)})),n.modules.forEach((function(e){e.onCreate()})),n.onUpdate()})),y(this,"onUpdate",(function(){n.repositionElements(),n.modules.forEach((function(e){e.onUpdate()}))})),y(this,"removeModules",(function(){n.modules.forEach((function(e){e.onDestroy()})),n.modules=[]})),y(this,"handleClick",(function(e){if(e.target&&e.target.tagName&&"IMG"===e.target.tagName.toUpperCase()||e.target&&e.target.tagName&&"DIV"===e.target.tagName.toUpperCase()&&"ms-quill-iframe"===e.target.getAttribute("class")){if(n.domNode===e.target)return;n.domNode&&n.hide(),n.show(e.target)}else n.domNode&&n.hide()})),y(this,"show",(function(e){n.domNode=e,n.showOverlay(),n.initializeModules()})),y(this,"showOverlay",(function(){n.overlay&&n.hideOverlay(),n.quill.setSelection(null),n.setUserSelect("none"),document.addEventListener("keyup",n.checkImage,!0),n.quill.root.addEventListener("input",n.checkImage,!0);var e=n.quill.root.parentNode.querySelector(".ql-editor");if(e&&(e.style.overflow="hidden"),n.overlay=document.createElement("div"),Object.assign(n.overlay.style,n.options.overlayStyles),n.domNode&&"ms-quill-iframe"===n.domNode.getAttribute("class")){n.input=document.createElement("input"),n.input.style.position="absolute",n.input.style.left="8px",n.input.style.top="16px",n.input.style.width="calc(100% - 16px)";var t=n.domNode.parentNode&&n.domNode.parentNode.children&&n.domNode.parentNode.children[0]&&n.domNode.parentNode.children[0].getAttribute("src")||"";n.input.setAttribute("value",t),n.overlay.appendChild(n.input),n.overlay.style.backgroundColor="rgba(0, 0, 0, 0.2)"}n.quill.root.parentNode.appendChild(n.overlay),n.repositionElements()})),y(this,"hideOverlay",(function(){if(n.overlay){n.input&&(n.domNode.parentNode&&n.domNode.parentNode.children&&n.domNode.parentNode.children[0]&&n.domNode.parentNode.children[0]&&n.domNode.parentNode.children[0].setAttribute("src",n.input.value),n.overlay.removeChild(n.input),n.input=void 0);var e=n.quill.root.parentNode.querySelector(".ql-editor");e&&(e.style.overflow="auto"),n.quill.root.parentNode.removeChild(n.overlay),n.overlay=void 0,document.removeEventListener("keyup",n.checkImage),n.quill.root.removeEventListener("input",n.checkImage),n.setUserSelect("")}})),y(this,"repositionElements",(function(){if(n.overlay&&n.domNode){var e=n.quill.root.parentNode,t="IMG"===n.domNode.tagName.toUpperCase()?n.domNode.getBoundingClientRect():n.domNode.parentNode.parentNode.getBoundingClientRect(),r=e.getBoundingClientRect();Object.assign(n.overlay.style,{left:"".concat(t.left-r.left-1+e.scrollLeft,"px"),top:"".concat(t.top-r.top+e.scrollTop,"px"),width:"".concat(t.width,"px"),height:"".concat(t.height,"px")})}})),y(this,"hide",(function(){n.hideOverlay(),n.removeModules(),n.domNode=void 0})),y(this,"setUserSelect",(function(e){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach((function(t){n.quill.root.style[t]=e,document.documentElement.style[t]=e}))})),y(this,"checkImage",(function(t){n.domNode&&n.input!==t.target&&(46!==t.keyCode&&8!==t.keyCode||"IMG"!==n.domNode.tagName.toUpperCase()||e.find(n.domNode).deleteAt(0),n.hide())})),this.quill=r;var i=!1;if(o.modules&&(i=o.modules.slice()),this.options=g({},o,E),!1!==i&&(this.options.modules=i),this.quill.theme&&this.quill.theme.modules&&this.quill.theme.modules.toolbar&&this.quill.theme.modules.toolbar.container&&this.options.iframeIcon){var a=this.quill.theme.modules.toolbar.container.querySelector(".ql-video");a&&(a.innerHTML='<svg viewbox="0 1022 18 18"><g transform="translate(0,0) scale(3.5)"><path d="m 0.20913578,292.52935 -0.0448461,0.0228 c -0.0522035,0.0266 -0.10514577,0.0764 -0.12730166,0.11985 -0.03898753,0.0764 -0.03689917898,-0.0334 -0.036985428654,1.94049 -5.91591201e-5,1.35972 0.00218847865,1.849 0.00864824865,1.87539 0.02503373,0.10227 0.09520806,0.17792 0.19668092,0.21203 0.0202072,0.007 0.54764317,0.009 2.18732434,0.008 l 2.1606966,-0.001 0.044846,-0.0228 c 0.079823,-0.0406 0.1345603,-0.10935 0.1556385,-0.19546 0.00646,-0.0264 0.00872,-0.51567 0.00866,-1.87539 -7.44e-5,-1.97386 0.002,-1.86407 -0.036985,-1.94049 -0.022155,-0.0434 -0.075113,-0.0933 -0.1273161,-0.11985 l -0.044846,-0.0228 H 2.381244 Z m 0.0798849,0.757 H 2.381244 4.4734673 v 1.57107 1.57107 H 2.381244 0.28902068 v -1.57107 z m 2.34957572,0.33607 c -0.028878,0 -0.055626,0.007 -0.080256,0.0204 -0.024631,0.0136 -0.045009,0.0323 -0.061147,0.056 -0.016138,0.0238 -0.025064,0.0501 -0.026762,0.079 -0.032275,0.14948 -0.1758133,0.82556 -0.4306147,2.02822 -0.00679,0.017 -0.010194,0.0348 -0.010194,0.0535 0,0.0306 0.00764,0.0586 0.022928,0.0841 0.015288,0.0255 0.035682,0.0459 0.061162,0.0612 0.025481,0.0153 0.053499,0.0229 0.084076,0.0229 0.022083,0 0.043319,-0.004 0.063703,-0.0127 0.020385,-0.008 0.038221,-0.0204 0.053509,-0.0357 0.015288,-0.0153 0.027184,-0.0331 0.035678,-0.0535 0.00849,-0.0204 0.013592,-0.0416 0.01529,-0.0637 l 0.4255178,-2.00274 c 0.00849,-0.0221 0.013592,-0.045 0.015291,-0.0688 0,-0.0459 -0.016566,-0.0854 -0.04969,-0.11847 -0.033125,-0.0331 -0.072626,-0.0497 -0.1184901,-0.0497 z m -0.1025608,0.30066 c 0.00234,0.002 0.00489,0.003 0.00701,0.005 0.00425,0.003 0.00892,0.006 0.014013,0.008 -0.0051,-0.002 -0.010194,-0.004 -0.01529,-0.008 -0.0017,-0.002 -0.00361,-0.003 -0.00574,-0.005 z m -0.7892346,0.20894 c -0.022083,0 -0.048417,0.008 -0.078993,0.0255 l -0.050968,0.0382 c -0.3295431,0.2599 -0.5461142,0.43063 -0.64973332,0.51217 -0.0441656,0.0187 -0.0764407,0.0514 -0.0968248,0.0981 -0.0203841,0.0467 -0.0246402,0.0947 -0.0127495,0.14398 0.0118908,0.0493 0.038225,0.0858 0.0789933,0.10956 0.057755,0.0408 0.13887122,0.10235 0.24333972,0.18473 0.1044687,0.0824 0.1643489,0.13037 0.179637,0.14396 0.022083,0.017 0.053501,0.0412 0.094269,0.0726 0.040768,0.0314 0.077299,0.0603 0.1095742,0.0866 0.032275,0.0263 0.06285,0.0514 0.091728,0.0752 0.047563,0.034 0.1006454,0.0412 0.1592497,0.0217 0.058604,-0.0195 0.097249,-0.0565 0.1159341,-0.11084 0.016987,-0.0442 0.015701,-0.0896 -0.00383,-0.13632 -0.018887,-0.0452 -0.049313,-0.0772 -0.091223,-0.0962 l -0.03489,-0.0274 c -0.018685,-0.0136 -0.029739,-0.0221 -0.033137,-0.0255 -0.056056,-0.0408 -0.1375864,-0.10108 -0.2446029,-0.18091 -0.1070166,-0.0798 -0.1843053,-0.13759 -0.2318683,-0.17327 0.030576,-0.0221 0.1108352,-0.082 0.240784,-0.17963 0.1299487,-0.0977 0.2297443,-0.17284 0.29939,-0.2255 0.057755,-0.0238 0.093001,-0.0697 0.1057405,-0.1376 0.01274,-0.0679 -0.00467,-0.12314 -0.052231,-0.16561 -0.035672,-0.0357 -0.078129,-0.0527 -0.1273908,-0.051 -0.0034,-0.002 -0.0068,-0.003 -0.010194,-0.003 z m 1.2689006,0 c -0.0034,0 -0.0068,8.5e-4 -0.010194,0.003 -0.049262,-0.002 -0.091718,0.0153 -0.1273909,0.051 -0.047563,0.0425 -0.064971,0.0977 -0.052231,0.16561 0.01274,0.0679 0.047986,0.11382 0.1057406,0.1376 0.069646,0.0527 0.1694416,0.12782 0.29939,0.2255 0.1299488,0.0977 0.210208,0.15755 0.2407841,0.17963 -0.047563,0.0357 -0.1248516,0.0934 -0.2318683,0.17327 -0.1070167,0.0798 -0.1885466,0.14014 -0.2446028,0.18091 l -0.033137,0.0255 c -0.015288,0.0102 -0.024628,0.017 -0.028025,0.0204 -0.00522,0.004 -0.00795,0.007 -0.00826,0.008 -0.041191,0.019 -0.071164,0.0509 -0.089841,0.0955 -0.019535,0.0467 -0.020806,0.0922 -0.00382,0.13632 0.018685,0.0544 0.05733,0.0913 0.1159342,0.11084 0.058604,0.0195 0.1116868,0.0123 0.1592499,-0.0217 0.028877,-0.0238 0.059453,-0.0488 0.091728,-0.0752 0.032275,-0.0263 0.068806,-0.0552 0.1095742,-0.0866 0.040768,-0.0314 0.072186,-0.0556 0.094269,-0.0726 0.032275,-0.0272 0.076018,-0.0629 0.1312245,-0.10702 0.055207,-0.0442 0.10659,-0.0845 0.1541529,-0.12103 0.047563,-0.0365 0.093434,-0.0701 0.1375999,-0.10064 0.040768,-0.0238 0.067102,-0.0603 0.078993,-0.10956 0.011891,-0.0493 0.00763,-0.0973 -0.012749,-0.14398 -0.020384,-0.0467 -0.052659,-0.0794 -0.096824,-0.0981 -0.07814,-0.0612 -0.2947259,-0.23189 -0.6497489,-0.51217 -0.045864,-0.0408 -0.089179,-0.062 -0.1299468,-0.0637 z m -1.4396219,0.15034 c -0.0017,0.008 -0.00256,0.0178 -0.00256,0.028 v -0.0102 -0.0102 z m 1.6103431,0 0.00254,0.008 v 0.0102 0.0102 c 0,-0.0102 -8.416e-4,-0.0195 -0.00254,-0.028 z m -1.6128989,0.051 0.00256,0.0178 0.00254,0.0179 0.00765,0.0178 0.00764,0.0153 h -0.00254 c -0.0017,-0.003 -0.0034,-0.008 -0.0051,-0.0153 l -0.00256,-0.003 -0.0051,-0.0153 c -0.0017,-0.008 -0.00254,-0.0145 -0.00254,-0.0179 -0.0017,-0.007 -0.00256,-0.0127 -0.00256,-0.0178 z m 1.6154252,2.3e-4 c -2.25e-5,0.005 -8.494e-4,0.0109 -0.00252,0.0176 0,0.003 -8.416e-4,0.009 -0.00254,0.0179 l -0.0051,0.0153 -0.00256,0.003 c -0.0017,0.007 -0.0034,0.0119 -0.0051,0.0153 h -0.00254 l 0.00764,-0.0153 0.00765,-0.0178 0.00254,-0.0179 z m -1.50331,0.1552 c 0.00849,0.003 0.01869,0.007 0.030581,0.0102 -0.00679,-0.002 -0.011036,-0.003 -0.012735,-0.003 -0.0051,-0.002 -0.011052,-0.004 -0.017846,-0.008 z m 1.3912246,0 c -0.00679,0.003 -0.01275,0.006 -0.017846,0.008 -0.0017,0 -0.00594,8.6e-4 -0.012735,0.003 0.011891,-0.003 0.022087,-0.007 0.030581,-0.0102 z m -0.7975265,1.2256 c 0.0051,0.002 0.00934,0.004 0.012734,0.008 -0.0051,-0.003 -0.00934,-0.006 -0.012734,-0.008 z"/></g></svg>')}this.quill.theme&&this.quill.theme.tooltip&&this.quill.theme.tooltip.root&&this.quill.theme.tooltip.root.classList&&this.quill.theme.tooltip.root.classList.add&&this.options.iframeIcon&&this.quill.theme.tooltip.root.classList.add("ms-ql-iframe-tooltip"),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,this.modules=[]},IFrame:_,toolbarConfig:{container:[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"],["video"]]},BaseModule:x,Toolbar:M,DisplaySize:P,Resize:T}}},"./MapStore2/web/client/components/misc/quillmodules/assets/css/resizemodule.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/quillmodules/assets/css/resizemodule.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-spinkit/dist/index.js");r("./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return this.props.loading?d.createElement("div",{className:this.props.className,id:this.props.id},d.createElement(f,{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(m,"propTypes",{id:p.string,loading:p.bool,className:p.string,spinner:p.string}),u(m,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"}),e.exports=m},"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/misc/style/filter.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/style/filter.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/components/misc/switch/SwitchButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/prop-types/index.js"),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return p.createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},p.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),p.createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(f,"propTypes",{className:d.string,checked:d.bool,onChange:d.func,onClick:d.func}),u(f,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}}),e.exports=f},"./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Panel,b=m.Button,g=m.Glyphicon,h=r("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),v=r("./MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx").default,S=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),w=function(){return d.createElement(b,{className:"square-button-sm no-border switch-error"},d.createElement(g,{glyph:"exclamation-mark",className:"text-danger"}))},O=r("./MapStore2/web/client/components/misc/LoadingView.jsx"),j=function(){return d.createElement("div",{className:"switch-loading"},d.createElement(O,{size:"small"}))},E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"state",{}),e}return t=u,(r=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?v:h;return d.createElement("div",null,d.createElement("div",{className:"pull-left"},this.props.title||this.props.header),d.createElement("div",{className:"pull-right"},this.props.locked?null:d.createElement(t,{checked:this.props.expanded,onClick:function(t){e.props.onSwitch(t)}}),this.props.error?d.createElement(w,null):null,this.props.loading?d.createElement(j,null):null,this.props.buttons.length>0&&this.props.expanded&&d.createElement(S,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return d.createElement(y,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(E,"propTypes",{header:f.node,title:f.oneOfType([f.string,f.node]),defaultExpanded:f.string,expanded:f.bool,onSwitch:f.func,locked:f.bool,buttons:f.array,loading:f.bool,error:f.any,errorMsgId:f.string,transitionProps:f.object,useToolbar:f.bool}),p(E,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1}),e.exports=E},"./MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),l=r.n(s),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r.n(c);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,r,n,i=y(a);function a(){return d(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this;return o.a.createElement(l.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o.a.createElement(u.a,{msgId:"collapse"}):o.a.createElement(u.a,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&f(t.prototype,r),n&&f(t,n),a}(o.a.Component);h(v,"propTypes",{checked:a.a.bool,onClick:a.a.func}),h(v,"defaultProps",{checked:!1,onClick:function(){}}),t.default=v},"./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Glyphicon,a=o.DropdownButton,s=o.MenuItem,l=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),c=r("./node_modules/react/index.js"),u=r("./node_modules/uuid/v1.js"),p=l(a),d={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:u()};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.menuOptions,r=void 0===t?[]:t,o=e.buttonConfig,a=void 0===o?{}:o;return c.createElement(p,n({},d,a),r.length?r.map((function(e,t){var r=e.glyph,n=e.text,o=e.onClick,a=e.active,l=void 0!==a&&a;return c.createElement(s,{active:l,eventKey:t,onClick:o,key:t},r&&c.createElement(i,{glyph:r})," ",n)})):null)}},"./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/react-bootstrap/es/index.js").ButtonGroup,s=r("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),l=r("./node_modules/react-addons-css-transition-group/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,c=e.btnGroupProps,u=void 0===c?{}:c,p=e.btnDefaultProps,d=void 0===p?{}:p,f=e.transitionProps,m=void 0===f?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:f,y=function(){return r.map((function(e,t){var r=e.visible,a=void 0===r||r,l=e.Element,c=e.renderButton,u=o(e,["visible","Element","renderButton"]);return a?c||(l&&i.createElement(l,n({key:u.key||t},u))||i.createElement(s,n({key:u.key||t},d,u))):null}))};return i.createElement(a,u,m?i.createElement(l,m,y()):y())}},"./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js").compose,s=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=r("./MapStore2/node_modules/lodash/lodash.js").omit,c=r("./node_modules/react-bootstrap/es/index.js"),u=c.Button,p=c.Glyphicon,d=r("./MapStore2/web/client/components/misc/Loader.jsx"),f=r("./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx"),m=r("./MapStore2/web/client/components/misc/enhancers/popover.js");e.exports=a(f,m)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,a=e.text,c=void 0===a?"":a,f=e.textId,m=e.glyphClassName,y=void 0===m?"":m,b=e.loaderProps,g=void 0===b?{}:b,h=e.children,v=o(e,["glyph","loading","text","textId","glyphClassName","loaderProps","children"]);return i.createElement(u,l(v,["pullRight","confirmNo","confirmYes"]),t&&!r?i.createElement(p,{glyph:t,className:y}):null,f?i.createElement(s,{msgId:f}):c,r?i.createElement(d,n({className:"ms-loader".concat(v.bsStyle&&" ms-loader-"+v.bsStyle||"").concat(v.bsSize&&" ms-loader-"+v.bsSize||"")},g)):null,h)}))},"./MapStore2/web/client/components/misc/wizard/StepHeader.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Row,a=o.Col;e.exports=function(e){var t=e.title,r=e.description;return n.createElement(i,null,n.createElement(a,{xs:12,className:"text-center"},n.createElement("div",{className:"mapstore-step-title"},t),n.createElement("div",{className:"mapstore-step-description"},r)))}},"./MapStore2/web/client/components/misc/wizard/WizardContainer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Button,b=m.Row,g=r("./MapStore2/web/client/components/I18N/Message.jsx"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderButtons",(function(){var t=[],r=e.props,n=r.isStepValid,o=r.children,i=void 0===o?[]:o,a=i.length>=0?i.length:1;return e.props.hideButtons?null:(e.props.step>0&&t.push(d.createElement(y,{key:"prev",className:"ms-wizard-prev",onClick:function(){return e.props.onPrevPage()}},d.createElement(g,{msgId:"wizard.prev"}))),e.props.step>=a-1?t.push(d.createElement(y,{key:"finish",className:"ms-wizard-finish",onClick:function(){return e.props.onFinish()}},d.createElement(g,{msgId:"wizard.finish"}))):e.props.step<a-1&&a>1&&t.push(d.createElement(y,{key:"next",className:"ms-wizard-next",disabled:!n(e.props.step),onClick:function(){return e.props.onNextPage()}},d.createElement(g,{msgId:"wizard.next"}))),t)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.props.children||[],r=t.length>=0?t.length:1;return d.createElement("div",{key:"wizard-pages",className:"ms-wizard"},d.Children.map(t,(function(t,n){return n===e.props.step?d.cloneElement(t,{key:"wizard-component-".concat(n),onNextPage:e.props.step===r-1?e.props.onFinish:e.props.onNextPage,onPrevPage:e.props.onPrevPage}):null})),d.createElement(b,{key:"wizard-buttons",className:"ms-wizard-buttons"},this.renderButtons()))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(h,"propTypes",{step:f.number,hideButtons:f.bool,onNextPage:f.func,onPrevPage:f.func,buttonType:f.node,onFinish:f.func,isStepValid:f.func}),p(h,"defaultProps",{step:0,isStepValid:function(){return!0},hideButtons:!1,onNextPage:function(){},onPrevPage:function(){},onFinish:function(){}}),e.exports=h},"./MapStore2/web/client/components/misc/wizard/enhancers.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withState,a=n.withPropsOnChange,s=n.withHandlers,l=o(a(["step"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skipButtonsOnSteps,r=void 0===t?[]:t,n=e.step,o=e.hideButtons;return r&&r.indexOf(n)>=0?{hideButtons:!0}:{hideButtons:o}})),s({onNextPage:function(e){var t=e.step,r=e.setPage,n=void 0===r?function(){}:r;return function(){n(t+1)}},onPrevPage:function(e){var t=e.step,r=e.setPage,n=void 0===r?function(){}:r;return function(){n(Math.max(t-1,0))}}}));e.exports={controlledWizard:o(i("step","setPage",0),l),wizardHandlers:l}},"./MapStore2/web/client/components/notifications/NotificationContainer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/react/index.js"),g=r("./node_modules/react-notification-system/dist/NotificationSystem.js"),h=r("./node_modules/prop-types/index.js"),v=r("./node_modules/react-intl/lib/index.es.js"),S=v.injectIntl,w=v.intlShape,O=v.defineMessages,j=r("./MapStore2/web/client/utils/LocaleUtils.js"),E=r("./MapStore2/web/client/components/misc/Portal.jsx"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,r,n,a=p(d);function d(){var e;l(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=a.call.apply(a,[this].concat(r))),"system",(function(){return e.refs.notify})),y(f(e),"updateNotifications",(function(t){var r=t.map((function(e){return e.uid})),n=e.system().state.notifications||[];n.forEach((function(t){r.indexOf(t.uid)<0&&e.system().removeNotification(t.uid)})),t.forEach((function(t){if(n.indexOf(t.uid)<0){var r,o=t.message,i=j.getMessageById(e.context.messages,o);if(t.values)r=(0,e.props.intl.formatMessage)(r=O({id:o,defaultMessage:i}),t.values);else r=i||o;e.system().addNotification(s(s({},t),{},{title:j.getMessageById(e.context.messages,t.title)||t.title,message:r,action:t.action&&{label:j.getMessageById(e.context.messages,t.action.label)||t.action.label,callback:t.action.dispatch?function(){e.props.onDispatch(t.action.dispatch)}:t.action.callback},onRemove:function(){e.props.onRemove(t.uid),t.onRemove&&t.onRemove()}}))}}))})),e}return t=d,(r=[{key:"componentDidMount",value:function(){this.updateNotifications(this.props.notifications)}},{key:"componentDidUpdate",value:function(){var e=(this.props||[]).notifications;this.updateNotifications(e)}},{key:"render",value:function(){var e=this.props,t=(e.notifications,e.onRemove,i(e,["notifications","onRemove"]));return b.createElement(E,null,b.createElement(g,o({ref:"notify"},t)))}}])&&c(t.prototype,r),n&&c(t,n),d}(b.Component);y(x,"propTypes",{notifications:h.array,intl:w.isRequired,onRemove:h.func,onDispatch:h.func}),y(x,"contextTypes",{messages:h.object}),y(x,"defaultProps",{notifications:[],onRemove:function(){},onDispatch:function(){}}),e.exports=S(x)},"./MapStore2/web/client/components/playback/Settings.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/moment/moment.js"),l=r("./MapStore2/node_modules/lodash/lodash.js").isNaN,c=r("./node_modules/react-bootstrap/es/index.js"),u=c.Form,p=c.FormGroup,d=c.ControlLabel,f=c.FormControl,m=c.InputGroup,y=r("./MapStore2/web/client/components/I18N/Message.jsx"),b=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),g=r("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),h=r("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),v=r("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),S=r("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),w=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!l(parseInt(e,10))){var n=parseInt(e,10);return t(n<1?1:n)}return r()}catch(e){return r(e)}},O=function(e){var t=e.startPlaybackTime,r=e.endPlaybackTime,n=s(t).diff(r);return{startPlaybackTime:n>=0?r:t,endPlaybackTime:n>=0?t:r}};e.exports=function(e){var t=e.following,r=e.frameDuration,n=e.timeStep,i=e.stepUnit,s=e.onSettingChange,l=void 0===s?function(){}:s,c=e.toggleAnimationMode,j=void 0===c?function(){}:c,E=e.toggleAnimationRange,x=void 0===E?function(){}:E,P=e.fixedStep,T=void 0!==P&&P,M=e.playbackRange,A=void 0===M?{}:M,C=e.setPlaybackRange,_=void 0===C?function(){}:C,I=e.playbackButtons,R=e.dateSelectorStyle,L=void 0===R?{padding:0,margin:0,border:"none"}:R,D=e.style,k=void 0===D?{}:D;return a.createElement("div",{className:"ms-playback-settings",style:k},a.createElement("h4",null,a.createElement(y,{msgId:"timeline.settings.title"})),a.createElement(p,{controlId:"timelineSettings"},a.createElement(u,{componentClass:"fieldset",inline:!0},a.createElement(d,null,a.createElement(y,{msgId:"timeline.settings.snapToGuideLayer"}),"",a.createElement(b,{text:a.createElement(y,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),a.createElement("span",null,a.createElement(h,{checked:!T,onChange:function(){return j()}})))),a.createElement("h4",null,a.createElement(y,{msgId:"playback.settings.title"})),a.createElement(p,{controlId:"frameDuration"},a.createElement(d,null,a.createElement(y,{msgId:"playback.settings.frameDuration"})),a.createElement(m,null,a.createElement(S,{componentClass:"input",type:"number",value:r,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w(e,(function(e){l("frameDuration",e)}))}}),a.createElement(m.Addon,null,"s"))),a.createElement(d,null,a.createElement(y,{msgId:"playback.settings.step.label"}),"",a.createElement(b,{text:a.createElement(y,{msgId:"playback.settings.step.tooltip"})})),a.createElement(p,{controlId:"formPlaybackStep"},a.createElement(u,{componentClass:"fieldset",inline:!0},a.createElement(S,{disabled:!T,componentClass:"input",type:"number",style:{input:{maxWidth:120}},value:n,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w(e,(function(e){l("timeStep",e)}))}}),a.createElement(f,{disabled:!T,componentClass:"select",value:i,onChange:function(e){var t=e.target;return l("stepUnit",(void 0===t?{}:t).value)}},a.createElement(y,{msgId:"playback.settings.step.year",msgParams:{number:n||1}},(function(e){return a.createElement("option",{value:"years"},e)})),a.createElement(y,{msgId:"playback.settings.step.week",msgParams:{number:n||1}},(function(e){return a.createElement("option",{value:"weeks"},e)})),a.createElement(y,{msgId:"playback.settings.step.day",msgParams:{number:n||1}},(function(e){return a.createElement("option",{value:"days"},e)})),a.createElement(y,{msgId:"playback.settings.step.hour",msgParams:{number:n||1}},(function(e){return a.createElement("option",{value:"hour"},e)})),a.createElement(y,{msgId:"playback.settings.step.minute",msgParams:{number:n||1}},(function(e){return a.createElement("option",{value:"minutes"},e)})),a.createElement(y,{msgId:"playback.settings.step.second",msgParams:{number:n||1}},(function(e){return a.createElement("option",{value:"seconds"},e)}))))),a.createElement(v,{onSwitch:function(e){return x(e)},expanded:A.startPlaybackTime&&A.endPlaybackTime,title:a.createElement(y,{msgId:"playback.settings.range.title"}),buttons:I},a.createElement(p,{controlId:"formPlaybackMode",style:{margin:10}},a.createElement(g,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:A.startPlaybackTime,onUpdate:function(e){return _(O(o(o({},A),{},{startPlaybackTime:e})))},style:L,showButtons:!0}),a.createElement(g,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:A.endPlaybackTime,onUpdate:function(e){return _(O(o(o({},A),{},{endPlaybackTime:e})))},style:L,showButtons:!0}))),a.createElement(p,{controlId:"formPlaybackFollowingMode"},a.createElement(u,{componentClass:"fieldset",inline:!0},a.createElement(d,null,a.createElement(y,{msgId:"playback.settings.mode.following"}),"",a.createElement(b,{text:a.createElement(y,{msgId:"playback.settings.mode.followingDescription"})})),a.createElement("span",null,a.createElement(h,{checked:t,onChange:function(e){return l("following",e)}})))))}},"./MapStore2/web/client/components/style/ColorPicker.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/isFunction.js"),l=r.n(s),c=r("./node_modules/react-color/lib/index.js"),u=r("./node_modules/tinycolor2/tinycolor.js"),p=r.n(u),d=r("./node_modules/react-dom/index.js"),f=r("./MapStore2/web/client/utils/ConfigUtils.js");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e){var t=e.value,r=e.format,i=e.onChangeColor,a=e.text,s=e.line,u=e.disabled,f=e.pickerProps,y=e.containerNode,g=e.onOpen,v=e.placement,S={picker:{opacity:0},arrow:{opacity:0},overlay:{}},w=h(Object(n.useState)(),2),O=w[0],j=w[1],E=h(Object(n.useState)(S),2),x=E[0],P=E[1],T=h(Object(n.useState)(),2),M=T[0],A=T[1],C=p()(t).toString(),_=l()(y)?y():y;Object(n.useEffect)((function(){var e=O&&p()(O).toString();e&&C&&C!==e&&j(t)}),[C]),Object(n.useEffect)((function(){g(M),M||P(S)}),[M]);var I=Object(n.useRef)(),R=Object(n.useRef)();function L(){var e,t,r,n,o,i,a;if("center"===v)return{picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}};var s=null==I||null===(e=I.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e),l=null==R||null===(r=R.current)||void 0===r||null===(n=r.getBoundingClientRect)||void 0===n?void 0:n.call(r),c=null==R||null===(o=R.current)||void 0===o||null===(i=o.querySelector)||void 0===i?void 0:i.call(o,".ms-sketch-picker"),u=null==c||null===(a=c.getBoundingClientRect)||void 0===a?void 0:a.call(c);if(s&&l&&u){var p,d,f,m,y=u.width,b=u.height,g=l.top,h=l.left,S=l.width,w=l.height,O=s.top,j=s.left,E=s.width,x=s.height,P=[j+E/2,O+x/2],T=P[0]-h>y/2+10&&h+S-P[0]>y/2+10,M=P[1]-g>b/2+10&&g+w-P[1]>b/2+10,A={top:{filter:function(){return T&&O-g>b+10},styles:function(){return{picker:{position:"absolute",top:O-b-10-g,left:j+E/2-y/2-h},overlay:{},arrow:{top:O+2,left:j+E/2,transform:"translate(-50%, -50%) rotateZ(270deg) translateX(50%)"}}}},right:{filter:function(){return M&&h+S-(j+E)>y+10},styles:function(){return{picker:{position:"absolute",top:O-b/2-g,left:j+E+10-h},overlay:{},arrow:{top:O+x/2,left:j+E-2,transform:"translate(-50%, -50%) rotateZ(0deg) translateX(50%)"}}}},bottom:{filter:function(){return T&&g+w-(O+x)>b+10},styles:function(){return{picker:{position:"absolute",top:O+x+10-g,left:j+E/2-y/2-h},overlay:{},arrow:{top:O+x-2,left:j+E/2,transform:"translate(-50%, -50%) rotateZ(90deg) translateX(50%)"}}}},left:{filter:function(){return M&&j-h>y+10},styles:function(){return{picker:{position:"absolute",top:O-b/2-g,left:j-y-10-h},overlay:{},arrow:{top:O+x/2,left:j+2,transform:"translate(-50%, -50%) rotateZ(180deg) translateX(50%)"}}}}};if(null==A||null===(p=A[v])||void 0===p||null===(d=p.filter)||void 0===d?void 0:d.call(p))return null==A||null===(f=A[v])||void 0===f||null===(m=f.styles)||void 0===m?void 0:m.call(f);if("top"!==v&&A.top.filter())return A.top.styles();if("right"!==v&&A.right.filter())return A.right.styles();if("bottom"!==v&&A.bottom.filter())return A.bottom.styles();if("left"!==v&&A.left.filter())return A.left.styles()}return{picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}}}Object(n.useEffect)((function(){var e=function(){return P(L())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){M&&P(L())}),[M]);var D,k,N=u?" ms-disabled":"",F=o.a.createElement("div",{ref:R,className:"ms-color-picker-overlay",style:b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",top:0,left:0},null==x?void 0:x.overlay)},o.a.createElement("div",{className:"ms-color-picker-cover",style:{position:"absolute",width:"100%",height:"100%",top:0,left:0},onClick:function(){A(!1),O&&i(r?p()(O).toString(r):O)}}),o.a.createElement(c.SketchPicker,m({},f,{className:"ms-sketch-picker",styles:{picker:b({width:200,padding:"10px 10px 0",boxSizing:"initial"},null==x?void 0:x.picker)},color:p()(O||t).toRgb(),onChange:function(e){return j(e.rgb)}})),o.a.createElement("div",{className:"ms-sketch-picker-arrow",style:b({position:"absolute",borderWidth:12},null==x?void 0:x.arrow)})),G=_?Object(d.createPortal)(F,_):F;return o.a.createElement("div",{className:"ms-color-picker".concat(N)},o.a.createElement("div",{className:"ms-color-picker-swatch",ref:I,style:(D=O||t||"transparent",k=p()(D).toRgbString(),s?{boxSizing:"border-box",border:"4px solid ".concat(k),backgroundColor:"transparent"}:{color:"transparent"===D?"#000000":p.a.mostReadable(k,["#000000"],{includeFallbackColors:!0}).toHexString(),backgroundColor:k}),onClick:function(){u||(A(!M),O&&i(r?p()(O).toString(r):O))}},a),M?G:null)}S.propTypes={value:a.a.oneOfType([a.a.string,a.a.shape({r:a.a.number,g:a.a.number,b:a.a.number,a:a.a.number})]),format:a.a.string,onChangeColor:a.a.func,text:a.a.string,line:a.a.bool,disabled:a.a.bool,pickerProps:a.a.object,containerNode:a.a.oneOfType([a.a.node,a.a.func]),onOpen:a.a.function,placement:a.a.string},S.defaultProps={disabled:!1,line:!1,onChangeColor:function(){},pickerProps:{},onOpen:function(){},containerNode:function(){return document.querySelector("."+(Object(f.getConfigProp)("themePrefix")||"ms2")+" > div")||document.body}},t.default=S},"./MapStore2/web/client/components/style/ColorSelector.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./node_modules/react-bootstrap/es/index.js"),l=r("./MapStore2/web/client/components/style/ColorPicker.jsx");function c(e){var t=e.color,r=e.format,n=e.line,i=e.onChangeColor,a=e.disableAlpha,c=e.containerNode,u=e.onOpen,p=e.presetColors,d=e.placement;return o.a.createElement("div",{className:"ms-color-selector"},o.a.createElement(l.default,{text:o.a.createElement(s.Glyphicon,{glyph:"dropper"}),format:r,line:n,value:t,onChangeColor:i,pickerProps:{disableAlpha:a,presetColors:p},containerNode:c,onOpen:u,placement:d}))}c.propTypes={color:a.a.oneOfType([a.a.string,a.a.shape({r:a.a.number,g:a.a.number,b:a.a.number,a:a.a.number})]),format:a.a.string,line:a.a.bool,onChangeColor:a.a.func,disableAlpha:a.a.bool,containerNode:a.a.node,onOpen:a.a.func,presetColors:a.a.array,placement:a.a.string},c.defaultProps={line:!1,onChangeColor:function(){},onOpen:function(){}},t.default=c},"./MapStore2/web/client/components/style/MarkNameSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-widgets/lib/index.js").DropdownList,m=r("./MapStore2/web/client/utils/LocaleUtils.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return d.createElement(f,{data:[{value:"circle",name:m.getMessageById(this.context.messages,"markNameSelector.circle")||"Circle"},{value:"square",name:m.getMessageById(this.context.messages,"markNameSelector.square")||"Square"},{value:"triangle",name:m.getMessageById(this.context.messages,"markNameSelector.triangle")||"Triangle"},{value:"star",name:m.getMessageById(this.context.messages,"markNameSelector.star")||"Star"},{value:"cross",name:m.getMessageById(this.context.messages,"markNameSelector.cross")||"Cross"},{value:"x",name:m.getMessageById(this.context.messages,"markNameSelector.x")||"X"}],valueField:"value",textField:"name",value:this.props.markName,onChange:function(t){return e.props.onChange("markName",t.value)}})}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(y,"propTypes",{markName:p.string,onChange:p.func}),u(y,"contextTypes",{messages:p.object}),u(y,"defaultProps",{markName:"circle",onChange:function(){}}),e.exports=y},"./MapStore2/web/client/components/style/StyleCanvas.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").isString,y=r("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),b=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),g=b.createSvgUrl,h=b.isSymbolStyle,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,n,l,u=s(f);function f(){var e;o(this,f);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return p(c(e=u.call.apply(u,[this].concat(n))),"paint",(function(t){t.save(),t.beginPath();var r=e.props.shapeStyle,n=r.color,o=r.fill;switch(t.fillStyle=o?m(o)?o:"rgba(".concat(o.r,", ").concat(o.g,", ").concat(o.b,", ").concat(o.a,")"):null,t.strokeStyle=n?m(n)?n:"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(n.a,")"):null,t.lineWidth=e.props.shapeStyle.width||e.props.shapeStyle.weight,e.props.shapeStyle.dashArray&&e.props.shapeStyle.dashArray.length&&t.setLineDash(e.props.shapeStyle.dashArray),e.props.geomType){case"Polygon":e.paintPolygon(t);break;case"Polyline":e.paintPolyline(t);break;case"Point":e.paintPoint(t,e.props.shapeStyle.markName);break;case"Circle":e.paintPoint(t,"circle");break;case"Marker":e.paintMarker(t);break;case"Text":e.paintText(t);break;case"Symbol":e.paintSymbol(t);break;default:return}t.restore()})),p(c(e),"drawSymbol",(function(t,n){n.clearRect(0,0,600,600);var o=new Image,i=new Image;i.src=r("./MapStore2/web/client/components/style/vector/iconNotFound.png"),o.src=t||e.props.shapeStyle.symbolUrl,o.onload=function(){try{n.drawImage(o,e.props.width/2-o.width/2,e.props.height/2-o.height/2)}catch(e){return}},o.onerror=function(){i.onload=function(){try{n.drawImage(i,e.props.width/2-i.width/2,e.props.height/2-i.height/2)}catch(e){return}}}})),p(c(e),"paintSymbol",(function(t){h(e.props.originalStyle)?e.props.originalStyle.symbolUrlCustomized&&e.props.originalStyle.symbolUrl?e.drawSymbol(e.props.originalStyle.symbolUrlCustomized,t):g(e.props.originalStyle,e.props.originalStyle.symbolUrlCustomized||e.props.originalStyle.symbolUrl).then((function(r){return e.drawSymbol(r,t)})):e.drawSymbol(null,t)})),p(c(e),"paintText",(function(t){var r=e.props,n=r.width,o=r.height,i=e.props.shapeStyle,a=i.textAlign,s=void 0===a?"center":a,l=i.label,c=i.font,u=void 0===c?"14px Arial":c;return t.textAlign=s,t.font=u,"start"===s?(t.strokeText(l||"New",n/2.5,o/2),void t.fillText(l||"New",n/2.5,o/2)):"end"===s?(t.strokeText(l||"New",n/1.5,o/2),void t.fillText(l||"New",n/1.5,o/2)):(t.strokeText(l||"New",n/2,o/2),void t.fillText(l||"New",n/2,o/2))})),p(c(e),"paintPolygon",(function(e){e.transform(1,0,0,1,-27.5,0),e.moveTo(55,8),e.lineTo(100,8),e.lineTo(117.5,40),e.lineTo(100,72),e.lineTo(55,72),e.lineTo(37.5,40),e.closePath(),e.fill(),e.stroke()})),p(c(e),"paintPolyline",(function(e){e.transform(1,0,0,1,0,0),e.moveTo(10,20),e.bezierCurveTo(40,40,70,0,90,20),e.stroke()})),p(c(e),"paintPoint",(function(t,r){var n=e.props.shapeStyle.radius,o=n/2;switch(r){case"square":t.rect(50-o,48.5-o,n,n);break;case"circle":t.arc(50,48.5,o,0,2*Math.PI);break;case"triangle":var i=Math.sqrt(3)*n/2/3;t.moveTo(50,48.5-2*i),t.lineTo(50+o,48.5+i),t.lineTo(50-o,48.5+i),t.closePath();break;case"star":e.paintStar(t,50,48.5,5,o,o/2);break;case"cross":e.paintCross(t,50,48.5,n,.23);break;case"x":t.translate(50,48.5),t.rotate(45*Math.PI/180),t.translate(-50,-48.5),e.paintCross(t,50,48.5,n,.23);break;default:t.arc(50,48.5,n,0,2*Math.PI)}t.fill(),t.stroke()})),p(c(e),"paintMarker",(function(e){var t=new Image;t.src=y;try{e.drawImage(t,42.5,24)}catch(e){return}})),p(c(e),"paintStar",(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=Math.PI/2*3,s=t,l=r,c=Math.PI/n;e.moveTo(t,r-o);for(var u=0;u<n;u++)s=t+Math.cos(a)*o,l=r+Math.sin(a)*o,e.lineTo(s,l),a+=c,s=t+Math.cos(a)*i,l=r+Math.sin(a)*i,e.lineTo(s,l),a+=c;e.lineTo(t,r-o),e.closePath()})),p(c(e),"paintCross",(function(e,t,r,n,o){var i=n*o/2,a=n/2;e.moveTo(t-i,r-a),e.lineTo(t+i,r-a),e.lineTo(t+i,r-i),e.lineTo(t+a,r-i),e.lineTo(t+a,r+i),e.lineTo(t+i,r+i),e.lineTo(t+i,r+a),e.lineTo(t-i,r+a),e.lineTo(t-i,r+i),e.lineTo(t-a,r+i),e.lineTo(t-a,r-i),e.lineTo(t-i,r-i),e.closePath()})),e}return t=f,(n=[{key:"componentDidMount",value:function(){var e=this.refs.styleCanvas.getContext("2d");e.clearRect(0,0,this.props.width||500,this.props.height||500),this.paint(e)}},{key:"componentDidUpdate",value:function(){var e=this.refs.styleCanvas.getContext("2d");e.clearRect(0,0,this.props.width||500,this.props.height||500),this.paint(e)}},{key:"render",value:function(){return d.createElement("canvas",{ref:"styleCanvas",style:this.props.style,width:this.props.width,height:this.props.height})}}])&&i(t.prototype,n),l&&i(t,l),f}(d.Component);p(v,"propTypes",{originalStyle:f.object,style:f.object,shapeStyle:f.object,geomType:f.oneOf(["Polygon","Polyline","Point","Marker","Text","Symbol","Circle",void 0]),width:f.number,height:f.number}),p(v,"defaultProps",{originalStyle:{},style:{},shapeStyle:{},geomType:"Polygon",width:100,height:80}),e.exports=v},"./MapStore2/web/client/components/style/StylePoint.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.Grid,y=f.Row,b=f.Col,g=r("./MapStore2/web/client/components/style/ColorPicker.jsx").default,h=r("./MapStore2/web/client/components/style/StyleCanvas.jsx"),v=r("./MapStore2/web/client/components/style/MarkNameSelector.jsx");r("./node_modules/react-widgets/lib/localizers/simple-number.js")();var S=r("./node_modules/react-widgets/lib/index.js").NumberPicker;r("./node_modules/react-widgets/lib/less/react-widgets.less");var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return d.createElement(m,{fluid:!0},d.createElement(y,null,d.createElement(b,{xs:4,style:{padding:0}},d.createElement(h,{style:{padding:0,margin:"auto",display:"block"},height:97,shapeStyle:this.props.shapeStyle,geomType:this.props.shapeStyle.marker?"Marker":"Point"})),d.createElement(b,{xs:7},this.props.showMarker?d.createElement(y,null,d.createElement(b,{xs:1},d.createElement("input",{"aria-label":"...",type:"checkbox",defaultChecked:this.props.shapeStyle.marker,onChange:function(t){e.props.setStyleParameter("marker",t.target.checked)}})),d.createElement(b,{style:{paddingLeft:0,paddingTop:1},xs:4},d.createElement("label",null,"Marker"))):null,this.props.showMarkSelector?d.createElement(y,{style:{marginBottom:4}},d.createElement(b,{style:{paddingTop:7},xs:4},d.createElement("label",null,"Mark")),d.createElement(b,{xs:8,style:{paddingRight:0,paddingLeft:30}},d.createElement(v,{onChange:this.props.setStyleParameter,markName:this.props.shapeStyle.markName}))):null,d.createElement(y,null,d.createElement(b,{xs:4},d.createElement(g,{disabled:this.props.shapeStyle.marker,value:this.props.shapeStyle.color,line:!1,text:"Stroke",onChangeColor:function(t){t&&e.props.setStyleParameter("color",t)}})),d.createElement(b,{xs:8,style:{paddingRight:0,paddingLeft:30}},d.createElement(S,{disabled:this.props.shapeStyle.marker,min:1,max:15,step:1,value:this.props.shapeStyle.width,onChange:function(t){e.props.shapeStyle.width!==t&&e.props.setStyleParameter("width",t)}}))),d.createElement(y,{style:{marginTop:4}},d.createElement(b,{xs:4},d.createElement(g,{disabled:this.props.shapeStyle.marker,value:this.props.shapeStyle.fill,line:!1,text:"Fill",onChangeColor:function(t){t&&e.props.setStyleParameter("fill",t)}})),d.createElement(b,{xs:8,style:{paddingRight:0,paddingLeft:30}},d.createElement(S,{disabled:this.props.shapeStyle.marker,min:1,max:50,step:1,value:this.props.shapeStyle.radius,onChange:function(t){e.props.shapeStyle.radius!==t&&e.props.setStyleParameter("radius",t)}}))))))}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(w,"propTypes",{shapeStyle:p.object,setStyleParameter:p.func,showMarker:p.bool,showMarkSelector:p.bool}),u(w,"defaultProps",{shapeStyle:{},showMarker:!0,showMarkSelector:!1,setStyleParameter:function(){}}),e.exports=w},"./MapStore2/web/client/components/style/StylePolygon.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.Grid,y=f.Row,b=f.Col,g=r("./MapStore2/web/client/components/style/ColorPicker.jsx").default,h=r("./MapStore2/web/client/components/style/StyleCanvas.jsx");r("./node_modules/react-widgets/lib/localizers/simple-number.js")();var v=r("./node_modules/react-widgets/lib/index.js").NumberPicker;r("./node_modules/react-widgets/lib/less/react-widgets.less");var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return d.createElement(m,{fluid:!0},d.createElement(y,null,d.createElement(b,{xs:4,style:{padding:0}},d.createElement(h,{style:{padding:0,margin:"auto",display:"block"},shapeStyle:this.props.shapeStyle,geomType:"Polygon"})),d.createElement(b,{xs:7},d.createElement(y,{style:{marginTop:7}},d.createElement(b,{xs:4},d.createElement(g,{value:this.props.shapeStyle.color,line:!1,text:"Stroke",onChangeColor:function(t){t&&e.props.setStyleParameter("color",t)}})),d.createElement(b,{xs:8,style:{paddingRight:0,paddingLeft:30}},d.createElement(v,{min:1,max:15,step:1,value:this.props.shapeStyle.width,onChange:function(t){t!==e.props.shapeStyle.width&&e.props.setStyleParameter("width",t)}}))),d.createElement(y,{style:{marginTop:4}},d.createElement(b,{xs:6},d.createElement(g,{value:this.props.shapeStyle.fill,line:!1,text:"Fill",onChangeColor:function(t){t&&e.props.setStyleParameter("fill",t)}}))))))}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(S,"propTypes",{shapeStyle:p.object,setStyleParameter:p.func}),u(S,"defaultProps",{shapeStyle:{},setStyleParameter:function(){}}),e.exports=S},"./MapStore2/web/client/components/style/StylePolyline.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-bootstrap/es/index.js"),m=f.Grid,y=f.Row,b=f.Col,g=r("./MapStore2/web/client/components/style/ColorPicker.jsx").default,h=r("./MapStore2/web/client/components/style/StyleCanvas.jsx");r("./node_modules/react-widgets/lib/localizers/simple-number.js")();var v=r("./node_modules/react-widgets/lib/index.js").NumberPicker;r("./node_modules/react-widgets/lib/less/react-widgets.less");var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return d.createElement(m,{fluid:!0},d.createElement(y,null,d.createElement(b,{xs:4,style:{padding:0}},d.createElement(h,{style:{padding:0,margin:"auto",display:"block"},shapeStyle:this.props.shapeStyle,geomType:"Polyline",height:40})),d.createElement(b,{xs:7},d.createElement(y,{style:{marginTop:7}},d.createElement(b,{xs:4},d.createElement(g,{value:this.props.shapeStyle.color,line:!1,text:"Stroke",onChangeColor:function(t){t&&e.props.setStyleParameter("color",t)}})),d.createElement(b,{xs:8,style:{paddingRight:0,paddingLeft:30}},d.createElement(v,{onChange:function(t){e.props.setStyleParameter("width",t)},min:1,max:15,step:1,value:this.props.shapeStyle.width}))))))}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(S,"propTypes",{shapeStyle:p.object,setStyleParameter:p.func}),u(S,"defaultProps",{shapeStyle:{},setStyleParameter:function(){}}),e.exports=S},"./MapStore2/web/client/components/style/ThemaClassesEditor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").FormGroup,y=r("./MapStore2/web/client/components/style/ColorSelector.jsx").default;r("./node_modules/react-widgets/lib/localizers/simple-number.js")();var b=r("./node_modules/react-widgets/lib/index.js").NumberPicker,g=r("./node_modules/object-assign/index.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"renderClasses",(function(){return e.props.classification.map((function(t,r){return d.createElement(m,{key:r},d.createElement(y,{key:t.color,color:t.color,disableAlpha:!0,format:"hex",onChangeColor:function(t){return e.updateColor(r,t)}}),d.createElement(b,{format:"- ###.###",value:t.min,onChange:function(t){return e.updateMin(r,t)}}),d.createElement(b,{format:"- ###.###",value:t.max,precision:3,onChange:function(t){return e.updateMax(r,t)}}))}))})),p(c(e),"updateColor",(function(t,r){if(r){var n=e.props.classification.map((function(e,n){return n===t?g({},e,{color:r}):e}));e.props.onUpdateClasses(n,"color")}})),p(c(e),"updateMin",(function(t,r){if(!isNaN(r)){var n=e.props.classification.map((function(e,n){return n===t?g({},e,{min:r}):n===t-1?g({},e,{max:r}):e}));e.props.onUpdateClasses(n,"interval")}})),p(c(e),"updateMax",(function(t,r){if(!isNaN(r)){var n=e.props.classification.map((function(e,n){return n===t?g({},e,{max:r}):n===t+1?g({},e,{min:r}):e}));e.props.onUpdateClasses(n,"interval")}})),e}return t=u,(r=[{key:"render",value:function(){return d.createElement("div",{className:"thema-classes-editor "+this.props.className},this.renderClasses())}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(h,"propTypes",{classification:f.array,onUpdateClasses:f.func,className:f.string}),p(h,"defaultProps",{classification:[],onUpdateClasses:function(){},className:""}),e.exports=h},"./MapStore2/web/client/components/style/vector/DashArray.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react/index.js"),b=r("./node_modules/react-select/dist/react-select.es.js").default,g=r("./MapStore2/node_modules/lodash/lodash.js").join,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,i=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=i.call.apply(i,[this].concat(r))),"styleRenderer",(function(t,r,n){var o=e.props.styleRendererPattern||y.createElement("svg",{style:{height:33,width:"100%"},viewBox:"0 0 300 25"},y.createElement("path",{stroke:"#333333",strokeWidth:e.props.defaultStrokeWidth,strokeDasharray:n||t.value,d:"M0 12.5, 300 12.5"}));return y.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",paddingRight:25}},o)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=g(this.props.dashArray||"1 0"," "),r=this.props.options.find((function(e){return e.value===t}))?this.props.options:[{value:t}].concat(o(this.props.options)),n=this.props.creatable?b.Creatable:b;return y.createElement(n,{options:r,disabled:this.props.disabled,menuPlacement:this.props.menuPlacement,clearable:this.props.clearable,optionRenderer:this.props.optionRenderer||this.styleRenderer,valueRenderer:this.props.valueRenderer||this.styleRenderer,value:t,isValidNewOption:this.props.isValidNewOption,onChange:function(t){if(t){var r=t.value.split(" ");e.props.onChange(r)}}})}}])&&s(t.prototype,r),n&&s(t,n),u}(y.Component);f(h,"propTypes",{dashArray:m.array,menuPlacement:m.string,clearable:m.bool,value:m.string,optionRenderer:m.func,styleRendererPattern:m.node,valueRenderer:m.func,disabled:m.bool,onChange:m.func,options:m.array,creatable:m.bool,isValidNewOption:m.func,defaultStrokeWidth:m.number}),f(h,"defaultProps",{dashArray:["1","0"],menuPlacement:"top",clearable:!1,onChange:function(){},options:[{value:"1 0"},{value:"10 50 30"},{value:"6 6"},{value:"20 20"},{value:"30 30"}],defaultStrokeWidth:4}),e.exports=h},"./MapStore2/web/client/components/style/vector/iconNotFound.png":function(e,t,r){e.exports=r.p+"MapStore2/web/client/components/style/vector/iconNotFound.png"},"./MapStore2/web/client/components/styleeditor/ColorRamp.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/ColorUtils.js"),l=r.n(s),c=r("./node_modules/react-select/dist/react-select.es.js"),u=r("./MapStore2/node_modules/lodash/find.js"),p=r.n(u),d=r("./MapStore2/web/client/components/I18N/Message.jsx"),f=r.n(d);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var h=function(e){var t=e.ramp,r=e.name,n=e.label,i=1/t.length,a=(t||[]).reduce((function(e,r,n){return"".concat(e,", ").concat(r," ").concat(n/t.length*100,"%, ").concat(r," ").concat(100*(n/t.length+i),"%")}),"linear-gradient(to right");return o.a.createElement("div",{style:{backgroundImage:"".concat(a,")"),width:"100%",display:"inline-block",verticalAlign:"middle",padding:"0 2px"}},o.a.createElement("span",{style:{color:"#000000",backgroundColor:"rgba(255, 255, 255, 0.75)",padding:"0 4px"}},o.a.createElement(f.a,{msgId:n||r,msgParams:{number:t.length}})))};function v(e){var t=e.value,r=e.samples,n=e.onChange,i=e.items,a=e.rampFunction,s=e.disabled,u=i.map((function(e){var t=e.options,n=void 0===t?{}:t,o=g(e,["options"]);return y(y({},o),{},{options:n,ramp:a?a(o,n):(l.a.sameToneRangeColors(n.base,n.range,r+1,n.options)||["#AAA"]).splice(1)})})),d=p()(u,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e===t||e.name===(t&&t.name)}));return o.a.createElement(c.default,{valueKey:"name",className:"color-ramp-selector",clearable:!1,value:d,options:u,disabled:s,valueRenderer:h,optionRenderer:h,onChange:function(e){e&&n(e)}})}v.propTypes={value:a.a.oneOfType([a.a.string,a.a.object]),samples:a.a.number,onChange:a.a.func,items:a.a.array,rampFunction:a.a.func,disabled:a.a.bool},v.defaultProps={samples:5,onChange:function(){},items:[{name:"global.colors.blue",schema:"sequencial",options:{base:190,range:20}},{name:"global.colors.red",schema:"sequencial",options:{base:10,range:4}},{name:"global.colors.green",schema:"sequencial",options:{base:120,range:4}},{name:"global.colors.brown",schema:"sequencial",options:{base:30,range:4,s:1,v:.5}},{name:"global.colors.purple",schema:"sequencial",options:{base:300,range:4}},{name:"global.colors.random",schema:"qualitative",options:{base:190,range:340,options:{base:10,range:360,s:.67,v:.67}}}],disabled:!1},t.default=v},"./MapStore2/web/client/components/styleeditor/Editor.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/react/index.js"),g=r("./node_modules/prop-types/index.js"),h=r("./node_modules/react-codemirror2/index.js").Controlled,v=r("./MapStore2/node_modules/lodash/lodash.js"),S=v.debounce,w=v.isEqual,O=v.endsWith,j=v.isFunction,E=r("./node_modules/codemirror/lib/codemirror.js"),x=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),P=r("./MapStore2/web/client/components/misc/Loader.jsx"),T=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),M=r("./MapStore2/web/client/components/I18N/Message.jsx"),A=r("./node_modules/object-assign/index.js");r("./node_modules/codemirror/lib/codemirror.css"),r("./node_modules/codemirror/addon/search/searchcursor.js"),r("./node_modules/codemirror/addon/selection/mark-selection.js"),r("./node_modules/codemirror/addon/hint/show-hint.css"),r("./node_modules/codemirror/addon/hint/show-hint.js"),r("./node_modules/codemirror/mode/xml/xml.js"),r("./MapStore2/web/client/components/styleeditor/mode/geocss.js")(E),r("./MapStore2/web/client/components/styleeditor/hint/geocss.js")(E);var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,r,n,o=p(s);function s(){var e;l(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=o.call.apply(o,[this].concat(r))),"state",{}),y(f(e),"onRenderToken",(function(t){var r=t.lineCount();e.inlineWidgets&&e.inlineWidgets.forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild&&e.parentNode.removeChild(e)})),e.inlineWidgets=[],t.doc.iter(0,r,(function(r){var n=r.lineNo();t.getLineTokens(n).forEach((function(r){e.inlineWidgets=e.props.inlineWidgets.reduce((function(o,i){var s=i.type,l=i.style,c=void 0===l?{}:l,u=i.active,p=void 0===u?function(){return!1}:u,d=i.className,f=void 0===d?"":d;if(p(r)){var m=e.getInlineWidget({className:f,token:r,onClick:function(){return e.setState({inlineWidgetType:s,token:r,lineNo:n})},style:j(c)&&c(r)||c});return t.addWidget({line:n,ch:r.start-1},m,!1),[].concat(a(o),[m])}return a(o)}),a(e.inlineWidgets))}))}))})),y(f(e),"onAutocomplete",(function(t){if(!(t&&t.state&&t.state.completionActive)){var r=t.getCursor(),n=t.getTokenAt(r);if(n.string&&(O(n.string,"-")||n.string.match(/^[.`\w@]\w*$/))&&n.string.length>0){var o=e.editor&&e.editor.getWrapperElement&&e.editor.getWrapperElement()||null;E.commands.autocomplete(t,null,{completeSingle:!1,container:o})}}})),y(f(e),"onUpdate",(function(){e.update.cancel(),e.update()})),y(f(e),"getInlineWidget",(function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.token,o=void 0===n?{}:n,a=e.className,s=void 0===a?"":a,l=e.style,c=void 0===l?{}:l,u=document.createElement("div");return u.setAttribute("class","".concat(s," ms-style-editor-inline-widget")),A(u.style,c),u.onclick=function(){return r(i({},o))},u})),e}return t=s,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.setState({code:this.props.code})}},{key:"UNSAFE_componentWillUpdate",value:function(e){if(!w(this.props.error,e.error)&&(this.marker&&(this.marker.clear(),this.marker=null),e.error)){var t=this.editor.lineCount(),r={line:e.error.line-1||0,ch:0},n=e.error.line?{line:t,ch:0}:this.editor.getCursor();this.marker=this.editor.markText(r,n,{className:"ms-style-editor-error"})}}},{key:"render",value:function(){var e=this;return b.createElement(x,{className:"ms-style-editor",style:this.props.style,header:b.createElement("div",{className:"ms-style-editor-head"},this.props.loading&&b.createElement(P,{className:"ms-style-editor-loader",size:20}),this.props.error&&b.createElement(T,{glyph:"exclamation-mark",bsStyle:"danger",placement:"right",title:b.createElement(M,{msgId:"styleeditor.validationErrorTitle"}),text:this.props.error.line?this.props.error.message:b.createElement(M,{msgId:"styleeditor.genericValidationError"})}))},b.createElement(h,{key:"style-editor",value:this.state.code,editorDidMount:function(t){e.onRenderToken(t),e.editor=t,t.on("inputRead",e.onAutocomplete),e.update=S((function(){e.props.onChange(e.state.code)}),e.props.waitTime),E.extendMode(e.props.mode,{hintProperties:e.props.hintProperties})},editorWillUnmount:function(t){return t.off("inputRead",e.onAutocomplete)},onBeforeChange:function(t,r,n){return e.setState({code:n})},onChange:function(t){e.onRenderToken(t),e.onUpdate()},options:{theme:this.props.theme,mode:this.props.mode,lineNumbers:!0,styleSelectedText:!0,indentUnit:2,tabSize:2}}),this.state.token&&b.createElement("div",{className:"ms-inline-widget-container"},b.createElement("div",null,b.createElement("button",{className:"btn close square-button",onClick:function(){e.state.value&&e.editor.replaceRange(e.state.value,{line:e.state.lineNo,ch:e.state.token.start},{line:e.state.lineNo,ch:e.state.token.end}),e.setState({token:null,inlineWidgetType:null,lineNo:null,value:null})}})),b.createElement("div",null,this.props.inlineWidgets.filter((function(t){return t.type===e.state.inlineWidgetType})).map((function(t){var r=t.Widget;return b.createElement(r,{value:e.state.value,token:e.state.token,onChange:function(t){return e.setState({value:t})}})})))))}}])&&c(t.prototype,r),n&&c(t,n),s}(b.Component);y(C,"propTypes",{mode:g.string,theme:g.string,style:g.object,code:g.string,onChange:g.func,waitTime:g.number,hintProperties:g.object,error:g.object,inlineWidgets:g.array,loading:g.bool}),y(C,"defaultProps",{mode:"geocss",theme:"lesser-dark",style:{},code:"",onChange:function(){},waitTime:1e3,hintProperties:{},inlineWidgets:[]}),e.exports=C},"./MapStore2/web/client/components/styleeditor/SVGPreview.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js");e.exports=function(e){var t=e.type,r=e.patterns,a=e.paths,s=e.texts,l=e.backgroundColor,c=void 0===l?"#ffffff":l;return i.createElement("svg",{viewBox:"0 0 200 200"},i.createElement("defs",null,r&&r.filter((function(e){return e.icon})).map((function(e){return i.createElement("pattern",{id:e.id,viewBox:"0 0 1 1",width:"15%",height:"15%"},e.icon&&i.createElement("path",e.icon))})),r&&r.filter((function(e){return e.image})).map((function(e){return i.createElement("pattern",{id:e.id,width:"100%",height:"100%"},e.image&&i.createElement("image",e.image))}))),i.createElement("path",{fill:c,d:"M0 0 L200 0 L200 200 L0 200Z"}),a&&a.map((function(e){var r=e.type,a=o(e,["type"]);return"polygon"===(r||t)&&i.createElement("path",n({},a,{d:"M20 20 L180 20 L180 180 L20 180Z"}))||"linestring"===(r||t)&&i.createElement("path",n({},a,{fill:"none",d:"M30 160 L100 40 L170 160"}))||"point"===(r||t)&&i.createElement("path",a)})),s&&s.map((function(e){var t=e.text,r=o(e,["text"]);return i.createElement("text",n({x:"100",y:"100",textAnchor:"middle",alignmentBaseline:"middle"},r),t)})))}},"./MapStore2/web/client/components/styleeditor/StyleList.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,l=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),c=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),u=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js")("filterPlaceholder")(r("./MapStore2/web/client/components/misc/Filter.jsx")),p=r("./MapStore2/web/client/components/styleeditor/SVGPreview.jsx"),d=r("./MapStore2/web/client/components/I18N/Message.jsx"),f=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(s),m=c((function(e){return 0===e.items.length}),{title:a.createElement(d,{msgId:"styleeditor.filterMatchNotFound"}),glyph:"1-stilo"})(r("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx"));e.exports=function(e){var t=e.showDefaultStyleIcon,r=e.enabledStyle,n=e.defaultStyle,i=e.availableStyles,s=void 0===i?[]:i,c=e.onSelect,d=e.formatColors,y=void 0===d?{sld:"#33ffaa",css:"#ffaa33"}:d,b=e.filterText,g=e.onFilter,h=void 0===g?function(){}:g;return a.createElement(l,{className:"ms-style-editor-list",header:a.createElement(u,{filterPlaceholder:"styleeditor.styleListfilterPlaceholder",filterText:b,onFilter:h})},a.createElement(m,{size:"sm",onItemClick:function(e){var t=e.name;return c({style:n===t?"":t},!0)},items:s.filter((function(e){var t,r,n=e.name,o=void 0===n?"":n,i=e.title,a=void 0===i?"":i,s=e._abstract,l=void 0===s?"":s,c=e.metadata,u=void 0===c?{}:c;return!b||b&&(-1!==o.indexOf(b)||-1!==(null==u||null===(t=u.title)||void 0===t?void 0:t.indexOf(b))||-1!==(null==u||null===(r=u.description)||void 0===r?void 0:r.indexOf(b))||-1!==a.indexOf(b)||-1!==l.indexOf(b))})).map((function(e){var i,s,l;return o(o({},e),{},{title:(null==e||null===(i=e.metadata)||void 0===i?void 0:i.title)||e.label||e.title||e.name,description:(null==e||null===(s=e.metadata)||void 0===s?void 0:s.description)||e._abstract,selected:r===e.name,preview:e.format&&a.createElement(p,{backgroundColor:"#333333",texts:[{text:(l=e.format,{sld:"SLD",css:"CSS",mbstyle:"MBS"}[l]||l||"").toUpperCase(),fill:y[e.format]||"#f2f2f2",style:{fontSize:70,fontWeight:"bold"}}]})||a.createElement(f,{glyph:"geoserver"}),tools:t&&n===e.name?a.createElement(f,{glyph:"star",tooltipId:"styleeditor.defaultStyle"}):null})}))}))}},"./MapStore2/web/client/components/styleeditor/StyleTemplates.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./MapStore2/node_modules/lodash/lodash.js").head,l=r("./node_modules/react-bootstrap/es/index.js"),c=l.Form,u=l.FormGroup,p=l.FormControl,d=l.ControlLabel,f=l.Alert,m=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),y=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),b=r("./MapStore2/web/client/components/misc/Loader.jsx"),g=r("./MapStore2/web/client/components/misc/cardgrids/SquareCard.jsx"),h=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js"),v=h("filterPlaceholder")(r("./MapStore2/web/client/components/misc/Filter.jsx")),S=h("placeholder")(p),w=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),O=r("./MapStore2/web/client/components/misc/Portal.jsx"),j=r("./MapStore2/web/client/components/I18N/Message.jsx"),E=r("./MapStore2/web/client/components/I18N/HTML.jsx"),x=r("./MapStore2/web/client/components/styleeditor/SVGPreview.jsx"),P=y((function(e){return 0===e.items.length}),{title:a.createElement(j,{msgId:"styleeditor.filterMatchNotFound"}),glyph:"1-stilo"})(r("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx")),T=function(e){var t=e.title,r=e._abstract,n=/^[a-zA-Z0-9\s]*$/,o=t&&null!==t.match(n);return o&&!r||o&&r&&null!==r.match(n)};e.exports=function(e){var t=e.selectedStyle,r=e.add,n=e.styleSettings,l=void 0===n?{}:n,p=e.geometryType,y=void 0===p?"":p,h=e.templates,M=void 0===h?[]:h,A=e.filterText,C=e.availableFormats,_=void 0===C?["sld","css"]:C,I=e.formFields,R=void 0===I?[{key:"title",placeholder:"styleeditor.titleSettingsplaceholder",title:a.createElement(j,{msgId:"styleeditor.titleSettings"})},{key:"_abstract",placeholder:"styleeditor.abstractSettingsplaceholder",title:a.createElement(j,{msgId:"styleeditor.abstractSettings"})}]:I,L=e.onFilter,D=void 0===L?function(){}:L,k=e.onSelect,N=void 0===k?function(){}:k,F=e.onClose,G=void 0===F?function(){}:F,U=e.onSave,B=void 0===U?function(){}:U,z=e.onUpdate,W=void 0===z?function(){}:z,V=e.loading;return a.createElement(m,{header:a.createElement("div",null,a.createElement(v,{filterPlaceholder:"styleeditor.templateFilterPlaceholder",filterText:A,onFilter:D}),a.createElement("div",{className:"text-center"},a.createElement("small",null,V?a.createElement(b,{size:15,style:{display:"inline-block"}}):a.createElement(j,{msgId:"styleeditor.createStyleFromTemplate"}))))},a.createElement(P,{colProps:{},cardComponent:g,onItemClick:function(e){var t=e.code,r=e.styleId,n=e.format;N({code:t,templateId:r,format:n||"css"}),W(o(o({},l),{},{title:s(M.filter((function(e){return e.styleId===r})).map((function(e){return e.title})))}))},items:M.filter((function(e){var t=e.title;return!A||A&&-1!==t.indexOf(A)})).filter((function(e){var t=e.types,r=e.format;return!t||s(t.filter((function(e){return e===y})))&&-1!==_.indexOf(r)})).map((function(e){var r;return o(o({},e),{},{preview:(null==e||null===(r=e.preview)||void 0===r?void 0:r.config)?a.createElement(x,e.preview.config):null==e?void 0:e.preview,selected:e.styleId===t,disabled:V})}))}),a.createElement(O,null,a.createElement(w,{show:!!r,fitContent:!0,title:a.createElement(j,{msgId:"styleeditor.createStyleModalTitle"}),onClose:function(){return G()},buttons:[{text:a.createElement(j,{msgId:"save"}),bsStyle:"primary",disabled:!T(l),onClick:function(){return B(l)}}]},a.createElement(c,null,a.createElement(u,{controlId:"styleTitle",validationState:!T(l)&&"error"},R.map((function(e){var t=e.title,r=e.placeholder,n=e.key;return a.createElement("span",{key:n},a.createElement(d,null,t),a.createElement(S,{type:"text",defaultValue:l[n],placeholder:r,onChange:function(e){return W(o(o({},l),{},i({},n,e.target.value)))}}))}))),!T(l)&&a.createElement(f,{style:{margin:0},bsStyle:"danger"},a.createElement(E,{msgId:"styleeditor.titleRequired"}))))))}},"./MapStore2/web/client/components/styleeditor/StyleToolbar.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),l=r("./MapStore2/web/client/components/misc/Portal.jsx"),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r("./node_modules/react-bootstrap/es/index.js").Alert;e.exports=function(e){var t=e.status,r=e.buttons,o=void 0===r?[]:r,p=e.templateId,d=e.error,f=e.isCodeChanged,m=e.showModal,y=e.onShowModal,b=e.loading,g=e.selectedStyle,h=e.layerDefaultStyleName,v=e.editEnabled,S=e.enableSetDefaultStyle,w=e.defaultStyles,O=void 0===w?["generic","point","line","polygon","raster"]:w,j=e.onBack,E=void 0===j?function(){}:j,x=e.onAdd,P=void 0===x?function(){}:x,T=e.onReset,M=void 0===T?function(){}:T,A=e.onDelete,C=void 0===A?function(){}:A,_=e.onSelectStyle,I=void 0===_?function(){}:_,R=e.onEditStyle,L=void 0===R?function(){}:R,D=e.onUpdate,k=void 0===D?function(){}:D,N=e.onSetDefault,F=void 0===N?function(){}:N,G=e.disableCodeEditing;return i.createElement("div",null,i.createElement(a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"arrow-left",visible:!!t,tooltipId:"styleeditor.backToList",disabled:!!b,onClick:function(){"edit"===t&&f?y({title:i.createElement(c,{msgId:"styleeditor.closeWithoutSaveAlertTitle"}),message:i.createElement(u,{bsStyle:"warning",style:{margin:0}},i.createElement(c,{msgId:"styleeditor.closeWithoutSaveAlert"})),buttons:[{text:i.createElement(c,{msgId:"close"}),bsStyle:"primary",onClick:function(){y(null),E(),M()}}]}):(E(),M())}},{glyph:"1-stilo",tooltipId:"styleeditor.createNewStyle",visible:!(t||!v),disabled:!!b,onClick:function(){return I()}},{glyph:"code",tooltipId:"styleeditor.editSelectedStyle",visible:!(t||!v),disabled:!!b||-1!==O.indexOf(g)||!g&&-1!==O.indexOf(h)||G,onClick:function(){return L()}},{glyph:"ok",tooltipId:"styleeditor.saveCurrentStyle",disabled:!!(d&&d.edit&&d.edit.status)||!!b||-1!==O.indexOf(g),visible:!("edit"!==t||!v),onClick:function(){return k()}},{glyph:"plus",tooltipId:"styleeditor.addSelectedTemplate",visible:!("template"!==t||!p||!v),disabled:!!b,onClick:function(){return P()}},{glyph:"trash",tooltipId:"styleeditor.deleteSelectedStyle",disabled:!!b||-1!==O.indexOf(g)||!g,visible:!(t||!v),onClick:function(){y({title:i.createElement(c,{msgId:"styleeditor.deleteStyleAlertTitle"}),message:i.createElement(u,{bsStyle:"warning",style:{margin:0}},i.createElement(c,{msgId:"styleeditor.deleteStyleAlert"})),buttons:[{text:i.createElement(c,{msgId:"styleeditor.delete"}),bsStyle:"primary",onClick:function(){y(null),C(g)}}]})}},{glyph:"star",tooltipId:"styleeditor.setDefaultStyle",disabled:!!b||-1!==O.indexOf(g)||!g,visible:!(!S||t||!v),onClick:function(){return F()}}].concat(n(t?[]:o))}),i.createElement(l,null,i.createElement(s,{show:m,fitContent:!0,title:m&&m.title,onClose:function(){return y(null)},buttons:m&&m.buttons},m&&m.message)))}},"./MapStore2/web/client/components/styleeditor/hint/geocss.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./MapStore2/node_modules/lodash/lodash.js").head,c={short:"number",float:"number",double:"number",long:"number",decimal:"number",int:"number"};e.exports=function(e){var t=e.Pos;e.registerHelper("hint","geocss",(function(r){var o=r.getCursor(),i=r.getTokenAt(o),s=r.getLineTokens(o.line),u=s&&l(s.filter((function(e){var t=e.type,r=e.start;return"property"===t&&r<i.start})).map((function(e){return e.string}))),p=e.innerMode(r.getMode(),i.state);if("geocss"!==p.mode.name)return null;var d=i.start,f=o.ch,m=i.string.slice(0,f-d);/[^\w$_-]/.test(m)&&(m="",d=f=o.ch);var y=e.resolveMode("text/geocss")||{},b=y.propertyKeywords,g=y.pseudoProperties,h=y.envKeywords,v=(e.getMode({},"text/geocss")||{}).hintProperties,S={},w=!1,O=p.state.state;"pseudo"===O||"variable-3"===i.type?S=a({},g):"prop"===O?(w=!0,S=b&&b[u]&&b[u].values&&a({},b[u].values)||{}):"variable-2"===i.type?S=a({},h):"filter"===i.type?(w=!0,S=a({},v)):"block"!==O&&"maybeprop"!==O||(S=a({},b));var j=Object.keys(S).reduce((function(e,t){var r=!m||0===t.lastIndexOf(m,0);return[].concat(n(e),n(r&&[t]||[]))}),[]);return(j=0===j.length&&w?Object.keys(S).reduce((function(e,t){return[].concat(n(e),[t])}),[]):n(j)).length>0?{list:j.map((function(e){return{text:e,displayText:e,render:function(e,t,r){var n,o,i=document.createElement("span"),a=(n=S[r.displayText]||{},o=n.localPart,("gml"===n.prefix?"geometry":c[o])||o||"");i.innerHTML=a&&'{<span class="cm-desc">'.concat(a,"</span>} ")||"";var s=document.createElement("span");s.innerText=r.displayText,e.appendChild(i),e.appendChild(s)}}})),from:t(o.line,d),to:t(o.line,f)}:null}))}},"./MapStore2/web/client/components/styleeditor/mode/geocss.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=r("./MapStore2/node_modules/lodash/lodash.js"),l=s.startsWith,c=s.trim;e.exports=function(e){e.defineMode("geocss",(function(t){var r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.indentUnit,s=o.propertyKeywords&&o||e.resolveMode("text/geocss"),u=s.propertyKeywords,p=void 0===u?{}:u,d=s.colorKeywords,f=void 0===d?{}:d,m=s.valueKeywords,y=void 0===m?{}:m,b=s.logicKeywords,g=void 0===b?{}:b,h=s.allowNested,v={},S=function(e,t){return r=t,e},w=function(e){return function(t,r){for(var n=!1,o=t.next();o;){if(o===e&&!n){")"===e&&t.backUp(1);break}n=!n&&"\\"===o,o=t.next()}return(o===e||!n&&")"!==e)&&(r.tokenize=null),S("string","string")}},O=function(e,t){for(var r=!1,n=e.next();n;){if(r&&"/"===n){t.tokenize=null;break}r="*"===n,n=e.next()}return["comment","comment"]},j=function(e,t){var r=e.next();if("@"===r)return e.eat("{")?[null,"interpolation"]:e.match(/^(sd|scale)\b/)?["filter",null]:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]);if("/"===r)return e.eat("*")?(t.tokenize=O,O(e,t)):["operator","operator"];if('"'===r||"'"===r)return t.tokenize=w(r),t.tokenize(e,t);if("#"===r)return e.eatWhile(/[\w\\\-]/),S("atom","hash");if(/\d/.test(r)||"."===r&&e.eat(/\d/))return e.eatWhile(/[\w.%]/),S("number","unit");if("-"===r){if(/[\d.]/.test(e.peek()))return e.eatWhile(/[\w.%]/),S("number","unit");if(e.match(/^-[\w\\\-]+/))return e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?S("variable-2","variable-definition"):S("variable-2","variable");if(e.match(/^\w+-/))return S("meta","meta")}else{if(/[,+>*\/]/.test(r))return S(null,"select-op");if("."===r&&e.match(/^-?[_a-z][_a-z0-9-]*/i))return S("qualifier","qualifier");if(/[:;{}\[\]\(\)]/.test(r))return S(null,r);if(/[\w\\\-]/.test(r))return e.eatWhile(/[\w\\\-]/),S("property","word")}return S(null,null)};function E(e,t,r){this.type=e,this.indent=t,this.prev=r}var x=function(e,t,r,n){return e.context=new E(r,t.indentation()+(!1===n?0:i),e.context),r},P=function(e){return e.context.prev&&(e.context=e.context.prev),e.context.type},T=function(e,t,r){return v[r.context.type](e,t,r)},M=function(e,t,r,n){for(var o=n||1;o>0;o--)r.context=r.context.prev;return T(e,t,r)},A=function(e){var t=e.current().toLowerCase();n=y.hasOwnProperty(t)?"atom":f.hasOwnProperty(t)?"keyword":"variable"};return v.top=function(e,t,r){if("{"===e)return x(r,t,"block");if("}"===e&&r.context.prev)return P(r);if("hash"===e)n="builtin";else if("word"===e)n="tag";else{if("variable-definition"===e)return"maybeprop";if("interpolation"===e)return x(r,t,"interpolation");if(":"===e)return"pseudo";if(h&&"("===e)return x(r,t,"parens")}return r.context.type},v.block=function(e,t,r){if("word"===e){var o=t.current().toLowerCase();return p.hasOwnProperty(o)?(n="property","maybeprop"):g.hasOwnProperty(c(o))?(n="logic","maybeprop"):l(c(t.string),"[")?(n="filter","maybeprop"):(n+=" error","maybeprop")}return"meta"===e?"block":h||"hash"!==e&&"qualifier"!==e?v.top(e,t,r):(n="error","block")},v.maybeprop=function(e,t,r){return":"===e?x(r,t,"prop"):T(e,t,r)},v.prop=function(e,t,r){if(";"===e)return P(r);if("{"===e&&h)return x(r,t,"propBlock");if("}"===e||"{"===e)return M(e,t,r);if("("===e)return x(r,t,"parens");if("hash"!==e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"===e)A(t);else if("interpolation"===e)return x(r,t,"interpolation")}else n+=" error";return"prop"},v.propBlock=function(e,t,r){return"}"===e?P(r):"word"===e?(n="property","maybeprop"):r.context.type},v.parens=function(e,t,r){return"{"===e||"}"===e?M(e,t,r):")"===e?P(r):"("===e?x(r,t,"parens"):"interpolation"===e?x(r,t,"interpolation"):("word"===e&&A(t),"parens")},v.pseudo=function(e,t,o){return"word"===e?(n="variable-3",o.context.type):T(r,t,o)},v.at=function(e,t,r){return";"===e?P(r):"{"===e||"}"===e?M(e,t,r):("word"===e?n="tag":"hash"===e&&(n="builtin"),"at")},v.interpolation=function(e,t,r){return"}"===e?P(r):"{"===e||";"===e?M(e,t,r):("word"===e?n="variable":"variable"!==e&&"("!==e&&")"!==e&&(n="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",stateArg:null,context:new E("block",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var o=(t.tokenize||j)(e,t);return o&&"object"===a(o)&&(r=o[1],o=o[0]),n=o,t.state=v[t.state](r,e,t),n},indent:function(e,t){var r=e.context,n=t&&t.charAt(0),o=r.indent;return"prop"!==r.type||"}"!==n&&")"!==n||(r=r.prev),r.prev&&("}"!==n||"block"!==r.type&&"top"!==r.type&&"interpolation"!==r.type?(")"===n&&"parens"===r.type||"{"===n&&("at"===r.type||"atBlock"===r.type))&&(o=Math.max(0,r.indent-i),r=r.prev):o=(r=r.prev).indent),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}}));var t={colorKeywords:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],valueKeywords:["round"],pseudoProperties:["mark","shield","stroke","fill","symbol","nth-mark","nth-shield","nth-stroke","nth-fill","nth-symbol"],logicKeywords:["and","or"]};e.defineMIME("text/geocss",o(o({},Object.keys(t).reduce((function(e,r){return o(o({},e),{},i({},r,t[r].reduce((function(e,t){return o(o({},e),{},i({},t,!0))}),{})))}),{})),{},{propertyKeywords:{mark:{values:{"symbol(circle)":!0}},"mark-composite":!0,"mark-mime":!0,"mark-geometry":!0,"mark-size":!0,"mark-rotation":!0,"mark-label-obstacle":!0,"mark-anchor":!0,"mark-offset":!0,"z-index":!0,stroke:!0,"stroke-composite":!0,"stroke-geometry":!0,"stroke-offset":!0,"stroke-mime":!0,"stroke-opacity":!0,"stroke-width":!0,"stroke-size":!0,"stroke-rotation":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-repeat":!0,"stroke-label-obstacle":!0,fill:!0,"fill-composite":!0,"fill-geometry":!0,"fill-mime":!0,"fill-opacity":!0,"fill-size":!0,"fill-rotation":!0,"fill-label-obstacle":!0,"graphic-margin":!0,random:!0,"random-seed":!0,"random-rotation":!0,"random-symbol-count":!0,"random-tile-size":!0,"fill-random":!0,"fill-random-seed":!0,"fill-random-rotation":!0,"fill-random-symbol-count":!0,"fill-random-tile-size":!0,label:!0,"label-geometry":!0,"label-anchor":!0,"label-offset":!0,"label-rotation":!0,"label-z-index":!0,shield:!0,"shield-mime":!0,"font-family":!0,"font-fill":!0,"font-style":!0,"font-weight":!0,"font-size":!0,"halo-radius":!0,"halo-color":!0,"halo-opacity":!0,"label-padding":!0,"label-group":!0,"label-max-displacement":!0,"label-min-group-distance":!0,"label-repeat":!0,"label-all-group":!0,"label-remove-overlaps":!0,"label-allow-overruns":!0,"label-follow-line":!0,"label-max-angle-delta":!0,"label-auto-wrap":!0,"label-force-ltr":!0,"label-conflict-resolution":!0,"label-fit-goodness":!0,"label-priority":!0,"shield-resize":!0,"shield-margin":!0,"label-underline-text":!0,"label-strikethrough-text":!0,"label-char-spacing":!0,"label-word-spacing":!0,"raster-channels":!0,"raster-composite":!0,"raster-geometry":!0,"raster-opacity":!0,"raster-contrast-enhancement":!0,"raster-contrast-enhancement-algorithm":!0,"raster-contrast-enhancement-min":!0,"raster-contrast-enhancement-max":!0,"raster-gamma":!0,"raster-z-index":!0,"raster-color-map":!0,"raster-color-map-type":!0,composite:!0,"composite-base":!0,geometry:!0,"sort-by":!0,"sort-by-group":!0,transform:!0,size:!0,rotation:!0},envKeywords:{sd:{localPart:"env"},scale:{localPart:"env"}},allowNested:!0,name:"geocss"}))}},"./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/react/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Form,b=m.FormGroup,g=m.FormControl,h=m.Glyphicon,v=m.Button,S=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(h),w=r("./MapStore2/node_modules/lodash/lodash.js"),O=w.padStart,j=w.isNil,E=r("./node_modules/moment/moment.js"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onUpdate",(function(t,r){var n=E(e.props.date).utc(),o=r?E(n).add(1,t):E(n).subtract(1,t);o.isValid()&&!isNaN(o.toDate().getTime())&&e.props.onUpdate(o.toISOString())})),p(c(e),"onChange",(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if(""!==r){var o=E(e.props.date).utc(),i=o["day"===t?"date":t]&&E(o)["day"===t?"date":t](n(r));i.isValid()&&!isNaN(i.toDate().getTime())&&e.props.onUpdate(i.toISOString())}})),p(c(e),"getForm",(function(){var t=e.props.date&&E(e.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:t&&t.date()},{name:"month",placeholder:"MM",readOnly:!0,value:t&&t.month(),format:function(e){return!j(e)&&""!==e&&E.monthsShort(e)},parseValue:function(e){return e-1}},{name:"year",placeholder:"YYYY",value:t&&t.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:t&&t.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:t&&t.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:t&&t.seconds()},{name:"separator",value:t&&t.utcOffset(),type:"separator",format:function(e){return"UTC "+(e>=0?"+":"-")+O(e/60,2,0)}}]})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=this.getForm();return d.createElement(y,{className:"ms-inline-datetime ".concat(this.props.className),style:this.props.style},d.createElement(b,{controlId:"inlineDateTime"},this.props.glyph&&d.createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return e.props.clickable&&e.props.onIconClick(e.props.date,e.props.glyph)}},d.createElement(S,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),t.map((function(t){return"icon"===t.type&&d.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},d.createElement(S,{glyph:t.value}))||"separator"===t.type&&d.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},t.format&&t.format(t.value)||t.value)||d.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},e.props.showButtons&&d.createElement(v,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name,!0)}},d.createElement(S,{glyph:"chevron-up"})),d.createElement(g,{type:"text",readOnly:t.readOnly,placeholder:t.placeholder||t.name,disabled:!e.props.date,value:t.format&&t.format(t.value)||t.value,onChange:function(r){return e.onChange(t.name,r.target.value,t.parseValue)}}),e.props.showButtons&&d.createElement(v,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name)}},d.createElement(S,{glyph:"chevron-down"})))}))))}}])&&i(t.prototype,r),n&&i(t,n),u}(d.Component);p(x,"propTypes",{date:f.string,clickable:f.bool,onUpdate:f.func,onIconClick:f.func,glyph:f.string,style:f.object,className:f.string,tooltip:f.string,tooltipId:f.string,showButtons:f.bool}),p(x,"defaultProps",{date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""}),e.exports=x},"./MapStore2/web/client/components/time/TimelineComponent.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/moment/moment.js"),b=r("./node_modules/vis/dist/vis-timeline-graph2d.min.js");b.timeline.components.items.BackgroundItem.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},r("./node_modules/vis/dist/vis-timeline-graph2d.min.css");var g=r("./MapStore2/node_modules/lodash/lodash.js"),h=g.difference,v=g.differenceBy,S=g.keys,w=g.intersection,O=g.intersectionBy,j=g.each,E=g.omit,x=g.assign,P=function(){},T=["currentTimeTick","click","contextmenu","doubleClick","groupDragged","changed","rangechange","rangechanged","select","drop","timechange","timechanged","mouseOver","mouseMove","mouseleave","itemover","itemout","mouseDown","mouseUp"],M={},A={};j(T,(function(e){return M[e]=m.func,A["".concat(e,"Handler")]=P,[M,A]}));var C={items:m.array,rangeItems:m.array,groups:m.array,options:m.object,selectionOptions:m.object,selection:m.array,customTimes:m.shape({datetime:m.instanceOf(Date),id:m.string}),animate:m.oneOfType([m.bool,m.object]),currentTime:m.oneOfType([m.string,m.instanceOf(Date),m.number])},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,r,n,i=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),d(u(t=i.call(this,e)),"setAllItems",(function(e){t.$el.setItems([].concat(o(e||[]),o(t.props.rangeItems||[])))})),d(u(t),"setItems",(function(e){(e.length||0)+(t.props.rangeItems&&t.props.rangeItems.length||0)>0?t.$el.initialFitDone?t.setAllItems(e):(t.setAllItems(e),t.$el.emit("changed")):t.$el.initialRangeChangeDone&&t.setAllItems(e)})),t.state={customTimes:[]},t}return t=c,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.refs.container;this.$el=new b.Timeline(t,void 0,this.props.options),T.forEach((function(t){return e.$el.on(t,e.props["".concat(t,"Handler")])})),this.init()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,r=t.items,n=t.groups,o=t.options,i=t.selection,a=t.customTimes,s=t.readOnly,l=t.rangeItems,c=r!==e.items,u=n!==e.groups,p=o!==e.options,d=a!==e.customTimes,f=i!==e.selection,m=s!==e.readOnly,y=l!==e.rangeItems;return c||u||p||d||f||m||y}},{key:"componentDidUpdate",value:function(e){this.init(e)}},{key:"componentWillUnmount",value:function(){this.$el.destroy()}},{key:"render",value:function(){return f.createElement("div",{ref:"container",className:this.props.readOnly?"read-only-timeline":"",onMouseOut:this.props.onMouseOutHandler})}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.props,n=r.items,o=r.rangeItems,i=r.groups,a=r.options,s=r.selection,l=r.selectionOptions,c=void 0===l?{}:l,u=r.customTimes,p=r.animate,d=void 0===p||p,f=r.currentTime,m=a;if(d&&(m=E(a,"start","end"),a.start&&a.end?this.$el.setWindow(a.start,a.end,{animation:d}):this.$el.setWindow(y().subtract(1,"month"),y().add(1,"month"),{animation:d})),this.$el.setOptions(m),i.length>0){var g=new b.DataSet;g.add(i),this.$el.setGroups(g)}if(n&&n!==t.items)this.setItems(n);else if(o!==t.rangeItems){var x=this.$el&&this.$el.itemsData&&this.$el.itemsData.getDataSet();if(x){var P=O(o||[],t.rangeItems||[],"id"),T=v(o||[],t.rangeItems||[],"id"),M=v(t.rangeItems||[],o||[],"id");P.map((function(e){return x.update(e)})),T.map((function(e){return x.add(e)})),M.map((function(e){var t=e.id;return x.remove(t)}))}else this.setItems(n)}this.$el.setSelection(s,c),f&&this.$el.setCurrentTime(f);var A=S(this.state.customTimes),C=S(u),_=h(C,A),I=h(A,C),R=w(A,C);j(I,(function(t){return e.$el.removeCustomTime(t)})),j(_,(function(t){var r=u[t];e.$el.addCustomTime(r,t)})),j(R,(function(t){var r=u[t];e.$el.setCustomTime(r,t)})),this.setState({customTimes:u}),(this.props.readOnly!==t.readOnly||this.props.readOnly&&_.length>0)&&j(this.$el.customTimes,(function(r){e.props.readOnly?r.hammer.off("panstart panmove panend"):!0===t.readOnly&&(r.hammer.on("panstart",r._onDragStart.bind(r)),r.hammer.on("panmove",r._onDrag.bind(r)),r.hammer.on("panend",r._onDragEnd.bind(r)))}))}}])&&a(t.prototype,r),n&&a(t,n),c}(f.Component);d(_,"propTypes",x(C,M)),d(_,"defaultProps",x({items:[],groups:[],options:{},selection:[],customTimes:{}},A)),e.exports=_},"./MapStore2/web/client/components/time/enhancers/customTimesEnhancer.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.withPropsOnChange,p=l.withHandlers,d=r("./MapStore2/web/client/utils/TimeUtils.js").getStartEnd;e.exports=c(u(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(e){var t=e.rangeItems,r=void 0===t?[]:t,n=e.playbackEnabled,i=e.playbackRange;return{rangeItems:n&&i&&void 0!==i.startPlaybackTime&&void 0!==i.endPlaybackTime?[].concat(a(r),[o(o({id:"playback-range"},d(i.startPlaybackTime,i.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(e){return e})):r}})),c(p({onUpdate:function(e){var t=e.moveCurrentRange,r=void 0===t?function(){}:t;return function(e){var t=e.id,n=e.start;"current-range"===t&&r(n.toISOString())}}}),u(["options","onUpdate"],(function(e){var t=e.options,r=void 0===t?{}:t,n=e.onUpdate,i=void 0===n?function(){}:n;return{options:o(o({},r),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;i(e),t(e)}})}})),u(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(e){var t=e.currentTimeRange,r=e.rangeItems,n=void 0===r?[]:r,i=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat(a(n),[o(o({id:"current-range",editable:{updateTime:!i,updateGroup:!1,remove:!1}},d(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(e){return e})):n}}))),u(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(e){var t=e.currentTime,r=e.playbackRange,n=e.playbackEnabled,i=e.offsetEnabled,a=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},n&&r&&r.startPlaybackTime&&r.endPlaybackTime?r:{},i&&a?{offsetTime:a.end}:{}].reduce((function(e,t){return t?o(o({},e),t):o({},e)}),{})}})))},"./MapStore2/web/client/components/time/enhancers/customTimesHandlers.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js").withHandlers,s=r("./MapStore2/node_modules/lodash/lodash.js").trim,l=r("./node_modules/moment/moment.js"),c=function(e,t){return l(t).diff(e)>0},u=r("./MapStore2/web/client/utils/TimeUtils.js").getStartEnd;e.exports=a({clickHandler:function(e){var t=e.selectedLayer,r=e.offsetEnabled,n=e.status,o=e.setCurrentTime,i=void 0===o?function(){}:o,a=e.selectGroup,l=void 0===a?function(){}:a;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.time,a=e.group,c=e.what,u=e.event;if("PLAY"!==n)switch(c){case"group-label":a&&"PLAY"!==n&&l(a);break;default:var p=u&&u.target&&u.target.closest(".vis-custom-time"),d=p&&p.getAttribute("class"),f=d&&s(d.replace("vis-custom-time",""));o&&!r&&"startPlaybackTime"!==f&&"endPlaybackTime"!==f&&i(o.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,r=e.setOffset,n=void 0===r?function(){}:r,a=e.setCurrentTime,s=void 0===a?function(){}:a,l=e.currentTimeRange,p=void 0===l?{}:l,d=e.playbackRange,f=e.setPlaybackRange,m=void 0===f?function(){}:f,y=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.time,a=e.id;if("startPlaybackTime"!==a&&"endPlaybackTime"!==a)"currentTime"===a&&(p.end?c(r,p.end)?s(r.toISOString(),null):(s(p.end),n(r.toISOString())):s(r.toISOString(),y)),"offsetTime"===a&&(c(t,r)?n(r.toISOString()):(s(r.toISOString()),n(t)));else{var l=o(o({},d),{},i({},a,r.toISOString())),f=u(l.startPlaybackTime,l.endPlaybackTime),b=f.start,g=f.end;c(b,g)&&m({startPlaybackTime:b,endPlaybackTime:g})}}}})},"./MapStore2/web/client/components/widgets/builder/BuilderHeader.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Button,a=o.Row,s=o.Col,l=o.Glyphicon,c=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,o=e.children;return n.createElement("div",{className:"mapstore-flex-container"},n.createElement("div",{className:"m-header bg-body widgets-builder-header"},n.createElement(a,null,n.createElement(s,{md:12,className:"text-center",style:{overflow:"hidden",lineHeight:"52px"}},n.createElement(i,{onClick:function(){return r()},className:"pull-left on-close-btn square-button no-border "},n.createElement(l,{glyph:"1-close"})),n.createElement("span",{style:{padding:"50px 0 0 0",fontSize:16}},n.createElement(c,{msgId:"widgets.builder.header.title"})),n.createElement("div",{style:{display:"flex"},className:"square-button pull-right no-border"},n.createElement(l,{glyph:"stats",className:"text-primary"})))),n.createElement(a,{className:"text-center"},n.createElement("div",{className:"m-padding-md"},o))))}},"./MapStore2/web/client/components/widgets/builder/WidgetTypeSelector.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=r("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx"),c=r("./MapStore2/web/client/components/misc/FitIcon.jsx"),u=[{title:a.createElement(s,{msgId:"widgets.types.chart.title"}),type:"chart",caption:a.createElement(s,{msgId:"widgets.types.chart.caption"}),glyph:"stats",className:"ms-widget-selector-chart"},{title:a.createElement(s,{msgId:"widgets.types.text.title"}),type:"text",glyph:"sheet",caption:a.createElement(s,{msgId:"widgets.types.text.caption"}),className:"ms-widget-selector-text"},{title:a.createElement(s,{msgId:"widgets.types.table.title"}),type:"table",glyph:"features-grid",caption:a.createElement(s,{msgId:"widgets.types.table.caption"}),className:"ms-widget-selector-table"},{title:a.createElement(s,{msgId:"widgets.types.counter.title"}),type:"counter",glyph:"counter",caption:a.createElement(s,{msgId:"widgets.types.counter.caption"}),className:"ms-widget-selector-counter"},{title:a.createElement(s,{msgId:"widgets.types.map.title"}),type:"map",glyph:"1-map",caption:a.createElement(s,{msgId:"widgets.types.map.caption"}),className:"ms-widget-selector-map"},{title:a.createElement(s,{msgId:"widgets.types.legend.title"}),type:"legend",glyph:"list",caption:a.createElement(s,{msgId:"widgets.types.legend.caption"}),className:"ms-widget-selector-legend"}];e.exports=function(e){var t=e.widgetTypes,r=void 0===t?u:t,n=e.typeFilter,i=void 0===n?function(){return!0}:n,s=e.onSelect,p=void 0===s?function(){}:s;return a.createElement(l,{key:"content",onItemClick:function(e){p(e.type)},items:r&&r.filter(i).map((function(e){return o(o({},e),{},{preview:a.createElement(c,{glyph:e.glyph,padding:20})})}))})}},"./MapStore2/web/client/components/widgets/builder/wizard/ChartWizard.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/misc/wizard/enhancers.js").wizardHandlers,a=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx")((function(e){var t=e.loading,r=e.data;return t||!r}),{width:500,height:200}),s=r("./MapStore2/web/client/components/widgets/builder/wizard/common/noAttributesEmptyView.js")((function(e){var t=e.featureTypeProperties;return 0===(void 0===t?[]:t).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=void 0===t?"":t;return 0!==r.indexOf("gml:")})).length}))(r("./MapStore2/web/client/components/widgets/builder/wizard/chart/ChartType.jsx")),l=r("./MapStore2/web/client/components/widgets/builder/wizard/common/wfsChartOptions.js")(r("./MapStore2/web/client/components/widgets/builder/wizard/common/WPSWidgetOptions.jsx")),c=r("./MapStore2/web/client/components/widgets/builder/wizard/common/WidgetOptions.jsx"),u=r("./MapStore2/web/client/components/widgets/enhancers/sampleChartData.js"),p=r("./MapStore2/web/client/components/widgets/enhancers/wpsChart.js"),d=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToWidget.js"),f=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToFilter.js"),m=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToOptions.js"),y=r("./MapStore2/web/client/components/widgets/enhancers/emptyChartState.js"),b=r("./MapStore2/web/client/components/widgets/enhancers/errorChartState.js"),g=r("./node_modules/recompose/es/Recompose.js"),h=g.compose,v=g.lifecycle,S=h(d,f,m,p,a,b,y)(r("./MapStore2/web/client/components/charts/SimpleChart.jsx")),w=u(r("./MapStore2/web/client/components/charts/SimpleChart.jsx")),O={width:430,height:200},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.aggregateFunction&&e.aggregationAttribute&&e.groupByAttributes},E=i(r("./MapStore2/web/client/components/misc/wizard/WizardContainer.jsx")),x=function(e){var t=e.data,r=void 0===t?{}:t,i=e.layer,a=e.dependencies,s=void 0===a?{}:a,l=e.setValid,c=void 0===l?function(){}:l,u=e.shortenChartLabelThreshold;return j(r.options)?o.createElement(S,n({key:"preview-chart",onLoad:function(){return c(!0)},onLoadError:function(){return c(!1)},isAnimationActive:!1,dependencies:s,dependenciesMap:r.dependenciesMap},O,{type:r.type,legend:r.legend,cartesian:r.cartesian,layer:r.layer||i,filter:r.filter,geomProp:r.geomProp,mapSync:r.mapSync,autoColorOptions:r.autoColorOptions,options:r.options,yAxis:r.yAxis,xAxisAngle:r.xAxisAngle,yAxisLabel:r.yAxisLabel,shortenChartLabelThreshold:u})):o.createElement(w,n({key:"sample-chart",isAnimationActive:!1},O,{type:r.type,autoColorOptions:r.autoColorOptions,legend:r.legend,cartesian:r.cartesian,yAxis:r.yAxis,shortenChartLabelThreshold:u}))},P=h(v({UNSAFE_componentWillReceiveProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t,n=e.valid,o=e.setValid,i=void 0===o?function(){}:o;n&&!j(r.options)&&i(!1)}}));e.exports=P((function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.onFinish,i=void 0===n?function(){}:n,a=e.setPage,u=void 0===a?function(){}:a,p=e.setValid,d=void 0===p?function(){}:p,f=e.data,m=void 0===f?{}:f,y=e.layer,b=void 0===y?{}:y,g=e.step,h=void 0===g?0:g,v=e.types,S=e.featureTypeProperties,w=e.dependencies,O=e.shortenChartLabelThreshold;return o.createElement(E,{step:h,setPage:u,onFinish:i,isStepValid:function(e){return 0===e?m.chartType:1!==e||j(m.options)},hideButtons:!0},o.createElement(s,{key:"type",featureTypeProperties:S,type:m.type,onSelect:function(e){r("type",e)}}),o.createElement(l,{dependencies:w,key:"chart-options",featureTypeProperties:S,types:v,data:m,onChange:r,layer:m.layer||b,sampleChart:x({data:m,layer:m.layer||b,dependencies:w,setValid:function(e){return d(e&&j(m.options))},shortenChartLabelThreshold:O})}),o.createElement(c,{key:"widget-options",data:m,onChange:r,layer:m.layer||b,sampleChart:x({data:m,layer:m.layer||b,dependencies:w,setValid:function(e){return d(e&&j(m.options))},shortenChartLabelThreshold:O})}))}))},"./MapStore2/web/client/components/widgets/builder/wizard/CounterWizard.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/node_modules/lodash/lodash.js").isNil,a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.lifecycle,c=r("./MapStore2/web/client/components/misc/wizard/enhancers.js").wizardHandlers,u=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx")((function(e){var t=e.loading,r=e.data;return t||!r}),{width:500,height:200}),p=r("./MapStore2/web/client/components/widgets/builder/wizard/common/wfsChartOptions.js")(r("./MapStore2/web/client/components/widgets/builder/wizard/common/noAttributesEmptyView.js")((function(e){var t=e.options;return 0===(void 0===t?[]:t).length}))(r("./MapStore2/web/client/components/widgets/builder/wizard/common/WPSWidgetOptions.jsx"))),d=r("./MapStore2/web/client/components/widgets/builder/wizard/common/WidgetOptions.jsx"),f=r("./MapStore2/web/client/components/widgets/enhancers/wpsCounter.js"),m=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToFilter.js"),y=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToOptions.js"),b=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToWidget.js"),g=r("./MapStore2/web/client/components/widgets/enhancers/emptyChartState.js"),h=r("./MapStore2/web/client/components/widgets/enhancers/errorChartState.js"),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.aggregateFunction&&e.aggregationAttribute},S=s(l({UNSAFE_componentWillReceiveProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.valid,r=e.data,n=void 0===r?[]:r,o=e.options,a=void 0===o?{}:o,s=e.setValid,l=void 0===s?function(){}:s,c=e.error,u=!i(n[0])&&!c;!!t!=!!u&&v(a)&&l(u)}})),w=s(b,m,y,f,S,u,h,g),O={style:{width:450,height:100}},j=c(r("./MapStore2/web/client/components/misc/wizard/WizardContainer.jsx")),E=r("./MapStore2/web/client/components/widgets/widget/CounterView.jsx"),x=w(E),P=function(e){var t=e.data,r=void 0===t?{}:t,i=e.layer,a=e.dependencies,s=void 0===a?{}:a,l=e.valid,c=e.setValid,u=void 0===c?function(){}:c;return v(r.options)?o.createElement(x,n({},O,{valid:l,dependenciesMap:r.dependenciesMap,dependencies:s,setValid:u,type:r.type,legend:r.legend,layer:r.layer||i,filter:r.filter,geomProp:r.geomProp,mapSync:r.mapSync,options:r.options})):o.createElement(E,n({},O,{data:[{data:42}],options:r.options,series:[{dataKey:"data"}]}))},T=s(l({UNSAFE_componentWillReceiveProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t,n=e.valid,o=e.setValid,i=void 0===o?function(){}:o;n&&!v(r.options)&&i(!1)}}));e.exports=T((function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.onFinish,i=void 0===n?function(){}:n,a=e.setPage,s=void 0===a?function(){}:a,l=e.setValid,c=void 0===l?function(){}:l,u=e.valid,f=e.formOptions,m=e.data,y=void 0===m?{}:m,b=e.layer,g=void 0===b?{}:b,h=e.step,S=void 0===h?0:h,w=e.types,O=e.featureTypeProperties,E=e.dependencies;return o.createElement(j,{step:S,setPage:s,onFinish:i,isStepValid:function(e){return 1!==e||v(y.options)},hideButtons:!0},o.createElement(p,{dependencies:E,key:"chart-options",formOptions:f,featureTypeProperties:O,types:w,data:y,onChange:r,layer:y.layer||g,sampleChart:o.createElement(P,{data:y,valid:u,layer:y.layer||g,dependencies:E,setValid:function(e){return c(e&&v(y.options))}})}),o.createElement(d,{key:"widget-options",data:y,onChange:r,layer:y.layer||g,sampleChart:o.createElement(P,{data:y,valid:u,layer:y.layer||g,dependencies:E,setValid:function(e){return c(e&&v(y.options))}})}))}))},"./MapStore2/web/client/components/widgets/builder/wizard/LegendWizard.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js").compose,i=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),a=r("./MapStore2/web/client/components/misc/wizard/enhancers.js").wizardHandlers,s=r("./node_modules/react-bootstrap/es/index.js"),l=s.Row,c=s.Col,u=r("./MapStore2/web/client/components/widgets/enhancers/legendWidget.js"),p=r("./MapStore2/web/client/components/widgets/builder/wizard/common/WidgetOptions.jsx"),d=a(r("./MapStore2/web/client/components/misc/wizard/WizardContainer.jsx")),f=r("./MapStore2/web/client/components/misc/wizard/StepHeader.jsx"),m=r("./MapStore2/web/client/components/I18N/Message.jsx"),y=r("./MapStore2/web/client/components/widgets/enhancers/emptyLegendState.js"),b=o(u,i((function(e){return!e.valid}),{title:n.createElement(m,{msgId:"widgets.builder.errors.noMapAvailableForLegend"}),description:n.createElement(m,{msgId:"widgets.builder.errors.noMapAvailableForLegendDescription"})}),y(!1))(r("./MapStore2/web/client/components/widgets/widget/LegendView.jsx"));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onChange,r=void 0===t?function(){}:t,o=e.onFinish,i=void 0===o?function(){}:o,a=e.setPage,s=void 0===a?function(){}:a,u=e.step,y=void 0===u?0:u,g=e.dependencies,h=e.valid,v=e.data,S=void 0===v?{}:v,w=e.currentLocale,O=e.language;return n.createElement(d,{step:y,setPage:s,onFinish:i,hideButtons:!0},n.createElement(l,null,n.createElement(f,{title:n.createElement(m,{msgId:"widgets.builder.wizard.preview"})}),n.createElement(c,{xs:12},n.createElement("div",{style:{marginBottom:"30px"}},n.createElement(b,{valid:h,dependencies:g,dependenciesMap:S.dependenciesMap,key:"widget-options",onChange:r,currentLocale:w,language:O})))),n.createElement(p,{key:"widget-options",onChange:r}))}},"./MapStore2/web/client/components/widgets/builder/wizard/MapWizard.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/widgets/builder/wizard/common/WidgetOptions.jsx"),i=(0,r("./MapStore2/web/client/components/misc/wizard/enhancers.js").wizardHandlers)(r("./MapStore2/web/client/components/misc/wizard/WizardContainer.jsx")),a=r("./MapStore2/web/client/components/widgets/builder/wizard/map/MapOptions.jsx"),s=r("./MapStore2/web/client/components/widgets/builder/wizard/map/PreviewMap.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onChange,r=void 0===t?function(){}:t,l=e.onFinish,c=void 0===l?function(){}:l,u=e.setPage,p=void 0===u?function(){}:u,d=e.step,f=void 0===d?0:d,m=e.selectedNodes,y=void 0===m?[]:m,b=e.onNodeSelect,g=void 0===b?function(){}:b,h=e.editorData,v=void 0===h?{}:h,S=e.editNode,w=e.setEditNode,O=void 0===w?function(){}:w,j=e.closeNodeEditor,E=void 0===j?function(){}:j,x=e.isLocalizedLayerStylesEnabled,P=e.env;return n.createElement(i,{step:f,setPage:p,onFinish:c,hideButtons:!0},n.createElement(a,{editNode:S,setEditNode:O,closeNodeEditor:E,onNodeSelect:g,selectedNodes:y,onChange:r,isLocalizedLayerStylesEnabled:x,preview:n.createElement(s,{onChange:r,layers:v.map&&v.map.layers,map:v.map,env:P,options:{style:{margin:10,height:"calc(100% - 20px)"}}}),map:v.map}),n.createElement(o,{key:"widget-options",data:v,onChange:r}))}},"./MapStore2/web/client/components/widgets/builder/wizard/TableWizard.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/wizard/enhancers.js").wizardHandlers,i=r("./MapStore2/web/client/components/widgets/builder/wizard/table/TableOptions.jsx"),a=r("./MapStore2/web/client/components/widgets/builder/wizard/common/WidgetOptions.jsx"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.aggregateFunction&&e.aggregationAttribute&&e.groupByAttributes},l=o(r("./MapStore2/web/client/components/misc/wizard/WizardContainer.jsx")),c=r("./node_modules/recompose/es/Recompose.js"),u=(0,c.compose)((0,c.lifecycle)({UNSAFE_componentWillReceiveProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?{}:t,n=e.valid,o=e.setValid,i=void 0===o?function(){}:o;n&&!s(r.options)&&i(!1)}}));e.exports=u((function(e){var t=e.onChange,r=void 0===t?function(){}:t,o=e.onFinish,c=void 0===o?function(){}:o,u=e.setPage,p=void 0===u?function(){}:u,d=e.data,f=void 0===d?{}:d,m=e.layer,y=void 0===m?{}:m,b=e.step,g=void 0===b?0:b,h=e.types,v=e.featureTypeProperties,S=e.dependencies;return n.createElement(l,{step:g,setPage:p,onFinish:c,isStepValid:function(e){return 1!==e||s(f.options)},hideButtons:!0},n.createElement(i,{dependencies:S,key:"chart-options",featureTypeProperties:v,types:h,data:f,onChange:r,layer:f.layer||y}),n.createElement(a,{key:"widget-options",data:f,onChange:r,layer:f.layer||y}))}))},"./MapStore2/web/client/components/widgets/builder/wizard/TextWizard.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/wizard/enhancers.js").wizardHandlers,i=r("./MapStore2/web/client/components/widgets/builder/wizard/text/TextOptions.jsx"),a=o(r("./MapStore2/web/client/components/misc/wizard/WizardContainer.jsx"));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onChange,r=void 0===t?function(){}:t,o=e.onFinish,s=void 0===o?function(){}:o,l=e.setPage,c=void 0===l?function(){}:l,u=e.step,p=void 0===u?0:u,d=e.editorData,f=void 0===d?{}:d;return n.createElement(a,{step:p,setPage:c,onFinish:s,hideButtons:!0},n.createElement(i,{key:"widget-options",data:f,onChange:r}))}},"./MapStore2/web/client/components/widgets/builder/wizard/chart/ChartType.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/recompose/es/Recompose.js").shouldUpdate,c=r("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx"),u=r("./MapStore2/web/client/components/I18N/Message.jsx"),p=r("./MapStore2/web/client/components/widgets/enhancers/sampleChartData.js")(r("./MapStore2/web/client/components/charts/SimpleChart.jsx")),d=r("./node_modules/react-bootstrap/es/index.js").Row,f={legend:!1,tooltip:!1,cartesian:!1,width:100,height:100,popup:!1},m=r("./MapStore2/web/client/components/misc/wizard/StepHeader.jsx"),y=[{type:"bar"},{type:"pie"},{type:"line"}].map((function(e){var t=e.type;return{type:t,title:s.createElement(u,{msgId:"widgets.chartType.".concat(t,".title")}),description:s.createElement(u,{msgId:"widgets.chartType.".concat(t,".description")}),caption:s.createElement(u,{msgId:"widgets.chartType.".concat(t,".caption")})}}));e.exports=l((function(e,t){var r=e.types,n=e.type,o=t.types;return n!==t.type&&r!==o}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onSelect,r=void 0===t?function(){}:t,o=e.onNextPage,a=void 0===o?function(){}:o,l=e.types,b=void 0===l?y:l,g=e.type;return s.createElement(d,null,s.createElement(m,{key:"title",title:s.createElement(u,{msgId:"widgets.selectChartType.title"})}),s.createElement(c,{key:"content",onItemClick:function(e){r(e.type),a()},items:b&&y.map((function(e){return i(i({},e),{},{selected:e.type===g,preview:s.createElement(p,n({},f,{type:e.type,autoColorOptions:e.type===g?{base:0,s:0,v:0}:void 0}))})}))}))}))},"./MapStore2/web/client/components/widgets/builder/wizard/chart/Toolbar.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=function(e){switch(e){case 1:return"widgets.builder.wizard.backToTypeSelection";case 2:return"widgets.builder.wizard.backToChartOptions";default:return"back"}},l=function(e){switch(e){case 0:return"widgets.builder.wizard.configureChartOptions";case 1:return"widgets.builder.wizard.configureWidgetOptions";default:return"next"}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id;return r?"widgets.builder.wizard.updateWidget":"widgets.builder.wizard.addTheWidget"};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,r=void 0===t?0:t,o=e.editorData,u=void 0===o?{}:o,p=e.valid,d=e.setPage,f=void 0===d?function(){}:d,m=e.onFinish,y=void 0===m?function(){}:m,b=e.stepButtons,g=void 0===b?[]:b,h=e.openFilterEditor,v=void 0===h?function(){}:h;return i.createElement(a,{btnDefaultProps:{bsStyle:"primary",bsSize:"sm"},buttons:[{onClick:function(){return f(Math.max(0,r-1))},visible:r>0,glyph:"arrow-left",tooltipId:s(r)}].concat(n(g),[{visible:r>0,onClick:v,glyph:"filter",tooltipId:"widgets.builder.setupFilter"},{onClick:function(){return f(Math.min(r+1,2))},visible:!(1!==r),disabled:1===r&&!p,glyph:"arrow-right",tooltipId:l(r)},{onClick:function(){return y(Math.min(r+1,1))},visible:2===r,glyph:"floppy-disk",tooltipId:c(r,u)}])})}},"./MapStore2/web/client/components/widgets/builder/wizard/common/WPSWidgetOptions.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=s.head,c=s.get,u=s.isNil,p=r("./node_modules/react-bootstrap/es/index.js"),d=p.Row,f=p.Col,m=p.Form,y=p.FormGroup,b=p.FormControl,g=p.ControlLabel,h=p.Glyphicon,v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=r("./node_modules/react-select/dist/react-select.es.js").default,w=r("./node_modules/react-nouislider/dist/react-nouislider.common.js"),O=r("./MapStore2/web/client/components/styleeditor/ColorRamp.jsx").default,j=r("./MapStore2/web/client/components/misc/wizard/StepHeader.jsx"),E=r("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),x=r("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),P=[{name:"global.colors.random",schema:"qualitative",options:{base:190,range:360,options:{}}},{name:"global.colors.blue",schema:"sequencial",options:{base:190,range:20}},{name:"global.colors.red",schema:"sequencial",options:{base:10,range:4}},{name:"global.colors.green",schema:"sequencial",options:{base:120,range:4}},{name:"global.colors.brown",schema:"sequencial",options:{base:30,range:4}},{name:"global.colors.purple",schema:"sequencial",options:{base:300,range:4}}],T=function(e){return"pie"!==e?P.filter((function(e){return"qualitative"!==e.schema})):P},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"widgets.".concat(e,".").concat(t.type||t.widgetType||"default")},A=a.createElement(v,{msgId:M("placeHolder")}),C=function(e){var t=a.createElement(v,{msgId:M("advancedOptions",e)});return a.createElement("span",null,a.createElement("span",{style:{cursor:"pointer"}},t),a.createElement("button",{className:"close"},e.panel?a.createElement(h,{glyph:"glyphicon glyphicon-collapse-down"}):a.createElement(h,{glyph:"glyphicon glyphicon-expand"})))};e.exports=function(e){var t=e.data,r=void 0===t?{options:{}}:t,n=e.onChange,i=void 0===n?function(){}:n,s=e.options,p=void 0===s?[]:s,h=e.formOptions,P=void 0===h?{showGroupBy:!0,showUom:!1,showColorRampSelector:!0,showLegend:!0,advancedOptions:!0}:h,_=e.aggregationOptions,I=void 0===_?[]:_,R=e.sampleChart;return a.createElement(d,null,a.createElement(j,{title:a.createElement(v,{msgId:"widgets.chartOptionsTitle"})}),a.createElement(f,{xs:12},a.createElement("div",{style:{marginBottom:"30px"}},R)),a.createElement(f,{xs:12},a.createElement(m,{className:"chart-options-form",horizontal:!0},P.showGroupBy?a.createElement(y,{controlId:"groupByAttributes",className:"mapstore-block-width"},a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("groupByAttributes",r)})),a.createElement(f,{sm:6},a.createElement(S,{value:r.options&&r.options.groupByAttributes,options:p,placeholder:A,onChange:function(e){i("options.groupByAttributes",e&&e.value)}}))):null,a.createElement(y,{controlId:"aggregationAttribute",className:"mapstore-block-width"},a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("aggregationAttribute",r)})),a.createElement(f,{sm:6},a.createElement(S,{value:r.options&&r.options.aggregationAttribute,options:p,placeholder:A,onChange:function(e){i("options.aggregationAttribute",e&&e.value)}}))),a.createElement(y,{controlId:"aggregateFunction",className:"mapstore-block-width"},a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("aggregateFunction",r)})),a.createElement(f,{sm:6},a.createElement(S,{value:r.options&&r.options.aggregateFunction,options:I,placeholder:A,onChange:function(e){i("options.aggregateFunction",e&&e.value)}}))),P.showUom?a.createElement(y,{controlId:"uom"},a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("uom",r)})),a.createElement(f,{sm:6},a.createElement(b,{value:c(r,"options.seriesOptions[0].uom"),type:"text",onChange:function(e){return i("options.seriesOptions.[0].uom",e.target.value)}}))):null,P.showColorRampSelector?a.createElement(y,{controlId:"colorRamp",className:"mapstore-block-width"},a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("colorRamp",r)})),a.createElement(f,{sm:6},a.createElement(O,{items:T(r.type),value:l(T(r.type).filter((function(e){return r.autoColorOptions&&e.name===r.autoColorOptions.name}))),samples:"pie"===r.type?5:1,onChange:function(e){i("autoColorOptions",o(o({},e.options),{},{name:e.name}))}}))):null,P.showLegend?a.createElement(y,{controlId:"displayLegend"},a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("displayLegend",r)})),a.createElement(f,{sm:6},a.createElement(x,{checked:r.legend,onChange:function(e){i("legend",e)}}))):null,P.advancedOptions&&"bar"===r.type||"line"===r.type?a.createElement(E,{id:"displayCartesian",header:C(r),collapsible:!0,expanded:r.panel,onSwitch:function(e){i("panel",e)}},a.createElement(y,{controlId:"AdvancedOptions"},a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("displayCartesian",r)})),a.createElement(f,{sm:6},a.createElement(x,{checked:!(!r.cartesian&&!1!==r.cartesian)&&!r.cartesian,onChange:function(e){i("cartesian",!e)}})),a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("yAxis",r)})),a.createElement(f,{sm:6},a.createElement(x,{checked:!r.yAxis&&!1!==r.yAxis||!r.yAxis,onChange:function(e){i("yAxis",!e)}})),a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("xAxisAngle",r)})),a.createElement(f,{sm:6},a.createElement("div",{className:"mapstore-slider with-tooltip",onClick:function(e){e.stopPropagation()}},a.createElement(w,{key:"priority",format:{to:function(e){return parseInt(e,10)},from:function(e){return Number(e)}},onSlide:function(e){i("xAxisAngle",parseInt(e[0],10))},range:{min:0,max:90},start:[u(r.xAxisAngle)?0:r.xAxisAngle],step:15,tooltips:[!0]})))),a.createElement(y,{controlId:"yAxisLabel"},a.createElement(f,{componentClass:g,sm:6},a.createElement(v,{msgId:M("yAxisLabel",r)})),a.createElement(f,{sm:6},a.createElement(b,{value:r.yAxisLabel,type:"text",onChange:function(e){return i("yAxisLabel",e.target.value)}})))):null)))}},"./MapStore2/web/client/components/widgets/builder/wizard/common/WidgetOptions.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Row,a=o.Col,s=o.Form,l=o.FormGroup,c=o.ControlLabel,u=o.FormControl,p=r("./MapStore2/web/client/components/I18N/Message.jsx"),d=r("./MapStore2/web/client/components/misc/wizard/StepHeader.jsx");e.exports=function(e){var t=e.data,r=void 0===t?{}:t,o=e.onChange,f=void 0===o?function(){}:o,m=e.sampleChart;return n.createElement(i,null,n.createElement(d,{title:n.createElement(p,{msgId:"widgets.widgetOptionsTitle"})}),n.createElement(a,{key:"sample",xs:12},n.createElement("div",{style:{marginBottom:"30px"}},m)),n.createElement(a,{key:"form",xs:12},n.createElement(s,{className:"widget-options-form",horizontal:!0},n.createElement(l,{controlId:"groupByAttributes"},n.createElement(a,{componentClass:c,sm:6},n.createElement(p,{msgId:"widgets.title"})),n.createElement(a,{sm:6},n.createElement(u,{value:r.title,type:"text",onChange:function(e){return f("title",e.target.value)}}))),n.createElement(l,{controlId:"aggregationAttribute"},n.createElement(a,{componentClass:c,sm:6},n.createElement(p,{msgId:"widgets.description"})),n.createElement(a,{sm:6},n.createElement(u,{value:r.description,type:"text",onChange:function(e){return f("description",e.target.value)}}))))))}},"./MapStore2/web/client/components/widgets/builder/wizard/common/layerselector/Toolbar.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canProceed,r=e.selected,o=e.stepButtons,s=void 0===o?[]:o,l=e.onProceed,c=void 0===l?function(){}:l;return i.createElement(a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary",bsSize:"sm"},buttons:[].concat(n(s),[{onClick:c,disabled:!t,tooltipId:"widgets.builder.wizard.useTheSelectedLayer",visible:r,glyph:"arrow-right"}])})}},"./MapStore2/web/client/components/widgets/builder/wizard/common/noAttributesEmptyView.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),i=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=function(e){return o(e,{title:n.createElement(i,{msgId:"widgets.builder.errors.noAttributesTitle"}),description:n.createElement(i,{msgId:"widgets.builder.errors.noAttributesDescription"}),glyph:"warning-sign"})}},"./MapStore2/web/client/components/widgets/builder/wizard/common/wfsChartOptions.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withProps,a=r("./MapStore2/node_modules/lodash/lodash.js").find,s=function(e){return e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;return 0!==t.indexOf("gml:")})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name;return{label:t,value:t}}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=a(t,{name:e});return!r||"number"!==r.localType&&"int"!==r.localType?[{value:"Count",label:"COUNT"}]:[{value:"Count",label:"COUNT"},{value:"Sum",label:"SUM"},{value:"Average",label:"AVG"},{value:"StdDev",label:"STDDEV"},{value:"Min",label:"MIN"},{value:"Max",label:"MAX"}]};e.exports=o(i((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.featureTypeProperties,r=void 0===t?[]:t,n=e.data,o=void 0===n?{}:n;return{options:s(r),aggregationOptions:l(o.options&&o.options.aggregationAttribute,r)}})))},"./MapStore2/web/client/components/widgets/builder/wizard/counter/Toolbar.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=function(e){switch(e){case 0:return"widgets.builder.wizard.backToTypeSelection";case 1:return"widgets.builder.wizard.backToChartOptions";default:return"back"}},l=function(e){switch(e){case 0:return"widgets.builder.wizard.configureWidgetOptions";default:return"next"}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id;return r?"widgets.builder.wizard.updateWidget":"widgets.builder.wizard.addTheWidget"};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openFilterEditor,r=void 0===t?function(){}:t,o=e.step,u=void 0===o?0:o,p=e.stepButtons,d=void 0===p?[]:p,f=e.editorData,m=void 0===f?{}:f,y=e.valid,b=e.setPage,g=void 0===b?function(){}:b,h=e.onFinish,v=void 0===h?function(){}:h;return i.createElement(a,{btnDefaultProps:{bsStyle:"primary",bsSize:"sm"},buttons:[{onClick:function(){return g(Math.max(0,u-1))},visible:u>0,glyph:"arrow-left",tooltipId:s(u)}].concat(n(d),[{visible:0===u,onClick:r,disabled:!y,glyph:"filter",tooltipId:"widgets.builder.setupFilter"},{onClick:function(){return g(Math.min(u+1,2))},visible:0===u,disabled:0===u&&!y,glyph:"arrow-right",tooltipId:l(u)},{onClick:function(){return v(Math.min(u+1,1))},visible:1===u,glyph:"floppy-disk",tooltipId:c(u,m)}])})}},"./MapStore2/web/client/components/widgets/builder/wizard/legend/Toolbar.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=function(e){switch(e){case 1:return"widgets.builder.wizard.backToPreview";case 2:return"widgets.builder.wizard.backToChartOptions";default:return"back"}},l=function(e,t){return t?"widgets.builder.wizard.configureWidgetOptions":void 0},c=function(e){return e.mapSync},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id;return r?"widgets.builder.wizard.updateWidget":"widgets.builder.wizard.addTheWidget"};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,r=void 0===t?0:t,o=e.editorData,p=void 0===o?{}:o,d=e.valid,f=e.stepButtons,m=void 0===f?[]:f,y=e.onFinish,b=void 0===y?function(){}:y,g=e.setPage,h=void 0===g?function(){}:g;return i.createElement(a,{btnDefaultProps:{bsStyle:"primary",bsSize:"sm"},buttons:[{onClick:function(){return h(Math.max(0,r-1))},visible:r>0,glyph:"arrow-left",tooltipId:s(r)}].concat(n(m),[{onClick:function(){return h(Math.min(r+1,1))},visible:0===r,disabled:0===r&&!c(p)||!d,glyph:"arrow-right",tooltipId:l(0,d)},{onClick:function(){return b(Math.min(r+1,1))},visible:1===r,glyph:"floppy-disk",tooltipId:u(r,p)}])})}},"./MapStore2/web/client/components/widgets/builder/wizard/map/MapOptions.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js"),i=o.compose,a=o.withProps,s=r("./MapStore2/web/client/components/misc/wizard/StepHeader.jsx"),l=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),c=r("./MapStore2/web/client/components/misc/enhancers/localizeStringMap.js"),u=r("./MapStore2/web/client/components/I18N/Message.jsx"),p=l((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.map,r=void 0===t?{}:t;return!r.layers||0===(r.layers||[]).filter((function(e){return"background"!==e.group})).length}),(function(){return{glyph:"1-layer",title:n.createElement(u,{msgId:"widgets.selectMap.TOC.noLayerTitle"}),description:n.createElement(u,{msgId:"widgets.selectMap.TOC.noLayerDescription"})}}))(r("./MapStore2/web/client/components/widgets/builder/wizard/map/TOC.jsx")),d=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/nodeEditor.js"),f=d(r("./MapStore2/web/client/components/widgets/builder/wizard/map/NodeEditor.jsx")),m=i(d,a((function(e){var t=e.selectedNode;return{title:t&&t.title}})),c("title"))(s);e.exports=function(e){var t=e.preview,r=e.map,o=void 0===r?{}:r,i=e.onChange,a=void 0===i?function(){}:i,l=e.selectedNodes,c=void 0===l?[]:l,d=e.onNodeSelect,y=void 0===d?function(){}:d,b=e.editNode,g=e.closeNodeEditor,h=void 0===g?function(){}:g,v=e.isLocalizedLayerStylesEnabled;return n.createElement("div",null,n.createElement(s,{title:n.createElement(u,{msgId:"widgets.builder.wizard.configureMapOptions"})}),n.createElement("div",{key:"sample",style:{marginTop:10}},n.createElement(s,{title:n.createElement(u,{msgId:"widgets.builder.wizard.preview"})}),n.createElement("div",{style:{width:"100%",height:"200px"}},t)),b?[n.createElement(m,{map:o,editNode:b}),n.createElement(f,{closeNodeEditor:h,editNode:b,map:o,onChange:a,isLocalizedLayerStylesEnabled:v})]:[n.createElement(s,{title:n.createElement(u,{msgId:"layers"})}),n.createElement(p,{selectedNodes:c,onSelect:y,onChange:a,map:o})])}},"./MapStore2/web/client/components/widgets/builder/wizard/map/MapSelector.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),a=r.n(i),s=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),l=r.n(s),c=r("./MapStore2/web/client/components/widgets/builder/BuilderHeader.jsx"),u=r.n(c),p=r("./MapStore2/web/client/components/maps/enhancers/mapCatalogWithEmptyMap.js"),d=r.n(p),f=r("./MapStore2/web/client/components/I18N/Message.jsx"),m=r.n(f),y=r("./MapStore2/web/client/components/maps/MapCatalog.jsx"),b=r.n(y),g=r("./node_modules/recompose/es/Recompose.js"),h=r("./MapStore2/web/client/api/GeoStoreDAO.js"),v=r.n(h),S=r("./MapStore2/web/client/libs/ajax.js"),w=r.n(S),O=r("./MapStore2/web/client/utils/ConfigUtils.js"),j=r.n(O),E=r("./MapStore2/web/client/utils/LayersUtils.js");r("./MapStore2/web/client/libs/bindings/rxjsRecompose.js");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=Object(g.compose)(Object(g.withState)("selected","setSelected",null),Object(g.withHandlers)({onMapChoice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onMapSelected,r=void 0===t?function(){}:t,n=e.selectedSource,o=void 0===n?{}:n,i=e.includeMapId,a=void 0!==i&&i;return function(e){return("string"==typeof e.id?w.a.get(e.id).then((function(e){return e.data})):v.a.getData(e.id,{baseURL:o.baseURL})).then((function(t){var r=t.version||"string"==typeof e.id?j.a.normalizeConfig(t.map):j.a.convertFromLegacy(t);return P(P(P({},r&&r.map||{}),a?{id:e.id}:{}),{},{groups:r&&r.groups||[],layers:Object(E.excludeGoogleBackground)(r.layers.map((function(e){return"background"!==e.group||"ol"!==e.type&&"OpenLayers.Layer"!==e.type||(e.type="empty"),e})))})})).then((function(e){return e.layers=e.sources?e.layers.map((function(t){var r=Object(E.extractTileMatrixFromSources)(e.sources,t);return P(P({},t),r)})):e.layers,r({map:e})}))}}}),Object(g.mapPropsStream)((function(e){return e.distinctUntilKeyChanged("selected").filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selected;return t})).startWith({}).combineLatest(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canProceed,r=arguments.length>1?arguments[1]:void 0;return P({canProceed:t},r)}))})));function A(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _=d()(b.a);t.default=M((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.setSelected,i=void 0===n?function(){}:n,s=e.onMapChoice,c=void 0===s?function(){}:s,p=e.stepButtons,d=void 0===p?[]:p,f=e.selected;return o.a.createElement(a.a,{className:"bg-body layer-selector",header:o.a.createElement(u.a,{onClose:r},o.a.createElement(l.a,{btnDefaultProps:{bsStyle:"primary",bsSize:"sm"},buttons:[].concat(A(d),[{tooltipId:"widgets.builder.wizard.useThisMap",onClick:function(){return c(f)},visible:!0,disabled:!f,glyph:"arrow-right"}])}))},o.a.createElement(_,{title:o.a.createElement(m.a,{msgId:"widgets.builder.wizard.selectAMap"}),selected:f,onSelected:function(e){return i(e)}}))}))},"./MapStore2/web/client/components/widgets/builder/wizard/map/NodeEditor.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=r("./node_modules/react/index.js"),s=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),c=r("./MapStore2/node_modules/lodash/lodash.js").isObject,u=r("./node_modules/react-bootstrap/es/index.js"),p=u.Row,d=u.Col,f=u.Nav,m=u.NavItem,y=u.Glyphicon,b=l(m);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings,r=e.element,l=void 0===r?{}:r,u=e.tabs,m=void 0===u?[]:u,g=e.activeTab,h=e.width,v=e.groups,S=e.isLocalizedLayerStylesEnabled,w=e.setActiveTab,O=void 0===w?function(){}:w,j=e.onUpdateParams,E=void 0===j?function(){}:j,x=e.onRetrieveLayerData,P=void 0===x?function(){}:x,T=e.realtimeUpdate,M=i(e,["settings","element","tabs","activeTab","width","groups","isLocalizedLayerStylesEnabled","setActiveTab","onUpdateParams","onRetrieveLayerData","realtimeUpdate"]);return a.createElement(p,{key:"ms-toc-settings-navbar",className:"ms-row-tab"},a.createElement(d,{xs:12},a.createElement(f,{bsStyle:"tabs",activeKey:g,justified:!0},m.map((function(e){return a.createElement(b,{key:"ms-tab-settings-"+e.id,tooltip:a.createElement(s,{msgId:e.tooltipId}),eventKey:e.id,onClick:function(){return O(e.id)}},a.createElement(y,{glyph:e.glyph}))})))),a.createElement(d,{xs:12},m.filter((function(e){return e.id&&e.id===g})).filter((function(e){return e.Component})).map((function(e){return a.createElement(e.Component,n({},M,{key:"ms-tab-settings-body-"+e.id,containerWidth:h,element:l,groups:v,nodeType:t.nodeType,settings:t,retrieveLayerData:P,isLocalizedLayerStylesEnabled:S,onChange:function(e,t){return c(e)?E(e,T):E(o({},e,t),T)}}))}))))}},"./MapStore2/web/client/components/widgets/builder/wizard/map/PreviewMap.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/previewMap.js");e.exports=n(r("./MapStore2/web/client/components/widgets/widget/MapView.jsx"))},"./MapStore2/web/client/components/widgets/builder/wizard/map/TOC.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js").compose,i=r("./MapStore2/web/client/components/TOC/TOC.jsx"),a=r("./MapStore2/web/client/components/TOC/DefaultLayerOrGroup.jsx"),s=r("./MapStore2/web/client/components/TOC/DefaultGroup.jsx"),l=r("./MapStore2/web/client/components/TOC/DefaultLayer.jsx"),c=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/handleNodePropertyChanges.js"),u=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/handleNodeFiltering.js"),p=o(r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/mapToNodes.js"),u,c);e.exports=p((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.changeLayerPropertyByGroup,r=void 0===t?function(){}:t,o=e.changeLayerProperty,c=void 0===o?function(){}:o,u=e.changeGroupProperty,p=void 0===u?function(){}:u,d=e.onSort,f=e.onSelect,m=e.selectedNodes,y=e.nodes,b=void 0===y?[]:y;return n.createElement(i,{onSort:d,selectedNodes:m,onSelect:f,nodes:b},n.createElement(a,{groupElement:n.createElement(s,{onSort:d,selectedNodes:m,onSelect:f,propertiesChangeHandler:function(e,t){return Object.keys(t).map((function(n){return r(e,n,t[n])}))},onToggle:function(e,t){return p(e,"expanded",!t)},groupVisibilityCheckbox:!0}),layerElement:n.createElement(l,{selectedNodes:m,onSelect:f,propertiesChangeHandler:function(e,t){return Object.keys(t).map((function(r){return c(e,r,t[r])}))},onUpdateNode:function(e,t,r){return Object.keys(r).map((function(t){return c(e,t,r[t])}))},onToggle:function(e,t){return c(e,"expanded",!t)}})}))}))},"./MapStore2/web/client/components/widgets/builder/wizard/map/Toolbar.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id;return r?"widgets.builder.wizard.updateWidget":"widgets.builder.wizard.addTheWidget"};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,r=void 0===t?0:t,o=e.buttons,l=e.tocButtons,c=void 0===l?[]:l,u=e.stepButtons,p=void 0===u?[]:u,d=e.editorData,f=void 0===d?{}:d,m=e.setPage,y=void 0===m?function(){}:m,b=e.onFinish,g=void 0===b?function(){}:b,h=e.toggleLayerSelector,v=void 0===h?function(){}:h;return i.createElement(a,{btnDefaultProps:{bsStyle:"primary",bsSize:"sm"},buttons:o||[].concat(n(0===r?c:[]),[{onClick:function(){return y(Math.max(r-1,0))},visible:1===r,glyph:"arrow-left",tooltipId:"widgets.builder.wizard.configureMapOptions"}],n(p),[{onClick:function(){return v(!0)},visible:0===r,glyph:"plus",tooltipId:"widgets.builder.wizard.addLayer"},{onClick:function(){return y(Math.min(r+1,2))},visible:0===r,glyph:"arrow-right",tooltipId:"widgets.builder.wizard.configureWidgetOptions"},{onClick:function(){return g(Math.min(r+1,1))},visible:1===r,glyph:"floppy-disk",tooltipId:s(r,f)}])})}},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/handleNodeFiltering.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/lodash/lodash.js").head,s=r("./node_modules/recompose/es/Recompose.js").withProps,l=function(e){var t=e.nodes,r=e.filterText;e.currentLocale;return function e(t,r){return t.reduce((function(t,n){var i=o({},n);return i.nodes&&(i=o(o({},i),{},{nodes:e(i.nodes,r)})),r.forEach((function(e){i.nodes&&e.func(i)?i=o(o({},i),e.options):i.nodes&&(i=o({},i))})),t.push(i),t}),[])}(t,[{options:{showComponent:!0},func:function(){return!r}},{options:{loadingError:!0},func:function(e){return a(e.nodes.filter((function(e){return e.loadingError&&"Warning"!==e.loadingError})))}},{options:{expanded:!0,showComponent:!0},func:function(e){return r&&a(e.nodes.filter((function(e){return!0})))}}])};e.exports=s((function(e){return{nodes:l(e)}}))},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/handleNodePropertyChanges.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").withHandlers,o=r("./MapStore2/web/client/utils/LayersUtils.js").belongsToGroup,i=r("./MapStore2/node_modules/lodash/lodash.js"),a=i.findIndex,s=i.castArray;e.exports=n({changeLayerProperty:function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.map,o=void 0===n?{}:n;return function(e,t,n){var i=a(o.layers||[],{id:e});r("map.layers[".concat(i,"].").concat(t),n)}},changeLayerPropertyByGroup:function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.map,i=void 0===n?{}:n;return function(e,t,n){return i.layers.filter(o(e)).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return a(i.layers||[],{id:t})})).filter((function(e){return e>=0})).map((function(e){return r("map.layers[".concat(e,"].").concat(t),n)}))}},changeGroupProperty:function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.map,o=void 0===n?[]:n;return function(e,t,n){var i,l=o.groups?s(o.groups):[],c=a(l,(function(t){return e===t.id})),u=-1===c?l.length:c;"expanded"!==t||(null==l||null===(i=l[u])||void 0===i?void 0:i.id)||r("map.groups[".concat(u,"].id"),e),r("map.groups[".concat(u,"].").concat(t),n)}},updateMapEntries:function(e){var t=e.onChange,r=void 0===t?function(){}:t;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return r("map[".concat(t,"]"),e[t])}))}}})},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/handleNodeSelection.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/recompose/es/Recompose.js"),a=i.withProps,s=i.compose,l=i.withStateHandlers,c=r("./MapStore2/node_modules/lodash/lodash.js").findIndex,u=function(e,t){return(t.layers||[]).filter((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.group,n=void 0===r?"Default":r;return n===e})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return t}))};e.exports=s(l((function(){return{selectedLayers:[],selectedGroups:[]}}),{onNodeSelect:function(e,t){var r=e.selectedLayers,o=void 0===r?[]:r,i=e.selectedGroups,a=void 0===i?[]:i,s=t.map,l=void 0===s?{}:s;return function(e,t,r){return{selectedLayers:"group"===t?c(a,(function(t){return t===e}))>=0?o.filter((function(t){return c(u(e,l),(function(e){return e===t}))<0})):r?[].concat(n(o),n(u(e,l))):n(u(e,l)):c(o,(function(t){return t===e}))>=0?o.filter((function(t){return t!==e})):r?[].concat(n(o),[e]):[e],selectedGroups:"group"===t?c(a,(function(t){return t===e}))>=0?a.filter((function(t){return t!==e})):r?[].concat(n(a),[e]):[e]:r?a:[]}}}}),a((function(e){var t=e.selectedLayers,r=e.selectedGroups;return{selectedNodes:[].concat(n(t),n(r))}})))},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/mapToNodes.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/LayersUtils.js"),o=r("./node_modules/recompose/es/Recompose.js").withProps;e.exports=o((function(e){var t,r,o,i=e.map;return{nodes:(t=n.splitMapAndLayers(i),r=t.layers,o=void 0===r?{}:r,n.denormalizeGroups(o.flat||[],o.groups||[]).groups)}}))},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/nodeEditor.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withProps,c=a.withState,u=a.withHandlers,p=r("./MapStore2/node_modules/lodash/lodash.js").get,d=r("./MapStore2/web/client/components/misc/enhancers/withControllableState.js"),f=r("./MapStore2/web/client/utils/LayersUtils.js").splitMapAndLayers,m=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/mapToNodes.js"),y=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/withSelectedNode.js"),b=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/withCapabilitiesRetrieval.js"),g=r("./MapStore2/web/client/components/TOC/fragments/settings/General.jsx"),h=r("./MapStore2/web/client/components/TOC/fragments/settings/Display.jsx"),v=b(r("./MapStore2/web/client/components/TOC/fragments/settings/WMSStyle.jsx")),S=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/handleNodePropertyChanges.js"),w=r("./MapStore2/web/client/components/TOC/enhancers/tocItemsSettings.js").settingsLifecycle,O=l((function(e){return{tabs:e.tabs||[{id:"general",titleId:"layerProperties.general",tooltipId:"layerProperties.general",glyph:"wrench",visible:!0,Component:g},{id:"display",titleId:"layerProperties.display",tooltipId:"layerProperties.display",glyph:"eye-open",visible:e.settings&&"layers"===e.settings.nodeType,Component:h},{id:"style",titleId:"layerProperties.style",tooltipId:"layerProperties.style",glyph:"dropper",visible:e.settings&&"layers"===e.settings.nodeType&&e.element&&"wms"===e.element.type,Component:v}]}}));e.exports=s(m,y,c("settings","onUpdateSettings",{}),l((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.map,r=void 0===t?{}:t,n=e.selectedNode,i=e.settings,a=void 0===i?{}:i;return{element:n,settings:o(o({},a),{},{nodeType:n&&n.nodes?"groups":"layers",options:{opacity:a.opacity>=0?a.opacity:n.opacity>=0?n.opacity:1}}),groups:p(f(r),"layers.groups")}})),s(S,u({onUpdateNode:function(e){var t=e.changeLayerProperty,r=void 0===t?function(){}:t,n=e.changeGroupProperty,o=void 0===n?function(){}:n,i=e.editNode;return function(e,t,n){"layers"===t&&Object.keys(n).map((function(e){return r(i,e,n[e])})),"groups"===t&&Object.keys(n).map((function(e){return o(i,e,n[e])}))}}}),u({onUpdateParams:function(e){var t=e.settings,r=void 0===t?{}:t,n=e.onUpdateNode,i=void 0===n?function(){}:n;return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&i(r.node,r.nodeType,o(o({},r.props),e))}}})),w,d("activeTab","setActiveTab","general"),O)},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/previewMap.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withHandlers;e.exports=o(i({onMapViewChanges:function(e){var t=e.onChange,r=void 0===t?function(){}:t;return function(e){r("map",e),r("mapStateSource",e.mapStateSource)}}}))},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/withCapabilitiesRetrieval.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.createEventHandler,l=a.mapPropsStream,c=r("./MapStore2/web/client/observables/wms.js").getLayerCapabilities,u=r("./node_modules/rxjs/Rx.js");e.exports=l((function(e){var t=s(),r=t.stream,n=t.handler;return e.pluck("element").distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.id===t.id})).switchMap((function(){return r.switchMap((function(e){return c(e).map((function(e){return{capabilities:e,capabilitiesLoading:null,description:e._abstract,boundingBox:e.latLonBoundingBox,availableStyles:e.style&&(Array.isArray(e.style)?e.style:[e.style])}})).startWith({capabilitiesLoading:!0})})).catch((function(e){return u.Observable.of({capabilitiesLoading:null,capabilities:{error:"error getting capabilities",details:e},description:null})}))})).startWith({}).combineLatest(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(o({},t),{},{retrieveLayerData:n,element:o(o({},t.element),e)})}))}))},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/withSelectedNode.js":function(e,t,r){var n=this;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r("./MapStore2/node_modules/lodash/lodash.js").isMatch,a=r("./node_modules/recompose/es/Recompose.js").withProps;e.exports=a((function(e){var t=e.nodes,r=void 0===t?{}:t,a=e.editNode,s={};return a&&function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;for(var s in t)null!==t[s]&&"object"===o(t[s])&&(i(t[s],r)&&a.apply(n,[t[s]]),e(t[s],r,a))}(r,{id:a},(function(e){s=e})),{selectedNode:s}}))},"./MapStore2/web/client/components/widgets/builder/wizard/table/TableOptions.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r("./node_modules/react/index.js"),c=r("./MapStore2/web/client/utils/ogc/WFS/base.js").isGeometryType,u=r("./MapStore2/node_modules/lodash/lodash.js"),p=u.uniq,d=u.castArray,f=u.includes,m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Row,b=m.Col,g=m.Form,h=m.Button,v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=r("./MapStore2/web/client/components/misc/wizard/StepHeader.jsx"),w=r("./MapStore2/web/client/components/widgets/builder/wizard/common/noAttributesEmptyView.js"),O=r("./node_modules/recompose/es/Recompose.js"),j=O.withProps,E=O.withHandlers,x=O.compose,P=x(j((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attributes,r=void 0===t?[]:t,n=e.options,i=void 0===n?{}:n;return{attributes:r.filter((function(e){return!c(e)})).map((function(e){return o(o({},e),{},{label:e.name,attribute:e.name,hide:i.propertyName&&i.propertyName.indexOf(e.name)<0})}))}})),w((function(e){var t=e.attributes;return 0===(void 0===t?[]:t).length})),E({onChange:function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.options,o=void 0===n?{}:n;return function(e,t){return r("options.propertyName",function(e,t,r){var n=d(t);return r?e.filter((function(e){return!f(n,e)})):p([].concat(a(e),a(n)))}(o&&o.propertyName||[],e,t))}}}))(r("./MapStore2/web/client/components/data/featuregrid/AttributeTable.jsx"));e.exports=function(e){var t=e.data,r=void 0===t?{options:{}}:t,n=e.onChange,o=void 0===n?function(){}:n,i=e.featureTypeProperties,a=e.sampleChart;return l.createElement(y,null,l.createElement(S,{title:l.createElement(v,{msgId:"widgets.builder.wizard.configureTableOptions"})}),l.createElement(b,{xs:12},l.createElement("div",null,a)),l.createElement(b,{xs:12},l.createElement(g,{className:"chart-options-form",horizontal:!0},l.createElement(P,{options:r.options,onChange:o,attributes:i}),r.options&&r.options.columnSettings?l.createElement(h,{style:{float:"right"},onClick:function(){return o("options.columnSettings",void 0)}},l.createElement(v,{msgId:"widgets.builder.wizard.resetColumnsSizes"})):null)))}},"./MapStore2/web/client/components/widgets/builder/wizard/table/Toolbar.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=function(e){return e&&e.options&&e.options.propertyName&&0!==e.options.propertyName.length},l=function(e){switch(e){case 1:return"widgets.builder.wizard.backToTableOptions";case 2:return"widgets.builder.wizard.backToChartOptions";default:return"back"}},c=function(e,t){return t?"widgets.builder.wizard.configureWidgetOptions":"widgets.builder.errors.checkAtLeastOneAttribute"},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id;return r?"widgets.builder.wizard.updateWidget":"widgets.builder.wizard.addTheWidget"};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openFilterEditor,r=void 0===t?function(){}:t,o=e.step,p=void 0===o?0:o,d=e.stepButtons,f=void 0===d?[]:d,m=e.editorData,y=void 0===m?{}:m,b=e.setPage,g=void 0===b?function(){}:b,h=e.onFinish,v=void 0===h?function(){}:h;return i.createElement(a,{btnDefaultProps:{bsStyle:"primary",bsSize:"sm"},buttons:[{onClick:function(){return g(Math.max(0,p-1))},visible:p>0,glyph:"arrow-left",tooltipId:l(p)}].concat(n(f),[{visible:p>=0,onClick:r,disabled:!s(y),glyph:"filter",tooltipId:"widgets.builder.setupFilter"},{onClick:function(){return g(Math.min(p+1,2))},visible:0===p,disabled:0===p&&!s(y),glyph:"arrow-right",tooltipId:c(0,s(y))},{onClick:function(){return v(Math.min(p+1,1))},visible:1===p,glyph:"floppy-disk",tooltipId:u(p,y)}])})}},"./MapStore2/web/client/components/widgets/builder/wizard/text/TextOptions.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js"),i=o.Col,a=o.Form,s=o.FormGroup,l=o.FormControl,c=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js"),u=c("placeholder")(l),p=r("./node_modules/react-quill/lib/index.js"),d=c("placeholder")(p);e.exports=function(e){var t=e.data,r=void 0===t?{}:t,o=e.onChange,l=void 0===o?function(){}:o;return n.createElement("div",null,n.createElement(i,{key:"form",xs:12},n.createElement(a,null,n.createElement(s,{controlId:"title"},n.createElement(i,{sm:12},n.createElement(u,{style:{marginBottom:10},placeholder:"widgets.builder.wizard.titlePlaceholder",value:r.title,type:"text",onChange:function(e){return l("title",e.target.value)}}))))),n.createElement(d,{modules:{toolbar:[[{size:["small",!1,"large","huge"]},"bold","italic","underline","blockquote"],[{list:"bullet"},{align:[]}],[{color:[]},{background:[]},"clean"],["image","link"]]},placeholder:"widgets.builder.wizard.textPlaceholder",value:r&&r.text||"",onChange:function(e){return l("text",e)}}))}},"./MapStore2/web/client/components/widgets/builder/wizard/text/Toolbar.jsx":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id;return r?"widgets.builder.wizard.updateWidget":"widgets.builder.wizard.addTheWidget"};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,r=void 0===t?0:t,o=e.editorData,l=void 0===o?{}:o,c=e.stepButtons,u=void 0===c?[]:c,p=e.onFinish,d=void 0===p?function(){}:p;return i.createElement(a,{btnDefaultProps:{bsStyle:"primary",bsSize:"sm"},buttons:[].concat(n(u),[{onClick:function(){return d(Math.min(r+1,1))},visible:0===r,glyph:"floppy-disk",tooltipId:s(r,l)}])})}},"./MapStore2/web/client/components/widgets/enhancers/builderConfiguration.jsx":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),s=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),l=r("./MapStore2/web/client/components/misc/enhancers/propsStreamFactory.jsx"),c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.defaultProps,d=r("./MapStore2/node_modules/lodash/lodash.js").get,f=r("./node_modules/rxjs/Rx.js").Observable,m=r("./MapStore2/web/client/observables/wfs.js").describeFeatureType,y=r("./MapStore2/web/client/observables/wps/describe.js").describeProcess,b=r("./MapStore2/web/client/components/I18N/I18N.jsx"),g=b.Message,h=b.HTML,v=r("./MapStore2/web/client/utils/ogc/WFS/base.js").findGeometryProperty;e.exports=u(p({dataStreamFactory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onEditorChange,o=void 0===r?function(){}:r,i=t.onConfigurationError,a=void 0===i?function(){}:i;return e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,r=void 0===t?{}:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.layer;return r.name===o.name})).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer;return f.forkJoin(m({layer:t}),y(t.url,"gs:Aggregate")).do((function(e){var t=n(e,1)[0],r=d(v(t.data||{}),"name");r&&o("geomProp",r)})).map((function(e){var t=n(e,1)[0];return d(t,"data.featureTypes[0].properties")||[]})).map((function(e){return{loading:!1,types:"ALL",featureTypeProperties:e}}))})).catch((function(e){return a(e),f.of({errorObj:e,loading:!1,featureTypeProperties:[]})})).startWith({loading:!0})}}),l,a(),s((function(e){var t=e.featureTypeProperties,r=void 0===t?[]:t,n=e.types,o=void 0===n?[]:n;return 0===r.length||0===o.length}),(function(){return{title:i.createElement(g,{msgId:"widgets.builder.errors.noWidgetsAvailableTitle"}),description:i.createElement(h,{msgId:"widgets.builder.errors.noWidgetsAvailableDescription"})}})))},"./MapStore2/web/client/components/widgets/enhancers/chartWidget.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/recompose/es/Recompose.js"),a=i.compose,s=i.branch,l=i.withState,c=i.withProps,u=i.withHandlers,p=r("./MapStore2/web/client/components/widgets/enhancers/deleteWidget.js"),d=r("./MapStore2/web/client/components/widgets/enhancers/tools/index.js"),f=d.editableWidget,m=d.exportableWidget,y=d.defaultIcons,b=d.withHeaderTools;e.exports=a(p,a(l("showTable","setShowTable",!1),u({toggleTableView:function(e){var t=e.setShowTable,r=e.showTable;return function(){return t(!r)}}}),c((function(e){var t=e.widgetTools,r=void 0===t?[]:t,o=e.toggleTableView,i=void 0===o?function(){}:o;return{widgetTools:[].concat(n(r),[{glyph:"features-grid",target:"menu",textId:"widgets.widget.menu.showChartData",onClick:function(){return i()}}])}}))),f(),m(),y(),s((function(e){return!e.showTable}),b()))},"./MapStore2/web/client/components/widgets/enhancers/counterWidget.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").compose,o=r("./MapStore2/web/client/components/widgets/enhancers/tools/index.js"),i=o.editableWidget,a=o.defaultIcons,s=o.withHeaderTools;e.exports=n(r("./MapStore2/web/client/components/widgets/enhancers/deleteWidget.js"),i(),a(),s())},"./MapStore2/web/client/components/widgets/enhancers/deleteWidget.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").withState;e.exports=n("confirmDelete","toggleDeleteConfirm",!1)},"./MapStore2/web/client/components/widgets/enhancers/dependenciesToExtent.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/xml2js/lib/xml2js.js"),s=r("./node_modules/rxjs/Rx.js").Observable,l=r("./node_modules/recompose/es/Recompose.js"),c=l.mapPropsStream,u=l.compose,p=l.branch,d=l.withPropsOnChange,f=r("./MapStore2/node_modules/lodash/lodash.js"),m=f.isEmpty,y=f.isEqual,b=r("./MapStore2/web/client/components/widgets/enhancers/utils.js").composeFilterObject,g=r("./MapStore2/web/client/observables/wps/bounds.js"),h=r("./MapStore2/web/client/utils/FilterUtils.jsx"),v=r("./MapStore2/web/client/utils/LayersUtils.js").getWpsUrl,S=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,w=r("./MapStore2/web/client/utils/MapUtils.js");e.exports=u(p((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.dependencies;return t&&(!m(r.quickFilters)||!m(r.filter))}),u(d(["id"],(function(e){var t=e.hookRegister;return{hookRegister:(void 0===t?null:t)||w.createRegisterHooks()}})),c((function(e){return e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(e.dependencies.quickFilters,t.dependencies.quickFilters)&&y(e.dependencies.filter,t.dependencies.filter)&&y(e.dependencies.layer,t.dependencies.layer)})).debounceTime(500).switchMap((function(e){var t=e.mapSync,r=e.dependencies,n=void 0===r?{}:r,i=e.filter,l=e.hookRegister;if(!t||m(n.layer))return s.of({loading:!1});var c={};n.quickFilters&&(c=o(o({},c),b(i,n.quickFilters,n.options))),n.filter&&(c=o(o({},c),h.composeAttributeFilters([c,n.filter])));var u=n&&n.layer&&n.layer.name;if(!m(c)){c=o(o({},c),{},{options:o(o({},c.options||{}),{},{noSchemaLocation:!0})});var p=h.toOGCFilter(u,c,"1.1.0");return g(v(n.layer),{wfsGetFeature:p}).switchMap((function(e){var t,r,n;if(a.parseString(e.data,{explicitArray:!1},(function(e,o){t=o["ows:BoundingBox"],r=t["ows:LowerCorner"].split(" "),n=t["ows:UpperCorner"].split(" ")})),"0.0 0.0"===t["ows:LowerCorner"]&&"-1.0 -1.0"===t["ows:UpperCorner"])return s.of({loading:!1});var o={minx:parseFloat(r[0]),miny:parseFloat(r[1]),maxx:parseFloat(n[0]),maxy:parseFloat(n[1])},i=l.getHook(w.ZOOM_TO_EXTENT_HOOK);return i&&i(o,{crs:"EPSG:4326",maxZoom:21}),s.of({loading:!1})})).startWith({loading:!0}).catch((function(e){return s.of({error:"error getting bounds from filter",details:e})}))}return s.of({loading:!1})})).combineLatest(e,(function(e){var t=e.loading,r=void 0!==t&&t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S("loading",r,n)}))})))))},"./MapStore2/web/client/components/widgets/enhancers/dependenciesToFilter.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.withPropsOnChange,p=r("./MapStore2/node_modules/lodash/lodash.js"),d=p.find,f=p.isEmpty,m=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),y=r("./MapStore2/web/client/utils/FilterUtils.jsx"),b=r("./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js"),g=r("./MapStore2/web/client/utils/ogc/Filter/fromObject.js"),h=r("./MapStore2/web/client/components/widgets/enhancers/utils.js"),v=h.getDependencyLayerParams,S=h.composeFilterObject,w=r("./MapStore2/web/client/utils/FilterUtils.jsx").composeAttributeFilters,O=function(e,t){var r=v(e,t),n=d(Object.keys(r||{}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"cql_filter"===e.toLowerCase()}));return r&&n&&r[n]},j=r("./MapStore2/web/client/utils/ogc/Filter/CQL/parser.js").read,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerFilter;return t};e.exports=c(u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.geomProp,n=e.dependencies,o=void 0===n?{}:n,i=e.layer,a=e.quickFilters,s=e.options,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;return t!==l.mapSync||o.viewport!==(l.dependencies&&l.dependencies.viewport)||o.quickFilters!==(l.dependencies&&l.dependencies.quickFilters)||o.options!==(l.dependencies&&l.dependencies.options)||r!==l.geomProp||c!==l.filter||s!==l.options||a!==l.quickFilters||O(i,o)!==O(l.layer,l.dependencies)||E(i)!==E(l.layer)}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.geomProp,n=void 0===r?"the_geom":r,s=e.dependencies,l=void 0===s?{}:s,c=e.filter,u=e.layer,p=e.quickFilters,d=e.options,h=l.viewport,v=b({gmlVersion:"3.1.1"}),E=g(v),x=v.filter,P=v.property,T=v.and,M=u||{},A=M.layerFilter,C={},_={},I=S(c,p,d);if(!t)return{filter:!f(I)||A?x(T.apply(void 0,a(A?y.toOGCFilterParts(A,"1.1.0","ogc"):[]).concat(a(I?y.toOGCFilterParts(I,"1.1.0","ogc"):[])))):void 0};if(u&&l&&l.quickFilters&&l.layer&&u.name===l.layer.name&&(I=o(o({},I),S(I,l.quickFilters,l.options))),u&&l&&l.filter&&l.layer&&u.name===l.layer.name&&(I=o(o({},I),w([I,l.filter]))),l.viewport){var R=Object.keys(h.bounds).reduce((function(e,t){return o(o({},e),{},i({},t,parseFloat(h.bounds[t])))}),{});C=m.getViewportGeometry(R,h.crs);var L=O(u,l);return _=L?[E(j(L))]:[],{filter:x(T.apply(void 0,a(_).concat(a(A?y.toOGCFilterParts(A,"1.1.0","ogc"):[]),a(I?y.toOGCFilterParts(I,"1.1.0","ogc"):[]),[P(n).intersects(C)])))}}return{filter:x(T.apply(void 0,a(A?y.toOGCFilterParts(A,"1.1.0","ogc"):[]).concat(a(I?y.toOGCFilterParts(I,"1.1.0","ogc"):[]))))}})))},"./MapStore2/web/client/components/widgets/enhancers/dependenciesToLayers.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withPropsOnChange,c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.find,p=c.isEmpty,d=c.isEqual,f=r("./MapStore2/web/client/utils/FilterUtils.jsx"),m=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,y=r("./MapStore2/web/client/utils/ImmutableUtils.js").arrayUpdate,b=r("./MapStore2/web/client/components/widgets/enhancers/utils.js").composeFilterObject;e.exports=s(l((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.dependencies,n=void 0===r?{}:r,o=e.map,i=void 0===o?{}:o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return t!==a.mapSync||!d(n,a.dependencies)||!d(i,a.map)||s!==a.filter}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.dependencies,n=void 0===r?{}:r,i=e.filter,a=void 0===i?{}:i,s=e.map,l=void 0===s?{layers:[]}:s,c=n&&n.layer&&n.layer.name,d=u(l.layers,{name:c})||{},g={},h={},v=void 0;return t&&!p(d)&&(n.quickFilters&&(g=o(o({},g),b(a,n.quickFilters,n.options))),n.filter&&(g=o(o({},g),f.composeAttributeFilters([g,n.filter]))),!p(g)&&f.toCQLFilter(g))?(v=f.toCQLFilter(g),h=y(!1,o(o({},d),{},{params:m({params:{CQL_FILTER:v}},d&&d.params&&d.params.CQL_FILTER)}),{name:c},l.layers),{map:o(o({},l),{},{layers:h})}):(h=l.layers.map((function(e){return o(o({},e),{},{params:o(o({},e.params),{},{CQL_FILTER:void 0})})})),{map:o(o({},l),{},{layers:h})})})))},"./MapStore2/web/client/components/widgets/enhancers/dependenciesToMapProp.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,o=r("./node_modules/recompose/es/Recompose.js"),i=o.shallowEqual,a=o.branch,s=o.withPropsOnChange;e.exports=function(e){return a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync;return t}),s((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.mapSync,n=t.dependencies,o=void 0===n?{}:n,a=arguments.length>1?arguments[1]:void 0,s=a.mapSync,l=a.dependencies;return l&&i(o[e],l[e])||r===s}),(function(t){var r=t.map,o=t.mapSync,i=t.dependencies,a=void 0===i?{}:i;return{mapStateSource:"__dependency_system__",map:a[e]&&o?n(e,a[e],r):r}})))}},"./MapStore2/web/client/components/widgets/enhancers/dependenciesToOptions.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withPropsOnChange,c=r("./MapStore2/web/client/components/widgets/enhancers/utils.js").getDependencyLayerParams,u=r("./MapStore2/node_modules/lodash/lodash.js").find;e.exports=s(l(["dependencies","options"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dependencies,r=void 0===t?{}:t,n=e.options,i=e.layer,a=void 0===i?{}:i,s=c(a,r),l=u(Object.keys(s||{}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"viewparams"===e.toLowerCase()})),p=s&&l&&s[l];return{options:p?o(o({},n),{},{viewParams:p}):n}})))},"./MapStore2/web/client/components/widgets/enhancers/dependenciesToWidget.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js").withProps,s=r("./MapStore2/node_modules/lodash/lodash.js").pick,l=function e(t,r,n){return t?Object.keys(t).reduce((function(a,l){return"dependenciesMap"===l&&r[t[l]]&&r[t.mapSync]&&r[t[l]][l]&&-1===r[t[l]][l].indexOf(n)?o(o({},a),s(e(r[t[l]],r,n),["options","layer","quickFilters","filter","dependenciesMap"])):o(o({},a),{},i({},l,r[t[l]]))}),{}):r};e.exports=a((function(e){var t=e.dependenciesMap,r=e.dependencies,n=e.id;return{dependencies:t?l(t,r,n):r,dependenciesMap:t}}))},"./MapStore2/web/client/components/widgets/enhancers/emptyChartState.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx");e.exports=i((function(e){var t=e.data,r=void 0===t?[]:t;return!r||0===r.length}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapSync,r=e.iconFit;return{iconFit:r,tooltip:t?n.createElement(o,{msgId:"widgets.errors.nodatainviewport"}):n.createElement(o,{msgId:"widgets.errors.nodata"})}}))},"./MapStore2/web/client/components/widgets/enhancers/emptyLegendState.js":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),a=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return i((function(e){var t=e.layers;return 0===(void 0===t?[]:t).length}),(n(e={},t?"tooltip":"title",o.createElement(a,{msgId:"widgets.errors.noLegend"})),n(e,"description",!t&&o.createElement(a,{msgId:"widgets.errors.noLegendDescription"})),e))}},"./MapStore2/web/client/components/widgets/enhancers/emptyTextState.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx");e.exports=i((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text;return!t}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.iconFit;return{iconFit:t,tooltip:n.createElement(o,{msgId:"widgets.errors.notext"})}}))},"./MapStore2/web/client/components/widgets/enhancers/errorChartState.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"ECONNABORTED"===e.code?n.createElement(o,{msgId:"widgets.errors.timeoutExpired"}):n.createElement(o,{msgId:"widgets.errors.genericError"})};e.exports=i((function(e){return e.error}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.error,r=e.iconFit;return{glyph:"warning-sign",iconFit:r,tooltip:a(t)}}))},"./MapStore2/web/client/components/widgets/enhancers/legendWidget.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withProps,a=r("./MapStore2/node_modules/lodash/lodash.js").get,s=r("./MapStore2/web/client/components/widgets/enhancers/deleteWidget.js"),l=r("./MapStore2/web/client/components/widgets/enhancers/tools/index.js"),c=l.editableWidget,u=l.defaultIcons,p=l.withHeaderTools,d=r("./MapStore2/web/client/utils/MapUtils.js").getScales;e.exports=o(i((function(e){var t=e.dependencies,r=void 0===t?{}:t,n=e.dependenciesMap;return{layers:r[(void 0===n?{}:n).layers]||r.layers||[],scales:d(r.projection||r.viewport&&r.viewport.crs||"EPSG:3857",a(r,"mapOptions.view.DPI")),currentZoomLvl:r.zoom}})),i((function(e){var t=e.layers;return{layers:(void 0===t?[]:t).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"background"!==e.group&&!1!==e.visibility&&"vector"!==e.type}))}})),s,c(),u(),p())},"./MapStore2/web/client/components/widgets/enhancers/mapWidget.js":function(e,t,r){var n=r("./MapStore2/web/client/components/widgets/enhancers/deleteWidget.js"),o=r("./node_modules/recompose/es/Recompose.js").compose,i=r("./MapStore2/web/client/components/widgets/enhancers/tools/index.js"),a=i.editableWidget,s=i.defaultIcons,l=i.withHeaderTools;e.exports=o(n,a(),s(),l())},"./MapStore2/web/client/components/widgets/enhancers/sampleChartData.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").defaultProps;e.exports=n({data:[{name:"A",variable:2,pv:2,amt:2},{name:"B",variable:.5,pv:.5,amt:.5},{name:"C",variable:3,pv:3,amt:3},{name:"D",variable:1,pv:1,amt:2}],series:[{dataKey:"variable",color:"#078aa3"}],xAxis:{dataKey:"name",show:!1}})},"./MapStore2/web/client/components/widgets/enhancers/tableWidget.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withPropsOnChange,c=r("./MapStore2/node_modules/lodash/lodash.js").get,u=r("./MapStore2/web/client/components/widgets/enhancers/tools/index.js"),p=u.editableWidget,d=u.withHeaderTools,f=u.defaultIcons;e.exports=s(l(["gridEvents"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gridEvents,r=void 0===t?{}:t,n=e.updateProperty,i=void 0===n?function(){}:n;return{gridEvents:o(o({},r),{},{onAddFilter:function(e){return i("quickFilters.".concat(e.attribute),e)},onColumnResize:function(e,t,r,n,o,a){return i('options.columnSettings["'.concat(c(a.filter((function(e){return!e.hide}))[e],"name"),'"].width'),t)}})}})),r("./MapStore2/web/client/components/widgets/enhancers/deleteWidget.js"),p(),f(),d())},"./MapStore2/web/client/components/widgets/enhancers/textWidget.js":function(e,t,r){var n=r("./MapStore2/web/client/components/widgets/enhancers/deleteWidget.js"),o=r("./node_modules/recompose/es/Recompose.js").compose,i=r("./MapStore2/web/client/components/widgets/enhancers/tools/index.js"),a=i.editableWidget,s=i.hidableWidget,l=i.defaultIcons,c=i.withHeaderTools;e.exports=o(n,a(),s(),l(),c())},"./MapStore2/web/client/components/widgets/enhancers/tools/collapsibleWidget.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/recompose/es/Recompose.js"),a=i.compose,s=i.withProps;e.exports=function(){return a(s((function(e){var t=e.widgetTools,r=void 0===t?[]:t,o=e.dataGrid,i=void 0===o?{}:o,a=e.toggleCollapse,s=void 0===a?function(){}:a,l=e.toolsOptions;return{widgetTools:(void 0===l?{}:l).showCollapse?[].concat(n(r),[{glyph:"minus",target:"icons",tooltipId:"widgets.widget.menu.collapse",visible:!i.static,onClick:function(){return s()}}]):r}})))}},"./MapStore2/web/client/components/widgets/enhancers/tools/editableWidget.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/recompose/es/Recompose.js").withProps;e.exports=function(){return i((function(e){var t=e.widgetTools,r=void 0===t?[]:t,o=e.dataGrid,i=void 0===o?{}:o,a=e.canEdit,s=e.onEdit,l=void 0===s?function(){}:s,c=e.toggleDeleteConfirm,u=void 0===c?function(){}:c;return{widgetTools:a?[].concat(n(r),[{glyph:"pencil",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.edit",onClick:function(){return l()}},{glyph:"trash",target:"menu",visible:a&&!i.static,textId:"widgets.widget.menu.delete",onClick:function(){return u(!0)}}]):r}}))}},"./MapStore2/web/client/components/widgets/enhancers/tools/exportableWidget.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/recompose/es/Recompose.js").withProps;e.exports=function(){return i((function(e){var t=e.widgetTools,r=void 0===t?[]:t,o=e.data,i=e.id,a=e.title,s=e.exportCSV,l=void 0===s?function(){}:s,c=e.exportImage,u=void 0===c?function(){}:c;return{widgetTools:[].concat(n(r),[{glyph:"download",glyphClassName:"exportCSV",target:"menu",textId:"widgets.widget.menu.downloadData",disabled:!o||!o.length,onClick:function(){return l({data:o,title:a})}},{glyph:"download",target:"menu",glyphClassName:"exportImage",textId:"widgets.widget.menu.exportImage",disabled:!o||!o.length,onClick:function(){return u({widgetDivId:"widget-chart-".concat(i),title:a})}}])}}))}},"./MapStore2/web/client/components/widgets/enhancers/tools/hidableWidget.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/recompose/es/Recompose.js"),a=i.compose,s=i.withProps;e.exports=function(){return a(s((function(e){var t=e.widgetTools,r=void 0===t?[]:t,o=e.toolsOptions,i=void 0===o?{}:o,a=e.canEdit,s=e.updateProperty,l=void 0===s?function(){}:s,c=e.hide,u=void 0!==c&&c;return{widgetTools:i.showHide?[].concat(n(r),[{glyph:"lock",target:"menu",active:u,textId:u?"widgets.widget.menu.unhide":"widgets.widget.menu.hide",tooltipId:u?"widgets.widget.menu.unhideDescription":"widgets.widget.menu.hideDescription",visible:a,onClick:function(){return l("hide",!u)}}]):r}})))}},"./MapStore2/web/client/components/widgets/enhancers/tools/index.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").compose,o=r("./MapStore2/web/client/components/widgets/enhancers/tools/withTools.js"),i=r("./MapStore2/web/client/components/widgets/enhancers/tools/pinnableWidget.js"),a=r("./MapStore2/web/client/components/widgets/enhancers/tools/hidableWidget.js"),s=r("./MapStore2/web/client/components/widgets/enhancers/tools/withInfo.js"),l=r("./MapStore2/web/client/components/widgets/enhancers/tools/withMenu.js"),c=r("./MapStore2/web/client/components/widgets/enhancers/tools/withIcons.js"),u=r("./MapStore2/web/client/components/widgets/enhancers/tools/editableWidget.js"),p=r("./MapStore2/web/client/components/widgets/enhancers/tools/exportableWidget.js"),d=r("./MapStore2/web/client/components/widgets/enhancers/tools/collapsibleWidget.js");e.exports={withTools:o,pinnableWidget:i,hidableWidget:a,withMenu:l,withIcons:c,editableWidget:u,exportableWidget:p,collapsibleWidget:d,defaultIcons:function(){return n(i(),d(),s())},withHeaderTools:function(){return n(o(),c(),l())}}},"./MapStore2/web/client/components/widgets/enhancers/tools/pinnableWidget.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/recompose/es/Recompose.js"),a=i.compose,s=i.withProps;e.exports=function(){return a(s((function(e){var t=e.widgetTools,r=void 0===t?[]:t,o=e.toolsOptions,i=void 0===o?{}:o,a=e.updateProperty,s=void 0===a?function(){}:a,l=e.dataGrid,c=void 0===l?{}:l;return{widgetTools:i.showPin?[].concat(n(r),[{glyph:"pushpin",bsStyle:c.static&&"primary",glyphClassName:c.static?"active":void 0,tooltipId:c.static?"widgets.widget.menu.unpin":"widgets.widget.menu.pin",target:"icons",onClick:function(){return s("dataGrid.static",!c.static)}}]):r}})))}},"./MapStore2/web/client/components/widgets/enhancers/tools/withIcons.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/recompose/es/Recompose.js"),i=o.compose,a=o.withPropsOnChange,s=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),l=function(e){return"icons"===e.target},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(l).length>0};e.exports=function(){return i(a(["icons","widgetTools"],(function(e){var t=e.icons,r=void 0===t?[]:t,o=e.widgetTools;return{icons:c(o)?n.createElement(s,{btnDefaultProps:{className:"no-border",bsSize:"xs",bsStyle:"link"},buttons:o.filter(l)}):r}})))}},"./MapStore2/web/client/components/widgets/enhancers/tools/withInfo.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/recompose/es/Recompose.js"),a=i.compose,s=i.withProps;e.exports=function(){return a(s((function(e){var t=e.widgetTools,r=void 0===t?[]:t,o=e.title,i=e.description,a=e.widgetType;return{widgetTools:i&&"text"!==a?[].concat(n(r),[{glyph:"question-sign",popover:{title:o,trigger:!0,text:i},target:"icons"}]):r}})))}},"./MapStore2/web/client/components/widgets/enhancers/tools/withMenu.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/I18N/Message.jsx"),s=r("./node_modules/recompose/es/Recompose.js").withProps,l=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),c=function(e){var t=e.target,r=e.visible;return(void 0===r||r)&&"menu"===t},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(c).length>0},p=r("./node_modules/react-bootstrap/es/index.js"),d=p.Glyphicon,f=p.ButtonToolbar,m=p.DropdownButton,y=l(p.MenuItem);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className,r=void 0===t?"widget-menu":t,o=e.menuIcon,l=void 0===o?"option-vertical":o;return s((function(e){var t=e.widgetTools,o=e.topRightItems,s=void 0===o?[]:o;return{topRightItems:u(t)?[].concat(n(s),[i.createElement(f,null,i.createElement(m,{pullRight:!0,bsStyle:"default",className:r,title:i.createElement(d,{glyph:l}),noCaret:!0,id:"dropdown-no-caret"},t.filter(c).map((function(e,t){var r=e.onClick,n=void 0===r?function(){}:r,o=e.disabled,s=void 0!==o&&o,l=e.glyph,c=e.glyphClassName,u=e.text,p=e.textId,f=e.tooltipId,m=e.active;return i.createElement(y,{active:m,tooltipId:f,onSelect:n,disabled:s,eventKey:t},i.createElement(d,{className:c,glyph:l}),p?i.createElement(a,{msgId:p}):u)}))))]):s}}))}},"./MapStore2/web/client/components/widgets/enhancers/tools/withTools.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withPropsOnChange,c=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),u=function(e){return"tools"===e.target},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(u).length>0};e.exports=function(){return s(l(["topLeftItems","widgetTools"],(function(e){var t=e.topLeftItems,r=void 0===t?[]:t,o=e.widgetTools;return{topLeftItems:p(o)?[].concat(n(r),[i.createElement(c,{btnGroupProps:{style:{position:"absolute",left:14}},btnDefaultProps:{className:"no-border",bsSize:"small",bsStyle:"link",style:{paddingLeft:4,paddingRight:4}},buttons:o.filter(u)})]):r}})))}},"./MapStore2/web/client/components/widgets/enhancers/utils.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/lodash/lodash.js"),s=a.get,l=a.find,c=a.reduce,u=a.isEmpty,p=r("./MapStore2/web/client/utils/FeatureGridUtils.js").gridUpdateToQueryUpdate,d=r("./MapStore2/web/client/utils/FilterUtils.jsx").composeAttributeFilters;e.exports={getDependencyLayerParams:function(e,t){return e&&e.id&&s(l(t.layers||[],{id:e.id}),"params",{})},composeFilterObject:function(e,t,r){var n=t&&r&&Object.keys(t).filter((function(e){return l(r.propertyName,(function(t){return t===e}))})).reduce((function(e,r){return o(o({},e),{},i({},r,t[r]))}),{}),a=c(n,(function(e,t,r){return p(o({attribute:r},t),e)}),{});if(!u(e)||!u(a)){var s=d([e,a]);return o(o({},e),s)}return{}},getLayerInCommon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.map,r=void 0===t?{}:t,n=e.dependencies,o=n&&n.layer&&n.layer.name,i=!u(r)&&!u(r.layers)&&l(r.layers,{name:o})||{};return i}}},"./MapStore2/web/client/components/widgets/enhancers/wfsTable/describeFetch.js":function(e,t,r){var n=r("./node_modules/rxjs/Rx.js"),o=r("./MapStore2/web/client/observables/wfs.js").describeFeatureType,i=r("./MapStore2/web/client/utils/LayersUtils.js").getSearchUrl;e.exports=function(e){return e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.layer;return i(t)===i(n)&&t.loadingError===n.loadingError})).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer;return o({layer:t}).map((function(e){return{describeFeatureType:e.data,loading:!1,error:void 0}})).catch((function(e){return n.Observable.of({loading:!1,error:e})}))}))}},"./MapStore2/web/client/components/widgets/enhancers/wfsTable/index.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/lodash/lodash.js"),s=a.includes,l=a.merge,c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.withProps,d=c.createEventHandler,f=c.withHandlers,m=c.withStateHandlers,y=c.defaultProps,b=r("./MapStore2/web/client/utils/ogc/WFS/base.js").getFeatureTypeProperties,g=r("./MapStore2/web/client/components/misc/enhancers/propsStreamFactory.jsx"),h=r("./MapStore2/web/client/components/widgets/enhancers/wfsTable/triggerFetch.js"),v=r("./MapStore2/web/client/components/widgets/enhancers/wfsTable/describeFetch.js"),S=r("./MapStore2/web/client/components/widgets/enhancers/wfsTable/virtualScrollFetch.js"),w=r("./MapStore2/web/client/components/widgets/enhancers/wfsTable/noPaginationFetch.js"),O=function(e){var t=d(),r=t.handler,n=t.stream;return v(e).combineLatest(function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return h(e).let(r?S(t.withLatestFrom(e.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pagination,r=void 0===t?{}:t;return{pagination:r}})),(function(e,t){return o({pagesRange:e},t)}))):w).startWith({})}(e,n.startWith({startPage:0,endPage:1})),(function(e,t){return o(o(o({},e),t),{},{pageEvents:{moreFeatures:r,onPageChange:function(){}}})})).startWith({loading:!0})};e.exports=u(y({virtualScroll:!0,size:20,maxStoredPages:5}),m({pages:[],features:[],pagination:{}},{setData:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pages,r=e.features,n=e.pagination;return{pages:t,features:r,pagination:n,error:void 0}}}}),f({onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.setData,r=void 0===t?function(){}:t,n=e.onLoad,o=void 0===n?function(){}:n;return function(){r.apply(void 0,arguments),o.apply(void 0,arguments)}}}),p((function(){return{dataStreamFactory:O}})),g,p((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,r=void 0===t?{}:t,n=e.describeFeatureType,a=e.columnSettings,c=void 0===a?{}:a;return{columnSettings:l(n?b(n).filter((function(e){return!s(r.propertyName||[],e.name)})).reduce((function(e,t){return o(o({},e),{},i({},t.name,{hide:!0}))}),{}):{},r.columnSettings||{},c)}})))},"./MapStore2/web/client/components/widgets/enhancers/wfsTable/noPaginationFetch.js":function(e,t,r){var n=r("./node_modules/rxjs/Rx.js"),o=r("./MapStore2/web/client/observables/wfs.js").getLayerJSONFeature;e.exports=function(e){return e.switchMap((function(e){var t=e.layer,r=void 0===t?{}:t,i=e.options,a=void 0===i?{}:i,s=e.filter,l=e.onLoad,c=void 0===l?function(){}:l,u=e.onLoadError,p=void 0===u?function(){}:u;return o(r,s,{timeout:15e3,params:{propertyName:a.propertyName,viewParams:a.viewParams}}).map((function(){return{loading:!1,error:void 0}})).do((function(e){return c({features:e.features,pagination:{totalFeatures:e.totalFeatures}})})).catch((function(e){return n.Observable.of({loading:!1,error:e,data:[]}).do(p)}))}))}},"./MapStore2/web/client/components/widgets/enhancers/wfsTable/triggerFetch.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r("./node_modules/rxjs/Rx.js");e.exports=function(e){return e.filter((function(e){var t=e.layer;return(void 0===t?{}:t).name})).distinctUntilChanged((function(e,t){var r,n,o=e.layer,i=void 0===o?{}:o,a=e.options,s=void 0===a?{}:a,l=e.filter,c=e.sortOptions;return t.layer&&i.name===t.layer.name&&i.loadingError===t.layer.loadingError&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.propertyName===t.propertyName&&e.viewParams===t.viewParams}(s,t.options)&&(r=l,n=t.filter,r===n)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sortBy===t.sortBy&&e.sortOrder===t.sortOrder}(c,t.sortOptions)})).map((function(e){return o(o({},e),{},{features:[],pages:[],pagination:{}})}))}},"./MapStore2/web/client/components/widgets/enhancers/wfsTable/virtualScrollFetch.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/rxjs/Rx.js"),s=r("./MapStore2/web/client/observables/wfs.js").getLayerJSONFeature,l=r("./MapStore2/web/client/utils/FeatureGridUtils.js"),c=l.getCurrentPaginationOptions,u=l.updatePages;e.exports=function(e){return function(t){return t.switchMap((function(t){var r=t.layer,n=void 0===r?{}:r,i=t.size,l=void 0===i?20:i,p=t.maxStoredPages,d=void 0===p?5:p,f=t.filter,m=t.options,y=void 0===m?{}:m,b=t.pages,g=t.features,h=void 0===g?[]:g,v=t.onLoad,S=void 0===v?function(){}:v,w=t.onLoadError,O=void 0===w?function(){}:w;return e.switchMap((function(e,t){var r=e.pagesRange,i=e.pagination,p=void 0===i?{}:i;return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(t),s(n,f,o(o({},c(r,b,l)),{},{timeout:15e3,totalFeatures:p.totalFeatures,propertyName:y.propertyName,viewParams:y.viewParams})).do((function(e){return S(o(o({},u(e,r,{pages:b,features:h},o(o({},c(r,b,l)),{},{size:l,maxStoredPages:d}))),{},{pagination:{totalFeatures:e.totalFeatures}}))})).map((function(){return{loading:!1}})).catch((function(e){return a.Observable.of({loading:!1,error:e}).do(O)})).startWith({loading:!0})}))}))}}},"./MapStore2/web/client/components/widgets/enhancers/withGroupColor.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js").withProps,s=r("./MapStore2/node_modules/lodash/lodash.js"),l=s.get,c=s.head,u=function(e){return l(c(e,(function(e){return e.color})),"color")};e.exports=a((function(e){var t=e.groups,r=e.showGroupColor,n=e.headerStyle,i=void 0===n?{borderTop:"3px solid rgba(0,0,0,0)",transition:"border-color .5s ease-out"}:n;return{headerStyle:r&&t&&u(t)?o(o({},i),{},{borderTop:"3px solid ".concat(u(t))}):i}}))},"./MapStore2/web/client/components/widgets/enhancers/wpsChart.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withProps,c=r("./MapStore2/web/client/observables/wps/aggregate.js"),u=r("./MapStore2/web/client/components/misc/enhancers/propsStreamFactory.jsx"),p=r("./node_modules/rxjs/Rx.js"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.AggregationResults,r=void 0===t?[]:t,n=e.GroupByAttributes,a=void 0===n?[]:n,s=e.AggregationAttribute,l=e.AggregationFunctions;return r.map((function(e){return o(o({},a.reduce((function(t,r,n){return o(o({},t),{},i({},r,e[n]))}),{})),{},i({},"".concat(l[0],"(").concat(s,")"),e[e.length-1]))})).sort((function(e,t){var r=parseFloat(e[a]),n=parseFloat(t[a]);return isNaN(r)||isNaN(n)?e<t?-1:e>t?1:0:r-n}))},f=r("./MapStore2/web/client/utils/LayersUtils.js").getWpsUrl,m=function(e){return e.filter((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options;return r.name&&f(r)&&n&&n.aggregateFunction&&n.aggregationAttribute&&n.groupByAttributes})).distinctUntilChanged((function(e,t){var r,n,o=e.layer,i=void 0===o?{}:o,a=e.options,s=void 0===a?{}:a,l=e.filter;return t.layer&&i.name===t.layer.name&&i.loadingError===t.layer.loadingError&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.aggregateFunction===t.aggregateFunction&&e.aggregationAttribute===t.aggregationAttribute&&e.groupByAttributes===t.groupByAttributes&&e.viewParams===t.viewParams}(s,t.options)&&(r=l,n=t.filter,r===n)})).switchMap((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options,i=e.filter,a=e.onLoad,s=void 0===a?function(){}:a,l=e.onLoadError,u=void 0===l?function(){}:l;return c(f(r),o(o({featureType:r.name},n),{},{filter:i}),{timeout:15e3}).map((function(e){return{loading:!1,isAnimationActive:!1,error:void 0,data:d(e.data),series:[{dataKey:"".concat(e.data.AggregationFunctions[0],"(").concat(e.data.AggregationAttribute,")")}],xAxis:{dataKey:e.data.GroupByAttributes[0]}}})).do(s).catch((function(e){return p.Observable.of({loading:!1,error:e,data:[]}).do(u)})).startWith({loading:!0})}))};e.exports=s(l((function(){return{dataStreamFactory:m}})),u)},"./MapStore2/web/client/components/widgets/enhancers/wpsCounter.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withProps,c=r("./MapStore2/web/client/observables/wps/aggregate.js"),u=r("./MapStore2/web/client/components/misc/enhancers/propsStreamFactory.jsx"),p=r("./node_modules/rxjs/Rx.js"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.AggregationResults,r=void 0===t?[]:t,n=e.GroupByAttributes,a=void 0===n?[]:n,s=e.AggregationAttribute,l=e.AggregationFunctions;return r.map((function(e){return o(o({},a.reduce((function(t,r,n){return o(o({},t),{},i({},r,e[n]))}),{})),{},i({},"".concat(l[0],"(").concat(s,")"),e[e.length-1]))}))},f=r("./MapStore2/web/client/utils/LayersUtils.js").getWpsUrl,m=function(e){return e.filter((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options;return r.name&&f(r)&&n&&n.aggregateFunction&&n.aggregationAttribute})).distinctUntilChanged((function(e,t){var r,n,o=e.layer,i=void 0===o?{}:o,a=e.options,s=void 0===a?{}:a,l=e.filter;return t.layer&&i.name===t.layer.name&&i.loadingError===t.layer.loadingError&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.aggregateFunction===t.aggregateFunction&&e.aggregationAttribute===t.aggregationAttribute&&e.viewParams===t.viewParams}(s,t.options)&&(r=l,n=t.filter,r===n)})).switchMap((function(e){var t=e.layer,r=void 0===t?{}:t,n=e.options,i=e.filter,a=e.onLoad,s=void 0===a?function(){}:a,l=e.onLoadError,u=void 0===l?function(){}:l;return c(f(r),o(o({featureType:r.name},n),{},{filter:i}),{timeout:15e3}).map((function(e){return{loading:!1,isAnimationActive:!1,error:void 0,data:d(e.data),series:[{dataKey:"".concat(e.data.AggregationFunctions[0],"(").concat(e.data.AggregationAttribute,")")}]}})).do(s).catch((function(e){return p.Observable.of({loading:!1,error:e,data:[]}).do(u)})).startWith({loading:!0})}))};e.exports=s(l((function(){return{dataStreamFactory:m}})),u)},"./MapStore2/web/client/components/widgets/view/WidgetsBar.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withPropsOnChange,c=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.widgetType,r=e.type,n=t&&"chart"!==t?t:r;switch(n){case"text":return"sheet";case"table":return"features-grid";case"pie":return"pie-chart";case"line":return"1-line";case"map":return"1-map";case"counter":return"counter";default:return"stats"}};e.exports=s(l(["btnGroupProps"],(function(e){var t=e.btnGroupProps;return{btnGroupProps:o(o({},t),{},{className:"widgets-bar"+(t&&t.className?" ".concat(t.className):"")})}})),l(["widgets","onClick"],(function(e){var t=e.widgets,r=void 0===t?[]:t,n=e.onClick,o=void 0===n?function(){}:n;return{buttons:r.map((function(e){return{glyph:u(e),tooltip:e.title,className:e.collapsed?"btn-tray":"btn-tray active",onClick:function(){return o(e)}}}))}})))(c)},"./MapStore2/web/client/components/widgets/view/WidgetsView.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=r("./node_modules/react/index.js"),c=r("./node_modules/recompose/es/Recompose.js"),u=c.pure,p=c.branch,d=r("./MapStore2/node_modules/lodash/lodash.js"),f=d.find,m=d.mapValues,y=r("./node_modules/react-grid-layout/index.js"),b=y.Responsive,g=p((function(e){var t=e.useDefaultWidthProvider;return void 0===t||t}),y.WidthProvider)(b),h=r("./MapStore2/web/client/components/widgets/enhancers/withGroupColor.jsx")(r("./MapStore2/web/client/components/widgets/widget/DefaultWidget.jsx")),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e){return f(e.widgets,(function(e){return e===t.id}))}))};r("./node_modules/react-grid-layout/css/styles.css");var S=function(e){return e<480?e-34:e};e.exports=u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.style,o=e.className,a=void 0===o?"":o,c=e.toolsOptions,u=void 0===c?{}:c,p=e.rowHeight,d=void 0===p?208:p,y=e.breakpoints,b=void 0===y?{lg:1200,md:996,sm:768,xs:480,xxs:0}:y,w=e.cols,O=void 0===w?{lg:6,md:6,sm:4,xs:2,xxs:1}:w,j=e.widgets,E=void 0===j?[]:j,x=e.layouts,P=e.dependencies,T=e.verticalCompact,M=void 0!==T&&T,A=e.compactMode,C=e.useDefaultWidthProvider,_=void 0===C||C,I=e.measureBeforeMount,R=e.width,L=e.showGroupColor,D=e.groups,k=void 0===D?[]:D,N=e.canEdit,F=void 0===N||N,G=e.getWidgetClass,U=void 0===G?function(){}:G,B=e.onWidgetClick,z=void 0===B?function(){}:B,W=e.updateWidgetProperty,V=void 0===W?function(){}:W,H=e.deleteWidget,q=void 0===H?function(){}:H,Y=e.toggleCollapse,Z=void 0===Y?function(){}:Y,Q=e.editWidget,K=void 0===Q?function(){}:Q,X=e.onLayoutChange,J=void 0===X?function(){}:X,$=e.language,ee=e.env,te=s(e,["id","style","className","toolsOptions","rowHeight","breakpoints","cols","widgets","layouts","dependencies","verticalCompact","compactMode","useDefaultWidthProvider","measureBeforeMount","width","showGroupColor","groups","canEdit","getWidgetClass","onWidgetClick","updateWidgetProperty","deleteWidget","toggleCollapse","editWidget","onLayoutChange","language","env"]),re=E.filter((function(e){var t=e.mapSync,r=e.dependenciesMap;return t&&r})).map((function(e){return e.dependenciesMap})),ne=function(e){return"table"===e.widgetType&&re.filter((function(t){return Object.keys(t).filter((function(r){return t[r]&&-1!==t[r].indexOf(e.id)})).length>0})).length>0};return l.createElement(g,{key:t||"widgets-view",useDefaultWidthProvider:_,measureBeforeMount:I,width:_?void 0:S(R),isResizable:F,isDraggable:F,draggableHandle:".draggableHandle",onLayoutChange:J,preventCollision:!0,style:r,className:"widget-container ".concat(a," ").concat(F?"":"no-drag"),rowHeight:d,autoSize:!0,verticalCompact:M,compactMode:A,breakpoints:b,cols:O,layouts:x?JSON.parse(JSON.stringify(m(x,(function(e){return e.map((function(e){var t=f(E,{id:e.i});return t?i(i({},e),{},{static:t.dataGrid&&t.dataGrid.static}):e}))})))):void 0},E.map((function(e){return l.createElement("div",{key:e.id,"data-grid":e.dataGrid,onClick:function(){return z(e)},className:U(e)},l.createElement(h,n({"data-grid":e.dataGrid},te,e,{quickFilters:ne(e)?e.quickFilters:void 0,toolsOptions:u,groups:v(k,e),showGroupColor:L,dependencies:P,enableColumnFilters:ne(e),canEdit:F,updateProperty:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return V.apply(void 0,[e.id].concat(r))},toggleCollapse:function(){return Z(e)},onDelete:function(){return q(e)},onEdit:function(){return K(e)},language:$,env:ee})))})))}))},"./MapStore2/web/client/components/widgets/widget/ChartView.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx")()(r("./MapStore2/web/client/components/widgets/enhancers/errorChartState.js")(r("./MapStore2/web/client/components/widgets/enhancers/emptyChartState.js")(r("./MapStore2/web/client/components/charts/SimpleChart.jsx")))),o=r("./node_modules/react-container-dimensions/lib/index.js").default,i=r("./node_modules/react/index.js");e.exports=function(e){return i.createElement("div",{className:"mapstore-widget-chart"},i.createElement(o,null,i.createElement(n,e)))}},"./MapStore2/web/client/components/widgets/widget/ChartWidget.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/widgets/widget/TableView.jsx"),s=r("./MapStore2/web/client/components/widgets/widget/ChartView.jsx"),l=r("./MapStore2/web/client/components/widgets/widget/WidgetContainer.jsx"),c=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showTable,r=e.toggleTableView,n=void 0===r?function(){}:r;return t?i.createElement(c,{onClick:function(){n()},glyph:"arrow-left pull-left"}):null};e.exports=function(e){var t=e.id,r=e.title,c=e.description,p=e.headerStyle,d=e.data,f=void 0===d?[]:d,m=e.series,y=void 0===m?[]:m,b=e.loading,g=e.icons,h=e.showTable,v=e.topRightItems,S=e.confirmDelete,w=void 0!==S&&S,O=e.onDelete,j=void 0===O?function(){}:O,E=e.toggleTableView,x=void 0===E?function(){}:E,P=e.toggleDeleteConfirm,T=void 0===P?function(){}:P,M=o(e,["id","title","description","headerStyle","data","series","loading","icons","showTable","topRightItems","confirmDelete","onDelete","toggleTableView","toggleDeleteConfirm"]);return i.createElement(l,{id:"widget-chart-".concat(t),headerStyle:p,title:r,icons:g,topLeftItems:u({loading:b,title:r,description:c,showTable:h,toggleTableView:x}),confirmDelete:w,onDelete:j,toggleDeleteConfirm:T,topRightItems:v},h?i.createElement(a,n({data:f},M)):i.createElement(s,n({id:t,isAnimationActive:!b,loading:b,data:f,series:y,iconFit:!0},M)))}},"./MapStore2/web/client/components/widgets/widget/CounterView.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx")(),c=r("./MapStore2/web/client/components/widgets/enhancers/errorChartState.js"),u=r("./MapStore2/web/client/components/widgets/enhancers/emptyChartState.js"),p=r("./MapStore2/web/client/components/I18N/Number.jsx"),d=r("./node_modules/recompose/es/Recompose.js").compose,f=r("./MapStore2/node_modules/lodash/lodash.js").get,m=r("./node_modules/react-textfit/lib/index.js").Textfit,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,r=void 0===t?"":t,n=e.uom,o=void 0===n?"":n,i=s(e,["value","uom"]);return g.createElement(m,a({mode:"single",forceSingleModeWidth:!1,max:500,throttle:20},i),g.createElement(p,{value:r}),g.createElement("span",{style:{fontSize:"75%"}},o))},b=d(l,c,u),g=r("./node_modules/react/index.js");e.exports=b((function(e){var t=e.series,r=void 0===t?[]:t,n=e.data,i=void 0===n?[]:n,a=e.options,s=void 0===a?{}:a,l=e.style,c=void 0===l?{width:"100%",height:"100%",transform:"translate(-50%, -50%)",position:"absolute",display:"inline",padding:"1%",top:"50%",left:"50%"}:l;return g.createElement("div",{className:"counter-widget-view"},r.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dataKey,r=arguments.length>1?arguments[1]:void 0;return g.createElement(y,{key:t,uom:f(s,"seriesOptions[".concat(r,"].uom")),value:i[0][t],style:o({textAlign:"center"},c)})})))}))},"./MapStore2/web/client/components/widgets/widget/CounterWidget.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/widgets/widget/CounterView.jsx"),s=r("./MapStore2/web/client/components/widgets/widget/WidgetContainer.jsx"),l=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showTable,r=e.toggleTableView,n=void 0===r?function(){}:r;return t?i.createElement(l,{onClick:function(){n()},glyph:"arrow-left pull-left"}):null};e.exports=function(e){var t=e.id,r=e.title,l=e.description,u=e.data,p=void 0===u?[]:u,d=e.series,f=void 0===d?[]:d,m=e.loading,y=e.showTable,b=e.confirmDelete,g=void 0!==b&&b,h=e.headerStyle,v=e.icons,S=e.topRightItems,w=e.toggleTableView,O=void 0===w?function(){}:w,j=e.toggleDeleteConfirm,E=void 0===j?function(){}:j,x=e.onDelete,P=void 0===x?function(){}:x,T=o(e,["id","title","description","data","series","loading","showTable","confirmDelete","headerStyle","icons","topRightItems","toggleTableView","toggleDeleteConfirm","onDelete"]);return i.createElement(s,{className:"counter-widget",id:"widget-chart-".concat(t),title:r,icons:v,topLeftItems:c({loading:m,title:r,description:l,showTable:y,toggleTableView:O}),confirmDelete:g,onDelete:P,toggleDeleteConfirm:E,headerStyle:h,topRightItems:S},i.createElement(a,n({id:t,isAnimationActive:!m,loading:m,data:p,series:f,iconFit:!0},T)))}},"./MapStore2/web/client/components/widgets/widget/DefaultWidget.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/recompose/es/Recompose.js").compose,s=r("./MapStore2/web/client/components/widgets/enhancers/chartWidget.js"),l=r("./MapStore2/web/client/components/widgets/enhancers/counterWidget.js"),c=r("./MapStore2/web/client/components/widgets/enhancers/tableWidget.js"),u=r("./MapStore2/web/client/components/widgets/enhancers/legendWidget.js"),p=r("./MapStore2/web/client/components/widgets/enhancers/textWidget.js"),d=r("./MapStore2/web/client/components/widgets/enhancers/mapWidget.js"),f=r("./MapStore2/web/client/components/widgets/enhancers/wpsChart.js"),m=r("./MapStore2/web/client/components/widgets/enhancers/wpsCounter.js"),y=r("./MapStore2/web/client/components/widgets/enhancers/wfsTable/index.js"),b=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToFilter.js"),g=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToOptions.js"),h=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToWidget.js"),v=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToExtent.js"),S=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToLayers.js"),w=r("./MapStore2/web/client/components/widgets/enhancers/dependenciesToMapProp.js"),O=a(h,b,g,f,s)(r("./MapStore2/web/client/components/widgets/widget/ChartWidget.jsx")),j=a(p)(r("./MapStore2/web/client/components/widgets/widget/TextWidget.jsx")),E=a(h,S,w("center"),w("zoom"),v,d)(r("./MapStore2/web/client/components/widgets/widget/MapWidget.jsx")),x=a(h,g,b,y,c)(r("./MapStore2/web/client/components/widgets/widget/TableWidget.jsx")),P=a(h,b,g,m,l)(r("./MapStore2/web/client/components/widgets/widget/CounterWidget.jsx")),T=a(h,u)(r("./MapStore2/web/client/components/widgets/widget/LegendWidget.jsx"));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dependencies,r=e.toggleCollapse,a=void 0===r?function(){}:r,s=e.exportCSV,l=void 0===s?function(){}:s,c=e.exportImage,u=void 0===c?function(){}:c,p=e.onDelete,d=void 0===p?function(){}:p,f=e.onEdit,m=void 0===f?function(){}:f,y=o(e,["dependencies","toggleCollapse","exportCSV","exportImage","onDelete","onEdit"]);return"text"===y.widgetType?i.createElement(j,n({},y,{toggleCollapse:a,onDelete:d,onEdit:m})):"table"===y.widgetType?i.createElement(x,n({},y,{toggleCollapse:a,exportCSV:l,dependencies:t,onDelete:d,onEdit:m})):"counter"===y.widgetType?i.createElement(P,n({},y,{toggleCollapse:a,dependencies:t,onDelete:d,onEdit:m})):"map"===y.widgetType?i.createElement(E,n({},y,{toggleCollapse:a,dependencies:t,onDelete:d,onEdit:m})):"legend"===y.widgetType?i.createElement(T,n({},y,{toggleCollapse:a,dependencies:t,onDelete:d,onEdit:m})):i.createElement(O,n({},y,{toggleCollapse:a,exportCSV:l,dependencies:t,exportImage:u,onDelete:d,onEdit:m}))}},"./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/react/index.js"),d=r("./node_modules/react-dom/index.js"),f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Popover,b=m.Glyphicon,g=r("./MapStore2/web/client/components/misc/Overlay.jsx"),h=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"renderPopover",value:function(){return p.createElement(y,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return p.createElement(b,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return p.createElement("span",{className:"mapstore-info-popover"},this.props.trigger?p.createElement(h,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),p.createElement(g,{placement:this.props.placement,show:!0,target:function(){return d.findDOMNode(e.target)}},this.renderPopover())])}}])&&i(t.prototype,r),n&&i(t,n),c}(p.Component);u(v,"propTypes",{id:f.string,title:f.string,text:f.string,glyph:f.string,bsStyle:f.string,placement:f.string,left:f.number,top:f.number,trigger:f.oneOfType([f.array,f.bool])}),u(v,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]}),e.exports=v},"./MapStore2/web/client/components/widgets/widget/LegendView.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.isNil,u=l.isObject,p=r("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx"),d=r("./node_modules/react-bootstrap/es/index.js"),f=d.Glyphicon,m=d.Grid,y=d.Row,b=d.Col,g=r("./MapStore2/web/client/components/misc/Slider.jsx"),h=r("./MapStore2/web/client/components/TOC/fragments/WMSLegend.jsx");e.exports=function(e){var t=e.layers,r=void 0===t?[]:t,o=e.onChange,a=void 0===o?function(){}:o,l=e.legendProps,d=void 0===l?{}:l,v=e.currentZoomLvl,S=e.disableOpacitySlider,w=void 0===S||S,O=e.disableVisibility,j=void 0===O||O,E=e.scales,x=e.language,P=e.currentLocale;return s.createElement(p,{className:"compact-legend-grid",size:"sm",items:r.map((function(e){return{title:e.title&&u(e.title)&&(e.title[P]||e.title.default)||e.title,preview:j?null:s.createElement(f,{className:"text-primary",glyph:e.visibility?"eye-open":"eye-close"}),style:{opacity:e.visibility?1:.4},body:e.visibility?s.createElement("div",null,s.createElement(m,{fluid:!0},s.createElement(y,null,s.createElement(b,{xs:12,className:"ms-legend-container"},s.createElement(h,n({node:i({},e),currentZoomLvl:v,scales:E,language:x},d))))),!w&&s.createElement("div",{className:"mapstore-slider",onClick:function(e){e.stopPropagation()}},s.createElement(g,{disabled:!e.visibility,start:[c(e.opacity)?100:Math.round(100*e.opacity)],range:{min:0,max:100},onChange:function(t){return a(e.id,"layers",{opacity:parseFloat((t[0]/100).toFixed(2))})}}))):null}}))})}},"./MapStore2/web/client/components/widgets/widget/LegendWidget.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/widgets/widget/WidgetContainer.jsx"),a=r("./MapStore2/web/client/components/widgets/enhancers/emptyLegendState.js")()(r("./MapStore2/web/client/components/widgets/widget/LegendView.jsx"));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.toggleDeleteConfirm,r=void 0===t?function(){}:t,s=e.id,l=e.title,c=e.icons,u=e.headerStyle,p=e.confirmDelete,d=void 0!==p&&p,f=e.topRightItems,m=e.onDelete,y=void 0===m?function(){}:m,b=n(e,["toggleDeleteConfirm","id","title","icons","headerStyle","confirmDelete","topRightItems","onDelete"]);return o.createElement(i,{id:"widget-text-".concat(s),title:l,confirmDelete:d,onDelete:y,toggleDeleteConfirm:r,headerStyle:u,icons:c,topRightItems:f},o.createElement(a,b))}},"./MapStore2/web/client/components/widgets/widget/MapView.jsx":function(e,t,r){var n=r("./MapStore2/web/client/components/map/enhancers/autoMapType.js"),o=r("./MapStore2/web/client/components/map/enhancers/mapType.js"),i=r("./MapStore2/web/client/components/map/enhancers/autoResize.js"),a=r("./MapStore2/web/client/components/map/enhancers/getProjectionDefs.js").default,s=r("./MapStore2/web/client/components/map/enhancers/onMapViewChanges.js"),l=r("./node_modules/recompose/es/Recompose.js").compose,c=r("./MapStore2/web/client/components/map/enhancers/handlingUnsupportedProjection.js").handlingUnsupportedProjection;e.exports=l(s,i(0),n,o,a,c)(r("./MapStore2/web/client/components/map/BaseMap.jsx"))},"./MapStore2/web/client/components/widgets/widget/MapWidget.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var o=r("./node_modules/react/index.js"),i=r("./MapStore2/web/client/components/widgets/widget/WidgetContainer.jsx"),a=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),s=r("./MapStore2/node_modules/lodash/lodash.js").omit,l=(0,r("./node_modules/recompose/es/Recompose.js").withHandlers)({onMapViewChanges:function(e){var t=e.updateProperty,r=void 0===t?function(){}:t;return function(e){e.layers;var t=n(e,["layers"]);return r("map",t,"merge")}}})(r("./MapStore2/web/client/components/widgets/widget/MapView.jsx")),c=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.updateProperty,r=void 0===t?function(){}:t,n=e.toggleDeleteConfirm,u=void 0===n?function(){}:n,p=e.id,d=e.title,f=e.map,m=e.icons,y=e.hookRegister,b=e.mapStateSource,g=e.topRightItems,h=e.confirmDelete,v=void 0!==h&&h,S=e.loading,w=void 0!==S&&S,O=e.onDelete,j=void 0===O?function(){}:O,E=e.headerStyle,x=e.env;return o.createElement(i,{id:"widget-text-".concat(p),title:d,confirmDelete:v,onDelete:j,toggleDeleteConfirm:u,headerStyle:E,icons:m,topRightItems:g},o.createElement(a,{footer:o.createElement("div",{style:{height:"30px",overflow:"hidden"}},w?o.createElement("span",{style:{float:"right"}},o.createElement(c,null)):null)},o.createElement(l,{updateProperty:r,id:p,map:s(f,"mapStateSource"),mapStateSource:b,hookRegister:y,layers:f&&f.layers,options:{style:{margin:10,height:"calc(100% - 20px)"}},env:x})))}},"./MapStore2/web/client/components/widgets/widget/TableView.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=r("./node_modules/react/index.js"),l=r("./node_modules/react-bootstrap/es/index.js").Table;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=void 0===t?[]:t,n=a(e,["data"]),i=Object.keys(r.reduce((function(e,t){return o(o({},e),t)}),{}));return s.createElement("div",{className:"mapstore-widget-table"},s.createElement(l,{striped:!0},s.createElement("thead",null,s.createElement("tr",null,i.map((function(e,t){return s.createElement("th",null,t+1===i.length&&n.yAxisLabel?n.yAxisLabel:t>0?"".concat(e):e)})))),s.createElement("tbody",null,r.map((function(e){return s.createElement("tr",null,i.map((function(t){return s.createElement("td",null,e[t])})))})))))}},"./MapStore2/web/client/components/widgets/widget/TableWidget.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),a=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),s=r("./MapStore2/web/client/components/data/featuregrid/EmptyRowsView.jsx"),l=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),c=r("./MapStore2/web/client/components/widgets/enhancers/errorChartState.js"),u=r("./MapStore2/web/client/plugins/widgets/getWidgetFilterRenderers.js").getWidgetFilterRenderers,p=c(l((function(e){return!e.describeFeatureType}))(r("./MapStore2/web/client/components/data/featuregrid/FeatureGrid.jsx"))),d=r("./MapStore2/web/client/components/widgets/widget/WidgetContainer.jsx");e.exports=u((function(e){var t=e.id,r=e.title,l=e.loading,c=e.confirmDelete,u=void 0!==c&&c,f=e.enableColumnFilters,m=void 0!==f&&f,y=e.headerStyle,b=e.icons,g=e.topRightItems,h=e.toggleDeleteConfirm,v=void 0===h?function(){}:h,S=e.onDelete,w=void 0===S?function(){}:S,O=e.gridEvents,j=void 0===O?function(){}:O,E=e.pageEvents,x=void 0===E?{moreFeatures:function(){}}:E,P=e.describeFeatureType,T=e.filterRenderers,M=e.columnSettings,A=e.features,C=e.size,_=e.pages,I=e.error,R=e.pagination,L=void 0===R?{}:R,D=e.virtualScroll,k=void 0===D||D;return n.createElement(d,{id:"widget-chart-".concat(t),title:r,headerStyle:y,icons:b,confirmDelete:u,onDelete:w,toggleDeleteConfirm:v,topRightItems:g},n.createElement(i,{footer:L.totalFeatures?n.createElement("div",{style:{height:"30px",overflow:"hidden"}},l?n.createElement("span",{style:{float:"right"}},n.createElement(a,null)):null,void 0===I&&n.createElement("span",{style:{float:"left",margin:"5px"}},n.createElement(o,{msgId:"featuregrid.resultInfoVirtual",msgParams:{total:L.totalFeatures}}))):null},n.createElement(p,{emptyRowsView:function(){return n.createElement(s,{loading:l})},gridEvents:j,sortable:!1,defaultSize:!1,columnSettings:M,pageEvents:x,virtualScroll:k,enableColumnFilters:m,filterRenderers:T,features:A,pages:_,error:I,size:C,rowKey:"id",describeFeatureType:P,pagination:L})))}))},"./MapStore2/web/client/components/widgets/widget/TextWidget.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/widgets/widget/WidgetContainer.jsx"),i=r("./MapStore2/web/client/components/widgets/enhancers/emptyTextState.js")((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text;return n.createElement("div",{className:"mapstore-widget-default-content ql-editor",dangerouslySetInnerHTML:{__html:t}})}));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.toggleDeleteConfirm,r=void 0===t?function(){}:t,a=e.icons,s=e.topLeftItems,l=e.id,c=e.title,u=e.text,p=e.headerStyle,d=e.topRightItems,f=e.confirmDelete,m=void 0!==f&&f,y=e.onDelete,b=void 0===y?function(){}:y;return n.createElement(o,{id:"widget-text-".concat(l),title:c,confirmDelete:m,onDelete:b,toggleDeleteConfirm:r,headerStyle:p,icons:a,topLeftItems:s,topRightItems:d},n.createElement(i,{text:u}))}},"./MapStore2/web/client/components/widgets/widget/WidgetContainer.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),a=r("./MapStore2/web/client/components/maps/modals/ConfirmModal.jsx");e.exports=function(e){var t=e.id,r=e.title,s=e.confirmDelete,l=void 0!==s&&s,c=e.className,u=e.handle,p=void 0===u?"draggableHandle":u,d=e.toggleDeleteConfirm,f=void 0===d?function(){}:d,m=e.onDelete,y=void 0===m?function(){}:m,b=e.icons,g=e.topLeftItems,h=e.topRightItems,v=e.headerStyle,S=void 0===v?{}:v,w=e.children;return n.createElement("div",{className:"mapstore-widget-card",id:t},n.createElement(i,{className:c,header:n.createElement("div",{style:S,className:"mapstore-widget-info ".concat(p||"")},n.createElement("div",{className:"mapstore-widget-header"},n.createElement("span",{className:"widget-icons"},b),g,n.createElement("span",{className:"widget-title"},r),n.createElement("span",{className:"mapstore-widget-options"},h)))},w),l?n.createElement(a,{confirmText:n.createElement(o,{msgId:"widgets.widget.menu.delete"}),titleText:n.createElement(o,{msgId:"widgets.widget.menu.delete"}),body:n.createElement(o,{msgId:"widgets.widget.menu.confirmDelete"}),show:l,onClose:function(){return f(!1)},onConfirm:function(){return y(t)}}):null)}},"./MapStore2/web/client/epics/autocomplete.js":function(e,t,r){var n=r("./node_modules/rxjs/Rx.js"),o=r("./MapStore2/web/client/libs/ajax.js"),i=r("./MapStore2/web/client/actions/queryform.js"),a=i.UPDATE_FILTER_FIELD,s=i.updateFilterFieldOptions,l=i.loadingFilterFieldOptions,c=i.setAutocompleteMode,u=i.toggleMenu,p=r("./MapStore2/web/client/actions/wfsquery.js").FEATURE_TYPE_SELECTED,d=r("./MapStore2/web/client/utils/ogc/WPS/autocomplete.js").getWpsPayload,f=r("./MapStore2/node_modules/lodash/lodash.js"),m=f.isArray,y=f.startsWith,b=r("./MapStore2/web/client/actions/notifications.js").error,g=r("./MapStore2/web/client/selectors/query.js").typeNameSelector,h=r("./MapStore2/web/client/selectors/queryform.js"),v=h.maxFeaturesWPSSelector,S=h.appliedFilterSelector,w=h.storedFilterSelector,O=r("./MapStore2/web/client/utils/ConfigUtils.js").getParsedUrl,j=r("./MapStore2/web/client/selectors/catalog.js").authkeyParamNameSelector;e.exports={isAutoCompleteEnabled:function(e,t){return e.ofType(p).switchMap((function(e){var r=O(e.url,{version:"1.0.0",REQUEST:"DescribeProcess",IDENTIFIER:"gs:PagedUnique"},j(t.getState()));return null===r?n.Observable.of(c(!1)):n.Observable.fromPromise(o.post(r,null,{timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/xml"}}).then((function(e){return e.data}))).switchMap((function(e){return y(e,"<ows:ExceptionReport")?n.Observable.of(c(!1)):n.Observable.of(c(!0))})).catch((function(){return n.Observable.of(c(!1))}))}))},fetchAutocompleteOptionsEpic:function(e,t){return e.ofType(a).debounce((function(e){return n.Observable.timer(e.fieldOptions.delayDebounce||0)})).filter((function(e){return"value"===e.fieldName&&"string"===e.fieldType&&t.getState().queryform.autocompleteEnabled})).switchMap((function(e){var r=t.getState(),i=v(r),a=r.queryform&&r.queryform.filterFields&&r.queryform.filterFields.filter((function(t){return t.rowId===e.rowId}))[0];if("selected"===e.fieldOptions.selected)return n.Observable.from([s(a,[],0)]);var p=d({attribute:a.attribute,layerName:g(r),layerFilter:S(r)||w(r),maxFeatures:i,startIndex:(e.fieldOptions.currentPage-1)*i,value:e.fieldValue}),f=O(r.query.url,{outputFormat:"json"},j(t.getState()));return null===f?n.Observable.of(c(!1)):n.Observable.fromPromise(o.post(f,p,{timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/xml"}}).then((function(e){return e.data}))).switchMap((function(t){var r=m(t.values)?t.values:[t.values],o=t.size;return n.Observable.from([s(a,r,o),u(e.rowId,!0)])})).startWith(l(!0,a)).catch((function(){return n.Observable.from([s(a,[],0),b({title:"warning",message:"warning",action:{label:"warning"},autoDismiss:3,position:"tr"}),u(e.rowId,!0)])})).concat([l(!1,a)])}))}}},"./MapStore2/web/client/epics/backgroundselector.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/node_modules/lodash/lodash.js").head,u=r("./MapStore2/web/client/actions/backgroundselector.js"),p=u.ADD_BACKGROUND,d=u.ADD_BACKGROUND_PROPERTIES,f=u.SET_CURRENT_BACKGROUND_LAYER,m=u.BACKGROUND_ADDED,y=u.BACKGROUND_EDITED,b=u.REMOVE_BACKGROUND,g=u.createBackgroundsList,h=u.clearModalParameters,v=u.setBackgroundModalParams,S=u.setCurrentBackgroundLayer,w=u.allowBackgroundsDeletion,O=r("./MapStore2/web/client/actions/controls.js").setControlProperty,j=r("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,E=r("./MapStore2/web/client/actions/catalog.js").changeSelectedService,x=r("./MapStore2/web/client/actions/layers.js"),P=x.changeLayerProperties,T=x.removeNode,M=r("./MapStore2/web/client/selectors/layers.js"),A=M.getLayerFromId,C=M.currentBackgroundSelector,_=r("./MapStore2/web/client/selectors/backgroundselector.js").backgroundLayersSelector,I=r("./MapStore2/web/client/observables/wms.js").getLayerCapabilities,R=r("./MapStore2/web/client/utils/LayersUtils.js").formatCapabitiliesOptions;e.exports={accessMetadataExplorer:function(e){return e.ofType(p).switchMap((function(){return l.Observable.of(O("metadataexplorer","enabled",!0),w(!1),E("default_map_backgrounds"))}))},addBackgroundPropertiesEpic:function(e){return e.ofType(d).switchMap((function(e){var t=e.modalParams,r=l.Observable.of(v(a(a({},t),{},{loading:!1})));return t.layer&&"wms"===t.layer.type?l.Observable.of(v(a(a({},t),{},{loading:!0}))).concat(I(t.layer).switchMap((function(e){return l.Observable.of(v(a(a({},t),{},{loading:!1,capabilities:R(e)})))})).catch((function(){return r}))):r}))},backgroundsListInit:function(e){return e.ofType(j).switchMap((function(e){var t,r=e.config,o=r.map&&r.map.backgrounds||[],i=(r.map&&r.map.layers||[]).filter((function(e){return"background"===e.group})),a=o.filter((function(e){return!!e.thumbnail})).map((function(e){return P(e.id,{thumbURL:function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),i=0;i<t.length;++i)o[i]=t.charCodeAt(i);return URL.createObjectURL(new Blob([n],{type:r}))}(e.thumbnail)})})),s=c(i.filter((function(e){return e.visibility})));return(t=l.Observable).of.apply(t,n(a.concat(g(o))).concat(n(s?[S(s.id)]:[])))}))},setCurrentBackgroundLayerEpic:function(e,t){return e.ofType(f).switchMap((function(e){var r,o=e.layerId,i=t.getState(),a=A(i,o);return(r=l.Observable).of.apply(r,n(a&&"background"===a.group?[O("backgroundSelector","tempLayer",a),O("backgroundSelector","currentLayer",a)]:[]))}))},backgroundAddedEpic:function(e,t){return e.ofType(m).mergeMap((function(e){var r=e.layerId,n=t.getState(),o=A(n,r);return o?l.Observable.of(P(o.id,{visibility:!0}),S(o.id),h()):l.Observable.empty()}))},backgroundEditedEpic:function(e,t){return e.ofType(y).mergeMap((function(e){var r=e.layerId,n=t.getState();return A(n,r)?l.Observable.of(h()):l.Observable.empty()}))},backgroundRemovedEpic:function(e,t){return e.ofType(b).mergeMap((function(e){var r=e.backgroundId,n=t.getState(),o=A(n,r),i=_(n)||[],a=C(n)||{},s=r===a.id?c(i.filter((function(e){return e.id!==r&&!e.invalid}))):a;return o?l.Observable.of(T(r,"layers"),P(s.id,{visibility:!0}),S(s.id)):l.Observable.empty()}))}}},"./MapStore2/web/client/epics/catalog.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/rxjs/Rx.js"),o=r("./node_modules/axios/index.js"),i=r.n(o),a=r("./node_modules/xpath/xpath.js"),s=r.n(a),l=r("./node_modules/xmldom/lib/dom-parser.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=r("./MapStore2/web/client/actions/catalog.js"),p=r("./MapStore2/web/client/actions/layers.js"),d=r("./MapStore2/web/client/actions/notifications.js"),f=r("./MapStore2/web/client/actions/controls.js"),m=r("./MapStore2/web/client/actions/featuregrid.js"),y=r("./MapStore2/web/client/actions/mapInfo.js"),b=r("./MapStore2/web/client/actions/backgroundselector.js"),g=r("./MapStore2/web/client/selectors/catalog.js"),h=r("./MapStore2/web/client/selectors/backgroundselector.js"),v=r("./MapStore2/web/client/selectors/locale.js"),S=r("./MapStore2/web/client/selectors/layers.js"),w=r("./MapStore2/web/client/utils/CatalogUtils.js"),O=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),j=r.n(O),E=r("./MapStore2/web/client/utils/LayersUtils.js"),x=r.n(E);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(e){return{recordSearchEpic:function(t,r){return t.ofType(u.TEXT_SEARCH).switchMap((function(t){var o=t.format,i=t.url,a=t.startPosition,s=t.maxRecords,l=t.text,c=t.options;return n.Observable.defer((function(){return e[o].textSearch(i,a,s,l,I({options:c},Object(g.catalogSearchInfoSelector)(r.getState())))})).switchMap((function(e){return e.error?n.Observable.of(Object(u.recordsLoadError)(e)):n.Observable.of(Object(u.recordsLoaded)({url:i,startPosition:a,maxRecords:s,text:l},e))})).startWith(Object(u.setLoading)(!0)).catch((function(e){return n.Observable.of(Object(u.recordsLoadError)(e))}))}))},addLayersFromCatalogsEpic:function(t,r){return t.ofType(u.ADD_LAYERS_FROM_CATALOGS).filter((function(e){var t=e.layers,r=e.sources;return Object(c.isArray)(t)&&Object(c.isArray)(r)&&t.length&&t.length===r.length})).switchMap((function(t){var o=t.layers,i=t.sources,a=t.options,s=t.startPosition,l=void 0===s?1:s,u=t.maxRecords,p=void 0===u?4:u,d=r.getState(),f=a||Object(g.searchOptionsSelector)(d),m=Object(g.servicesSelector)(d),y=o.filter((function(e,t){return!!m[i[t]]})).map((function(t,r){var a=m[i[r]],s=a.type,c=a.url,u=o[r];return n.Observable.defer((function(){return e[s].textSearch(c,l,p,u,f).catch((function(){return{results:[]}}))})).map((function(e){return I(I({},e),{},{format:s,url:c,text:u})}))}));return n.Observable.forkJoin(y).switchMap((function(e){return Object(c.isArray)(e)&&e.length?n.Observable.of(e.map((function(e){var t=e.format,r=e.url,o=e.text,i=C(e,["format","url","text"]),a=Object(v.currentMessagesSelector)(d),s=Object(w.getCatalogRecords)(t,i,f,a)||[],l=Object(c.head)(s.filter((function(e){return e.identifier===o}))),u=Object(w.extractOGCServicesReferences)(l),p=u.wms,m=u.wmts,y={},b={},h=Object(g.authkeyParamNameSelector)(d);if(p){var S=Object(w.buildSRSMap)(p.SRS);if(p.SRS.length>0&&!j.a.isAllowedSRS("EPSG:3857",S))return n.Observable.empty();y=Object(w.recordToLayer)(l,"wms",{removeParams:h,catalogURL:"csw"===t&&r?r+"?request=GetRecordById&service=CSW&version=2.0.2&elementSetName=full&id="+l.identifier:r},b)}else if(m){y={};var O=Object(w.buildSRSMap)(m.SRS);if(m.SRS.length>0&&!j.a.isAllowedSRS("EPSG:3857",O))return n.Observable.empty();y=Object(w.recordToLayer)(l,"wmts",{removeParams:h},b)}else{Object(w.extractEsriReferences)(l).esri&&(y=Object(w.esriToLayer)(l,b))}return l?y:o}))):n.Observable.empty()}))})).mergeMap((function(e){if(e){var t=e.filter((function(e){return Object(c.isString)(e)})).join(" "),r=[];return t&&(r=[Object(u.recordsNotFound)(t)]),r=[].concat(T(r),T(e.filter((function(e){return Object(c.isObject)(e)})).map((function(e){return Object(p.addLayer)(e)})))),n.Observable.from(r)}return n.Observable.empty()})).catch((function(){return n.Observable.empty()}))},newCatalogServiceAdded:function(t,r){return t.ofType(u.ADD_SERVICE).switchMap((function(){var t=r.getState(),o=Object(g.newServiceSelector)(t);return n.Observable.of(o).switchMap((function(t){var r,o,i;return null!==(r=null===(o=e[t.type])||void 0===o||null===(i=o.validate)||void 0===i?void 0:i.call(o,t))&&void 0!==r?r:n.Observable.of(t)})).switchMap((function(t){var r,o,i;return null!==(r=null===(o=e[t.type])||void 0===o||null===(i=o.testService)||void 0===i?void 0:i.call(o,t))&&void 0!==r?r:n.Observable.of(t)})).switchMap((function(){return n.Observable.of(Object(u.addCatalogService)(o),Object(d.success)({title:"notification.success",message:"catalog.notification.addCatalogService",autoDismiss:6,position:"tc"}))})).startWith(Object(u.savingService)(!0)).catch((function(e){return n.Observable.of(Object(d.error)({exception:e,title:"notification.warning",message:e.notification||"catalog.notification.warningAddCatalogService",autoDismiss:6,position:"tc"}))})).concat(n.Observable.of(Object(u.savingService)(!1)))}))},deleteCatalogServiceEpic:function(e,t){return e.ofType(u.DELETE_SERVICE).switchMap((function(){var e=t.getState(),r=Object(g.selectedServiceSelector)(e),o=Object(g.servicesSelector)(e),i=o[r]?Object(d.success)({title:"notification.warning",message:"catalog.notification.serviceDeletedCorrectly",autoDismiss:6,position:"tc"}):Object(d.error)({title:"notification.warning",message:"catalog.notification.impossibleDeleteService",autoDismiss:6,position:"tc"}),a=Object(u.deleteCatalogService)(r);return o[r]?n.Observable.of(i,a):n.Observable.of(i)}))},openCatalogEpic:function(e){return e.ofType(f.SET_CONTROL_PROPERTY).filter((function(e){return"metadataexplorer"===e.control&&e.value})).switchMap((function(){return n.Observable.of(Object(m.closeFeatureGrid)(),Object(y.purgeMapInfoResults)(),Object(y.hideMapinfoMarker)())}))},getMetadataRecordById:function(t,r){return t.ofType(u.GET_METADATA_RECORD_BY_ID).switchMap((function(t){var o=t.metadataOptions,a=void 0===o?{}:o,u=r.getState(),f=Object(S.getSelectedLayer)(u);return n.Observable.defer((function(){return e.wms.getCapabilities(x.a.getCapabilitiesUrl(f))})).switchMap((function(t){var r=Object(c.get)(t,"capability.layer.layer",[]),o=1===r.length?r[0].metadataURL:Object(c.find)(r,(function(e){return e.name===f.name.split(":")[1]})),u=Object(c.get)(Object(c.find)(o,(function(e){return Object(c.isString)(e.type)&&"iso19115:2003"===e.type.toLowerCase()&&("application/xml"===e.format||"text/xml"===e.format)})),"onlineResource.href"),m=Object(c.get)(Object(c.find)(o,(function(e){return Object(c.isString)(e.type)&&"iso19115:2003"===e.type.toLowerCase()&&"text/html"===e.format})),"onlineResource.href"),y=Object(c.find)(Object(c.get)(a,"extractors",[]),(function(e){var t=e.properties,r=e.layersRegex,n=r?new RegExp(r):null;return Object(c.isObject)(t)&&(!r||n.test(f.name))})),b=m?{metadataUrl:m}:{},g=n.Observable.defer((function(){return e.csw.getRecordById(f.catalogURL)})).switchMap((function(e){return e&&e.error?n.Observable.of(Object(d.error)({title:"notification.warning",message:"toc.layerMetadata.notification.warnigGetMetadataRecordById",autoDismiss:6,position:"tc"}),Object(p.showLayerMetadata)(b,!1)):e&&e.dc?n.Observable.of(Object(p.showLayerMetadata)(I(I({},b),e.dc),!1)):n.Observable.empty()})),h=n.Observable.defer((function(){return i.a.get(u)})).pluck("data").map((function(e){return(new l.DOMParser).parseFromString(e)})).map((function(e){var t=s.a.useNamespaces(a.xmlNamespaces||{});return function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object(c.toPairs)(r).reduce((function(r,o){var i,a=P(o,2),s=a[0],l=a[1];if(Object(c.isObject)(l)&&Object(c.isString)(l.xpath)&&Object(c.isObject)(l.properties)&&Object(c.keys)(l.properties).length>0){0===(i=t(l.xpath,n).map((function(t){return e(l.properties,t)}))).length&&(i=null)}else{var u,p=t(l,n);if(1===p.length)i=null!==(u=Object(c.get)(p[0],"nodeValue"))&&void 0!==u?u:Object(c.get)(p[0],"childNodes[0].nodeValue");else p.length>1&&(i=p.map((function(e){return Object(c.get)(e,"childNodes[0].nodeValue")})).filter((function(e){return!!e})))}return I(I({},r),i?R({},s,i):{})}),{})}(y.properties,e)})).switchMap((function(e){return n.Observable.of(Object(p.showLayerMetadata)(I(I({},b),e),!1))}));return u&&y?h:f.catalogURL?g:n.Observable.of(Object(p.showLayerMetadata)(b,!1))})).startWith(Object(p.showLayerMetadata)({},!0)).catch((function(){return n.Observable.of(Object(d.error)({title:"notification.warning",message:"toc.layerMetadata.notification.warnigGetMetadataRecordById",autoDismiss:6,position:"tc"}),Object(p.showLayerMetadata)({},!1))}))}))},autoSearchEpic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,o=void 0===r?function(){}:r;return e.ofType(u.CHANGE_TEXT).debounce((function(){var e=o(),t=Object(g.delayAutoSearchSelector)(e);return n.Observable.timer(t)})).switchMap((function(e){var t=e.text,r=o(),i=Object(g.pageSizeSelector)(r),a=Object(g.selectedCatalogSelector)(r),s=a.type,l=a.url;return n.Observable.of(Object(u.textSearch)({format:s,url:l,startPosition:1,maxRecords:i,text:t}))}))},catalogCloseEpic:function(e,t){return e.ofType(u.CATALOG_CLOSE).switchMap((function(){var e,r=t.getState(),o=Object(h.metadataSourceSelector)(r),i=Object(g.servicesSelector)(r);return(e=n.Observable).of.apply(e,T([Object(f.setControlProperties)("metadataexplorer","enabled",!1,"group",null),Object(u.changeCatalogMode)("view"),Object(u.resetCatalog)()].concat("backgroundSelector"===o?[Object(u.changeSelectedService)(Object(c.head)(Object(c.keys)(i))),Object(b.allowBackgroundsDeletion)(!0)]:[])))}))}}}},"./MapStore2/web/client/epics/featuregrid.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.get,p=c.head,d=c.isEmpty,f=c.find,m=c.castArray,y=c.includes,b=c.reduce,g=r("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE,h=r("./MapStore2/web/client/libs/ajax.js"),v=r("./node_modules/@turf/bbox/index.js"),S=r("./MapStore2/web/client/utils/ogc/Filter/filter.js").fidFilter,w=r("./MapStore2/web/client/utils/FeatureGridUtils.js"),O=w.getDefaultFeatureProjection,j=w.getPagesToLoad,E=r("./MapStore2/web/client/utils/MapUtils.js").isSimpleGeomType,x=r("./node_modules/object-assign/index.js"),P=r("./MapStore2/web/client/actions/draw.js"),T=P.changeDrawingStatus,M=P.GEOMETRY_CHANGED,A=P.drawSupportReset,C=r("./MapStore2/web/client/utils/ogc/WFST/RequestBuilder.js"),_=r("./MapStore2/web/client/utils/ogc/WFS/base.js").findGeometryProperty,I=r("./MapStore2/web/client/actions/mapInfo.js"),R=I.FEATURE_INFO_CLICK,L=I.HIDE_MAPINFO_MARKER,D=r("./MapStore2/web/client/actions/wfsquery.js"),k=D.query,N=D.QUERY,F=D.QUERY_CREATE,G=D.QUERY_RESULT,U=D.LAYER_SELECTED_FOR_SEARCH,B=D.FEATURE_TYPE_LOADED,z=D.UPDATE_QUERY,W=D.featureTypeSelected,V=D.createQuery,H=D.updateQuery,q=D.TOGGLE_SYNC_WMS,Y=D.QUERY_ERROR,Z=D.FEATURE_LOADING,Q=r("./MapStore2/web/client/actions/queryform.js"),K=Q.reset,X=Q.QUERY_FORM_SEARCH,J=Q.loadFilter,$=r("./MapStore2/web/client/actions/map.js"),ee=$.zoomToExtent,te=$.CLICK_ON_MAP,re=r("./MapStore2/web/client/selectors/map.js").projectionSelector,ne=r("./MapStore2/web/client/actions/layers.js"),oe=ne.BROWSE_DATA,ie=ne.changeLayerProperties,ae=ne.refreshLayerVersion,se=ne.CHANGE_LAYER_PARAMS,le=r("./MapStore2/web/client/actions/mapInfo.js"),ce=le.closeIdentify,ue=le.hideMapinfoMarker,pe=r("./MapStore2/web/client/actions/featuregrid.js"),de=pe.SORT_BY,fe=pe.CHANGE_PAGE,me=pe.SAVE_CHANGES,ye=pe.SAVE_SUCCESS,be=pe.DELETE_SELECTED_FEATURES,ge=pe.featureSaving,he=pe.changePage,ve=pe.saveSuccess,Se=pe.saveError,we=pe.clearChanges,Oe=pe.setLayer,je=pe.clearSelection,Ee=pe.toggleViewMode,xe=pe.toggleTool,Pe=pe.CLEAR_CHANGES,Te=pe.START_EDITING_FEATURE,Me=pe.TOGGLE_MODE,Ae=pe.MODES,Ce=pe.geometryChanged,_e=pe.DELETE_GEOMETRY,Ie=pe.deleteGeometryFeature,Re=pe.SELECT_FEATURES,Le=pe.DESELECT_FEATURES,De=pe.START_DRAWING_FEATURE,ke=pe.CREATE_NEW_FEATURE,Ne=pe.CLEAR_CHANGES_CONFIRMED,Fe=pe.FEATURE_GRID_CLOSE_CONFIRMED,Ge=pe.openFeatureGrid,Ue=pe.closeFeatureGrid,Be=pe.OPEN_FEATURE_GRID,ze=pe.CLOSE_FEATURE_GRID,We=pe.CLOSE_FEATURE_GRID_CONFIRM,Ve=pe.OPEN_ADVANCED_SEARCH,He=pe.ZOOM_ALL,qe=pe.UPDATE_FILTER,Ye=pe.START_SYNC_WMS,Ze=pe.STOP_SYNC_WMS,Qe=pe.startSyncWMS,Ke=pe.storeAdvancedSearchFilter,Xe=pe.fatureGridQueryResult,Je=pe.LOAD_MORE_FEATURES,$e=pe.SET_TIME_SYNC,et=pe.updateFilter,tt=pe.selectFeatures,rt=pe.DEACTIVATE_GEOMETRY_FILTER,nt=pe.ACTIVATE_TEMPORARY_CHANGES,ot=pe.disableToolbar,it=pe.FEATURES_MODIFIED,at=pe.deactivateGeometryFilter,st=r("./MapStore2/web/client/actions/controls.js"),lt=st.TOGGLE_CONTROL,ct=st.resetControls,ut=st.setControlProperty,pt=st.toggleControl,dt=r("./MapStore2/web/client/selectors/controls.js"),ft=dt.queryPanelSelector,mt=dt.showCoordinateEditorSelector,yt=dt.drawerEnabledControlSelector,bt=r("./MapStore2/web/client/actions/highlight.js").setHighlightFeaturesPath,gt=r("./MapStore2/web/client/selectors/featuregrid.js"),ht=gt.selectedFeaturesSelector,vt=gt.changesMapSelector,St=gt.newFeaturesSelector,wt=gt.hasChangesSelector,Ot=gt.hasNewFeaturesSelector,jt=gt.selectedFeatureSelector,Et=gt.selectedFeaturesCount,xt=gt.selectedLayerIdSelector,Pt=gt.isDrawingSelector,Tt=gt.modeSelector,Mt=gt.isFeatureGridOpen,At=gt.timeSyncActive,Ct=gt.hasSupportedGeometry,_t=gt.queryOptionsSelector,It=gt.getAttributeFilters,Rt=gt.selectedLayerSelector,Lt=r("./MapStore2/web/client/actions/notifications.js"),Dt=Lt.error,kt=Lt.warning,Nt=r("./MapStore2/web/client/selectors/query.js"),Ft=Nt.describeSelector,Gt=Nt.isDescribeLoaded,Ut=Nt.getFeatureById,Bt=Nt.wfsURL,zt=Nt.wfsFilter,Wt=Nt.featureCollectionResultSelector,Vt=Nt.isSyncWmsActive,Ht=Nt.featureLoadingSelector,qt=r("./MapStore2/web/client/utils/ObservableUtils.js").interceptOGCError,Yt=r("./MapStore2/web/client/utils/FeatureGridUtils.js"),Zt=Yt.gridUpdateToQueryUpdate,Qt=Yt.updatePages,Kt=r("./MapStore2/web/client/selectors/queryform.js"),Xt=Kt.queryFormUiStateSelector,Jt=Kt.spatialFieldSelector,$t=r("./MapStore2/web/client/utils/FilterUtils.jsx").composeAttributeFilters,er=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),tr=r("./MapStore2/web/client/utils/MapUtils.js"),rr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.page,n=t.size,o=u(e,"featuregrid.pagination"),i=void 0!==n?n:o.size;return{startIndex:void 0!==r?r*i:o.page*i,maxFeatures:i}},nr=function(e,t){return a(a({},e),{},{pagination:t})},or=function(e,t,r){var n=r.insert,o=r.update,i=r.propertyChange,a=r.getPropertyName;return(0,r.transaction)(t.map((function(e){return n(e)})),Object.keys(e).map((function(t){return Object.keys(e[t]).map((function(r){return o([i(a(r),e[t][r]),S("ogc",t)])}))})))},ir=function(e,t){return l.Observable.defer((function(){return h.post(e,t,{headers:{"Content-Type":"application/xml"}})})).let(qt)},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.featuregrid;return ie(t.selectedLayer,{filterObj:void 0})},sr=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.update,n=void 0===r?{}:r,o=Rt(e.getState()),i=o.id,s=u(e.getState(),'featuregrid.advancedFilters["'.concat(i,'"]'));if(s){var l=It(e.getState())||{},c=b(l,(function(e,t,r){return Zt(a({attribute:r},t),e)}),{}),p=$t([s,c],"AND","AND"),d=a(a({},s),p);return H(d,n.type)}return H(Zt(n,zt(e.getState())),n.type)}};e.exports={featureGridBrowseData:function(e,t){return e.ofType(oe).switchMap((function(r){var o,i=r.layer,a=u(t.getState(),"query.typeName");return(o=l.Observable).of.apply(o,n(a!==i.name?[K()]:[]).concat([ut("drawer","enabled",!1),Oe(i.id),Ge()])).merge(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.url,o=r.name,i=r.id,a=u(t.getState(),'featuregrid.advancedFilters["'.concat(i,'"]')),s=function(){return V(n,a||{featureTypeName:o,filterType:"OGC",ogcVersion:"1.1.0"})};return Gt(t.getState(),o)?l.Observable.of(s(),W(n,o)):l.Observable.of(W(n,o)).merge(e.ofType(B).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.typeName;return t===o})).map(s))}(e,t,i))}))},featureGridLayerSelectionInitialization:function(e){return e.ofType(U).switchMap((function(e){return l.Observable.of(Oe(e.id))}))},featureGridStartupQuery:function(e,t){return e.ofType(F).switchMap((function(){return l.Observable.of(he(0)).concat(Tt(t.getState())===Ae.VIEW?l.Observable.of(Ee()):l.Observable.empty())}))},featureGridSort:function(e,t){return e.ofType(de).switchMap((function(r){var n=r.sortBy,o=r.sortOrder;return l.Observable.of(k(Bt(t.getState()),nr(a(a({},zt(t.getState())),{},{sortOptions:{sortBy:n,sortOrder:o}}),rr(t.getState())),_t(t.getState()))).merge(e.ofType(G).map((function(e){return Xe(u(e,"result.features",[]),[u(e,"filterObj.pagination.startIndex")])})).takeUntil(e.ofType(Y)).take(1))}))},featureGridUpdateGeometryFilter:function(e,t){return e.ofType(Be).flatMap((function(){return l.Observable.merge(e.ofType(qe).take(1).filter((function(e){var t=e.update;return!!(void 0===t?{}:t).value})).map(sr(t)),e.ofType(qe).filter((function(e){var t=e.update;return"geometry"===(void 0===t?{}:t).type})).distinctUntilChanged((function(e,t){var r=e.update,n=t.update;return!r.enabled&&n.enabled&&!r.value&&!n.value||r.value===n.value})).skip(1).map(sr(t))).takeUntil(e.ofType(ze))}))},featureGridUpdateTextFilters:function(e,t){return e.ofType(F).switchMap((function(){return e.ofType(qe).filter((function(e){var t=e.update;return"geometry"!==(void 0===t?{}:t).type})).map(sr(t))}))},handleClickOnMap:function(e,t){return e.ofType(qe).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(te).switchMap((function(e){var r=e.point,n=r.latlng,o=r.pixel,i=f(It(t.getState()),(function(e){return"geometry"===e.type}))||{},s=re(t.getState()),c=er.reproject([n.lng,n.lat],"EPSG:4326",s),p=tr.getHook(tr.GET_COORDINATES_FROM_PIXEL_HOOK),d=er.calculateCircleRadiusFromPixel(p,o,c,4);return i.deactivated?l.Observable.empty():l.Observable.of(et(a(a({},i),{},{value:{attribute:i.attribute||u(Jt(t.getState()),"attribute"),geometry:{center:[c.x,c.y],coordinates:er.calculateCircleCoordinates(c,d,12),extent:[c.x-d,c.y-d,c.x+d,c.y+d],projection:s,radius:d,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}})))})).takeUntil(l.Observable.merge(e.ofType(qe).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(ze,g)))}))},selectFeaturesOnMapClickResult:function(e,t){return e.ofType(G).filter((function(e){return"geometry"===e.reason})).map((function(e){var r=e.result,n=u(r,"features[0]"),o=f(It(t.getState()),(function(e){return"geometry"===e.type}));return tt(n&&o&&o.value?[n]:[])}))},activateTemporaryChangesEpic:function(e){return e.ofType(nt).flatMap((function(e){var t=e.activated;return l.Observable.of(ot(t),at(t))}))},handleGeometryFilterActivation:function(e,t){return e.ofType(De).flatMap((function(){var e=f(It(t.getState()),(function(e){return"geometry"===e.type}))||{},r=wt(t.getState()),n=Ot(t.getState());return l.Observable.of(et(a(a({},e),{},{type:"geometry",attribute:e.attribute||u(Jt(t.getState()),"attribute"),deactivated:!(!r&&!n)||!e.deactivated})))}))},deactivateGeometryFilter:function(e,t){return l.Observable.merge(e.ofType(ke,M,_e,it),e.ofType(rt).filter((function(e){return!!e.deactivated}))).flatMap((function(){var e=f(It(t.getState()),(function(e){return"geometry"===e.type}))||{};return e.deactivated?l.Observable.empty():l.Observable.of(et(a(a({},e),{},{type:"geometry",attribute:e.attribute||u(Jt(t.getState()),"attribute"),deactivated:!0})))}))},activateGeometryFilter:function(e,t){return l.Observable.merge(e.ofType(ye,Pe),e.ofType(rt).filter((function(e){return!e.deactivated}))).flatMap((function(){var e=f(It(t.getState()),(function(e){return"geometry"===e.type}))||{},r=wt(t.getState()),n=Ot(t.getState());return!e.deactivated||r||n?l.Observable.empty():l.Observable.of(et(a(a({},e),{},{type:"geometry",attribute:e.attribute||u(Jt(t.getState()),"attribute"),deactivated:!1})))}))},featureGridChangePage:function(e,t){return e.ofType(fe).merge(e.ofType(z).debounceTime(500).map((function(e){return a(a({},e),{},{page:0})}))).switchMap((function(r){return function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,n=t.size,o=t.reason,i=e.getState();return l.Observable.of(k(Bt(i),nr(a({},zt(i)),rr(i,{page:r,size:n})),_t(i),o))}}(t)(r).merge(e.ofType(G).map((function(e){return Xe(u(e,"result.features",[]),[u(e,"filterObj.pagination.startIndex")])})).take(1).takeUntil(e.ofType(Y)))}))},featureGridReloadPageOnSaveSuccess:function(e,t){return e.ofType(ye).switchMap((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.page,o=r.size;return l.Observable.of(k(Bt(t.getState()),nr(a({},zt(t.getState())),rr(t.getState(),{page:n,size:o})),_t(t.getState())),ae(xt(t.getState()))).merge(e.ofType(G).map((function(e){return l.Observable.of(we(),Xe(u(e,"result.features",[]),[u(e,"filterObj.pagination.startIndex")]))})).mergeAll().takeUntil(e.ofType(Y)).take(2))}))},savePendingFeatureGridChanges:function(e,t){return e.ofType(me).switchMap((function(){return l.Observable.of(ge()).concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return ir(n,or(e,t,C(r)))}(vt(t.getState()),St(t.getState()),Ft(t.getState()),Bt(t.getState())).map((function(){return ve()})).catch((function(e){return l.Observable.of(Se(),Dt({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError",autoDismiss:5}))})))}))},deleteSelectedFeatureGridFeatures:function(e,t){return e.ofType(be).switchMap((function(){return l.Observable.of(ge()).concat((e=ht(t.getState()),r=Ft(t.getState()),n=Bt(t.getState()),ir(n,function(e,t){var r=t.transaction,n=t.deleteFeature;return r(e.map(n))}(e,C(r)))).map((function(){return ve()})).catch((function(e){return l.Observable.of(Se(),Dt({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError"}))})).concat(l.Observable.of(xe("deleteConfirm"),je())));var e,r,n}))},handleEditFeature:function(e,t){return e.ofType(Te).switchMap((function(){var e=t.getState(),r=Ft(e),n=O(),o=_(r).localType,i={featureProjection:n,stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},a=x({},jt(e),{type:"Feature"}),s=vt(e);return s[a.id]&&s[a.id]&&s[a.id].geometry&&(a.geometry=s[a.id].geometry),l.Observable.of(T("drawOrEdit",o,"featureGrid",[a],i))}))},handleDrawFeature:function(e,t){return e.ofType(De).switchMap((function(){var e=t.getState(),r=Ft(e),n=O(),o=_(r).localType,i=x({},jt(e),{type:"Feature"}),a=vt(e);a[i.id]&&(a[i.id].geometry||null===a[i.id].geometry)&&(i.geometry=a[i.id].geometry),i._new&&(i.geometry=p(St(e)).geometry);var s={featureProjection:n,stopAfterDrawing:!0,editEnabled:!Pt(e),drawEnabled:Pt(e)};return l.Observable.of(T("drawOrEdit",o,"featureGrid",[i],s))}))},resetEditingOnFeatureGridClose:function(e,t){return e.ofType(Be).switchMap((function(){return e.ofType(Me).filter((function(){return Tt(t.getState())===Ae.EDIT})).take(1).switchMap((function(){return e.ofType(g,ze).take(1).switchMap((function(){return l.Observable.of(A())}))}))}))},closeRightPanelOnFeatureGridOpen:function(e,t){return e.ofType(Be).switchMap((function(){var e=[ut("metadataexplorer","enabled",!1),ut("annotations","enabled",!1),ut("details","enabled",!1)];return mt(t.getState())&&e.push(ut("measure","enabled",!1)),l.Observable.from(e)}))},onFeatureGridGeometryEditing:function(e,t){return e.ofType(M).filter((function(e){return"featureGrid"===e.owner})).switchMap((function(e){var r=t.getState(),n={featureProjection:O(),stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},o=x({},p(e.features),{id:jt(r).id,_new:jt(r)._new,type:"Feature"}),i="enterEditMode"===e.enableEdit?l.Observable.of(T("drawOrEdit",o.geometry.type,"featureGrid",[o],n)):l.Observable.empty();return l.Observable.of(Ce([o])).concat(i)}))},deleteGeometryFeature:function(e,t){return e.ofType(_e).switchMap((function(){var e=t.getState();return l.Observable.from([Ie(ht(e)),A()])}))},triggerDrawSupportOnSelectionChange:function(e,t){return e.ofType(Re,Le,Pe,Me).filter((function(){return Tt(t.getState())===Ae.EDIT&&Ct(t.getState())})).switchMap((function(e){return function(e,t){var r,n,o=O(),i=x({},jt(e),{type:"Feature"});if(!d(i)){n=_(Ft(e)).localType;var a=vt(e);if(a[i.id]&&(a[i.id].geometry||null===a[i.id].geometry)&&(i.geometry=a[i.id].geometry),i._new&&!i.geometry){var s=f(St(e),{id:i.id});s&&s.geometry&&(i.geometry=s.geometry)}if(t&&(i.geometry=Ut(e,i.id)?Ut(e,i.id).geometry:null),r={featureProjection:o,stopAfterDrawing:E(n),editEnabled:!!i.geometry,drawEnabled:!1,ftId:i.id},1===Et(e))return null===i.geometry||"empty_row"===i.id?l.Observable.from([A()]):l.Observable.from([T("drawOrEdit",n,"featureGrid",[i],r)])}return l.Observable.from([T("clean","","featureGrid",[],{})])}(t.getState(),e.type===Pe)}))},onFeatureGridCreateNewFeature:function(e){return e.ofType(ke).switchMap((function(){return l.Observable.of(A())}))},setHighlightFeaturesPath:function(e,t){return e.ofType(Me).switchMap((function(e){return e.mode===Ae.VIEW?l.Observable.of(A(),bt("featuregrid.select")):e.mode!==Ae.EDIT||Ct(t.getState())?l.Observable.of(bt()):l.Observable.of(A(),bt("featuregrid.select"),kt({title:"featuregrid.notSupportedGeometryTitle",message:"featuregrid.notSupportedGeometry",uid:"notSupportedGeometryWarning",autoDismiss:5}))}))},resetGridOnLocationChange:function(e){return e.ofType(Be).switchMap((function(){return e.ofType(g).take(1).switchMap((function(){return l.Observable.of(Ee(),Ue())})).takeUntil(e.ofType(ze))}))},resetQueryPanel:function(e,t){return e.ofType(g).switchMap((function(){return ft(t.getState())?l.Observable.of(ut("queryPanel","enabled",!1)):l.Observable.empty()}))},autoCloseFeatureGridEpicOnDrowerOpen:function(e,t){return e.ofType(Be).switchMap((function(){return e.ofType(lt).filter((function(e){return e.control&&"drawer"===e.control&&Mt(t.getState())})).switchMap((function(){return l.Observable.of(Ue())})).takeUntil(e.ofType(ze,g))}))},askChangesConfirmOnFeatureGridClose:function(e,t){return e.ofType(We).switchMap((function(){var e=t.getState();return wt(e)||Ot(e)?l.Observable.of(xe("featureCloseConfirm",!0)):l.Observable.of(Ue())}))},onClearChangeConfirmedFeatureGrid:function(e){return e.ofType(Ne).switchMap((function(){return l.Observable.of(we(),xe("clearConfirm",!1))}))},onCloseFeatureGridConfirmed:function(e){return e.ofType(Fe).switchMap((function(){return l.Observable.of(ut("drawer","enabled",!1),xe("featureCloseConfirm",!1))}))},removeWmsFilterOnGridClose:function(e,t){return e.ofType(Be).exhaustMap((function(){return e.ofType(ze).delay(50).filter((function(){return Vt(t.getState())})).switchMap((function(){return l.Observable.of(ar(t.getState()))})).takeUntil(e.ofType(g,R,Ve))}))},autoReopenFeatureGridOnFeatureInfoClose:function(e){return e.ofType(Be).switchMap((function(){return l.Observable.race(e.ofType(R).take(1),e.ofType(ze).take(1)).exhaustMap((function(t){return t.type===ze?l.Observable.empty():e.ofType(L).switchMap((function(){return l.Observable.of(Ge())}))})).takeUntil(e.ofType(g,lt).filter((function(e){return e.type===g||e.control&&"drawer"===e.control})).merge(e.ofType(ze).withLatestFrom(e.ofType(R,L).scan((function(e,t){switch(t.type){case R:return!1;case L:return!0;default:return!1}}),!0).startWith(!0),(function(e,t){return t})).filter((function(e){return e}))))}))},onOpenAdvancedSearch:function(e,t){return e.ofType(Ve).switchMap((function(){return l.Observable.of(J(u(t.getState(),'featuregrid.advancedFilters["'.concat(xt(t.getState()),'"]'))),Ue(),ut("queryPanel","enabled",!0)).merge(l.Observable.race(e.ofType(X).mergeMap((function(e){return l.Observable.of(V(e.searchUrl,e.filterObj),Ke(x({},Xt(t.getState()),e.filterObj)),ut("queryPanel","enabled",!1),Ge())})),e.ofType(lt).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"queryPanel"===t&&(!r||"enabled"===r)})).mergeMap((function(){var e="clean"!==(t.getState().draw||{}).drawStatus?[T("clean","","featureGrid",[],{})]:[];return l.Observable.from(e.concat(Ge()))}))).takeUntil(e.ofType(Be,g)))}))},onFeatureGridZoomAll:function(e,t){return e.ofType(He).filter((function(){return!u(t.getState(),"featuregird.virtualScroll",!1)})).switchMap((function(){return l.Observable.of(ee(v(Wt(t.getState())),"EPSG:4326"))}))},resetControlsOnEnterInEditMode:function(e){return e.ofType(Me).filter((function(e){return e.mode===Ae.EDIT})).map((function(){return ct(["query"])}))},closeIdentifyWhenOpenFeatureGrid:function(e){return e.ofType(Be).switchMap((function(){return l.Observable.of(ce())}))},startSyncWmsFilter:function(e,t){return e.ofType(q).filter((function(){return Vt(t.getState())})).mapTo(Qe())},stopSyncWmsFilter:function(e,t){return e.ofType(q).filter((function(){return!Vt(t.getState())})).switchMap((function(){return l.Observable.from([ar(t.getState()),{type:Ze}])}))},syncMapWmsFilter:function(e,t){return e.ofType(F,z).filter((function(e){var r=t.getState().featuregrid.disableQuickFilterSync;return e.type===F||!r})).switchMap((function(){var r=t.getState(),n=r.query,o=(r.featuregrid||{}).selectedLayer,i=(n||{}).filterObj;return l.Observable.merge(l.Observable.of(Vt(t.getState())).filter((function(e){return e})),e.ofType(Ye)).mergeMap((function(){return l.Observable.of(function(e,t){return ie(e,{filterObj:t})}(o,i))}))}))},virtualScrollLoadFeatures:function(e,t){var r=t.getState;return e.ofType(Je).filter((function(){return!Ht(r())})).switchMap((function(t){var n=r(),o=t.pages,i=o.startPage,s=o.endPage,c=n.featuregrid,p=c.pages,d=c.pagination,f=u(d,"size"),m=j(i,s,p,f),y=m[1]-m[0]+1;return l.Observable.of(k(Bt(n),nr(a({},zt(n)),{startIndex:m[0]*f,maxFeatures:y*f}),_t(n))).filter((function(){return m.length>0})).merge(e.ofType(G).filter((function(){return m.length>0})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result,n=void 0===t?{}:t,o=e.filterObj,a=r().featuregrid,l=a.features,c=a.maxStoredPages,d=u(o,"pagination.startIndex"),m=Qt(n,{endPage:s,startPage:i},{pages:p,features:l||[]},{size:f,startIndex:d,maxStoredPages:c}),y=m.pages,b=m.features;return Xe(b,y)})).take(1).takeUntil(e.ofType(Y))).merge(e.ofType(Z).filter((function(){return m.length>0})).filter((function(e){return!e.isLoading})).withLatestFrom(e.ofType(Je)).map((function(e){return e[1]})).take(1).takeUntil(e.ofType(Y)))}))},replayOnTimeDimensionChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(se).filter((function(e){var t=e.layer,r=void 0===t?[]:t,o=e.params,i=void 0===o?{}:o;return y(m(r),xt(n()))&&y(Object.keys(i),"time")&&At(n())})).merge(e.ofType($e)).filter((function(){return Mt(n())})).withLatestFrom(e.ofType(N),(function(e,t){return t})).switchMap((function(e){return l.Observable.of(V(e.searchUrl,e.filterObj))}))},hideFeatureGridOnDrawerOpenMobile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(lt).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"drawer"===t&&r().browser&&r().browser.mobile&&yt(r())})).switchMap((function(){return l.Observable.of(ue(),Ge())}))},hideDrawerOnFeatureGridOpenMobile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(R).filter((function(){return r().browser&&r().browser.mobile&&yt(r())})).mapTo(pt("drawer","enabled"))}}},"./MapStore2/web/client/epics/fullscreen.js":function(e,t,r){var n=r("./node_modules/screenfull/dist/screenfull.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),i=o.head,a=o.last,s=r("./MapStore2/web/client/actions/controls.js").setControlProperty,l=r("./MapStore2/web/client/actions/fullscreen.js").TOGGLE_FULLSCREEN,c=r("./MapStore2/web/client/utils/ConfigUtils.js"),u=r("./node_modules/rxjs/Rx.js");e.exports={toggleFullscreenEpic:function(e){return e.ofType(l).switchMap((function(e){var t=document.querySelector(e&&e.querySelector||"."+(c.getConfigProp("themePrefix")||"ms2")+" > div");return t&&e.enable&&n.enabled?n.request(t):t&&!e.enable&&n.exit(),u.Observable.merge(u.Observable.fromEvent(document,a(i([["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter((function(e){return document[e[0]]}))))).filter((function(){return n.element!==t})).map((function(){return s("fullscreen","enabled",!1)})),u.Observable.of(s("fullscreen","enabled",e.enable)),u.Observable.fromEvent(window,"hashchange").do((function(){return n.exit()})).map((function(){return s("fullscreen","enabled",!1)})))}))}}},"./MapStore2/web/client/epics/identify.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/rxjs/Rx.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./node_modules/uuid/index.js"),s=r.n(a),l=r("./node_modules/connected-react-router/esm/actions.js"),c=r("./MapStore2/web/client/actions/mapInfo.js"),u=r("./MapStore2/web/client/actions/controls.js"),p=r("./MapStore2/web/client/actions/featuregrid.js"),d=r("./MapStore2/web/client/actions/wfsquery.js"),f=r("./MapStore2/web/client/actions/map.js"),m=r("./MapStore2/web/client/actions/layers.js"),y=r("./MapStore2/web/client/actions/annotations.js"),b=r("./MapStore2/web/client/actions/config.js"),g=r("./MapStore2/web/client/actions/mapPopups.js"),h=r("./MapStore2/web/client/actions/search.js"),v=r("./MapStore2/web/client/selectors/mapInfo.js"),S=r("./MapStore2/web/client/selectors/layers.js"),w=r("./MapStore2/web/client/selectors/featuregrid.js"),O=r("./MapStore2/web/client/selectors/queryform.js"),j=r("./MapStore2/web/client/selectors/map.js"),E=r("./MapStore2/web/client/selectors/maplayout.js"),x=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),P=r("./MapStore2/web/client/selectors/localConfig.js"),T=r("./MapStore2/web/client/selectors/controls.js"),M=r("./MapStore2/web/client/selectors/localizedLayerStyles.js"),A=r("./MapStore2/web/client/utils/MapUtils.js"),C=r("./MapStore2/web/client/utils/MapInfoUtils.js"),_=r.n(C),I=r("./MapStore2/web/client/components/map/popups/index.js"),R=r("./MapStore2/web/client/api/identify.jsx");function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=r("./MapStore2/web/client/actions/mapInfo.js").SET_MAP_TRIGGER,U=function(e){return Object(v.stopGetFeatureInfoSelector)(e)||Object(w.isFeatureGridOpen)(e)&&(function(e){return"EDIT"===Object(w.modeSelector)(e)}(e)||function(e){return Object(i.get)(Object(i.find)(Object(w.getAttributeFilters)(e),(function(e){return"geometry"===e.type})),"enabled")}(e))},B=function(e,t){var r,n=Object(i.get)(e,"latlng.lng"),o=Object(i.get)(e,"latlng.lat"),a=Object(x.reproject)([n,o],"EPSG:4326",t),s=Object(A.getHook)(A.GET_PIXEL_FROM_COORDINATES_HOOK);if(s){var l=N(s([a.x,a.y]),2);r={x:l[0],y:l[1]}}else r=e.pixel;var c=Object(A.getHook)(A.GET_COORDINATES_FROM_PIXEL_HOOK),u=Object(x.calculateCircleRadiusFromPixel)(c,r,a,5),p={type:"geometry",enabled:!0,value:{geometry:{center:[a.x,a.y],coordinates:Object(x.calculateCircleCoordinates)(a,u,12),extent:[a.x-u,a.y-u,a.x+u,a.y+u],projection:t,radius:u,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return D(D({},e),{},{pixel:r,geometricFilter:p})};t.default={getFeatureInfoOnFeatureInfoClick:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(c.FEATURE_INFO_CLICK).switchMap((function(e){var t=e.point,r=e.filterNameList,a=void 0===r?[]:r,l=e.overrideParams,u=void 0===l?{}:l,p=Object(i.reverse)(Object(S.queryableLayersSelector)(n())),d=Object(S.queryableSelectedLayersSelector)(n());if(d.length&&(p=d),0===p.length)return o.a.Observable.of(Object(c.purgeMapInfoResults)(),Object(c.noQueryableLayers)());var f=["SLD_BODY"],m=["buffer","cql_filter","filter","propertyName"],y=o.a.Observable.from(p.filter((function(e){return!a.length||a.filter((function(t){return-1!==t.indexOf(e.name)})).length>0}))).mergeMap((function(e){var t=Object(M.localizedLayerStylesEnvSelector)(n()),r=_.a.buildIdentifyRequest(e,D(D({},Object(v.identifyOptionsSelector)(n())),{},{env:t})),i=r.url,a=r.request,l=r.metadata;if(Object(v.itemIdSelector)(n())&&Object(v.overrideParamsSelector)(n())&&(a=D(D({},a),Object(v.overrideParamsSelector)(n())[e.name])),u[e.name]&&(a=D(D({},a),u[e.name])),i){var d=i,y=a,b=l,g=_.a.filterRequestParams(e,m,f),h=Object(v.isHighlightEnabledSelector)(n()),S=Object(v.itemIdSelector)(n()),w=s.a.v1(),O=D(D({},g),y);return Object(R.a)(d,O,e,{attachJSON:h,itemId:S}).map((function(t){return t.data.exceptions?Object(c.exceptionsFeatureInfo)(w,t.data.exceptions,y,b):Object(c.loadFeatureInfo)(w,t.data,y,D(D({},b),{},{features:t.features,featuresCrs:t.featuresCrs}),e)})).catch((function(e){return o.a.Observable.of(Object(c.errorFeatureInfo)(w,e.data||e.statusText||e.status,y,b))})).startWith(Object(c.newMapInfoRequest)(w,O))}return o.a.Observable.of(Object(c.getVectorInfo)(e,a,l,p))}));return t&&t.modifiers&&!0===t.modifiers.ctrl&&t.multiSelection?y:y.startWith(Object(c.purgeMapInfoResults)())}))},handleMapInfoMarker:function(e,t){var r=t.getState;return e.ofType(c.FEATURE_INFO_CLICK).filter((function(){return!Object(v.isMapPopup)(r())})).map((function(e){return e.layer?Object(c.hideMapinfoMarker)():Object(c.showMapinfoMarker)()}))},closeFeatureGridFromIdentifyEpic:function(e){return e.ofType(c.LOAD_FEATURE_INFO,c.GET_VECTOR_INFO).switchMap((function(){return o.a.Observable.of(Object(p.closeFeatureGrid)())}))},closeFeatureAndAnnotationEditing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(c.CLOSE_IDENTIFY).switchMap((function(){return Object(i.get)(n(),"annotations.editing")?o.a.Observable.of(Object(y.closeAnnotations)()):o.a.Observable.of(Object(c.purgeMapInfoResults)())}))},hideMarkerOnIdentifyClose:function(e){return e.ofType(c.CLOSE_IDENTIFY).flatMap((function(){return o.a.Observable.of(Object(c.hideMapinfoMarker)())}))},changeMapPointer:function(e,t){return e.ofType(f.CHANGE_MOUSE_POINTER).filter((function(){return!t.getState().map})).switchMap((function(t){return e.ofType(b.MAP_CONFIG_LOADED).mapTo(t)}))},onMapClick:function(e,t){return e.ofType(f.CLICK_ON_MAP).filter((function(){var e=t.getState().mapInfo.disableAlwaysOn,r=void 0!==e&&e;return!Object(j.isMouseMoveIdentifyActiveSelector)(t.getState())&&(r||!U(t.getState()||{}))})).switchMap((function(e){var r=e.point,n=e.layer,i=Object(j.projectionSelector)(t.getState());return o.a.Observable.of(Object(c.featureInfoClick)(B(r,i),n),Object(h.cancelSelectedItem)()).merge(o.a.Observable.of(Object(g.addPopup)(s()(),{component:I.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:r?r.rawPos:[]}})).filter((function(){return Object(v.isMapPopup)(t.getState())})))}))},onUpdateFeatureInfoClickPoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(c.UPDATE_FEATURE_INFO_CLICK_POINT).map((function(e){var t=e.point,r=Object(j.projectionSelector)(n());return{point:B(t,r)}})).withLatestFrom(e.ofType(c.FEATURE_INFO_CLICK),(function(e,t){var r=e.point;return D(D({},t),{},{point:r})}))},featureInfoClickOnHighligh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(c.TOGGLE_HIGHLIGHT_FEATURE).filter((function(e){return e.enabled&&Object(v.clickPointSelector)(n())})).switchMap((function(){return o.a.Observable.from([Object(c.featureInfoClick)(Object(v.clickPointSelector)(n()),Object(v.clickLayerSelector)(n()),Object(v.filterNameListSelector)(n()),Object(v.overrideParamsSelector)(n()),Object(v.itemIdSelector)(n())),Object(c.showMapinfoMarker)()])}))},zoomToVisibleAreaEpic:function(e,t){return e.ofType(c.FEATURE_INFO_CLICK).filter((function(){return Object(S.centerToMarkerSelector)(t.getState())})).switchMap((function(r){return e.ofType(c.LOAD_FEATURE_INFO,c.ERROR_FEATURE_INFO).switchMap((function(){var n=t.getState(),a=Object(j.mapSelector)(n),s=Object(j.projectionSelector)(n),l=Object(j.projectionDefsSelector)(n),u=Object(i.find)(l,{code:s}),p=u&&u.extent,d=p&&Object(x.reprojectBbox)(p,s,"EPSG:4326"),m=Object(E.boundingMapRectSelector)(n),y=r.point&&r.point&&r.point.latlng,b=Object(A.getCurrentResolution)(Math.round(a.zoom),0,21,96),g=m&&a&&a.size&&{left:Object(A.parseLayoutValue)(m.left,a.size.width),bottom:Object(A.parseLayoutValue)(m.bottom,a.size.height),right:Object(A.parseLayoutValue)(m.right,a.size.width),top:Object(A.parseLayoutValue)(m.top,a.size.height)};if(!a||!g||!y||r.point.cartographic||Object(x.isInsideVisibleArea)(y,a,g,b)||Object(j.isMouseMoveIdentifyActiveSelector)(n))return o.a.Observable.of(Object(c.updateCenterToMarker)("disabled"));if(d&&!Object(x.isPointInsideExtent)(y,d))return o.a.Observable.empty();var h=Object(x.centerToVisibleArea)(y,a,g,b);return o.a.Observable.of(Object(c.updateCenterToMarker)("enabled"),Object(f.zoomToPoint)(h.pos,h.zoom,h.crs)).concat(e.ofType(c.CLOSE_IDENTIFY).switchMap((function(){var e=a&&Object(A.getBbox)(a.center,a.zoom);return o.a.Observable.of(Object(f.changeMapView)(a.center,a.zoom,e,a.size,null,a.projection))})).takeUntil(e.ofType(f.CHANGE_MAP_VIEW).skip(1)))}))}))},closeFeatureInfoOnCatalogOpenEpic:function(e,t){return e.ofType(u.SET_CONTROL_PROPERTIES).filter((function(e){return"metadataexplorer"===e.control&&e.properties&&e.properties.enabled})).switchMap((function(){return o.a.Observable.of(Object(c.purgeMapInfoResults)(),Object(c.hideMapinfoMarker)()).merge(o.a.Observable.of(Object(g.cleanPopups)()).filter((function(){return Object(v.isMapPopup)(t.getState())})))}))},closeFeatureInfoOnAnnotationOpenEpic:function(e,t){var r=t.getState;return e.ofType(u.TOGGLE_CONTROL).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"annotations"===t&&Object(i.get)(r(),"controls.annotations.enabled",!1)})).mapTo(Object(c.purgeMapInfoResults)())},closeFeatureInfoOnMeasureOpenEpic:function(e){return e.ofType(u.SET_CONTROL_PROPERTY).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.value;return"measure"===t&&r})).mapTo(Object(c.purgeMapInfoResults)())},cleanPopupsEpicOnPurge:function(e,t){var r=t.getState;return e.ofType(c.PURGE_MAPINFO_RESULTS).filter((function(){return Object(v.isMapPopup)(r())})).mapTo(Object(g.cleanPopups)())},identifyEditLayerFeaturesEpic:function(e,t){return e.ofType(c.EDIT_LAYER_FEATURES).exhaustMap((function(e){var r,n=e.layer;return o.a.Observable.of(Object(c.setCurrentEditFeatureQuery)(null===(r=Object(v.clickPointSelector)(t.getState()))||void 0===r?void 0:r.geometricFilter),Object(m.browseData)(n))}))},switchFeatureGridToEdit:function(e,t){return e.ofType(d.QUERY_CREATE).switchMap((function(){var e=Object(v.currentEditFeatureQuerySelector)(t.getState()),r=(Object(i.find)(Object(w.getAttributeFilters)(t.getState()),(function(e){return"geometry"===e.type}))||{}).attribute||Object(i.get)(Object(O.spatialFieldSelector)(t.getState()),"attribute");return e?o.a.Observable.of(Object(c.setCurrentEditFeatureQuery)(),Object(p.toggleEditMode)(),Object(p.updateFilter)(D(D({},e),{},{attribute:r,value:D(D({},e.value),{},{attribute:r})}))):o.a.Observable.empty()}))},resetCurrentEditFeatureQuery:function(e){return e.ofType(p.CLOSE_FEATURE_GRID,l.b).mapTo(Object(c.setCurrentEditFeatureQuery)())},mouseMoveMapEventEpic:function(e,t){var r=t.getState;return e.ofType(f.MOUSE_MOVE).debounceTime(Object(P.a)(r())).switchMap((function(e){var t=e.position,n=e.layer,i=Object(T.createControlEnabledSelector)("annotations")(r()),a=Object(T.measureSelector)(r()),l=r().mousePosition.mouseOut;return!Object(j.isMouseMoveIdentifyActiveSelector)(r())||i||a||l?o.a.Observable.empty():o.a.Observable.of(Object(c.featureInfoClick)(t,n)).merge(o.a.Observable.of(Object(g.addPopup)(s()(),{component:I.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:t?t.rawPos:[]},autoPanMargin:70,autoPan:!0})))}))},removePopupOnUnregister:function(e,t){var r=t.getState;return e.ofType(f.UNREGISTER_EVENT_LISTENER).switchMap((function(){var e,t,n=o.a.Observable.empty(),i=(null===(e=r())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(i.length&&!Object(j.isMouseMoveIdentifyActiveSelector)(r())){var a=i[0].id;n=o.a.Observable.of(Object(g.removePopup)(a))}return n}))},removePopupOnLocationChangeEpic:function(e,t){var r=t.getState;return e.ofType(l.b,c.PURGE_MAPINFO_RESULTS).switchMap((function(){var e,t,n=o.a.Observable.empty(),i=(null===(e=r())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(i.length){var a=i[0].id;n=o.a.Observable.of(Object(g.removePopup)(a))}return n}))},removeMapInfoMarkerOnRemoveMapPopupEpic:function(e,t){var r=t.getState;return e.ofType(g.REMOVE_MAP_POPUP).switchMap((function(){return Object(j.isMouseMoveIdentifyActiveSelector)(r())?o.a.Observable.of(Object(c.hideMapinfoMarker)()):o.a.Observable.empty()}))},setMapTriggerEpic:function(e,t){return e.ofType(G,b.MAP_CONFIG_LOADED).switchMap((function(){return o.a.Observable.of("hover"===Object(v.mapTriggerSelector)(t.getState())?Object(f.registerEventListener)("mousemove","identifyFloatingTool"):Object(f.unRegisterEventListener)("mousemove","identifyFloatingTool"))}))}}},"./MapStore2/web/client/epics/layerfilter.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/rxjs/Rx.js"),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=s.get,c=s.head,u=r("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE,p=r("./MapStore2/web/client/actions/controls.js"),d=p.TOGGLE_CONTROL,f=p.setControlProperty,m=r("./MapStore2/web/client/actions/queryform.js"),y=m.QUERY_FORM_SEARCH,b=m.loadFilter,g=m.reset,h=m.search,v=r("./MapStore2/web/client/actions/layers.js").changeLayerProperties,S=r("./MapStore2/web/client/actions/layerFilter.js"),w=S.OPEN_QUERY_BUILDER,O=S.initLayerFilter,j=S.DISCARD_CURRENT_FILTER,E=S.APPLY_FILTER,x=S.storeAppliedFilter,P=r("./MapStore2/web/client/actions/wfsquery.js"),T=P.featureTypeSelected,M=P.toggleLayerFilter,A=P.initQueryPanel,C=r("./MapStore2/web/client/selectors/layers.js").getSelectedLayer,_=r("./MapStore2/web/client/actions/draw.js").changeDrawingStatus,I=r("./MapStore2/web/client/utils/FilterUtils.jsx");e.exports={handleLayerFilterPanel:function(e,t){var r=t.getState;return e.ofType(w).switchMap((function(){var t=C(r()),n=t||{},i=n.url,s=n.name,p=n.layerFilter,m=t&&t.search&&t.search.url;return a.Observable.of(T(m||i,s),b(p),O(p),f("queryPanel","enabled",!0)).merge(a.Observable.of(M()).filter((function(){return!l(r(),"query.isLayerFilter")})),e.ofType(y).switchMap((function(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.crossLayerFilter,r=e.spatialField,n=e.filterFields;return!!(n&&c(n)||r&&r.method&&r.operation&&r.geometry||t&&t.collectGeometries&&t.operation)}(e.filterObj)?o({},l(r(),"queryform",{})):void 0;return n&&(n.filterFields=n.attributePanelExpanded&&n.filterFields||[],n.spatialField=n.spatialPanelExpanded&&n.spatialField||null,n.crossLayerFilter=n.crossLayerExpanded&&I.setupCrossLayerFilterDefaults(n.crossLayerFilter)||null),a.Observable.of(function(e,t){return v(e,{layerFilter:t})}(t.id,n))}))).let(function(e){return function(t){return t.takeUntil(e.ofType(d).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"queryPanel"===t&&(!r||"enabled"===r)})).merge(e.ofType(u)))}}(e)).concat(a.Observable.from([M(),g(),_("clean","","queryform",[],{})]))}))},restoreSavedFilter:function(e,t){var r=t.getState;return e.ofType(j).switchMap((function(){var e={typeName:l(r(),"state.query.typeName")},t=l(r(),"state.query.url"),n=l(r(),"layerFilter.persisted");return a.Observable.of(_("clean","","queryform",[]),b(n),h(t,n,e),A())}))},onApplyFilter:function(e,t){var r=t.getState;return e.ofType(E).map((function(){var e=o({},l(r(),"queryform",{}));return x(e)}))}}},"./MapStore2/web/client/epics/map.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/rxjs/Rx.js"),s=r("./MapStore2/web/client/actions/layers.js").changeLayerProperties,l=r("./MapStore2/web/client/actions/map.js"),c=l.CREATION_ERROR_LAYER,u=l.INIT_MAP,p=l.ZOOM_TO_EXTENT,d=l.CHANGE_MAP_CRS,f=l.changeMapView,m=l.changeMapLimits,y=r("./MapStore2/web/client/selectors/map.js"),b=y.configuredExtentCrsSelector,g=y.configuredRestrictedExtentSelector,h=y.configuredMinZoomSelector,v=y.mapSelector,S=y.mapIdSelector,w=r("./MapStore2/web/client/actions/config.js").loadMapInfo,O=r("./MapStore2/web/client/actions/security.js").LOGIN_SUCCESS,j=r("./MapStore2/web/client/selectors/layers.js"),E=j.currentBackgroundLayerSelector,x=j.allBackgroundLayerSelector,P=j.getLayerFromId,T=r("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,M=r("./MapStore2/web/client/selectors/maplayout.js").mapPaddingSelector,A=r("./MapStore2/web/client/actions/controls.js").setControlProperty,C=r("./MapStore2/web/client/actions/config.js"),_=C.MAP_CONFIG_LOADED,I=C.MAP_CONFIG_LOAD_ERROR,R=r("./MapStore2/web/client/utils/LayersUtils.js").isSupportedLayer,L=r("./MapStore2/web/client/utils/MapUtils.js"),D=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),k=r("./MapStore2/web/client/actions/notifications.js").warning,N=r("./MapStore2/web/client/actions/controls.js").resetControls,F=r("./MapStore2/web/client/actions/layers.js").clearLayers,G=r("./MapStore2/web/client/actions/mapInfo.js").clearWarning,U=r("./MapStore2/web/client/actions/additionallayers.js").removeAllAdditionalLayers,B=r("./MapStore2/node_modules/lodash/lodash.js"),z=B.head,W=B.isArray,V=B.isObject,H=B.mapValues,q=r("./MapStore2/web/client/selectors/security.js").isLoggedIn,Y=r("./MapStore2/web/client/selectors/router.js").pathnameSelector,Z=r("./node_modules/connected-react-router/esm/index.js").push;e.exports={checkMapPermissions:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(O).filter((function(){return S(n())})).map((function(){var e=S(n());return w(e)}))},handleCreationLayerError:function(e,t){return e.ofType(c).delay(500).switchMap((function(e){var r=T(t.getState()),n=P(t.getState(),e.options.id);return n&&R(n,r)?a.Observable.from([s(e.options.id,{invalid:!0})]):a.Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(c).delay(500).filter((function(e){var r=E(t.getState());return r&&e.options.id===r.id&&"background"===e.options.group})).switchMap((function(e){var r=T(t.getState()),n=z(x(t.getState()).filter((function(t){return R(t,r)&&t.id!==e.options.id})));return n?a.Observable.from([s(n.id,{visibility:!0}),A("backgroundSelector","currentLayer",n),A("backgroundSelector","tempLayer",n),k({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):a.Observable.of(k({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(u).switchMap((function(){return a.Observable.of(U(),N(),F(),G())}))},resetLimitsOnInit:function(e,t){return e.ofType(_,d).switchMap((function(){var e=b(t.getState()),r=g(t.getState()),n=h(t.getState());return a.Observable.of(m({restrictedExtent:r,crs:e,minZoom:n}))}))},zoomToExtentEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(p).switchMap((function(e){var t=function(e){if(W(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(V(e)){var t=H(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return a.Observable.empty();var r=L.getHook(L.ZOOM_TO_EXTENT_HOOK),i=M(n());return r?(r(t,{crs:e.crs,padding:i,maxZoom:e.maxZoom}),a.Observable.empty()):function(e,t){var r=0,n=e.extent,i=void 0===n?[]:n,s=D.reprojectBbox(i,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(s){var l=D.reproject(L.getCenterForExtent(i,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&i&&i[0]<=-180&&i[1]<=-90&&i[2]>=180&&i[3]>=90)r=1;else{var c=D.reprojectBbox(i,e.crs,t.projection||"EPSG:4326");r=L.getZoomForExtent(c,t.size,0,21,null)}e.maxZoom&&r>e.maxZoom&&(r=e.maxZoom);var u={minx:s[0],miny:s[1],maxx:s[2],maxy:s[3]},p=o(o({},t.bbox),{},{bounds:u});return a.Observable.of(f(l,r,p,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return a.Observable.empty()}(o(o({},e),{},{extent:t}),v(n()))}))},redirectUnauthorizedUserOnNewMap:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(I).filter((function(e){return e.error&&403===e.error.status&&-1!==Y(n()).indexOf("new")})).filter((function(){return!q(n())})).switchMap((function(){return a.Observable.of(Z("/"))}))}}},"./MapStore2/web/client/epics/maps.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/rxjs/Rx.js"),o=r.n(n),i=r("./node_modules/object-assign/index.js"),a=r.n(i),s=r("./node_modules/connected-react-router/esm/actions.js"),l=r("./MapStore2/web/client/utils/NotificationUtils.js"),c=r("./MapStore2/web/client/api/GeoStoreDAO.js"),u=r.n(c),p=r("./MapStore2/web/client/actions/config.js"),d=r("./MapStore2/node_modules/lodash/lodash.js"),f=r("./MapStore2/web/client/actions/maps.js"),m=r("./MapStore2/web/client/actions/featuregrid.js"),y=r("./MapStore2/web/client/actions/controls.js"),b=function(e,t){return Object(d.find)(function(e){return Object(d.get)(e,"maps.results",[])}(e),(function(e){return e.id===t}))},g=function(e){return e&&e.maps&&e.maps.searchText},h=function(e){return{start:Object(d.get)(e,"maps.start"),limit:Object(d.get)(e,"maps.limit")}},v=function(e){return e&&e.maps&&e.maps.searchFilter},S=r("./MapStore2/web/client/selectors/map.js"),w=r("./MapStore2/web/client/selectors/maptype.js"),O=r("./MapStore2/web/client/selectors/security.js"),j=r("./MapStore2/web/client/actions/security.js"),E=r("./MapStore2/web/client/utils/ObservableUtils.js"),x=r("./MapStore2/web/client/utils/MapUtils.js"),P=r("./MapStore2/web/client/utils/LocaleUtils.js"),T=r("./MapStore2/web/client/utils/MapInfoUtils.js"),M=r("./MapStore2/web/client/api/persistence/index.js"),A=r("./MapStore2/web/client/observables/epics.js");function C(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,"loadMapsEpic",(function(){return G})),r.d(t,"reloadMapsEpic",(function(){return U})),r.d(t,"getMapsResourcesByCategoryEpic",(function(){return B})),r.d(t,"loadMapsOnSearchFilterChange",(function(){return z})),r.d(t,"hideTabsOnSearchFilterChange",(function(){return W})),r.d(t,"mapsLoadContextsEpic",(function(){return V})),r.d(t,"mapsSetupFilterOnLogin",(function(){return H})),r.d(t,"deleteMapAndAssociatedResourcesEpic",(function(){return q})),r.d(t,"fetchDataForDetailsPanel",(function(){return Y})),r.d(t,"closeDetailsPanelEpic",(function(){return Z})),r.d(t,"storeDetailsInfoEpic",(function(){return Q})),r.d(t,"mapSaveMapResourceEpic",(function(){return K}));var F=function(e){var t=function(e){return Object(d.get)(e,"maps.totalCount")}(e),r=h(e)||{},n=r.start,o=r.limit,i=N(r,["start","limit"]);return n===t-1?{start:Math.max(0,n-o),limit:o}:D({start:n,limit:o},i)},G=function(e){return e.ofType(f.MAPS_LOAD_MAP).switchMap((function(e){var t=e.params,r=e.searchText,n=e.geoStoreUrl,i=r.replace(/[/?:;@=&\\]+/g,""),s=a()({},{params:t},n?{baseURL:n}:{});return o.a.Observable.of(Object(f.mapsLoading)(i,t),Object(f.getMapResourcesByCategory)("MAP",i,s))}))},U=function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(f.MAP_DELETED,p.MAP_SAVED,f.RELOAD_MAPS,f.ATTRIBUTE_UPDATED,"DASHBOARDS:DASHBOARD_DELETED").delay(1e3).switchMap((function(){return o.a.Observable.of(Object(f.loadMaps)(!1,g(n()),F(n())),Object(f.invalidateFeaturedMaps)())}))},B=function(e,t){return e.ofType(f.MAPS_GET_MAP_RESOURCES_BY_CATEGORY).switchMap((function(e){var r=t.getState(),n=v(r)||{},i=Object(O.userRoleSelector)(r),a=e.map,s=e.searchText,l=e.opts,c=void 0===l?{}:l,p=n.contexts&&n.contexts.length>0,m=p&&"*"===s?"":s,y=function(e){var t=e.results,r=N(e,["results"]),n=Object(d.isArray)(t)?t:""===t?[]:[t];return 0===n.length?o.a.Observable.of(D({results:[]},r)):o.a.Observable.forkJoin(n.map((function(e){var t=e.context;return t?Object(M.getResource)(t,{includeAttributes:!1,withData:!1,withPermissions:!1}).switchMap((function(e){return o.a.Observable.of(e.name)})).catch((function(){return o.a.Observable.of(null)})):o.a.Observable.of(null)}))).map((function(e){return D({results:Object(d.zip)(n,e).map((function(e){var t=_(e,2),r=t[0],n=t[1];return D(D({},r),{},{contextName:n})}))},r)}))};return(p?Object(M.searchListByAttributes)({AND:{FIELD:[{field:["NAME"],operator:["ILIKE"],value:["%"+m+"%"]}],OR:p&&{ATTRIBUTE:(n.contexts||[]).map((function(e){return{name:["context"],operator:["EQUAL_TO"],type:["STRING"],value:[e.id]}}))}}},D(D({},c),{},{params:D(D({},c.params||{}),{},{includeAttributes:!0})})).switchMap((function(e){var t=e.results,r=e.totalCount,n={results:t.map((function(e){return D(D(D({},Object(d.omit)(e,"attributes","permissions")),Object(d.pick)(e.attributes,"thumbnail","context")),{},{canCopy:"ADMIN"===i,canEdit:"ADMIN"===i,canDelete:"ADMIN"===i})})),totalCount:r,success:!0};return y(n).switchMap((function(e){return o.a.Observable.of(Object(f.mapsLoaded)(e,c.params,m))}))})):o.a.Observable.fromPromise(u.a.getResourcesByCategory(a,m,D(D({},c),{},{params:D(D({},c.params||{}),{},{includeAttributes:!0})})).then((function(e){return e}))).switchMap((function(e){return y(e).switchMap((function(e){var t;return o.a.Observable.of(Object(f.mapsLoaded)(D(D({},e),{},{results:null===(t=e.results)||void 0===t?void 0:t.map((function(e){return D(D({},e),{},{category:{name:"MAP"}})}))}),c.params,s))}))}))).let(Object(A.wrapStartStop)(Object(f.loading)(!0,"loadingMaps"),Object(f.loading)(!1,"loadingMaps"),(function(e){return o.a.Observable.of(Object(f.loadError)(e))})))}))},z=function(e,t){return e.ofType(f.SEARCH_FILTER_CHANGED,f.SEARCH_FILTER_CLEAR_ALL).filter((function(e){var t=e.filter;return!t||"contexts"===t})).switchMap((function(e){var r,n=e.type,i=t.getState(),a=v(i),s=g(i),l=h(i)||{},c=l.limit,u=void 0===c?12:c,p=N(l,["limit"]);return(r=o.a.Observable).of.apply(r,C(n===f.SEARCH_FILTER_CLEAR_ALL?[Object(f.setSearchFilter)({})]:[]).concat(C(n!==f.SEARCH_FILTER_CLEAR_ALL||a&&0!==(a.contexts||[]).length?[Object(f.loadMaps)(null,s,D({start:0,limit:u},Object(d.omit)(p,"start")))]:[])))}))},W=function(e){return e.ofType(f.SEARCH_FILTER_CHANGED,f.SEARCH_FILTER_CLEAR_ALL).filter((function(e){var t=e.filter;return!t||"contexts"===t})).switchMap((function(e){var t=e.filterData;return o.a.Observable.of({type:"CONTENT_TABS:SET_TABS_HIDDEN",tabs:0===(t||[]).length?{geostories:!1,dashboards:!1}:{geostories:!0,dashboards:!0}})}))},V=function(e){return e.ofType(f.LOAD_CONTEXTS).distinctUntilChanged((function(e,t){return(e.searchText||"*")===(t.searchText||"*")&&Object(d.isEqual)(e.options,t.options)&&!t.force})).switchMap((function(e){var t=e.searchText,r=e.options,n=void 0===r?{}:r,i=e.delayLoad,a=void 0===i?0:i,s=t||"*";return o.a.Observable.of(null).delay(a).switchMap((function(){return o.a.Observable.defer((function(){return u.a.getResourcesByCategory("CONTEXT",s,n)})).switchMap((function(e){return o.a.Observable.of(Object(f.setContexts)({results:(Object(d.isArray)(e.results)?e.results:[e.results]).filter((function(e){return!!e})),totalCount:e.totalCount,searchText:s,start:Object(d.get)(n,"params.start"),limit:Object(d.get)(n,"params.limit")}))})).let(Object(A.wrapStartStop)(Object(f.loading)(!0,"loadingContexts"),Object(f.loading)(!1,"loadingContexts"),(function(){return o.a.Observable.of(Object(l.basicError)({message:"maps.feedback.errorLoadingContexts"}))})))}))}))},H=function(e,t){return e.ofType(j.LOGIN_SUCCESS,j.LOGOUT).switchMap((function(){var e=function(e){return e&&e.maps&&e.maps.contexts}(t.getState())||{};return o.a.Observable.of(Object(y.setControlProperty)("advancedsearchpanel","enabled",!1),Object(f.loadContexts)(e.searchText,{params:{start:Object(d.get)(e,"start",0),limit:Object(d.get)(e,"limit",12)}},0,!0))}))},q=function(e,t){return e.ofType(f.DELETE_MAP).switchMap((function(e){var r=t.getState(),n=e.resourceId,i=e.options,a=function(e,t){return b(e,t)&&b(e,t).details||""}(r,n),s=function(e,t){return b(e,t)&&b(e,t).thumbnail||""}(r,n),c=Object(x.getIdFromUri)(a),u=Object(x.getIdFromUri)(s);return o.a.Observable.forkJoin(Object(E.deleteResourceById)(u,i),Object(E.deleteResourceById)(c,i),Object(E.deleteResourceById)(n,i)).concatMap((function(e){var t=_(e,3),r=t[0],i=t[1],a=t[2],s=[];return"error"===r.resType&&s.push(Object(l.basicError)({message:"maps.feedback.errorDeletingDetailsOfMap"})),"error"===i.resType&&s.push(Object(l.basicError)({message:"maps.feedback.errorDeletingThumbnailOfMap"})),"error"===a.resType&&(s.push(Object(l.basicError)({message:"maps.feedback.errorDeletingMap"})),s.push(Object(f.mapDeleted)(n,"failure",a.error))),"success"===a.resType&&s.push(Object(f.mapDeleted)(n,"success")),"success"===a.resType&&"success"===r.resType&&"success"===i.resType&&s.push(Object(l.basicSuccess)({message:"maps.feedback.allResDeleted"})),o.a.Observable.from(s)})).startWith(Object(f.mapDeleting)(n))}))},Y=function(e,t){return e.ofType(f.OPEN_DETAILS_PANEL).switchMap((function(){var e=t.getState(),r=Object(S.mapInfoDetailsUriFromIdSelector)(e),n=Object(x.getIdFromUri)(r);return o.a.Observable.fromPromise(u.a.getData(n).then((function(e){return e}))).switchMap((function(e){return o.a.Observable.of(Object(m.closeFeatureGrid)(),Object(f.updateDetails)(e))})).startWith(Object(y.toggleControl)("details","enabled")).catch((function(){return o.a.Observable.of(Object(l.basicError)({message:"maps.feedback.errorFetchingDetailsOfMap"}),Object(f.updateDetails)(f.NO_DETAILS_AVAILABLE))}))}))},Z=function(e){return e.ofType(f.CLOSE_DETAILS_PANEL).switchMap((function(){return o.a.Observable.from([Object(y.toggleControl)("details","enabled")])}))},Q=function(e,t){return e.ofType(p.MAP_INFO_LOADED).switchMap((function(){var e=Object(S.mapIdSelector)(t.getState());return e?o.a.Observable.fromPromise(u.a.getResourceAttributes(e)).switchMap((function(t){var r,n=Object(d.find)(t,{name:"details"}),i=Object(d.find)(t,{name:"detailsSettings"}),a={};if(!n||n.value===T.EMPTY_RESOURCE_VALUE)return o.a.Observable.empty();try{a=JSON.parse(i.value)}catch(e){a={}}return(r=o.a.Observable).of.apply(r,[Object(f.detailsLoaded)(e,n.value,a)].concat(C(a.showAtStartup?[Object(f.openDetailsPanel)()]:[])))})):o.a.Observable.empty()}))},K=function(e,t){return e.ofType(f.SAVE_MAP_RESOURCE).exhaustMap((function(e){var r,n=e.resource,i=Object(d.mapValues)(n.attributes,(function(e){if(Object(d.isObject)(e)){var t=null;try{t=JSON.stringify(e)}catch(e){t=null}return t}return e})),c=Object(d.keys)(i).filter((function(e){return"thumbnail"!==e&&"details"!==e&&!Object(d.isNil)(i[e])}));return o.a.Observable.forkJoin((r=Object(d.get)(n,"attributes.context"),r?Object(M.getResource)(r,{withData:!1}):o.a.Observable.of(null)),n.id?Object(M.updateResource)(n):Object(M.createResource)(n)).switchMap((function(e){var r=_(e,2),u=r[0],d=r[1];return(c.length>0?o.a.Observable.forkJoin(c.map((function(e){return Object(M.updateResourceAttribute)({id:d,name:e,value:i[e]})}))):o.a.Observable.of([])).switchMap((function(){return o.a.Observable.from([].concat(C(n.id?[Object(p.loadMapInfo)(d)]:[]),C(n.id?[Object(p.configureMap)(n.data,d)]:[]),[n.id?Object(y.toggleControl)("mapSave"):Object(y.toggleControl)("mapSaveAs"),Object(p.mapSaved)(n.id)],C(n.id?[]:[Object(f.mapCreated)(d,a()({id:d,canDelete:!0,canEdit:!0,canCopy:!0},n.metadata),n.data),Object(s.g)(u?"/context/".concat(u.name,"/").concat(d):"/viewer/".concat(Object(w.mapTypeSelector)(t.getState()),"/").concat(d))]))).merge(o.a.Observable.of(Object(l.basicSuccess)({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"})))}))})).catch((function(e){var t=e.status,r=e.statusText,n=e.data,i=e.message,a=N(e,["status","statusText","data","message"]);return o.a.Observable.of(Object(p.mapSaveError)(t?{status:t,statusText:r,data:n}:i||a),Object(l.basicError)(D(D({},Object(P.getErrorMessage)(e,"geostore","mapsError")),{},{autoDismiss:6,position:"tc"})))})).startWith(n.id?Object(f.mapUpdating)(n.metadata):Object(f.savingMap)(n.metadata))}))}},"./MapStore2/web/client/epics/measurement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"addAnnotationFromMeasureEpic",(function(){return S})),r.d(t,"addAsLayerEpic",(function(){return w})),r.d(t,"openMeasureEpic",(function(){return O})),r.d(t,"closeMeasureEpics",(function(){return j})),r.d(t,"setMeasureStateFromAnnotationEpic",(function(){return E}));var n=r("./node_modules/rxjs/Rx.js"),o=r.n(n),i=r("./node_modules/uuid/v1.js"),a=r.n(i),s=r("./MapStore2/web/client/utils/MeasurementUtils.js"),l=r("./MapStore2/web/client/actions/measurement.js"),c=r("./MapStore2/web/client/actions/layers.js"),u=r("./MapStore2/web/client/utils/AnnotationsUtils.js"),p=r("./MapStore2/web/client/actions/controls.js"),d=r("./MapStore2/web/client/actions/featuregrid.js"),f=r("./MapStore2/web/client/actions/mapInfo.js"),m=r("./MapStore2/web/client/selectors/controls.js"),y=r("./MapStore2/web/client/selectors/measurement.js"),b=r("./MapStore2/web/client/actions/annotations.js");function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){return e.ofType(l.ADD_MEASURE_AS_ANNOTATION).switchMap((function(e){var t=e.features,r=e.textLabels,n=e.uom,i=e.save,c=e.id,d=void 0===c?a()():c,f=h(h({},Object(s.convertMeasuresToGeoJSON)(t,r,n,d,"Annotations created from measurements",u.STYLE_TEXT)),{},{newFeature:i});return o.a.Observable.of(Object(p.toggleControl)("annotations",null),Object(b.newAnnotation)(),Object(l.setMeasurementConfig)("exportToAnnotation",!1),Object(b.setEditingFeature)(f))}))},w=function(e){return e.ofType(l.ADD_AS_LAYER).switchMap((function(e){var t=e.features,r=e.textLabels,n=e.uom,i=Object(s.convertMeasuresToGeoJSON)(t,r,n,a()());return o.a.Observable.of(Object(c.addLayer)({type:"vector",id:a()(),name:"Measurements",hideLoading:!0,features:[i],visibility:!0}))}))},O=function(e,t){return e.ofType(p.SET_CONTROL_PROPERTY).filter((function(e){return"measure"===e.control&&e.value&&Object(m.showCoordinateEditorSelector)(t.getState())})).switchMap((function(){return o.a.Observable.of(Object(d.closeFeatureGrid)(),Object(f.purgeMapInfoResults)(),Object(f.hideMapinfoMarker)())}))},j=function(e,t){return e.ofType(p.TOGGLE_CONTROL).filter((function(e){return"measure"===e.control&&!Object(m.measureSelector)(t.getState())})).switchMap((function(){return o.a.Observable.of(Object(b.cleanHighlight)(),Object(c.changeLayerProperties)("annotations",{visibility:!0}))}))},E=function(e,t){return e.ofType(l.SET_ANNOTATION_MEASUREMENT).switchMap((function(e){var r,n,i=e.features,a=Object(y.geomTypeSelector)(t.getState())===(null===(r=Object(s.getGeomTypeSelected)(i))||void 0===r?void 0:r[0]);return o.a.Observable.of(!a&&Object(l.changeMeasurement)({geomType:null===(n=Object(s.getGeomTypeSelected)(i))||void 0===n?void 0:n[0]}),Object(p.setControlProperty)("measure","enabled",!0),Object(p.setControlProperty)("annotations","enabled",!1))}))}},"./MapStore2/web/client/epics/notifications.js":function(e,t,r){var n=r("./node_modules/rxjs/Rx.js"),o=r("./MapStore2/web/client/actions/notifications.js").clear,i=r("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE;e.exports={clearNotificationOnLocationChange:function(e){return e.ofType(i).switchMap((function(){return n.Observable.of(o())}))}}},"./MapStore2/web/client/epics/playback.js":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r("./node_modules/moment/moment.js"),p=r("./MapStore2/node_modules/lodash/lodash.js").get,d=r("./MapStore2/web/client/actions/playback.js"),f=d.PLAY,m=d.PAUSE,y=d.STOP,b=d.STATUS,g=d.SET_FRAMES,h=d.SET_CURRENT_FRAME,v=d.TOGGLE_ANIMATION_MODE,S=d.ANIMATION_STEP_MOVE,w=d.stop,O=d.setFrames,j=d.appendFrames,E=d.setCurrentFrame,x=d.framesLoading,P=d.updateMetadata,T=r("./MapStore2/web/client/actions/dimension.js"),M=T.moveTime,A=T.SET_CURRENT_TIME,C=T.MOVE_TIME,_=r("./MapStore2/web/client/actions/timeline.js"),I=_.selectLayer,R=_.onRangeChanged,L=_.timeDataLoading,D=_.SELECT_LAYER,k=_.SET_MAP_SYNC,N=r("./MapStore2/web/client/actions/layers.js"),F=N.changeLayerProperties,G=N.REMOVE_NODE,U=r("./MapStore2/web/client/actions/notifications.js").error,B=r("./MapStore2/web/client/selectors/dimension.js"),z=B.currentTimeSelector,W=B.layersWithTimeDataSelector,V=B.layerTimeSequenceSelectorCreator,H=r("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE,q=r("./MapStore2/web/client/selectors/playback.js"),Y=q.currentFrameSelector,Z=q.currentFrameValueSelector,Q=q.lastFrameSelector,K=q.playbackRangeSelector,X=q.playbackSettingsSelector,J=q.frameDurationSelector,$=q.statusSelector,ee=q.playbackMetadataSelector,te=r("./MapStore2/web/client/selectors/timeline.js"),re=te.selectedLayerSelector,ne=te.selectedLayerName,oe=te.selectedLayerUrl,ie=te.selectedLayerData,ae=te.selectedLayerTimeDimensionConfiguration,se=te.rangeSelector,le=te.timelineLayersSelector,ce=te.multidimOptionsSelectorCreator,ue=r("./MapStore2/web/client/observables/pausable.js"),pe=r("./MapStore2/web/client/observables/epics.js").wrapStartStop,de=r("./MapStore2/web/client/api/MultiDim.js").getDomainValues,fe=r("./node_modules/rxjs/Rx.js"),me=function(e,t){return"".concat(e,"/").concat(t)},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=re(e()),n=ne(e()),o=oe(e()),i=K(e())||{},a=i.startPlaybackTime,s=i.endPlaybackTime,c=$(e())===b.PLAY||$(e())===b.PAUSE;return[o,n,"time",l({limit:20,time:a&&s&&c?me(a,s):void 0},t),ce(r)(e())]},be=function(e,t){if(ne(e())){var r=V(ie(e()))(e()),n=ae(e());return"multidim-extension"!==p(n,"source.type")&&r&&r.length>0?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fromValue,o=r.limit,i=void 0===o?20:o,a=K(t())||{},s=a.startPlaybackTime,l=a.endPlaybackTime;return fe.Observable.of(e.filter((function(e){return!s||!l||u(e).isSameOrAfter(s)&&u(e).isSameOrBefore(l)})).filter((function(e){return!n||u(e).isAfter(n)})).slice(0,i))}(r,e,t):de.apply(void 0,o(ye(e,t))).map((function(e){return e.DomainValues.Domain.split(",")}))}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fromValue,n=t.limit,o=void 0===n?20:n,i=t.sort,a=void 0===i?"asc":i,s=X(e()),l=s.timeStep,c=s.stepUnit,p=u.duration(l,c),d=K(e())||{},f=d.startPlaybackTime,m=d.endPlaybackTime,y=void 0!==r?r:f||z(e())||(new Date).toString(),b=[];y!==r&&b.push(u(y).toISOString());for(var g=0;g<o&&(y=u(y).add("asc"===a?p:-1*p),!m||y.isBefore(m));g++)b.push(y.toISOString());return fe.Observable.of(b)}(e,t)},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var r=W(e());return fe.Observable.from(r.map((function(e){return F(e.id,{singleTile:!0})}))).concat(t).concat(fe.Observable.from(r.map((function(e){return F(e.id,{singleTile:e.singleTile})}))))}},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.start,n=t.end;return r&&n&&(u(e).isBefore(r)||u(e).isAfter(n))};e.exports={retrieveFramesForPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(f).exhaustMap((function(){return be(n,{fromValue:K(n())&&K(n()).startPlaybackTime&&K(n()).endPlaybackTime?void 0:z(n())}).map((function(e){return O(e)})).let(pe(x(!0),x(!1)),(function(){return fe.Observable.of(U({title:"There was an error retrieving animation",message:"Please contact the administrator"}),w())})).let(pe(L(!1,!0),L(!1,!1))).concat(e.ofType(h).filter((function(e){return e.frame%20==10})).switchMap((function(){return be(n,{fromValue:Q(n())}).map(j).let(pe(x(!0),x(!1)))}))).takeUntil(e.ofType(y,H)).concat(fe.Observable.of(L(!1,!1))).let(ge(n))}))},updateCurrentTimeFromAnimation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(h).map((function(){return Z(n())})).map((function(e){return e?M(e):w()}))},timeDimensionPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(g).exhaustMap((function(){return fe.Observable.interval(1e3*J(n())).startWith(0).let(ue(e.ofType(f,m).map((function(e){return e.type===f})))).map((function(){return E(Y(n())+1)})).merge(e.ofType(S).map((function(e){var t=e.direction;return E(Math.max(0,Y(n())+t))}))).concat(fe.Observable.of(w())).takeUntil(e.ofType(y,H))}))},playbackToggleGuideLayerToFixedStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(v).exhaustMap((function(){return ne(n())?fe.Observable.of(I(void 0)):fe.Observable.of(I(p(le(n()),"[0].id")))}))},playbackMoveStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,o=void 0===r?function(){}:r;return e.ofType(S).filter((function(){return $(o())!==b.PLAY})).switchMap((function(e){var t=e.direction,r=void 0===t?1:t,i=ee(o())||{},a=z(o());return a&&i.forTime===a?fe.Observable.of(r>0?i.next:i.previous):be(o,{limit:1,sort:r>0?"asc":"desc",fromValue:z(o())}).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n(e,1),r=t[0];return r}))})).filter((function(e){return!!e})).map((function(e){return M(e)}))},playbackCacheNextPreviousTimes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,i=void 0===r?function(){}:r;return e.ofType(A,C,D,y,k).filter((function(){return $(i())!==b.PLAY&&$(i())!==b.PAUSE})).filter((function(){return re(i())})).filter((function(e){return!!e})).switchMap((function(e){var t=e.time||z(i());return fe.Observable.forkJoin(de.apply(void 0,o(ye(i,{sort:"asc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return n(e,1)[0]})).catch((function(e){return e&&fe.Observable.of(null)})),de.apply(void 0,o(ye(i,{sort:"desc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return n(e,1)[0]})).catch((function(e){return e&&fe.Observable.of(null)}))).map((function(e){var r=n(e,2),o=r[0],i=r[1];return P({forTime:t,next:o,previous:i})}))}))},playbackFollowCursor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(C).filter((function(e){return(e.type===C||$(n())===b.PLAY)&&he(z(n()),se(n()))})).filter((function(){return p(X(n()),"following")})).switchMap((function(){return fe.Observable.of(R((e=z(n()),t=se(n()),r=t.start,o=t.end,i=u(o).diff(u(r)),{start:e,end:u(e).add(i).toISOString()})));var e,t,r,o,i}))},playbackStopWhenDeleteLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(G).filter((function(){return!re(n())&&"PLAY"===$(n())})).switchMap((function(){return fe.Observable.of(w())}))}}},"./MapStore2/web/client/epics/queryform.js":function(e,t,r){var n=r("./node_modules/rxjs/Rx.js").Observable,o=r("./node_modules/@turf/bbox/index.js"),i=r("./MapStore2/web/client/actions/draw.js").changeDrawingStatus,a=r("./MapStore2/web/client/actions/map.js").zoomToExtent,s=r("./MapStore2/web/client/actions/queryform.js").CHANGE_SPATIAL_FILTER_VALUE;e.exports={updateSpatialFilterValue:function(e){return e.ofType(s).switchMap((function(e){var t=e.feature,r=e.srsName,s=e.style,l=e.options;return n.of(i("drawOrEdit",t.geometry.type,"queryform",[t],{editEnabled:!1,stopAfterDrawing:!0,featureProjection:r},s)).concat(t&&l&&l.autoZoom?[a(o(t),r)]:[])}))}}},"./MapStore2/web/client/epics/search.js":function(e,t,r){"use strict";r.r(t),r.d(t,"searchEpic",(function(){return M})),r.d(t,"searchItemSelected",(function(){return A})),r.d(t,"textSearchShowGFIEpic",(function(){return C})),r.d(t,"zoomAndAddPointEpic",(function(){return _})),r.d(t,"searchOnStartEpic",(function(){return I}));var n=r("./node_modules/rxjs/Rx.js"),o=r("./node_modules/turf-bbox/index.js"),i=r.n(o),a=r("./node_modules/@turf/point-on-surface/index.js"),s=r.n(a),l=r("./node_modules/object-assign/index.js"),c=r.n(l),u=r("./MapStore2/node_modules/lodash/lodash.js"),p=r("./MapStore2/web/client/selectors/layers.js"),d=r("./MapStore2/web/client/actions/additionallayers.js"),f=r("./MapStore2/web/client/actions/mapInfo.js"),m=r("./MapStore2/web/client/actions/map.js"),y=r("./MapStore2/web/client/actions/layers.js"),b=r("./MapStore2/web/client/actions/search.js"),g=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),h=r.n(g),v=r("./MapStore2/web/client/utils/SearchUtils.js"),S=r("./MapStore2/web/client/utils/TemplateUtils.js"),w=r("./MapStore2/web/client/api/searchText.js"),O=r("./MapStore2/web/client/api/WFS.js");function j(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(e){return e.ofType(b.TEXT_SEARCH_STARTED).debounceTime(250).switchMap((function(t){return n.Observable.from((t.services||[{type:"nominatim",priority:5}]).map((function(e){var r=w.API.Utils.getService(e.type);if(!r){var o=new Error("Service Missing");return o.msgId="search.service_missing",o.serviceType=e.type,n.Observable.of(o).do((function(e){throw e}))}return n.Observable.defer((function(){return r(t.searchText,e.options).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return P(P({},t),{},{__SERVICE__:e,__PRIORITY__:e.priority||0})}))}))})).retryWhen((function(e){return e.delay(200).scan((function(e,t){if(e>=2)throw t;return e+1}),0)}))}))).mergeAll().scan((function(e,t){return Object(u.sortBy)([].concat(j(e),j(t)),["__PRIORITY__"])})).map((function(e){return Object(b.searchResultLoaded)(e.slice(0,t.maxResults||15),!1)})).startWith(Object(b.searchTextLoading)(!0)).takeUntil(e.ofType(b.TEXT_SEARCH_RESULTS_PURGE,b.TEXT_SEARCH_RESET,b.TEXT_SEARCH_ITEM_SELECTED)).concat([Object(b.searchTextLoading)(!1)]).catch((function(e){var t=P(P({msgId:"search.generic_error"},e),{},{message:e.message,stack:e.stack});return n.Observable.from([Object(b.searchResultError)(t),Object(b.searchTextLoading)(!1)])}))}))},A=function(e,t){return e.ofType(b.TEXT_SEARCH_ITEM_SELECTED).switchMap((function(e){var r=n.Observable.of(e.item).concatMap((function(t){if(t&&t.__SERVICE__&&t.__SERVICE__.geomService){var r=Object(S.generateTemplateString)(t.__SERVICE__.geomService.options.staticFilter||"")(t);return n.Observable.fromPromise(w.API.Utils.getService(t.__SERVICE__.geomService.type)("",c()({},t.__SERVICE__.geomService.options,{staticFilter:r})).then((function(e){return c()({},t,{geometry:h.a.mergeToPolyGeom(e)})})))}return n.Observable.of(e.item)})).concatMap((function(e){var r=e.bbox||e.properties.bbox||i()(e),n=[Object(m.zoomToExtent)([r[0],r[1],r[2],r[3]],"EPSG:4326",e.__SERVICE__&&e.__SERVICE__.options&&e.__SERVICE__.options.maxZoomLevel||21),Object(b.addMarker)(e)];if(e.__SERVICE__&&!Object(u.isNil)(e.__SERVICE__.launchInfoPanel)&&e.__SERVICE__.options&&e.__SERVICE__.options.typeName){var o=s()(e).geometry.coordinates,a={lng:o[0],lat:o[1]},l=e.__SERVICE__.options.typeName;if(o){var c=l&&Object(p.getLayerFromName)(t.getState(),l),d=null,g=[],h={},v=!1;return"single_layer"===e.__SERVICE__.launchInfoPanel&&(v=e.__SERVICE__.forceSearchLayerVisibility,g=[l],d=e.id,h=T({},e.__SERVICE__.options.typeName,{info_format:"application/json"})),[].concat(j(v&&c?[Object(y.changeLayerProperties)(c.id,{visibility:!0})]:[]),j(e.__SERVICE__.openFeatureInfoButtonEnabled?[]:[Object(f.featureInfoClick)({latlng:a},l,g,h,d)]),[Object(f.showMapinfoMarker)()],n)}}return n})),o=e.item,a=o&&o.__SERVICE__&&o.__SERVICE__.then,l=a?n.Observable.of(Object(b.selectNestedService)(a.map((function(e){return P(P({},e),{},{options:P({item:o},e.options)})})),{text:Object(S.generateTemplateString)(o.__SERVICE__.displayName||"")(o),placeholder:o.__SERVICE__.nestedPlaceholder&&Object(S.generateTemplateString)(o.__SERVICE__.nestedPlaceholder||"")(o),placeholderMsgId:o.__SERVICE__.nestedPlaceholderMsgId&&Object(S.generateTemplateString)(o.__SERVICE__.nestedPlaceholderMsgId||"")(o)},Object(S.generateTemplateString)(o.__SERVICE__.searchTextTemplate||"")(o))):n.Observable.empty(),d=o.__SERVICE__&&o.__SERVICE__.searchTextTemplate,g=d?n.Observable.of(Object(b.searchTextChanged)(Object(S.generateTemplateString)(d)(o))):n.Observable.empty();return n.Observable.of(Object(b.resultsPurge)()).concat(r,l,g)}))},C=function(e,t){return e.ofType(b.TEXT_SEARCH_SHOW_GFI).switchMap((function(e){var r,o,a,l,c,u,d=e.item,g=t.getState(),h=null==d||null===(r=d.__SERVICE__)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.typeName,S=h&&Object(p.getLayerFromName)(g,h),w=d.bbox||d.properties.bbox||i()(d),O=s()(d).geometry.coordinates,E={lng:O[0],lat:O[1]};return O&&Object(v.showGFIForService)(null==d?void 0:d.__SERVICE__)&&Object(v.layerIsVisibleForGFI)(S,null==d?void 0:d.__SERVICE__)?(a=n.Observable).of.apply(a,j((null==d||null===(l=d.__SERVICE__)||void 0===l?void 0:l.forceSearchLayerVisibility)&&S?[Object(y.changeLayerProperties)(S.id,{visibility:!0})]:[]).concat([Object(f.featureInfoClick)({latlng:E},h,[h],T({},h,{info_format:"application/json"}),d.id),Object(f.showMapinfoMarker)(),Object(m.zoomToExtent)([w[0],w[1],w[2],w[3]],"EPSG:4326",(null==d||null===(c=d.__SERVICE__)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.maxZoomLevel)||21),Object(b.addMarker)(d)])):n.Observable.empty()}))},_=function(e,t){return e.ofType(b.ZOOM_ADD_POINT).switchMap((function(e){var r={type:"Feature",geometry:{type:"Point",coordinates:[e.pos.x,e.pos.y]}},o=t.getState();return n.Observable.from([Object(d.updateAdditionalLayer)("search","search","overlay",{features:[r],type:"vector",name:"searchPoints",id:"searchPoints",visibility:!0,style:o.search&&o.search.style||v.defaultIconStyle}),Object(m.zoomToPoint)(e.pos,e.zoom,e.crs)])}))},I=function(e,t){return e.ofType(b.SEARCH_LAYER_WITH_FILTER).switchMap((function(e){var r=e.layer,o=e.cql_filter,i=t.getState();if(0===Object(p.queryableLayersSelector)(i).filter((function(e){return e.name===r})).length)return n.Observable.of(Object(b.nonQueriableLayerError)());var a=Object(p.getLayerFromName)(i,r);return a&&o?n.Observable.defer((function(){return Object(O.getFeatureSimple)(a.url,{maxFeatures:1,typeName:r,srsName:"EPSG:4326",outputFormat:"application/json",cql_filter:o}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.features&&e.features.length&&P(P({},e.features[0]),{},{typeName:r})}))})).switchMap((function(e){var t=e.type,r=e.geometry,i=e.typeName,a=s()({type:t,geometry:r}).geometry.coordinates,l={lng:a[0],lat:a[1]};return a?n.Observable.of(Object(f.featureInfoClick)({latlng:l},i,[i],T({},i,{cql_filter:o})),Object(f.showMapinfoMarker)()):n.Observable.empty()})).catch((function(){return n.Observable.of(Object(b.serverError)())})):n.Observable.empty()}))}},"./MapStore2/web/client/epics/styleeditor.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.get,p=c.head,d=c.isArray,f=c.template,m=r("./MapStore2/web/client/actions/notifications.js"),y=m.success,b=m.error,g=r("./MapStore2/web/client/actions/layers.js"),h=g.UPDATE_NODE,v=g.updateNode,S=g.updateSettingsParams,w=r("./MapStore2/web/client/actions/additionallayers.js"),O=w.updateAdditionalLayer,j=w.removeAdditionalLayer,E=w.updateOptionsByOwner,x=r("./MapStore2/web/client/actions/layerCapabilities.js").getDescribeLayer,P=r("./MapStore2/web/client/observables/wms.js").getLayerCapabilities,T=r("./MapStore2/web/client/actions/controls.js").setControlProperty,M=r("./MapStore2/web/client/utils/LayersUtils.js"),A=M.findGeoServerName,C=M.formatCapabitiliesOptions,_=r("./MapStore2/web/client/actions/styleeditor.js"),I=_.SELECT_STYLE_TEMPLATE,R=_.updateTemporaryStyle,L=_.TOGGLE_STYLE_EDITOR,D=_.resetStyleEditor,k=_.UPDATE_STATUS,N=_.loadingStyle,F=_.LOADED_STYLE,G=_.loadedStyle,U=_.CREATE_STYLE,B=_.updateStatus,z=_.selectStyleTemplate,W=_.errorStyle,V=_.UPDATE_STYLE_CODE,H=_.EDIT_STYLE_CODE,q=_.DELETE_STYLE,Y=_.setEditPermissionStyleEditor,Z=_.SET_DEFAULT_STYLE,Q=_.initStyleService,K=_.updateEditorMetadata,X=r("./MapStore2/web/client/api/geoserver/Styles.js").default,J=r("./MapStore2/web/client/api/geoserver/Layers.js"),$=r("./MapStore2/web/client/selectors/styleeditor.js"),ee=$.temporaryIdSelector,te=$.codeStyleSelector,re=$.formatStyleSelector,ne=$.languageVersionStyleSelector,oe=$.statusStyleSelector,ie=$.selectedStyleSelector,ae=$.enabledStyleEditorSelector,se=$.loadingStyleSelector,le=$.styleServiceSelector,ce=$.getUpdatedLayer,ue=$.editorMetadataSelector,pe=$.selectedStyleMetadataSelector,de=r("./MapStore2/web/client/selectors/layers.js"),fe=de.getSelectedLayer,me=de.layerSettingSelector,ye=r("./MapStore2/web/client/utils/StyleEditorUtils.js"),be=ye.generateTemporaryStyleId,ge=ye.generateStyleId,he=ye.STYLE_OWNER_NAME,ve=ye.getNameParts,Se=r("./MapStore2/web/client/selectors/controls.js"),we=Se.initialSettingsSelector,Oe=Se.originalSettingsSelector,je=r("./MapStore2/web/client/api/StyleEditor.js").updateStyleService,Ee=function(e){var t=e.status,r=e.styleName,n=e.baseUrl;return"edit"===t?l.Observable.defer((function(){return X.getStyleCodeByName({baseUrl:n,styleName:r})})).switchMap((function(e){return l.Observable.of(z({languageVersion:e.languageVersion,code:e.code,templateId:"",format:e.format,init:!0}))})).catch((function(e){return l.Observable.of(W("edit",e))})):l.Observable.empty()},xe=function(e){var t=e.styleName,r=e.baseUrl,n=e.onSuccess$,o=e.onError$;return l.Observable.defer((function(){return X.deleteStyle({baseUrl:r,styleName:t})})).switchMap((function(){return n||l.Observable.empty()})).catch((function(){return o||l.Observable.empty()}))},Pe=function(e){var t=e.baseUrl,r=e.update,o=e.code,i=e.format,a=e.styleName,s=e.status,c=e.languageVersion,u=e.options,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return l.Observable.defer((function(){return X[r?"updateStyle":"createStyle"]({baseUrl:t,code:o,format:i,styleName:a,languageVersion:c,options:u})})).switchMap((function(){var e;return d(p)&&(e=l.Observable).of.apply(e,[G()].concat(n(p)))||p})).catch((function(e){var t;return(t=l.Observable).of.apply(t,[W(s,e),G()].concat(n(f)))})).startWith(N(s))};e.exports={toggleStyleEditorEpic:function(e,t){return e.ofType(L).filter((function(){return!se(t.getState())})).switchMap((function(e){var r=t.getState(),n=me(r),o=!!u(n,"options.availableStyles");if(!e.enabled)return function(e){var t=ee(e),r=le(e).baseUrl,n=void 0===r?"":r;return l.Observable.of(D(),j({owner:he})).merge(t?xe({styleName:t,baseUrl:n}):l.Observable.empty())}(r);if(ae(r)&&o)return l.Observable.empty();var i=e.layer||fe(r);if(!i||i&&!i.url)return l.Observable.empty();var s=A(i);if(!s)return l.Observable.empty();var c=i.url.split(s),p="".concat(c[0]).concat(s),d=le(r);return l.Observable.defer((function(){return je({baseUrl:p,styleService:d})})).switchMap((function(e){var t,r=[Q(e)];return(t=P(i).switchMap((function(e){var t=C(e);if(!t.availableStyles)return l.Observable.of(W("availableStyles",{status:401}),G());return l.Observable.defer((function(){return X.getStylesInfo({baseUrl:p,styles:t&&t.availableStyles||[]})})).switchMap((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l.Observable.of(O(i.id,he,"override",{}),S({availableStyles:e}),v(i.id,"layer",a(a({},t),{},{availableStyles:e})),G())}(e)}))}))).startWith.apply(t,r).catch((function(e){return l.Observable.of(W("global",e),G())}))})).startWith(N("global"))}))},updateLayerOnStatusChangeEpic:function(e,t){return e.ofType(k).filter((function(e){return!!e.status})).switchMap((function(r){var o=t.getState(),i=ce(o),a=i&&i.params||{},s=i&&!i.describeFeatureType&&x(i.url,i,{query:a}),c=ie(o)||i.availableStyles&&i.availableStyles[0]&&i.availableStyles[0].name,u=pe(o),p=le(o).baseUrl,d=void 0===p?"":p;return s&&function(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return(r=l.Observable).of.apply(r,[N("global")].concat(n(i))).merge(e.ofType(h).filter((function(){var e=fe(t.getState());return o(e)})).switchMap((function(){var e=fe(t.getState());return a(e)})).catch((function(e){return l.Observable.of(W("global",e),G())})).takeUntil(e.ofType(F)))}(e,t,(function(e){return e&&e.describeLayer}),[s],(function(e){return l.Observable.concat(Ee({status:r.status,styleName:c,baseUrl:d}),l.Observable.of(Y(!(e&&e.describeLayer&&401===e.describeLayer.error)),K({editorType:u.msEditorType||"textarea",styleJSON:u.msStyleJSON}),G()))}))||l.Observable.concat(Ee({status:r.status,styleName:c,baseUrl:d}),l.Observable.of(K({editorType:u.msEditorType||"textarea",styleJSON:u.msStyleJSON})))}))},updateTemporaryStyleEpic:function(e,t){return e.ofType(I,H).switchMap((function(e){var r=t.getState(),n=ee(r),o=ce(r),i=ve(o.name).workspace,a=e.format&&e.format!==re(r),s=n||"".concat(i?"".concat(i,":"):"").concat(be()),l=e.format||re(r),c=oe(r),u=le(r).baseUrl,p=void 0===u?"":u,d=ne(r),f="sld"===l&&(e.code||"").match(/version=\"1\.1\.0\"/)&&{version:"1.1.0"}||e.format&&!e.languageVersion&&{version:"1.0.0"}||e.languageVersion||{version:"1.0.0"},m=d.version!==f.version?{params:{raw:!0}}:{},y=f,g=function(t){return Pe({update:!0,code:e.code,format:l,styleName:t,status:c,baseUrl:p,languageVersion:y,options:m},[E(he,[{style:t,_v_:Date.now(),singleTile:!0}]),R({temporaryId:t,templateId:e.templateId||"",code:e.code,format:l,init:e.init,languageVersion:y})],"edit"===c?[]:[b({title:"styleeditor.updateTmpErrorTitle",message:"styleeditor.updateTmpStyleErrorMessage",uid:"updateTmpStyleError",autoDismiss:5})])},h=("css"===l?"* { stroke: #888888; }":"sld"===l&&'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<LineSymbolizer>\n\t\t\t\t\t\t<Stroke>\n\t\t\t\t\t\t\t<CssParameter name="stroke">#0000FF</CssParameter>\n\t\t\t\t\t\t</Stroke>\n\t\t\t\t\t\t</LineSymbolizer>\n\t\t\t\t\t<PointSymbolizer>\n\t\t\t\t\t\t<Graphic>\n\t\t\t\t\t\t\t<Mark>\n\t\t\t\t\t\t\t\t<WellKnownName>square</WellKnownName>\n\t\t\t\t\t\t\t\t<Fill>\n\t\t\t\t\t\t\t\t\t<CssParameter name="fill">#FF0000</CssParameter>\n\t\t\t\t\t\t\t\t</Fill>\n\t\t\t\t\t\t\t</Mark>\n\t\t\t\t\t\t</Graphic>\n\t\t\t\t\t</PointSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n')||"",v=function(e){return Pe({code:h,format:l,styleName:e,status:c,baseUrl:p},g(e),[b({title:"styleeditor.createTmpErrorTitle",message:"styleeditor.createTmpStyleErrorMessage",uid:"createTmpStyleError",autoDismiss:5}),R({temporaryId:null,templateId:"",code:"",format:"",init:"",languageVersion:null})])};return a&&n&&xe({styleName:n,baseUrl:p,onSuccess$:v("".concat(i?"".concat(i,":"):"").concat(be())),onError$:g(s)})||n&&g(s)||v(s)}))},createStyleEpic:function(e,t){return e.ofType(U).switchMap((function(e){var r=t.getState(),o=te(r),i=ce(r),s=ve(i.name).workspace,c="".concat(s?"".concat(s,":"):"").concat(ge(e.settings)),u=re(r),d=e.settings||{},m=d.title,y=void 0===m?"":m,g=d._abstract,h=void 0===g?"":g,v=le(r).baseUrl,w=void 0===v?"":v,O=a({title:y,description:h},{msStyleJSON:null,msEditorType:"visual"});return l.Observable.defer((function(){return X.createStyle({baseUrl:w,code:f(o)({styleTitle:y,styleAbstract:h}),format:u,styleName:c,metadata:O})})).switchMap((function(){return l.Observable.of(E(he,[{}]),S({style:c||""},!0),B(""),G()).merge(function(e){var t=e.baseUrl,r=e.layer,o=e.styleName,i=e.format,s=e.title,c=e._abstract,u=e.metadata;return l.Observable.defer((function(){return J.updateAvailableStyles({baseUrl:t,layerName:r.name,styles:[{name:o}]})})).switchMap((function(){var e=a({filename:"".concat(o,".").concat(i),format:i,name:o,title:s,_abstract:c},u&&{metadata:u}),t=p(r.availableStyles),d=r.availableStyles&&[t,e].concat(n(r.availableStyles.filter((function(e,t){return t>0}))))||[e];return l.Observable.of(S({availableStyles:d},!0),G())})).catch((function(){return l.Observable.of(G())})).startWith(N("global"))}({layer:i,styleName:c,format:u,title:y,_abstract:h,baseUrl:w,metadata:O}))})).catch((function(e){return l.Observable.of(W("",e),G(),b({title:"styleeditor.createStyleErrorTitle",message:"styleeditor.createStyleErrorMessage",uid:"createStyleError",autoDismiss:5}))})).startWith(N(""))}))},updateStyleCodeEpic:function(e,t){return e.ofType(V).switchMap((function(){var e=t.getState(),r=re(e),n=ne(e),o=te(e),i=ie(e),s=ee(e),c=ce(e),u=le(e).baseUrl,p=void 0===u?"":u,d=ue(e)||{},f={msStyleJSON:d.styleJSON||null,msEditorType:d.editorType},m=(c.availableStyles||[]).map((function(e){return e.name===i?a(a({},e),{},{metadata:a(a({},e.metadata),f)}):e}));return l.Observable.defer((function(){return X.updateStyle({baseUrl:p,code:o,format:r,styleName:i,languageVersion:n,options:{params:{raw:!0}},metadata:f})})).switchMap((function(){return l.Observable.of(G(),v(c.id,"layer",{_v_:Date.now(),availableStyles:m}),S({availableStyles:m}),R({temporaryId:s,templateId:"",code:o,format:r,init:!0,languageVersion:n}),y({title:"styleeditor.savedStyleTitle",message:"styleeditor.savedStyleMessage",uid:"savedStyleTitle",autoDismiss:5}))})).catch((function(e){return l.Observable.of(W("global",e),G(),b({title:"styleeditor.updateStyleErrorTitle",message:"styleeditor.updateStyleErrorMessage",uid:"updateStyleError",autoDismiss:5}))})).startWith(N("global"))}))},deleteStyleEpic:function(e,t){return e.ofType(q).filter((function(e){return!!e.styleName})).switchMap((function(e){var r=e.styleName,n=t.getState(),o=ce(n),i=le(n).baseUrl,s=void 0===i?"":i,c=Oe(n),u=we(n);return l.Observable.defer((function(){return J.removeStyles({baseUrl:s,layerName:o.name,styles:[{name:r}]})})).switchMap((function(){var e=o.availableStyles&&o.availableStyles.filter((function(e){return e.name!==r}))||[];return l.Observable.concat(l.Observable.of(S({style:"",availableStyles:e},!0),G(),T("layersettings","originalSettings",a(a({},c),{},{style:""})),T("layersettings","initialSettings",a(a({},u),{},{style:""}))),xe({styleName:r,baseUrl:s,onSuccess$:l.Observable.of(y({title:"styleeditor.deletedStyleSuccessTitle",message:"styleeditor.deletedStyleSuccessMessage",uid:"deletedStyleSuccess",autoDismiss:5})),onError$:l.Observable.of(b({title:"styleeditor.deletedStyleErrorTitle",message:"styleeditor.deletedStyleErrorMessage",uid:"deletedStyleError",autoDismiss:5}))}))})).catch((function(){return l.Observable.of(G())})).startWith((function(){return l.Observable.of(N("global"))}))}))},setDefaultStyleEpic:function(e,t){return e.ofType(Z).switchMap((function(){var e=t.getState(),r=le(e).baseUrl,o=void 0===r?"":r,i=ce(e),a=ie(e);return l.Observable.defer((function(){return J.updateDefaultStyle({baseUrl:o,layerName:i.name,styleName:a})})).switchMap((function(){var e=i.availableStyles.filter((function(e){var t=e.name;return a===t})),t=i.availableStyles.filter((function(e){var t=e.name;return a!==t})),r=[].concat(n(e),n(t));return l.Observable.of(S({availableStyles:r},!0),y({title:"styleeditor.setDefaultStyleSuccessTitle",message:"styleeditor.setDefaultStyleSuccessMessage",uid:"setDefaultStyleSuccess",autoDismiss:5}),G())})).startWith(N("global")).catch((function(){return l.Observable.of(b({title:"styleeditor.setDefaultStyleErrorTitle",message:"styleeditor.setDefaultStyleErrorMessage",uid:"setDefaultStyleError",autoDismiss:5}),G())}))}))}}},"./MapStore2/web/client/epics/timeline.js":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r("./node_modules/rxjs/Rx.js"),p=r("./MapStore2/node_modules/lodash/lodash.js"),d=p.isString,f=p.get,m=p.head,y=p.castArray,b=r("./node_modules/moment/moment.js"),g=r("./MapStore2/web/client/observables/epics.js").wrapStartStop,h=r("./MapStore2/web/client/actions/map.js").CHANGE_MAP_VIEW,v=r("./MapStore2/web/client/actions/timeline.js"),S=v.SELECT_TIME,w=v.RANGE_CHANGED,O=v.ENABLE_OFFSET,j=v.SET_MAP_SYNC,E=v.AUTOSELECT,x=v.timeDataLoading,P=v.rangeDataLoaded,T=v.onRangeChanged,M=v.selectLayer,A=r("./MapStore2/web/client/actions/dimension.js"),C=A.setCurrentTime,_=A.UPDATE_LAYER_DIMENSION_DATA,I=A.setCurrentOffset,R=r("./MapStore2/web/client/actions/layers.js").REMOVE_NODE,L=r("./MapStore2/web/client/actions/notifications.js").error,D=r("./MapStore2/web/client/selectors/layers.js").getLayerFromId,k=r("./MapStore2/web/client/selectors/timeline.js"),N=k.rangeSelector,F=k.selectedLayerName,G=k.selectedLayerUrl,U=k.isAutoSelectEnabled,B=k.selectedLayerSelector,z=k.timelineLayersSelector,W=k.multidimOptionsSelectorCreator,V=k.isMapSync,H=r("./MapStore2/web/client/selectors/dimension.js"),q=H.layerTimeSequenceSelectorCreator,Y=H.timeDataSelector,Z=H.offsetTimeSelector,Q=H.currentTimeSelector,K=r("./MapStore2/web/client/utils/TimeUtils.js"),X=K.getNearestDate,J=K.roundRangeResolution,$=K.isTimeDomainInterval,ee=r("./MapStore2/web/client/api/MultiDim.js"),te=ee.getHistogram,re=ee.describeDomains,ne=ee.getDomainValues,oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=B(e),n=F(e),o=G(e),i=W(r)(e);return[o,n,"time",l({limit:1},t),i]},ie=function(e,t,r){if(F(e))return u.Observable.forkJoin(ne.apply(void 0,o(oe(e,{sort:"asc",fromValue:r}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return n(e,1)[0]})).catch((function(e){return e&&u.Observable.of(null)})),ne.apply(void 0,o(oe(e,{sort:"desc",fromValue:r}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return n(e,1)[0]})).catch((function(e){return e&&u.Observable.of(null)}))).map((function(e){return X(e.filter((function(e){return!!e})),r)||r}));var i=q(D(e,t))(e);return u.Observable.of(X(i,r)||r)},ae=function(e){return d(e)?e:e.toISOString()},se=function(e,t,r){var n=t.domain.split("--"),o=N(r())||{start:new Date(n[0]),end:new Date(n[1])},i=J(o,20),a=i.range,s=i.resolution,p=D(r(),e).name,d=c({},"time","".concat(ae(a.start),"/").concat(ae(a.end)));return te(t.source.url,p,"time",c({},"time","".concat(ae(a.start),"/").concat(ae(a.end))),s,W(e)(r())).merge(re(t.source.url,p,d,l(l({},W(e)(r())),{},{expandLimit:20}))).scan((function(e,t){return l(l({},e),t)}),{}).switchMap((function(e){var t,r=e.Histogram,n=e.Domains,o=f(m(y(f(n,"DimensionDomain")||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Identifier;return"time"===t}))),"Domain");try{t=r&&r.Values&&r.Values.split(",").map((function(e){return parseInt(e,10)}))||[]}catch(e){t=[]}var i=o&&o.indexOf("--")<0&&o.split(",");return u.Observable.of({range:a,histogram:r&&r.Domain?{values:t,domain:r.Domain}:void 0,domain:o?{values:i}:void 0})}))};e.exports={setTimelineCurrentTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(S).throttleTime(100).switchMap((function(e){var t=e.time,r=e.group,i=n();return r?ie(i,r,t).switchMap((function(e){var t=N(i)||{},r=t.start,n=t.end,a=[];if(r&&n&&(b(e).isBefore(r)||b(e).isAfter(n))){var s=b(n).diff(r);a=[T({start:b(e).subtract(s/2),end:b(e).add(s/2)})]}return u.Observable.from([].concat(o(a),[C(e)]))})).let(g(x(!1,!0),x(!1,!1))):u.Observable.of(C(t))}))},setupTimelineExistingSettings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(R,E).exhaustMap((function(){return U(n())&&f(z(n()),"[0].id")&&!B(n())?u.Observable.of(M(f(z(n()),"[0].id"))).concat(u.Observable.of(1).switchMap((function(){return ie(n(),f(z(n()),"[0].id"),Q(n)||(new Date).toISOString()).filter((function(e){return e})).map((function(e){return C(e)}))}))):u.Observable.empty()}))},settingInitialOffsetValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(O).switchMap((function(e){var t=n(),r=Q(t),o=N(t);if(e.enabled){var i=o||{},a=i.start,s=void 0===a?0:a,l=i.end,c=void 0===l?432e6:l,p=Z(t),d=b(c).diff(s),f=o?b(s).add(d/2).toISOString():b(new Date).toISOString(),m=b(r||f).add(d/5),y=e.enabled&&!r?u.Observable.of(C(f)):u.Observable.empty(),g=e.enabled&&!p||e.enabled&&b(p).diff(r)<0?u.Observable.of(I(m.toISOString())):u.Observable.empty(),h=o?u.Observable.empty():u.Observable.of(T({start:b(f).add(-1*d/2),end:b(f).add(d/2)}));return y.concat(g).concat(h)}return u.Observable.of(I())}))},updateRangeDataOnRangeChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(w).merge(e.ofType(h).filter((function(){return V(n())})),e.ofType(j)).debounceTime(400).merge(e.ofType(_).debounceTime(50)).switchMap((function(){var e,t=Y(n())||{},r=Object.keys(t).filter((function(e){return t[e]&&t[e].domain&&$(t[e].domain)||V(n())}));return(e=u.Observable).merge.apply(e,o(r.map((function(e){return se(e,t[e],n).map((function(t){var r=t.range,n=t.histogram,o=t.domain;return P(e,r,n,o)})).startWith(x(e,!0)).catch((function(){return u.Observable.of(L({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(u.Observable.of(x(e,!1)))}))))}))}}},"./MapStore2/web/client/epics/wfsquery.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=r("./node_modules/rxjs/Rx.js"),u=r("./MapStore2/web/client/libs/ajax.js"),p=r("./MapStore2/web/client/actions/queryform.js"),d=p.changeSpatialAttribute,f=p.SELECT_VIEWPORT_SPATIAL_METHOD,m=p.updateGeometrySpatialField,y=r("./MapStore2/web/client/actions/map.js").CHANGE_MAP_VIEW,b=r("./MapStore2/web/client/actions/wfsquery.js"),g=b.FEATURE_TYPE_SELECTED,h=b.QUERY,v=b.UPDATE_QUERY,S=b.featureLoading,w=b.featureTypeLoaded,O=b.featureTypeError,j=b.querySearchResponse,E=b.queryError,x=r("./MapStore2/web/client/selectors/query.js"),P=x.paginationInfo,T=x.isDescribeLoaded,M=x.layerDescribeSelector,A=r("./MapStore2/web/client/selectors/map.js").mapSelector,C=r("./MapStore2/web/client/selectors/catalog.js").authkeyParamNameSelector,_=r("./MapStore2/web/client/selectors/layers.js").getSelectedLayer,I=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),R=r("./MapStore2/web/client/utils/WFSTimeUtils.js").addTimeParameter,L=r("./MapStore2/web/client/utils/ConfigUtils.js"),D=r("./node_modules/object-assign/index.js"),k=r("./MapStore2/web/client/selectors/queryform.js"),N=k.spatialFieldMethodSelector,F=k.spatialFieldSelector,G=k.spatialFieldGeomTypeSelector,U=k.spatialFieldGeomCoordSelector,B=k.spatialFieldGeomSelector,z=k.spatialFieldGeomProjSelector,W=r("./MapStore2/web/client/actions/draw.js").changeDrawingStatus,V=r("./MapStore2/web/client/actions/wfsquery.js").INIT_QUERY_PANEL,H=r("./MapStore2/web/client/observables/wfs.js"),q=H.getJSONFeatureWA,Y=H.getLayerJSONFeature,Z=r("./MapStore2/web/client/utils/FeatureTypeUtils.js").describeFeatureTypeToAttributes,Q=r("./MapStore2/web/client/actions/notifications.js"),K=r("./MapStore2/node_modules/lodash/lodash.js").find,X=r("./MapStore2/web/client/utils/FilterUtils.jsx"),J=r("./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js"),$=r("./MapStore2/web/client/utils/ogc/Filter/fromObject.js"),ee=r("./MapStore2/web/client/utils/ogc/Filter/CQL/parser.js").read,te=J({gmlVersion:"3.1.1"}),re=$(te),ne=te.filter,oe=te.and,ie=function(e){return{geometry:e.featureTypes[0].properties.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return{label:e.name,attribute:e.name,type:"geometry",valueId:"id",valueLabel:"name",values:[]}})),original:e,attributes:Z(e)}};e.exports={featureTypeSelectedEpic:function(e,t){return e.ofType(g).filter((function(e){return e.url&&e.typeName})).switchMap((function(e){var r=t.getState();if(T(r,e.typeName)){var n=ie(M(r,e.typeName)),o=n.geometry[0]&&n.geometry[0].attribute?n.geometry[0].attribute:"the_geom";return c.Observable.of(d(o))}return c.Observable.defer((function(){return u.get(L.filterUrlParams(e.url,C(t.getState()))+"?service=WFS&version=1.1.0&request=DescribeFeatureType&typeName="+e.typeName+"&outputFormat=application/json")})).map((function(t){if("object"===l(t.data)&&t.data.featureTypes&&t.data.featureTypes[0]){var r=ie(t.data),n=r.geometry[0]&&r.geometry[0].attribute?r.geometry[0].attribute:"the_geom";return c.Observable.from([d(n),w(e.typeName,r)])}try{JSON.parse(t.data)}catch(t){return c.Observable.from([O(e.typeName,"Error from WFS: "+t.message),Q.error({title:"warning",message:"layerProperties.featureTypeErrorInvalidJSON",autoDismiss:3,position:"tc"})])}return c.Observable.from([O(e.typeName,"Error: feature types are empty")])})).mergeAll().catch((function(t){return c.Observable.of(O(e.typeName,t.message||t.statusText))}))}))},wfsQueryEpic:function(e,t){return e.ofType(h).switchMap((function(r){var n,i,s=(i=t.getState(),(n=i.query&&i.query.featureTypes&&i.query.featureTypes[i.query.typeName]&&i.query.featureTypes[i.query.typeName].attributes&&i.query.featureTypes[i.query.typeName].attributes[0]&&i.query.featureTypes[i.query.typeName].attributes[0].attribute||null)?{sortBy:n,sortOrder:"A"}:{}),u=P.totalFeatures(t.getState()),p=L.filterUrlParams(r.searchUrl,C(t.getState())),d=_(t.getState())||{},f=d.layerFilter,m=d.params,y=K(Object.keys(m||{}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"cql_filter"===e.toLowerCase()})),b=y?[re(ee(y))]:[],g=(b.length>0||X.isFilterValid(f)&&!f.disabled)&&ne(oe.apply(void 0,b.concat(a(X.isFilterValid(f)&&!f.disabled?X.toOGCFilterParts(f,"1.1.0","ogc"):[]),a(X.isFilterValid(r.filterObj)?X.toOGCFilterParts(r.filterObj,"1.1.0","ogc"):[]))))||r.filterObj,h=R(p,r.queryOptions||{},t.getState()),w=h.url,O=h.options,x=o(o({},r.filterObj.pagination),{},{totalFeatures:u,sortOptions:s},O);return c.Observable.merge(("object"===l(g)&&q(w,g,x)||Y(d,g,x)).map((function(e){return j(e,r.searchUrl,r.filterObj,r.queryOptions,r.reason)})).catch((function(e){return c.Observable.of(E(e))})).startWith(S(!0)).concat(c.Observable.of(S(!1)))).takeUntil(e.ofType(v))}))},redrawSpatialFilterEpic:function(e,t){return e.ofType(V).switchMap((function(){var e=t.getState(),r=F(e),n={type:"Feature",geometry:{type:G(e),coordinates:U(e)}},o=B(e)?W("drawOrEdit",r.method||"","queryform",[n],{featureProjection:z(e),drawEnabled:!1,editEnabled:!1}):W("clean",r.method||"","queryform",[],{drawEnabled:!1,editEnabled:!1});return c.Observable.of(o)}))},viewportSelectedEpic:function(e,t){return e.ofType(f,y).switchMap((function(e){var r=e.type===y?e:A(t.getState());if((e.type===f||e.type===y&&"Viewport"===N(t.getState()))&&r.bbox&&r.bbox.bounds&&r.bbox.crs){var n=Object.keys(r.bbox.bounds).reduce((function(e,t){return D({},e,i({},t,parseFloat(r.bbox.bounds[t])))}),{});return c.Observable.of(m(I.getViewportGeometry(n,r.bbox.crs)))}return c.Observable.empty()}))}}},"./MapStore2/web/client/epics/widgets.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/node_modules/lodash/lodash.js"),u=c.endsWith,p=c.has,d=c.get,f=c.includes,m=c.isEqual,y=c.omit,b=c.omitBy,g=r("./MapStore2/web/client/actions/widgets.js"),h=g.EXPORT_CSV,v=g.EXPORT_IMAGE,S=g.INSERT,w=g.TOGGLE_CONNECTION,O=g.WIDGET_SELECTED,j=g.EDITOR_SETTING_CHANGE,E=g.onEditorChange,x=g.updateWidgetLayer,P=g.clearWidgets,T=g.loadDependencies,M=g.toggleDependencySelector,A=g.DEPENDENCY_SELECTOR_KEY,C=g.WIDGETS_REGEX,_=r("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,I=r("./MapStore2/web/client/selectors/widgets.js"),R=I.availableDependenciesSelector,L=I.isWidgetSelectionActive,D=I.getDependencySelectorConfig,k=r("./MapStore2/web/client/actions/layers.js"),N=k.CHANGE_LAYER_PROPERTIES,F=k.LAYER_LOAD,G=k.LAYER_ERROR,U=r("./MapStore2/web/client/selectors/layers.js").getLayerFromId,B=r("./MapStore2/web/client/selectors/router.js").pathnameSelector,z=r("./MapStore2/web/client/actions/maps.js"),W=z.MAP_CREATED,V=z.SAVING_MAP,H=z.MAP_ERROR,q=r("./MapStore2/web/client/actions/dashboard.js").DASHBOARD_LOADED,Y=r("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE,Z=r("./node_modules/file-saver/FileSaver.js").saveAs,Q=r("./MapStore2/web/client/utils/FileUtils.js"),K=r("./node_modules/json-2-csv/lib/converter.js"),X=r("./node_modules/canvg-browser/index.js"),J=function(e){return e.ofType(V,W,H).startWith({type:_}).switchMap((function(t){return t.type===V?l.Observable.never():e})).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;return t===Y}))},$=function(e,t,r,n){return l.Observable.of(E("mapSync",e),E("dependenciesMap",function(e,t,r){var n,o=r.dependenciesMap,i=r.mappings,l=["layer","filter","quickFilters","options"],c=["layers","viewport","zoom","center"],p=(C.exec(t)||[])[1],d=b(o,(function(e){return-1===e.indexOf(p)})),m=Object.keys(i).filter((function(e){return void 0!==i[e]})).reduce((function(e,r){return!u(t,"map")&&f(l,r)?a(a({},e),{},s({},r,"".concat(t,".").concat(i[r]))):u(t,"map")?f(c,r)?a(a({},e),{},s({},r,"map"===t?i[r]:"".concat(t,".").concat(i[r]))):a(a({},e),{},s({},r,"".concat(t.replace(".map",""),".").concat(i[r]))):e}),{});return e?a(a(a({},d),m),{},(s(n={},"dependenciesMap","".concat(t.replace(".map",""),".dependenciesMap")),s(n,"mapSync","".concat(t.replace(".map",""),".mapSync")),n)):y(d,[Object.keys(i)])}(e,t,r)))};e.exports={exportWidgetData:function(e){return e.ofType(h).do((function(e){var t=e.data,r=void 0===t?[]:t,n=e.title,o=void 0===n?"data":n;return K.json2csv(r,(function(e,t){return e?null:Z(new Blob([t],{type:"text/csv"}),o+".csv")}))})).filter((function(){return!1}))},alignDependenciesToWidgets:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,o=void 0===r?function(){}:r;return e.ofType(_,q,S).map((function(){return R(o())})).pluck("availableDependencies").distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m(n(e),n(t))})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T(e.reduce((function(e,t){var r,n,o=t.replace(".map","");return u(t,"map")?a(a({},e),{},(s(r={},"".concat(o,".dependenciesMap"),"".concat(o,".dependenciesMap")),s(r,"".concat(o,".mapSync"),"".concat(o,".mapSync")),s(r,"map"===t?"viewport":"".concat(t,".viewport"),"".concat(t,".bbox")),s(r,"map"===t?"center":"".concat(t,".center"),"".concat(t,".center")),s(r,"map"===t?"zoom":"".concat(t,".zoom"),"".concat(t,".zoom")),s(r,"map"===t?"layers":"".concat(t,".layers"),"map"===t?"layers.flat":"".concat(t,".layers")),r)):a(a({},e),{},(s(n={},"".concat(t,".filter"),"".concat(t,".filter")),s(n,"".concat(t,".quickFilters"),"".concat(t,".quickFilters")),s(n,"".concat(o,".dependenciesMap"),"".concat(o,".dependenciesMap")),s(n,"".concat(o,".mapSync"),"".concat(o,".mapSync")),s(n,"".concat(t,".layer"),"".concat(t,".layer")),s(n,"".concat(t,".options"),"".concat(t,".options")),n))}),{}))}))},toggleWidgetConnectFlow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(w).switchMap((function(t){var r=t.active,o=t.availableDependencies,i=void 0===o?[]:o,a=t.options;return r&&i.length>0?1===i.length?$(r,i[0],a):l.Observable.of(M(r,{availableDependencies:i})).merge(e.ofType(O).filter((function(){return L(n())})).switchMap((function(e){var t=e.widget,o=d(D(n()),"availableDependencies").filter((function(e){return(C.exec(e)||[])[1]===t.id}));return $(r,o[0],a,t.dependeciesMap).concat(l.Observable.of(M(!1,{})))})).takeUntil(e.ofType(Y).merge(e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.key;return t===j&&r===A}))))):$(r,i[0],a)}))},clearWidgetsOnLocationChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(_).switchMap((function(){var t=B(n()).split("/"),r=t[t.length-1];return e.let(J).filter((function(){var e=B(n()).split("/");return e[e.length-1]!==r})).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload,r=void 0===t?{}:t;return r&&r.location&&r.location.pathname?l.Observable.of(P()):l.Observable.empty()}))}))},exportWidgetImage:function(e){return e.ofType(v).do((function(e){var t,r,n=e.widgetDivId,o=e.title,i=void 0===o?"data":o,a=document.createElement("canvas"),s=document.querySelector("#".concat(n," .recharts-wrapper svg")),l=s.outerHTML?s.outerHTML:(t=s,(r=document.createElement("div")).appendChild(t.cloneNode(!0)),r.innerHTML);X(a,l,{renderCallback:function(){var e=a.getContext("2d");e.globalCompositeOperation="destination-over",e.fillStyle="#fff",e.fillRect(0,0,a.width,a.height),Q.downloadCanvasDataURL(a.toDataURL("image/jpeg",1),"".concat(i,".jpg"),"image/jpeg")}})})).filter((function(){return!1}))},updateLayerOnLayerPropertiesChange:function(e,t){return e.ofType(N).switchMap((function(e){var r,o=e.layer,i=e.newProperties,a=t.getState(),s=U(a,o);return(r=l.Observable).of.apply(r,n(p(i,"layerFilter")&&s?[x(s)]:[]))}))},updateLayerOnLoadingErrorChange:function(e,t){return e.ofType(F,G).groupBy((function(e){return e.layerId})).map((function(e){return e.switchMap((function(e){var r,o=e.layerId,i=t.getState(),a=U(i,o);return(r=l.Observable).of.apply(r,n(a&&a.previousLoadingError!==a.loadingError?[x(a)]:[]))}))})).mergeAll()}}},"./MapStore2/web/client/epics/widgetsTray.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/rxjs/Rx.js"),s=r("./MapStore2/node_modules/lodash/lodash.js").get,l=r("./MapStore2/web/client/actions/timeline.js"),c=l.setCollapsed,u=l.SET_COLLAPSED,p=r("./MapStore2/web/client/actions/widgets.js"),d=p.TOGGLE_COLLAPSE,f=p.INSERT,m=p.TOGGLE_COLLAPSE_ALL,y=p.UPDATE_PROPERTY,b=p.toggleCollapseAll,g=p.DELETE,h=r("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,v=r("./MapStore2/web/client/actions/notifications.js").info,S=r("./MapStore2/web/client/selectors/widgets.js").getVisibleFloatingWidgets,w=r("./MapStore2/web/client/actions/layers.js").CHANGE_LAYER_PROPERTIES,O=r("./MapStore2/web/client/selectors/timeline.js"),j=O.isVisible,E=O.hasLayers,x=function(e){return(S(e)||[]).filter((function(e){return!s(e,"dataGrid.static")})).length>0},P=function(e){return function(t){return t.take(1).switchMap((function(){return a.Observable.of(v(o(o({},e),{},{autoDismiss:8,position:"tr",uid:"timeline-collapsed"})))})).merge(t)}};e.exports={collapseTimelineOnWidgetsEvents:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return a.Observable.merge(e.ofType(d,m,h,y,f).filter((function(){return x(n())&&j(n())}))).switchMap((function(){return a.Observable.of(c(!0))})).let(P({title:"widgets.tray.notifications.collapsed.timelineTitle",message:"widgets.tray.notifications.collapsed.message"}))},collapseWidgetsOnTimelineEvents:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return a.Observable.merge(e.ofType(u).filter((function(e){return!e.collapsed})),e.ofType(w).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.newProperties,r=void 0===t?{}:t;return r.dimensions}))).filter((function(){return x(n())&&E(n())&&j(n())})).switchMap((function(){return a.Observable.of(b())})).let(P({title:"widgets.tray.notifications.collapsed.widgetsTitle",message:"widgets.tray.notifications.collapsed.message"}))},expandTimelineIfCollapsedOnTrayUnmount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(g,y,h).filter((function(){return!j(n())&&E(n())})).filter((function(){return!x(n())})).switchMap((function(){return a.Observable.of(c(!1))}))}}},"./MapStore2/web/client/epics/widgetsbuilder.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/web/client/actions/widgets.js"),u=c.NEW,p=c.INSERT,d=c.EDIT,f=c.OPEN_FILTER_EDITOR,m=c.NEW_CHART,y=c.editNewWidget,b=c.onEditorChange,g=r("./MapStore2/web/client/actions/featuregrid.js").closeFeatureGrid,h=r("./MapStore2/web/client/actions/draw.js").drawSupportReset,v=r("./MapStore2/web/client/actions/queryform.js"),S=v.QUERY_FORM_SEARCH,w=v.loadFilter,O=r("./MapStore2/web/client/actions/controls.js"),j=O.setControlProperty,E=O.TOGGLE_CONTROL,x=r("./MapStore2/web/client/actions/layers.js").ADD_LAYER,P=r("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE,T=r("./MapStore2/web/client/actions/wfsquery.js").featureTypeSelected,M=r("./MapStore2/web/client/selectors/widgets.js"),A=M.getWidgetLayer,C=M.getEditingWidgetFilter,_=r("./MapStore2/web/client/selectors/query.js").wfsFilter,I=r("./MapStore2/web/client/selectors/controls.js").widgetBuilderAvailable,R=function(e){var t=A(e);return[t.search&&t.search.url,t.name]};e.exports={openWidgetEditor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(u,d,m).filter((function(){return I(n())})).switchMap((function(){return l.Observable.of(j("widgetBuilder","enabled",!0),j("metadataexplorer","enabled",!1))}))},closeWidgetEditorOnFinish:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(p,x).filter((function(){return I(n())})).switchMap((function(){return l.Observable.of(j("widgetBuilder","enabled",!1))}))},initEditorOnNew:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(u).filter((function(){return I(n())})).switchMap((function(e){return l.Observable.of(y(a(a({legend:!1,mapSync:!0,cartesian:!0,yAxis:!0},e),{},{type:void 0}),{step:0}))}))},initEditorOnNewChart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(m).filter((function(){return I(n())})).switchMap((function(e){return l.Observable.of(g(),y(a(a({legend:!1,mapSync:!0,cartesian:!0,yAxis:!0,widgetType:"chart",filter:_(n())},e),{},{type:void 0}),{step:0}),b("returnToFeatureGrid",!0))}))},handleWidgetsFilterPanel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,o=void 0===r?function(){}:r;return e.ofType(f).filter((function(){return I(o())})).switchMap((function(){return l.Observable.of(T.apply(void 0,n(R(o()))),w(C(o())),j("widgetBuilder","enabled",!1),j("queryPanel","enabled",!0)).concat(l.Observable.race(e.ofType(S).take(1),e.ofType(E).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"queryPanel"===t&&(!r||"enabled"===r)})).take(1)).switchMap((function(e){return(e.filterObj?l.Observable.of(b("filter",e.filterObj)):l.Observable.empty()).merge(l.Observable.of(j("widgetBuilder","enabled",!0)))}))).takeUntil(e.ofType(P,d).merge(e.ofType(E).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"widgetBuilder"===t&&!1==!r})))).concat(l.Observable.of(h(),j("queryPanel","enabled",!1)))}))}}},"./MapStore2/web/client/libs/bindings/rxjsRecompose.js":function(e,t,r){"use strict";var n=r("./node_modules/recompose/rxjsObservableConfig.js"),o=r.n(n),i=(r("./node_modules/rxjs/Rx.js"),r("./node_modules/recompose/es/Recompose.js"));Object(i.setObservableConfig)(o.a)},"./MapStore2/web/client/libs/cesium.js":function(e,t){e.exports=window.Cesium},"./MapStore2/web/client/libs/mapquest.js":function(e,t){e.exports=window.MQ},"./MapStore2/web/client/observables/autocomplete.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/rxjs/Rx.js"),a=r("./MapStore2/web/client/libs/ajax.js"),s=r("./MapStore2/web/client/utils/ogc/WPS/autocomplete.js").getWpsPayload,l=r("./node_modules/object-assign/index.js"),c=r("./MapStore2/web/client/api/searchText.js").API,u=r("./MapStore2/node_modules/lodash/lodash.js"),p=u.endsWith,d=u.head,f=u.isNil,m=r("./node_modules/url/url.js"),y=function(e){var t=e.searchText,r=void 0===t?"":t,n=e.queriableAttributes,o=void 0===n?[]:n,i=e.predicate,a=void 0===i?"ILIKE":i,s=d(o),l=r.toLowerCase(),c="strToLowerCase(".concat(s,") ").concat(a," '%").concat(l,"%'");return f(s)?"":"("+c+")"};e.exports={createPagedUniqueAutompleteStream:function(e){return e.distinctUntilChanged((function(e){var t=e.value,r=e.currentPage,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(n.value!==t||n.currentPage!==r)})).throttle((function(e){return i.Observable.timer(e.delayDebounce||0)})).merge(e.debounce((function(e){return i.Observable.timer(e.delayDebounce||0)}))).distinctUntilChanged().switchMap((function(e){if(e.performFetch){var t=s({attribute:e.attribute,layerName:e.typeName,maxFeatures:e.maxFeatures,startIndex:(e.currentPage-1)*e.maxFeatures,value:e.value});return i.Observable.fromPromise(a.post(e.url,t,{timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/xml"}}).then((function(e){return{fetchedData:e.data,busy:!1}}))).catch((function(){return i.Observable.of({fetchedData:{values:[],size:0},busy:!1})})).startWith({busy:!0})}return i.Observable.of({fetchedData:{values:[],size:0},busy:!1})})).startWith({})},createWFSFetchStream:function(e){return i.Observable.merge(e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.value;return t===n})).debounce((function(e){return i.Observable.timer(e.delayDebounce||0)})),e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterProps,r=e.currentPage,n=arguments.length>1?arguments[1]:void 0,o=n.filterProps,i=n.currentPage;return t===o&&r===i}))).switchMap((function(e){if(e.performFetch){var t=m.parse(e.url,!0),r="";(p(t.pathname,"wfs")||p(t.pathname,"wms")||p(t.pathname,"ows")||p(t.pathname,"wps"))&&(r=t.pathname.replace(/(wms|ows|wps|wfs)$/,"wfs")),t.query&&t.query.service&&delete t.query.service;var a=m.format(l({},t,{search:null,pathname:r})),s=l({},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({url:a,typeName:e.filterProps&&e.filterProps.typeName||"",predicate:e.filterProps&&e.filterProps.predicate||"ILIKE",blacklist:e.filterProps&&e.filterProps.blacklist||[],maxFeatures:e.filterProps&&e.filterProps.maxFeatures||3,queriableAttributes:e.filterProps&&e.filterProps.queriableAttributes||[],returnFullData:!0,startIndex:((e.currentPage||1)-1)*(e.filterProps&&e.filterProps.maxFeatures||3),outputFormat:"application/json",staticFilter:"",fromTextToFilter:y,item:{},timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/xml"},srsName:e.filterProps&&e.filterProps.srsName||"EPSG:4326"},t.query));return i.Observable.fromPromise(c.Utils.getService("wfs")(e.value,s).then((function(t){return{fetchedData:{values:t.features.map((function(e){return e.properties})),size:t.totalFeatures,features:t.features,crs:e.filterProps&&e.filterProps.srsName||"EPSG:4326"},busy:!1}}))).catch((function(){return i.Observable.of({fetchedData:{values:[],size:0,features:[]},busy:!1})})).startWith({busy:!0})}return i.Observable.of({fetchedData:{values:[],size:0,features:[]},busy:!1})})).startWith({})},singleAttributeFilter:y}},"./MapStore2/web/client/observables/epics.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/rxjs/Rx.js"),a=r("./MapStore2/node_modules/lodash/lodash.js").castArray,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.startWith.apply(e,n(t))};e.exports={wrapStartStop:function(e,t,r){return function(n){return(r?s(n,a(e)).catch(r):s(n,a(e))).concat(i.Observable.from(a(t)))}}}},"./MapStore2/web/client/observables/pausable.js":function(e,t){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(o){return o.withLatestFrom(e.startWith(t)).filter((function(e){var t=r(e,2)[1];return n(t)})).map((function(e){return r(e,1)[0]}))}}},"./MapStore2/web/client/observables/wfs.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r("./MapStore2/web/client/libs/ajax.js"),p=r("./node_modules/url/url.js"),d=r("./node_modules/rxjs/Rx.js"),f=r("./MapStore2/node_modules/lodash/lodash.js"),m=f.castArray,y=f.isNil,b=r("./node_modules/xml2js/lib/xml2js.js").parseString,g=r("./node_modules/xml2js/lib/processors.js").stripPrefix,h=r("./MapStore2/web/client/utils/ObservableUtils.js").interceptOGCError,v=r("./MapStore2/web/client/utils/LayersUtils.js").getCapabilitiesUrl,S=r("./MapStore2/web/client/utils/FilterUtils.jsx"),w=r("./MapStore2/web/client/utils/ogc/WFS/RequestBuilder.js")({wfsVersion:"1.1.0"}),O=w.getFeature,j=w.query,E=w.sortBy,x=w.propertyName,P=r("./node_modules/url/url.js"),T=r("./MapStore2/node_modules/lodash/lodash.js").isObject,M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.totalFeatures,r=e.features,n=a(e,["totalFeatures","features"]),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.startIndex,s=arguments.length>2?arguments[2]:void 0;return s>t&&s===i+r.length&&t===r.length?l(l({},n),{},{features:r,totalFeatures:s}):l(l({},n),{},{features:r,totalFeatures:t})},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.pagination||!y(t.startIndex)&&!y(t.maxFeatures)&&{startIndex:t.startIndex,maxFeatures:t.maxFeatures}},C=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=S.getWFSFilterData(t,r),o=P.parse(e,!0),i=T(o.query)?o.query:{};i.service="WFS",i.outputFormat="json";var a=P.format({protocol:o.protocol,host:o.host,pathname:o.pathname,query:i});return d.Observable.defer((function(){return u.post(a,n,{timeout:6e4,headers:{Accept:"application/json","Content-Type":"application/json"}})})).let(h).map((function(e){return M(e.data,A(t,r),r.totalFeatures)}))};e.exports={getJSONFeature:C,getLayerJSONFeature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search,r=void 0===t?{}:t,o=e.url,s=e.name,c=arguments.length>1?arguments[1]:void 0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p=u.sortOptions,d=u.propertyName,f=a(u,["sortOptions","propertyName"]);return C(r.url||o,c&&"object"===i(c)?l(l({},c),{},{typeName:s||c.typeName}):O(j(s,[].concat(n(p?[E(p.sortBy,p.sortOrder)]:[]),n(d?[x(d)]:[]),n(c?m(c):[]))),f),f).catch((function(e){if("OGCError"===e.name&&"NoApplicableCode"===e.code&&!p&&d&&d[0])return C(r.url||o,c&&"object"===i(c)?l(l({},c),{},{typeName:s||c.typeName}):O(j(s,[E(d[0])].concat(n(d?[x(d)]:[]),n(c?m(c):[]))),f),f);throw e}))},getJSONFeatureWA:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.sortOptions,o=void 0===n?{}:n,i=a(r,["sortOptions"]);return C(e,t,i).catch((function(r){if("OGCError"===r.name&&"NoApplicableCode"===r.code)return C(e,l(l({},t),{},{sortOptions:o}),i);throw r}))},describeFeatureType:function(e){var t=e.layer;return d.Observable.defer((function(){return u.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,o=e.url,i=e.describeFeatureTypeURL,a=p.parse(i||n.url||o,!0);return p.format(l(l({},a),{},{search:void 0,query:l(l({},a.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))}(t))})).let(h)},getLayerWFSCapabilities:function(e){var t=e.layer;return d.Observable.defer((function(){return u.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,o=e.url,i=v({name:t,url:n&&n.url||o}),a=p.parse(i,!0);return p.format(l(l({},a),{},{search:void 0,query:l(l({},a.query),{},{service:"WFS",version:"1.1.1",request:"GetCapabilities"})}))}(t))})).let(h).switchMap((function(e){return d.Observable.bindNodeCallback((function(e,t){return b(e,{tagNameProcessors:[g],explicitArray:!1,mergeAttrs:!0},t)}))(e.data)}))}}},"./MapStore2/web/client/observables/widgets/canGenerateCharts.js":function(e,t,r){var n=r("./node_modules/rxjs/Rx.js").Observable,o=r("./MapStore2/web/client/observables/wfs.js").describeFeatureType,i=r("./MapStore2/web/client/observables/wps/describe.js").describeProcess;e.exports=function(e){return n.forkJoin(o({layer:e}),i(e.url,"gs:Aggregate"))}},"./MapStore2/web/client/observables/wms.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/rxjs/Rx.js").Observable,s=r("./MapStore2/web/client/libs/ajax.js"),l=r("./MapStore2/web/client/api/WMS.js"),c=r("./MapStore2/web/client/utils/LayersUtils.js"),u=r("./MapStore2/web/client/utils/SecurityUtils.js"),p=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),d=r("./node_modules/url/url.js"),f=r("./MapStore2/web/client/utils/ObservableUtils.js").interceptOGCError,m=r("./MapStore2/node_modules/lodash/lodash.js").head,y=r("./MapStore2/web/client/libs/proj4.js").default,b=function(e){return a.defer((function(){return s.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,n=void 0===r?{}:r,i=e.url,a=d.parse(n.url||i,!0);return d.format(o(o({},a),{},{search:void 0,query:o(o({},a.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(f)},g=function(e){return a.defer((function(){return l.getCapabilities(c.getCapabilitiesUrl(e))})).let(f).map((function(t){return l.parseLayerCapabilities(t,e)}))};e.exports={getLayerCapabilities:g,describeLayer:b,addSearch:function(e){return b(e).map((function(e){var t=e.data,r=void 0===t?{}:t;return r&&r.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.owsURL;return o(o({},e),{},{params:{},search:r?{type:"wfs",url:u.cleanAuthParamsFromURL(r)}:void 0})}))},getNativeCrs:function(e){return a.of(e).filter((function(e){return!e.nativeCrs})).switchMap((function(e){return g(e).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(e.crs)||"EPSG:3587";if(!p.determineCrs(t)){var r=2===t.split(":").length?t.split(":")[1]:"3857";return a.fromPromise(p.fetchProjRemotely(t,p.getProjUrl(r)).then((function(e){return y.defs(t,e.data),t})))}return a.of(t)}))}))}}},"./MapStore2/web/client/observables/wps/aggregate.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/lodash/lodash.js").castArray,s=function(e){var t=e.featureType,r=e.aggregationAttribute,n=e.groupByAttributes,o=void 0===n?[]:n,i=e.aggregateFunction,s=e.viewParams,l=e.filter,c=void 0===l?"":l;return'<?xml version="1.0" encoding="UTF-8"?>\n<wps:Execute service="WPS"   version="1.0.0"\n    xmlns="http://www.opengis.net/wps/1.0.0"\n    xmlns:gml="http://www.opengis.net/gml"\n    xmlns:ogc="http://www.opengis.net/ogc"\n    xmlns:ows="http://www.opengis.net/ows/1.1"\n    xmlns:wcs="http://www.opengis.net/wcs/1.1.1"\n    xmlns:wfs="http://www.opengis.net/wfs"\n    xmlns:wps="http://www.opengis.net/wps/1.0.0"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xsi:schemaLocation="http://www.opengis.net/wps/1.0.0  http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">\n    <ows:Identifier>gs:Aggregate</ows:Identifier>\n    <wps:DataInputs>\n        <wps:Input>\n            <ows:Identifier>features</ows:Identifier>\n            <wps:Reference method="POST" mimeType="text/xml" xlink:href="http://geoserver/wfs">\n                <wps:Body>\n                    <wfs:GetFeature '.concat(s?'viewParams="'.concat(s,'"'):"",' outputFormat="GML2" service="WFS" version="1.0.0">\n                        <wfs:Query typeName="').concat(t,'">\n                        ').concat(c,"\n                        </wfs:Query>\n                    </wfs:GetFeature>\n                </wps:Body>\n            </wps:Reference>\n        </wps:Input>\n        <wps:Input>\n            <ows:Identifier>aggregationAttribute</ows:Identifier>\n            <wps:Data>\n                <wps:LiteralData>").concat(r,"</wps:LiteralData>\n            </wps:Data>\n        </wps:Input>\n        ").concat(a(i).map((function(e){return"<wps:Input>\n                    <ows:Identifier>function</ows:Identifier>\n                    <wps:Data>\n                        <wps:LiteralData>".concat(e,"</wps:LiteralData>\n                    </wps:Data>\n                    </wps:Input>")})),"\n        <wps:Input>\n            <ows:Identifier>singlePass</ows:Identifier>\n            <wps:Data>\n                <wps:LiteralData>false</wps:LiteralData>\n            </wps:Data>\n        </wps:Input>\n        ").concat(a(o).map((function(e){return"<wps:Input>\n            <ows:Identifier>groupByAttributes</ows:Identifier>\n            <wps:Data>\n                <wps:LiteralData>".concat(e,"</wps:LiteralData>\n            </wps:Data>\n        </wps:Input>")})),'\n    </wps:DataInputs>\n    <wps:ResponseForm>\n        <wps:RawDataOutput mimeType="application/json">\n            <ows:Identifier>result</ows:Identifier>\n        </wps:RawDataOutput>\n    </wps:ResponseForm>\n</wps:Execute>')},l=r("./MapStore2/web/client/libs/ajax.js"),c=r("./node_modules/rxjs/Rx.js"),u=r("./MapStore2/web/client/observables/wps/common.js").getWPSURL;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c.Observable.defer((function(){return l.post(u(e),s(t),o({headers:{"Content-Type":"text/xml"}},r))}))}},"./MapStore2/web/client/observables/wps/bounds.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){var t=e.wfsGetFeature;return'<?xml version="1.0" encoding="UTF-8"?>\n<wps:Execute service="WPS"   version="1.0.0"\n    xmlns="http://www.opengis.net/wps/1.0.0"\n    xmlns:gml="http://www.opengis.net/gml"\n    xmlns:ogc="http://www.opengis.net/ogc"\n    xmlns:ows="http://www.opengis.net/ows/1.1"\n    xmlns:wcs="http://www.opengis.net/wcs/1.1.1"\n    xmlns:wfs="http://www.opengis.net/wfs"\n    xmlns:wps="http://www.opengis.net/wps/1.0.0"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   xsi:schemaLocation="http://www.opengis.net/wps/1.0.0  http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">\n    <ows:Identifier>gs:Bounds</ows:Identifier>\n    <wps:DataInputs>\n        <wps:Input>\n            <ows:Identifier>features</ows:Identifier>\n            <wps:Reference method="POST" mimeType="text/xml" xlink:href="http://geoserver/wfs">\n                <wps:Body>\n                    '.concat(t,'\n                </wps:Body>\n            </wps:Reference>\n        </wps:Input>\n    </wps:DataInputs>\n    <wps:ResponseForm>\n        <wps:RawDataOutput mimeType="application/json">\n            <ows:Identifier>bounds</ows:Identifier>\n        </wps:RawDataOutput>\n    </wps:ResponseForm>\n</wps:Execute>')},s=r("./MapStore2/web/client/libs/ajax.js"),l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/web/client/observables/wps/common.js").getWPSURL;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l.Observable.defer((function(){return s.post(c(e),a(t),o({headers:{"Content-Type":"text/xml"}},r))}))}},"./MapStore2/web/client/observables/wps/common.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/url/url.js"),s=r("./MapStore2/node_modules/lodash/lodash.js").endsWith;e.exports={getWPSURL:function(e,t){if(e){var r=a.parse(e,!0),n=r.pathname;return(s(r.pathname,"wfs")||s(r.pathname,"wms"))&&(n=r.pathname.replace(/(wms|ows|wfs|wps)$/,"wps")),a.format(o(o({},r),{},{search:null,pathname:n,query:o(o({service:"WPS"},t),r.query)}))}return e}}},"./MapStore2/web/client/observables/wps/describe.js":function(e,t,r){var n=r("./MapStore2/web/client/observables/wps/common.js").getWPSURL,o=r("./node_modules/rxjs/Rx.js").Observable,i=r("./MapStore2/web/client/libs/ajax.js"),a=r("./MapStore2/web/client/utils/ObservableUtils.js").interceptOGCError;e.exports={describeProcess:function(e,t){return o.defer((function(){return i.get(n(e,{version:"1.0.0",REQUEST:"DescribeProcess",IDENTIFIER:t}),{timeout:5e3,headers:{Accept:"application/json","Content-Type":"application/xml"}})})).let(a)}}},"./MapStore2/web/client/plugins/AddGroup.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./node_modules/react-redux/es/index.js"),l=r("./MapStore2/node_modules/lodash/get.js"),c=r.n(l),u=r("./MapStore2/web/client/components/misc/Portal.jsx"),p=r.n(u),d=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),f=r.n(d),m=r("./MapStore2/web/client/components/I18N/Message.jsx"),y=r.n(m),b=r("./node_modules/react-bootstrap/es/index.js"),g=r("./MapStore2/web/client/actions/controls.js"),h=r("./MapStore2/web/client/actions/layers.js"),v=r("./MapStore2/web/client/utils/PluginsUtils.js");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,r,n,i=E(a);function a(){var e;w(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return M(P(e=i.call.apply(i,[this].concat(r))),"state",{groupName:""}),M(P(e),"changeName",(function(t){e.setState({groupName:t.target.value})})),M(P(e),"isValid",(function(e){return""!==e})),e}return t=a,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.enabled&&!this.props.enabled&&this.setState({groupName:""})}},{key:"render",value:function(){var e=this;return o.a.createElement(p.a,null,o.a.createElement(f.a,{size:"xs",clickOutEnabled:!1,showClose:!1,title:o.a.createElement(y.a,{msgId:"toc.addGroup"}),show:this.props.enabled,buttons:[{text:o.a.createElement(y.a,{msgId:"cancel"}),onClick:function(){e.props.onClose()}},{bsStyle:"primary",disabled:!this.isValid(this.state.groupName),text:o.a.createElement(y.a,{msgId:"addgroup.addbtn"}),onClick:function(){e.props.onAdd(e.state.groupName,e.props.parent),e.props.onClose()}}]},o.a.createElement("div",{id:"mapstore-add-toc-group"},o.a.createElement(b.FormGroup,null,o.a.createElement("label",{htmlFor:"groupName"},o.a.createElement(y.a,{msgId:"addgroup.groupName"})),o.a.createElement(b.FormControl,{name:"groupName",onChange:this.changeName,value:this.state.groupName})))))}}])&&O(t.prototype,r),n&&O(t,n),a}(n.Component);M(A,"propTypes",{enabled:a.a.bool,parent:a.a.string,onClose:a.a.func,onAdd:a.a.func}),M(A,"defaultProps",{enabled:!1,parent:null,onClose:function(){},onAdd:function(){}});var C=Object(s.connect)((function(e){return{enabled:c()(e,"controls.addgroup.enabled",!1),parent:c()(e,"controls.addgroup.parent",null)}}),{onClose:g.setControlProperties.bind(null,"addgroup","enabled",!1,"parent",null),onAdd:h.addGroup})(A);t.default=Object(v.createPlugin)("AddGroup",{component:C,containers:{TOC:{doNotHide:!0,name:"AddGroup"}}})},"./MapStore2/web/client/plugins/BackgroundSelector.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react-redux/es/index.js").connect,s=r("./node_modules/recompose/es/Recompose.js"),l=s.compose,c=s.withProps,u=r("./MapStore2/node_modules/lodash/lodash.js").find,p=r("./MapStore2/web/client/actions/controls.js"),d=p.toggleControl,f=p.setControlProperty,m=r("./MapStore2/web/client/actions/layers.js"),y=m.changeLayerProperties,b=m.removeNode,g=m.updateNode,h=m.addLayer,v=r("./MapStore2/web/client/actions/backgroundselector.js"),S=v.addBackground,w=v.addBackgroundProperties,O=v.confirmDeleteBackgroundModal,j=v.backgroundAdded,E=v.updateThumbnail,x=v.removeBackground,P=v.clearModalParameters,T=v.backgroundEdited,M=v.setCurrentBackgroundLayer,A=r("./node_modules/reselect/es/index.js").createSelector,C=r("./MapStore2/web/client/selectors/layers.js"),_=C.allBackgroundLayerSelector,I=C.backgroundControlsSelector,R=C.currentBackgroundSelector,L=C.tempBackgroundSelector,D=r("./MapStore2/web/client/selectors/map.js"),k=D.mapSelector,N=D.mapIsEditableSelector,F=D.projectionSelector,G=r("./MapStore2/web/client/selectors/backgroundselector.js"),U=G.modalParamsSelector,B=G.isDeletedIdSelector,z=G.backgroundListSelector,W=G.backgroundLayersSelector,V=G.confirmDeleteBackgroundModalSelector,H=G.allowBackgroundsDeletionSelector,q=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,Y=r("./MapStore2/web/client/plugins/background/DefaultThumbs.js"),Z=l(a(A([F,U,z,B,_,k,N,W,I,R,L,function(e){return q(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},V,H],(function(e,t,r,n,o,i,a,s,l,c,u,p,d,f,m,y){return{mode:f,modalParams:t,backgroundList:r,deletedId:n,backgrounds:o,size:i&&i.size||{width:0,height:0},mapIsEditable:a,layers:s,tempLayer:u,currentLayer:c,start:l.start||0,enabled:l.enabled,style:p,enabledCatalog:d,confirmDeleteBackgroundModal:m,allowDeletion:y,projection:e}})),{onPropertiesChange:y,onToggle:d.bind(null,"backgroundSelector",null),onLayerChange:f.bind(null,"backgroundSelector"),onStartChange:f.bind(null,"backgroundSelector","start"),onAdd:S,addLayer:h,backgroundAdded:j,onRemove:b,onBackgroundEdit:T,updateNode:g,onUpdateThumbnail:E,removeBackground:x,clearModal:P,addBackgroundProperties:w,onRemoveBackground:O,setCurrentBackgroundLayer:M},(function(e,t,r){return o(o(o(o({},e),t),r),{},{thumbs:o(o({},Y),r.thumbs)})})),c((function(e){var t=e.items;return{hasCatalog:!!u(void 0===t?[]:t,{name:"MetadataExplorer"})}})))(r("./MapStore2/web/client/components/background/BackgroundSelector.jsx"));e.exports={BackgroundSelectorPlugin:Z,reducers:{controls:r("./MapStore2/web/client/reducers/controls.js").default,backgroundSelector:r("./MapStore2/web/client/reducers/backgroundselector.js").default},epics:r("./MapStore2/web/client/epics/backgroundselector.js")}},"./MapStore2/web/client/plugins/BurgerMenu.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var g=r("./node_modules/react/index.js"),h=r("./node_modules/prop-types/index.js"),v=r("./node_modules/react-redux/es/index.js").connect,S=r("./node_modules/object-assign/index.js"),w=r("./node_modules/react-bootstrap/es/index.js"),O=w.DropdownButton,j=w.Glyphicon,E=w.MenuItem,x=v((function(){return{noCaret:!0,pullRight:!0,bsStyle:"primary",title:g.createElement(j,{glyph:"menu-hamburger"})}}))(O),P=function(e){var t=e.children,r=b(e,["children"]);return g.createElement("div",r,t)},T=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),M=r("./MapStore2/web/client/plugins/locale/Message.jsx"),A=r("./MapStore2/web/client/utils/PluginsUtils.js").createPlugin;r("./MapStore2/web/client/plugins/burgermenu/burgermenu.css");var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,r,n,i=p(a);function a(){var e;l(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=i.call.apply(i,[this].concat(r))),"getPanels",(function(e){return e.filter((function(e){return e.panel})).map((function(e){return S({},e,{panel:!0===e.panel?e.plugin:e.panel})})).concat(e.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){return{name:t.name+r,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[r]:{}}})))}),[]))})),y(f(e),"getTools",(function(){return[{element:g.createElement("span",{key:"burger-menu-title"},e.props.title)}].concat(o(e.props.items.map((function(t){return s(s({},t),function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=r.map((function(e){return s(s({},e),t(e.children))})).sort((function(e,t){return e.position-t.position})),o={container:P,containerWrapperStyle:{position:"static"},className:"burger-menu-submenu",toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:E,panelStyle:e.props.panelStyle,panelClassName:e.props.panelClassName};return r.length>0?{containerWrapperStyle:{position:"static"},style:{position:"relative"},childTools:n,childPanels:e.getPanels(r),innerProps:o}:{}}(t.children))})).sort((function(e,t){return e.position-t.position}))))})),e}return t=a,(r=[{key:"render",value:function(){return g.createElement(T,{id:this.props.id,className:"square-button",container:x,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:E,tools:this.getTools(),panels:this.getPanels(this.props.items),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}])&&c(t.prototype,r),n&&c(t,n),a}(g.Component);y(C,"propTypes",{id:h.string,dispatch:h.func,items:h.array,title:h.node,onItemClick:h.func,controls:h.object,mapType:h.string,panelStyle:h.object,panelClassName:h.string}),y(C,"contextTypes",{messages:h.object,router:h.object}),y(C,"defaultProps",{id:"mapstore-burger-menu",items:[],onItemClick:function(){},title:g.createElement(E,{header:!0},g.createElement(M,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel"}),e.exports=A("BurgerMenu",{component:v((function(e){return{controls:e.controls}}))(C),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})},"./MapStore2/web/client/plugins/DrawerMenu.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-redux/es/index.js").connect,b=r("./node_modules/reselect/es/index.js").createSelector,g=r("./MapStore2/web/client/plugins/locale/Message.jsx"),h=r("./MapStore2/web/client/actions/controls.js"),v=h.toggleControl,S=h.setControlProperty,w=r("./MapStore2/web/client/actions/map.js").changeMapStyle,O=r("./node_modules/react-bootstrap/es/index.js"),j=O.Button,E=O.Glyphicon,x=O.Panel,P=r("./MapStore2/web/client/plugins/drawer/Section.jsx"),T=r("./MapStore2/node_modules/lodash/lodash.js").partialRight,M=r("./node_modules/object-assign/index.js"),A=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,C=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(j),_=y(b([function(e){return e.controls.drawer&&e.controls.drawer.enabled},function(e){return e.controls.drawer&&e.controls.drawer.menu||"1"},function(e){return e.controls.queryPanel&&e.controls.queryPanel.enabled&&e.controls.drawer&&e.controls.drawer.width||e.controls.drawer&&e.controls.drawer.resizedWidth||void 0},function(e){return A(e,{height:!0})}],(function(e,t,r,n){return{show:e,activeKey:t,dynamicWidth:r,layout:n}})),{onToggle:v.bind(null,"drawer",null),onResize:S.bind(null,"drawer","resizedWidth"),onChoose:T(S.bind(null,"drawer","menu"),!0),changeMapStyle:w})(r("./MapStore2/web/client/plugins/drawer/Menu.jsx"));r("./MapStore2/web/client/plugins/drawer/drawer.css");var I=y((function(e){return{disabled:e.controls&&e.controls.drawer&&e.controls.drawer.disabled}}),{toggleMenu:v.bind(null,"drawer",null)})((function(e){var t=e.id,r=void 0===t?"":t,n=e.menuButtonStyle,o=void 0===n?{}:n,i=e.buttonStyle,a=void 0===i?"primary":i,s=e.buttonClassName,l=void 0===s?"square-button ms-drawer-menu-button":s,c=e.toggleMenu,u=void 0===c?function(){}:c,p=e.disabled,d=void 0!==p&&p,m=e.glyph,y=void 0===m?"1-layer":m,b=e.tooltipId,g=void 0===b?"toc.drawerButton":b,h=e.tooltipPosition,v=void 0===h?"bottom":h;return f.createElement(C,{id:r,style:o,bsStyle:a,key:"menu-button",className:l,onClick:u,disabled:d,tooltipId:g,tooltipPosition:v},f.createElement(E,{glyph:y}))})),R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"getTools",(function(){return e.props.items.map((function(e,t){return M({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),d(u(e),"renderItems",(function(){return e.getTools().map((function(t,r){var n=t.panel||t.plugin,i=f.createElement(n,o({isPanel:!0},t.cfg,{items:t.items||[],groupStyle:{style:{marginBottom:"0px",cursor:"pointer"}}})),a=t.title?f.createElement("div",{className:"drawer-menu-head drawer-menu-head-"+t.name},f.createElement(g,{msgId:t.title})):null;return e.props.singleSection?f.createElement(x,{icon:t.icon,glyph:t.glyph,buttonConfig:t.buttonConfig,key:t.name,eventKey:r+1+"",header:a},i):f.createElement(P,{key:t.name,renderInModal:t.renderInModal||!1,eventKey:r+1+"",header:a},i)}))})),e}return t=p,(r=[{key:"render",value:function(){return this.getTools().length>0?f.createElement("div",{id:this.props.id},f.createElement(I,o({},this.props,{id:"drawer-menu-button"})),f.createElement(_,o({single:this.props.singleSection},this.props.menuOptions,{title:f.createElement(g,{msgId:"menu"}),alignment:"left"}),this.renderItems())):null}}])&&a(t.prototype,r),n&&a(t,n),p}(f.Component);d(R,"propTypes",{items:m.array,active:m.string,toggleMenu:m.func,id:m.string,glyph:m.string,buttonStyle:m.string,menuOptions:m.object,singleSection:m.bool,buttonClassName:m.string,menuButtonStyle:m.object,disabled:m.bool}),d(R,"contextTypes",{messages:m.object,router:m.object}),d(R,"defaultProps",{id:"mapstore-drawermenu",items:[],toggleMenu:function(){},glyph:"1-layer",buttonStyle:"primary",menuOptions:{},singleSection:!0,buttonClassName:"square-button ms-drawer-menu-button",disabled:!1});var L=y((function(e){return{active:e.controls&&e.controls.drawer&&e.controls.drawer.active,disabled:e.controls&&e.controls.drawer&&e.controls.drawer.disabled}}),{toggleMenu:v.bind(null,"drawer",null)})(R);e.exports={DrawerMenuPlugin:M(L,{disablePluginIf:"{state('featuregridmode') === 'EDIT'}",FloatingLegend:{priority:1,name:"drawer-menu",button:I}}),reducers:{}}},"./MapStore2/web/client/plugins/Expander.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,i=r("./node_modules/object-assign/index.js"),a=r("./MapStore2/web/client/components/buttons/ToggleButton.jsx");e.exports={ExpanderPlugin:i(a,{Toolbar:{name:"expand",position:1e4,alwaysVisible:!0,tooltip:"expandtoolbar.tooltip",showWhen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,r=void 0===t?[]:t;return r.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"expand"!==!e.name&&!e.alwaysVisible})).length>1},icon:n.createElement(o,{glyph:"option-horizontal"}),toggle:!0,toggleControl:"toolbar",toggleProperty:"expanded",priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/FeatureEditor.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-redux/es/index.js"),a=r("./node_modules/reselect/es/index.js"),s=r("./node_modules/redux/es/index.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=r("./node_modules/recompose/es/Recompose.js"),u=r("./node_modules/react-dock/lib/index.js"),p=r.n(u),d=r("./MapStore2/web/client/utils/PluginsUtils.js"),f=r("./MapStore2/web/client/epics/featuregrid.js"),m=r("./node_modules/object-assign/index.js"),y=r.n(m),b=r("./MapStore2/web/client/actions/featuregrid.js"),g=r("./MapStore2/web/client/actions/wfsquery.js"),h=r("./MapStore2/web/client/actions/draw.js"),v=r("./node_modules/uuid/index.js"),S=r.n(v);function w(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P={advancedFilters:{},filters:{},editingAllowedRoles:["ADMIN"],enableColumnFilters:!0,showFilteredObject:!1,timeSync:!1,showTimeSync:!1,open:!1,canEdit:!1,focusOnEdit:!0,showAgain:!1,showPopoverSync:!localStorage||null===localStorage.getItem("showPopoverSync")||"true"===localStorage.getItem("showPopoverSync"),mode:b.MODES.VIEW,changes:[],pagination:{page:0,size:20},select:[],multiselect:!1,drawing:!1,newFeatures:[],features:[],dockSize:.35},T=function(e,t){return t===e||void 0!==e.id&&null!==e.id&&e.id===t.id},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){return T(e,t)})).length>0},A=function(e,t,r,n){return e.map((function(e){return M(e,t)?function(e,t,r){return E(E({},e),{},r?{properties:E(E({},e.properties),t),geometry:r.geometry}:{properties:E(E({},e.properties),t)})}(e,r,n):e}))};var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.INIT_PLUGIN:return y()({},e,{showPopoverSync:!localStorage||null===localStorage.getItem("showPopoverSync")||"true"===localStorage.getItem("showPopoverSync"),editingAllowedRoles:t.options.editingAllowedRoles||e.editingAllowedRoles||["ADMIN"],virtualScroll:!!t.options.virtualScroll,maxStoredPages:t.options.maxStoredPages||5});case b.LOAD_MORE_FEATURES:case b.CHANGE_PAGE:return y()({},e,{pagination:{page:void 0!==t.page?t.page:e.pagination.page,size:void 0!==t.size?t.size:e.pagination.size}});case b.SELECT_FEATURES:var r=t.features.filter((function(e){return"empty_row"!==e.id}));return e.multiselect&&t.append?y()({},e,{select:t.append?[].concat(w(e.select),w(r)):r}):r&&e.select&&e.select[0]&&r[0]&&1===e.select.length&&T(r[0],e.select[0])?e:y()({},e,{select:(r||[]).splice(0,1)});case b.TOGGLE_FEATURES_SELECTION:var n=e.select.filter((function(e){return!M(e,t.features)})),o=t.features.filter((function(t){return!M(t,e.select)})),i=n.concat(o||[]);return y()({},e,{select:i});case b.DESELECT_FEATURES:return y()({},e,{select:e.select.filter((function(e){return!M(e,t.features)}))});case b.SET_SELECTION_OPTIONS:return y()({},e,{multiselect:t.multiselect});case b.SET_UP:return y()({},e,t.options||{});case b.CLEAR_SELECTION:return y()({},e,{select:[],changes:[]});case b.SET_FEATURES:return y()({},e,{features:t.features});case b.DOCK_SIZE_FEATURES:return y()({},e,{dockSize:t.dockSize});case b.SET_LAYER:return y()({},e,{selectedLayer:t.id});case b.TOGGLE_TOOL:return y()({},e,{tools:E(E({},e.tools),{},x({},t.tool,void 0===t.value?!(e.tools&&e.tools[t.tool]):t.value))});case b.CUSTOMIZE_ATTRIBUTE:return y()({},e,{attributes:E(E({},e.attributes),{},x({},t.name,E(E({},e.attributes&&e.attributes[t.name]||{}),{},x({},t.key,t.value||e.attributes&&e.attributes[t.name]&&!e.attributes[t.name][t.key]))))});case b.TOGGLE_MODE:return y()({},e,{showPopoverSync:localStorage&&null!==localStorage.getItem("showPopoverSync")?"true"===localStorage.getItem("showPopoverSync"):t.mode!==b.MODES.EDIT,tools:t.mode===b.MODES.EDIT?{}:e.tools,mode:t.mode,multiselect:t.mode===b.MODES.EDIT,drawing:!1});case b.FEATURES_MODIFIED:var a=t.features.filter((function(e){return e._new}))||[];return y()({},e,{newFeatures:a.length>0?A(e.newFeatures,a,t.updated,null):e.newFeatures,changes:[].concat(w(e&&e.changes||[]),w(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:t.updated}}))))});case b.SAVING:return y()({},e,{saving:!0,loading:!0});case b.SAVE_SUCCESS:return y()({},e,{deleteConfirm:!1,saved:!0,saving:!1,drawing:!1,loading:!1});case b.CLEAR_CHANGES:return y()({},e,{saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[],select:[]});case b.CREATE_NEW_FEATURE:var s=S.a.v1();return y()({},e,{newFeatures:t.features.map((function(e){return E(E({},e),{},{_new:!0,id:s,type:"Feature",geometry:null})})),select:t.features.map((function(e){return E(E({},e),{},{_new:!0,id:s,type:"Feature",geometry:null})}))});case b.SAVE_ERROR:return y()({},e,{deleteConfirm:!1,saving:!1,loading:!1,drawing:!1});case b.GEOMETRY_CHANGED:var c=t.features.filter((function(e){return e._new}))||[];return y()({},e,{newFeatures:c.length>0?A(e.newFeatures,c,null,{geometry:E({},Object(l.head)(c).geometry)}):e.newFeatures,changes:[].concat(w(e&&e.changes||[]),w(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:{geometry:Object(l.head)(t.features).geometry}}})))),drawing:!1});case b.DELETE_GEOMETRY_FEATURE:var u=t.features.filter((function(e){return e._new}))||[];return y()({},e,{newFeatures:u.length>0?A(e.newFeatures,u,null,{geometry:null}):e.newFeatures,changes:[].concat(w(e&&e.changes||[]),w(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:{geometry:null}}}))))});case g.FEATURE_TYPE_LOADED:return y()({},e,{localType:Object(l.get)(t,"featureType.original.featureTypes[0].properties[1].localType")});case b.START_DRAWING_FEATURE:return y()({},e,{drawing:!e.drawing});case b.OPEN_FEATURE_GRID:return y()({},e,{open:!0});case b.CLOSE_FEATURE_GRID:return y()({},e,{open:!1,pagination:{page:0,size:e.pagination.size},mode:b.MODES.VIEW,tools:{},saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[],select:[]});case b.DISABLE_TOOLBAR:return y()({},e,{disableToolbar:t.disabled});case b.SET_PERMISSION:return y()({},e,{canEdit:t.permission.canEdit});case h.CHANGE_DRAWING_STATUS:return"clean"===t.status?y()({},e,{drawing:!1}):e;case b.UPDATE_FILTER:var p=t.update||{},d=p.attribute;return d?y()({},e,{filters:E(E({},e.filters),{},x({},d,t.update))}):e;case g.QUERY_CREATE:return y()({},e,{filters:{}});case b.SIZE_CHANGE:var f=t.dockProps&&t.dockProps.maxDockSize,m=t.dockProps&&t.dockProps.minDockSize,v=f&&m&&m<=t.size&&f>=t.size&&t.size||f&&f<t.size&&f||m&&m>t.size&&m||t.size;return y()({},e,{dockSize:v});case b.STORE_ADVANCED_SEARCH_FILTER:return y()({},e,{advancedFilters:y()({},e.advancedFilters,x({},e.selectedLayer,t.filterObj))});case b.GRID_QUERY_RESULT:return y()({},e,{features:t.features||[],pages:t.pages||[]});case b.HIDE_SYNC_POPOVER:return y()({},e,{showPopoverSync:!1});case b.TOGGLE_SHOW_AGAIN_FLAG:return y()({},e,{showAgain:!e.showAgain});case b.SET_TIME_SYNC:return y()({},e,{timeSync:t.value});default:return e}},_=r("./MapStore2/web/client/components/data/featuregrid/FeatureGrid.jsx"),I=r.n(_),R=r("./MapStore2/web/client/selectors/query.js"),L=r("./MapStore2/web/client/selectors/featuregrid.js"),D=r("./MapStore2/web/client/utils/FeatureGridUtils.js"),k=r("./MapStore2/web/client/plugins/featuregrid/panels/index.jsx"),N=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),F=r.n(N),G=r("./MapStore2/web/client/plugins/featuregrid/index.jsx"),U=r("./node_modules/react-container-dimensions/lib/index.js"),B=r.n(U),z=r("./MapStore2/web/client/selectors/maplayout.js");function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Y=[],Z={},Q=Object(i.connect)(Object(a.createSelector)(L.getDockSize,(function(e){return Object(z.mapLayoutValuesSelector)(e,{transform:!0})}),(function(e,t){return{size:e,dockStyle:t}})))(p.a),K=Object(a.createSelector)((function(e){return Object(l.get)(e,"featuregrid.open")}),(function(e){return Object(l.get)(e,"queryform.autocompleteEnabled")}),(function(e){return Object(R.wfsURLSelector)(e)}),(function(e){return Object(R.typeNameSelector)(e)}),(function(e){return Object(l.get)(e,"featuregrid.features")||Y}),R.describeSelector,(function(e){return Object(l.get)(e,"featuregrid.attributes")}),(function(e){return Object(l.get)(e,"featuregrid.tools")}),L.selectedFeaturesSelector,L.modeSelector,L.changesSelector,L.newFeaturesSelector,L.hasChangesSelector,(function(e){return Object(l.get)(e,"featuregrid.focusOnEdit")||[]}),(function(e){return Object(l.get)(e,"featuregrid.enableColumnFilters")}),Object(a.createStructuredSelector)(R.paginationInfo),(function(e){return Object(l.get)(e,"featuregrid.pages")}),(function(e){return Object(l.get)(e,"featuregrid.pagination.size")}),(function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Y,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:Y,d=arguments.length>12?arguments[12]:void 0,f=arguments.length>13?arguments[13]:void 0,m=arguments.length>14?arguments[14]:void 0,y=arguments.length>15?arguments[15]:void 0,b=arguments.length>16?arguments[16]:void 0,g=arguments.length>17?arguments[17]:void 0;return{open:e,autocompleteEnabled:t,url:r,typeName:n,hasChanges:d,newFeatures:p,features:o,describe:i,attributes:a,tools:s,select:l,mode:c,focusOnEdit:f,enableColumnFilters:m,changes:Object(D.toChangesMap)(u),pagination:y,pages:b,size:g}})),X=Object(c.compose)(Object(i.connect)(K,(function(e){return{onMount:Object(s.bindActionCreators)(b.setUp,e),gridEvents:Object(s.bindActionCreators)(G.gridEvents,e),pageEvents:Object(s.bindActionCreators)(G.pageEvents,e),initPlugin:Object(s.bindActionCreators)((function(e){return Object(b.initPlugin)(e)}),e),toolbarEvents:Object(s.bindActionCreators)(G.toolbarEvents,e),gridTools:G.gridTools.map((function(t){return V(V({},t),{},{events:Object(s.bindActionCreators)(t.events,e)})})),onSizeChange:function(){return e(b.sizeChange.apply(void 0,arguments))}}})),Object(c.lifecycle)({componentDidMount:function(){this.props.onMount(Object(l.pick)(this.props,["showFilteredObject","showTimeSync","timeSync"]))}}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tools:Z,dialogs:Z,select:Y},t={dimMode:"none",defaultSize:.35,fluid:!0,isVisible:e.open,maxDockSize:.7,minDockSize:.1,position:"bottom",setDockSize:function(){},zIndex:1030};return o.a.createElement(Q,q({},t,{onSizeChange:function(r){e.onSizeChange(r,t)}}),e.open&&o.a.createElement(B.a,null,(function(t){var r=t.height;return o.a.createElement(F.a,{className:"feature-grid-container",key:"feature-grid-container",height:r-94,header:Object(k.getHeader)(),columns:Object(k.getPanels)(e.tools),footer:Object(k.getFooter)(e)},Object(k.getDialogs)(e.tools),o.a.createElement(I.a,{editingAllowedRoles:e.editingAllowedRoles,initPlugin:e.initPlugin,customEditorsOptions:e.customEditorsOptions,autocompleteEnabled:e.autocompleteEnabled,url:e.url,typeName:e.typeName,filterRenderers:Object(k.getFilterRenderers)(e.describe),enableColumnFilters:e.enableColumnFilters,emptyRowsView:Object(k.getEmptyRowsView)(),focusOnEdit:e.focusOnEdit,newFeatures:e.newFeatures,changes:e.changes,mode:e.mode,select:e.select,key:"feature-grid-container",columnSettings:e.attributes,gridEvents:e.gridEvents,pageEvents:e.pageEvents,describeFeatureType:e.describe,features:e.features,minHeight:600,tools:e.gridTools,pagination:e.pagination,pages:e.pages,virtualScroll:e.virtualScroll,maxStoredPages:e.maxStoredPages,vsOverScan:e.vsOverScan,scrollDebounce:e.scrollDebounce,size:e.size}))})))}));t.default=Object(d.createPlugin)("FeatureEditor",{component:X,epics:f,reducers:{featuregrid:C},containers:{TOC:{doNotHide:!0,name:"FeatureEditor"}}})},"./MapStore2/web/client/plugins/FilterLayer.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/PluginsUtils.js");t.default=Object(n.createPlugin)("FilterLayer",{component:function(){return null},containers:{TOC:{name:"FilterLayer"}}})},"./MapStore2/web/client/plugins/FullScreen.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./MapStore2/web/client/actions/fullscreen.js").toggleFullscreen,i=r("./MapStore2/web/client/epics/fullscreen.js").toggleFullscreenEpic,a=r("./node_modules/object-assign/index.js"),s=r("./MapStore2/web/client/components/buttons/FullScreenButton.jsx"),l=n((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.controls,r=void 0===t?{}:t;return{active:r.fullscreen&&r.fullscreen.enabled}}),{onClick:function(e,t){return o(e,t.querySelector)}})(s);e.exports={FullScreenPlugin:a(l,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:i}}},"./MapStore2/web/client/plugins/GridContainer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Grid,b=m.Row,g=m.Col,h=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){return{name:t.name+r,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[r]:{}}})))}),[])})),p(c(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=u,(r=[{key:"render",value:function(){return f.createElement(h,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return f.createElement(y,{fluid:!0},f.createElement(b,null,e.children.map((function(e,t){return f.createElement(g,{key:t,xs:12,xsOffset:0,sm:6,smOffset:3},e)}))))},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return f.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(v,"propTypes",{className:d.string,style:d.object,items:d.array,id:d.string,mapType:d.string}),p(v,"defaultProps",{items:[],className:"grid-home-container",style:{},id:"mapstore-grid-home",mapType:"leaflet"}),e.exports={GridContainerPlugin:v,reducers:{}}},"./MapStore2/web/client/plugins/History.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,i=r("./node_modules/object-assign/index.js"),a=r("./MapStore2/web/client/plugins/locale/Message.jsx"),s=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,l=r("./node_modules/redux-undo/lib/index.js").ActionCreators,c=l.undo,u=l.redo,p=o((function(e){return{disabled:!((e.map&&e.map.past&&{past:e.map.past,future:e.map.future}||{past:[],future:[]}).past.length>0)}}),{onClick:c})(r("./MapStore2/web/client/components/mapcontrols/navigationhistory/UndoButton.jsx")),d=o((function(e){return{disabled:!((e.map&&e.map.past&&{past:e.map.past,future:e.map.future}||{past:[],future:[]}).future.length>0)}}),{onClick:u})(r("./MapStore2/web/client/components/mapcontrols/navigationhistory/RedoButton.jsx"));e.exports={UndoPlugin:i(p,{Toolbar:{name:"undo",position:5,tool:!0,tooltip:"history.undoBtnTooltip",icon:n.createElement(s,{glyph:"step-backward"}),help:n.createElement(a,{msgId:"helptexts.historyundo"}),priority:1}}),RedoPlugin:i(d,{Toolbar:{name:"redo",position:6,tool:!0,tooltip:"history.redoBtnTooltip",icon:n.createElement(s,{glyph:"step-forward"}),help:n.createElement(a,{msgId:"helptexts.historyredo"}),priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/Identify.jsx":function(e,t,r){function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,c=r("./node_modules/react-redux/es/index.js").connect,u=r("./node_modules/reselect/es/index.js"),p=u.createSelector,d=u.createStructuredSelector,f=r("./node_modules/object-assign/index.js"),m=r("./MapStore2/node_modules/lodash/lodash.js").isUndefined,y=r("./MapStore2/web/client/selectors/map.js"),b=y.mapSelector,g=y.isMouseMoveIdentifyActiveSelector,h=r("./MapStore2/web/client/selectors/layers.js").layersSelector,v=r("./MapStore2/web/client/selectors/maptype.js"),S=v.mapTypeSelector,w=v.isCesium,O=r("./MapStore2/web/client/selectors/mapInfo.js"),j=O.generalInfoFormatSelector,E=O.clickPointSelector,x=O.indexSelector,P=O.responsesSelector,T=O.requestsSelector,M=O.validResponsesSelector,A=O.showEmptyMessageGFISelector,C=O.isHighlightEnabledSelector,_=O.currentFeatureSelector,I=O.currentFeatureCrsSelector,R=O.isLoadedResponseSelector,L=r("./MapStore2/web/client/selectors/featuregrid.js").isEditingAllowedSelector,D=r("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,k=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,N=r("./MapStore2/web/client/actions/mapInfo.js"),F=N.hideMapinfoMarker,G=N.showMapinfoRevGeocode,U=N.hideMapinfoRevGeocode,B=N.clearWarning,z=N.toggleMapInfoState,W=N.changeMapInfoFormat,V=N.updateCenterToMarker,H=N.closeIdentify,q=N.purgeMapInfoResults,Y=N.updateFeatureInfoClickPoint,Z=N.changeFormat,Q=N.toggleShowCoordinateEditor,K=N.changePage,X=N.toggleHighlightFeature,J=N.editLayerFeatures,$=N.setMapTrigger,ee=r("./MapStore2/web/client/actions/map.js"),te=ee.changeMousePointer,re=ee.zoomToExtent,ne=r("./MapStore2/web/client/utils/ConfigUtils.js").getConfigProp,oe=r("./node_modules/recompose/es/Recompose.js"),ie=oe.compose,ae=oe.defaultProps,se=r("./MapStore2/web/client/utils/MapInfoUtils.js"),le=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),ce=r("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),ue=ce.defaultViewerHandlers,pe=ce.defaultViewerDefaultProps,de=r("./MapStore2/web/client/components/data/identify/enhancers/identify.js").identifyLifecycle,fe=r("./MapStore2/web/client/components/data/identify/enhancers/zoomToFeatureHandler.js"),me=r("./MapStore2/web/client/plugins/identify/toolButtons.js"),ye=r("./MapStore2/web/client/plugins/identify/featureButtons.js"),be=r("./MapStore2/web/client/plugins/locale/Message.jsx");r("./MapStore2/web/client/plugins/identify/identify.css");var ge=d({enabled:function(e){return e.mapInfo&&e.mapInfo.enabled||e.controls&&e.controls.info&&e.controls.info.enabled||!1},responses:P,validResponses:M,requests:T,format:j,map:b,layers:h,point:E,showModalReverse:function(e){return e.mapInfo&&e.mapInfo.showModalReverse},reverseGeocodeData:function(e){return e.mapInfo&&e.mapInfo.reverseGeocodeData},warning:function(e){return e.mapInfo&&e.mapInfo.warning},currentLocale:D,dockStyle:function(e){return k(e,{height:!0})},formatCoord:function(e){return e.mapInfo&&e.mapInfo.formatCoord||ne("defaultCoordinateFormat")},showCoordinateEditor:function(e){return e.mapInfo&&e.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(e){return A(e)},isEditingAllowed:L,isCesium:w,floatingIdentifyEnabled:function(e){return g(e)}}),he=ie(c(p(x,R,(function(e){return e.browser&&e.browser.mobile}),(function(e,t,r){return{index:e,loaded:t,isMobile:r}})),{setIndex:K})),ve=ie(he,pe,ue,le((function(e){var t=e.loaded;return m(t)})))(r("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx")),Se=ae({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:se.getDefaultInfoFormatValue(),requests:[],responses:[],viewerOptions:{},viewer:ve,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showMoreInfo:!0,showEdit:!1,position:"right",size:660,getToolButtons:me,getFeatureButtons:ye,showFullscreen:!1,validResponses:[],validator:se.getValidator,zIndex:1050}),we=ie(c(ge,{purgeResults:q,closeIdentify:H,onSubmitClickPoint:Y,onToggleShowCoordinateEditor:Q,onChangeFormat:Z,changeMousePointer:te,clearWarning:B,hideMarker:F,showRevGeocode:G,hideRevGeocode:U,onEnableCenterToMarker:V.bind(null,"enabled"),onEdit:J},(function(e,t,r){return i(i(i(i({},r),e),t),{},{enabled:e.enabled&&(e.isCesium||!r.showInMapPopup)&&!e.floatingIdentifyEnabled})})),ie(c(d({highlight:C,currentFeature:_,currentFeatureCrs:I}),{toggleHighlightFeature:X,zoomToExtent:re}),fe),c(p(S,(function(e){return{mapType:e}})),{},(function(e,t,r){var o=e.mapType,a=r.showHighlightFeatureButton;return i(i({},n(r,["showHighlightFeatureButton"])),{},{showHighlightFeatureButton:"openlayers"===o&&a})})),Se,he,ue,de)(r("./MapStore2/web/client/components/data/identify/IdentifyContainer.jsx")),Oe=c((function(e){return{infoFormat:j(e)}}),{onInfoFormatChange:W})(r("./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx").default),je=c((function(e){return{trigger:g(e)?"hover":"click"}}),{onSetMapTrigger:$})(r("./MapStore2/web/client/components/misc/FeatureInfoTriggerSelector.jsx"));e.exports={IdentifyPlugin:f(we,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:s.createElement(l,{glyph:"map-marker"}),help:s.createElement(be,{msgId:"helptexts.infoButton"}),action:z,selector:function(e){return{bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)}}},Settings:{tool:[s.createElement(Oe,{key:"featureinfoformat",label:s.createElement(be,{msgId:"infoFormatLbl"})}),s.createElement(je,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:r("./MapStore2/web/client/reducers/mapInfo.js").default},epics:r("./MapStore2/web/client/epics/identify.js").default}},"./MapStore2/web/client/plugins/Map.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react/index.js"),g=r("./MapStore2/web/client/utils/PluginsUtils.js").connect,h=r("./MapStore2/web/client/utils/AgentUtils.js").loadFont,v=r("./node_modules/object-assign/index.js"),S=r("./node_modules/react-spinkit/dist/index.js");r("./MapStore2/web/client/plugins/map/css/map.css");var w,O=r("./MapStore2/web/client/components/I18N/Message.jsx"),j=r("./MapStore2/web/client/utils/ConfigUtils.js"),E=r("./MapStore2/web/client/actions/map.js"),x=E.errorLoadingFont,P=E.setMapResolutions,T=r("./MapStore2/node_modules/lodash/lodash.js").isString,M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,a,p=u(f);function f(){var e;s(this,f);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return m(d(e=p.call.apply(p,[this].concat(n))),"state",{canRender:!0}),m(d(e),"getHighlightLayer",(function(t,r,n){return b.createElement(w.Layer,{type:"vector",srs:t,position:r,key:"highlight",options:{name:"highlight"},env:n},e.props.features.map((function(e){return b.createElement(w.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),m(d(e),"getTool",(function(t){return T(t)?{name:t,impl:w.tools[t]}:t[e.props.mapType]||t})),m(d(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||j.getConfigProp("defaultMapOptions")&&j.getConfigProp("defaultMapOptions")[e.props.mapType]})),m(d(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",r=[];return e.props.isLocalizedLayerStylesEnabled&&r.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage}),[].concat(i(e.props.layers),i(e.props.additionalLayers)).filter(e.filterLayer).map((function(n,o){return b.createElement(w.Layer,{type:n.type,srs:t,position:o,key:n.id||n.name,options:n,securityToken:e.props.securityToken,env:r},e.renderLayerContent(n,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,r)||[])})),m(d(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(r){return b.createElement(w.Feature,{key:r.id,msId:r.id,type:r.type,crs:t,geometry:r.geometry,features:r.features,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:r.style||e.style||null,properties:r.properties})})):null})),m(d(e),"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(e){var t=e.Tool,r=e.name;return b.createElement(t,{key:r})}));return e.props.tools.map((function(t){var r=e.getTool(t),n=e.props.toolsOptions[r.name]&&e.props.toolsOptions[r.name][e.props.mapType]||e.props.toolsOptions[r.name]||{};return b.createElement(r.impl,o({key:r.name},n))})).concat(t)})),m(d(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),m(d(e),"updatePlugins",(function(e){w=r("./MapStore2/web/client/plugins/map/index.js")(e.mapType,e.actions)})),e}return t=f,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,r=t.shouldLoadFont,n=t.fonts;r&&n&&(this.setState({canRender:!1}),Promise.all(n.map((function(t){return h(t,{timeoutAfter:5e3}).catch((function(){e.props.onFontError({family:t})}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return b.createElement(w.Map,o({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:v({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?b.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},b.createElement(O,{msgId:"map.loadingerror"}),":",this.props.loadingError):b.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?b.createElement(S,{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,b.createElement(O,{msgId:this.props.mapLoadingMessage}))}}])&&l(t.prototype,n),a&&l(t,a),f}(b.Component);m(M,"propTypes",{mapType:y.string,map:y.object,layers:y.array,additionalLayers:y.array,zoomControl:y.bool,mapLoadingMessage:y.string,loadingSpinner:y.bool,loadingError:y.string,tools:y.array,fonts:y.array,options:y.object,mapOptions:y.object,projectionDefs:y.array,toolsOptions:y.object,onFontError:y.func,onResolutionsChange:y.func,actions:y.object,features:y.array,securityToken:y.string,shouldLoadFont:y.bool,elevationEnabled:y.bool,isLocalizedLayerStylesEnabled:y.bool,localizedLayerStylesName:y.string,currentLocaleLanguage:y.string,items:y.array}),m(M,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","locate","scalebar","draw","highlight","popup"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){},items:[]});var A=r("./MapStore2/web/client/plugins/map/selector.js").default;e.exports={MapPlugin:g(A,{onFontError:x,onResolutionsChange:P})(M),reducers:{map:r("./MapStore2/web/client/reducers/map.js").default,layers:r("./MapStore2/web/client/reducers/layers.js").default,draw:r("./MapStore2/web/client/reducers/draw.js").default,highlight:r("./MapStore2/web/client/reducers/highlight.js").default,maptype:r("./MapStore2/web/client/reducers/maptype.js").default,additionallayers:r("./MapStore2/web/client/reducers/additionallayers.js").default},epics:r("./MapStore2/web/client/epics/map.js")}},"./MapStore2/web/client/plugins/MapFooter.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),g=r("./node_modules/recompose/es/Recompose.js").lifecycle,h={},v=g({componentDidMount:function(){if(h[this.props.id]){var e=document.getElementById(this.props.id);e&&e.parentNode&&!e.hasChildNodes()&&e.parentNode.replaceChild(h[this.props.id],e)}},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){h[this.props.id]=document.getElementById(this.props.id)}})((function(e){var t=e.id;return m.createElement("div",{id:t})})),S=[{element:m.createElement(v,{key:"attribution",id:"footer-attribution-container"})},{element:m.createElement(v,{key:"scalebar",id:"footer-scalebar-container"})}],w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,i=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=i.call.apply(i,[this].concat(r))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){return{name:t.name+r,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[r]:{}}})))}),[])})),f(p(e),"getTools",(function(){return[S[0]].concat(o(e.props.items.sort((function(e,t){return t.position-e.position}))),[S[1]])})),e}return t=u,(r=[{key:"render",value:function(){return m.createElement(b,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return m.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:function(e){return m.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);f(w,"propTypes",{className:y.string,style:y.object,items:y.array,id:y.string,mapType:y.string}),f(w,"defaultProps",{items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"}),e.exports={MapFooterPlugin:w,reducers:{}}},"./MapStore2/web/client/plugins/MapLoading.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./node_modules/reselect/es/index.js").createSelector,i=r("./MapStore2/web/client/selectors/layers.js").layersSelector,a=r("./node_modules/object-assign/index.js"),s=o([i],(function(e){return{loading:e&&e.some((function(e){return e.loading}))}}));r("./MapStore2/web/client/plugins/maploading/maploading.css");var l=n(s)(r("./MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx"));e.exports={MapLoadingPlugin:a(l,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/Measure.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/react-redux/es/index.js").connect,l=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,c=r("./node_modules/object-assign/index.js"),u=r("./node_modules/reselect/es/index.js").createSelector,p=r("./MapStore2/web/client/plugins/locale/Message.jsx"),d=r("./MapStore2/web/client/actions/measurement.js"),f=d.changeMeasurement,m=d.changeUom,y=d.changeFormatMeasurement,b=d.changeCoordinates,g=d.addAnnotation,h=d.addAsLayer,v=d.init,S=d.setCurrentFeature,w=r("./MapStore2/web/client/actions/controls.js"),O=w.toggleControl,j=w.setControlProperty,E=r("./MapStore2/web/client/plugins/measure/index.js").MeasureDialog,x=r("./MapStore2/web/client/actions/annotations.js").highlightPoint,P=r("./MapStore2/web/client/selectors/maptype.js").isOpenlayers,T=r("./MapStore2/web/client/selectors/measurement.js"),M=T.isCoordinateEditorEnabledSelector,A=T.showAddAsAnnotationSelector,C=T.isTrueBearingEnabledSelector,_=r("./MapStore2/web/client/selectors/controls.js"),I=_.showCoordinateEditorSelector,R=_.measureSelector,L=r("./MapStore2/web/client/utils/ConfigUtils.js").getConfigProp,D=O.bind(null,"measure",null),k=s(u([function(e){return{measurement:e.measurement||{},uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m"}},lineMeasureEnabled:e.measurement&&e.measurement.lineMeasureEnabled,lineMeasureValueEnabled:!P(e),areaMeasureEnabled:e.measurement&&e.measurement.areaMeasureEnabled,areaMeasureValueEnabled:!P(e),bearingMeasureEnabled:e.measurement&&e.measurement.bearingMeasureEnabled,showLengthAndBearingLabel:e.measurement&&e.measurement.showLengthAndBearingLabel,bearingMeasureValueEnabled:!P(e),isCoordinateEditorEnabled:M(e),showCoordinateEditor:I(e),showFeatureSelector:P(e),useSingleFeature:!P(e),withReset:P(e),showExportToGeoJSON:P(e),showAddAsAnnotation:A(e)&&P(e),trueBearing:C(e),showAddAsLayer:P(e),isCoordEditorEnabled:e.measurement&&!e.measurement.isDrawing,geomType:e.measurement&&e.measurement.geomType,format:e.measurement&&e.measurement.format}},function(e){return R(e)}],(function(e,t){return o(o({},e),{},{show:t,format:e.format||L("defaultCoordinateFormat")||"decimal"})})),{toggleMeasure:f,onAddAnnotation:g,onChangeUom:m,onHighlightPoint:x,onChangeFormat:y,onInit:v,onChangeCoordinates:b,onChangeCurrentFeature:S,onClose:D,onMount:function(e){return j("measure","showCoordinateEditor",e)},onAddAsLayer:h},null,{pure:!1})(E);e.exports={MeasurePlugin:c(k,{disablePluginIf:"{state('mapType') === 'cesium'}",BurgerMenu:{name:"measurement",position:9,panel:!1,help:a.createElement(p,{msgId:"helptexts.measureComponent"}),tooltip:"measureComponent.tooltip",text:a.createElement(p,{msgId:"measureComponent.Measure"}),icon:a.createElement(l,{glyph:"1-ruler"}),action:function(){return j("measure","enabled",!0)}}}),reducers:{measurement:r("./MapStore2/web/client/reducers/measurement.js").default},epics:r("./MapStore2/web/client/epics/measurement.js")}},"./MapStore2/web/client/plugins/MetadataExplorer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/prop-types/index.js"),b=r("./node_modules/react-redux/es/index.js").connect,g=r("./node_modules/object-assign/index.js"),h=r("./node_modules/reselect/es/index.js").createStructuredSelector,v=r("./node_modules/recompose/es/Recompose.js"),S=v.compose,w=v.branch,O=v.renderComponent,j=v.withProps,E=v.defaultProps,x=r("./MapStore2/web/client/components/catalog/CatalogServiceEditor.jsx").default,P=r("./node_modules/react-bootstrap/es/index.js"),T=P.Glyphicon,M=P.Panel,A=r("./node_modules/react-container-dimensions/lib/index.js").default,C=r("./MapStore2/web/client/actions/layers.js").changeLayerProperties,_=r("./MapStore2/web/client/actions/catalog.js"),I=_.addService,R=_.deleteService,L=_.textSearch,D=_.changeCatalogFormat,k=_.changeCatalogMode,N=_.changeUrl,F=_.changeTitle,G=_.changeServiceProperty,U=_.changeType,B=_.changeServiceFormat,z=_.changeSelectedService,W=_.addLayer,V=_.addLayerError,H=_.focusServicesList,q=_.changeText,Y=_.changeMetadataTemplate,Z=_.toggleAdvancedSettings,Q=_.toggleThumbnail,K=_.toggleTemplate,X=_.catalogClose,J=r("./MapStore2/web/client/actions/backgroundselector.js"),$=J.addBackgroundProperties,ee=J.clearModalParameters,te=J.backgroundAdded,re=r("./MapStore2/web/client/selectors/locale.js"),ne=re.currentLocaleSelector,oe=re.currentMessagesSelector,ie=r("./MapStore2/web/client/selectors/layers.js").layersSelector,ae=r("./MapStore2/web/client/actions/controls.js"),se=ae.setControlProperty,le=ae.toggleControl,ce=r("./MapStore2/web/client/selectors/catalog.js"),ue=ce.resultSelector,pe=ce.serviceListOpenSelector,de=ce.newServiceSelector,fe=ce.newServiceTypeSelector,me=ce.selectedServiceTypeSelector,ye=ce.searchOptionsSelector,be=ce.servicesSelector,ge=ce.servicesSelectorWithBackgrounds,he=ce.loadingErrorSelector,ve=ce.selectedServiceSelector,Se=ce.modeSelector,we=ce.layerErrorSelector,Oe=ce.activeSelector,je=ce.savingSelector,Ee=ce.authkeyParamNameSelector,xe=ce.searchTextSelector,Pe=ce.groupSelector,Te=ce.pageSizeSelector,Me=ce.loadingSelector,Ae=ce.selectedServiceLayerOptionsSelector,Ce=ce.tileSizeOptionsSelector,_e=r("./MapStore2/web/client/selectors/map.js").projectionSelector,Ie=r("./MapStore2/web/client/selectors/localizedLayerStyles.js").isLocalizedLayerStylesEnabledSelector,Re=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,Le=r("./MapStore2/web/client/selectors/backgroundselector.js"),De=Le.metadataSourceSelector,ke=Le.modalParamsSelector,Ne=r("./MapStore2/web/client/components/I18N/Message.jsx"),Fe=r("./MapStore2/web/client/components/misc/panels/DockPanel.jsx");r("./MapStore2/web/client/plugins/metadataexplorer/css/style.css");var Ge=r("./MapStore2/web/client/utils/CatalogUtils.js"),Ue=h({searchOptions:ye,result:ue,loadingError:he,selectedService:ve,mode:Se,services:be,servicesWithBackgrounds:ge,layerError:we,active:Oe,dockStyle:function(e){return Re(e,{height:!0})},searchText:xe,group:Pe,source:De,layers:ie,modalParams:ke,authkeyParamNames:Ee,saving:je,openCatalogServiceList:pe,service:de,format:fe,selectedFormat:me,options:ye,layerOptions:Ae,tileSizeOptions:Ce,currentLocale:ne,locales:oe,pageSize:Te,loading:Me,crs:_e,isLocalizedLayerStylesEnabled:Ie}),Be=S(j((function(e){var t=e.result,r=e.selectedFormat,n=e.options,o=e.layerOptions,i=e.services,a=e.selectedService,s=e.locales;return{records:t&&Ge.getCatalogRecords(r,t,d(d({},n),{},{layerOptions:o,service:i[a]}),s)||[]}})),E({buttonStyle:{marginBottom:"10px",marginRight:"5px"},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}]}),w((function(e){return"edit"===e.mode}),O(x)))(r("./MapStore2/web/client/components/catalog/Catalog.jsx")),ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){var e=this,t={group:this.props.group||void 0},r=m.createElement(Be,o({layerBaseConfig:t},this.props,{services:"backgroundSelector"===this.props.source?this.props.servicesWithBackgrounds:this.props.services}));return m.createElement("div",{id:"catalog-root",className:this.props.active?"catalog-active":"",style:{width:"100%",height:"100%",pointerEvents:"none"}},m.createElement(A,null,(function(t){var n=t.width;return m.createElement(Fe,{open:e.props.active,size:e.props.width/n>1?n:e.props.width,position:"right",bsStyle:"primary",title:m.createElement(Ne,{msgId:"catalog.title"}),onClose:function(){return e.props.closeCatalog()},glyph:"folder-open",zIndex:1031,style:e.props.dockStyle},m.createElement(M,{id:e.props.id,style:e.props.panelStyle,className:e.props.panelClassName},r))})))}}])&&a(t.prototype,r),n&&a(t,n),u}(m.Component);f(ze,"propTypes",{id:y.string,source:y.string,active:y.bool,searchOnStartup:y.bool,serviceTypes:y.array,wrap:y.bool,wrapWithPanel:y.bool,panelStyle:y.object,panelClassName:y.string,closeCatalog:y.func,closeGlyph:y.string,buttonStyle:y.object,services:y.object,servicesWithBackgrounds:y.object,selectedService:y.string,style:y.object,dockProps:y.object,zoomToLayer:y.bool,isLocalizedLayerStylesEnabled:y.bool,width:y.number,dockStyle:y.object,group:y.string}),f(ze,"defaultProps",{id:"mapstore-metadata-explorer",serviceTypes:[{name:"csw",label:"CSW"},{name:"wms",label:"WMS"},{name:"wmts",label:"WMTS"},{name:"tms",label:"TMS",allowedProviders:["OpenStreetMap","OpenSeaMap","Stamen"]},{name:"wfs",label:"WFS"}],active:!1,wrap:!1,modal:!0,wrapWithPanel:!1,panelStyle:{zIndex:100,overflow:"hidden",height:"100%"},panelClassName:"catalog-panel",closeCatalog:function(){},closeGlyph:"1-close",zoomToLayer:!0,width:660,dockProps:{dimMode:"none",fluid:!1,position:"right",zIndex:1030},dockStyle:{},group:null,services:{},servicesWithBackgrounds:{}});var We=b(Ue,{clearModal:ee,onSearch:L,onLayerAdd:W,closeCatalog:X,onChangeFormat:D,onChangeServiceFormat:B,onChangeUrl:N,onChangeType:U,onChangeTitle:F,onChangeMetadataTemplate:Y,onChangeText:q,onChangeServiceProperty:G,onChangeSelectedService:z,onChangeCatalogMode:k,onAddService:I,onToggleAdvancedSettings:Z,onToggleThumbnail:Q,onToggleTemplate:K,onDeleteService:R,onError:V,onAddBackgroundProperties:$,onFocusServicesList:H,onPropertiesChange:C,onAddBackground:te,onToggle:le.bind(null,"backgroundSelector",null),onLayerChange:se.bind(null,"backgroundSelector"),onStartChange:se.bind(null,"backgroundSelector","start")})(ze),Ve=r("./MapStore2/web/client/api/catalog/index.js").default;e.exports={MetadataExplorerPlugin:g(We,{BurgerMenu:{name:"metadataexplorer",position:5,text:m.createElement(Ne,{msgId:"catalog.title"}),icon:m.createElement(T,{glyph:"folder-open"}),action:se.bind(null,"metadataexplorer","enabled",!0,!0),doNotHide:!0},BackgroundSelector:{name:"MetadataExplorer",doNotHide:!0},TOC:{name:"MetadataExplorer",doNotHide:!0}}),reducers:{catalog:r("./MapStore2/web/client/reducers/catalog.js").default},epics:r("./MapStore2/web/client/epics/catalog.js").default(Ve)}},"./MapStore2/web/client/plugins/MousePosition.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/react/index.js"),g=r("./node_modules/react-redux/es/index.js").connect,h=r("./MapStore2/node_modules/lodash/lodash.js").get,v=r("./MapStore2/web/client/selectors/map.js"),S=v.mapSelector,w=v.projectionDefsSelector,O=r("./MapStore2/web/client/components/I18N/Message.jsx"),j=r("./node_modules/react-bootstrap/es/index.js").Tooltip,E=r("./node_modules/reselect/es/index.js").createSelector,x=r("./node_modules/object-assign/index.js"),P=r("./node_modules/prop-types/index.js"),T=r("./MapStore2/web/client/actions/mousePosition.js").changeMousePositionCrs,M=r("./MapStore2/web/client/actions/map.js"),A=M.registerEventListener,C=M.unRegisterEventListener,_=r("./MapStore2/web/client/selectors/map.js").isMouseMoveCoordinatesActiveSelector,I=function(e,t,r){return t.showCenter&&e?e.center:t.showOnClick?r.clickPoint&&r.clickPoint.latlng?{x:r.clickPoint.latlng.lng,y:r.clickPoint.latlng.lat,crs:"EPSG:4326"}:{crs:"EPSG:4326"}:t},R=E([function(e){return e},S,function(e){return _(e)},function(e){return h(e,"mousePosition.position")||{}},function(e){return h(e,"mousePosition.crs","EPSG:4326")},function(e){return e.mapInfo||{}}],(function(e,t,r,n,o,i){return{enabled:r,mousePosition:I(t,n,i),projectionDefs:w(e),crs:o}})),L=g((function(e){return{pressed:_(e),active:_(e),tooltip:b.createElement(j,{id:"showMousePositionCoordinates"},b.createElement(O,{msgId:"showMousePositionCoordinates"})),tooltipPlace:"left",pressedStyle:"success active",defaultStyle:"primary",glyphicon:"mouse",btnConfig:{bsSize:"small"}}}),{registerEventListener:A,unRegisterEventListener:C},(function(e,t){return m(m({},e),{},{onClick:function(){return e.active?t.unRegisterEventListener("mousemove","mouseposition"):t.registerEventListener("mousemove","mouseposition")}})}))(r("./MapStore2/web/client/components/buttons/ToggleButton.jsx")),D=r("./MapStore2/web/client/components/mapcontrols/mouseposition/MousePosition.jsx"),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,n,u,d=c(f);function f(){var e;a(this,f);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return y(p(e=d.call.apply(d,[this].concat(n))),"getTemplate",(function(e){return r("./MapStore2/web/client/components/mapcontrols/mouseposition sync recursive ^\\.\\/.*$")("./"+e)})),e}return t=f,(n=[{key:"render",value:function(){var e=this.props,t=e.degreesTemplate,r=e.projectedTemplate,n=i(e,["degreesTemplate","projectedTemplate"]);return b.createElement(D,o({degreesTemplate:this.getTemplate(t),projectedTemplate:this.getTemplate(r),toggle:b.createElement(L,null)},n))}}])&&s(t.prototype,n),u&&s(t,u),f}(b.Component);y(k,"propTypes",{degreesTemplate:P.string,projectedTemplate:P.string}),y(k,"defaultProps",{degreesTemplate:"MousePositionLabelDMS",projectedTemplate:"MousePositionLabelYX"});var N=g(R,{onCRSChange:T})(k);e.exports={MousePositionPlugin:x(N,{MapFooter:{name:"mousePosition",position:2,tool:!0,priority:1}}),reducers:{mousePosition:r("./MapStore2/web/client/reducers/mousePosition.js").default}}},"./MapStore2/web/client/plugins/Notifications.jsx":function(e,t,r){var n=r("./MapStore2/web/client/actions/notifications.js"),o=n.hide,i=n.dispatchAction,a=r("./MapStore2/web/client/epics/notifications.js").clearNotificationOnLocationChange,s=r("./node_modules/react-redux/es/index.js").connect;e.exports={NotificationsPlugin:s((function(e){return{notifications:e&&e.notifications}}),{onRemove:o,onDispatch:i})(r("./MapStore2/web/client/components/notifications/NotificationContainer.jsx")),reducers:{notifications:r("./MapStore2/web/client/reducers/notifications.js").default},epics:{clearNotificationOnLocationChange:a}}},"./MapStore2/web/client/plugins/OmniBar.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js");r("./MapStore2/web/client/plugins/omnibar/omnibar.css");var m=r("./node_modules/object-assign/index.js"),y=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,r){var n,o;return{name:t.name+r,panel:e,cfg:(null==t||null===(n=t.cfg)||void 0===n||null===(o=n.toolsCfg)||void 0===o?void 0:o[r])||{}}})))}),[])})),p(c(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=u,(r=[{key:"render",value:function(){return f.createElement(y,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return f.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return f.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(b,"propTypes",{className:d.string,style:d.object,items:d.array,id:d.string,mapType:d.string}),p(b,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"}),e.exports={OmniBarPlugin:m(b,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},"./MapStore2/web/client/plugins/Playback.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./node_modules/react/index.js"),p=r("./node_modules/object-assign/index.js"),d=r("./node_modules/recompose/es/Recompose.js"),f=d.defaultProps,m=d.compose,y=r("./node_modules/reselect/es/index.js").createSelector,b=r("./MapStore2/web/client/actions/playback.js"),g=b.play,h=b.pause,v=b.stop,S=b.STATUS,w=r("./MapStore2/web/client/selectors/dimension.js").currentTimeSelector,O=r("./MapStore2/web/client/selectors/playback.js"),j=O.statusSelector,E=O.loadingSelector,x=r("./node_modules/react-redux/es/index.js").connect,P=m(f({statusMap:S}),x(y(j,w,E,(function(e,t,r){return{loading:r,currentTime:t,status:e}})),{play:g,pause:h,stop:v}))(r("./MapStore2/web/client/plugins/playback/Playback.jsx")),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){return u.createElement("div",{className:"playback-plugin"},u.createElement(P,this.props))}}])&&i(t.prototype,r),n&&i(t,n),c}(u.Component);e.exports={PlaybackPlugin:p(T,{noRoot:!0,disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:r("./MapStore2/web/client/epics/playback.js"),reducers:{playback:r("./MapStore2/web/client/reducers/playback.js").default,dimension:r("./MapStore2/web/client/reducers/dimension.js").default}}},"./MapStore2/web/client/plugins/Print.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=r("./node_modules/react/index.js"),h=r("./node_modules/prop-types/index.js"),v=r("./node_modules/react-redux/es/index.js").connect,S=r("./MapStore2/web/client/utils/LocaleUtils.js"),w=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),O=r("./MapStore2/web/client/utils/MapUtils.js"),j=r("./MapStore2/web/client/components/misc/Dialog.jsx"),E=r("./node_modules/react-bootstrap/es/index.js"),x=E.Grid,P=E.Row,T=E.Col,M=E.Panel,A=E.Accordion,C=E.Glyphicon,_=r("./MapStore2/web/client/actions/controls.js"),I=_.toggleControl,R=_.setControlProperty,L=r("./MapStore2/web/client/actions/print.js"),D=L.printSubmit,k=L.printError,N=L.printSubmitting,F=L.configurePrintMap,G=r("./MapStore2/web/client/selectors/map.js").mapSelector,U=r("./MapStore2/web/client/selectors/layers.js").layersSelector,B=r("./node_modules/reselect/es/index.js").createSelector,z=r("./node_modules/object-assign/index.js"),W=r("./MapStore2/node_modules/lodash/lodash.js").head,V=r("./MapStore2/web/client/selectors/map.js").scalesSelector,H=r("./MapStore2/web/client/selectors/locale.js"),q=H.currentLocaleSelector,Y=H.currentLocaleLanguageSelector,Z=r("./MapStore2/web/client/selectors/localizedLayerStyles.js"),Q=Z.isLocalizedLayerStylesEnabledSelector,K=Z.localizedLayerStylesEnvSelector,X=r("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,J=r("./MapStore2/web/client/components/I18N/Message.jsx");r("./MapStore2/web/client/plugins/print/print.css"),e.exports={PrintPlugin:z({loadPlugin:function(e){Promise.all([r.e(13),r.e(14)]).then(function(){var t=r("./MapStore2/web/client/plugins/print/index.js"),n=t.Name,o=t.Description,s=t.Resolution,f=t.DefaultBackgroundOption,y=t.Sheet,E=t.LegendOption,_=t.MultiPageOption,L=t.LandscapeOption,H=t.ForceLabelsOption,Z=t.AntiAliasingOption,$=t.IconSizeOption,ee=t.LegendDpiOption,te=t.Font,re=t.MapPreview,ne=t.PrintSubmit,oe=t.PrintPreview,ie=r("./MapStore2/web/client/utils/PrintUtils.js"),ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(E,e);var t,r,h,v=d(E);function E(){var e;c(this,E);for(var t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return b(m(e=v.call.apply(v,[this].concat(r))),"getMapSize",(function(t){var r=t||e.getLayout();return{width:e.props.mapWidth,height:r&&r.map.height/r.map.width*e.props.mapWidth||270}})),b(m(e),"getLayout",(function(){var t=e.props.getLayoutName(e.props.printSpec);return W(e.props.capabilities.layouts.filter((function(e){return e.name===t})))})),b(m(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return g.createElement(t.component,{key:"printoption_"+t.name,label:S.getMessageById(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),b(m(e),"renderPreviewPanel",(function(){return g.createElement(oe,l({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),b(m(e),"renderError",(function(){return e.props.error?g.createElement(P,null,g.createElement(T,{xs:12},g.createElement("div",{className:"print-error"},g.createElement("span",null,e.props.error)))):null})),b(m(e),"renderWarning",(function(e){return e?null:g.createElement(P,null,g.createElement(T,{xs:12},g.createElement("div",{className:"print-warning"},g.createElement("span",null,g.createElement(J,{msgId:"print.layoutWarning"})))))})),b(m(e),"renderPrintPanel",(function(){var t=e.getLayout(),r=e.props.getLayoutName(e.props.printSpec),i=e.getMapSize(t);return g.createElement(x,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),g.createElement(P,null,g.createElement(T,{xs:12,md:6},g.createElement(n,{label:S.getMessageById(e.context.messages,"print.title"),placeholder:S.getMessageById(e.context.messages,"print.titleplaceholder")}),g.createElement(o,{label:S.getMessageById(e.context.messages,"print.description"),placeholder:S.getMessageById(e.context.messages,"print.descriptionplaceholder")}),g.createElement(A,{defaultActiveKey:"1"},g.createElement(M,{className:"print-layout",header:S.getMessageById(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},g.createElement(y,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:S.getMessageById(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),g.createElement(M,{className:"print-legend-options",header:S.getMessageById(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},g.createElement(te,{label:S.getMessageById(e.context.messages,"print.legend.font")}),g.createElement(H,{label:S.getMessageById(e.context.messages,"print.legend.forceLabels")}),g.createElement(Z,{label:S.getMessageById(e.context.messages,"print.legend.antiAliasing")}),g.createElement($,{label:S.getMessageById(e.context.messages,"print.legend.iconsSize")}),g.createElement(ee,{label:S.getMessageById(e.context.messages,"print.legend.dpi")})))),g.createElement(T,{xs:12,md:6,style:{textAlign:"center"}},g.createElement(s,{label:S.getMessageById(e.context.messages,"print.resolution")}),g.createElement(re,l({width:i.width,height:i.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:r,layoutSize:t&&t.map||{width:10,height:10},resolutions:O.getResolutions(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?g.createElement(f,{label:S.getMessageById(e.context.messages,"print.defaultBackground")}):null,g.createElement(ne,l({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),b(m(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?g.createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),b(m(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),b(m(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),b(m(e),"isBackgroundIgnored",(function(){return e.props.layers.filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),b(m(e),"filterLayers",(function(t){var r=e.props.layers.filter((function(t){return t.visibility&&e.isAllowed(t)}));if(e.isBackgroundIgnored()&&e.props.defaultBackground&&t.defaultBackground){var n=e.props.layers.filter((function(t){return t.type===e.props.defaultBackground}))[0];return[z({},n,{visibility:!0})].concat(a(r))}return r})),b(m(e),"configurePrintMap",(function(t,r){var n=t||e.props.map,o=r||e.props.printSpec;if(n&&n.bbox&&e.props.capabilities){var i=w.reprojectBbox([n.bbox.bounds.minx,n.bbox.bounds.miny,n.bbox.bounds.maxx,n.bbox.bounds.maxy],n.bbox.crs,n.projection),a=e.getMapSize();if(e.props.useFixedScales){var s=e.props.getZoomForExtent(i,a,e.props.minZoom,e.props.maxZoom),l=ie.getPrintScales(e.props.capabilities),c=ie.getNearestZoom(n.zoom,l);e.props.configurePrintMap(n.center,s,c,l[c],e.filterLayers(o),n.projection,e.props.currentLocale)}else e.props.configurePrintMap(n.center,n.zoom,n.zoom,e.props.scales[n.zoom],e.filterLayers(o),n.projection,e.props.currentLocale)}})),b(m(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=i(i({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var r=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,i(i({},r),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=E,(r=[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.usePreview&&!window.PDFJS){var e=document.createElement("script");e.type="text/javascript",e.src="https://unpkg.com/pdfjs-dist@1.4.79/build/pdf.combined.js",document.head.appendChild(e)}this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,r=this.props.open&&this.props.syncMapPreview&&O.mapUpdated(this.props.map,e.map),n=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||r||n)&&this.configurePrintMap(e.map,e.printSpec)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?g.createElement(M,{className:"mapstore-print-panel",header:g.createElement("span",null,g.createElement("span",{className:"print-panel-title"},g.createElement(J,{msgId:"print.paneltitle"})),g.createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):g.createElement(j,{id:"mapstore-print-panel",style:i({left:"17%",top:"50px",zIndex:1990},this.props.style)},g.createElement("span",{role:"header"},g.createElement("span",{className:"print-panel-title"},g.createElement(J,{msgId:"print.paneltitle"})),g.createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?g.createElement(C,{glyph:this.props.closeGlyph}):g.createElement("span",null,""))),this.renderBody()):this.renderBody():null}}])&&u(t.prototype,r),h&&u(t,h),E}(g.Component);b(ae,"propTypes",{map:h.object,layers:h.array,capabilities:h.object,printSpec:h.object,printSpecTemplate:h.object,withContainer:h.bool,withPanelAsContainer:h.bool,open:h.bool,pdfUrl:h.string,title:h.string,style:h.object,mapWidth:h.number,mapType:h.string,alternatives:h.array,toggleControl:h.func,onBeforePrint:h.func,setPage:h.func,onPrint:h.func,printError:h.func,configurePrintMap:h.func,preloadData:h.func,getPrintSpecification:h.func,getLayoutName:h.func,error:h.string,getZoomForExtent:h.func,minZoom:h.number,maxZoom:h.number,usePreview:h.bool,mapPreviewOptions:h.object,syncMapPreview:h.bool,useFixedScales:h.bool,scales:h.array,ignoreLayers:h.array,defaultBackground:h.string,closeGlyph:h.string,submitConfig:h.object,previewOptions:h.object,currentLocale:h.string,currentLocaleLanguage:h.string,overrideOptions:h.object,isLocalizedLayerStylesEnabled:h.bool,localizedLayerStylesEnv:h.object}),b(ae,"contextTypes",{messages:h.object}),b(ae,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:ie.preloadData,getPrintSpecification:ie.getMapfishPrintSpecification,getLayoutName:ie.getLayoutName,getZoomForExtent:O.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:E,regex:/legend/},{name:"2pages",component:_,regex:/2_pages/},{name:"landscape",component:L,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var se=B([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&z({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},G,U,V,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},q,Y,X,Q,K],(function(e,t,r,n,o,i,a,s,l,c,u,p,d,f){return{open:e,capabilities:t,printSpec:r,pdfUrl:n,error:o,map:i,layers:a.filter((function(e){return!e.loadingError})),scales:s,usePreview:l,currentLocale:c,currentLocaleLanguage:u,mapType:p,isLocalizedLayerStylesEnabled:d,localizedLayerStylesEnv:f}})),le=v(se,{toggleControl:I.bind(null,"print",null),onPrint:D,printError:k,onBeforePrint:N,setPage:R.bind(null,"print","currentPage"),configurePrintMap:F})(ae);e(le)}.bind(null,r)).catch(r.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:g.createElement(J,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:g.createElement(C,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:g.createElement(J,{msgId:"printbutton"}),icon:g.createElement(C,{glyph:"print"}),action:I.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:r("./MapStore2/web/client/reducers/print.js").default}}},"./MapStore2/web/client/plugins/QueryPanel.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/react-redux/es/index.js").connect,b=r("./node_modules/react-sidebar/dist-modules/index.js").default,g=r("./node_modules/reselect/es/index.js").createSelector,h=r("./MapStore2/web/client/actions/layers.js"),v=h.changeLayerProperties,S=h.changeGroupProperties,w=h.toggleNode,O=h.sortNode,j=h.showSettings,E=h.hideSettings,x=h.updateSettings,P=h.updateNode,T=h.removeNode,M=r("./MapStore2/web/client/plugins/locale/Message.jsx"),A=r("./MapStore2/web/client/actions/layerCapabilities.js").getLayerCapabilities,C=r("./MapStore2/web/client/actions/layerFilter.js"),_=C.storeCurrentFilter,I=C.discardCurrentFilter,R=C.applyFilter,L=r("./MapStore2/web/client/actions/map.js").zoomToExtent,D=r("./MapStore2/web/client/actions/controls.js").toggleControl,k=r("./MapStore2/web/client/selectors/layers.js"),N=k.groupsSelector,F=k.selectedLayerLoadingErrorSelector,G=r("./MapStore2/web/client/selectors/map.js").mapSelector,U=r("./MapStore2/web/client/selectors/dashboard.js").isDashboardAvailable,B=r("./MapStore2/web/client/selectors/queryform.js"),z=B.crossLayerFilterSelector,W=B.availableCrossLayerFilterLayersSelector,V=B.storedFilterSelector,H=B.appliedFilterSelector,q=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,Y=r("./MapStore2/web/client/utils/LayersUtils.js"),Z=r("./MapStore2/web/client/components/data/query/QueryBuilder.jsx"),Q=r("./MapStore2/web/client/components/data/query/QueryPanelHeader.jsx"),K=r("./MapStore2/web/client/epics/wfsquery.js"),X=K.featureTypeSelectedEpic,J=K.wfsQueryEpic,$=K.viewportSelectedEpic,ee=K.redrawSpatialFilterEpic,te=r("./MapStore2/web/client/epics/autocomplete.js"),re=r("./node_modules/redux/es/index.js").bindActionCreators,ne=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,oe=r("./MapStore2/web/client/epics/layerfilter.js"),ie=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),ae=r("./MapStore2/web/client/components/misc/Portal.jsx"),se=r("./MapStore2/web/client/actions/queryform.js"),le=se.addGroupField,ce=se.addFilterField,ue=se.removeFilterField,pe=se.updateFilterField,de=se.updateExceptionField,fe=se.updateLogicCombo,me=se.removeGroupField,ye=se.changeCascadingValue,be=se.expandAttributeFilterPanel,ge=se.expandSpatialFilterPanel,he=se.expandCrossLayerFilterPanel,ve=se.selectSpatialMethod,Se=se.selectViewportSpatialMethod,we=se.selectSpatialOperation,Oe=se.removeSpatialSelection,je=se.changeSpatialFilterValue,Ee=se.showSpatialSelectionDetails,xe=se.setCrossLayerFilterParameter,Pe=se.addCrossLayerFilterField,Te=se.updateCrossLayerFilterField,Me=se.removeCrossLayerFilterField,Ae=se.resetCrossLayerFilter,Ce=se.search,_e=se.reset,Ie=se.changeDwithinValue,Re=se.zoneGetValues,Le=se.zoneSearch,De=se.zoneChange,ke=se.toggleMenu,Ne=r("./MapStore2/web/client/actions/wfsquery.js").initQueryPanel,Fe=r("./MapStore2/web/client/actions/draw.js").changeDrawingStatus,Ge=_e.bind(null,"query"),Ue=y((function(e){return{useMapProjection:e.queryform.useMapProjection,groupLevels:e.queryform.groupLevels,groupFields:e.queryform.groupFields,filterFields:e.queryform.filterFields,attributes:e.query&&e.query.typeName&&e.query.featureTypes&&e.query.featureTypes[e.query.typeName]&&e.query.featureTypes[e.query.typeName].attributes,featureTypeError:e.query&&e.query.typeName&&e.query.featureTypes&&e.query.featureTypes[e.query.typeName]&&e.query.featureTypes[e.query.typeName].error,spatialField:e.queryform.spatialField,showDetailsPanel:e.queryform.showDetailsPanel,toolbarEnabled:e.queryform.toolbarEnabled,attributePanelExpanded:e.queryform.attributePanelExpanded,autocompleteEnabled:e.queryform.autocompleteEnabled,crossLayerExpanded:e.queryform.crossLayerExpanded,crossLayerFilterOptions:p({layers:W(e),crossLayerFilter:z(e)},e.queryform.crossLayerFilterOptions||{}),maxFeaturesWPS:e.queryform.maxFeaturesWPS,spatialPanelExpanded:e.queryform.spatialPanelExpanded,featureTypeConfigUrl:e.query&&e.query.url,searchUrl:e.query&&e.query.url,featureTypeName:e.query&&e.query.typeName,ogcVersion:"1.1.0",params:{typeName:e.query&&e.query.typeName},resultTitle:"Query Result",showGeneratedFilter:!1,allowEmptyFilter:!0,emptyFilterWarning:!0,maxHeight:e.map&&e.map.present&&e.map.present.size&&e.map.present.size.height,zoom:(G(e)||{}).zoom,projection:(G(e)||{}).projection}}),(function(e){return{attributeFilterActions:re({onAddGroupField:le,onAddFilterField:ce,onRemoveFilterField:ue,onUpdateFilterField:pe,onUpdateExceptionField:de,onUpdateLogicCombo:fe,onRemoveGroupField:me,onChangeCascadingValue:ye,toggleMenu:ke,onExpandAttributeFilterPanel:be},e),spatialFilterActions:re({onChangeSpatialFilterValue:je,onExpandSpatialFilterPanel:ge,onSelectSpatialMethod:ve,onSelectViewportSpatialMethod:Se,onSelectSpatialOperation:we,onChangeDrawingStatus:Fe,onRemoveSpatialSelection:Oe,onShowSpatialSelectionDetails:Ee,onChangeDwithinValue:Ie,zoneFilter:Re,zoneSearch:Le,zoneChange:De},e),queryToolbarActions:re({onQuery:Ce,onReset:Ge,onSaveFilter:_,onRestoreFilter:I,storeAppliedFilter:R,onChangeDrawingStatus:Fe},e),crossLayerFilterActions:re({expandCrossLayerFilterPanel:he,setCrossLayerFilterParameter:xe,addCrossLayerFilterField:Pe,updateCrossLayerFilterField:Te,removeCrossLayerFilterField:Me,resetCrossLayerFilter:Ae},e)}}))(Z),Be=g([function(e){return e.controls&&e.controls.toolbar&&"toc"===e.controls.toolbar.active},N,function(e){return e.layers&&e.layers.settings||{expanded:!1,options:{opacity:1}}},function(e){return e.controls&&e.controls.queryPanel&&e.controls.queryPanel.enabled||!1},function(e){return ne(e,{height:!0})},U,H,V,function(e){return e&&e.query&&e.query.isLayerFilter},F],(function(e,t,r,n,o,i,a,s,l,c){return{enabled:e,groups:t,settings:r,querypanelEnabled:n,layout:i?{}:o,appliedFilter:a,storedFilter:s,advancedToolbar:l,loadingError:c}})),ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,s=a(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),d(l(t=s.call(this,e)),"getNoBackgroundLayers",(function(e){return"background"!==e.name})),d(l(t),"renderSidebar",(function(){return m.createElement(b,{open:t.props.querypanelEnabled,sidebar:t.renderQueryPanel(),sidebarClassName:"query-form-panel-container",touch:!1,styles:{sidebar:p(p({},t.props.layout),{},{zIndex:1024,width:600}),overlay:{zIndex:1023,width:0},root:{right:t.props.querypanelEnabled?0:"auto",width:"0",overflow:"visible"},content:{overflowY:"auto"}}},m.createElement("div",null))})),d(l(t),"onToggle",(function(){t.props.advancedToolbar&&!q(t.props.appliedFilter,t.props.storedFilter)?t.setState((function(){return{showModal:!0}})):t.props.onToggleQuery()})),d(l(t),"restoreAndClose",(function(){t.setState((function(){return{showModal:!1}})),t.props.onRestoreFilter(),t.props.onToggleQuery()})),d(l(t),"storeAndClose",(function(){t.setState((function(){return{showModal:!1}})),t.props.onSaveFilter(),t.props.onToggleQuery()})),d(l(t),"renderQueryPanel",(function(){return m.createElement("div",{className:"mapstore-query-builder"},m.createElement(Ue,{header:m.createElement(Q,{loadingError:t.props.loadingError,onToggleQuery:t.onToggle}),spatialOperations:t.props.spatialOperations,spatialMethodOptions:t.props.spatialMethodOptions,toolsOptions:t.props.toolsOptions,featureTypeErrorText:m.createElement(M,{msgId:"layerProperties.featureTypeError"}),appliedFilter:t.props.appliedFilter,storedFilter:t.props.storedFilter,advancedToolbar:t.props.advancedToolbar,loadingError:t.props.loadingError}),m.createElement(ae,null,m.createElement(ie,{fade:!0,show:t.state.showModal,title:m.createElement(M,{msgId:"queryform.changedFilter"}),size:"xs",onClose:function(){return t.setState((function(){return{showModal:!1}}))},buttons:[{bsStyle:"primary",text:m.createElement(M,{msgId:"yes"}),onClick:t.storeAndClose},{bsStyle:"primary",text:m.createElement(M,{msgId:"no"}),onClick:t.restoreAndClose}]},m.createElement("div",{className:"ms-alert"},m.createElement("div",{className:"ms-alert-center"},m.createElement(M,{msgId:t.props.loadingError?"queryform.changedFilterWithErrorAlert":"queryform.changedFilterAlert"}))))))})),t.state={showModal:!1},t}return t=c,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!0===e.querypanelEnabled&&!1===this.props.querypanelEnabled&&this.props.onInit()}},{key:"render",value:function(){return this.renderSidebar()}}])&&o(t.prototype,r),n&&o(t,n),c}(m.Component);d(ze,"propTypes",{id:f.number,buttonContent:f.node,groups:f.array,settings:f.object,querypanelEnabled:f.bool,groupStyle:f.object,groupPropertiesChangeHandler:f.func,layerPropertiesChangeHandler:f.func,onToggleGroup:f.func,onToggleLayer:f.func,onToggleQuery:f.func,onZoomToExtent:f.func,retrieveLayerData:f.func,onSort:f.func,onInit:f.func,onSettings:f.func,hideSettings:f.func,updateSettings:f.func,updateNode:f.func,removeNode:f.func,activateRemoveLayer:f.bool,activateLegendTool:f.bool,activateZoomTool:f.bool,activateSettingsTool:f.bool,visibilityCheckType:f.string,settingsOptions:f.object,layout:f.object,toolsOptions:f.object,appliedFilter:f.object,storedFilter:f.object,advancedToolbar:f.bool,onSaveFilter:f.func,onRestoreFilter:f.func}),d(ze,"defaultProps",{groupPropertiesChangeHandler:function(){},layerPropertiesChangeHandler:function(){},retrieveLayerData:function(){},onToggleGroup:function(){},onToggleLayer:function(){},onToggleQuery:function(){},onZoomToExtent:function(){},onSettings:function(){},onInit:function(){},updateNode:function(){},removeNode:function(){},activateLegendTool:!0,activateZoomTool:!0,activateSettingsTool:!0,activateRemoveLayer:!0,visibilityCheckType:"checkbox",settingsOptions:{},querypanelEnabled:!1,layout:{},toolsOptions:{},onSaveFilter:function(){},onRestoreFilter:function(){}});var We=y(Be,{groupPropertiesChangeHandler:S,layerPropertiesChangeHandler:v,retrieveLayerData:A,onToggleGroup:Y.toggleByType("groups",w),onToggleLayer:Y.toggleByType("layers",w),onToggleQuery:D.bind(null,"queryPanel",null),onSort:Y.sortUsing(Y.sortLayers,O),onSettings:j,onInit:Ne,onZoomToExtent:L,hideSettings:E,updateSettings:x,updateNode:P,removeNode:T,onSaveFilter:_,onRestoreFilter:I})(ze);e.exports={QueryPanelPlugin:We,reducers:{queryform:r("./MapStore2/web/client/reducers/queryform.js").default,query:r("./MapStore2/web/client/reducers/query.js").default,layerFilter:r("./MapStore2/web/client/reducers/layerFilter.js").default},epics:p(p(p({featureTypeSelectedEpic:X,wfsQueryEpic:J,viewportSelectedEpic:$,redrawSpatialFilterEpic:ee},te),r("./MapStore2/web/client/epics/queryform.js")),oe)}},"./MapStore2/web/client/plugins/ScaleBox.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=r("./node_modules/react/index.js"),d=r("./MapStore2/web/client/utils/PluginsUtils.js").connect,f=r("./node_modules/reselect/es/index.js").createSelector,m=r("./MapStore2/web/client/selectors/map.js"),y=m.mapSelector,b=m.minZoomSelector,g=r("./MapStore2/web/client/actions/map.js").changeZoomLevel,h=r("./MapStore2/web/client/plugins/help/HelpWrapper.jsx"),v=r("./MapStore2/web/client/plugins/locale/Message.jsx"),S=r("./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx"),w=r("./MapStore2/web/client/utils/MapUtils.js"),O=r("./node_modules/object-assign/index.js"),j=f([y,b],(function(e,t){return{minZoom:t,currentZoomLvl:e&&e.zoom,scales:w.getScales(e&&e.projection||"EPSG:3857",e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null)}}));r("./MapStore2/web/client/plugins/scalebox/scalebox.css");var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return p.createElement(h,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:p.createElement(v,{msgId:"helptexts.scaleBox"})},p.createElement(S,o({key:"scaleBox",label:p.createElement(v,{msgId:"mapScale"})},this.props)))}}])&&a(t.prototype,r),n&&a(t,n),u}(p.Component),x=d(j,{onChange:g})(E);e.exports={ScaleBoxPlugin:O(x,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/Search.jsx":function(e,t,r){var n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=r("./node_modules/prop-types/index.js"),h=r("./node_modules/react/index.js"),v=r("./node_modules/react-redux/es/index.js").connect,S=r("./node_modules/reselect/es/index.js").createSelector,w=r("./node_modules/object-assign/index.js"),O=r("./MapStore2/node_modules/lodash/lodash.js"),j=O.get,E=O.isArray,x=r("./MapStore2/web/client/epics/search.js"),P=x.searchEpic,T=x.searchOnStartEpic,M=x.searchItemSelected,A=x.zoomAndAddPointEpic,C=x.textSearchShowGFIEpic,_=r("./MapStore2/web/client/utils/SearchUtils.js").defaultIconStyle,I=r("./MapStore2/web/client/selectors/map.js").mapSelector,R=r("./MapStore2/web/client/actions/map.js").zoomToExtent,L=r("./MapStore2/web/client/actions/config.js").configureMap,D=r("./MapStore2/web/client/actions/searchbookmarkconfig.js").setSearchBookmarkConfig,k=r("./MapStore2/web/client/actions/search.js"),N=k.resultsPurge,F=k.resetSearch,G=k.addMarker,U=k.searchTextChanged,B=k.textSearch,z=k.selectSearchItem,W=k.cancelSelectedItem,V=k.changeActiveSearchTool,H=k.zoomAndAddPoint,q=k.changeFormat,Y=k.changeCoord,Z=k.updateResultsStyle,Q=k.showGFI,K=r("./MapStore2/web/client/actions/controls.js").toggleControl,X=r("./MapStore2/web/client/actions/additionallayers.js").removeAdditionalLayer,J=r("./MapStore2/web/client/utils/ConfigUtils.js").getConfigProp,$=v(S([function(e){return e.search||null},function(e){return e.controls&&e.controls.searchservicesconfig||null},function(e){return e.controls&&e.controls.searchBookmarkConfig||null},function(e){return e.mapConfigRawData||{}},function(e){return(null==e?void 0:e.searchbookmarkconfig)||""}],(function(e,t,r,n,o){return{enabledSearchServicesConfig:t&&t.enabled||!1,enabledSearchBookmarkConfig:r&&r.enabled||!1,error:e&&e.error,coordinate:e&&e.coordinate||{},loading:e&&e.loading,searchText:e?e.searchText:"",activeSearchTool:j(e,"activeSearchTool","addressSearch"),format:j(e,"format")||J("defaultCoordinateFormat"),selectedItems:e&&e.selectedItems,mapInitial:n,bookmarkConfig:o||{}}})),{onSearch:B,onChangeCoord:Y,onChangeActiveSearchTool:V,onClearCoordinatesSearch:X,onClearBookmarkSearch:D,onChangeFormat:q,onToggleControl:K,onZoomToPoint:H,onPurgeResults:N,onSearchReset:F,onSearchTextChange:U,onCancelSelectedItem:W,onZoomToExtent:R,onLayerVisibilityLoad:L})(r("./MapStore2/web/client/components/mapcontrols/search/SearchBar.jsx").default),ee=r("./MapStore2/web/client/selectors/layers.js").layersSelector,te=r("./node_modules/react-responsive/dist/react-responsive.js"),re=v(S([I,ee,function(e){return e.search||null}],(function(e,t,r){return{mapConfig:e,layers:t,results:r?r.results:null}})),{onItemClick:z,addMarker:G,showGFI:Q})(r("./MapStore2/web/client/components/mapcontrols/search/SearchResultList.jsx").default),ne=r("./MapStore2/web/client/plugins/searchbar/ToggleButton.jsx"),oe=v((function(e){return{enabled:e.controls&&e.controls.search&&e.controls.search.enabled||!1,selectedServices:e&&e.search&&e.search.selectedServices,selectedItems:e&&e.search&&e.search.selectedItems,textSearchConfig:e&&e.searchconfig&&e.searchconfig.textSearchConfig}}),{onUpdateResultsStyle:Z})((o=n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,r,n,o=d(i);function i(){var e;c(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(m(e=o.call.apply(o,[this].concat(r))),"getServiceOverrides",(function(t){return e.props.selectedItems&&e.props.selectedItems[e.props.selectedItems.length-1]&&j(e.props.selectedItems[e.props.selectedItems.length-1],t)})),b(m(e),"getSearchOptions",(function(){var t=e.props,r=t.searchOptions,n=t.textSearchConfig;return n&&n.services&&n.services.length>0?n.override?w({},r,{services:n.services}):w({},r,{services:r.services.concat(n.services)}):r})),b(m(e),"getCurrentServices",(function(){var t=e.props.selectedServices,r=e.getSearchOptions();return t&&t.length>0?w({},r,{services:t}):r})),b(m(e),"getSearchAndToggleButton",(function(){var t=h.createElement($,l({key:"searchBar"},e.props,{searchOptions:e.getCurrentServices(),placeholder:e.getServiceOverrides("placeholder"),placeholderMsgId:e.getServiceOverrides("placeholderMsgId")}));return!0===e.props.withToggle?[h.createElement(ne,null)].concat(e.props.enabled?[t]:null):E(e.props.withToggle)?h.createElement("span",null,h.createElement(te,{query:"("+e.props.withToggle[0]+")"},h.createElement(ne,null),e.props.enabled?t:null),h.createElement(te,{query:"("+e.props.withToggle[1]+")"},t)):t})),e}return t=i,(r=[{key:"componentDidMount",value:function(){this.props.onUpdateResultsStyle(s(s({},_),this.props.resultsStyle))}},{key:"render",value:function(){return h.createElement("span",null,this.getSearchAndToggleButton(),h.createElement(re,{fitToMapSize:this.props.fitResultsToMapSize,searchOptions:this.props.searchOptions,onUpdateResultsStyle:this.props.onUpdateResultsStyle,key:"nominatimresults"}))}}])&&u(t.prototype,r),n&&u(t,n),i}(h.Component),b(n,"propTypes",{splitTools:g.bool,showOptions:g.bool,isSearchClickable:g.bool,fitResultsToMapSize:g.bool,searchOptions:g.object,resultsStyle:g.object,selectedItems:g.array,selectedServices:g.array,userServices:g.array,withToggle:g.oneOfType([g.bool,g.array]),enabled:g.bool,textSearchConfig:g.object}),b(n,"defaultProps",{searchOptions:{services:[{type:"nominatim",priority:5}]},isSearchClickable:!1,splitTools:!0,resultsStyle:{color:"#3388ff",weight:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2},fitResultsToMapSize:!0,withToggle:!1,enabled:!0}),o));e.exports={SearchPlugin:w(oe,{OmniBar:{name:"search",position:1,tool:!0,priority:1}}),epics:{searchEpic:P,searchOnStartEpic:T,searchItemSelected:M,zoomAndAddPointEpic:A,textSearchShowGFIEpic:C},reducers:{search:r("./MapStore2/web/client/reducers/search.js").default,mapInfo:r("./MapStore2/web/client/reducers/mapInfo.js").default}}},"./MapStore2/web/client/plugins/SearchServicesConfig.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=r("./node_modules/react/index.js"),y=r("./node_modules/react-redux/es/index.js").connect,b=r("./node_modules/react-bootstrap/es/index.js"),g=b.Glyphicon,h=b.Button,v=r("./MapStore2/web/client/components/buttons/ConfirmButton.jsx"),S=r("./MapStore2/web/client/components/misc/Dialog.jsx"),w=r("./MapStore2/web/client/components/misc/Portal.jsx"),O=r("./MapStore2/web/client/plugins/locale/Message.jsx"),j=r("./MapStore2/node_modules/lodash/lodash.js").isEqual,E=r("./MapStore2/web/client/actions/controls.js").toggleControl,x=r("./MapStore2/web/client/actions/searchconfig.js"),P=x.setSearchConfigProp,T=x.updateService,M=x.restServiceConfig,A=r("./MapStore2/web/client/components/mapcontrols/searchservicesconfig/ServicesList.jsx"),C=r("./MapStore2/web/client/components/mapcontrols/searchservicesconfig/WFSServiceProps.jsx"),_=r("./MapStore2/web/client/components/mapcontrols/searchservicesconfig/ResultsProps.jsx"),I=r("./MapStore2/web/client/components/mapcontrols/searchservicesconfig/WFSOptionalProps.jsx"),R=r("./node_modules/prop-types/index.js"),L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,o=c(u);function u(){var e;a(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(p(e=o.call.apply(o,[this].concat(r))),"canProceed",(function(){var t=e.props,r=t.page,n=t.pages,o=t.service;return n[r].validate(o)})),f(p(e),"isDirty",(function(){var t=e.props,r=t.service,n=t.initServiceValues;return!j(r,n)})),f(p(e),"renderFooter",(function(){var t=e.props,r=t.page,n=t.pages;return 0===r?m.createElement("span",{role:"footer"},m.createElement(h,{onClick:e.addService,bsStyle:"primary"},m.createElement(O,{msgId:"search.addbtn"}))):r===n.length-1?m.createElement("span",{role:"footer"},m.createElement(h,{onClick:e.prev,bsStyle:"primary"},m.createElement(O,{msgId:"search.prevbtn"})),m.createElement(h,{disabled:!e.canProceed(),onClick:e.update,bsStyle:"success"},m.createElement(O,{msgId:"search.savebtn"}))):m.createElement("span",{role:"footer"},1===r&&e.isDirty()?m.createElement(v,{onConfirm:e.prev,bsStyle:"primary",confirming:{text:m.createElement(O,{msgId:"search.cancelconfirm"})},text:m.createElement(O,{msgId:"search.cancelbtn"})}):m.createElement(h,{onClick:e.prev,bsStyle:"primary"},m.createElement(O,{msgId:1===r?"search.cancelbtn":"search.prevbtn"})),m.createElement(h,{disabled:!e.canProceed(),onClick:e.next,bsStyle:"primary"},m.createElement(O,{msgId:"search.nextbtn"})))})),f(p(e),"onClose",(function(){e.props.toggleControl("searchservicesconfig"),e.props.restServiceConfig(0)})),f(p(e),"addService",(function(){var t=e.props.newService;e.props.onPropertyChange("init_service_values",t),e.props.onPropertyChange("service",t),e.props.onPropertyChange("page",1)})),f(p(e),"prev",(function(){var t=e.props.page;t>1?e.props.onPropertyChange("page",t-1):1===t&&e.props.restServiceConfig(0)})),f(p(e),"next",(function(){var t=e.props,r=t.page;r<t.pages.length-1&&e.props.onPropertyChange("page",r+1)})),f(p(e),"update",(function(){var t=e.props,r=t.service,n=t.editIdx;e.props.updateService(r,n)})),e}return t=u,(r=[{key:"render",value:function(){var e=this.props,t=e.enabled,r=e.pages,n=e.page,o=e.id,a=e.panelStyle,s=e.panelClassName,l=e.titleText,c=e.closeGlyph,u=e.onPropertyChange,p=e.service,d=e.textSearchConfig,f=void 0===d?{}:d,y=e.containerClassName,b=r&&r[n]||null;return t?m.createElement(w,null,m.createElement(S,{id:o,style:i(i({},a),{},{display:t?"block":"none"}),containerClassName:y,className:s,draggable:!1,modal:!0},m.createElement("span",{role:"header"},m.createElement("span",null,l),this.isDirty()?m.createElement(v,{className:"close",confirming:{text:m.createElement(O,{msgId:"search.cancelconfirm"}),className:"btn btn-sm btn-warning services-config-editor-confirm-close"},onConfirm:this.onClose,bsStyle:"primary",text:m.createElement(g,{glyph:c})}):m.createElement("button",{onClick:this.onClose,className:"close"},c?m.createElement(g,{glyph:c}):m.createElement("span",null,""))),m.createElement("div",{role:"body",className:"services-config-editor"},m.createElement(b.Element,{services:f.services,override:f.override,onPropertyChange:u,service:p})),this.renderFooter())):null}}])&&s(t.prototype,r),n&&s(t,n),u}(m.Component);f(L,"propTypes",{id:R.string,enabled:R.bool,panelStyle:R.object,panelClassName:R.string,containerClassName:R.string,closeGlyph:R.string,titleText:R.oneOfType([R.string,R.element]),toggleControl:R.func,pages:R.arrayOf(R.shape({Element:R.func.isRequired,validate:R.func.isRequired})),page:R.number,service:R.object,initServiceValues:R.object,onPropertyChange:R.func,newService:R.object.isRequired,updateService:R.func,restServiceConfig:R.func,textSearchConfig:R.object,editIdx:R.number}),f(L,"defaultProps",{id:"search-services-config-editor",enabled:!1,panelStyle:{minWidth:"400px",zIndex:2e3,position:"absolute",top:"100px",minHeight:"300px",left:"calc(50% - 150px)",backgroundColor:"white"},panelClassName:"toolbar-panel",containerClassName:"",closeGlyph:"1-close",titleText:m.createElement(O,{msgId:"search.configpaneltitle"}),closePanel:function(){},onPropertyChange:function(){},page:0,newService:{type:"wfs",name:"",displayName:"",subTitle:"",priority:1,options:{url:"",typeName:"",queriableAttributes:"",sortBy:"",maxFeatures:5,srsName:"EPSG:4326"}}});var D=y((function(e){var t=e.controls,r=void 0===t?{}:t,n=e.searchconfig,o=void 0===n?{}:n;return{enabled:r.searchservicesconfig&&r.searchservicesconfig.enabled||!1,pages:[A,C,_,I],page:o&&o.page||0,service:o&&o.service,initServiceValues:o&&o.init_service_values,textSearchConfig:o&&o.textSearchConfig,editIdx:o&&o.editIdx}}),{toggleControl:E,onPropertyChange:P,restServiceConfig:M,updateService:T})(L);e.exports={SearchServicesConfigPlugin:D,reducers:{searchconfig:r("./MapStore2/web/client/reducers/searchconfig.js").default}}},"./MapStore2/web/client/plugins/StyleEditor.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-redux/es/index.js").connect,b=r("./node_modules/reselect/es/index.js").createSelector,g=r("./node_modules/recompose/es/Recompose.js"),h=g.compose,v=g.branch,S=g.toClass,w=g.lifecycle,O=r("./node_modules/object-assign/index.js"),j=r("./MapStore2/node_modules/lodash/lodash.js"),E=j.isArray,x=j.isString,P=r("./MapStore2/web/client/components/misc/Loader.jsx"),T=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),M=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),A=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),C=r("./MapStore2/web/client/components/I18N/HTML.jsx"),_=r("./MapStore2/web/client/selectors/styleeditor.js"),I=_.statusStyleSelector,R=_.loadingStyleSelector,L=_.getUpdatedLayer,D=_.errorStyleSelector,k=_.canEditStyleSelector,N=_.styleServiceSelector,F=r("./MapStore2/web/client/selectors/security.js").userRoleSelector,G=r("./MapStore2/web/client/actions/styleeditor.js"),U=G.initStyleService,B=G.toggleStyleEditor,z=r("./MapStore2/web/client/actions/layers.js").updateSettingsParams,W=r("./MapStore2/web/client/plugins/styleeditor/index.js").default,V=W.StyleSelector,H=W.StyleToolbar,q=W.StyleCodeEditor,Y=r("./MapStore2/web/client/utils/StyleEditorUtils.js").isSameOrigin,Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,r,n,o=c(i);function i(){return a(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=!this.props.editingAllowedRoles||E(this.props.editingAllowedRoles)&&x(this.props.userRole)&&-1!==this.props.editingAllowedRoles.indexOf(this.props.userRole);this.props.onInit(this.props.styleService,e&&Y(this.props.layer,this.props.styleService))}},{key:"render",value:function(){return f.createElement(T,{className:"ms-style-editor-container",header:this.props.showToolbar?f.createElement("div",{className:"ms-style-editor-container-header"},this.props.header,f.createElement("div",{className:"text-center"},f.createElement(H,{enableSetDefaultStyle:this.props.enableSetDefaultStyle}))):null,footer:f.createElement("div",{style:{height:25}})},this.props.isEditing?f.createElement(q,{config:this.props.editorConfig}):f.createElement(V,{showDefaultStyleIcon:this.props.canEdit&&this.props.enableSetDefaultStyle}))}}])&&s(t.prototype,r),n&&s(t,n),i}(f.Component);d(Z,"propTypes",{layer:m.object,header:m.node,isEditing:m.bool,showToolbar:m.node.bool,onInit:m.func,styleService:m.object,userRole:m.string,editingAllowedRoles:m.array,enableSetDefaultStyle:m.bool,canEdit:m.bool,editorConfig:m.object}),d(Z,"defaultProps",{layer:{},onInit:function(){},editingAllowedRoles:["ADMIN"],editorConfig:{}});var Q=h(S,v((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.active;return!t}),(function(){return function(){return null}})),y(b([I,R,L,D,F,k,N],(function(e,t,r,n,o,i,a){return{isEditing:"edit"===e,loading:t,layer:r,error:!(!n||!n.availableStyles),userRole:o,canEdit:i,styleService:a}})),{onInit:U,onUpdateParams:z},(function(e,t,r){var n,i,a,s=(null===(n=r.styleService)||void 0===n?void 0:n.baseUrl)===(null===(i=e.styleService)||void 0===i?void 0:i.baseUrl)&&(null===(a=e.styleService)||void 0===a?void 0:a.isStatic),l=r.styleService&&!s?o(o({},r.styleService),{},{isStatic:!0}):o({},e.styleService);return o(o(o(o({},r),e),t),{},{styleService:l})})),A((function(e){return e.error}),{glyph:"exclamation-mark",title:f.createElement(C,{msgId:"styleeditor.missingAvailableStyles"}),description:f.createElement(C,{msgId:"styleeditor.missingAvailableStylesMessage"}),style:{display:"flex",width:"100%",height:"100%",overflow:"hidden"},mainViewStyle:{margin:"auto",width:300}}),M((function(e){return"global"===e.loading}),{size:150,style:{margin:"auto"}},(function(e){return f.createElement("div",{style:{position:"relative",height:"100%",display:"flex"}},f.createElement(P,e))})),h(y((function(){return{}}),{toggleStyleEditor:B}),w({componentDidMount:function(){this.props.toggleStyleEditor(null,!0)}})))(Z);e.exports={StyleEditorPlugin:O(Q,{TOC:{priority:1,container:"TOCItemSettings"},TOCItemsSettings:{name:"StyleEditor",target:"style",priority:1,ToolbarComponent:H}}),reducers:{styleeditor:r("./MapStore2/web/client/reducers/styleeditor.js").default},epics:r("./MapStore2/web/client/epics/styleeditor.js")}},"./MapStore2/web/client/plugins/TOC.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/prop-types/index.js"),m=r("./node_modules/react/index.js"),y=r("./node_modules/react-redux/es/index.js").connect,b=r("./node_modules/reselect/es/index.js").createSelector,g=r("./node_modules/recompose/es/Recompose.js"),h=g.compose,v=g.branch,S=g.withPropsOnChange,w=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,O=r("./MapStore2/web/client/actions/layers.js"),j=O.changeLayerProperties,E=O.changeGroupProperties,x=O.toggleNode,P=O.contextNode,T=O.moveNode,M=O.showSettings,A=O.hideSettings,C=O.updateSettings,_=O.updateNode,I=O.removeNode,R=O.browseData,L=O.selectNode,D=O.filterLayers,k=O.refreshLayerVersion,N=O.hideLayerMetadata,F=O.download,G=r("./MapStore2/web/client/actions/swipe.js"),U=G.setActive,B=G.setMode,z=r("./MapStore2/web/client/actions/layerFilter.js").openQueryBuilder,W=r("./MapStore2/web/client/actions/layerCapabilities.js").getLayerCapabilities,V=r("./MapStore2/web/client/actions/map.js").zoomToExtent,H=r("./MapStore2/web/client/actions/notifications.js").error,q=r("./MapStore2/web/client/selectors/layers.js"),Y=q.groupsSelector,Z=q.layersSelector,Q=q.selectedNodesSelector,K=q.layerFilterSelector,X=q.layerSettingSelector,J=q.layerMetadataSelector,$=q.wfsDownloadSelector,ee=r("./MapStore2/web/client/selectors/swipe.js").layerSwipeSettingsSelector,te=r("./MapStore2/web/client/selectors/map.js"),re=te.mapSelector,ne=te.mapNameSelector,oe=r("./MapStore2/web/client/selectors/locale.js"),ie=oe.currentLocaleSelector,ae=oe.currentLocaleLanguageSelector,se=r("./MapStore2/web/client/selectors/controls.js").widgetBuilderAvailable,le=r("./MapStore2/web/client/selectors/mapInfo.js").generalInfoFormatSelector,ce=r("./MapStore2/web/client/selectors/security.js").userSelector,ue=r("./MapStore2/web/client/selectors/localizedLayerStyles.js").isLocalizedLayerStylesEnabledSelector,pe=r("./MapStore2/web/client/utils/LayersUtils.js"),de=r("./MapStore2/web/client/utils/MapUtils.js"),fe=r("./MapStore2/web/client/utils/LocaleUtils.js"),me=r("./MapStore2/web/client/components/I18N/Message.jsx"),ye=r("./node_modules/object-assign/index.js"),be=r("./MapStore2/web/client/plugins/toolbar/assets/img/layers.png"),ge=r("./MapStore2/node_modules/lodash/lodash.js"),he=ge.isObject,ve=ge.head,Se=ge.find,we=r("./MapStore2/web/client/actions/controls.js"),Oe=we.setControlProperties,je=we.setControlProperty,Ee=r("./MapStore2/web/client/actions/widgets.js").createWidget,xe=r("./MapStore2/web/client/actions/catalog.js").getMetadataRecordById,Pe=r("./MapStore2/web/client/selectors/catalog.js").activeSelector,Te=r("./MapStore2/web/client/selectors/maptype.js").isCesium,Me=function e(t,r){return t.reduce((function(t,n){var o=ye({},n);return o.nodes&&(o=ye({},o,{nodes:e(o.nodes,r)})),r.forEach((function(e){o=e.func(o)?ye({},o,e.options):ye({},o)})),t.push(o),t}),[])},Ae=function(e,t,r){return-1!==((he(e.title)?e.title[r]||e.title.default:e.title)||e.name).toLowerCase().indexOf(t.toLowerCase())},Ce=b([function(e){return e.controls&&e.controls.toolbar&&"toc"===e.controls.toolbar.active},Y,X,ee,J,$,re,ie,ae,Q,K,Z,ne,Pe,se,le,Te,ce,ue],(function(e,t,r,n,o,i,a,s,l,c,u,p,d,f,m,y,b,g,h){return{enabled:e,groups:t,settings:r,swipeSettings:n,layerMetadata:o,wfsdownload:i,currentZoomLvl:a&&a.zoom,scales:de.getScales(a&&a.projection||"EPSG:3857",a&&a.mapOptions&&a.mapOptions.view&&a.mapOptions.view.DPI||null),currentLocale:s,currentLocaleLanguage:l,selectedNodes:c,filterText:u,generalInfoFormat:y,selectedLayers:p.filter((function(e){return ve(c.filter((function(t){return t===e.id})))})),noFilterResults:0===p.filter((function(e){return Ae(e,u,s)})).length,updatableLayersCount:p.filter((function(e){return"background"!==e.group&&("wms"===e.type||"wmts"===e.type)})).length,selectedGroups:c.map((function(e){return pe.getNode(t,e)})).filter((function(e){return e&&e.nodes})),mapName:d,filteredGroups:Me(t,[{options:{showComponent:!0},func:function(){return!u}},{options:{loadingError:!0},func:function(e){return ve((e.nodes||[]).filter((function(e){return e.loadingError&&"Warning"!==e.loadingError})))}},{options:{expanded:!0,showComponent:!0},func:function(e){return u&&ve((e.nodes||[]).filter((function(t){return Ae(t,u,s)||t.nodes&&ve(e.nodes.filter((function(e){return e.showComponent})))})))}},{options:{showComponent:!1},func:function(e){return ve((e.nodes||[]).filter((function(e){return e.hidden||"annotations"===e.id&&b})))&&1===e.nodes.length}},{options:{showComponent:!1},func:function(e){return"annotations"===e.id&&b}}]),catalogActive:f,activateWidgetTool:m,user:g,isLocalizedLayerStylesEnabled:h}})),_e=r("./MapStore2/web/client/components/TOC/TOC.jsx"),Ie=r("./MapStore2/web/client/components/TOC/Header.jsx"),Re=r("./MapStore2/web/client/components/TOC/Toolbar.jsx"),Le=r("./MapStore2/web/client/components/TOC/DefaultGroup.jsx"),De=r("./MapStore2/web/client/components/TOC/DefaultLayer.jsx"),ke=r("./MapStore2/web/client/components/TOC/DefaultLayerOrGroup.jsx"),Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,r,n,c=l(p);function p(){var e;i(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=c.call.apply(c,[this].concat(r))),"getNoBackgroundLayers",(function(e){return"background"!==e.name})),d(u(e),"getDefaultGroup",(function(){var t=e.props.groupNodeComponent||Le;return m.createElement(t,o({onSort:!e.props.filterText&&e.props.activateSortLayer?e.props.onSort:null},e.props.groupOptions,{titleTooltip:e.props.activateTitleTooltip,propertiesChangeHandler:e.props.groupPropertiesChangeHandler,onToggle:e.props.onToggleGroup,style:e.props.groupStyle,groupVisibilityCheckbox:!0,visibilityCheckType:e.props.visibilityCheckType,currentLocale:e.props.currentLocale,selectedNodes:e.props.selectedNodes,onSelect:e.props.activateToolsContainer?e.props.onSelectNode:null}))})),d(u(e),"getDefaultLayer",(function(){var t=e.props.layerNodeComponent||De;return m.createElement(t,o({},e.props.layerOptions,{titleTooltip:e.props.activateTitleTooltip,showFullTitleOnExpand:e.props.showFullTitleOnExpand,onToggle:e.props.onToggleLayer,activateOpacityTool:e.props.activateOpacityTool,onContextMenu:e.props.onContextMenu,propertiesChangeHandler:e.props.layerPropertiesChangeHandler,onSelect:e.props.activateToolsContainer?e.props.onSelectNode:null,visibilityCheckType:e.props.visibilityCheckType,activateLegendTool:e.props.activateLegendTool,currentZoomLvl:e.props.currentZoomLvl,scales:e.props.scales,currentLocale:e.props.currentLocale,selectedNodes:e.props.selectedNodes,filterText:e.props.filterText,onUpdateNode:e.props.updateNode,hideOpacityTooltip:e.props.hideOpacityTooltip,language:e.props.isLocalizedLayerStylesEnabled?e.props.currentLocaleLanguage:null}))})),d(u(e),"renderTOC",(function(){var t=e.getDefaultGroup(),r=e.getDefaultLayer(),n=[e.props.activateToolsContainer,e.props.activateFilterLayer,e.props.activateMapTitle].filter((function(e){return e})),o=n.length>0?" toc-body-sections-"+n.length:" toc-body-sections";return m.createElement("div",null,m.createElement(Ie,{title:e.props.mapName,showTitle:e.props.activateMapTitle,showFilter:e.props.activateFilterLayer&&(e.props.groups.filter((function(e){return(e.nodes||[]).length}))||[]).length,showTools:e.props.activateToolsContainer,onClear:function(){e.props.onSelectNode()},onFilter:e.props.onFilter,filterTooltipClear:m.createElement(me,{msgId:"toc.clearFilter"}),filterPlaceholder:fe.getMessageById(e.context.messages,"toc.filterPlaceholder"),filterText:e.props.filterText,toolbar:m.createElement(Re,{groups:e.props.groups,selectedLayers:e.props.selectedLayers,selectedGroups:e.props.selectedGroups,generalInfoFormat:e.props.generalInfoFormat,settings:e.props.settings,swipeSettings:e.props.swipeSettings,layerMetadata:e.props.layerMetadata,wfsdownload:e.props.wfsdownload,metadataTemplate:e.props.metadataTemplate,maxDepth:e.props.maxDepth,activateTool:{activateToolsContainer:e.props.activateToolsContainer,activateRemoveLayer:e.props.activateRemoveLayer,activateRemoveGroup:e.props.activateRemoveGroup,activateZoomTool:e.props.activateZoomTool,activateQueryTool:e.props.activateQueryTool,activateDownloadTool:e.props.activateDownloadTool,activateSettingsTool:e.props.activateSettingsTool,activateAddLayer:e.props.activateAddLayerButton&&!e.props.catalogActive,activateAddGroup:e.props.activateAddGroupButton,includeDeleteButtonInSettings:!1,activateMetedataTool:e.props.activateMetedataTool,activateWidgetTool:e.props.activateWidgetTool,activateLayerFilterTool:e.props.activateLayerFilterTool,activateLayerInfoTool:e.props.updatableLayersCount>0&&e.props.activateLayerInfoTool,activateSwipeOnLayer:e.props.activateSwipeOnLayer},options:{modalOptions:{},metadataOptions:e.props.metadataOptions,settingsOptions:e.props.settingsOptions},style:{chartStyle:e.props.chartStyle},text:{settingsText:m.createElement(me,{msgId:"layerProperties.windowTitle"}),opacityText:m.createElement(me,{msgId:"opacity"}),elevationText:m.createElement(me,{msgId:"elevation"}),saveText:m.createElement(me,{msgId:"save"}),closeText:m.createElement(me,{msgId:"close"}),confirmDeleteText:m.createElement(me,{msgId:"layerProperties.deleteLayer"}),confirmDeleteMessage:m.createElement(me,{msgId:"layerProperties.deleteLayerMessage"}),confirmDeleteLayerGroupText:m.createElement(me,{msgId:"layerProperties.deleteLayerGroup"}),confirmDeleteLayerGroupMessage:m.createElement(me,{msgId:"layerProperties.deleteLayerGroupMessage"}),confirmDeleteConfirmText:m.createElement(me,{msgId:"layerProperties.delete"}),confirmDeleteCancelText:m.createElement(me,{msgId:"cancel"}),addLayer:m.createElement(me,{msgId:"toc.addLayer"}),addLayerTooltip:m.createElement(me,{msgId:"toc.addLayer"}),addLayerToGroupTooltip:m.createElement(me,{msgId:"toc.addLayerToGroup"}),addGroupTooltip:m.createElement(me,{msgId:"toc.addGroup"}),addSubGroupTooltip:m.createElement(me,{msgId:"toc.addSubGroup"}),createWidgetTooltip:m.createElement(me,{msgId:"toc.createWidget"}),zoomToTooltip:{LAYER:m.createElement(me,{msgId:"toc.toolZoomToLayerTooltip"}),LAYERS:m.createElement(me,{msgId:"toc.toolZoomToLayersTooltip"})},settingsTooltip:{LAYER:m.createElement(me,{msgId:"toc.toolLayerSettingsTooltip"}),GROUP:m.createElement(me,{msgId:"toc.toolGroupSettingsTooltip"})},featuresGridTooltip:m.createElement(me,{msgId:"toc.toolFeaturesGridTooltip"}),downloadToolTooltip:m.createElement(me,{msgId:"toc.toolDownloadTooltip"}),trashTooltip:{LAYER:m.createElement(me,{msgId:"toc.toolTrashLayerTooltip"}),LAYERS:m.createElement(me,{msgId:"toc.toolTrashLayersTooltip"}),GROUP:m.createElement(me,{msgId:"toc.toolTrashGroupTooltip"})},reloadTooltip:{LAYER:m.createElement(me,{msgId:"toc.toolReloadLayerTooltip"}),LAYERS:m.createElement(me,{msgId:"toc.toolReloadLayersTooltip"})},layerMetadataTooltip:m.createElement(me,{msgId:"toc.layerMetadata.toolLayerMetadataTooltip"}),layerMetadataPanelTitle:m.createElement(me,{msgId:"toc.layerMetadata.layerMetadataPanelTitle"}),layerFilterTooltip:m.createElement(me,{msgId:"toc.layerFilterTooltip"}),layerInfoTooltip:m.createElement(me,{msgId:"toc.layerInfoTooltip"})},onToolsActions:{onZoom:e.props.onZoomToExtent,onNewWidget:e.props.onNewWidget,onBrowseData:e.props.onBrowseData,onQueryBuilder:e.props.onQueryBuilder,onDownload:e.props.onDownload,onUpdate:e.props.updateNode,onRemove:e.props.removeNode,onClear:e.props.onSelectNode,onSettings:e.props.onSettings,onUpdateSettings:e.props.updateSettings,onRetrieveLayerData:e.props.retrieveLayerData,onHideSettings:e.props.hideSettings,onReload:e.props.refreshLayerVersion,onAddLayer:e.props.onAddLayer,onAddGroup:e.props.onAddGroup,onGetMetadataRecord:e.props.onGetMetadataRecord,onHideLayerMetadata:e.props.hideLayerMetadata,onShow:e.props.layerPropertiesChangeHandler,onLayerInfo:e.props.onLayerInfo,onSetActive:e.props.onSetActive,onSetSwipeMode:e.props.onSetSwipeMode}})}),m.createElement("div",{className:"mapstore-toc"+o},e.props.noFilterResults&&e.props.filterText?m.createElement("div",null,m.createElement("div",{className:"toc-filter-no-results"},m.createElement(me,{msgId:"toc.noFilteredResults"}))):m.createElement(_e,{onError:e.props.onError,onSort:!e.props.filterText&&e.props.activateSortLayer?e.props.onSort:null,filter:e.getNoBackgroundLayers,nodes:e.props.filteredGroups},m.createElement(ke,{groupElement:t,layerElement:r}))))})),e}return t=p,(r=[{key:"render",value:function(){return this.props.groups?this.renderTOC():m.createElement("div",null)}}])&&a(t.prototype,r),n&&a(t,n),p}(m.Component);d(Ne,"propTypes",{id:f.number,items:f.array,buttonContent:f.node,groups:f.array,settings:f.object,swipeSettings:f.object,layerMetadata:f.object,wfsdownload:f.object,metadataTemplate:f.oneOfType([f.string,f.array,f.object,f.func]),refreshMapEnabled:f.bool,groupStyle:f.object,groupPropertiesChangeHandler:f.func,layerPropertiesChangeHandler:f.func,onToggleGroup:f.func,onToggleLayer:f.func,onContextMenu:f.func,onBrowseData:f.func,onQueryBuilder:f.func,onDownload:f.func,onSelectNode:f.func,selectedNodes:f.array,onZoomToExtent:f.func,retrieveLayerData:f.func,onSort:f.func,onSettings:f.func,onRefreshLayer:f.func,onNewWidget:f.func,hideSettings:f.func,updateSettings:f.func,updateNode:f.func,removeNode:f.func,activateTitleTooltip:f.bool,showFullTitleOnExpand:f.bool,activateOpacityTool:f.bool,activateSortLayer:f.bool,activateFilterLayer:f.bool,activateMapTitle:f.bool,activateToolsContainer:f.bool,activateRemoveLayer:f.bool,activateRemoveGroup:f.bool,activateLegendTool:f.bool,activateZoomTool:f.bool,activateQueryTool:f.bool,activateDownloadTool:f.bool,activateSettingsTool:f.bool,activateMetedataTool:f.bool,activateWidgetTool:f.bool,activateLayerInfoTool:f.bool,activateSwipeOnLayer:f.bool,maxDepth:f.number,visibilityCheckType:f.string,settingsOptions:f.object,chartStyle:f.object,currentZoomLvl:f.number,scales:f.array,layerOptions:f.object,metadataOptions:f.object,spatialOperations:f.array,spatialMethodOptions:f.array,groupOptions:f.object,currentLocale:f.string,currentLocaleLanguage:f.string,onFilter:f.func,filterText:f.string,generalInfoFormat:f.string,selectedLayers:f.array,selectedGroups:f.array,mapName:f.string,filteredGroups:f.array,noFilterResults:f.bool,onAddLayer:f.func,onAddGroup:f.func,onError:f.func,onGetMetadataRecord:f.func,hideLayerMetadata:f.func,activateAddLayerButton:f.bool,activateAddGroupButton:f.bool,activateLayerFilterTool:f.bool,catalogActive:f.bool,refreshLayerVersion:f.func,hideOpacityTooltip:f.bool,layerNodeComponent:f.func,groupNodeComponent:f.func,isLocalizedLayerStylesEnabled:f.bool,onLayerInfo:f.func,onSetSwipeActive:f.func,updatableLayersCount:f.number,onSetActive:f.func,onSetSwipeMode:f.func}),d(Ne,"contextTypes",{messages:f.object}),d(Ne,"defaultProps",{items:[],groupPropertiesChangeHandler:function(){},layerPropertiesChangeHandler:function(){},retrieveLayerData:function(){},onToggleGroup:function(){},onToggleLayer:function(){},onContextMenu:function(){},onToggleQuery:function(){},onZoomToExtent:function(){},onSettings:function(){},onRefreshLayer:function(){},onNewWidget:function(){},updateNode:function(){},removeNode:function(){},onSelectNode:function(){},selectedNodes:[],activateOpacityTool:!0,activateTitleTooltip:!0,showFullTitleOnExpand:!1,activateSortLayer:!0,activateFilterLayer:!0,activateMapTitle:!0,activateToolsContainer:!0,activateLegendTool:!0,activateZoomTool:!0,activateSettingsTool:!0,activateMetedataTool:!0,activateRemoveLayer:!0,activateRemoveGroup:!0,activateQueryTool:!0,activateDownloadTool:!1,activateWidgetTool:!1,activateLayerFilterTool:!1,activateLayerInfoTool:!0,activateSwipeOnLayer:!1,maxDepth:3,visibilityCheckType:"glyph",settingsOptions:{includeCloseButton:!1,closeGlyph:"1-close",buttonSize:"small",showFeatureInfoTab:!0},layerOptions:{},metadataOptions:{},groupOptions:{},spatialOperations:[{id:"INTERSECTS",name:"queryform.spatialfilter.operations.intersects"},{id:"BBOX",name:"queryform.spatialfilter.operations.bbox"},{id:"CONTAINS",name:"queryform.spatialfilter.operations.contains"},{id:"WITHIN",name:"queryform.spatialfilter.operations.within"}],spatialMethodOptions:[{id:"Viewport",name:"queryform.spatialfilter.methods.viewport"},{id:"BBOX",name:"queryform.spatialfilter.methods.box"},{id:"Circle",name:"queryform.spatialfilter.methods.circle"},{id:"Polygon",name:"queryform.spatialfilter.methods.poly"}],currentLocale:"en-US",filterText:"",selectedLayers:[],selectedGroups:[],mapName:"",filteredGroups:[],noFilterResults:!1,onAddLayer:function(){},onAddGroup:function(){},onError:function(){},onGetMetadataRecord:function(){},hideLayerMetadata:function(){},activateAddLayerButton:!1,activateAddGroupButton:!1,catalogActive:!1,refreshLayerVersion:function(){},metadataTemplate:null,onLayerInfo:function(){},onSetActive:function(){},onSetSwipeMode:function(){}});var Fe=S(["user","addLayersPermissions","activateAddLayerButton","removeLayersPermissions","activateRemoveLayer","sortingPermission","activateRemoveLayer","addGroupsPermissions","activateAddGroupButton","removeGroupsPermissions","activateRemoveGroup","layerInfoToolPermissions","activateLayerInfoTool"],(function(e){var t=e.addLayersPermissions,r=void 0===t||t,n=e.removeLayersPermissions,o=void 0===n||n,i=e.sortingPermissions,a=void 0===i||i,s=e.addGroupsPermissions,l=void 0===s||s,c=e.removeGroupsPermissions,u=void 0===c||c,p=e.layerInfoToolPermissions,d=void 0!==p&&p,f=e.activateAddLayerButton,m=e.activateRemoveLayer,y=e.activateSortLayer,b=e.activateAddGroupButton,g=e.activateRemoveGroup,h=e.activateLayerInfoTool,v=e.user,S=function(e,t){var r=v&&"ADMIN"===v.role||!1;return!(!e&&!r)&&t};return{activateAddLayerButton:S(r,f),activateRemoveLayer:S(o,m),activateSortLayer:S(a,y),activateAddGroupButton:S(l,b),activateRemoveGroup:S(u,g),activateLayerInfoTool:S(d,h)}})),Ge=v((function(e){var t=e.checkPlugins;return void 0===t||t}),S(["items","activateAddLayerButton","activateAddGroupButton","activateLayerFilterTool","activateSettingsTool","FeatureEditor","activateLayerInfoTool","activateSwipeOnLayer"],(function(e){var t=e.items,r=void 0===t?[]:t,n=e.activateAddLayerButton,o=void 0===n||n,i=e.activateAddGroupButton,a=void 0===i||i,s=e.activateQueryTool,l=void 0===s||s,c=e.activateSettingsTool,u=void 0===c||c,p=e.activateLayerFilterTool,d=void 0===p||p,f=e.activateWidgetTool,m=void 0===f||f,y=e.activateLayerInfoTool,b=void 0===y||y,g=e.activateSwipeOnLayer,h=void 0===g||g;return{activateAddLayerButton:o&&!!Se(r,{name:"MetadataExplorer"})||!1,activateAddGroupButton:a&&!!Se(r,{name:"AddGroup"})||!1,activateSettingsTool:u&&!!Se(r,{name:"TOCItemsSettings"})||!1,activateQueryTool:l&&!!Se(r,{name:"FeatureEditor"})||!1,activateLayerFilterTool:d&&!!Se(r,{name:"FilterLayer"})||!1,activateWidgetTool:m&&!!Se(r,{name:"WidgetBuilder"})&&!!Se(r,{name:"Widgets"}),activateLayerInfoTool:b&&!!Se(r,{name:"LayerInfo"})||!1,activateSwipeOnLayer:h&&!!Se(r,{name:"Swipe"})||!1}}))),Ue=y(Ce,{groupPropertiesChangeHandler:E,layerPropertiesChangeHandler:j,retrieveLayerData:W,onToggleGroup:pe.toggleByType("groups",x),onToggleLayer:pe.toggleByType("layers",x),onContextMenu:P,onBrowseData:R,onQueryBuilder:z,onDownload:F,onSort:T,onSettings:M,onZoomToExtent:V,hideSettings:A,updateSettings:C,updateNode:_,removeNode:I,onSelectNode:L,onFilter:D,onAddLayer:Oe.bind(null,"metadataexplorer","enabled",!0,"group"),onAddGroup:Oe.bind(null,"addgroup","enabled",!0,"parent"),onGetMetadataRecord:xe,onError:H,hideLayerMetadata:N,onNewWidget:function(){return Ee()},refreshLayerVersion:k,onLayerInfo:je.bind(null,"layerinfo","enabled",!0,!1),onSetActive:U,onSetSwipeMode:B})(h(Fe,Ge)(Ne)),Be=r("./MapStore2/web/client/api/catalog/index.js").default;e.exports={TOCPlugin:ye(Ue,{Toolbar:{name:"toc",position:7,exclusive:!0,panel:!0,help:m.createElement(me,{msgId:"helptexts.layerSwitcher"}),tooltip:"layers",wrap:!0,title:"layers",icon:m.createElement(w,{glyph:"1-layer"}),priority:1},DrawerMenu:{name:"toc",position:1,glyph:"1-layer",icon:m.createElement("img",{src:be}),buttonConfig:{buttonClassName:"square-button no-border",tooltip:"toc.layers"},priority:2}}),reducers:{queryform:r("./MapStore2/web/client/reducers/queryform.js").default,query:r("./MapStore2/web/client/reducers/query.js").default},epics:r("./MapStore2/web/client/epics/catalog.js").default(Be)}},"./MapStore2/web/client/plugins/TOCItemsSettings.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react-redux/es/index.js"),o=r("./node_modules/prop-types/index.js"),i=r.n(o),a=r("./node_modules/reselect/es/index.js"),s=r("./node_modules/recompose/es/Recompose.js"),l=r("./MapStore2/web/client/utils/PluginsUtils.js"),c=r("./MapStore2/web/client/utils/LayersUtils.js"),u=r.n(c),p=r("./MapStore2/web/client/actions/layers.js"),d=r("./MapStore2/web/client/actions/layerCapabilities.js"),f=r("./MapStore2/web/client/components/TOC/enhancers/tocItemsSettings.js"),m=r("./MapStore2/web/client/components/TOC/TOCItemsSettings.jsx"),y=r.n(m),b=r("./node_modules/react/index.js"),g=r.n(b),h=r("./MapStore2/web/client/components/I18N/Message.jsx"),v=r.n(h),S=r("./MapStore2/node_modules/lodash/lodash.js"),w=r("./node_modules/react-bootstrap/es/index.js"),O=r("./MapStore2/web/client/components/data/identify/viewers/HTMLViewer.jsx"),j=r.n(O),E=r("./MapStore2/web/client/components/data/identify/viewers/TextViewer.jsx"),x=r.n(E),P=r("./MapStore2/web/client/components/data/identify/viewers/JSONViewer.jsx"),T=r.n(P),M=r("./MapStore2/web/client/components/misc/HtmlRenderer.jsx"),A=r.n(M),C=r("./MapStore2/web/client/utils/MapInfoUtils.js"),_=r.n(C),I=r("./MapStore2/web/client/components/TOC/fragments/settings/General.jsx"),R=r.n(I),L=r("./MapStore2/web/client/components/TOC/fragments/settings/Display.jsx"),D=r.n(L),k=r("./MapStore2/web/client/components/TOC/fragments/settings/Elevation.jsx"),N=r.n(k),F=r("./MapStore2/web/client/components/TOC/fragments/settings/FeatureInfoEditor.jsx"),G=r.n(F),U=r("./MapStore2/web/client/components/misc/LoadingView.jsx"),B=r.n(U),z=r("./node_modules/raw-loader/index.js!./MapStore2/web/client/plugins/tocitemssettings/featureInfoPreviews/responseHTML.txt"),W=r.n(z),V=r("./node_modules/raw-loader/index.js!./MapStore2/web/client/plugins/tocitemssettings/featureInfoPreviews/responseJSON.txt"),H=r.n(V),q=r("./node_modules/raw-loader/index.js!./MapStore2/web/client/plugins/tocitemssettings/featureInfoPreviews/responseText.txt"),Y=r.n(q),Z=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),Q=r.n(Z),K=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),X=r.n(K),J=r("./MapStore2/web/client/components/widgets/enhancers/wfsTable/describeFetch.js"),$=r.n(J),ee=(r("./MapStore2/web/client/libs/bindings/rxjsRecompose.js"),r("./MapStore2/web/client/utils/ColorUtils.js")),te=r("./MapStore2/web/client/components/style/StylePoint.jsx"),re=r.n(te),ne=r("./MapStore2/web/client/components/style/StylePolygon.jsx"),oe=r.n(ne),ie=r("./MapStore2/web/client/components/style/StylePolyline.jsx"),ae=r.n(ie),se=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=Object(s.compose)(Object(s.withProps)((function(e){var t=e.style,r=void 0===t?{}:t,n=e.styleName,o=r.fillColor,i=r.fillOpacity,a=r.color,s=r.opacity,l=r.shapeStyle,c=r.weight,u=r.radius;return{shapeStyle:ce(ce({},l),{},{marker:"marker"===n,radius:u,width:c,fill:Object(ee.colorToRgbaStr)(o,i),color:Object(ee.colorToRgbaStr)(a,s)})}})),Object(s.withHandlers)({setStyleParameter:function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.style,o=void 0===n?{}:n;return function(e,t){switch(e){case"fill":var n=t.r,i=t.g,a=t.b,s=t.a;r("style",ce(ce({},o),{},{fillColor:"rgb(".concat(n,", ").concat(i,", ").concat(a,")"),fillOpacity:s}));break;case"color":var l=t.r,c=t.g,u=t.b,p=t.a;r("style",ce(ce({},o),{},{color:"rgb(".concat(l,", ").concat(c,", ").concat(u,")"),opacity:p}));break;case"width":r("style",ce(ce({},o),{},{weight:t}));break;case"marker":r("styleName",t?"marker":void 0);break;default:r("style",ce(ce({},o),{},ue({},e,t)))}}}})),de={Polygon:pe(oe.a),MultiPolygon:pe(oe.a),GeometryCollection:pe(oe.a),LineString:pe(ae.a),MultiLineString:pe(ae.a),MultiPoint:pe(re.a),Point:pe(re.a)},fe=Object(s.branch)((function(e){var t=e.element;return"wfs"===(void 0===t?{}:t).type}),Object(s.mapPropsStream)((function(e){return e.combineLatest(e.map((function(e){return{layer:e.element}})).let($.a).map((function(e){var t=e.error,r=e.loading,n=e.describeFeatureType;return{error:t,loading:r,geometryType:!t&&!r&&n&&Object(se.extractGeometryType)(n)}})),(function(e,t){var r=t.geometryType,n=t.error,o=t.loading;return ce(ce({},e),{},{geometryType:r,error:n,loading:o})}))})),Object(s.withProps)((function(e){var t=e.element;return{geometryType:t&&t.features&&t.features[0].geometry&&t.features[0].geometry.type}}))),me=Object(s.compose)(fe,Q()(),X()((function(e){return!e.geometryType})))((function(e){var t=e.geometryType,r=e.element,n=void 0===r?{}:r,o=e.onChange,i=void 0===o?function(){}:o,a=de[t];return g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",null,"",g.a.createElement(v.a,{msgId:"layerProperties.style"})),g.a.createElement(a,{styleName:n.styleName,style:n.style,onChange:i}))})),ye=r("./MapStore2/web/client/plugins/styleeditor/index.js"),be=r("./MapStore2/web/client/components/TOC/fragments/settings/FeatureInfo.jsx"),ge=r.n(be);function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var xe={html:W.a,json:JSON.parse(H.a),text:Y.a},Pe=Object(s.defaultProps)({readOnly:!0})(ye.StyleSelector),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings,r=void 0===t?{}:t;return"layers"===r.nodeType},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,r=void 0===t?{}:t;return"wfs"===r.type||"vector"===r.type&&"annotations"!==r.id},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,r=void 0===t?{}:t;return"wms"===r.type},Ce=function(e){return Te(e)&&(Ae(e)||Me(e))},_e={TEXT:{titleId:"layerProperties.textFormatTitle",descId:"layerProperties.textFormatDescription",glyph:"ext-txt",body:function(){return g.a.createElement("div",null,g.a.createElement("div",null,g.a.createElement(v.a,{msgId:"layerProperties.exampleOfResponse"})),g.a.createElement("br",null),g.a.createElement(x.a,{response:xe.text}))}},HTML:{titleId:"layerProperties.htmlFormatTitle",descId:"layerProperties.htmlFormatDescription",glyph:"ext-html",body:function(){return g.a.createElement("div",null,g.a.createElement("div",null,g.a.createElement(v.a,{msgId:"layerProperties.exampleOfResponse"})),g.a.createElement("br",null),g.a.createElement(j.a,{response:xe.html}))}},PROPERTIES:{titleId:"layerProperties.propertiesFormatTitle",descId:"layerProperties.propertiesFormatDescription",glyph:"ext-json",body:function(){return g.a.createElement("div",null,g.a.createElement("div",null,g.a.createElement(v.a,{msgId:"layerProperties.exampleOfResponse"})),g.a.createElement("br",null),g.a.createElement(T.a,{response:xe.json}))}},TEMPLATE:{titleId:"layerProperties.templateFormatTitle",descId:"layerProperties.templateFormatDescription",glyph:"ext-empty",body:function(e){var t=e.template,r=void 0===t?"":t,n=Ee(e,["template"]);return g.a.createElement("div",null,g.a.createElement("div",null,r&&"<p><br></p>"!==r?g.a.createElement(v.a,{msgId:"layerProperties.templatePreview"}):null),g.a.createElement("br",null),g.a.createElement("div",null,r&&"<p><br></p>"!==r?g.a.createElement(A.a,{html:r}):g.a.createElement("span",null,g.a.createElement("p",null,g.a.createElement(v.a,{msgId:"layerProperties.templateFormatInfoAlert2",msgParams:{attribute:"{ }"}})),g.a.createElement("pre",null,g.a.createElement(v.a,{msgId:"layerProperties.templateFormatInfoAlertExample",msgParams:{properties:"{ properties.id }"}})),g.a.createElement("p",null,g.a.createElement("small",null,g.a.createElement(v.a,{msgId:"layerProperties.templateFormatInfoAlert1"})),"(",g.a.createElement(w.Glyphicon,{glyph:"pencil"}),")")),g.a.createElement(G.a,je({template:r},n))))}}},Ie=Object(s.defaultProps)({formatCards:_e,defaultInfoFormat:_.a.getAvailableInfoFormat()})(ge.a),Re={},Le=function(e,t,r){if(e){var n=Re[e.name];return n||(n=l.default.getConfiguredPlugin(e,t,r))&&n.loaded&&(Re[e.name]=n),n}return e},De=function(e){var t=e.settings,r=e.items,n=void 0===r?[]:r,o=e.loadedPlugins,i=e.onToggleStyleEditor,a=void 0===i?function(){}:i,l=e.onUpdateParams,c=void 0===l?function(){}:l,u=e.element,p=Ee(e,["settings","items","loadedPlugins","onToggleStyleEditor","onUpdateParams","element"]);if(Me({element:u}))return{Component:me};var d=Object(S.sortBy)(Object(S.filter)(we(n),{target:"style"}),["priority"]).filter((function(e){var t=e.selector;return!t||t(ve(ve({},p),{},{element:u}))})),f=Object(S.head)(Object(S.filter)(d,{name:"ThematicLayer"}));if(f){var m=t&&t.options&&t.options.thematic,y=[{glyph:"list",tooltipId:"toc.thematic.classify",visible:p.isAdmin&&!m||!1,onClick:function(){return c({thematic:{unconfigured:!0}})}},{glyph:"trash",tooltipId:"toc.thematic.remove_thematic",visible:p.isAdmin&&m||!1,onClick:function(){return c({thematic:null})}}];return m?{Component:"style"===p.activeTab&&f.plugin&&Le(f,o,g.a.createElement(B.a,{width:100,height:100})),toolbar:y}:{toolbar:y}}var b=Object(S.head)(d);if(b&&b.plugin){var h=b.cfg||b.plugin.cfg;return{onClose:function(){return a(null,!1)},Component:Le(ve(ve({},b),{},{cfg:ve(ve({},h||{}),{},{active:!0})}),o,g.a.createElement(B.a,{width:100,height:100})),toolbarComponent:b.ToolbarComponent&&(h&&Object(s.defaultProps)(h)(b.ToolbarComponent)||b.ToolbarComponent)}}return{}},ke=function(e){var t=e.showFeatureInfoTab,r=void 0===t||t,n=e.loadedPlugins,o=e.items,i=e.onToggleStyleEditor,a=Ee(e,["showFeatureInfoTab","loadedPlugins","items","onToggleStyleEditor"]);return[{id:"general",titleId:"layerProperties.general",tooltipId:"layerProperties.general",glyph:"wrench",visible:!0,Component:R.a},{id:"display",titleId:"layerProperties.display",tooltipId:"layerProperties.display",glyph:"eye-open",visible:Te(a),Component:D.a},ve({id:"style",titleId:"layerProperties.style",tooltipId:"layerProperties.style",glyph:"dropper",visible:Ce(a),Component:Pe},De(ve({items:o,loadedPlugins:n,onToggleStyleEditor:i},a))),{id:"feature",titleId:"layerProperties.featureInfo",tooltipId:"layerProperties.featureInfo",glyph:"map-marker",visible:r&&Te(a)&&Ae(a)&&!(a.element.featureInfo&&a.element.featureInfo.viewer),Component:Ie,toolbar:[{glyph:"pencil",tooltipId:"layerProperties.editCustomFormat",visible:!a.showEditor&&a.element&&a.element.featureInfo&&"TEMPLATE"===a.element.featureInfo.format||!1,onClick:function(){return a.onShowEditor&&a.onShowEditor(!a.showEditor)}}]},{id:"elevation",titleId:"layerProperties.elevation",tooltipId:"layerProperties.elevation",glyph:"1-vector",visible:Te(a)&&Ae(a)&&a.element.dimensions&&a.getDimension&&a.getDimension(a.element.dimensions,"elevation"),Component:N.a}].filter((function(e){return e.visible}))},Ne=r("./MapStore2/web/client/selectors/controls.js"),Fe=r("./MapStore2/web/client/selectors/layers.js"),Ge=r("./MapStore2/web/client/selectors/maplayout.js"),Ue=r("./MapStore2/web/client/selectors/locale.js"),Be=r("./MapStore2/web/client/selectors/security.js"),ze=r("./MapStore2/web/client/selectors/localizedLayerStyles.js"),We=r("./MapStore2/web/client/actions/controls.js"),Ve=r("./MapStore2/web/client/actions/styleeditor.js"),He=Object(a.createSelector)([Fe.layerSettingSelector,Fe.layersSelector,Fe.groupsSelector,Ue.currentLocaleSelector,Ue.currentLocaleLanguageSelector,function(e){return Object(Ge.mapLayoutValuesSelector)(e,{height:!0})},Be.isAdminUserSelector,Ne.initialSettingsSelector,Ne.originalSettingsSelector,Ne.activeTabSettingsSelector,Fe.elementSelector,ze.isLocalizedLayerStylesEnabledSelector],(function(e,t,r,n,o,i,a,s,l,c,u,p){return{settings:e,element:u,groups:r,currentLocale:n,currentLocaleLanguage:o,dockStyle:i,isAdmin:a,initialSettings:s,originalSettings:l,activeTab:c,isLocalizedLayerStylesEnabled:p}})),qe=Object(s.compose)(Object(n.connect)(He,{onHideSettings:p.hideSettings,onUpdateSettings:p.updateSettings,onUpdateNode:p.updateNode,onRetrieveLayerData:d.getLayerCapabilities,onUpdateOriginalSettings:We.setControlProperty.bind(null,"layersettings","originalSettings"),onUpdateInitialSettings:We.setControlProperty.bind(null,"layersettings","initialSettings"),onSetTab:We.setControlProperty.bind(null,"layersettings","activeTab"),onUpdateParams:p.updateSettingsParams,onToggleStyleEditor:Ve.toggleStyleEditor}),f.updateSettingsLifecycle,Object(s.defaultProps)({getDimension:u.a.getDimension,enableLayerNameEditFeedback:!0}),Object(s.getContext)({loadedPlugins:i.a.object}),Object(s.withPropsOnChange)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,r=void 0===t?[]:t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.items;return r!==o}),(function(e){return{tabs:ke(e)}})))(y.a);t.default=Object(l.createPlugin)("TOCItemsSettings",{component:qe,containers:{TOC:{doNotHide:!0,name:"TOCItemsSettings"}}})},"./MapStore2/web/client/plugins/Timeline.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/react-redux/es/index.js").connect,c=r("./node_modules/reselect/es/index.js").createSelector,u=r("./MapStore2/web/client/plugins/timeline/Timeline.jsx"),p=r("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),d=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),f=r("./MapStore2/web/client/selectors/dimension.js"),m=f.offsetEnabledSelector,y=f.currentTimeSelector,b=r("./MapStore2/web/client/selectors/timeline.js"),g=b.currentTimeRangeSelector,h=b.isVisible,v=b.rangeSelector,S=b.timelineLayersSelector,w=b.isMapSync,O=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,j=r("./node_modules/recompose/es/Recompose.js"),E=j.withState,x=j.compose,P=j.branch,T=j.renderNothing,M=j.withStateHandlers,A=j.withProps,C=j.defaultProps,_=j.setDisplayName,I=r("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js"),R=r("./MapStore2/web/client/actions/timeline.js"),L=R.selectTime,D=R.enableOffset,k=R.onRangeChanged,N=R.setMapSync,F=r("./MapStore2/web/client/actions/dimension.js").setCurrentOffset,G=r("./MapStore2/web/client/components/I18N/Message.jsx"),U=r("./MapStore2/web/client/actions/playback.js").selectPlaybackRange,B=r("./MapStore2/web/client/selectors/playback.js"),z=B.playbackRangeSelector,W=B.statusSelector,V=r("./node_modules/react-bootstrap/es/index.js"),H=V.Button,q=V.Glyphicon,Y=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(H),Z=r("./MapStore2/node_modules/lodash/lodash.js"),Q=Z.head,K=Z.isString,X=r("./node_modules/moment/moment.js"),J=function(e){return K(e)&&-1!==e.indexOf("%")},$=function(e){return parseInt(e,10)/100},ee=function(e,t){return X(t).diff(e)>0},te=x(l(c(h,S,y,g,m,z,W,v,(function(e,t,r,n,o,i,a,s){return{visible:e,layers:t,currentTime:r,currentTimeRange:n,offsetEnabled:o,playbackRange:i,status:a,viewRange:s}})),{setCurrentTime:L,onOffsetEnabled:D,setOffset:F,setPlaybackRange:U,moveRangeTo:k}),P((function(e){var t=e.visible,r=void 0===t||t,n=e.layers,o=void 0===n?[]:n;return!r||0===Object.keys(o).length}),T),E("options","setOptions",{collapsed:!0}),l(c(w,(function(e){return{mapSync:e}})),{toggleMapSync:N}),x(x(M((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),I({querySelector:".ms2",closest:!0,debounceTime:100})),C({style:{marginBottom:35,marginLeft:100,marginRight:80}}),l(c((function(e){return O(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),A((function(e){var t=e.containerWidth,r=e.style,n=e.mapLayoutStyle,o=r||{},a=o.marginLeft,s=o.marginRight,l=n.left,c=void 0===l?0:l,u=n.right,p=void 0===u?0:u;p=J(p)&&$(p)*t||p,c=J(c)&&$(c)*t||c;if(t){var d=t-p-c-a-s;return{hide:d<410,compactToolbar:d<880,style:i(i(i({},r),n),{},{minWidth:410})}}return{style:i(i(i({},r),n),{},{minWidth:410})}})),P((function(e){return e.hide}),T),_("TimelinePlugin")))((function(e){var t=e.items,r=e.options,o=e.setOptions,a=e.mapSync,l=e.toggleMapSync,c=void 0===l?function(){}:l,f=e.currentTime,m=e.setCurrentTime,y=e.offsetEnabled,b=e.onOffsetEnabled,g=e.currentTimeRange,h=e.setOffset,v=e.style,S=e.status,w=e.viewRange,O=e.moveRangeTo,j=e.compactToolbar,E=r.hideLayersName,x=r.collapsed,P=Q(t&&t.filter((function(e){return"playback"===e.name}))),T=P&&P.plugin,M=function(e,t,r,n){var o=X(r.end).diff(r.start)/2;if("time-current"===t&&r&&r.start.toString()!==X(e).add(-1*o).toString()&&r.end.toString()!==X(e).add(o).toString()&&O({start:X(e).add(-1*o),end:X(e).add(o)}),"range-start"===t||"range-end"===t){var i=X(n.end).diff(n.start),a=X(n.start).add(i/2);O(i/2<=o?{start:X(a).add(-1*o),end:X(a).add(o)}:{start:X(a).add(-1*i*5/2),end:X(a).add(5*i/2)})}};return s.createElement("div",{style:i(i({position:"absolute",marginBottom:35,marginLeft:100,background:"transparent"},v),{},{right:x?"auto":v.right||0}),className:"timeline-plugin".concat(E?" hide-layers-name":"").concat(y?" with-time-offset":"")},y&&s.createElement(p,{clickable:!x,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==S&&M(e,t,w,g)},tooltip:s.createElement(G,{msgId:"timeline.rangeStart"}),showButtons:!0,date:f||g&&g.start,onUpdate:function(e){return(g&&ee(e,g.end)||!g)&&"PLAY"!==S&&m(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),s.createElement("div",{className:"timeline-plugin-toolbar".concat(j?" ms-collapsed":"")},y&&g?s.createElement(p,{clickable:!x,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==S&&M(e,t,w,g)},tooltip:s.createElement(G,{msgId:"timeline.rangeEnd"}),date:g.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==S&&ee(f,e)&&h(e)}}):s.createElement(p,{clickable:!x,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==S&&M(e,t,w)},tooltip:s.createElement(G,{msgId:"timeline.currentTime"}),date:f||g&&g.start,onUpdate:function(e){return(g&&ee(e,g.end)||!g)&&"PLAY"!==S&&m(e)}}),s.createElement("div",{className:"timeline-plugin-btn-group"},s.createElement(d,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:s.createElement(G,{msgId:E?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:E?"primary":"success",visible:!x,active:!E,onClick:function(){return o(i(i({},r),{},{hideLayersName:!E}))}},{glyph:"time-offset",bsStyle:y?"success":"primary",active:y,disabled:"PLAY"===S,tooltip:s.createElement(G,{msgId:y?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==S&&b(!y)}},{glyph:"map-synch",tooltip:s.createElement(G,{msgId:a?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:a?"success":"primary",active:a,onClick:function(){return c(!a)}}]}),T&&s.createElement(T,n({},P,{settingsStyle:{right:x||j?40:"unset"}}))),s.createElement(Y,{onClick:function(){return o(i(i({},r),{},{collapsed:!x}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:s.createElement(G,{msgId:x?"timeline.expand":"timeline.collapse"})},s.createElement(q,{glyph:x?"chevron-up":"chevron-down"}))),!x&&s.createElement(u,{offsetEnabled:y,playbackEnabled:!0,hideLayersName:E}))})),re=r("./node_modules/object-assign/index.js"),ne=r("./MapStore2/web/client/plugins/timeline/TimelineToggle.jsx");e.exports={TimelinePlugin:re(te,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:s.createElement(ne,null),position:0}}),reducers:{dimension:r("./MapStore2/web/client/reducers/dimension.js").default,timeline:r("./MapStore2/web/client/reducers/timeline.js").default},epics:r("./MapStore2/web/client/epics/timeline.js")}},"./MapStore2/web/client/plugins/Toolbar.jsx":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=r("./node_modules/react/index.js"),g=r("./node_modules/prop-types/index.js"),h=r("./node_modules/react-redux/es/index.js").connect;r("./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");var v=r("./node_modules/react-transition-group/index.js").CSSTransitionGroup,S=r("./MapStore2/web/client/selectors/featuregrid.js").isFeatureGridOpen,w=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,O=r("./node_modules/reselect/es/index.js").createSelector,j=r("./node_modules/object-assign/index.js"),E=r("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),x=function(e){u(r,e);var t=d(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=a(e,["children"]);return b.createElement(v,i({},r,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),t)}}]),r}(b.Component),P=function(e){u(r,e);var t=d(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=a(e,["children"]);return b.createElement("div",r,t)}}]),r}(b.Component),T=function(e){u(r,e);var t=d(r);function r(){var e;s(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n(m(e=t.call.apply(t,[this].concat(i))),"getPanel",(function(e){return!0===e.panel?e.plugin:e.panel})),n(m(e),"getPanels",(function(){return e.getTools().filter((function(e){return e.panel})).map((function(t){return{name:t.name,title:t.title,cfg:t.cfg,panel:e.getPanel(t),items:t.items,wrap:t.wrap||!1}}))})),n(m(e),"getTools",(function(){var t=e.props.items.filter((function(e){return!e.alwaysVisible}))||[];return e.props.items.filter((function(r){return r.alwaysVisible||1===t.length||e.props.allVisible})).filter((function(t){return!t.showWhen||t.showWhen(e.props)})).map((function(e,t){return j({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),e}return c(r,[{key:"render",value:function(){var e=this.props.disableAnimation?P:x;return b.createElement(E,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:e,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),r}(b.Component);n(T,"propTypes",{id:g.string,tools:g.array,mapType:g.string,style:g.object,panelStyle:g.object,panelClassName:g.string,disableAnimation:g.bool,active:g.string,items:g.array,allVisible:g.bool,layout:g.string,stateSelector:g.string,buttonStyle:g.string,buttonSize:g.string,pressedButtonStyle:g.string,btnConfig:g.object}),n(T,"contextTypes",{messages:g.object,router:g.object}),n(T,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});var M=function(e){return O([function(t){return t.controls&&t.controls[e]&&t.controls[e].active},function(t){return t.controls&&t.controls[e]&&t.controls[e].expanded},S,function(e){return w(e,{right:!0,bottom:!0})}],(function(t,r,n,o){return{active:t,allVisible:r,stateSelector:e,layout:n?"horizontal":"vertical",style:o}}))};e.exports={ToolbarPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return h(M(e))(T)},reducers:{controls:r("./MapStore2/web/client/reducers/controls.js").default}}},"./MapStore2/web/client/plugins/Widgets.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./node_modules/react-redux/es/index.js"),l=r("./node_modules/reselect/es/index.js"),c=r("./node_modules/recompose/es/Recompose.js"),u=r("./MapStore2/web/client/utils/PluginsUtils.js"),p=r("./MapStore2/web/client/selectors/map.js"),d=r("./MapStore2/web/client/selectors/widgets.js"),f=r("./MapStore2/web/client/actions/widgets.js"),m=r("./MapStore2/web/client/plugins/widgets/editOptions.js"),y=r.n(m),b=r("./MapStore2/web/client/plugins/widgets/autoDisableWidgets.js"),g=r.n(b),h=r("./MapStore2/web/client/components/layout/enhancers/gridLayout.jsx"),v=r("./node_modules/react-container-dimensions/lib/index.js"),S=r.n(v),w=r("./MapStore2/web/client/components/widgets/view/WidgetsView.jsx"),O=r.n(w);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return M(this,r)}}function M(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var L=Object(c.compose)(Object(s.connect)(Object(l.createSelector)(p.mapIdSelector,d.getVisibleFloatingWidgets,d.getFloatingWidgetsLayout,d.dependenciesSelector,(function(e,t,r,n){return{id:e,widgets:t,layouts:r,dependencies:n}})),{editWidget:f.editWidget,updateWidgetProperty:f.updateWidgetProperty,exportCSV:f.exportCSV,toggleCollapse:f.toggleCollapse,exportImage:f.exportImage,deleteWidget:f.deleteWidget,onLayoutChange:f.changeLayout}),Object(c.compose)(Object(h.heightProvider)({debounceTime:20,closest:!0,querySelector:".fill"}),(function(e){return function(t){return o.a.createElement(S.a,null,(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.width;return o.a.createElement(e,R({width:n},t))}))}}),Object(c.withProps)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,r=e.height,n=r-120,o=4,i=Math.floor(n/o-20);return{rowHeight:i,className:"on-map",breakpoints:{md:480,xxs:0},cols:{md:6,xxs:1},style:{left:t&&t>800?"500px":"0",marginTop:52,bottom:65,height:Math.floor((r-100)/(i+10))*(i+10),width:"calc(100% - ".concat(t&&t>800?570:70,"px)"),position:"absolute",zIndex:50}}}))),Object(c.compose)(Object(c.defaultProps)({toolsOptions:{showPin:"user.role===ADMIN",seeHidden:"user.role===ADMIN",showHide:!1,showCollapse:!0}}),y()("toolsOptions",{asObject:!0}),Object(c.compose)(Object(s.connect)(Object(l.createSelector)(d.isTrayEnabled,(function(e){return{tray:e}}))),Object(c.withPropsOnChange)(["toolsOptions","tray"],(function(e){var t=e.toolsOptions,r=e.tray;return{toolsOptions:t?_(_({},t),{},{showCollapse:t.showCollapse&&r}):t}}))),Object(c.withPropsOnChange)(["widgets","toolsOptions"],(function(e){var t=e.widgets,r=void 0===t?[]:t,n=e.toolsOptions,o=void 0===n?{}:n;return{widgets:r.filter((function(e){return!e.hide||o.seeHidden}))}}))))(O.a),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,r,n,i=T(a);function a(){return E(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){return this.props.enabled?o.a.createElement(L,this.props):null}}])&&x(t.prototype,r),n&&x(t,n),a}(o.a.Component);I(D,"propTypes",{enabled:a.a.bool,shortenChartLabelThreshold:a.a.number}),I(D,"defaultProps",{enabled:!0,shortenChartLabelThreshold:1e3});var k=g()(D);t.default=Object(u.createPlugin)("WidgetsPlugin",{component:k,containers:{TOC:{doNotHide:!0,name:"Widgets"}},reducers:{widgets:r("./MapStore2/web/client/reducers/widgets.js").default},epics:r("./MapStore2/web/client/epics/widgets.js")})},"./MapStore2/web/client/plugins/WidgetsBuilder.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/web/client/epics/widgetsbuilder.js"),l=r("./MapStore2/web/client/utils/PluginsUtils.js"),c=r("./MapStore2/web/client/components/misc/panels/DockPanel.jsx"),u=r.n(c),p=r("./node_modules/react-redux/es/index.js"),d=r("./node_modules/reselect/es/index.js"),f=r("./node_modules/recompose/es/Recompose.js"),m=r("./MapStore2/web/client/actions/controls.js"),y=r("./MapStore2/web/client/selectors/maplayout.js"),b=r("./MapStore2/web/client/selectors/controls.js"),g=r("./MapStore2/web/client/selectors/widgets.js"),h=r("./MapStore2/web/client/actions/widgets.js"),v=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/withMapExitButton.js"),S=r.n(v),w=r("./MapStore2/web/client/plugins/widgetbuilder/WidgetTypeBuilder.jsx"),O=r.n(w);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return M(this,r)}}function M(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=Object(f.compose)(Object(p.connect)(Object(d.createSelector)(g.dependenciesSelector,g.availableDependenciesForEditingWidgetSelector,(function(e,t){return _({dependencies:e},t)})),{toggleConnection:h.toggleConnection}),S.a)(O.a),L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,r,n,i=T(a);function a(){return E(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"render",value:function(){return o.a.createElement(u.a,{open:this.props.enabled,size:this.props.dockSize,zIndex:this.props.zIndex,position:this.props.position,bsStyle:"primary",hideHeader:!0,style:_(_({},this.props.layout),{},{background:"white"})},o.a.createElement(R,{enabled:this.props.enabled,onClose:this.props.onClose,typeFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type;return"map"!==t&&"legend"!==t},shortenChartLabelThreshold:this.props.shortenChartLabelThreshold}))}}])&&x(t.prototype,r),n&&x(t,n),a}(o.a.Component);I(L,"propTypes",{id:a.a.string,enabled:a.a.bool,limitDockHeight:a.a.bool,fluid:a.a.bool,zIndex:a.a.number,dockSize:a.a.number,position:a.a.string,onMount:a.a.func,onUnmount:a.a.func,onClose:a.a.func,dimMode:a.a.string,src:a.a.string,style:a.a.object,layout:a.a.object,shortenChartLabelThreshold:a.a.number}),I(L,"defaultProps",{id:"widgets-builder-plugin",enabled:!1,dockSize:500,limitDockHeight:!0,zIndex:1e4,fluid:!1,dimMode:"none",position:"left",shortenChartLabelThreshold:1e3,onMount:function(){},onUnmount:function(){},onClose:function(){},layout:{}});var D=Object(p.connect)(Object(d.createSelector)(b.widgetBuilderSelector,(function(e){return Object(y.mapLayoutValuesSelector)(e,{height:!0})}),(function(e,t){return{enabled:e,layout:t}})),{onMount:function(){return Object(m.setControlProperty)("widgetBuilder","available",!0)},onUnmount:function(){return Object(m.setControlProperty)("widgetBuilder","available",!1)},onClose:m.setControlProperty.bind(null,"widgetBuilder","enabled",!1,!1)})(L);t.default=Object(l.createPlugin)("WidgetsBuilder",{component:D,epics:s,containers:{TOC:{doNotHide:!0,name:"WidgetBuilder"}}})},"./MapStore2/web/client/plugins/WidgetsTray.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/plugins/widgets/WidgetsTray.jsx"),o=r.n(n),i=r("./MapStore2/web/client/plugins/widgets/autoDisableWidgets.js"),a=r.n(i),s=r("./MapStore2/web/client/epics/widgetsTray.js");t.default={WidgetsTrayPlugin:a()(o.a),epics:s}},"./MapStore2/web/client/plugins/ZoomAll.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=r("./node_modules/react/index.js"),d=r("./node_modules/react-redux/es/index.js").connect,f=r("./node_modules/reselect/es/index.js").createSelector,m=r("./MapStore2/web/client/selectors/map.js").mapSelector,y=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,b=d(f([m,function(e){return e.mapInitialConfig}],(function(e,t){return{mapConfig:e,mapInitialConfig:t}})),{changeMapView:r("./MapStore2/web/client/actions/map.js").changeMapView})(r("./MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx")),g=r("./MapStore2/web/client/components/I18N/Message.jsx");r("./MapStore2/web/client/plugins/zoomall/zoomall.css");var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,r,n,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){return p.createElement(b,o({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}])&&a(t.prototype,r),n&&a(t,n),u}(p.Component),v=r("./node_modules/object-assign/index.js");e.exports={ZoomAllPlugin:v(h,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:p.createElement(y,{glyph:"resize-full"}),help:p.createElement(g,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomIn.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,i=(0,r("./node_modules/reselect/es/index.js").createSelector)([r("./MapStore2/web/client/selectors/map.js").mapSelector],(function(e){return{currentZoom:e&&e.zoom,id:"zoomin-btn",step:1,glyphicon:"plus"}})),a=r("./MapStore2/web/client/actions/map.js").changeZoomLevel,s=r("./MapStore2/web/client/components/I18N/Message.jsx"),l=o(i,{onZoom:a})(r("./MapStore2/web/client/components/buttons/ZoomButton.jsx"));r("./MapStore2/web/client/plugins/zoom/zoom.css");var c=r("./node_modules/object-assign/index.js");e.exports={ZoomInPlugin:c(l,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomIn",position:3,tooltip:"zoombuttons.zoomInTooltip",help:n.createElement(s,{msgId:"helptexts.zoomIn"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomOut.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/react-redux/es/index.js").connect,l=r("./node_modules/reselect/es/index.js").createSelector,c=r("./MapStore2/web/client/selectors/map.js"),u=l([c.mapSelector,c.minZoomSelector],(function(e,t){return{currentZoom:e&&e.zoom,id:"zoomout-btn",step:-1,glyphicon:"minus",minZoom:t}})),p=r("./MapStore2/web/client/actions/map.js").changeZoomLevel,d=r("./MapStore2/web/client/components/I18N/Message.jsx"),f=s(u,{onZoom:p},(function(e,t,r){return o(o(o({},e),t),r)}))(r("./MapStore2/web/client/components/buttons/ZoomButton.jsx"));r("./MapStore2/web/client/plugins/zoom/zoom.css");var m=r("./node_modules/object-assign/index.js");e.exports={ZoomOutPlugin:m(f,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomOut",position:4,tooltip:"zoombuttons.zoomOutTooltip",help:a.createElement(d,{msgId:"helptexts.zoomOut"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/background/DefaultThumbs.js":function(e,t,r){var n=r("./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"),o=r("./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"),i=r("./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"),a=r("./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"),s=r("./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"),l=r("./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"),c=r("./MapStore2/web/client/plugins/background/assets/img/none.jpg"),u=r("./MapStore2/web/client/plugins/background/assets/img/dafault.jpg"),p=r("./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"),d=r("./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"),f=r("./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"),m={google:{HYBRID:r("./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"),ROADMAP:n,TERRAIN:o,SATELLITE:i},bing:{Aerial:a,AerialWithLabels:d},osm:{mapnik:s},mapquest:{osm:r("./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg")},ol:{undefined:c},nasagibs:{Night2012:p},OpenTopoMap:{OpenTopoMap:f},unknown:u,s2cloudless:{"s2cloudless:s2cloudless":l}};e.exports=m},"./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},"./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},"./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},"./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},"./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},"./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},"./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},"./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},"./MapStore2/web/client/plugins/background/assets/img/dafault.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},"./MapStore2/web/client/plugins/background/assets/img/none.jpg":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},"./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg":function(e,t,r){e.exports=r.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"},"./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/containers/ToolsContainer.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=r("./node_modules/react/index.js"),b=r("./node_modules/prop-types/index.js"),g=r("./node_modules/react-redux/es/index.js").connect,h=r("./node_modules/redux/es/index.js").compose,v=r("./MapStore2/web/client/actions/help.js"),S=v.changeHelpText,w=v.changeHelpwinVisibility,O=g((function(e){return{isVisible:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:S,changeHelpwinVisibility:w})(r("./MapStore2/web/client/components/help/HelpBadge.jsx")),j=r("./MapStore2/web/client/components/I18N/Message.jsx"),E=r("./node_modules/react-bootstrap/es/index.js"),x=E.Button,P=E.Tooltip,T=E.Panel,M=E.Collapse,A=E.Glyphicon,C=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),_=r("./MapStore2/web/client/actions/controls.js"),I=_.setControlProperty,R=_.toggleControl,L=r("./MapStore2/node_modules/lodash/lodash.js").partial,D=r("./node_modules/object-assign/index.js"),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,r,n,i=u(p);function p(){var e;s(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(d(e=i.call.apply(i,[this].concat(r))),"getToolConfig",(function(t){return t.tool?{}:e.props.toolCfg})),m(d(e),"getTool",(function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var r=function(){return{}},n={};return t.exclusive?(r=function(r){return{active:r.controls&&r.controls[e.props.stateSelector]&&r.controls[e.props.stateSelector].active===t.name}},n[e.props.eventSelector]=I.bind(null,e.props.stateSelector,"active",t.name,!0)):t.toggle?(r=function(r){return{bsStyle:r.controls[t.toggleControl||t.name]&&r.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?e.props.activeStyle:e.props.toolStyle,active:r.controls[t.toggleControl||t.name]&&r.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},n[e.props.eventSelector]=R.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(n[e.props.eventSelector]=L(t.action,e.context),r=t.selector||r),g(r,n,(function(t,r,n){return e.mergeHandlers(a(a({},n),t),r)}))(e.props.tool)})),m(d(e),"renderTool",(function(t,r){if(t.element)return t.element;var n=t.help?y.createElement(O,{className:"mapstore-helpbadge",helpText:t.help}):y.createElement("span",null),i=t.tooltip?y.createElement(j,{msgId:t.tooltip}):null,a=e.getTool(t),s=e.getToolConfig(t),l=t.childTools||[];return e.addTooltip(y.createElement(a,o({},s,{pluginCfg:t.cfg,tooltip:i,style:t.style,btnSize:e.props.toolSize,bsStyle:e.props.toolStyle,help:n,key:t.name||"tool"+r,mapType:e.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?y.createElement(A,{glyph:t.cfg.glyph}):t.icon,n," ",t.text,l.length>0&&y.createElement(p,o({},t.innerProps,{mapType:e.props.mapType,tools:l,panels:t.childPanels}))),t)})),m(d(e),"renderTools",(function(){return e.props.tools.map(e.renderTool)})),m(d(e),"renderPanels",(function(){return e.props.panels.filter((function(e){return!e.panel.loadPlugin})).map((function(t){var r=t.panel,n=y.createElement(r,o({key:t.name,mapType:e.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),i=t.title?y.createElement(j,{msgId:t.title}):null;return t.wrap?y.createElement(M,{key:"mapToolBar-item-collapse-"+t.name,in:e.props.activePanel===t.name},y.createElement(T,{header:i,style:e.props.panelStyle,className:e.props.panelClassName},n)):n}))})),m(d(e),"mergeHandlers",(function(e,t){return Object.keys(t).reduce((function(r,n){return D(r,m({},n,e[n]?h(e[n],t[n]):t[n]))}),e)})),m(d(e),"addTooltip",(function(t,r){if(r.tooltip){var n=y.createElement(P,{id:e.props.id+"-"+r.name+"-tooltip"},y.createElement(j,{msgId:r.tooltip}));return y.createElement(C,{key:e.props.id+"-"+r.name+"-overlay",rootClose:!0,placement:"left",overlay:n},t)}return t})),e}return t=p,(r=[{key:"render",value:function(){var e=this.props.container;return y.createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},y.createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}])&&l(t.prototype,r),n&&l(t,n),p}(y.Component);m(k,"propTypes",{id:b.string.isRequired,container:b.func,containerWrapperStyle:b.object,tool:b.func,className:b.string,style:b.object,tools:b.array,panels:b.array,mapType:b.string,toolStyle:b.string,activeStyle:b.string,toolSize:b.string,stateSelector:b.string.isRequired,eventSelector:b.string,panelStyle:b.object,panelClassName:b.string,activePanel:b.string,toolCfg:b.object}),m(k,"contextTypes",{messages:b.object,router:b.object}),m(k,"defaultProps",{container:T,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:x,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}}),e.exports=k},"./MapStore2/web/client/plugins/drawer/Menu.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=r("./node_modules/react/index.js"),g=r("./node_modules/prop-types/index.js"),h=r("./node_modules/react-bootstrap/es/index.js"),v=h.Glyphicon,S=h.Button,w=h.Tooltip,O=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),j=r("./node_modules/react-sidebar/dist-modules/index.js").default,E=r("./node_modules/react-resizable/index.js").Resizable,x=r("./MapStore2/web/client/components/I18N/Message.jsx"),P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,r,n,o=p(d);function d(){var e;l(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(f(e=o.call.apply(o,[this].concat(r))),"getWidth",(function(){return e.props.dynamicWidth||e.props.width})),y(f(e),"renderChildren",(function(t,r){var n={key:t.key?t.key:r,ref:t.ref,open:e.props.activeKey&&e.props.activeKey===t.props.eventKey},o=t.props,i=(o.glyph,o.icon,o.buttonConfig,s(o,["glyph","icon","buttonConfig"]));return b.createElement(t.type,a({},n,i))})),y(f(e),"renderButtons",(function(){return e.props.children.map((function(t){var r=b.createElement(S,{key:t.props.eventKey,bsSize:"large",className:t.props.buttonConfig&&t.props.buttonConfig.buttonClassName?t.props.buttonConfig.buttonClassName:"square-button",onClick:e.props.onChoose.bind(null,t.props.eventKey,e.props.activeKey===t.props.eventKey),bsStyle:e.props.activeKey===t.props.eventKey?"default":"primary"},t.props.glyph?b.createElement(v,{glyph:t.props.glyph}):t.props.icon);if(t.props.buttonConfig&&t.props.buttonConfig.tooltip){var n=b.createElement(w,{key:"tooltip."+t.props.eventKey,id:"tooltip."+t.props.eventKey},b.createElement(x,{msgId:t.props.buttonConfig.tooltip}));return b.createElement(O,{placement:"bottom",key:"overlay-trigger."+t.props.eventKey,overlay:n},r)}return r}))})),y(f(e),"renderContent",(function(){var t=e.props.single?b.createElement("div",{className:"navHeader",style:{width:"100%",minHeight:"35px"}},b.createElement(v,{glyph:"1-close",className:"no-border btn-default",onClick:e.props.onToggle,style:{cursor:"pointer"}}),b.createElement("div",{className:"navButtons"},e.renderButtons())):b.createElement("div",{className:"navHeader",style:{width:"100%",minHeight:"35px"}},b.createElement("span",{className:"title"},e.props.title),b.createElement(v,{glyph:"1-close",className:"no-border btn-default",onClick:e.props.onToggle,style:{cursor:"pointer"}})),r=b.createElement("div",{className:"nav-content"},t,b.createElement("div",{className:"nav-body"},e.props.children.filter((function(t){return!e.props.single||e.props.activeKey===t.props.eventKey})).map(e.renderChildren)));return e.props.resizable?b.createElement(E,{axis:"x",resizeHandles:["e"],width:e.getWidth(),onResize:e.resize},r):r})),y(f(e),"resize",(function(t,r){var n=r.size;e.props.onResize(n.width)})),e}return t=d,(r=[{key:"componentDidMount",value:function(){if(!this.props.overlapMap&&this.props.show){var e={left:this.props.width,width:"calc(100% - ".concat(this.props.width,"px)")};this.props.changeMapStyle(e,"drawerMenu")}}},{key:"componentDidUpdate",value:function(e){if(!this.props.overlapMap&&e.show!==this.props.show){var t=this.props.show?{left:this.props.width,width:"calc(100% - ".concat(this.props.width,"px)")}:{};this.props.changeMapStyle(t,"drawerMenu")}}},{key:"render",value:function(){var e=this;return b.createElement(j,{styles:{sidebar:i(i({},this.props.layout),{},{zIndex:1022,width:this.getWidth()}),overlay:{zIndex:1021},root:{right:this.props.show?0:"auto",width:"0",overflow:"visible"},content:{overflowY:"auto"}},sidebarClassName:"nav-menu",onSetOpen:function(){e.props.onToggle()},open:this.props.show,docked:this.props.docked,sidebar:this.renderContent()},b.createElement("div",null))}}])&&c(t.prototype,r),n&&c(t,n),d}(b.Component);y(P,"propTypes",{title:g.node,alignment:g.string,activeKey:g.string,docked:g.bool,show:g.bool,onToggle:g.func,onChoose:g.func,single:g.bool,width:g.number,dynamicWidth:g.number,overlapMap:g.bool,changeMapStyle:g.func,layout:g.object,resizable:g.bool,onResize:g.func}),y(P,"defaultProps",{docked:!1,single:!1,width:300,overlapMap:!0,layout:{},resizable:!1,onResize:function(){}}),e.exports=P},"./MapStore2/web/client/plugins/drawer/Section.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=r("./node_modules/prop-types/index.js"),f=r("./node_modules/react/index.js"),m=r("./node_modules/react-bootstrap/es/index.js").Glyphicon,y=r("./MapStore2/web/client/components/misc/Modal.jsx"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,r,n,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(c(e=l.call.apply(l,[this].concat(r))),"onHeaderClick",(function(){e.props.onHeaderClick(e.props.eventKey)})),p(c(e),"getHeight",(function(){return e.props.open&&e.refs.sectionContent?e.refs.sectionContent.scrollHeight+10:"0"})),e}return t=u,(r=[{key:"render",value:function(){var e={maxHeight:this.getHeight(),overflow:this.props.open?"auto":"hidden",padding:this.props.open?null:"0"};return f.createElement("div",{className:"section"},f.createElement("div",{className:"sectionHeader",style:{width:"100%"},onClick:this.onHeaderClick},this.props.renderInModal?null:f.createElement(m,{glyph:"triangle-right",style:this.props.open?{transform:"rotate(90deg)"}:{}}),f.createElement("span",{className:this.headerClassName+" sectionTitle",ref:"sectionTitle"},this.props.header)),this.props.renderInModal?f.createElement(y,{ref:"modal",show:this.props.open,onHide:this.onHeaderClick},f.createElement(y.Header,{closeButton:!0},f.createElement(y.Title,null,this.props.header)),f.createElement(y.Body,null,this.props.children)):f.createElement("div",{ref:"sectionContent",className:"sectionContent",style:e},this.props.children))}}])&&i(t.prototype,r),n&&i(t,n),u}(f.Component);p(b,"displayName","Section"),p(b,"propTypes",{key:d.string,eventKey:d.string,headerClassName:d.string,open:d.bool,onHeaderClick:d.func,renderInModal:d.bool,header:d.node}),p(b,"defaultProps",{headerClassName:"panel-heading"}),e.exports=b},"./MapStore2/web/client/plugins/drawer/drawer.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/drawer/drawer.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/featuregrid/gridEvents.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/featuregrid.js"),o=n.sort,i=n.selectFeatures,a=n.deselectFeatures,s=n.featureModified,l=n.updateFilter,c=n.activateTemporaryChanges;e.exports={onGridSort:function(e,t){return o(e,t)},onAddFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(e)},onTemporaryChanges:function(e){return c(e)},onGridRowsUpdated:function(e,t){var r,n,o=e.fromRow,i=e.toRow,a=e.updated,l=(r=o,n=i,Array.from({length:n+1-r},(function(e,t){return t+r}))).map((function(e){return t(e)})).filter((function(e){return Object.keys(a||{}).filter((function(t){return e.properties[t]!==a[t]})).length>0}));return s(l,a)},onRowsToggled:function(e,t){return i(e.map((function(e){return t(e.rowIdx)})),!1)},onRowsSelected:function(e,t){return i(e.map((function(e){return t(e.rowIdx)})),!0)},onRowsDeselected:function(e,t){return a(e.map((function(e){return t(e.rowIdx)})))}}},"./MapStore2/web/client/plugins/featuregrid/gridTools.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/@turf/bbox/index.js"),i=r("./MapStore2/web/client/actions/map.js").zoomToExtent,a=r("./MapStore2/web/client/components/I18N/Message.jsx"),s=r("./node_modules/react-bootstrap/es/index.js"),l=s.Glyphicon,c=s.Tooltip,u=r("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");e.exports=[{name:"",key:"geometry",width:35,frozen:!0,events:{onClick:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.crs;return e.geometry?i(o(e),a||"EPSG:4326"):{type:"NONE"}}},formatter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value;return t?n.createElement(l,{glyph:"zoom-to"}):n.createElement(u,{placement:"top",overlay:n.createElement(c,{id:"fe-save-features"},n.createElement(a,{msgId:"featuregrid.missingGeometry"}))},n.createElement(l,{glyph:"exclamation-mark"}))}}]},"./MapStore2/web/client/plugins/featuregrid/index.jsx":function(e,t,r){e.exports={gridTools:r("./MapStore2/web/client/plugins/featuregrid/gridTools.jsx"),toolbarEvents:r("./MapStore2/web/client/plugins/featuregrid/toolbarEvents.js"),gridEvents:r("./MapStore2/web/client/plugins/featuregrid/gridEvents.js"),pageEvents:r("./MapStore2/web/client/plugins/featuregrid/pageEvents.js")}},"./MapStore2/web/client/plugins/featuregrid/pageEvents.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/featuregrid.js"),o=n.changePage,i=n.moreFeatures;e.exports={onPageChange:function(e,t){return o(e,t)},moreFeatures:i}},"./MapStore2/web/client/plugins/featuregrid/panels/AttributeSelector.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./MapStore2/web/client/components/data/featuregrid/AttributeSelector.jsx"),i=r("./MapStore2/web/client/selectors/featuregrid.js").getCustomizedAttributes,a=r("./MapStore2/web/client/actions/featuregrid.js").customizeAttribute;e.exports=n((function(e){return{attributes:i(e)}}),{onChange:function(e,t){return a(e,"hide",t)}})(o)},"./MapStore2/web/client/plugins/featuregrid/panels/index.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/react-redux/es/index.js").connect,c=r("./node_modules/redux/es/index.js").bindActionCreators,u=r("./node_modules/reselect/es/index.js"),p=u.createSelector,d=u.createStructuredSelector,f=r("./MapStore2/web/client/selectors/controls.js"),m=f.widgetBuilderAvailable,y=f.wfsDownloadAvailable,b=r("./MapStore2/web/client/selectors/query.js"),g=b.paginationInfo,h=b.featureLoadingSelector,v=b.resultsSelector,S=b.isSyncWmsActive,w=b.featureCollectionResultSelector,O=r("./MapStore2/web/client/selectors/featuregrid.js"),j=O.getTitleSelector,E=O.modeSelector,x=O.selectedFeaturesCount,P=O.hasChangesSelector,T=O.hasGeometrySelector,M=O.isSimpleGeomSelector,A=O.hasNewFeaturesSelector,C=O.isSavingSelector,_=O.isSavedSelector,I=O.isDrawingSelector,R=O.getAttributeFilter,L=O.hasSupportedGeometry,D=O.timeSyncActive,k=O.showTimeSync,N=O.isEditingAllowedSelector,F=r("./MapStore2/web/client/selectors/maptype.js").isCesium,G=r("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,U=r("./MapStore2/web/client/selectors/featuregrid.js"),B=U.chartDisabledSelector,z=U.showAgainSelector,W=U.showPopoverSyncSelector,V=U.selectedLayerNameSelector,H=r("./MapStore2/web/client/actions/featuregrid.js"),q=H.deleteFeatures,Y=H.toggleTool,Z=H.clearChangeConfirmed,Q=H.closeFeatureGridConfirmed,K=H.closeFeatureGrid,X=r("./MapStore2/web/client/plugins/featuregrid/index.jsx"),J=X.toolbarEvents,$=X.pageEvents,ee=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/index.js").getFilterRenderer,te=r("./MapStore2/web/client/selectors/query.js"),re=te.isDescribeLoaded,ne=te.isFilterActive,oe=r("./MapStore2/web/client/utils/ogc/WFS/base.js"),ie=oe.getFeatureTypeProperties,ae=oe.isGeometryType,se=l(d({loading:h}))(r("./MapStore2/web/client/components/data/featuregrid/EmptyRowsView.jsx")),le=l(d({saving:C,saved:_,mode:E,hasChanges:P,hasNewFeatures:A,hasGeometry:T,syncPopover:function(e){return{showAgain:z(e),showPopoverSync:W(e),dockSize:G(e,{dockSize:!0}).dockSize+3.2+"%"}},isDrawing:I,showChartButton:function(e){return!B(e)&&m(e)},isSimpleGeom:M,selectedCount:x,disableToolbar:function(e){return e&&e.featuregrid&&e.featuregrid.disableToolbar||!re(e,V(e))},displayDownload:y,disableDownload:function(e){return 0===(v(e)||[]).length},isDownloadOpen:function(e){return e&&e.controls&&e.controls.wfsdownload&&e.controls.wfsdownload.enabled},isSyncActive:S,isColumnsOpen:function(e){return e&&e.featuregrid&&e.featuregrid.tools&&e.featuregrid.tools.settings},disableZoomAll:function(e){return e&&e.featuregrid.virtualScroll||0===w(e).features.length},isSearchAllowed:function(e){return!F(e)},isEditingAllowed:N,hasSupportedGeometry:L,isFilterActive:ne,showTimeSyncButton:k,timeSync:D}),(function(e){return{events:c(J,e)}}))(r("./MapStore2/web/client/components/data/featuregrid/toolbars/Toolbar.jsx")),ce=l(p(j,(function(e){return{title:e}})),{onClose:J.onClose})(r("./MapStore2/web/client/components/data/featuregrid/Header.jsx")),ue=l(p(d(g),h,(function(e){return e&&e.featuregrid&&!!e.featuregrid.virtualScroll}),(function(e,t,r){return i(i({},e),{},{loading:t,virtualScroll:r})})),$)(r("./MapStore2/web/client/components/data/featuregrid/Footer.jsx")),pe=l(p(x,(function(e){return{count:e}})),{onClose:function(){return Y("deleteConfirm",!1)},onConfirm:function(){return q()}})(r("./MapStore2/web/client/components/data/featuregrid/dialog/ConfirmDelete.jsx")),de=l(p(x,(function(e){return{count:e}})),{onClose:function(){return Y("clearConfirm",!1)},onConfirm:function(){return Z()}})(r("./MapStore2/web/client/components/data/featuregrid/dialog/ConfirmClear.jsx")),fe=l((function(){}),{onClose:function(){return Q()},onConfirm:function(){return K()}})(r("./MapStore2/web/client/components/data/featuregrid/dialog/ConfirmFeatureClose.jsx")),me={settings:r("./MapStore2/web/client/plugins/featuregrid/panels/AttributeSelector.jsx")},ye={deleteConfirm:pe,featureCloseConfirm:fe,clearConfirm:de},be={settings:{style:{padding:"0 12px",overflow:"auto",flex:"0 0 14em",boxShadow:"inset 0px 0px 10px rgba(0, 0, 0, 0.4)",height:"100%",minWidth:195}}};e.exports={getPanels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&me[t]})).map((function(e){var t=me[e];return s.createElement(t,n({key:e},be[e]||{}))}))},getHeader:function(){return s.createElement(ce,null,s.createElement(le,null))},getFooter:function(e){return e.focusOnEdit&&e.hasChanges||e.newFeatures.length>0?null:s.createElement(ue,null)},getEmptyRowsView:function(){return se},getFilterRenderers:p((function(e){return e}),(function(e){return e?(ie(e)||[]).reduce((function(e,t){return i(i({},e),{},a({},t.name,l(p((function(e){return R(e,t.name)}),E,(function(e,r){var n=i({value:e&&(e.rawValue||e.value)},ae(t)?{filterEnabled:null==e?void 0:e.enabled,filterDeactivated:null==e?void 0:e.deactivated}:{}),o=ae(t)?{}:{disabled:!0,tooltipMsgId:"featuregrid.filter.tooltips.editMode"};return"EDIT"===r?i(i({},n),o):n})))(ee(ae(t)?"geometry":t.localType,{name:t.name}))))}),{}):{}})),getDialogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&ye[t]})).map((function(e){var t=ye[e];return s.createElement(t,{key:e})}))}}},"./MapStore2/web/client/plugins/featuregrid/toolbarEvents.js":function(e,t,r){var n=r("./MapStore2/web/client/actions/controls.js").toggleControl,o=r("./MapStore2/web/client/actions/featuregrid.js"),i=o.toggleTool,a=o.toggleEditMode,s=o.toggleViewMode,l=o.closeFeatureGridConfirm,c=o.saveChanges,u=o.hideSyncPopover,p=o.setTimeSync,d=o.toggleShowAgain,f=o.createNewFeatures,m=o.startEditingFeature,y=o.startDrawingFeature,b=o.deleteGeometry,g=o.openAdvancedSearch,h=o.zoomAll,v=r("./MapStore2/web/client/actions/widgets.js").createChart,S=r("./MapStore2/web/client/actions/wfsquery.js").toggleSyncWms;e.exports={createFeature:function(){return f([{}])},saveChanges:function(){return c()},clearFeatureEditing:function(){return i("clearConfirm",!0)},deleteGeometry:function(){return b()},deleteFeatures:function(){return i("deleteConfirm",!0)},download:function(){return n("wfsdownload")},settings:function(){return i("settings")},switchEditMode:function(){return a()},startEditingFeature:function(){return m()},startDrawingFeature:function(){return y()},switchViewMode:function(){return s()},onClose:function(){return l()},showQueryPanel:function(){return g()},zoomAll:function(){return h()},sync:function(){return S()},setTimeSync:p,hideSyncPopover:function(){return u()},toggleShowAgain:function(){return d()},chart:function(){return v()}}},"./MapStore2/web/client/plugins/help/HelpWrapper.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./MapStore2/web/client/actions/help.js"),i=o.changeHelpwinVisibility,a=o.changeHelpText;e.exports=n((function(e){return{helpEnabled:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:a,changeHelpwinVisibility:i})(r("./MapStore2/web/client/components/help/HelpWrapper.jsx"))},"./MapStore2/web/client/plugins/identify/featureButtons.js":function(e,t){e.exports=function(e){var t=e.showHighlightFeatureButton,r=e.currentFeature,n=e.highlight,o=e.toggleHighlightFeature,i=void 0===o?function(){}:o,a=e.zoomToFeature,s=void 0===a?function(){}:a;return[{glyph:"map-filter",visible:t,tooltipId:n?"identifyStopHighlightingFeatures":"identifyHighlightFeatures",bsStyle:n?"success":"primary",onClick:function(){return i(!n)}},{glyph:"zoom-to",visible:n&&!!r&&r.length>0&&r.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.geometry;return e||!!r}),!1)||!1,tooltipId:"identifyZoomToFeature",onClick:s}]}},"./MapStore2/web/client/plugins/identify/identify.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/identify/toolButtons.js":function(e,t){function r(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}e.exports=function(e){e.showHighlightFeatureButton,e.currentFeature,e.highlight;var t=e.onEdit,n=void 0===t?function(){}:t,o=r(e,["showHighlightFeatureButton","currentFeature","highlight","onEdit"]);return[{glyph:"info-sign",tooltipId:"identifyRevGeocodeSubmitText",visible:o.latlng&&o.enableRevGeocode&&o.lngCorrected&&o.showMoreInfo,onClick:function(){o.showRevGeocode({lat:o.latlng.lat,lng:o.lngCorrected})}},{glyph:"search-coords",tooltipId:o.showCoordinateEditor?"identifyHideCoordinateEditor":"identifyShowCoordinateEditor",visible:o.enabledCoordEditorButton,bsStyle:o.showCoordinateEditor?"success":"primary",onClick:function(){o.onToggleShowCoordinateEditor(o.showCoordinateEditor)}},{glyph:"pencil",visible:o.showEdit,tooltipId:"identifyEdit",onClick:function(){return n()}}].filter((function(e){return e&&e.visible}))}},"./MapStore2/web/client/plugins/locale/Message.jsx":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect;e.exports=n((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(r("./MapStore2/web/client/components/I18N/Message.jsx"))},"./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$":function(e,t,r){var n={"./cesium/index":"./MapStore2/web/client/plugins/map/cesium/index.js","./leaflet/index":"./MapStore2/web/client/plugins/map/leaflet/index.js","./openlayers/index":"./MapStore2/web/client/plugins/map/openlayers/index.js"};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$"},"./MapStore2/web/client/plugins/map/cesium/index.js":function(e,t,r){e.exports={LMap:r("./MapStore2/web/client/components/map/cesium/Map.jsx"),Layer:r("./MapStore2/web/client/components/map/cesium/Layer.jsx")}},"./MapStore2/web/client/plugins/map/css/map.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/map/index.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/reselect/es/index.js").createSelector,i=r("./MapStore2/web/client/actions/map.js"),a=i.creationError,s=i.changeMapView,l=i.clickOnMap,c=i.mouseMove,u=i.mouseOut,p=r("./MapStore2/web/client/actions/mapPopups.js").removePopup,d=r("./MapStore2/web/client/actions/layers.js"),f=d.layerLoading,m=d.layerLoad,y=d.layerError,b=r("./MapStore2/web/client/actions/measurement.js"),g=b.changeMeasurementState,h=b.changeGeometry,v=b.resetGeometry,S=b.updateMeasures,w=b.setTextLabels,O=b.changeMeasurement,j=r("./MapStore2/web/client/selectors/measurement.js").measurementSelector,E=r("./MapStore2/web/client/actions/selection.js").changeSelectionState,x=r("./MapStore2/web/client/actions/locate.js"),P=x.changeLocateState,T=x.onLocateError,M=r("./MapStore2/web/client/actions/draw.js"),A=M.changeDrawingStatus,C=M.endDrawing,_=M.setCurrentStyle,I=M.geometryChanged,R=M.drawStopped,L=M.selectFeatures,D=M.drawingFeatures,k=r("./MapStore2/web/client/actions/highlight.js").updateHighlighted,N=r("./MapStore2/web/client/actions/notifications.js").warning,F=r("./node_modules/react-redux/es/index.js").connect,G=r("./node_modules/object-assign/index.js"),U=r("./MapStore2/web/client/selectors/map.js"),B=U.projectionDefsSelector,z=U.isMouseMoveActiveSelector,W=function(){return n.createElement("span",null)};e.exports=function(e,t){var n=r("./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$")("./"+e+"/index"),i=F((function(e){return{projectionDefs:B(e),mousePosition:z(e)}}),G({},{onCreationError:a,onMapViewChanges:s,onClick:l,onMouseMove:c,onLayerLoading:f,onLayerLoad:m,onLayerError:y,onWarning:N,onMouseOut:u},t),(function(e,t,r){return G({},r,e,G({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(n.LMap),d=F((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:j(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m"}}}}),{changeMeasurementState:g,updateMeasures:S,resetGeometry:v,changeGeometry:h,setTextLabels:w,changeMeasurement:O})(n.MeasurementSupport||W),b=F((function(e){return{status:e.locate&&e.locate.state,messages:e.locale&&e.locale.messages?e.locale.messages.locate:void 0}}),{changeLocateState:P,onLocateError:T})(n.Locate||W),x=F((function(e){return e.draw||{}}),{onChangeDrawingStatus:A,onEndDrawing:C,onGeometryChanged:I,onSelectFeatures:L,onDrawingFeatures:D,onDrawStopped:R,setCurrentStyle:_})(n.DrawSupport||W),M=F((function(e){return e.highlight||{}}),{updateHighlighted:k})(n.HighlightFeatureSupport||W),U=F((function(e){return{selection:e.selection||{}}}),{changeSelectionState:E})(n.SelectionSupport||W);r("./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$")("./"+e+"/plugins/index");var V=F(null,{onWarning:N})(n.Layer||W),H=[],q=F(o((function(e){return e.mapPopups&&e.mapPopups.popups||H}),(function(e){return{popups:e}})),{onPopupClose:p})(n.PopupSupport||W);return{Map:i,Layer:V,Feature:n.Feature||W,tools:{measurement:d,locate:b,overview:n.Overview||W,scalebar:n.ScaleBar||W,draw:x,highlight:M,selection:U,popup:q}}}},"./MapStore2/web/client/plugins/map/leaflet/index.js":function(e,t,r){e.exports={LMap:r("./MapStore2/web/client/components/map/leaflet/Map.jsx"),Layer:r("./MapStore2/web/client/components/map/leaflet/Layer.jsx"),Feature:r("./MapStore2/web/client/components/map/leaflet/Feature.jsx"),Locate:r("./MapStore2/web/client/components/map/leaflet/Locate.jsx"),MeasurementSupport:r("./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx"),Overview:r("./MapStore2/web/client/components/map/leaflet/Overview.jsx"),ScaleBar:r("./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx"),DrawSupport:r("./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx"),HighlightFeatureSupport:r("./MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx"),PopupSupport:r("./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx").default}},"./MapStore2/web/client/plugins/map/openlayers/index.js":function(e,t,r){var n=r("./MapStore2/web/client/components/I18N/enhancers/addI18NProps.js")(["formatNumber"]);e.exports={LMap:r("./MapStore2/web/client/components/map/openlayers/Map.jsx").default,Layer:r("./MapStore2/web/client/components/map/openlayers/Layer.jsx").default,Feature:r("./MapStore2/web/client/components/map/openlayers/Feature.jsx").default,Locate:r("./MapStore2/web/client/components/map/openlayers/Locate.jsx").default,MeasurementSupport:n(r("./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx").default),Overview:r("./MapStore2/web/client/components/map/openlayers/Overview.jsx").default,ScaleBar:r("./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx").default,DrawSupport:r("./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx").default,HighlightFeatureSupport:r("./MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx").default,SelectionSupport:r("./MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx").default,PopupSupport:r("./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx").default}},"./MapStore2/web/client/plugins/map/selector.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/selectors/map.js"),i=r("./MapStore2/web/client/selectors/maptype.js"),a=r("./MapStore2/web/client/selectors/layers.js"),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js");function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){return Object(s.get)(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},d=function(e){return p(e)&&p(e).geometry},f=Object(n.createSelector)([function(e){return d(e)&&d(e).coordinates||[]},function(e){return d(e)&&d(e).type||"Polygon"},function(e){return d(e)&&d(e).id||"spatial_object"},function(e){return d(e)&&d(e).projection||"EPSG:3857"}],(function(e,t,r,n){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:r}]};return e.length>0&&t?Object(l.reprojectGeoJson)(o,n,"EPSG:4326").features:[]})),m=Object(n.createSelector)([f,function(e){return Object(s.get)(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(c(t),c(e))})),y=r("./MapStore2/web/client/selectors/security.js"),b=r("./MapStore2/web/client/selectors/locale.js"),g=r("./MapStore2/web/client/selectors/localizedLayerStyles.js");t.default=Object(n.createStructuredSelector)({projectionDefs:o.projectionDefsSelector,map:o.mapSelector,mapType:i.mapTypeSelector,layers:a.layerSelectorWithMarkers,features:m,loadingError:function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data},securityToken:y.securityTokenSelector,elevationEnabled:o.isMouseMoveCoordinatesActiveSelector,shouldLoadFont:i.isOpenlayers,isLocalizedLayerStylesEnabled:g.isLocalizedLayerStylesEnabledSelector,localizedLayerStylesName:g.localizedLayerStylesNameSelector,currentLocaleLanguage:b.currentLocaleLanguageSelector})},"./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/measure/index.js":function(e,t,r){var n=r("./MapStore2/web/client/components/mapcontrols/measure/MeasureComponent.jsx"),o=r("./MapStore2/web/client/components/mapcontrols/measure/MeasureDialog.jsx");e.exports={MeasureComponent:n,MeasureDialog:o}},"./MapStore2/web/client/plugins/metadataexplorer/css/style.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/metadataexplorer/css/style.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/playback/Playback.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,i=r("./node_modules/reselect/es/index.js").createSelector,a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withState,c=a.withProps,u=a.withHandlers,p=r("./MapStore2/web/client/selectors/timeline.js").selectedLayerSelector,d=r("./MapStore2/web/client/selectors/playback.js"),f=d.statusSelector,m=d.hasPrevNextAnimationSteps,y=d.playbackMetadataSelector,b=r("./MapStore2/web/client/actions/playback.js"),g=b.animationStepMove,h=b.STATUS,v=r("./MapStore2/web/client/components/I18N/Message.jsx"),S=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),w=r("./MapStore2/web/client/plugins/playback/Settings.jsx"),O=s(l("showSettings","onShowSettings",!1),l("collapsed","setCollapsed",!0),c((function(e){var t=e.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return t(!0)}}]}}))),j=s(o(i(f,p,y,m,(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return t?e===h.PLAY||e===h.PAUSE?n:{hasNext:!!r.next,hasPrevious:!!r.previous}:{hasNext:!0,hasPrevious:!0}})),{stepMove:g}),u({forward:function(e){var t=e.stepMove,r=void 0===t?function(){}:t;return function(){return r(1)}},backward:function(e){var t=e.stepMove,r=void 0===t?function(){}:t;return function(){return r(-1)}}})),E=s(O,j);e.exports=E((function(e){var t=e.status,r=e.statusMap,o=e.play,i=void 0===o?function(){}:o,a=e.forward,s=void 0===a?function(){}:a,l=e.backward,c=void 0===l?function(){}:l,u=e.pause,p=void 0===u?function(){}:u,d=e.stop,f=void 0===d?function(){}:d,m=e.hasPrevious,y=e.hasNext,b=e.showSettings,g=e.onShowSettings,h=void 0===g?function(){}:g,O=e.settingsStyle,j=void 0===O?{}:O;return n.createElement("div",{style:{display:"flex"}},t!==r.PLAY&&t!==r.PAUSE&&b&&n.createElement(w,{style:j}),n.createElement(S,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:c,disabled:!m,tooltip:n.createElement(v,{msgId:"playback.backwardStep"})},{glyph:t===r.PLAY?"pause":"play",key:"play",active:t===r.PLAY||t===r.PAUSE,disabled:!y,bsStyle:t===r.PLAY||t===r.PAUSE?"success":"primary",onClick:function(){return t===r.PLAY?p():i()},tooltipId:y&&(t===r.PLAY?"playback.pause":t===r.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:t!==r.PLAY&&t!==r.PAUSE,onClick:f,tooltip:!(t!==r.PLAY&&t!==r.PAUSE)&&n.createElement(v,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:s,disabled:!y,tooltip:y&&n.createElement(v,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:t!==r.PLAY&&t!==r.PAUSE&&b?"success":"primary",active:(t!==r.PLAY||t!==r.PAUSE)&&!!b,disabled:t===r.PLAY||t===r.PAUSE,onClick:function(){return t!==r.PLAY&&h(!b)},tooltip:!(t===r.PLAY||t===r.PAUSE)&&n.createElement(v,{msgId:"playback.settings.tooltip"})}]}))}))},"./MapStore2/web/client/plugins/playback/Settings.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react-redux/es/index.js").connect,a=r("./node_modules/reselect/es/index.js").createSelector,s=r("./node_modules/moment/moment.js"),l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.withProps,p=l.withHandlers,d=r("./MapStore2/web/client/selectors/playback.js"),f=d.playbackSettingsSelector,m=d.playbackRangeSelector,y=r("./MapStore2/web/client/selectors/timeline.js"),b=y.selectedLayerSelector,g=y.rangeSelector,h=y.selectedLayerDataRangeSelector,v=r("./MapStore2/web/client/actions/playback.js"),S=v.selectPlaybackRange,w=v.changeSetting,O=v.toggleAnimationMode,j=r("./MapStore2/web/client/actions/timeline.js").onRangeChanged;e.exports=c(i(a(f,b,m,(function(e,t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fixedStep:!t,playbackRange:r},e)})),{setPlaybackRange:S,onSettingChange:w,toggleAnimationMode:O}),c(i(a(g,h,(function(e,t){return{layerRange:t,viewRange:e}})),{moveTo:j}),p({toggleAnimationRange:function(e){var t=e.fixedStep,r=e.layerRange,n=e.viewRange,o=void 0===n?{}:n,i=e.setPlaybackRange,a=void 0===i?function(){}:i;return function(e){var n=t?o:r;n={startPlaybackTime:s(n&&n.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:s(n&&n.end||new Date).add(1,"days").toISOString()},a(e?n:void 0)}},setPlaybackToCurrentViewRange:function(e){var t=e.viewRange,r=void 0===t?{}:t,n=e.setPlaybackRange,o=void 0===n?function(){}:n;return function(){r.start&&r.end&&o({startPlaybackTime:s(r.start).toISOString(),endPlaybackTime:s(r.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(e){var t=e.setPlaybackRange,r=void 0===t?function(){}:t,n=e.layerRange;return function(){return n&&r({startPlaybackTime:n.start,endPlaybackTime:n.end})}}}),u((function(e){var t=e.playbackRange,r=e.fixedStep,n=e.moveTo,o=void 0===n?function(){}:n,i=e.setPlaybackToCurrentViewRange,a=void 0===i?function(){}:i,s=e.setPlaybackToCurrentLayerDataRange,l=void 0===s?function(){}:s;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:t.startPlaybackTime,end:t.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return a()}},{glyph:"1-layer",visible:!r,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return l()}}]}}))))(r("./MapStore2/web/client/components/playback/Settings.jsx"))},"./MapStore2/web/client/plugins/print/print.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/searchbar/ToggleButton.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./node_modules/prop-types/index.js"),d=r("./node_modules/react/index.js"),f=r("./node_modules/react-redux/es/index.js").connect,m=r("./node_modules/react-bootstrap/es/index.js"),y=m.Button,b=m.Glyphicon,g=r("./MapStore2/web/client/actions/controls.js").toggleControl,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,r,n,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var e=this;return d.createElement(y,{onClick:function(){return e.props.onToggle(e.props.pressed)},bsStyle:this.props.pressed?"default":"primary",className:"square-button search-toggle"},d.createElement(b,{glyph:"search"}))}}])&&i(t.prototype,r),n&&i(t,n),c}(d.Component);u(h,"propTypes",{pressed:p.bool,onToggle:p.func}),u(h,"defaultProps",{pressed:!1,onToggle:function(){}}),e.exports=f((function(e){return{pressed:e.controls&&e.controls.search&&e.controls.search.enabled||!1}}),{onToggle:g.bind(null,"search",null)})(h)},"./MapStore2/web/client/plugins/styleeditor/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-redux/es/index.js"),a=r("./node_modules/reselect/es/index.js"),s=r("./node_modules/recompose/es/Recompose.js"),l=r("./MapStore2/web/client/actions/styleeditor.js"),c=r("./MapStore2/web/client/actions/additionallayers.js"),u=r("./MapStore2/web/client/actions/layers.js"),p=r("./MapStore2/web/client/actions/layerCapabilities.js"),d=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),f=r.n(d),m=r("./MapStore2/web/client/components/misc/enhancers/withMask.js"),y=r.n(m),b=r("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),g=r.n(b),h=r("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),v=r.n(h),S=r("./MapStore2/web/client/components/misc/Loader.jsx"),w=r.n(S),O=r("./MapStore2/web/client/components/I18N/Message.jsx"),j=r.n(O),E=r("./MapStore2/web/client/selectors/styleeditor.js"),x=r("./MapStore2/web/client/utils/StyleEditorUtils.js"),P=r("./MapStore2/node_modules/lodash/isObject.js"),T=r.n(P),M=r("./MapStore2/node_modules/lodash/isArray.js"),A=r.n(M),C=r("./MapStore2/web/client/plugins/styleeditor/inlineWidgets.js"),_=r.n(C),I=r("./MapStore2/web/client/api/SLDService.js"),R=r("./MapStore2/web/client/selectors/map.js"),L=r("./MapStore2/web/client/components/styleeditor/Editor.jsx"),D=r.n(L),k=r("./node_modules/prop-types/index.js"),N=r.n(k),F=r("./MapStore2/node_modules/lodash/debounce.js"),G=r.n(F),U=r("./MapStore2/node_modules/lodash/find.js"),B=r.n(U),z=r("./MapStore2/node_modules/lodash/identity.js"),W=r.n(z),V=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),H=r.n(V),q=r("./node_modules/react-bootstrap/es/index.js"),Y=r("./MapStore2/node_modules/lodash/omit.js"),Z=r.n(Y),Q=r("./MapStore2/node_modules/lodash/isNil.js"),K=r.n(Q),X=r("./MapStore2/node_modules/lodash/isNaN.js"),J=r.n(X),$=r("./MapStore2/web/client/components/style/ColorSelector.jsx"),ee=r("./MapStore2/web/client/components/misc/Slider.jsx"),te=r.n(ee),re=r("./MapStore2/web/client/components/styleeditor/ColorRamp.jsx"),ne=r("./MapStore2/web/client/components/style/vector/DashArray.jsx"),oe=r.n(ne),ie=r("./MapStore2/web/client/components/style/ThemaClassesEditor.jsx"),ae=r.n(ie),se=r("./node_modules/react-select/dist/react-select.es.js"),le=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js"),ce=r.n(le);var ue=function(e){var t=e.children,r=e.label,n=e.tools,i=e.divider,a=e.invalid,s=e.disabled;if(i)return o.a.createElement("div",{className:"ms-symbolizer-field-divider"});var l=a?" ms-symbolizer-value-invalid":"",c=s?" ms-symbolizer-value-disabled":"";return o.a.createElement("div",{className:"ms-symbolizer-field"},o.a.createElement("div",{className:"ms-symbolizer-label"},o.a.createElement(j.a,{msgId:r})),o.a.createElement("div",{className:"ms-symbolizer-value"+l+c,onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},t,o.a.createElement("div",{className:"ms-symbolizer-tools"},n)))},pe=r("./node_modules/react-dom/index.js"),de=r("./MapStore2/web/client/utils/ConfigUtils.js"),fe=r("./MapStore2/node_modules/lodash/isFunction.js"),me=r.n(fe);function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oe(e){var t=e.containerNode,r=void 0===t?function(){return document.querySelector("."+(Object(de.getConfigProp)("themePrefix")||"ms2")+" > div")||document.body}:t,i=e.placement,a=e.content,s=e.children,l=e.open,c=e.onOpen,u=void 0===c?function(){}:c,p=me()(r)?r():r,d=Object(n.useRef)({picker:{opacity:0},arrow:{opacity:0},overlay:{}}),f=Se(Object(n.useState)(d.current),2),m=f[0],y=f[1],b=Object(n.useRef)(),g=Object(n.useRef)(),h=Object(n.useRef)(),v=Object(n.useCallback)((function(){var e,t,r,n,o,a;if(!l)return d.current;var s={picker:{},overlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},arrow:{opacity:0}};if("center"===i)return s;var c=null==b||null===(e=b.current)||void 0===e||null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e),u=null==g||null===(r=g.current)||void 0===r||null===(n=r.getBoundingClientRect)||void 0===n?void 0:n.call(r),p=null==h||null===(o=h.current)||void 0===o||null===(a=o.getBoundingClientRect)||void 0===a?void 0:a.call(o);if(c&&u&&p){var f,m,y,v,S=p.width,w=p.height,O=u.top,j=u.left,E=u.width,x=u.height,P=c.top,T=c.left,M=c.width,A=c.height,C=[T+M/2,P+A/2],_=C[0]-j>S/2+10&&j+E-C[0]>S/2+10,I=C[1]-O>w/2+10&&O+x-C[1]>w/2+10,R={top:{filter:function(){return _&&P-O>w+10},styles:function(){return{picker:{position:"absolute",top:P-w-10-O,left:T+M/2-S/2-j},overlay:{},arrow:{top:P+2,left:T+M/2,transform:"translate(-50%, -50%) rotateZ(270deg) translateX(50%)"}}}},right:{filter:function(){return I&&j+E-(T+M)>S+10},styles:function(){return{picker:{position:"absolute",top:P-w/2-O,left:T+M+10-j},overlay:{},arrow:{top:P+A/2,left:T+M-2,transform:"translate(-50%, -50%) rotateZ(0deg) translateX(50%)"}}}},bottom:{filter:function(){return _&&O+x-(P+A)>w+10},styles:function(){return{picker:{position:"absolute",top:P+A+10-O,left:T+M/2-S/2-j},overlay:{},arrow:{top:P+A-2,left:T+M/2,transform:"translate(-50%, -50%) rotateZ(90deg) translateX(50%)"}}}},left:{filter:function(){return I&&T-j>S+10},styles:function(){return{picker:{position:"absolute",top:P-w/2-O,left:T-S-10-j},overlay:{},arrow:{top:P+A/2,left:T+2,transform:"translate(-50%, -50%) rotateZ(180deg) translateX(50%)"}}}}};if(null==R||null===(f=R[i])||void 0===f||null===(m=f.filter)||void 0===m?void 0:m.call(f))return null==R||null===(y=R[i])||void 0===y||null===(v=y.styles)||void 0===v?void 0:v.call(y);if("top"!==i&&R.top.filter())return R.top.styles();if("right"!==i&&R.right.filter())return R.right.styles();if("bottom"!==i&&R.bottom.filter())return R.bottom.styles();if("left"!==i&&R.left.filter())return R.left.styles()}return s}),[i,l]);Object(n.useEffect)((function(){y(v());var e=function(){return y(v())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[v]);var S=Object(n.useRef)();return S.current={open:l},Object(n.useEffect)((function(){function e(e){var t=h.current,r=t&&e.target&&t.contains(e.target);if(S.current.open&&!r){var n,o,i=e.clientX,a=e.clientY,s=(null==h||null===(n=h.current)||void 0===n||null===(o=n.getBoundingClientRect)||void 0===o?void 0:o.call(n))||{},l=s.left,c=s.top,p=s.width,d=s.height;void 0!==i&&void 0!==a&&!(i>=l&&i<=l+p&&a>=c&&a<=c+d)&&u(!1)}}return window.addEventListener("click",e,!0),window.addEventListener("wheel",e,!0),window.addEventListener("scroll",e,!0),function(){window.removeEventListener("click",e,!0),window.removeEventListener("wheel",e,!0),window.removeEventListener("scroll",e,!0)}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ms-popover",ref:b},Object(n.cloneElement)(s,{onClick:function(e){e.stopPropagation(),u(!l)}})),p&&l?Object(pe.createPortal)(o.a.createElement("div",{className:"ms-popover-overlay",ref:g,style:he({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",top:0,left:0,pointerEvents:"none"},null==m?void 0:m.overlay)},o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:0,left:0}}),o.a.createElement("div",{ref:h,style:he({pointerEvents:"auto"},null==m?void 0:m.picker)},a),o.a.createElement("div",{className:"ms-popover-arrow",style:he({position:"absolute",borderTop:"".concat(9,"px solid transparent"),borderBottom:"".concat(9,"px solid transparent"),borderRight:"".concat(9,"px solid #ffffff"),filter:"drop-shadow(-4px 2px 4px rgba(0, 0, 0, 0.2))"},null==m?void 0:m.arrow)})),p):null)}var je=function(e){var t=e.open,r=e.onOpen,i=void 0===r?function(){}:r,a=be(e,["open","onOpen"]),s=Se(Object(n.useState)(t),2),l=s[0],c=s[1];return o.a.createElement(Oe,ye({},a,{open:l,onOpen:function(e){c(e),i(e)}}))},Ee=r("./MapStore2/web/client/components/styleeditor/SVGPreview.jsx"),xe=r.n(Ee),Pe=[{value:"Circle",label:"styleeditor.circle",preview:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Square",label:"styleeditor.square",preview:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Triangle",label:"styleeditor.triangle",preview:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Star",label:"styleeditor.star",preview:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"Cross",label:"styleeditor.cross",preview:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"X",label:"styleeditor.x",preview:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#f2f2f2",fill:"#333333",strokeWidth:4}]}},{value:"shape://vertline",label:"styleeditor.verticalLine",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://horline",label:"styleeditor.horizontalLine",preview:{type:"point",paths:[{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://slash",label:"styleeditor.slash",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://backslash",label:"styleeditor.backslash",preview:{type:"point",paths:[{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://dot",label:"styleeditor.dot",preview:{type:"point",paths:[{d:"M 95,100 105,100 Z",stroke:"#333333",strokeWidth:10,fill:"none"}]}},{value:"shape://plus",label:"styleeditor.plus",preview:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://times",label:"styleeditor.times",preview:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#333333",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://oarrow",label:"styleeditor.openArrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#333333",strokeWidth:4,fill:"none"}]}},{value:"shape://carrow",label:"styleeditor.closedArrow",preview:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#333333",strokeWidth:4,fill:"none"}]}}],Te=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),Me=r.n(Te),Ae=Me()(q.Button);var Ce=function(e){var t=e.value,r=e.config,n=void 0===r?{}:r,i=e.onChange,a=void 0===i?function(){}:i,s=n.options,l=void 0===s?Pe:s,c=l.find((function(e){return e.value===t}));return o.a.createElement(je,{content:o.a.createElement("div",{className:"ms-mark-list"},o.a.createElement("ul",null,l.map((function(e){return o.a.createElement("li",{key:e.value},o.a.createElement(Ae,{className:"ms-mark-preview",active:e.value===t,onClick:function(){return a(e.value)}},o.a.createElement(xe.a,e.preview)))}))))},o.a.createElement(Ae,{className:"ms-mark-preview"},c&&o.a.createElement(xe.a,c.preview)))};var _e=function(e){var t=e.label,r=void 0===t?"styleeditor.band":t,n=e.value,i=e.bands,a=e.onChange,s=e.enhancementType;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ue,{label:r},o.a.createElement(se.default,{clearable:!1,options:i,value:n,onChange:function(e){return a("band",e.value)}})),o.a.createElement(ue,{label:"styleeditor.contrastEnhancement"},o.a.createElement(se.default,{clearable:!1,options:[{label:o.a.createElement(j.a,{msgId:"styleeditor.none"}),value:"none"},{label:o.a.createElement(j.a,{msgId:"styleeditor.normalize"}),value:"normalize"},{label:o.a.createElement(j.a,{msgId:"styleeditor.histogram"}),value:"histogram"}],value:s||"none",onChange:function(e){var t="none"===e.value?void 0:e.value;a("enhancementType",t)}})))};function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||De(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||De(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){if(e){if("string"==typeof e)return ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(e,t):void 0}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ne(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Be=ce()("placeholder")(q.FormControl),ze=ce()(["placeholder","noResultsText"])(se.default),We=ce()(["placeholder","noResultsText"])(se.default.Creatable),Ve={color:function(e){var t=e.label,r=e.config,i=void 0===r?{}:r,a=e.value,s=e.onChange,l=void 0===s?function(){}:s,c=e.disableAlpha,u=Object(n.useRef)({value:a});if(u.current={value:a},"pattern"===(T()(a)&&a.kind?"pattern":"solid")){var p=((null==i?void 0:i.getGroupParams(a.kind))||{}).params,d=void 0===p?{}:p,f=(null==i?void 0:i.getGroupConfig(a.kind))||{},m=a;return o.a.createElement(o.a.Fragment,null,o.a.createElement(He,{properties:m,params:f.omittedKeys?Z()(d,f.omittedKeys):d,config:{disableAlpha:f.disableAlpha},onChange:function(e){return l(Ge(Ge({},u.current.value),e))}}),o.a.createElement(ue,{divider:!0}))}return o.a.createElement(ue,{label:t},o.a.createElement($.default,{color:a,line:i.stroke,disableAlpha:i.disableAlpha||c,onChangeColor:function(e){return e&&l(e)}}))},slider:function(e){var t=e.label,r=e.value,n=e.disabled,i=e.config,a=void 0===i?{}:i,s=e.onChange,l=void 0===s?function(){}:s;return o.a.createElement(ue,{label:t,disabled:n},o.a.createElement("div",{className:"mapstore-slider with-tooltip",onClick:function(e){e.stopPropagation()}},o.a.createElement(te.a,{start:[r],disabled:n,tooltips:[!0],format:a.format,range:a.range||{min:0,max:10},onChange:function(e){return l(e)}})))},input:function(e){var t=e.label,r=e.value,n=e.config,i=void 0===n?{}:n,a=e.onChange,s=void 0===a?function(){}:a;return o.a.createElement(ue,{label:t},o.a.createElement(q.FormGroup,null,o.a.createElement(Be,{type:i.type||"text",value:r,placeholder:"styleeditor.placeholderInput",onChange:function(e){return s(e.target.value)}})))},toolbar:function(e){var t=e.label,r=e.value,n=e.onChange,i=void 0===n?function(){}:n,a=e.config,s=void 0===a?{}:a,l=e.disabled;return o.a.createElement(ue,{label:t,disabled:l},o.a.createElement(H.a,{btnDefaultProps:{className:"no-border",bsSize:"xs"},buttons:(s.options||[]).map((function(e){var t=e.glyph,n=e.label,a=e.labelId,s=e.tooltipId,c=e.value;return{glyph:t,tooltipId:s,disabled:l,text:a?o.a.createElement(j.a,{msgId:a}):n,active:c===r,onClick:function(){return i(r===c?void 0:c)}}}))}))},mark:function(e){var t=e.label,r=Ne(e,["label"]);return o.a.createElement(ue,{label:t},o.a.createElement(Ce,r))},image:function(e){var t=e.label,r=e.value,n=e.config.isValid,i=e.onChange,a=!n||n({value:r});return o.a.createElement(ue,{label:t,invalid:!a},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement(q.FormGroup,{style:{flex:1}},o.a.createElement(Be,{placeholder:"styleeditor.placeholderEnterImageUrl",value:r,onChange:function(e){return i(e.target.value)}})),o.a.createElement("img",{src:r,style:{width:28,height:28,objectFit:"contain"}})))},select:function(e){var t=e.label,r=e.value,i=e.config,a=i.getOptions,s=void 0===a?function(){return[]}:a,l=i.selectProps,c=void 0===l?{}:l,u=i.isValid,p=e.onChange,d=Ne(e,["label","value","config","onChange"]),f=c.creatable,m=c.clearable,y=void 0!==m&&m,b=c.multi;function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=e.map((function(e){return e.value})),n=(null==t?void 0:t.value)&&-1===r.indexOf(t.value);return n?[t].concat(Le(e)):e}function h(e){return r?[{value:r,label:r}].reduce(g,e):e}var v=s(d),S=Re(Object(n.useState)(h(v)),2),w=S[0],O=S[1];Object(n.useEffect)((function(){O(h(v))}),[null==v?void 0:v.length]);var E=f?We:ze,x=!u||u({value:r});return o.a.createElement(ue,{label:t,invalid:!x},o.a.createElement(E,Ie({clearable:y,placeholder:"styleeditor.selectPlaceholder",noResultsText:"styleeditor.noResultsSelectInput"},c,{options:w.map((function(e){return Ge(Ge({},e),{},{label:e.labelId?o.a.createElement(j.a,{msgId:e.labelId}):e.label})})),value:r,onChange:function(e){return b?p(e.length>0?e.map((function(e){return e.value})):void 0):(O(g(w,e)),p(e.value))}})))},colorRamp:function(e){var t=e.label,r=e.value,n=e.config,i=n.samples,a=void 0===i?5:i,s=n.getOptions,l=void 0===s?function(){return[]}:s,c=n.rampFunction,u=void 0===c?function(e){return e.colors}:c,p=e.onChange,d=l(Ne(e,["label","value","config","onChange"]));return o.a.createElement(ue,{label:t},o.a.createElement(re.default,{items:d,rampFunction:u,samples:a,value:{name:r},onChange:function(e){return p(e.name)}}))},colorMap:function(e){var t=e.value,r=e.onChange;return o.a.createElement("div",{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o.a.createElement(ae.a,{classification:t,onUpdateClasses:function(e,t){return r({classification:e,type:t})}}))},channel:function(e){var t,r,n,i=e.value,a=e.onChange,s=e.bands,l=i.channelSelection,c=l?l.grayChannel?"gray":"rgb":"auto",u=(s||[]).map((function(e){return{label:e,value:e}}));if("rgb"===c)return Object.keys(l).map((function(e){var t,r,n=null===(t=l[e])||void 0===t?void 0:t.sourceChannelName,s=null===(r=l[e])||void 0===r?void 0:r.contrastEnhancement;return o.a.createElement(o.a.Fragment,null,o.a.createElement(_e,{key:e,value:n,bands:u,label:"styleeditor."+e,enhancementType:(null==s?void 0:s.enhancementType)||"none",onChange:function(t,r){return"band"===t?a({contrastEnhancement:{},channelSelection:Ge(Ge({},i.channelSelection),{},Ue({},e,Ge(Ge({},i.channelSelection[e]),{},{sourceChannelName:r})))}):"enhancementType"===t?a({contrastEnhancement:{},channelSelection:Ge(Ge({},i.channelSelection),{},Ue({},e,Ge(Ge({},i.channelSelection[e]),{},{contrastEnhancement:Ge(Ge({},l[e].contrastEnhancement),{},{enhancementType:r})})))}):null}}),o.a.createElement(ue,{key:e+"-divider",divider:!0}))}));var p=void 0===(null==l||null===(t=l.grayChannel)||void 0===t?void 0:t.sourceChannelName)?"auto":null==l||null===(r=l.grayChannel)||void 0===r?void 0:r.sourceChannelName,d="auto"===c?i.contrastEnhancement:null==l||null===(n=l.grayChannel)||void 0===n?void 0:n.contrastEnhancement;return o.a.createElement(_e,{label:"styleeditor.grayChannel",value:p,bands:[{label:o.a.createElement(j.a,{msgId:"styleeditor.channelAuto"}),value:"auto"}].concat(Le(u)),enhancementType:(null==d?void 0:d.enhancementType)||"none",onChange:function(e,t){return"band"===e?a("auto"===t?Ge(Ge({},i),{},{channelSelection:void 0}):{contrastEnhancement:{},channelSelection:{grayChannel:Ge(Ge({contrastEnhancement:{}},null==l?void 0:l.grayChannel),{},{sourceChannelName:t})}}):"enhancementType"===e?a("auto"===c?{channelSelection:void 0,contrastEnhancement:Ge(Ge({},i.contrastEnhancement),{},{enhancementType:t})}:{contrastEnhancement:{},channelSelection:Object.keys(l).reduce((function(e,r){return Ge(Ge({},e),{},Ue({},r,Ge(Ge({},l[r]),{},{contrastEnhancement:Ge(Ge({},l[r].contrastEnhancement),{},{enhancementType:t})})))}),{})}):null}})},dash:function(e){var t=e.label,r=e.value,n=e.onChange,i=e.config.options;return o.a.createElement(ue,{label:t},o.a.createElement(oe.a,{dashArray:r,onChange:n,options:i,defaultStrokeWidth:2,isValidNewOption:function(e){return!!e.label&&!e.label.split(" ").find((function(e){return J()(parseFloat(e))}))},creatable:!0}))}};function He(e){var t=e.properties,r=e.params,i=e.config,a=e.onChange,s=Object(n.useRef)({properties:t});return s.current={properties:t},o.a.createElement(o.a.Fragment,null,Object.keys(r).map((function(e){var n=r[e]||{},l=n.type,c=n.setValue,u=n.getValue,p=n.isDisabled,d=n.config,f=n.label,m=n.key||e,y=Ve[l],b=c&&c(t[m],s.current.properties);return y&&o.a.createElement(y,Ie({},i,{key:m,label:f||m,config:d,disabled:p&&p(t[m],s.current.properties),value:K()(b)?t[m]:b,onChange:function(e){return a(u&&u(e,s.current.properties)||e)}}))})))}var qe=He,Ye=r("./node_modules/uuid/v1.js"),Ze=r.n(Ye),Qe=r("./MapStore2/web/client/components/data/query/GroupField.jsx"),Ke=r.n(Qe);function Xe(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Je(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rt=Me()(q.Button),nt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=et(et({},t),{},(tt(e={},r.fieldName,r.fieldValue),tt(e,"type",r.fieldType),tt(e,"fieldOptions",et(et({},t.fieldOptions),{},{currentPage:void 0===r.fieldOptions.currentPage?1:r.fieldOptions.currentPage})),e));return"attribute"===r.fieldName?et(et({},n),{},{value:"string"===r.fieldType?"":null,operator:""}):"operator"===r.fieldName?et(et({},n),{},{value:null}):n},ot=function(e){var t=e.filterObj,r=void 0===t?{groupFields:[{id:1,logic:"OR",index:0}]}:t,n=e.attributes,i=void 0===n?[]:n,a=e.groupLevels,s=void 0===a?0:a,l=e.onChange,c=void 0===l?function(){}:l,u=r.groupFields,p=r.filterFields;return o.a.createElement("div",{className:"ms-style-rule-filter"},o.a.createElement(Ke.a,{attributes:i,filterFields:p,groupFields:u,autocompleteEnabled:!1,groupLevels:s,withContainer:!1,listOperators:["="],stringOperators:["=","<>","like","isNull"],booleanOperators:["="],defaultOperators:["=",">","<",">=","<=","<>"],logicComboOptions:[{logic:"OR",name:"queryform.attributefilter.groupField.any"},{logic:"AND",name:"queryform.attributefilter.groupField.all"}],actions:{onAddGroupField:function(e,t){var r={id:(new Date).getTime(),logic:"OR",groupId:e,index:t+1};c({filterFields:p,groupFields:u?[].concat(Xe(u),[r]):[r]})},onAddFilterField:function(e){var t={rowId:(new Date).getTime(),groupId:e,attribute:null,operator:"",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};c({filterFields:p?[].concat(Xe(p),[t]):[t],groupFields:u})},onRemoveFilterField:function(e){c({filterFields:p.filter((function(t){return t.rowId!==e})),groupFields:u})},onUpdateFilterField:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};c({filterFields:p.map((function(i){return i.rowId===e?nt(i,{rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}):i})),groupFields:u})},onUpdateExceptionField:function(e,t){c({filterFields:p.map((function(r){return r.rowId===e?et(et({},r),{},{exception:t}):r})),groupFields:u})},onUpdateLogicCombo:function(e,t){c({filterFields:p,groupFields:u.map((function(r){return r.id===e?et(et({},r),{},{logic:t}):r}))})},onRemoveGroupField:function(e){c({filterFields:p.filter((function(t){return t.groupId!==e})),groupFields:u.filter((function(t){return t.id!==e}))})},onChangeCascadingValue:function(){}}}))};function it(e){var t=e.value,r=e.hide,n=e.attributes,i=e.onChange,a=e.placement,s=void 0===a?"right":a;return r||!n||0===n.length?null:o.a.createElement(je,{placement:s,content:o.a.createElement(ot,{filterObj:t,attributes:n,onChange:function(e){return i({filter:e})}})},o.a.createElement(rt,{className:"square-button-md no-border",active:!!t,tooltipId:"styleeditor.openFilterBuilder"},o.a.createElement(q.Glyphicon,{glyph:"filter"})))}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||pt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e){return function(e){if(Array.isArray(e))return dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){if(e){if("string"==typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dt(e,t):void 0}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ft=ce()(["placeholder","noResultsText"])(se.default.Creatable),mt=Me()(q.Button);function yt(e){var t=e.label,r=e.currentZoom;return o.a.createElement("span",null,t,r&&o.a.createElement(o.a.Fragment,null,"",o.a.createElement(q.Glyphicon,{glyph:"arrow-left"})))}function bt(e){var t=e.label,r=e.value,n=e.options,i=e.isValidNewOption,a=e.onChange;return o.a.createElement(ue,{label:t},o.a.createElement(ft,{placeholder:"styleeditor.selectScale",noResultsText:"styleeditor.noResultScales",value:r,options:n,optionRenderer:yt,valueRenderer:yt,isValidNewOption:function(e){if(e.label){var t=parseFloat(e.label);return!J()(t)&&i(t)}return!1},onChange:function(e){var t=(null==e?void 0:e.value)&&parseFloat(e.value);a(J()(t)?void 0:t)}}))}function gt(e){var t=e.value,r=e.zoom,i=e.scales,a=void 0===i?[]:i,s=e.onChange;function l(e,t){var r=e.map((function(e){return e.value}));return t&&-1===r.indexOf(t)?[{value:t}].concat(ut(e)).sort((function(e,t){return e.value>t.value?-1:1})):e}var c=ct(Object(n.useState)(function(e){var r=e.map((function(e,t){return{value:e,zoom:t}})),n=[t.min,t.max].filter((function(e){return void 0!==e}));return 0===n.length?r:n.reduce(l,r)}(a)),2),u=c[0],p=c[1];return o.a.createElement("div",{className:"ms-style-rule-scale"},o.a.createElement(bt,{label:"styleeditor.maxScaleDenominator",value:t.max,options:u.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.min&&e.value<=t.min}})),isValidNewOption:function(e){return e>=t.min},onChange:function(e){s(st(st({},t),{},{max:e})),p(l(u,e))}}),o.a.createElement(bt,{label:"styleeditor.minScaleDenominator",value:t.min,options:u.map((function(e){return{value:e.value,label:"1 : "+e.value,currentZoom:void 0!==r&&r===e.zoom,disabled:t.max&&e.value>=t.max}})),isValidNewOption:function(e){return e<=t.max},onChange:function(e){s(st(st({},t),{},{min:e})),p(l(u,e))}}))}function ht(e){var t=e.value,r=void 0===t?{}:t,n=e.scales,i=void 0===n?[]:n,a=e.zoom,s=e.hide,l=e.onChange,c=e.placement,u=void 0===c?"right":c;return s?null:o.a.createElement(je,{placement:u,content:o.a.createElement(gt,{value:r,zoom:a,scales:i,onChange:function(e){return l({scaleDenominator:e})}})},o.a.createElement(mt,{className:"square-button-md no-border",tooltipId:"styleeditor.openScaleDenominator",active:void 0!==r.min||void 0!==r.max},o.a.createElement(q.Glyphicon,{glyph:"1-ruler"})))}function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){wt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ot=function(e){var t=e.ruleBlock,r=e.symbolizerBlock;return"Raster"!==e.kind?[{value:"Simple",labelId:"styleeditor.simpleStyle",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[St(St({},e.deaultProperties),{},{symbolizerId:Ze()()})]}}},{value:"Classification",labelId:"styleeditor.classificationStyle",onSelect:function(e){var r=e.ruleId,n=e.symbolizerKind;return St(St(St({},e.deaultProperties),t.Classification.deaultProperties),{},{ruleId:r,symbolizerKind:n})}},{value:"Mark",labelId:"styleeditor.patternMarkStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.deaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[St(St({},n),{},wt({symbolizerId:Ze()(),fill:void 0},o,St({},r.Mark.deaultProperties)))]}}},{value:"Icon",labelId:"styleeditor.patternIconStyle",isVisible:function(e){return!!e.graphicKey},onSelect:function(e){var t=e.ruleId,n=e.deaultProperties,o=e.graphicKey;return{ruleId:t,name:"",symbolizers:[St(St({},n),{},wt({symbolizerId:Ze()(),fill:void 0},o,St({},r.Icon.deaultProperties)))]}}}]:[{value:"Gray",labelId:"styleeditor.singleBand",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[St(St({},r.Raster.deaultProperties),{},{symbolizerId:Ze()()})]}}},{value:"RGB",labelId:"styleeditor.rgbaBands",onSelect:function(e){return{ruleId:e.ruleId,name:"",symbolizers:[St(St({},r.Raster.deaultProperties),{},{channelSelection:{redChannel:{sourceChannelName:void 0,contrastEnhancement:{}},greenChannel:{sourceChannelName:void 0,contrastEnhancement:{}},blueChannel:{sourceChannelName:void 0,contrastEnhancement:{}}},symbolizerId:Ze()()})]}}},{value:"PseudoColor",labelId:"styleeditor.pseudoColor",onSelect:function(e){var r=e.ruleId;return St(St({},t.Raster.deaultProperties),{},{ruleId:r})}}]},jt=function(e){var t=e.ruleKind,r=e.graphic,n=e.symbolizerKind,o=e.channelSelection;return"Raster"===t?"PseudoColor":"Raster"===n?(null==o?void 0:o.redChannel)?"RGB":"Gray":void 0!==t?t:(null==r?void 0:r.kind)?null==r?void 0:r.kind:"Simple"};function Et(e){var t,r,n=e.ruleKind,i=e.symbolizerKind,a=e.ruleId,s=e.graphic,l=e.channelSelection,c=e.hide,u=e.ruleBlock,p=e.symbolizerBlock,d=e.getSelected,f=void 0===d?jt:d,m=e.getOptions,y=void 0===m?Ot:m,b=e.onSelect,g=y({ruleBlock:u,symbolizerBlock:p,kind:i}),h=i?p[i]:{},v=h.deaultProperties,S=h.params,w=void 0===S?{}:S,O=null==w||null===(t=w.color)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.graphicKey,E=f({ruleKind:n,symbolizerKind:i,graphic:s,channelSelection:l});return c?null:o.a.createElement(q.DropdownButton,{className:"square-button-md no-border",noCaret:!0,pullRight:!0,title:o.a.createElement(q.Glyphicon,{glyph:"option-vertical"})},g.map((function(e){return!e.isVisible||e.isVisible({graphicKey:O})?o.a.createElement(q.MenuItem,{key:e.value,active:E===e.value,onClick:function(){return t=e.value,r=e.onSelect({ruleId:a,ruleKind:n,symbolizerKind:i,deaultProperties:v,graphicKey:O}),t===E?null:b(r);var t,r}},o.a.createElement(j.a,{msgId:e.labelId})):null})))}var xt=function(e){var t=e.className,r=e.glyph,n=e.tools,i=e.children,a=t?" "+t:"";return o.a.createElement("li",{className:"ms-symbolizer".concat(a)},o.a.createElement("div",{className:"ms-symbolizer-info"},r&&o.a.createElement(q.Glyphicon,{glyph:r}),o.a.createElement("div",{className:"ms-symbolizer-tools"},n)),i)};function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){Mt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ct=function(e){var t=e.ruleId,r=e.glyph,i=e.params,a=e.kind,s=e.symbolizerKind,l=e.classificationType,c=void 0===l?"classificationVector":l,u=e.attributes,p=void 0===u?[]:u,d=e.onUpdate,f=e.onReplace,m=e.methods,y=e.getColors,b=void 0===y?function(){}:y,g=e.ruleBlock,h=void 0===g?{}:g,v=e.symbolizerBlock,S=void 0===v?{}:v,w=e.bands,O=At(e,["ruleId","glyph","params","kind","symbolizerKind","classificationType","attributes","onUpdate","onReplace","methods","getColors","ruleBlock","symbolizerBlock","bands"]),j=O.ramp,E=O.method,x=O.classification,P=O.attribute,T=O.intervals,M=O.reverse,A=O.continuous,C=Object(n.useRef)();C.current={ruleId:t,intervals:T,method:E,attribute:P,reverse:M,ramp:j,continuous:A,classification:x};var _=i.reduce((function(e,t){return me()(t)?Tt(Tt({},e),t(s)):Tt(Tt({},e),t)}),{}),I=(S[s]||{}).glyph;return o.a.createElement(xt,{key:"Classification",glyph:I||r,tools:o.a.createElement(Et,{ruleKind:a,symbolizerKind:s,ruleId:t,onSelect:f,ruleBlock:h,symbolizerBlock:S})},o.a.createElement(qe,{properties:O,config:{attributes:p,methods:m,getColors:function(){var e="custom"===j&&x.length>0&&{name:"custom",colors:x.map((function(e){return e.color}))},t=b(void 0,void 0,5,e);return t?t.map((function(e){var t=e.name,r=At(e,["name"]);return Tt({label:t?"global.colors.".concat(t):void 0,name:t},r)})):[]},bands:w,method:E},params:_,onChange:function(e){return d(Tt(Tt({},C.current),{},{type:c,values:e}))}}))},_t=r("./MapStore2/node_modules/lodash/isEqual.js"),It=r.n(_t),Rt=r("./node_modules/tinycolor2/tinycolor.js"),Lt=r.n(Rt);function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){Ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gt={color:function(e){var t=e.key,r=void 0===t?"color":t,n=e.opacityKey,o=void 0===n?"opacity":n,i=e.graphicKey,a=e.label,s=void 0===a?"Fill":a,l=e.stroke,c=e.pattern,u=e.disableAlpha,p=e.getGroupParams,d=e.getGroupConfig;return{type:"color",label:s,config:{stroke:l,pattern:c,disableAlpha:u,getGroupParams:p,getGroupConfig:d,graphicKey:i},setValue:function(e,t){var r;if(c&&(null===(r=t[i])||void 0===r?void 0:r.kind))return t[i];var n=K()(t[o])?1:t[o];return Lt()(e).setAlpha(n).toRgb()},getValue:function(e){var t,n;if(c&&T()(e)&&e.kind)return Ft(n={},i,e),Ft(n,r,void 0),Ft(n,o,void 0),n;var a=e||{},s=a.a,l=Nt(a,["a"]);return kt((Ft(t={},r,Lt()(kt(kt({},l),{},{a:1})).toHexString()),Ft(t,o,s),t),c&&Ft({},i,void 0))}}},width:function(e){var t=e.key,r=void 0===t?"width":t,n=e.label,o=void 0===n?"Width":n,i=e.dasharrayKey,a=void 0===i?"dasharray":i;return{type:"slider",label:o,config:{range:{min:0,max:20},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e[0]&&e[0].split(" px")[0],o=parseFloat(n),i=t[a],s=t[r];return kt(Ft({},r,o),i&&Ft({},a,o?i.map((function(e){return Math.round(e/s*o)})):void 0))}}},dasharray:function(e){var t=e.key,r=void 0===t?"dasharray":t,n=e.label;return{type:"dash",label:void 0===n?"Dash array":n,config:{options:[{value:"0"},{value:"1 4"},{value:"1 12"},{value:"8 8"},{value:"8 16"},{value:"8 8 1 8"},{value:"8 8 1 4 1 8"}]},setValue:function(e,t){var r=void 0===t.width?1:t.width;return void 0!==e?e.map((function(e){return Math.round(e/r)})):[0]},getValue:function(e,t){if(It()(e,["0"]))return Ft({},r,void 0);var n=void 0===t.width?1:t.width,o=!(e||[]).find((function(e){return J()(parseFloat(e))}));return Ft({},r,void 0!==e&&o?e.map((function(e){return parseFloat(e)*n})):void 0)}}},cap:function(e){var t=e.key,r=void 0===t?"cap":t,n=e.label;return{type:"toolbar",label:void 0===n?"Line cap":n,config:{options:[{labelId:"styleeditor.lineCapButt",value:"butt"},{labelId:"styleeditor.lineCapRound",value:"round"},{labelId:"styleeditor.lineCapSquare",value:"square"}]},getValue:function(e){return Ft({},r,e)}}},join:function(e){var t=e.key,r=void 0===t?"join":t,n=e.label;return{type:"toolbar",label:void 0===n?"Line join":n,config:{options:[{labelId:"styleeditor.lineJoinBevel",value:"bevel"},{labelId:"styleeditor.lineJoinRound",value:"round"},{labelId:"styleeditor.lineJoinMiter",value:"miter"}]},getValue:function(e){return Ft({},r,e)}}},size:function(e){var t=e.key,r=void 0===t?"radius":t,n=e.label;return{type:"slider",label:void 0===n?"Radius":n,config:{range:{min:0,max:100},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return Ft({},r,parseFloat(t))}}},opacity:function(e){var t=e.key,r=void 0===t?"opacity":t,n=e.label;return{type:"slider",label:void 0===n?"Opacity":n,config:{range:{min:0,max:1}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split(" px")[0];return Ft({},r,parseFloat(t))}}},offset:function(e){var t=e.key,r=void 0===t?"offset":t,n=e.label,o=void 0===n?"":n,i=e.axis,a=void 0===i?"":i;return{key:r,type:"slider",label:o,config:{range:{min:-100,max:100},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+" px"}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="y"===a?parseFloat(e[1]):parseFloat(e[0]);return J()(t)?0:t},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e[0]&&e[0].split(" px")[0],o=t[r]||[0,0];return Ft({},r,"y"===a?[o[0],parseFloat(n)]:[parseFloat(n),o[1]])}}},rotate:function(e){var t=e.key,r=void 0===t?"rotate":t,n=e.label;return{type:"slider",label:void 0===n?"Rotation (deg)":n,config:{range:{min:0,max:360},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)+""}}},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0]&&e[0].split("")[0];return Ft({},r,parseFloat(t))}}},shape:function(e){var t=e.label,r=e.key,n=void 0===r?"wellKnownName":r;return{type:"mark",label:t,getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ft({},n,e)}}},image:function(e){var t=e.label,r=e.key,n=void 0===r?"image":r;return{type:"image",label:t,config:{isValid:e.isValid},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ft({},n,e)}}},text:function(e){var t=e.label,r=e.key,n=void 0===r?"label":r;return{type:"input",label:t,getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ft({},n,e)}}},fontStyle:function(e){var t=e.label,r=e.key,n=void 0===r?"fontStyle":r;return{type:"toolbar",label:t,config:{options:[{labelId:"styleeditor.fontStyleNormal",value:"normal"},{labelId:"styleeditor.fontStyleItalic",value:"italic"}]},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ft({},n,e)}}},fontWeight:function(e){var t=e.label,r=e.key,n=void 0===r?"fontWeight":r;return{type:"toolbar",label:t,config:{options:[{labelId:"styleeditor.fontWeightNormal",value:"normal"},{labelId:"styleeditor.fontWeightBold",value:"bold"}]},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ft({},n,e)}}},bool:function(e){var t=e.key,r=void 0===t?"label":t;return{type:"toolbar",label:e.label,config:{options:[{labelId:"styleeditor.boolTrue",value:!0},{labelId:"styleeditor.boolFalse",value:!1}]},isDisabled:e.isDisabled,getValue:function(e){return Ft({},r,e)}}},intervals:function(e){var t=e.key,r=void 0===t?"intervals":t,n=e.label,o=e.isDisabled;return{type:"slider",label:n,config:{range:{min:2,max:25},format:{from:function(e){return Math.round(e)},to:function(e){return Math.round(e)}}},isDisabled:void 0===o?function(e,t){return"customInterval"===(null==t?void 0:t.method)}:o,setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return parseFloat(e)},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ft({},r,parseFloat(e[0]))}}},select:function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions;return{type:"select",label:t,config:{getOptions:void 0===o?function(){return[]}:o,selectProps:e.selectProps,isValid:e.isValid},getValue:function(e){return Ft({},n,e)}}},colorRamp:function(e){var t=e.label,r=e.key,n=void 0===r?"":r,o=e.getOptions;return{type:"colorRamp",label:t,config:{getOptions:void 0===o?function(){return[]}:o},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ft({},n,e)}}},colorMap:function(e){var t=e.label,r=e.key,n=void 0===r?"":r;return{type:"colorMap",label:t,getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.classification,o=e.type,i="interval"===o||"customInterval"===t.method,a="color"===o||"custom"===t.ramp;return kt(kt(Ft({},n,r),i&&{method:"customInterval"}),a&&{ramp:"custom"})}}},channel:function(e){return{type:"channel",label:e.label,setValue:function(e,t){return{channelSelection:t.channelSelection,contrastEnhancement:t.contrastEnhancement}},getValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{channelSelection:e.channelSelection,contrastEnhancement:e.contrastEnhancement}}}}};function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach((function(t){zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wt(e){return function(e){if(Array.isArray(e))return Vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ht=function(){var e={Mark:{kind:"Mark",glyph:"1-point",glyphAdd:"1-point-add",tooltipAddId:"styleeditor.addMarkRule",supportedTypes:["point","linestring","polygon","vector"],params:{wellKnownName:Gt.shape({label:"styleeditor.shape"}),color:Gt.color({key:"color",opacityKey:"fillOpacity",label:"styleeditor.fill"}),strokeColor:Gt.color({key:"strokeColor",opacityKey:"strokeOpacity",label:"styleeditor.strokeColor",stroke:!0}),strokeWidth:Gt.width({key:"strokeWidth",label:"styleeditor.strokeWidth"}),radius:Gt.size({key:"radius",label:"styleeditor.radius"}),rotate:Gt.rotate({label:"styleeditor.rotation"})},deaultProperties:{kind:"Mark",wellKnownName:"Circle",color:"#dddddd",fillOpacity:1,strokeColor:"#777777",strokeOpacity:1,strokeWidth:1,radius:16,rotate:0}},Icon:{kind:"Icon",glyph:"point",glyphAdd:"point-plus",tooltipAddId:"styleeditor.addIconRule",supportedTypes:["point","linestring","polygon","vector"],params:{image:Gt.image({label:"styleeditor.image",key:"image",isValid:function(e){return!!e.value}}),opacity:Gt.opacity({label:"styleeditor.opacity"}),size:Gt.size({key:"size",label:"styleeditor.size"}),rotate:Gt.rotate({label:"styleeditor.rotation"})},deaultProperties:{kind:"Icon",image:"",opacity:1,size:32,rotate:0}},Line:{kind:"Line",glyph:"line",glyphAdd:"line-plus",tooltipAddId:"styleeditor.addLineRule",supportedTypes:["linestring","polygon","vector"],params:{color:Gt.color({label:"styleeditor.strokeColor",stroke:!0,pattern:!0,getGroupParams:function(t){return e[t]},getGroupConfig:function(e){return"Mark"===e?{disableAlpha:!0}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}},graphicKey:"graphicStroke"}),width:Gt.width({label:"styleeditor.strokeWidth",key:"width"}),dasharray:Gt.dasharray({label:"styleeditor.lineStyle",key:"dasharray"}),cap:Gt.cap({label:"styleeditor.lineCap",key:"cap"}),join:Gt.join({label:"styleeditor.lineJoin",key:"join"})},deaultProperties:{kind:"Line",color:"#777777",width:1,opacity:1,cap:"round",join:"round"}},Fill:{kind:"Fill",glyph:"polygon",glyphAdd:"polygon-plus",tooltipAddId:"styleeditor.addFillRule",supportedTypes:["polygon","vector"],params:{color:Gt.color({label:"styleeditor.fill",key:"color",opacityKey:"fillOpacity",pattern:!0,graphicKey:"graphicFill",getGroupParams:function(t){return e[t]},getGroupConfig:function(e){return"Mark"===e?{}:"Icon"===e?{omittedKeys:["rotate","opacity"]}:{}}}),outlineColor:Gt.color({key:"outlineColor",opacityKey:"outlineOpacity",label:"styleeditor.outlineColor",stroke:!0}),outlineWidth:Gt.width({key:"outlineWidth",label:"styleeditor.outlineWidth"})},deaultProperties:{kind:"Fill",color:"#dddddd",fillOpacity:1,outlineColor:"#777777",outlineWidth:1}},Text:{kind:"Text",glyph:"font",tooltipAddId:"styleeditor.addTextRule",supportedTypes:["point","linestring","polygon","vector"],params:{label:Gt.select({key:"label",label:"styleeditor.label",selectProps:{creatable:!0},getOptions:function(e){var t=e.attributes;return(null==t?void 0:t.map((function(e){return{value:"{{"+e.attribute+"}}",label:e.attribute}})))||[]}}),font:Gt.select({key:"font",label:"styleeditor.fontFamily",selectProps:{multi:!0},getOptions:function(e){var t=e.fonts;return(null==t?void 0:t.map((function(e){return{value:e,label:e}})))||[]}}),color:Gt.color({label:"styleeditor.fontColor",key:"color",disableAlpha:!0}),size:Gt.size({label:"styleeditor.fontSize",key:"size"}),fontStyle:Gt.fontStyle({label:"styleeditor.fontStyle",key:"fontStyle"}),fontWeight:Gt.fontWeight({label:"styleeditor.fontWeight",key:"fontWeight"}),haloColor:Gt.color({label:"styleeditor.haloColor",key:"haloColor",stroke:!0,disableAlpha:!0}),haloWidth:Gt.width({label:"styleeditor.haloWidth",key:"haloWidth"}),rotate:Gt.rotate({label:"styleeditor.rotation"}),offsetX:Gt.offset({label:"styleeditor.offsetX",axis:"x"}),offsetY:Gt.offset({label:"styleeditor.offsetY",axis:"y"})},deaultProperties:{kind:"Text",label:"Label",color:"#333333",size:14,fontStyle:"normal",fontWeight:"normal",haloColor:"#ffffff",haloWidth:1,allowOverlap:!0,offset:[0,0]}},Raster:{kind:"Raster",glyph:"1-raster",tooltipAddId:"styleeditor.addRasterRule",supportedTypes:["raster"],params:{channel:Gt.channel({}),opacity:Gt.opacity({label:"styleeditor.opacity"})},deaultProperties:{kind:"Raster",opacity:1,contrastEnhancement:{}}}},t={Classification:{kind:"Classification",glyph:"list",classificationType:"classificationVector",hideInputLabel:!0,hideFilter:!0,params:[{ramp:Gt.colorRamp({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:Gt.bool({key:"reverse",label:"styleeditor.reverse",isDisabled:function(e,t){return"custom"===(null==t?void 0:t.ramp)||"customInterval"===(null==t?void 0:t.method)}}),attribute:Gt.select({key:"attribute",label:"styleeditor.attribute",isValid:function(e){return void 0!==e.value},getOptions:function(e){var t=e.attributes;return null==t?void 0:t.map((function(e){return{value:e.attribute,label:e.attribute,disabled:e.disabled}}))}}),method:Gt.select({key:"method",label:"styleeditor.method",getOptions:function(e){var t=e.methods,r=e.method,n=(null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}})))||[];return[].concat(Wt("customInterval"===r?[{labelId:"styleeditor."+r,value:r}]:[]),Wt(n))}}),intervals:Gt.intervals({label:"styleeditor.intervals"})},function(t){var r,n,o,i;if(!t)return{};switch(t){case"Mark":return Bt({fillOpacity:Gt.opacity({key:"fillOpacity",label:"styleeditor.opacity"})},Z()(null===(r=e[t])||void 0===r?void 0:r.params,["color"]));case"Line":return Bt({opacity:Gt.opacity({key:"opacity",label:"styleeditor.opacity"})},Z()(null===(n=e[t])||void 0===n?void 0:n.params,["color"]));case"Fill":return Bt({fillOpacity:Gt.opacity({key:"fillOpacity",label:"styleeditor.opacity"})},Z()(null===(o=e[t])||void 0===o?void 0:o.params,["color"]));default:return null===(i=e[t])||void 0===i?void 0:i.params}},{classification:Gt.colorMap({key:"classification",rampKey:"ramp"})}],deaultProperties:{kind:"Classification",classification:[],intervals:5,method:"equalInterval",ramp:"orrd",reverse:!1}},Raster:{kind:"Raster",glyph:"1-raster",classificationType:"classificationRaster",hideInputLabel:!1,hideFilter:!0,params:[{channel:Gt.channel({}),opacity:Gt.opacity({label:"styleeditor.opacity"}),ramp:Gt.colorRamp({key:"ramp",label:"styleeditor.colorRamp",getOptions:function(e){return(0,e.getColors)()}}),reverse:Gt.bool({key:"reverse",label:"styleeditor.reverse"}),continuous:Gt.bool({key:"continuous",label:"styleeditor.continuous"}),method:Gt.select({key:"method",label:"styleeditor.method",getOptions:function(e){var t=e.methods;return null==t?void 0:t.map((function(e){return{labelId:"styleeditor."+e,value:e}}))}}),intervals:Gt.intervals({label:"styleeditor.intervals"})}],deaultProperties:{kind:"Raster",opacity:1,classification:[],intervals:5,method:"equalInterval",reverse:!1,continuous:!0,symbolizerKind:"Raster"}}};return{symbolizerBlock:e,ruleBlock:t}},qt=r("./node_modules/react-dnd/lib/index.js");function Yt(e){var t=e.title,r=e.tools,i=e.errorId,a=e.draggable,s=e.connectDragSource,l=e.connectDropTarget,c=e.isDragging,u=e.children,p=Object(n.useRef)(null);a&&(s(p.current),l(p.current));var d=c?" ms-drop-target":"";return o.a.createElement("li",{ref:p,className:"ms-style-rule".concat(d)},o.a.createElement("div",{className:"ms-style-rule-head"},a&&o.a.createElement("div",{className:"ms-style-rule-grab-handle"},o.a.createElement(q.Glyphicon,{glyph:"grab-handle"})),o.a.createElement("div",{className:"ms-style-rule-head-info"},t),o.a.createElement("div",{className:"ms-style-rule-head-tools"},r)),i&&o.a.createElement(q.Alert,{bsStyle:"danger"},o.a.createElement(j.a,{msgId:i})),o.a.createElement("ul",{className:"ms-style-rule-body"},u))}Yt.propTypes={title:N.a.oneOfType([N.a.node,N.a.string]),tools:N.a.node,errorId:N.a.string,draggable:N.a.bool,connectDragSource:N.a.func,connectDropTarget:N.a.func,isDragging:N.a.bool},Yt.defaultProps={connectDragSource:function(e){return e},connectDropTarget:function(e){return e}};var Zt=Object(qt.DropTarget)("RULE",{hover:function(e,t,r){!function(e,t,r){if(!r)return null;var n=Object(pe.findDOMNode)(r);if(!n)return null;var o=t.getItem().index,i=e.index;if(o===i)return null;var a=n.getBoundingClientRect(),s=a.bottom,l=a.top,c=(s-l)/2,u=t.getClientOffset().y-l;o<i&&u<c||o>i&&u>c||(e.onSort(o,i),t.getItem().index=i)}(e,t,r)}},(function(e){return{connectDropTarget:e.dropTarget()}}))(Object(qt.DragSource)("RULE",{beginDrag:function(e){return{id:e.id,index:e.index}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Yt)),Qt=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),Kt=r.n(Qt);function Xt(){return(Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Jt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $t(e){return function(e){if(Array.isArray(e))return er(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach((function(t){nr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var or=Me()(q.Button),ir=ce()("placeholder")(q.FormControl);function ar(){return o.a.createElement("div",{style:{position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"}},o.a.createElement("div",null,o.a.createElement(q.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),o.a.createElement("h1",null,o.a.createElement(j.a,{msgId:"styleeditor.emptyRuleEditorTitle"})),o.a.createElement("p",null,o.a.createElement(j.a,{msgId:"styleeditor.emptyRuleEditor"}))))}var sr=Object(n.forwardRef)((function(e,t){var r=e.rules,i=void 0===r?[]:r,a=e.loading,s=e.toolbar,l=e.config,c=void 0===l?{}:l,u=e.ruleBlock,p=void 0===u?{}:u,d=e.symbolizerBlock,f=void 0===d?{}:d,m=e.onUpdate,y=void 0===m?function(){}:m,b=e.onChange,g=void 0===b?function(){}:b,h=c.geometryType,v=c.attributes,S=c.bands,w=c.scales,O=c.zoom,E=c.fonts,x=c.methods,P=c.getColors,T=Object(n.useRef)();function M(e,t){var r=e.values,n=e.ruleId,o=e.symbolizerId;if(t){var i=T.current.rules.map((function(e){return e.ruleId===n?rr(rr({},e),r):e}));return g(i)}var a=T.current.rules.map((function(e){return e.symbolizers?rr(rr({},e),{},{symbolizers:e.symbolizers.map((function(t){return t.symbolizerId===o&&e.ruleId===n?rr(rr({},t),r):t}))}):e}));return g(a)}function A(e){var t=[e].concat($t(T.current.rules));g(t)}function C(e){var t=e.ruleId,r=Jt(e,["ruleId"]),n=T.current.rules.map((function(e){return e.ruleId===t?rr({ruleId:t},r):e}));return g(n)}function _(e,t){var r=B()(T.current.rules,(function(t,r){return r===e})),n=T.current.rules.reduce((function(n,o,i){return i===e?n:[].concat($t(n),i===t?e>t?[r,o]:[o,r]:[o])}),[]);return g(n)}function I(e,t){var r=e.symbolizers,n=void 0===r?[]:r;return!!B()(n,(function(e){return"Text"===e.kind}))&&t>0}return T.current={rules:i},o.a.createElement("div",{ref:t,className:"ms-style-rules-editor"},o.a.createElement("div",{className:"ms-style-rules-editor-head"},o.a.createElement("div",{className:"ms-style-rules-editor-left"},s),o.a.createElement("div",{className:"ms-style-rules-editor-right"},o.a.createElement(H.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[].concat($t(Object.keys(f).map((function(e){var t=f[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(h),tooltipId:t.tooltipAddId,onClick:function(){return A({name:"",ruleId:Ze()(),symbolizers:[rr(rr({},f[e].deaultProperties),{},{symbolizerId:Ze()()})]})}}}))),$t(Object.keys(p).filter((function(e){return p[e].add})).map((function(e){var t=p[e];return{glyph:t.glyphAdd||t.glyph,visible:-1!==t.supportedTypes.indexOf(h),tooltipId:t.tooltipAddId,onClick:function(){return A(rr({name:"",ruleId:Ze()()},p[e].deaultProperties))}}}))))}))),o.a.createElement("ul",{className:"ms-style-rules-editor-body"},0===i.length&&o.a.createElement(ar,null),i.map((function(e,t){var r=e.name,n=e.symbolizers,a=void 0===n?[]:n,s=e.filter,l=e.scaleDenominator,c=void 0===l?{}:l,u=e.ruleId,d=e.kind,m=e.errorId,b=p[d]||{},h=b.params,A=b.glyph,R=b.hideInputLabel,L=b.hideFilter,D=b.hideScaleDenominator,k=b.classificationType;return o.a.createElement(Zt,{key:u+(i.length>1?"_draggable":""),draggable:i.length>1,id:u,index:t,errorId:m,onSort:_,title:R?o.a.createElement(j.a,{msgId:"styleeditor.rule".concat(d)}):o.a.createElement(q.FormGroup,{onDragStart:function(e){e.stopPropagation(),e.preventDefault()},draggable:!0},o.a.createElement(ir,{value:r,placeholder:"styleeditor.enterLegendLabelPlaceholder",onChange:function(e){return M({values:{name:e.target.value},ruleId:u},!0)}})),tools:o.a.createElement(o.a.Fragment,null,I(e,t)&&o.a.createElement(Kt.a,{glyph:"exclamation-mark",bsStyle:"warning",placement:"right",title:o.a.createElement(j.a,{msgId:"styleeditor.warningTextOrderTitle"}),text:o.a.createElement(j.a,{msgId:"styleeditor.warningTextOrder"})}),o.a.createElement(it,{hide:L,value:s,attributes:v,onChange:function(e){return M({values:e,ruleId:u},!0)}}),o.a.createElement(ht,{hide:D,value:c,scales:w,zoom:O,onChange:function(e){return M({values:e,ruleId:u},!0)}}),o.a.createElement(or,{className:"square-button-md no-border",tooltipId:"styleeditor.removeRule",onClick:function(){return function(e){var t=T.current.rules.filter((function(t){return t.ruleId!==e}));g(t)}(u)}},o.a.createElement(q.Glyphicon,{glyph:"trash"})))},"Classification"===d||"Raster"===d?o.a.createElement(Ct,Xt({},e,{ruleBlock:p,symbolizerBlock:f,glyph:A,classificationType:k,params:h,methods:x,getColors:P,bands:S,attributes:v&&v.map((function(e){return rr(rr({},e),{},{disabled:"number"!==e.type})})),onUpdate:y,onChange:function(e){return M({values:e,ruleId:u},!0)},onReplace:C})):a.map((function(e){var t=e.kind,r=void 0===t?"":t,n=e.symbolizerId,i=Jt(e,["kind","symbolizerId"]),a=f[r]||{},s=a.params,l=a.glyph;return s&&o.a.createElement(xt,{key:n,defaultExpanded:!0,draggable:!0,glyph:l,tools:o.a.createElement(Et,{hide:"Icon"===r,symbolizerKind:r,ruleBlock:p,symbolizerBlock:f,ruleId:u,onSelect:C,graphic:i.graphicFill||i.graphicStroke,channelSelection:i.channelSelection})},o.a.createElement(qe,{properties:i,params:s,config:{bands:S,attributes:v,fonts:E},onChange:function(e){return M({values:e,ruleId:u,symbolizerId:n})}}))})))})),a&&o.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.4)",zIndex:10,transition:"0.3s all"}})))})),lr=Ht(),cr=lr.symbolizerBlock,ur=lr.ruleBlock;sr.propTypes={rules:N.a.array,loading:N.a.bool,toolbar:N.a.node,config:N.a.object,ruleBlock:N.a.object,symbolizerBlock:N.a.object,onUpdate:N.a.func,onChange:N.a.func},sr.defaultProps={rules:[],config:{},ruleBlock:ur,symbolizerBlock:cr,onUpdate:function(){},onChange:function(){}};var pr=sr,dr=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),fr=r("./node_modules/redux-undo/lib/index.js"),mr=r.n(fr);function yr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function br(e){return function(e){if(Array.isArray(e))return vr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||hr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||hr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){if(e){if("string"==typeof e)return vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vr(e,t):void 0}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach((function(t){Or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jr=Or({},"UPDATE_STYLE",(function(e,t){return wr({},t)})),Er=mr()((function(e,t){return(jr[t.type]||W.a)(e,t.payload)}),{limit:20,undoType:"UNDO_STYLE",redoType:"REDO_STYLE",jumpType:"",jumpToPastType:"",jumpToFutureType:"",clearHistoryType:""}),xr={},Pr=function(e){var t=e.values,r=e.properties,n=e.rules,o=e.layer,i=e.styleUpdateTypes,a=void 0===i?{}:i;return new Promise((function(e){var i=r.type&&a[r.type];return e(i?i({values:t,properties:r,rules:n,layer:o}):n.map((function(e){return e.ruleId===r.ruleId?wr(wr(wr({},e),t),{},{errorId:void 0}):e})))}))};function Tr(e){var t,r,i=e.code,a=e.format,s=e.layer,l=e.zoom,c=e.scales,u=e.geometryType,p=e.fonts,d=e.bands,f=e.attributes,m=e.onChange,y=e.onError,b=e.defaultStyleJSON,g=e.config,h=e.loading,v=e.error,S=e.methods,O=e.getColors,E=e.styleUpdateTypes,P=e.debounceTime,T=Ht(g),M=T.symbolizerBlock,A=T.ruleBlock,C=gr(Object(n.useState)(!1),2),_=C[0],I=C[1],R=gr(Object(n.useReducer)(Er,{}),2),L=R[0],D=R[1],k=(null==L?void 0:L.present)||xr,N=Object(n.useRef)();N.current={style:k};var F=Object(n.useRef)(!1);Object(n.useEffect)((function(){var e;F.current||((e=Object(dr.getStyleParser)(a))&&i&&null===b?e.readStyle(i).then((function(e){D({type:"UPDATE_STYLE",payload:Object(x.formatJSONStyle)(e)}),F.current=!0})).catch((function(e){return y(wr(wr({},e),{},{status:400}))})):e&&i&&b?(F.current=!0,D({type:"UPDATE_STYLE",payload:b})):i&&!e&&y({messageId:"styleeditor.formatNotSupported",status:400}))}),[i,a,b]);var U=function(e){if(I(!1),!e)return null;var t=wr(wr({},N.current.style),{},{rules:e});return D({type:"UPDATE_STYLE",payload:t})},z=Object(n.useRef)();Object(n.useEffect)((function(){return z.current=G()((function(e){var t,r=function(e){if(!e||0===e.length)return{messageId:"styleeditor.styleEmpty",status:400};var t=B()(e.map((function(e){return e.errorId})),(function(e){return e}));return t?{messageId:t,status:400}:B()(e,(function(e){var t=e.kind,r=e.classification;return!("Classification"!==t&&"Raster"!==t||r&&0!==r.length)}))?{messageId:"styleeditor.incompleteClassification",status:400}:B()(e,(function(e){var t=e.symbolizers,r=void 0===t?[]:t;return B()(r,(function(e){var t=e.kind,r=e.image;return"Icon"===t&&(void 0===r||""===r)}))}))?{messageId:"styleeditor.emptyImageIconSymbolizer",status:400}:null}(null==e||null===(t=e.style)||void 0===t?void 0:t.rules);if(r)return y(r);var n=Object(dr.getStyleParser)(e.format);return n?n.writeStyle(Object(x.parseJSONStyle)(e.style)).then((function(t){m(t,e.style)})).catch((function(e){y(wr(wr({},e),{},{status:400}))})):null}),P),function(){z.current.cancel()}}),[]),Object(n.useEffect)((function(){z.current.cancel(),z.current({format:a,style:k})}),[JSON.stringify(k)]);var W=v&&(v.message||v.messageId&&o.a.createElement(j.a,{msgId:v.messageId}));return o.a.createElement(pr,{loading:_,toolbar:o.a.createElement(H.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[{glyph:"undo",tooltipId:"styleeditor.undoStyle",disabled:0===(null==L||null===(t=L.past)||void 0===t?void 0:t.length),onClick:function(){return D({type:"UNDO_STYLE"})}},{disabled:0===(null==L||null===(r=L.future)||void 0===r?void 0:r.length),tooltipId:"styleeditor.redoStyle",glyph:"redo",onClick:function(){return D({type:"REDO_STYLE"})}},{visible:!!v,Element:function(){return o.a.createElement("div",{className:"square-button-md",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(Kt.a,{glyph:"exclamation-mark",bsStyle:"danger",placement:"right",title:o.a.createElement(j.a,{msgId:"styleeditor.validationErrorTitle"}),text:o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,o.a.createElement(j.a,{msgId:"styleeditor.genericValidationError"})),W?o.a.createElement("p",null,o.a.createElement(j.a,{msgId:"styleeditor.validationError"}),":",W):o.a.createElement("p",null,o.a.createElement(j.a,{msgId:"styleeditor.incorrectPropertyInputError"})))}))}},{visible:!(!h&&!_),Element:function(){return o.a.createElement("div",{className:"square-button-md",style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(w.a,{size:18}))}}]}),ruleBlock:A,symbolizerBlock:M,config:{geometryType:u,zoom:l,fonts:p,scales:c,bands:d,attributes:f,methods:S,getColors:O},rules:(null==k?void 0:k.rules)&&br(k.rules).reverse(),onChange:function(e){return U(br(e).reverse())},onUpdate:function(e){var t=e.values,r=yr(e,["values"]);I(!0),Pr({values:t,properties:r,layer:s,rules:N.current.style.rules,styleUpdateTypes:E}).then((function(e){return U(e)})).catch((function(){return U()}))}})}Tr.propTypes={code:N.a.string,format:N.a.string,layer:N.a.object,zoom:N.a.number,scales:N.a.array,geometryType:N.a.string,fonts:N.a.array,bands:N.a.array,attributes:N.a.array,onChange:N.a.func,onError:N.a.func,defaultStyleJSON:N.a.object,config:N.a.object,loading:N.a.bool,error:N.a.object,methods:N.a.array,getColors:N.a.func,styleUpdateTypes:N.a.object,debounceTime:N.a.number},Tr.defaultProps={onChange:function(){},onError:function(){},config:{},getColors:function(){},styleUpdateTypes:{},debounceTime:300,defaultStyleJSON:null};var Mr=Tr,Ar=r("./MapStore2/web/client/utils/ReselectUtils.js"),Cr=r("./MapStore2/web/client/api/StyleEditor.js");function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Dr={classificationVector:Cr.classificationVector,classificationRaster:Cr.classificationRaster,classification:Cr.classificationVector,"classification-raster":Cr.classificationRaster};function kr(e,t){return e&&"raster"!==t&&Object.keys(e).filter((function(t){return-1!==["integer","long","double","float","bigdecimal","string","decimal"].indexOf(e[t].localPart.toLowerCase())})).map((function(t){var r=e[t].localPart;return{attribute:t,label:t,type:-1!==["integer","long","double","float","bigdecimal","decimal"].indexOf(r.toLowerCase())?"number":"string"}}))}var Nr=Object(i.connect)(Object(a.createSelector)([E.codeStyleSelector,E.formatStyleSelector,E.layerPropertiesSelector,E.errorStyleSelector,E.loadingStyleSelector,E.getUpdatedLayer,E.geometryTypeSelector,R.scalesSelector,R.mapSelector,E.styleServiceSelector],(function(e,t,r,n,o,i,a,s,l,c){var u,p;return{code:e,mode:Object(x.getEditorMode)(t),bands:A()(r)&&"raster"===a&&r||[],attributes:kr(r,a),error:n.edit||null,loading:o,format:t,layer:i,geometryType:a,scales:s.map((function(e){return Math.round(e)})),zoom:l.zoom,fonts:c.fonts||[],methods:("raster"===a?null==c||null===(u=c.classificationMethods)||void 0===u?void 0:u.raster:null==c||null===(p=c.classificationMethods)||void 0===p?void 0:p.vector)||I.methods}})),{onError:l.errorStyle.bind(null,"edit")})(Mr);Nr.defaultProps={getColors:I.getColors,styleUpdateTypes:Dr};var Fr={visual:Nr,textarea:Object(i.connect)(Object(a.createSelector)([E.codeStyleSelector,E.formatStyleSelector,E.layerPropertiesSelector,E.errorStyleSelector,E.loadingStyleSelector],(function(e,t,r,n,o){return{code:e,mode:Object(x.getEditorMode)(t),hintProperties:r,error:n.edit||null,loading:o}})))(D.a)};function Gr(e){var t=e.code,r=e.error,i=e.canEdit,a=e.editorType,s=e.onUpdateMetadata,l=e.onChange,c=e.loading,u=Lr(e,["code","error","canEdit","editorType","onUpdateMetadata","onChange","loading"]),p=Ir(Object(n.useState)(),2),d=p[0],m=p[1],y={position:"relative",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"};if(!t&&!r)return o.a.createElement("div",{style:y},o.a.createElement(w.a,{size:150}));if(!i)return o.a.createElement("div",{style:y},o.a.createElement("div",null,o.a.createElement(q.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),o.a.createElement("h1",null,o.a.createElement(j.a,{msgId:"styleeditor.noPermission"}))));if(404===(null==r?void 0:r.status))return o.a.createElement("div",{style:y},o.a.createElement("div",null,o.a.createElement(q.Glyphicon,{glyph:"exclamation-mark",style:{fontSize:150}}),o.a.createElement("h1",null,o.a.createElement(j.a,{msgId:"styleeditor.styleNotFound"}))));var b=Fr[a]||Fr.textarea;return o.a.createElement(f.a,{style:{position:"relative"},header:o.a.createElement("div",{className:"ms-style-editor-switch"},o.a.createElement(H.a,{buttons:[{className:"square-button-md no-border",glyph:"code",active:"textarea"===a,disabled:c,tooltipId:"visual"===a?"styleeditor.switchToTextareaEditor":"styleeditor.switchToVisualEditor",onClick:function(){return c?null:"visual"===a?s({editorType:"textarea"}):m(!0)}}]}))},b&&o.a.createElement(b,_r({},u,{onChange:function(e,t){l(e),T()(t)&&s({styleJSON:JSON.stringify(t)})}})),d&&o.a.createElement("div",{className:"ms-style-editor-alert",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",padding:16,backgroundColor:"rgba(0, 0, 0, 0.6)"}},o.a.createElement(q.Alert,{bsStyle:"warning",style:{textAlign:"center"}},o.a.createElement("p",{style:{padding:8}},o.a.createElement(j.a,{msgId:"styleeditor.alertForceTranslate"})),o.a.createElement("p",null,o.a.createElement(H.a,{buttons:[{text:o.a.createElement(j.a,{msgId:"styleeditor.stayInTextareaEditor"}),onClick:function(){return m(!1)},style:{marginRight:4}},{bsStyle:"primary",text:o.a.createElement(j.a,{msgId:"styleeditor.useLatestValidStyle"}),onClick:function(){s({editorType:"visual"}),m(!1)}}]})))))}Gr.defaultProps={inlineWidgets:_.a};var Ur=Object(i.connect)(Object(Ar.createShallowSelector)(E.codeStyleSelector,E.errorStyleSelector,E.canEditStyleSelector,(function(e){var t=Object(E.editorMetadataSelector)(e);return null==t?void 0:t.editorType}),(function(e){try{var t=Object(E.editorMetadataSelector)(e);return JSON.parse(null==t?void 0:t.styleJSON)}catch(e){return null}}),E.loadingStyleSelector,(function(e,t,r,n,o,i){return{code:e,error:t.edit||null,canEdit:r,editorType:n,defaultStyleJSON:o,loading:i}})),{onUpdateMetadata:l.updateEditorMetadata,onChange:l.editStyleCode})(Gr);r.d(t,"StyleSelector",(function(){return Zr}));var Br=Object(x.getStyleTemplates)(),zr=v()((function(e){return!e.canEdit}),{glyph:"exclamation-mark",title:o.a.createElement(j.a,{msgId:"styleeditor.noPermission"})}),Wr=function(e){return g()(e,{size:150,style:{margin:"auto"}},(function(e){return o.a.createElement("div",{style:{position:"relative",height:"100%",display:"flex"}},o.a.createElement(w.a,e))}))},Vr=Object(s.compose)(Object(s.defaultProps)({templates:Br}),Object(i.connect)(Object(a.createSelector)([E.templateIdSelector,E.addStyleSelector,E.geometryTypeSelector,E.canEditStyleSelector,E.styleServiceSelector,E.loadingStyleSelector],(function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.formats,a=void 0===i?[]:i,s=arguments.length>5?arguments[5]:void 0;return{selectedStyle:e,add:t&&e,geometryType:r,canEdit:n,availableFormats:a,loading:s}})),{onSelect:l.selectStyleTemplate,onClose:l.addStyle.bind(null,!1),onSave:l.createStyle}),zr,Wr((function(e){return!e.geometryType})),Object(s.withState)("filterText","onFilter",""),Object(s.withState)("styleSettings","onUpdate",{}))(r("./MapStore2/web/client/components/styleeditor/StyleTemplates.jsx")),Hr=Object(s.compose)(Object(i.connect)(Object(a.createSelector)([E.statusStyleSelector,E.getAllStyles],(function(e,t){return{status:e,defaultStyle:t.defaultStyle,enabledStyle:t.enabledStyle,availableStyles:t.availableStyles}})),{onSelect:u.updateSettingsParams}),Object(s.withState)("filterText","onFilter",""),y()((function(e){var t=e.status,r=e.readOnly;return"template"===t&&!r}),(function(){return o.a.createElement(Vr,null)}),{maskContainerStyle:{display:"flex",position:"relative"},maskStyle:{overflowY:"auto",left:0}}))(r("./MapStore2/web/client/components/styleeditor/StyleList.jsx")),qr=Object(s.compose)(Object(s.withState)("showModal","onShowModal"),Object(i.connect)(Object(a.createSelector)([E.statusStyleSelector,E.templateIdSelector,E.errorStyleSelector,E.initialCodeStyleSelector,E.codeStyleSelector,E.loadingStyleSelector,E.selectedStyleSelector,E.canEditStyleSelector,E.getAllStyles,E.styleServiceSelector,E.selectedStyleFormatSelector],(function(e,t,r,n,o,i,a,s,l){var c=l.defaultStyle,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},p=u.formats,d=void 0===p?["sld"]:p,f=arguments.length>10?arguments[10]:void 0;return{status:e,templateId:t,error:r,isCodeChanged:n!==o,loading:i,layerDefaultStyleName:c,selectedStyle:c===a?"":a,editEnabled:s,disableCodeEditing:-1===d.indexOf(f)}})),{onSelectStyle:l.updateStatus.bind(null,"template"),onEditStyle:l.updateStatus.bind(null,"edit"),onBack:l.updateStatus.bind(null,""),onReset:c.updateOptionsByOwner.bind(null,x.STYLE_OWNER_NAME,[{}]),onAdd:l.addStyle.bind(null,!0),onUpdate:l.updateStyleCode,onDelete:l.deleteStyle,onSetDefault:l.setDefaultStyle}))(r("./MapStore2/web/client/components/styleeditor/StyleToolbar.jsx")),Yr=Object(s.compose)(Object(i.connect)(Object(a.createSelector)([E.getUpdatedLayer],(function(e){return{layer:e}})),{onInit:p.getLayerCapabilities}),Object(s.lifecycle)({componentWillMount:function(){this.props.onInit&&this.props.layer&&this.props.onInit(this.props.layer)}}),Wr((function(e){var t=e.layer,r=void 0===t?{}:t;return r&&r.capabilitiesLoading})))((function(){return o.a.createElement(f.a,{className:"ms-style-editor-container",footer:o.a.createElement("div",{style:{height:25}})},o.a.createElement(Hr,{readOnly:!0}))})),Zr=Object(s.branch)((function(e){return e.readOnly}),(function(){return Yr}))(Hr);t.default={StyleSelector:Zr,StyleTemplates:Vr,StyleToolbar:qr,StyleCodeEditor:Ur}},"./MapStore2/web/client/plugins/styleeditor/inlineWidgets.js":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-color/lib/index.js").SketchPicker,i=r("./node_modules/tinycolor2/tinycolor.js");e.exports=[{type:"color",active:function(e){return"atom"===e.type&&i(e.string).isValid()},style:function(e){return{backgroundColor:e.string}},Widget:function(e){var t=e.token,r=e.value,i=e.onChange,a=void 0===i?function(){}:i;return n.createElement(o,{color:{hex:r||t.string},onChange:function(e){return a(e.hex)}})}}]},"./MapStore2/web/client/plugins/timeline/Timeline.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/react/index.js"),s=r("./node_modules/react-redux/es/index.js").connect,l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.isString,u=l.differenceBy,p=l.isNil,d=r("./MapStore2/web/client/selectors/dimension.js").currentTimeSelector,f=r("./MapStore2/web/client/actions/timeline.js"),m=f.selectTime,y=f.selectLayer,b=f.onRangeChanged,g=r("./MapStore2/web/client/selectors/timeline.js"),h=g.itemsSelector,v=g.loadingSelector,S=g.selectedLayerSelector,w=g.currentTimeRangeSelector,O=g.rangeSelector,j=g.timelineLayersSelector,E=r("./MapStore2/web/client/actions/dimension.js"),x=E.moveTime,P=E.setCurrentOffset,T=r("./MapStore2/web/client/actions/playback.js").selectPlaybackRange,M=r("./MapStore2/web/client/selectors/playback.js"),A=M.playbackRangeSelector,C=M.statusSelector,_=r("./node_modules/reselect/es/index.js"),I=_.createStructuredSelector,R=_.createSelector,L=r("./MapStore2/web/client/utils/ReselectUtils.js").createShallowSelectorCreator,D=r("./node_modules/recompose/es/Recompose.js"),k=D.compose,N=D.withPropsOnChange,F=D.defaultProps,G=r("./MapStore2/web/client/components/misc/enhancers/withMask.js"),U=r("./MapStore2/web/client/components/I18N/Message.jsx"),B=r("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),z=r("./MapStore2/web/client/components/time/enhancers/customTimesHandlers.js"),W=r("./MapStore2/web/client/components/time/enhancers/customTimesEnhancer.js"),V=r("./node_modules/moment/moment.js"),H=k(s(R(O,h,L((function(e,t){return e===t||!p(e)&&!p(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name}))(j,(function(e){return e})),v,(function(e,t,r,n){return{viewRange:e,items:t,layers:r,loading:n}}))),N((function(e,t){var r=e.layers,n=void 0===r?[]:r,o=e.loading,i=e.selectedLayer,a=t.layers,s=t.loading,l=t.selectedLayer,c=e.hideLayersName!==t.hideLayersName;return o!==s||i!==l||c||n&&a&&n.length!==a.length||u(n,a||[],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.title,n=e.name;return t+r+n})).length>0}),(function(e){var t=e.layers,r=void 0===t?[]:t,n=e.loading,o=void 0===n?{}:n,i=e.selectedLayer;return{groups:r.map((function(e){return{id:e.id,className:(o[e.id]?"loading":"")+(e.id&&e.id===i?" selected":""),content:'<div class="timeline-layer-label-container">'+(o[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===i?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(c(e.title)?e.title:e.name,"</div>")+"</div>"}}))}}))),q=k(s(R(d,w,(function(e,t){return{currentTime:e,currentTimeRange:t}})),{setCurrentTime:m,moveCurrentRange:x,setOffset:P})),Y=k(s(I({playbackRange:A,status:C}),{setPlaybackRange:T})),Z=k(s(R(S,(function(e){return{selectedLayer:e}})),{selectGroup:y})),Q=k(s((function(){return{}}),{rangechangedHandler:b})),K=k(q,Y,Z,z,Q,H,F({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return V(e).utc()}}}),N(["viewRange","options"],(function(e){var t=e.viewRange,r=void 0===t?{}:t;return{options:o(o({},e.options),r)}})),N(["status"],(function(e){return{readOnly:"PLAY"===e.status}})),W,G((function(e){var t=e.loading;return t&&t.timeline}),(function(){return a.createElement("div",{style:{margin:"auto",fontWeight:"bold"}},a.createElement(B,{style:{display:"inline-block",verticalAlign:"middle"}}),a.createElement(U,{msgId:"loading"}))}),{white:!0})),X=r("./MapStore2/web/client/components/time/TimelineComponent.jsx");e.exports=K(X)},"./MapStore2/web/client/plugins/timeline/TimelineToggle.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("./node_modules/react/index.js"),l=r("./node_modules/rxjs/Rx.js"),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r("./node_modules/react-bootstrap/es/index.js"),p=u.Button,d=u.Glyphicon,f=r("./MapStore2/web/client/actions/timeline.js").setCollapsed,m=r("./MapStore2/web/client/selectors/timeline.js"),y=m.isCollapsed,b=m.hasLayers,g=r("./node_modules/recompose/es/Recompose.js"),h=g.compose,v=g.withHandlers,S=g.withProps,w=g.renderNothing,O=g.branch,j=g.mapPropsStream,E=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),x=r("./node_modules/reselect/es/index.js").createSelector,P=r("./node_modules/react-redux/es/index.js").connect,T=r("./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js"),M=h(S({collapseHintPopoverOptions:{placement:"top",props:{title:s.createElement("span",null,s.createElement(d,{glyph:"time"})," ",s.createElement("strong",null,s.createElement(c,{msgId:"timeline.collapsed.title"})))},content:s.createElement(c,{msgId:"timeline.collapsed.tooltip"})}}),j((function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter((function(e){return e.collapsed})).take(1).switchMap((function(e){var t=e.collapseHintPopoverOptions;return l.Observable.timer(5e3).startWith({popoverOptions:t}).concat(l.Observable.of({}))})).startWith({})}(e),(function(e,t){return i(i({},e),t)}))})),O((function(e){return e.popoverOptions}),T,E))(p);e.exports=h(P(x(y,b,(function(e,t){return{collapsed:e,visible:t}})),{setCollapsed:f}),O((function(e){return!e.visible}),w),v({onClick:function(e){var t=e.collapsed,r=e.setCollapsed;return function(){return r(!t)}}}),S((function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}})))((function(e){return s.createElement(M,n({},e,{bsSize:"xsmall"}),s.createElement(d,{glyph:"time"}))}))},"./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/toolbar/assets/img/layers.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3woCDCsUqrUEAAAAAQxJREFUOMvN0iFLw1EUBfCf02Q0LGhQQVZekiU/gTAYImpasMi6VVBhwSCsi0kQbIJFsBoMBjHdpKDJMjBaxM3yhCn7z4HF29695xzuue/wxxofNkwp1crl8kKn03kswowVEEvYx25utdCKiO6vAimlKZxh+cfoCo2IeC0USClVcY7Zgo2fsR4Rd1+NUh95CzdDyDCHm4z9LoAueiMcvpexAy0sZgvzBeQnrEXE/SALM3hHFZcDyJd59pFSmh5koY1b1FDHXl61m7+zjpWMaX+RJvoEGjjAKZawncFwjSM0cYidYTlYxQkCGzmt56hgMyIuRkliJZPKWeAlH+9hpChnkUkc52czIt78y/oEtThIARE8NNwAAAAASUVORK5CYII="},"./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx":function(e,t,r){e.exports=r("./MapStore2/web/client/components/widgets/builder/BuilderHeader.jsx")},"./MapStore2/web/client/plugins/widgetbuilder/Catalog.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./node_modules/recompose/es/Recompose.js").defaultProps;e.exports=i({title:n.createElement(o,{msgId:"widgets.builder.wizard.selectALayer"})})(r("./MapStore2/web/client/components/catalog/CompactCatalog.jsx"))},"./MapStore2/web/client/plugins/widgetbuilder/ChartBuilder.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/react-redux/es/index.js").connect,s=r("./node_modules/recompose/es/Recompose.js"),l=s.compose,c=s.renameProps,u=s.branch,p=s.renderComponent,d=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),f=r("./MapStore2/web/client/actions/widgets.js"),m=f.insertWidget,y=f.onEditorChange,b=f.setPage,g=f.openFilterEditor,h=f.changeEditorSetting,v=r("./MapStore2/web/client/components/widgets/enhancers/builderConfiguration.jsx"),S=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/chartLayerSelector.js"),w=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnect.js"),O=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnectMask.jsx"),j=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/withExitButton.js"),E=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withConnectButton.js"),x=r("./MapStore2/web/client/plugins/widgetbuilder/commons.js"),P=x.wizardStateToProps,T=x.wizardSelector,M=a(T,{setPage:b,setValid:function(e){return h("valid",e)},onEditorChange:y,insertWidget:m},P)(l(v,c({editorData:"data",onEditorChange:"onChange"}))(r("./MapStore2/web/client/components/widgets/builder/wizard/ChartWizard.jsx"))),A=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),C=l(a(T,{openFilterEditor:g,setPage:b,onChange:y,insertWidget:m},P),w,j(),E((function(e){return 1===e.step})))(r("./MapStore2/web/client/components/widgets/builder/wizard/chart/Toolbar.jsx")),_=l(a(T),O,u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer;return!t}),p(S(r("./MapStore2/web/client/plugins/widgetbuilder/LayerSelector.jsx")))));e.exports=_((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,r=e.onClose,a=void 0===r?function(){}:r,s=e.exitButton,l=e.editorData,c=e.toggleConnection,u=e.availableDependencies,p=void 0===u?[]:u,f=e.dependencies,m=o(e,["enabled","onClose","exitButton","editorData","toggleConnection","availableDependencies","dependencies"]);return i.createElement("div",{className:"mapstore-chart-advance-options"},i.createElement(d,{header:i.createElement(A,{onClose:a},i.createElement(C,{exitButton:s,editorData:l,toggleConnection:c,availableDependencies:p,onClose:a}))},t?i.createElement(M,n({dependencies:f},m)):null))}))},"./MapStore2/web/client/plugins/widgetbuilder/CounterBuilder.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/react-redux/es/index.js").connect,s=r("./node_modules/recompose/es/Recompose.js"),l=s.compose,c=s.renameProps,u=s.branch,p=s.renderComponent,d=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),f=r("./MapStore2/web/client/actions/widgets.js"),m=f.insertWidget,y=f.onEditorChange,b=f.setPage,g=f.openFilterEditor,h=f.changeEditorSetting,v=r("./MapStore2/web/client/components/widgets/enhancers/builderConfiguration.jsx"),S=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/chartLayerSelector.js"),w=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnect.js"),O=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnectMask.jsx"),j=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/withExitButton.js"),E=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withConnectButton.js"),x=r("./MapStore2/web/client/plugins/widgetbuilder/commons.js"),P=x.wizardStateToProps,T=x.wizardSelector,M=a(T,{setPage:b,setValid:function(e){return h("valid",e)},onEditorChange:y,insertWidget:m},P)(l(v,c({editorData:"data",onEditorChange:"onChange"}))(r("./MapStore2/web/client/components/widgets/builder/wizard/CounterWizard.jsx"))),A=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),C=l(a(T,{openFilterEditor:g,setPage:b,onChange:y,insertWidget:m},P),w,j(),E((function(e){return 0===e.step})))(r("./MapStore2/web/client/components/widgets/builder/wizard/counter/Toolbar.jsx")),_=l(a(T),O,u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer;return!t}),p(S(r("./MapStore2/web/client/plugins/widgetbuilder/LayerSelector.jsx")))));e.exports=_((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,r=e.onClose,a=void 0===r?function(){}:r,s=e.exitButton,l=e.editorData,c=e.toggleConnection,u=e.availableDependencies,p=void 0===u?[]:u,f=e.dependencies,m=o(e,["enabled","onClose","exitButton","editorData","toggleConnection","availableDependencies","dependencies"]);return i.createElement(d,{header:i.createElement(A,{onClose:a},i.createElement(C,{exitButton:s,editorData:l,toggleConnection:c,availableDependencies:p,onClose:a}))},t?i.createElement(M,n({formOptions:{showColorRamp:!1,showUom:!0,showGroupBy:!1,showLegend:!1},dependencies:f},m)):null)}))},"./MapStore2/web/client/plugins/widgetbuilder/LayerSelector.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,i=r("./node_modules/reselect/es/index.js").createSelector,a=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),s=r("./MapStore2/web/client/selectors/catalog.js").selectedCatalogSelector,l=r("./MapStore2/web/client/components/widgets/builder/wizard/common/layerselector/Toolbar.jsx"),c=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),u=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),p=r("./MapStore2/web/client/components/I18N/I18N.jsx"),d=p.Message,f=p.HTML,m=r("./node_modules/recompose/es/Recompose.js"),y=(0,m.compose)((0,m.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.catalog;return!t}),o(i(s,(function(e){return{catalog:e}})))))(r("./MapStore2/web/client/plugins/widgetbuilder/Catalog.jsx"));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,o=e.setSelected,i=void 0===o?function(){}:o,s=e.onLayerChoice,p=void 0===s?function(){}:s,m=e.stepButtons,b=e.selected,g=e.error,h=e.canProceed,v=e.layer,S=e.catalog,w=e.catalogServices;return n.createElement(a,{className:"bg-body layer-selector",header:n.createElement(c,{onClose:r},n.createElement(l,{stepButtons:m,canProceed:h,onProceed:function(){return p(v)}}),b&&!h&&g?n.createElement(u,{trigger:!1,glyph:"warning-sign",bsStyle:"warning",title:n.createElement(d,{msgId:"widgets.builder.errors.noWidgetsAvailableTitle"}),text:n.createElement(f,{msgId:"widgets.builder.errors.noWidgetsAvailableDescription"})}):null)},n.createElement(y,{services:w,selected:b,catalog:S,onRecordSelected:function(e){return i(e)}}))}},"./MapStore2/web/client/plugins/widgetbuilder/LegendBuilder.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/react-redux/es/index.js").connect,s=r("./node_modules/reselect/es/index.js").createSelector,l=r("./MapStore2/node_modules/lodash/lodash.js").get,c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.renameProps,d=c.mapPropsStream,f=c.withProps,m=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),y=r("./MapStore2/web/client/components/I18N/Message.jsx"),b=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),g=r("./MapStore2/web/client/actions/widgets.js"),h=g.insertWidget,v=g.onEditorChange,S=g.setPage,w=g.openFilterEditor,O=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/legendBuilderConnect.js"),j=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnectMask.jsx"),E=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/withExitButton.js"),x=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withConnectButton.js"),P=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withMapConnect.js"),T=f((function(e){var t=e.availableDependencies,r=void 0===t?[]:t,n=e.editorData;return{valid:r.length>0&&n.mapSync}})),M=s(r("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,(function(e){return{currentLocale:e}})),A=r("./MapStore2/web/client/plugins/widgetbuilder/commons.js"),C=A.wizardStateToProps,_=A.wizardSelector,I=u(a(_,{setPage:S,onEditorChange:v,insertWidget:h},C),a(M),T,p({editorData:"data",onEditorChange:"onChange"}))(r("./MapStore2/web/client/components/widgets/builder/wizard/LegendWizard.jsx")),R=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),L=u(a(_,{openFilterEditor:w,setPage:S,onChange:v,insertWidget:h},C),O,T,a((function(){return{}}),{onLayerChoice:function(e){return v("layer",e)},onResetChange:v}),f((function(e){var t=e.onResetChange,r=void 0===t?function(){}:t;return{exitButton:{glyph:"arrow-left",tooltipId:"widgets.builder.wizard.backToWidgetTypeSelection",onClick:function(){return r("widgetType",void 0)}}}})),E((function(e){return 0===e.step})),x((function(e){return 0===e.step})))(r("./MapStore2/web/client/components/widgets/builder/wizard/legend/Toolbar.jsx")),D=u(a(_),j,O,P({layers:"layers",zoom:"zoom",viewport:"viewport"}),d((function(e){return e.merge(e.filter((function(e){var t=e.editorData;return!(void 0===t?{}:t).mapSync})).take(1).distinctUntilChanged().do((function(e){var t=e.toggleConnection;return(void 0===t?function(){}:t)(e.availableDependencies)})).ignoreElements())})));e.exports=D((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,r=e.onClose,a=void 0===r?function(){}:r,s=e.editorData,c=void 0===s?{}:s,u=e.exitButton,p=e.toggleConnection,d=e.availableDependencies,f=void 0===d?[]:d,g=e.dependencies,h=o(e,["enabled","onClose","editorData","exitButton","toggleConnection","availableDependencies","dependencies"]);return i.createElement(b,{header:i.createElement(R,{onClose:a},i.createElement(L,{editorData:c,exitButton:u,toggleConnection:p,availableDependencies:f,onClose:a}),0===l(c,"options.propertyName.length")?i.createElement(m,{trigger:!1,glyph:"exclamation-mark",bsStyle:"warning",text:i.createElement(y,{msgId:"widgets.builder.errors.checkAtLeastOneAttribute"})}):null)},t?i.createElement(I,n({availableDependencies:f,editorData:c,dependencies:g},h)):null)}))},"./MapStore2/web/client/plugins/widgetbuilder/MapBuilder.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,i=r("./MapStore2/web/client/actions/widgets.js").onEditorChange,a=r("./MapStore2/web/client/plugins/widgetbuilder/commons.js"),s=a.wizardSelector,l=a.wizardStateToProps,c=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/layerSelector.js"),u=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/manageLayers.js"),p=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/mapToolbar.js"),d=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/handleNodeEditing.js"),f=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/mapBuilderConnectMask.jsx"),m=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),y=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),b=r("./node_modules/recompose/es/Recompose.js"),g=b.compose,h=b.branch,v=b.renderComponent,S=b.withState,w=b.withHandlers,O=b.withProps,j=r("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/handleNodeSelection.js"),E=p(r("./MapStore2/web/client/components/widgets/builder/wizard/map/Toolbar.jsx")),x=r("./MapStore2/web/client/plugins/widgetbuilder/MapSelector.jsx"),P=g(o(s,{onResetChange:i}),h((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorData,r=void 0===t?{}:t;return!r.map}),v(x)),S("layerSelectorOpen","toggleLayerSelector",!1),h((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layerSelectorOpen,r=void 0!==t&&t;return r}),v(g(u,w({onLayerChoice:function(e){var t=e.toggleLayerSelector,r=void 0===t?function(){}:t,n=e.addLayer,o=void 0===n?function(){}:n;return function(e){o(e),r(!1)}}}),c)(r("./MapStore2/web/client/plugins/widgetbuilder/MapLayerSelector.jsx")))),O((function(e){var t=e.onResetChange,r=void 0===t?function(){}:t;return{exitButton:{glyph:"arrow-left",onClick:function(){r("map",void 0)}}}}))),T=o(s,{onChange:i},l)(r("./MapStore2/web/client/components/widgets/builder/wizard/MapWizard.jsx")),M=g(P,O((function(e){var t=e.editorData;return{map:(void 0===t?{}:t).map}})),f,j,d);e.exports=M((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,r=e.onClose,o=void 0===r?function(){}:r,i=e.toggleLayerSelector,a=void 0===i?function(){}:i,s=e.editorData,l=void 0===s?{}:s,c=e.editNode,u=e.setEditNode,p=e.closeNodeEditor,d=e.isLocalizedLayerStylesEnabled,f=e.env,b=e.selectedGroups,g=void 0===b?[]:b,h=e.exitButton,v=e.selectedLayers,S=void 0===v?[]:v,w=e.selectedNodes,O=e.onNodeSelect,j=void 0===O?function(){}:O,x=e.availableDependencies,P=void 0===x?[]:x,M=e.toggleConnection,A=void 0===M?function(){}:M;return n.createElement(m,{className:"map-selector",header:n.createElement(y,{onClose:o},n.createElement(E,{exitButton:h,editorData:l,availableDependencies:P,toggleConnection:A,selectedNodes:w,selectedLayers:S,selectedGroups:g,onNodeSelect:j,toggleLayerSelector:a}))},t?n.createElement(T,{setEditNode:u,editNode:c,closeNodeEditor:p,onNodeSelect:j,isLocalizedLayerStylesEnabled:d,env:f,selectedNodes:w}):null)}))},"./MapStore2/web/client/plugins/widgetbuilder/MapLayerSelector.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,i=r("./node_modules/reselect/es/index.js").createSelector,a=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),s=r("./MapStore2/web/client/selectors/catalog.js").selectedCatalogSelector,l=r("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),c=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),u=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),p=r("./MapStore2/web/client/components/I18N/I18N.jsx"),d=p.Message,f=p.HTML,m=r("./node_modules/recompose/es/Recompose.js"),y=(0,m.compose)((0,m.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.catalog;return!t}),o(i(s,(function(e){return{catalog:e}})))))(r("./MapStore2/web/client/plugins/widgetbuilder/Catalog.jsx"));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,o=e.setSelected,i=void 0===o?function(){}:o,s=e.onLayerChoice,p=void 0===s?function(){}:s,m=e.toggleLayerSelector,b=void 0===m?function(){}:m,g=e.selected,h=e.canProceed,v=e.layer,S=e.catalog,w=e.catalogServices;return n.createElement(a,{className:"bg-body layer-selector",header:n.createElement(c,{onClose:r},n.createElement(l,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary",bsSize:"sm"},buttons:[{onClick:function(){return b(!1)},tooltipId:"close",glyph:"1-close"},{onClick:function(){return p(v)},disabled:!g||!h,tooltipId:"widgets.builder.wizard.useTheSelectedLayer",glyph:"plus"}]}),g&&!h?n.createElement(u,{glyph:"exclamation-mark",bsStyle:"warning",title:n.createElement(d,{msgId:"widgets.builder.errors.noWidgetsAvailableTitle"}),text:n.createElement(f,{msgId:"widgets.builder.errors.noWidgetsAvailableDescription"})}):null)},n.createElement(y,{services:w,selected:g,catalog:S,onRecordSelected:function(e){return i(e)}}))}},"./MapStore2/web/client/plugins/widgetbuilder/MapSelector.jsx":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withProps,a=r("./node_modules/react-redux/es/index.js").connect,s=r("./MapStore2/web/client/actions/widgets.js").onEditorChange,l=r("./MapStore2/web/client/utils/LayersUtils.js").normalizeMap,c=r("./MapStore2/web/client/components/widgets/builder/wizard/map/MapSelector.jsx").default;e.exports=o(a((function(){return{}}),{onMapSelected:function(e){var t=e.map;return s("map",l(t))},onResetChange:s}),i((function(e){var t=e.onResetChange,r=void 0===t?function(){}:t;return{stepButtons:[{glyph:"arrow-left",tooltipId:"widgets.builder.wizard.backToWidgetTypeSelection",onClick:function(){r("map",void 0),r("widgetType",void 0)}}]}})))(c)},"./MapStore2/web/client/plugins/widgetbuilder/TableBuilder.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/react-redux/es/index.js").connect,s=r("./MapStore2/node_modules/lodash/lodash.js").get,l=r("./MapStore2/web/client/utils/ogc/WFS/base.js").isGeometryType,c=r("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.renameProps,d=c.branch,f=c.renderComponent,m=c.mapPropsStream,y=r("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),b=r("./MapStore2/web/client/components/I18N/Message.jsx"),g=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),h=r("./MapStore2/web/client/actions/widgets.js"),v=h.insertWidget,S=h.onEditorChange,w=h.setPage,O=h.openFilterEditor,j=h.changeEditorSetting,E=r("./MapStore2/web/client/components/widgets/enhancers/builderConfiguration.jsx"),x=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/chartLayerSelector.js"),P=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnect.js"),T=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnectMask.jsx"),M=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/withExitButton.js"),A=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withConnectButton.js"),C=r("./MapStore2/web/client/plugins/widgetbuilder/commons.js"),_=C.wizardStateToProps,I=C.wizardSelector,R=a(I,{setPage:w,setValid:function(e){return j("valid",e)},onEditorChange:S,insertWidget:v},_)(u(E,p({editorData:"data",onEditorChange:"onChange"}),m((function(e){return e.merge(e.distinctUntilChanged((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.featureTypeProperties,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.featureTypeProperties;return t===n})).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.featureTypeProperties,r=void 0===t?[]:t,n=e.onChange,o=void 0===n?function(){}:n,i=e.data,a=void 0===i?{}:i;o&&r.length>0&&!s(a,"options.propertyName")&&o("options.propertyName",r.filter((function(e){return!l(e)})).map((function(e){return e.name})))})).ignoreElements())})))(r("./MapStore2/web/client/components/widgets/builder/wizard/TableWizard.jsx"))),L=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),D=u(a(I,{openFilterEditor:O,setPage:w,onChange:S,insertWidget:v},_),P,M(),A((function(e){return 0===e.step})))(r("./MapStore2/web/client/components/widgets/builder/wizard/table/Toolbar.jsx")),k=u(a(I),T,d((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer;return!t}),f(x(r("./MapStore2/web/client/plugins/widgetbuilder/LayerSelector.jsx")))));e.exports=k((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,r=e.onClose,a=void 0===r?function(){}:r,l=e.editorData,c=void 0===l?{}:l,u=e.exitButton,p=e.toggleConnection,d=e.availableDependencies,f=void 0===d?[]:d,m=e.dependencies,h=o(e,["enabled","onClose","editorData","exitButton","toggleConnection","availableDependencies","dependencies"]);return i.createElement(g,{header:i.createElement(L,{onClose:a},i.createElement(D,{editorData:c,exitButton:u,toggleConnection:p,availableDependencies:f,onClose:a}),0===s(c,"options.propertyName.length")?i.createElement(y,{trigger:!1,glyph:"exclamation-mark",bsStyle:"warning",text:i.createElement(b,{msgId:"widgets.builder.errors.checkAtLeastOneAttribute"})}):null)},t?i.createElement(R,n({editorData:c,dependencies:m},h)):null)}))},"./MapStore2/web/client/plugins/widgetbuilder/TextBuilder.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./node_modules/react-redux/es/index.js").connect,i=r("./node_modules/recompose/es/Recompose.js"),a=i.compose,s=i.withProps,l=r("./MapStore2/web/client/actions/widgets.js"),c=l.onEditorChange,u=l.insertWidget,p=l.setPage,d=r("./MapStore2/web/client/plugins/widgetbuilder/commons.js"),f=d.wizardSelector,m=d.wizardStateToProps,y=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),b=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/withExitButton.js"),g=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),h=a(o(f,{setPage:p,insertWidget:u,onResetChange:c},m),s((function(e){var t=e.onResetChange,r=void 0===t?function(){}:t;return{exitButton:{glyph:"arrow-left",tooltipId:"widgets.builder.wizard.backToWidgetTypeSelection",onClick:function(){return r("widgetType",void 0)}}}})),b())(r("./MapStore2/web/client/components/widgets/builder/wizard/text/Toolbar.jsx")),v=o(f,{onChange:c},m)(r("./MapStore2/web/client/components/widgets/builder/wizard/TextWizard.jsx"));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,r=e.onClose,o=void 0===r?function(){}:r;return n.createElement(y,{header:n.createElement(g,{onClose:o},n.createElement(h,null))},t?n.createElement(v,null):null)}},"./MapStore2/web/client/plugins/widgetbuilder/WidgetTypeBuilder.jsx":function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=r("./node_modules/react/index.js"),a=r("./node_modules/react-redux/es/index.js").connect,s=r("./node_modules/reselect/es/index.js").createSelector,l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.branch,p=l.renderComponent,d=l.withProps,f=s(r("./MapStore2/web/client/selectors/widgets.js").getEditingWidget,(function(e){return{widgetType:e&&e.widgetType}})),m=r("./MapStore2/web/client/plugins/widgetbuilder/WidgetTypeSelector.jsx"),y={chart:r("./MapStore2/web/client/plugins/widgetbuilder/ChartBuilder.jsx"),text:r("./MapStore2/web/client/plugins/widgetbuilder/TextBuilder.jsx"),table:r("./MapStore2/web/client/plugins/widgetbuilder/TableBuilder.jsx"),map:r("./MapStore2/web/client/plugins/widgetbuilder/MapBuilder.jsx"),counter:r("./MapStore2/web/client/plugins/widgetbuilder/CounterBuilder.jsx"),legend:r("./MapStore2/web/client/plugins/widgetbuilder/LegendBuilder.jsx")};e.exports=c(a(f),d((function(e){var t=e.typeFilter,r=void 0===t?function(){return!0}:t,n=e.availableDependencies,o=void 0===n?[]:n;return{typeFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(e)&&!("legend"===e.type&&0===o.length)}}})),u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.widgetType;return!t}),p(m),(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.widgetType,r=e.onClose,a=void 0===r?function(){}:r,s=o(e,["widgetType","onClose"]),l=y[t];return i.createElement(l,n({},s,{onClose:a,widgetType:t}))}})))()},"./MapStore2/web/client/plugins/widgetbuilder/WidgetTypeSelector.jsx":function(e,t,r){var n=r("./node_modules/react/index.js"),o=r("./MapStore2/web/client/components/I18N/Message.jsx"),i=r("./MapStore2/web/client/actions/widgets.js").onEditorChange,a=r("./node_modules/react-redux/es/index.js").connect,s=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),l=r("./MapStore2/web/client/plugins/widgetbuilder/BuilderHeader.jsx"),c=a((function(){return{}}),{onSelect:function(e){return i("widgetType",e)}})(r("./MapStore2/web/client/components/widgets/builder/WidgetTypeSelector.jsx"));e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,r=e.onClose,i=void 0===r?function(){}:r,a=e.typeFilter;return n.createElement(s,{className:"bg-body",header:n.createElement(l,{onClose:i},n.createElement(o,{msgId:"widgets.selectWidgetType"}))},t?n.createElement(c,{typeFilter:a}):null)}},"./MapStore2/web/client/plugins/widgetbuilder/commons.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/reselect/es/index.js").createSelector,s=r("./MapStore2/node_modules/lodash/lodash.js").isNil,l=r("./MapStore2/web/client/selectors/widgets.js"),c=l.getEditingWidget,u=l.dependenciesSelector,p=l.getEditorSettings,d=l.getWidgetLayer,f=l.getFloatingWidgets,m=l.availableDependenciesForEditingWidgetSelector,y=r("./MapStore2/web/client/selectors/localizedLayerStyles.js"),b=y.isLocalizedLayerStylesEnabledDashboardsSelector,g=y.localizedLayerStylesEnvSelector,h=r("./MapStore2/web/client/selectors/locale.js").currentLocaleLanguageSelector,v=r("./MapStore2/web/client/selectors/dashboard.js").showConnectionsSelector,S=a(d,c,p,f,(function(e,t,r,n){return{layer:t&&t.layer||e,editorData:t,settings:r,widgets:n}})),w=a(c,v,u,m,(function(e,t,r,n){return o({layer:e.layer,showConnections:t,dependencies:r},n)})),O=a(b,h,g,(function(e,t,r){return{isLocalizedLayerStylesEnabled:!s(e),language:t,env:r}}));e.exports={getWidgetLayer:d,availableDependenciesForEditingWidgetSelector:m,dashboardSelector:w,dashboardsLocalizedSelector:O,wizardStateToProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o(o(o(o({},r),e),t),{},{step:e&&e.settings&&e.settings.step,valid:e&&e.settings&&e.settings.valid,onFinish:function(){return t.insertWidget&&t.insertWidget(o({layer:e.layer,url:e.layer&&e.layer.url},e.editorData||{}),r.target)}})},wizardSelector:S}},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/chartLayerSelector.js":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./node_modules/recompose/es/Recompose.js"),i=o.compose,a=o.defaultProps,s=o.withProps,l=o.setDisplayName,c=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/layerSelector.js"),u=r("./MapStore2/web/client/actions/widgets.js").onEditorChange,p=r("./MapStore2/web/client/observables/widgets/canGenerateCharts.js");e.exports=i(l("ChartLayerSelector"),n((function(){return{}}),{onLayerChoice:function(e){return u("layer",e)},onResetChange:u}),a({layerValidationStream:function(e){return e.switchMap((function(e){return p(e)}))}}),s((function(e){var t=e.onResetChange,r=void 0===t?function(){}:t;return{stepButtons:[{glyph:"arrow-left",tooltipId:"widgets.builder.wizard.backToWidgetTypeSelection",onClick:function(){r("options",void 0),r("widgetType",void 0)}}]}})),c)},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/legendBuilderConnect.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.withProps,i=n.compose;e.exports=i(o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.availableDependencies,r=void 0===t?[]:t,n=e.editorData,o=void 0===n?{}:n;return{availableDependencies:r.filter((function(e){return!(o.id&&e.indexOf(o.id)>=0)}))}})),o((function(e){var t=e.editorData,r=void 0===t?{}:t,n=e.availableDependencies;return{canConnect:(void 0===n?[]:n).length>0,connected:!!r.mapSync}})))},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/mapBuilderConnect.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.withProps,i=n.compose,a=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withMapConnect.js");e.exports=i(o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.availableDependencies,r=void 0===t?[]:t,n=e.editorData,o=void 0===n?{}:n;return{availableDependencies:r.filter((function(e){return!(o.id&&e.indexOf(o.id)>=0)}))}})),o((function(e){var t=e.editorData;return{canConnect:!0,connected:!!(void 0===t?{}:t).mapSync}})),a({center:"center",zoom:"zoom",filter:"filter",quickFilters:"quickFilters",layer:"layer",options:"options",mapSync:"mapSync",dependenciesMap:"dependenciesMap"}))},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/mapBuilderConnectMask.jsx":function(e,t,r){var n=r("./MapStore2/web/client/selectors/widgets.js").isWidgetSelectionActive,o=r("./MapStore2/web/client/components/misc/enhancers/withMask.js"),i=r("./node_modules/react-redux/es/index.js").connect,a=r("./node_modules/reselect/es/index.js").createSelector,s=r("./node_modules/recompose/es/Recompose.js").compose,l=r("./node_modules/react/index.js"),c=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=s(i(a(n,(function(e){return{widgetSelectionActive:e}}))),o((function(e){return e.widgetSelectionActive}),(function(){return l.createElement("div",{style:{margin:"auto"}},l.createElement(c,{msgId:"widgets.builder.wizard.selectMapToConnect"}))}),{alwaysWrap:!0}))},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnect.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.withProps,i=n.compose,a=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withMapConnect.js"),s=function(e,t,r){return"table"===t&&0===e.filter((function(e){return Object.keys(e).filter((function(t){return e[t]&&-1!==e[t].indexOf(r.id)})).length>0})).length};e.exports=i(o((function(e){var t=e.editorData,r=void 0===t?{}:t,n=e.widgets,o=(void 0===n?[]:n).filter((function(e){var t=e.mapSync,r=e.dependenciesMap;return t&&r})).map((function(e){return e.dependenciesMap}));return{canConnect:r.geomProp&&"table"!==r.widgetType||s(o,r.widgetType,r),connected:r.mapSync}})),a({viewport:"viewport",layers:"layers",filter:"filter",quickFilters:"quickFilters",layer:"layer",options:"options",mapSync:"mapSync",dependenciesMap:"dependenciesMap"}))},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/viewportBuilderConnectMask.jsx":function(e,t,r){var n=r("./MapStore2/web/client/selectors/widgets.js").isWidgetSelectionActive,o=r("./MapStore2/web/client/components/misc/enhancers/withMask.js"),i=r("./node_modules/react-redux/es/index.js").connect,a=r("./node_modules/reselect/es/index.js").createSelector,s=r("./node_modules/recompose/es/Recompose.js").compose,l=r("./node_modules/react/index.js"),c=r("./MapStore2/web/client/components/I18N/Message.jsx");e.exports=s(i(a(n,(function(e){return{widgetSelectionActive:e}}))),o((function(e){return e.widgetSelectionActive}),(function(){return l.createElement("div",{style:{margin:"auto"}},l.createElement(c,{msgId:"widgets.builder.wizard.selectMapToConnect"}))}),{alwaysWrap:!0}))},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withConnectButton.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.withProps,l=a.compose;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return l(s((function(t){var r=t.disableMultiDependencySupport,o=t.stepButtons,a=void 0===o?[]:o,s=t.toggleConnection,l=void 0===s?function(){}:s,c=t.availableDependencies,u=void 0===c?[]:c,p=t.canConnect,d=t.connected,f=i(t,["disableMultiDependencySupport","stepButtons","toggleConnection","availableDependencies","canConnect","connected"]);return{stepButtons:[].concat(n(a),[{onClick:function(){return l(u)},disabled:r,visible:!!e(f)&&!!p&&u.length>0,bsStyle:d?"success":"primary",glyph:d?"plug":"unplug",tooltipId:d?"widgets.builder.wizard.clearConnection":1===u.length?"widgets.builder.wizard.connectToTheMap":"widgets.builder.wizard.connectToAMap"}])}})))}},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withMapConnect.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").withHandlers;e.exports=function(e){return n({toggleConnection:function(t){var r=t.toggleConnection,n=void 0===r?function(){}:r,o=t.editorData,i=void 0===o?{}:o;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(!i.mapSync,t,{dependenciesMap:i.dependenciesMap,mappings:e,sourceWidgetType:i.widgetType})}}})}},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/handleMapRemoveLayer.js":function(e,t,r){var n=(0,r("./node_modules/recompose/es/Recompose.js").withHandlers)({onRemoveSelected:function(e){var t=e.selectedLayers,r=void 0===t?[]:t,n=e.removeLayersById,o=void 0===n?function(){}:n,i=e.onNodeSelect,a=void 0===i?function(){}:i;return function(){o(r),r.forEach((function(e){return a(e,"layer",!1)}))}}});e.exports=n},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/handleMapZoomLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/recompose/es/Recompose.js"),o=r("./node_modules/react-redux/es/index.js"),i=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./MapStore2/web/client/libs/proj4.js"),s=r.n(a),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=r.n(l),u=r("./MapStore2/web/client/utils/MapUtils.js"),p=r.n(u),d=r("./MapStore2/web/client/actions/widgets.js");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=Object(n.compose)(Object(o.connect)((function(){return{}}),{setMap:function(e){return Object(d.onEditorChange)("map",e)}}),Object(n.withHandlers)({isEpsgSupported:function(e){var t=e.editorData,r=void 0===t?{}:t,n=e.selectedNodes,o=void 0===n?[]:n;return function(){var e=r.map.layers,t=o.map((function(t){return e.find((function(e){return e.id===t}))})).filter((function(e){return e})).filter((function(e){return e.bbox})).map((function(e){return e.bbox})),n=t.length>0?t.reduce((function(e,t){return e.crs===t.crs?e:{crs:"differentCRS"}})):{crs:"differentCRS"},a=!!Object(i.head)(t)&&"differentCRS"!==n.crs&&n.crs;return a&&s.a.defs(a)}},zoomTo:function(e){var t=e.editorData,r=void 0===t?{}:t,n=e.setMap,o=void 0===n?function(){}:n;return function(e){var t=r.map,n=r.map.layers,a=e.map((function(e){return n.find((function(t){return t.id===e}))})).filter((function(e){return e})).filter((function(e){return e.bbox})).map((function(e){return e.bbox})),s=a.length>1?a.reduce((function(e,t){return{bounds:{maxx:e.bounds.maxx>t.bounds.maxx?e.bounds.maxx:t.bounds.maxx,maxy:e.bounds.maxy>t.bounds.maxy?e.bounds.maxy:t.bounds.maxy,minx:e.bounds.minx<t.bounds.minx?e.bounds.minx:t.bounds.minx,miny:e.bounds.miny<t.bounds.miny?e.bounds.miny:t.bounds.miny},crs:t.crs}}),a[0]):a[0],l=0,u=function(e){if(Object(i.isArray)(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(Object(i.isObject)(e)){var t=Object(i.mapValues)(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(s.bounds),d=c.a.reprojectBbox(u,s.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(d){var f=c.a.reproject(p.a.getCenterForExtent(u,s.crs),s.crs,"EPSG:4326");if("EPSG:4326"===s.crs&&u&&u[0]<=-180&&u[1]<=-90&&u[2]>=180&&u[3]>=90)l=1;else{var y=c.a.reprojectBbox(u,s.crs,t.projection||"EPSG:4326");l=p.a.getZoomForExtent(y,t.size,0,21,null)}var b={minx:d[0],miny:d[1],maxx:d[2],maxy:d[3]},g=m(m({},t.bbox),{},{bounds:b});o(m(m({},r.map),{},{center:f,zoom:l,bbox:g,mapStateSource:"tool"}))}}}}),Object(n.withProps)((function(e){var t=e.isEpsgSupported;return{epsgSupported:(void 0===t?function(){}:t)()}})));t.default=b},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/handleNodeEditing.js":function(e,t,r){var n=r("./node_modules/react-redux/es/index.js").connect,o=r("./node_modules/reselect/es/index.js").createSelector,i=r("./MapStore2/web/client/actions/widgets.js").changeEditorSetting,a=r("./MapStore2/web/client/selectors/widgets.js").getEditorSettings;e.exports=n(o(a,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editNode;return{editNode:t}})),{setEditNode:function(e){return i("editNode",e)},closeNodeEditor:function(){return i("editNode",void 0)}})},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/layerSelector.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/rxjs/Rx.js"),s=r("./node_modules/recompose/es/Recompose.js"),l=s.compose,c=s.withState,u=s.mapPropsStream,p=r("./MapStore2/web/client/observables/wms.js").addSearch,d=r("./MapStore2/web/client/utils/CatalogUtils.js").recordToLayer;e.exports=l(c("selected","setSelected",null),c("layer","setLayer",null),u((function(e){return e.distinctUntilKeyChanged("selected").filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selected;return t})).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selected,r=e.layerValidationStream,n=void 0===r?function(e){return e}:r,o=e.setLayer,i=void 0===o?function(){}:o;return a.Observable.of(d(t)).let(n).switchMap((function(){return p(d(t))})).do((function(e){return i(e)})).mapTo({canProceed:!0}).catch((function(e){return a.Observable.of({error:e,canProceed:!1})}))})).startWith({}).combineLatest(e,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canProceed,r=e.error,n=arguments.length>1?arguments[1]:void 0;return o({error:r,canProceed:t},n)}))})))},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/manageLayers.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.withProps,p=l.withHandlers,d=r("./node_modules/react-redux/es/index.js").connect,f=r("./MapStore2/node_modules/lodash/lodash.js"),m=f.castArray,y=f.find,b=r("./MapStore2/web/client/utils/LayersUtils.js").normalizeLayer,g=r("./MapStore2/web/client/actions/widgets.js").onEditorChange;e.exports=c(u((function(e){var t=e.editorData,r=void 0===t?{}:t;return{layers:r.map&&r.map.layers}})),d((function(){return{}}),{setLayers:function(e){return g("map.layers",e)}}),p({addLayer:function(e){var t=e.layers,r=void 0===t?[]:t,n=e.setLayers,i=void 0===n?function(){}:n,s=e.catalog;return function(e){return s.localizedLayerStyles?i([].concat(a(r),[b(o(o({},e),{},{localizedLayerStyles:s.localizedLayerStyles}))])):i([].concat(a(r),[b(e)]))}},removeLayersById:function(e){var t=e.layers,r=void 0===t?[]:t,n=e.setLayers,o=void 0===n?function(){}:n;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o(r.filter((function(t){return!y(m(e),(function(e){return e===t.id}))})))}}}))},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/mapToolbar.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.branch,a=n.withProps,s=r("./node_modules/react-redux/es/index.js").connect,l=r("./MapStore2/web/client/actions/widgets.js"),c=l.insertWidget,u=l.setPage,p=l.onEditorChange,d=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/manageLayers.js"),f=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/handleNodeEditing.js"),m=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/handleMapRemoveLayer.js"),y=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/handleMapZoomLayer.js").default,b=r("./MapStore2/web/client/plugins/widgetbuilder/commons.js"),g=b.wizardSelector,h=b.wizardStateToProps,v=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/mapBuilderConnect.js"),S=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/connection/withConnectButton.js"),w=r("./MapStore2/web/client/plugins/widgetbuilder/enhancers/withExitButton.js");e.exports=o(s(g,{setPage:u,onChange:p,insertWidget:c},h),d,f,m,y,i((function(e){return!!e.editNode}),a((function(e){var t=e.selectedNodes,r=void 0===t?[]:t,n=e.setEditNode,o=void 0===n?function(){}:n;return{buttons:[{visible:1===r.length,tooltipId:"close",glyph:"1-close",onClick:function(){return o(!1)}}]}})),a((function(e){var t=e.selectedNodes,r=void 0===t?[]:t,n=e.epsgSupported,o=void 0!==n&&n,i=e.onRemoveSelected,a=void 0===i?function(){}:i,s=e.setEditNode,l=void 0===s?function(){}:s,c=e.zoomTo,u=void 0===c?function(){}:c;return{tocButtons:[{visible:r.length>0,glyph:"zoom-to",tooltipId:1===r.length?"toc.toolZoomToLayerTooltip":"toc.toolZoomToLayersTooltip",disabled:!o,onClick:o?function(){return u(r)}:function(){}},{visible:1===r.length,glyph:"wrench",tooltipId:"toc.toolLayerSettingsTooltip",onClick:function(){return l(r[0])}},{onClick:function(){return a()},visible:r.length>0,glyph:"trash",tooltipId:"toc.toolTrashLayerTooltip"}]}}))),v,w(void 0,{tooltipId:"widgets.builder.wizard.backToMapSelection"}),S((function(e){return 0===e.step})))},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/withExitButton.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=r("./node_modules/recompose/es/Recompose.js").withProps;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return 0===e.step},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c((function(r){var n=r.stepButtons,i=void 0===n?[]:n,s=r.exitButton,c=l(r,["stepButtons","exitButton"]);return{stepButtons:[o(o({},s),{},{visible:e(o({stepButtons:i,exitButton:s},c))},t)].concat(a(i))}}))}},"./MapStore2/web/client/plugins/widgetbuilder/enhancers/withMapExitButton.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withProps,a=n.withHandlers,s=r("./node_modules/react-redux/es/index.js").connect,l=r("./MapStore2/web/client/actions/controls.js").setControlProperty,c=r("./MapStore2/web/client/actions/featuregrid.js").openFeatureGrid,u=r("./MapStore2/web/client/actions/widgets.js").onEditorChange,p=r("./MapStore2/web/client/selectors/widgets.js").returnToFeatureGridSelector;e.exports=o(s((function(e){return{returnToFeatureGrid:p(e)}}),{backToWidgetList:function(){return u("widgetType",void 0)},closeWidgetBuilder:function(){return l("widgetBuilder","enabled",!1,!1)},openFeatureGridTable:function(){return c()}}),a({backFromWizard:function(e){var t=e.backToWidgetList,r=void 0===t?function(){}:t,n=e.closeWidgetBuilder,o=void 0===n?function(){}:n,i=e.openFeatureGridTable,a=void 0===i?function(){}:i,s=e.returnToFeatureGrid;return function(){s?(o(),a()):r()}}}),i((function(e){var t=e.returnToFeatureGrid,r=e.backFromWizard;return{exitButton:{onClick:void 0===r?function(){}:r,glyph:"arrow-left",tooltipId:t?"widgets.builder.wizard.backToFeatureGrid":"widgets.builder.wizard.backToWidgetTypeSelection"}}})))},"./MapStore2/web/client/plugins/widgets/WidgetsBar.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.defaultProps,c=a.withProps,u=r("./node_modules/reselect/es/index.js").createSelector,p=r("./node_modules/react-redux/es/index.js").connect,d=r("./MapStore2/web/client/plugins/widgets/widgetsPermission.js").filterHiddenWidgets,f=r("./MapStore2/web/client/actions/widgets.js").toggleCollapse,m=r("./MapStore2/web/client/selectors/widgetsTray.js").trayWidgets;e.exports=s(p(u(m,(function(e){return{widgets:e}})),{onClick:f}),l({btnGroupProps:{className:"widgets-toolbar",style:{marginLeft:2,marginRight:2}}}),d,c((function(e){var t=e.btnGroupProps,r=void 0===t?{}:t,n=e.btnDefaultProps,i=void 0===n?{}:n;return{btnGroupProps:o({bsSize:"xsmall"},r),btnDefaultProps:o({bsSize:"xsmall"},i||{})}})))(r("./MapStore2/web/client/components/widgets/view/WidgetsBar.jsx"))},"./MapStore2/web/client/plugins/widgets/WidgetsTray.jsx":function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("./node_modules/react/index.js"),m=r("./node_modules/prop-types/index.js"),y=r("./node_modules/react-redux/es/index.js").connect,b=r("./node_modules/recompose/es/Recompose.js"),g=b.compose,h=b.withProps,v=b.withState,S=b.lifecycle,w=b.mapPropsStream,O=r("./node_modules/reselect/es/index.js").createSelector,j=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),E=r("./node_modules/react-bootstrap/es/index.js"),x=E.Glyphicon,P=j(E.Button),T=r("./MapStore2/web/client/selectors/widgets.js").getVisibleFloatingWidgets,M=r("./MapStore2/web/client/actions/widgets.js"),A=M.toggleCollapseAll,C=M.toggleTray,_=r("./MapStore2/web/client/selectors/widgetsTray.js").trayWidgets,I=r("./MapStore2/web/client/plugins/widgets/widgetsPermission.js").filterHiddenWidgets,R=r("./MapStore2/web/client/components/layout/BorderLayout.jsx"),L=r("./MapStore2/web/client/plugins/widgets/WidgetsBar.jsx"),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expanded,r=e.onClick,n=void 0===r?function(){}:r;return f.createElement(P,{tooltipId:t?"widgets.tray.collapseTray":"widgets.tray.expandTray",bsSize:"xsmall",bsStyle:"default",style:{borderColor:"transparent"},onClick:n},f.createElement(x,{glyph:t?"chevron-right":"chevron-left"}))},k=g(y(O(T,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{widgets:e}})),{onClick:function(){return A()}}),I,h((function(e){var t=e.widgets;return{shouldExpand:0===(void 0===t?[]:t).length}})))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,r=void 0===t?function(){}:t,n=e.shouldExpand,o=void 0!==n&&n;return f.createElement(P,{tooltipId:o?"widgets.tray.expandAll":"widgets.tray.collapseAll",bsStyle:o?"primary":"success active",bsSize:"xsmall",onClick:r},f.createElement(x,{glyph:"list"}))})),N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,r,n,i=c(u);function u(){return a(this,u),i.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){var e=this;return this.props.enabled?f.createElement("div",{className:"widgets-tray",style:{marginBottom:32,marginRight:80,bottom:0,right:0,position:"absolute"}},f.createElement(R,{columns:[f.createElement(D,{key:"collapse-tray",toolsOptions:this.props.toolsOptions,expanded:this.props.expanded,onClick:function(){return e.props.setExpanded(!e.props.expanded)}}),f.createElement(k,{key:"collapse-all",toolsOptions:this.props.toolsOptions})].concat(o(this.props.items.map((function(e){return e.tool}))||[]))},this.props.expanded?f.createElement(L,{toolsOptions:this.props.toolsOptions}):null)):null}}])&&s(t.prototype,r),n&&s(t,n),u}(f.Component);d(N,"propTypes",{enabled:m.bool,toolsOptions:m.object,items:m.array,expanded:m.bool,setExpanded:m.func}),d(N,"defaultProps",{enabled:!0,items:[],expanded:!1,setExpanded:function(){}}),e.exports=g(v("expanded","setExpanded",!1),y(O(_,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{widgets:e}})),{toggleTray:C}),I,h((function(e){var t=e.widgets,r=void 0===t?[]:t;return{hasCollapsedWidgets:r.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.collapsed;return t})).length>0,hasTrayWidgets:r.length>0}})),S({componentDidMount:function(){this.props.toggleTray&&this.props.toggleTray(!0)},componentWillUnmount:function(){this.props.toggleTray&&this.props.toggleTray(!1)}}),w((function(e){return e.merge(e.distinctUntilKeyChanged("hasCollapsedWidgets").do((function(e){var t=e.setExpanded;return(void 0===t?function(){}:t)(e.hasCollapsedWidgets)})).ignoreElements())})),h((function(e){var t=e.enabled,r=e.hasTrayWidgets;return{enabled:t&&r}})))(N)},"./MapStore2/web/client/plugins/widgets/autoDisableWidgets.js":function(e,t,r){var n=r("./node_modules/reselect/es/index.js").createSelector,o=r("./node_modules/react-redux/es/index.js").connect,i=r("./MapStore2/web/client/selectors/maplayout.js"),a=o(n(i.rightPanelOpenSelector,i.bottomPanelOpenSelector,r("./MapStore2/web/client/selectors/maptype.js").isCesium,(function(e,t,r){return{enabled:!e&&!t&&!r}})));e.exports=a},"./MapStore2/web/client/plugins/widgets/editOptions.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js").compose,o=r("./node_modules/react-redux/es/index.js").connect,i=r("./node_modules/reselect/es/index.js").createSelector,a=r("./MapStore2/web/client/selectors/map.js"),s=a.mapInfoSelector,l=a.mapIdSelector,c=r("./MapStore2/web/client/selectors/security.js").userSelector,u=r("./MapStore2/web/client/components/misc/enhancers/security/accessRuleParser.jsx");e.exports=function(){return n(o(i(l,s,c,(function(e,t,r){return{accessInfo:{mapId:e,mapInfo:t,user:r}}}))),u.apply(void 0,arguments))}},"./MapStore2/web/client/plugins/widgets/getWidgetFilterRenderers.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withPropsOnChange,c=a.withProps,u=a.mapPropsStream,p=r("./MapStore2/node_modules/lodash/lodash.js").find,d=r("./MapStore2/web/client/utils/FeatureGridUtils.js").getAttributeFields,f=r("./MapStore2/web/client/components/data/featuregrid/filterRenderers/index.js").getFilterRenderer,m=s(u((function(e){return e.combineLatest(e.pluck("quickFilterStream$").distinctUntilChanged().switchMap((function(e){return e})).startWith(void 0),(function(e,t){var r=t&&e.options&&p(e.options.propertyName,(function(t){return t===e.attributeName}))&&t[e.attributeName]||{},n=r&&(r.rawValue||r.value);return o(o({},e),{},{value:n})}))}))),y=function(e){var t=e.options,r=e.localType,n=e.attributeName,o=e.quickFilterStream$;return s(c({quickFilterStream$:o,attributeName:n,options:t}),m)(f(r,{name:n}))},b=s(u((function(e){return e.map((function(t){return o(o({},t),{},{quickFilterStream$:e.pluck("quickFilters").distinctUntilChanged()})}))}))),g=s(b,l(["describeFeatureType","options"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.describeFeatureType,r=e.options,n=e.quickFilterStream$;return t?{filterRenderers:d(t).reduce((function(e,t){var a=t.localType,s=t.name,l=y({options:r,localType:a,attributeName:s,quickFilterStream$:n});return o(o({},e),{},i({},s,l))}),{})}:{}})));e.exports={getWidgetFilterRenderers:g}},"./MapStore2/web/client/plugins/widgets/widgetsPermission.js":function(e,t,r){var n=r("./node_modules/recompose/es/Recompose.js"),o=n.compose,i=n.withProps,a=n.defaultProps,s=r("./MapStore2/web/client/plugins/widgets/editOptions.js");e.exports={filterHiddenWidgets:o(a({toolsOptions:{seeHidden:"user.role===ADMIN"}}),s("toolsOptions",{asObject:!0}),i((function(e){var t=e.widgets,r=e.toolsOptions;return{widgets:(void 0===r?{seeHidden:!1}:r).seeHidden?t:t.filter((function(e){return!e.hide}))}})))}},"./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/product/assets/symbols/symbolMissing.svg":function(e,t,r){e.exports=r.p+"symbolMissing.svg"},"./MapStore2/web/client/reducers/additionallayers.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/additionallayers.js"),o=r("./MapStore2/node_modules/lodash/lodash.js");function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.UPDATE_ADDITIONAL_LAYER:var r=Object(o.pickBy)({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},o.identity),a=Object(o.head)(e.filter((function(e){return e.id===r.id})));return a?e.map((function(e){return e.id===r.id?l(l({},a),r):l({},e)})):[].concat(i(e),[r]);case n.UPDATE_OPTIONS_BY_OWNER:var s=t.options,c=t.owner;return e.map((function(e,t){return e.owner===c?l(l({},e),{},{options:Object(o.isObject)(s)&&s[e.id]||Object(o.isArray)(s)&&s[t]||{}}):l({},e)}));case n.REMOVE_ADDITIONAL_LAYER:var u=t.id,p=t.owner;return p?e.filter((function(e){return e.owner!==p})):e.filter((function(e){return e.id!==u}));case n.REMOVE_ALL_ADDITIONAL_LAYERS:return[];default:return e}}},"./MapStore2/web/client/reducers/backgroundselector.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/backgroundselector.js"),o=r("./MapStore2/web/client/actions/catalog.js"),i=r("./node_modules/object-assign/index.js"),a=r.n(i);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.ADD_BACKGROUND:return a()({},e,{source:t.source});case o.RESET_CATALOG:return a()({},e,{source:"metadataExplorer"});case n.SET_BACKGROUND_MODAL_PARAMS:return a()({},e,{modalParams:t.modalParams});case n.BACKGROUNDS_CLEAR:return a()({},e,{backgrounds:[],removedBackgroundsThumbIds:[],modalParams:{},lastRemovedId:void 0});case n.UPDATE_BACKGROUND_THUMBNAIL:if(t.id){var r=e.backgrounds||[],i=-1===r.findIndex((function(e){return e.id===t.id})),s=i?r.concat({id:t.id}):r,l=s.map((function(e){return e.id===t.id?a()({},e,{id:t.id,thumbnail:t.thumbnailData}):a()({},e)}));return a()({},e,{backgrounds:l})}return e;case n.CLEAR_MODAL_PARAMETERS:return a()({},e,{modalParams:void 0});case n.REMOVE_BACKGROUND:var c=e.backgrounds||[],u=e.removedBackgroundsThumbIds||[],p=c.filter((function(e){return e.id!==t.backgroundId})),d=c.filter((function(e){return e.id===t.backgroundId&&!!e.thumbId})).map((function(e){return e.thumbId}));return a()({},e,{backgrounds:p,removedBackgroundsThumbIds:u.concat(d),lastRemovedId:t.backgroundId});case n.CREATE_BACKGROUNDS_LIST:return a()({},e,{backgrounds:t.backgrounds});case n.CONFIRM_DELETE_BACKGROUND_MODAL:return a()({},e,{confirmDeleteBackgroundModal:{show:t.show,layerTitle:t.layerTitle,layerId:t.layerId}});case n.ALLOW_BACKGROUNDS_DELETION:return a()({},e,{allowDeletion:t.allow||!1});default:return e}}},"./MapStore2/web/client/reducers/catalog.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/catalog.js"),o=r("./MapStore2/web/client/actions/config.js"),i=r("./MapStore2/web/client/utils/ImmutableUtils.js"),a=r("./MapStore2/node_modules/lodash/lodash.js"),s=r("./node_modules/object-assign/index.js"),l=r.n(s),c=r("./node_modules/uuid/index.js"),u=r.n(c);function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y={url:"",type:"wms",title:"",isNew:!0,autoload:!1,showAdvancedSettings:!1,showTemplate:!1,hideThumbnail:!1,metadataTemplate:"<p>${description}</p>"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:{services:{},selectedService:"",newService:{}},delayAutoSearch:1e3,loading:!1,pageSize:4,services:{},selectedService:"",newService:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SAVING_SERVICE:return f(f({},e),{},{saving:t.status});case n.RECORD_LIST_LOADED:return l()({},e,{result:t.result,searchOptions:t.searchOptions,loadingError:null,layerError:null,loading:!1});case n.RESET_CATALOG:return l()({},e,{result:null,loadingError:null,searchOptions:null});case n.RECORD_LIST_LOAD_ERROR:return l()({},e,{result:null,searchOptions:null,loadingError:t.error,loading:!1,layerError:null});case n.CHANGE_CATALOG_FORMAT:return l()({},e,{result:null,loadingError:null,format:t.format,layerError:null});case n.ADD_LAYER_ERROR:return l()({},e,{layerError:t.error});case n.CHANGE_CATALOG_MODE:return l()({},e,{newService:t.isNew?y:l()({},e.services&&e.services[e.selectedService||""]||{},{oldService:e.selectedService||""}),mode:t.mode,result:null,loadingError:null,layerError:null});case o.MAP_CONFIG_LOADED:return e&&!Object(a.isNil)(e.default)?t.config&&!Object(a.isNil)(t.config.catalogServices)?l()({},e,{services:t.config.catalogServices.services,selectedService:t.config.catalogServices.selectedService}):l()({},e,{services:e.default.services,selectedService:e.default.selectedService}):e;case n.FOCUS_SERVICES_LIST:return Object(i.set)("openCatalogServiceList",t.status,e);case n.CHANGE_TEXT:return Object(i.set)("searchOptions.text",t.text,e);case n.CHANGE_SERVICE_PROPERTY:return Object(i.set)('newService["'.concat(t.property,'"]'),t.value,e);case n.CHANGE_TITLE:return Object(i.set)("newService.title",t.title,e);case n.CHANGE_URL:return Object(i.set)("newService.url",t.url,e);case n.CHANGE_SERVICE_FORMAT:return Object(i.set)("newService.format",t.format,e);case n.CHANGE_TYPE:var r=t.newType.toLowerCase(),s={};return"csw"!==r&&(s={showTemplate:!1,metadataTemplate:""}),l()({},e,{newService:l()({},e.newService,f({type:r},s))});case n.ADD_CATALOG_SERVICE:var c=t.service,d=c.isNew,b=p(c,["isNew"]),g=d?b.title+u()():e.selectedService,h=l()({},e.services,m({},g,b));return l()({},e,{services:h,selectedService:g,mode:"view",result:null,loadingError:null,searchOptions:l()({},e.searchOptions,{text:""}),layerError:null});case n.CHANGE_SELECTED_SERVICE:return t.service!==e.selectedService?l()({},e,{selectedService:t.service,result:null,loadingError:null,layerError:null}):e;case n.DELETE_CATALOG_SERVICE:var v,S="";return delete(v=l()({},e.services))[t.service],Object.keys(v).length&&(S=v[Object.keys(v)[0]].title),l()({},e,{services:v,selectedService:S,mode:"view",result:null,loadingError:null,layerError:null});case n.TOGGLE_THUMBNAIL:return Object(i.set)("newService.hideThumbnail",!e.newService.hideThumbnail,e);case n.SET_LOADING:return Object(i.set)("loading",t.loading,e);case n.CHANGE_METADATA_TEMPLATE:return Object(i.set)("newService.metadataTemplate",t.metadataTemplate,e);case n.TOGGLE_TEMPLATE:var w=Object(i.set)("newService.showTemplate",!e.newService.showTemplate,e);return w.newService.showTemplate&&(w=Object(i.set)("newService.metadataTemplate",w.newService.metadataTemplate||"<p>${description}</p>",w)),w;case n.TOGGLE_ADVANCED_SETTINGS:return Object(i.set)("newService.showAdvancedSettings",!e.newService.showAdvancedSettings,e);default:return e}}},"./MapStore2/web/client/reducers/dimension.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/dimension.js"),o=r("./MapStore2/web/client/actions/layers.js"),i=r("./MapStore2/web/client/actions/controls.js"),a=r("./MapStore2/web/client/utils/ImmutableUtils.js"),s=r("./node_modules/moment/moment.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/lodash.js");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.UPDATE_LAYER_DIMENSION_DATA:return Object(a.set)("data[".concat(t.dimension,"][").concat(t.layerId,"]"),t.data,e);case n.SET_CURRENT_TIME:return Object(a.set)("currentTime",t.time,e);case n.SET_OFFSET_TIME:return Object(a.set)("offsetTime",t.offsetTime,e);case n.MOVE_TIME:if(e.offsetTime&&e.currentTime){var r=l()(e.offsetTime).diff(e.currentTime),s=l()(t.time).add(r);return Object(a.set)("currentTime",t.time,Object(a.set)("offsetTime",s.toISOString(),e))}return Object(a.set)("currentTime",t.time,e);case o.REMOVE_NODE:var u=Object(c.mapValues)(e.data,(function(e){return Object(c.pickBy)(e,(function(e,r){return r!==t.node}))}));return Object(a.set)("data",u,e);case i.RESET_CONTROLS:return Object(a.set)("data",void 0,Object(a.set)("currentTime",void 0,Object(a.set)("offsetTime",void 0,e)));default:return e}}},"./MapStore2/web/client/reducers/draw.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/draw.js"),o=r("./node_modules/object-assign/index.js"),i=r.n(o),a={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.CHANGE_DRAWING_STATUS:return i()({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case n.SET_CURRENT_STYLE:return i()({},e,{currentStyle:t.currentStyle});case n.GEOMETRY_CHANGED:return i()({},e,{tempFeatures:t.features});case n.DRAW_SUPPORT_STOPPED:return i()({},e,{tempFeatures:[]});default:return e}}},"./MapStore2/web/client/reducers/highlight.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/highlight.js"),o=r("./node_modules/object-assign/index.js"),i=r.n(o);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_HIGHLIGHT_FEATURES_PATH:return i()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case n.HIGHLIGHT_STATUS:return s(s({},e),{},{status:t.status});case n.UPDATE_HIGHLIGHTED:return s(s({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}}},"./MapStore2/web/client/reducers/layerFilter.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/layerFilter.js"),o=r("./MapStore2/web/client/actions/queryform.js");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.INIT_LAYER_FILTER:return a(a({},l),{},{persisted:t.filter,applied:t.filter});case n.DISCARD_CURRENT_FILTER:return a(a({},e),{},{applied:e.persisted});case n.APPLIED_FILTER:return a(a({},e),{},{applied:t.filter});case n.STORE_CURRENT_APPLIED_FILTER:return a(a({},e),{},{persisted:e.applied});case o.QUERY_FORM_RESET:return a(a({},e),{},{applied:void 0});default:return e}}},"./MapStore2/web/client/reducers/mapInfo.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/mapInfo.js"),o=r("./MapStore2/web/client/actions/config.js"),i=r("./MapStore2/web/client/actions/controls.js"),a=r("./node_modules/object-assign/index.js"),s=r.n(a),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=r("./MapStore2/web/client/utils/MapInfoUtils.js");function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t,r){var n="vector"===r,o=n?t.reqId:Object(l.findIndex)(e.requests||[],(function(e){return e.reqId===t.reqId}));if(-1!==o){if(["exceptions","error"].includes(r)){var i=e.requests.filter((function(e,t){return t!==o})),a=e.responses.filter((function(e,t){return t!==o}));return m(m({},e),{},{responses:a,requests:i})}var u,d=e.configuration,f=e.requests,y=e.responses||[],b="hover"===(null==d?void 0:d.trigger);if(!n){var g={response:t[r],queryParams:t.requestParams,layerMetadata:t.layerMetadata,layer:t.layer};b?y=[].concat(p(y),[g]):y[o]=g}return b?u={loaded:!0,index:0}:!b&&function(e,t,r,n){var o,i,a=e.configuration,s=e.requests,u=e.queryableLayers,p=e.index,d=(a||{}).infoFormat,f=null===(o=Object(c.getValidator)(d))||void 0===o?void 0:o.getValidResponses([t[r]],!0),m=null===(i=Object(c.getValidator)(d))||void 0===i?void 0:i.getNoValidResponses(t,!0);return Object(l.isUndefined)(p)&&!!f.length||!n&&s.length===m.filter((function(e){return e})).length||Object(l.isUndefined)(p)&&n&&s.filter((function(e){return Object(l.isEmpty)(e)})).length===u.length}(e,y,o,n)&&(u={loaded:!0,index:o}),s()({},e,m(m(m({},n&&{requests:f}),!Object(l.isUndefined)(u)&&u),{},{responses:p(y)}))}return e}var g={enabled:!0,configuration:{}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.NO_QUERYABLE_LAYERS:return s()({},e,{warning:"NO_QUERYABLE_LAYERS"});case n.CLEAR_WARNING:return s()({},e,{warning:null});case n.CHANGE_MAPINFO_STATE:return s()({},e,{enabled:t.enabled});case n.TOGGLE_MAPINFO_STATE:return s()({},e,{enabled:!e.enabled});case n.CHANGE_PAGE:return s()({},e,{index:t.index});case n.TOGGLE_HIGHLIGHT_FEATURE:return s()({},e,{highlight:t.enabled});case n.NEW_MAPINFO_REQUEST:var a=t.reqId,l=t.request,c=e.requests||[];return s()({},e,{requests:[].concat(p(c),[{request:l,reqId:a}])});case n.PURGE_MAPINFO_RESULTS:e.index,e.loaded;var d=u(e,["index","loaded"]);return m(m({},d),{},{queryableLayers:[],responses:[],requests:[]});case n.LOAD_FEATURE_INFO:return b(e,t,"data");case n.EXCEPTIONS_FEATURE_INFO:return b(e,t,"exceptions");case n.ERROR_FEATURE_INFO:return b(e,t,"error");case n.FEATURE_INFO_CLICK:return s()({},e,{clickPoint:t.point,clickLayer:t.layer||null,itemId:t.itemId||null,overrideParams:t.overrideParams||null,filterNameList:t.filterNameList||null});case n.CHANGE_MAPINFO_FORMAT:return m(m({},e),{},{configuration:m(m({},e.configuration),{},{infoFormat:t.infoFormat})});case n.SHOW_MAPINFO_MARKER:return s()({},e,{showMarker:!0});case n.HIDE_MAPINFO_MARKER:return s()({},e,{showMarker:!1});case n.SHOW_REVERSE_GEOCODE:return s()({},e,{showModalReverse:!0,reverseGeocodeData:t.reverseGeocodeData});case n.HIDE_REVERSE_GEOCODE:return s()({},e,{showModalReverse:!1,reverseGeocodeData:void 0});case i.RESET_CONTROLS:return s()({},e,{showMarker:!1,responses:[],requests:[]});case n.GET_VECTOR_INFO:var f,y=r("./node_modules/turf-buffer/index.js"),h=r("./node_modules/turf-intersect/index.js"),v={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.request.lng,t.request.lat]}},S=t.metadata&&t.metadata.units;switch(S){case"m":S="meters";break;case"deg":S="degrees";break;case"mi":S="miles";break;default:S="meters"}var w,O=t.metadata&&t.metadata.resolution||1,j=y(v,(t.metadata.buffer||1)*O,S),E=(t.layer.features||[]).filter((function(e){try{return"FeatureCollection"===e.type&&e.features&&e.features.length?e.features.reduce((function(e,r){var n=r.properties.useGeodesicLines&&r.properties.geometryGeodesic?m(m({},r),{},{geometry:r.properties.geometryGeodesic}):r;return e||h(j,O&&t.metadata.buffer&&S?y(n,1,"meters"):n)}),!1):h(j,O&&t.metadata.buffer&&S?y(e,1,"meters"):e)}catch(e){return!1}})),x=e.responses||[],P="hover"===(null==e||null===(f=e.configuration)||void 0===f?void 0:f.trigger)||!1,T={response:{crs:null,features:E,totalFeatures:"unknown",type:"FeatureCollection"},queryParams:t.request,layerMetadata:t.metadata,format:"JSON"};P?(x=[].concat(p(x),[T]),w={reqId:0}):(x[e.requests.length]=T,w={reqId:e.requests.length});var M=[].concat(p(e.requests),[{}]);return b(s()({},e,{requests:M,queryableLayers:t.queryableLayers,responses:p(x)}),w,"vector");case n.UPDATE_CENTER_TO_MARKER:return s()({},e,{centerToMarker:t.status});case n.TOGGLE_EMPTY_MESSAGE_GFI:return m(m({},e),{},{configuration:m(m({},e.configuration),{},{showEmptyMessageGFI:!e.configuration.showEmptyMessageGFI})});case o.MAP_CONFIG_LOADED:return m(m({},e),{},{configuration:t.config.mapInfoConfiguration||e.configuration||{}});case n.CHANGE_FORMAT:return m(m({},e),{},{formatCoord:t.format});case n.TOGGLE_SHOW_COORD_EDITOR:return m(m({},e),{},{showCoordinateEditor:!t.showCoordinateEditor});case n.SET_CURRENT_EDIT_FEATURE_QUERY:return m(m({},e),{},{currentEditFeatureQuery:t.query});case n.SET_MAP_TRIGGER:return m(m({},e),{},{configuration:m(m({},e.configuration),{},{trigger:t.trigger})});default:return e}}},"./MapStore2/web/client/reducers/maplayout.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/maplayout.js"),o=r("./node_modules/object-assign/index.js"),i=r.n(o);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{layout:{},boundingMapRect:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.UPDATE_MAP_LAYOUT:var r=t.layout,o=r.boundingMapRect,a=void 0===o?{}:o,l=c(r,["boundingMapRect"]);return i()({},e,{layout:i()({},l,l),boundingMapRect:s({},a)});default:return e}}},"./MapStore2/web/client/reducers/maps.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/maps.js"),o=r("./node_modules/object-assign/index.js"),i=r.n(o),a=r("./MapStore2/node_modules/lodash/lodash.js");function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,showMapDetails:!0,errors:[],searchFilter:{},searchText:"",results:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.MAPS_SEARCH_TEXT_CHANGED:return i()({},e,{searchText:t.text});case n.SEARCH_FILTER_CHANGED:return i()({},e,{searchFilter:u(u({},e.searchFilter),{},p({},t.filter,t.filterData))});case n.SET_SEARCH_FILTER:return i()({},e,{searchFilter:t.searchFilter});case n.SET_CONTEXTS:return i()({},e,{contexts:t.contexts});case n.LOADING:return i()({},e,{loading:t.value,loadFlags:u(u({},e.loadFlags||{}),"loading"!==t.name?p({},t.name,t.value):{})});case n.METADATA_CHANGED:return i()({},e,{metadata:i()({},e.metadata,p({},t.prop,t.value))});case n.SHOW_DETAILS:return i()({},e,{showMapDetails:t.showMapDetails});case n.MAPS_LIST_LOADING:return i()({},e,{loading:!0,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});case n.MAPS_LIST_LOADED:if(t.maps&&t.maps.results&&Array.isArray(t.maps.results))return i()({},e,t.maps,{loading:!1,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});var r=""!==t.maps.results?[t.maps.results]:[];return i()({},e,t.maps,{results:r,loading:!1});case n.MAPS_LIST_LOAD_ERROR:return{loadingError:t.error};case n.MAP_UPDATING:for(var o=""===e.results||Object(a.isNil)(e.results)?[]:s(e.results),l=0;l<o.length;l++)o[l].id&&o[l].id===t.resourceId&&(o[l]=i()({},o[l],{updating:!0}));return i()({},e,{results:o});case n.ATTRIBUTE_UPDATED:for(var c=""===e.results?[]:s(e.results),d=0;d<c.length;d++){var f;if(c[d].id&&c[d].id===t.resourceId)c[d]=i()({},c[d],(p(f={},t.name,decodeURIComponent(t.value)),p(f,"updating",!1),p(f,"loadingError",t.error?t.error:null),f))}return i()({},e,{results:c});case n.MAP_DELETING:for(var m=""===e.results?[]:s(e.results),y=0;y<m.length;y++)m[y].id&&m[y].id===t.resourceId&&(m[y]=i()({},m[y],{deleting:!0}));return i()({},e,{results:m});case n.MAP_CREATED:var b=""===e.results?[]:s(e.results),g={results:[].concat(s(b),[t.metadata]),totalCount:e.totalCount+1};return i()({},e,g);case n.THUMBNAIL_ERROR:case n.MAP_ERROR:for(var h=""===e.results?[]:s(e.results),v=0;v<h.length;v++)h[v].id&&h[v].id===t.resourceId&&(h[v]=i()({},h[v],{updating:!1}));return i()({},e,{results:h});case n.PERMISSIONS_LIST_LOADING:var S=""===e.results?[]:s(e.results),w=i()({},e,{results:S.map((function(e){return e.id===t.mapId?i()({},e,{permissionLoading:!0}):e}))});return w;case n.UPDATE_DETAILS:return u(u({},e),{},{detailsText:t.detailsText});default:return e}}},"./MapStore2/web/client/reducers/maptype.js":function(e,t,r){"use strict";r.r(t);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAP_TYPE_CHANGED":return{mapType:t.mapType};default:return e}}},"./MapStore2/web/client/reducers/measurement.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/measurement.js"),o=r("./MapStore2/web/client/actions/controls.js"),i=r("./MapStore2/web/client/utils/ImmutableUtils.js"),a=r("./MapStore2/web/client/utils/MeasurementUtils.js"),s=r("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=r("./node_modules/object-assign/index.js"),u=r.n(c);function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={lineMeasureEnabled:!0,geomType:"LineString",areaMeasureEnabled:!1,bearingMeasureEnabled:!1,customStartEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m"}},lengthFormula:"haversine",showLabel:!0,showSegmentLengths:!0,currentFeature:0,features:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.CHANGE_MEASUREMENT_TOOL:var r,c=Object(l.findIndex)(e.features,(function(e){return("bearing"===(e.properties.values[0]||{}).type?"Bearing":e.geometry.type)===t.geomType}));return u()({},e,{lineMeasureEnabled:t.geomType!==e.geomType&&"LineString"===t.geomType,areaMeasureEnabled:t.geomType!==e.geomType&&"Polygon"===t.geomType,bearingMeasureEnabled:t.geomType!==e.geomType&&"Bearing"===t.geomType,geomType:t.geomType===e.geomType?null:t.geomType,features:null===t.geomType?[]:e.features,textLabels:null===t.geomType?[]:e.textLabels,feature:{properties:{disabled:!0}},currentFeature:-1!==c?c:(null===(r=e.features)||void 0===r?void 0:r.length)||0,len:0,area:0,bearing:0});case n.CHANGE_MEASUREMENT_STATE:var d=t.feature;return Object(s.c)(d)&&(d=Object(i.set)("geometry.coordinates[0]",Object(l.dropRight)(d.geometry.coordinates[0]),d)),u()({},e,{lineMeasureEnabled:t.lineMeasureEnabled,areaMeasureEnabled:t.areaMeasureEnabled,bearingMeasureEnabled:t.bearingMeasureEnabled,geomType:t.geomType,values:t.values,feature:Object(i.set)("properties.disabled",e.feature.properties.disabled,d),point:t.point,len:t.len,area:t.area,bearing:t.bearing,lenUnit:t.lenUnit,areaUnit:t.areaUnit});case n.UPDATE_MEASURES:var m=t.measures,h=m.point,v=m.len,S=m.area,w=m.bearing;return y(y({},e),{},{point:h,len:v,area:S,bearing:w});case n.RESET_GEOMETRY:var O=Object(i.set)("feature.properties.disabled",!0,e);return y(y({},O),{},{isDrawing:!0,updatedByUI:!1});case n.CHANGE_UOM:var j,E="length"===t.uom?"lenUnit":"lenArea",x=t.value,P=x.value,T=x.label;return u()({},e,(b(j={},E,P),b(j,"uom",u()({},t.previousUom,b({},t.uom,{unit:P,label:T}))),b(j,"updatedByUI",!0),j));case n.CHANGED_GEOMETRY:var M=t.features,A=Object(a.getGeomTypeSelected)(M);return y(y({},e),{},{features:M,geomTypeSelected:A,updatedByUI:!1,isDrawing:!1},Object(l.isEmpty)(M)&&{exportToAnnotation:!1});case n.SET_MEASUREMENT_CONFIG:var C=t.property,_=t.value;return y(y({},e),{},b({},C,_));case n.SET_ANNOTATION_MEASUREMENT:var I=t.features,R=Object(a.getGeomTypeSelected)(I);return y(y({},e),{},{features:I,geomTypeSelected:R,updatedByUI:!0,isDrawing:!1,exportToAnnotation:!0,id:t.id});case n.SET_TEXT_LABELS:return y(y({},e),{},{textLabels:t.textLabels});case n.SET_CURRENT_FEATURE:return y(y({},e),{},{currentFeature:Object(l.isNumber)(t.featureIndex)?t.featureIndex:e.features.length});case o.TOGGLE_CONTROL:e.id;var L=f(e,["id"]);return"info"===t.control?y(y({},L),{},{len:0,area:0,bearing:0,lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,feature:{properties:{disabled:!0}},geomType:""}):"measure"===t.control?y(y({},L),{},{geomType:"",lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1}):e;case o.SET_CONTROL_PROPERTY:return"measure"===t.control&&!1===t.value?y(y({},e),{},{geomType:"",lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1}):e;case o.RESET_CONTROLS:return y(y({},e),{},{len:0,area:0,bearing:0,lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,feature:{properties:{disabled:!0}},geomType:""});case n.CHANGE_FORMAT:return y(y({},e),{},{format:t.format});case n.INIT:return y(y({},e),t.defaultOptions);case n.CHANGE_COORDINATES:var D=t.coordinates.map((function(e){return[e.lon,e.lat]})),k=e.features||[],N=k[e.currentFeature]||{},F=D.filter((function(e){return!isNaN(parseFloat(e[0]))&&!isNaN(parseFloat(e[1]))})).length!==D.length;return y(y({},e),{},{feature:{type:"Feature",properties:{disabled:D.filter((function(e){return!isNaN(parseFloat(e[0]))&&!isNaN(parseFloat(e[1]))})).length!==D.length},geometry:{type:e.bearingMeasureEnabled?"LineString":e.geomType,coordinates:e.areaMeasureEnabled?[Object(l.dropRight)(D)]:D}},features:[].concat(p(k.slice(0,e.currentFeature)),[y(y({},N),{},{type:"Feature",properties:y(y({},N.properties||{}),{},{disabled:F||e.bearingMeasureEnabled&&D.length<2}),geometry:{type:e.bearingMeasureEnabled?"LineString":e.geomType,coordinates:e.areaMeasureEnabled?[[].concat(p(D),[D[0]])]:D}})],p(k.slice(e.currentFeature+1,k.length))),updatedByUI:!0});default:return e}}},"./MapStore2/web/client/reducers/mousePosition.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/mousePosition.js"),o=r("./MapStore2/web/client/actions/map.js"),i=r("./node_modules/object-assign/index.js"),a=r.n(i);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!0,position:null,crs:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.CHANGE_MOUSE_POSITION_STATE:return a()({},e,{enabled:t.enabled});case n.CHANGE_MOUSE_POSITION:return a()({},e,{position:t.position});case n.CHANGE_MOUSE_POSITION_CRS:return a()({},e,{crs:t.crs});case o.MOUSE_MOVE:return a()({},e,{position:t.position,mouseOut:!1});case o.MOUSE_OUT:return a()({},e,{mouseOut:!0});default:return e}}},"./MapStore2/web/client/reducers/notifications.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/notifications.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case n.SHOW_NOTIFICATION:t.type;var r=c(t,["type"]);return[].concat(s(e),[i({},r)]);case n.HIDE_NOTIFICATION:return e.filter((function(e){return e.uid!==t.uid}));case n.CLEAR_NOTIFICATIONS:return[];default:return e}}},"./MapStore2/web/client/reducers/playback.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/playback.js"),o=r("./MapStore2/web/client/actions/controls.js"),i=r("./MapStore2/web/client/utils/ImmutableUtils.js");function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l={timeStep:1,stepUnit:"days",frameDuration:2,following:!0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:n.STATUS.STOP,currentFrame:-1,settings:l},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.PLAY:return Object(i.set)("status",n.STATUS.PLAY,e);case n.PAUSE:return Object(i.set)("status",n.STATUS.PAUSE,e);case n.STOP:return Object(i.set)("status",n.STATUS.STOP,Object(i.set)("currentFrame",-1,e));case n.SET_FRAMES:return Object(i.set)("frames",t.frames,Object(i.set)("currentFrame",-1,e));case n.FRAMES_LOADING:return Object(i.set)("framesLoading",t.loading,e);case n.APPEND_FRAMES:return Object(i.set)("frames",[].concat(a(e.frames||[]),a(t.frames)),e);case n.SET_CURRENT_FRAME:return Object(i.set)("currentFrame",t.frame,e);case n.SELECT_PLAYBACK_RANGE:return Object(i.set)("playbackRange",t.range,e);case n.CHANGE_SETTING:return Object(i.set)("settings[".concat(t.name,"]"),t.value,e);case n.UPDATE_METADATA:return Object(i.set)("metadata",{next:t.next,previous:t.previous,forTime:t.forTime},e);case o.RESET_CONTROLS:return Object(i.set)("metadata",void 0,Object(i.set)("framesLoading",void 0,Object(i.set)("playbackRange",void 0,Object(i.set)("frames",void 0,Object(i.set)("currentFrame",-1,Object(i.set)("status","STOP",Object(i.set)("settings",l,e)))))));default:return e}}},"./MapStore2/web/client/reducers/print.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/print.js"),o=r("./MapStore2/web/client/actions/controls.js"),i=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./node_modules/object-assign/index.js"),s=r.n(a);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("_")[0]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:c,capabilities:null,map:null,isLoading:!1,pdfUrl:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.TOGGLE_CONTROL:return"print"===t.control?s()({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case n.PRINT_CAPABILITIES_LOADED:var r=Object(i.get)(t,"capabilities.layouts",[{name:"A4"}]),a=r.filter((function(t){return u(t.name)===e.spec.sheet})).length?e.spec.sheet:u(r[0].name);return s()({},e,{capabilities:t.capabilities,spec:s()({},e.spec||{},{sheet:a,resolution:t.capabilities&&t.capabilities.dpis&&t.capabilities.dpis.length&&t.capabilities.dpis[0].value})});case n.SET_PRINT_PARAMETER:return s()({},e,{spec:s()({},e.spec,l({},t.name,t.value))});case n.CONFIGURE_PRINT_MAP:var p=t.layers.map((function(e){return e.title?s()({},e,{title:Object(i.isObject)(e.title)&&t.currentLocale&&e.title[t.currentLocale]||Object(i.isObject)(e.title)&&e.title.default||e.title}):e}));return s()({},e,{map:{center:t.center,zoom:t.zoom,scaleZoom:t.scaleZoom,scale:t.scale,layers:p,projection:t.projection},error:null});case n.CHANGE_PRINT_ZOOM_LEVEL:var d=t.zoom-e.map.scaleZoom;return s()({},e,{map:s()({},e.map,{scaleZoom:t.zoom,zoom:e.map.zoom+d,scale:t.scale})});case n.CHANGE_MAP_PRINT_PREVIEW:return s()({},e,{map:s()({},e.map,{size:t.size})});case n.PRINT_SUBMITTING:return s()({},e,{isLoading:!0,pdfUrl:null,error:null});case n.PRINT_CREATED:return s()({},e,{isLoading:!1,pdfUrl:t.url,error:null});case n.PRINT_ERROR:case n.PRINT_CAPABILITIES_ERROR:return s()({},e,{isLoading:!1,pdfUrl:null,error:t.error});case n.PRINT_CANCEL:return s()({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}}},"./MapStore2/web/client/reducers/query.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/wfsquery.js"),o=r("./MapStore2/web/client/actions/queryform.js"),i=r("./MapStore2/web/client/actions/controls.js"),a=r("./node_modules/object-assign/index.js"),s=r.n(a);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e){return["STATE_NAME","STATE_ABBR","SUB_REGION","STATE_FIPS"].map((function(t){return{attribute:t,values:e.features.reduce((function(e,r){return-1===e.indexOf(r.properties[t])?[].concat(c(e),[r.properties[t]]).sort():e}),[])}})).reduce((function(e,t){return s()(e,l({},t.attribute,t.values.map((function(e){return{id:e,name:e}}))))}),{})},d={featureTypes:{},data:{},result:null,resultError:null,syncWmsFilter:!0,isLayerFilter:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.FEATURE_TYPE_SELECTED:return s()({},e,{typeName:t.typeName,url:t.url});case n.FEATURE_TYPE_LOADED:return s()({},e,{featureTypes:s()({},e.featureTypes,l({},t.typeName,t.featureType))});case n.FEATURE_TYPE_ERROR:return s()({},e,{featureTypes:s()({},e.featureTypes,l({},t.typeName,{error:t.error}))});case n.FEATURE_LOADING:return s()({},e,{featureLoading:t.isLoading});case n.FEATURE_LOADED:return s()({},e,{featureLoading:!1,data:s()({},e.data,l({},t.typeName,p(t.feature)))});case n.FEATURE_ERROR:return s()({},e,{featureLoading:!1,featureTypes:s()({},e.data,l({},t.typeName,{error:t.error}))});case n.QUERY_CREATE:return s()({},e,{isNew:!0,searchUrl:t.searchUrl,filterObj:t.filterObj});case n.UPDATE_QUERY:return s()({},e,{filterObj:s()({},e.filterObj,t.updates)});case n.QUERY_RESULT:return s()({},e,{isNew:!1,result:t.result,searchUrl:t.searchUrl,filterObj:t.filterObj,resultError:null});case n.QUERY_ERROR:return s()({},e,{isNew:!1,result:null,resultError:t.error});case i.RESET_CONTROLS:case o.QUERY_FORM_RESET:return t.skip&&t.skip.indexOf("query")>=0?e:s()({},e,{isNew:!1,result:null,filterObj:null,searchUrl:null});case n.RESET_QUERY:return s()({},e,{result:null,resultError:null});case n.TOGGLE_SYNC_WMS:return s()({},e,{syncWmsFilter:!e.syncWmsFilter});case n.TOGGLE_LAYER_FILTER:return s()({},e,{isLayerFilter:!e.isLayerFilter});default:return e}}},"./MapStore2/web/client/reducers/queryform.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/queryform.js"),o=r("./MapStore2/web/client/actions/draw.js"),i=r("./node_modules/object-assign/index.js"),a=r.n(i),s=r("./node_modules/turf-union/index.js"),l=r.n(s),c=r("./node_modules/turf-bbox/index.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/lodash.js"),d=r("./MapStore2/web/client/utils/ImmutableUtils.js");function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S={searchUrl:null,featureTypeConfigUrl:null,showGeneratedFilter:!1,attributePanelExpanded:!0,spatialPanelExpanded:!0,crossLayerExpanded:!0,showDetailsPanel:!1,groupLevels:5,useMapProjection:!1,toolbarEnabled:!0,groupFields:[{id:1,logic:"OR",index:0}],maxFeaturesWPS:5,filterFields:[],spatialField:{method:null,attribute:"the_geom",operation:"INTERSECTS",geometry:null},simpleFilterFields:[]},w=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a()({},t,(v(e={},r.fieldName,r.fieldValue),v(e,"type",r.fieldType),e),{fieldOptions:a()({},h({},t.fieldOptions),{currentPage:void 0===r.fieldOptions.currentPage?1:r.fieldOptions.currentPage})});return"attribute"===r.fieldName&&(n.value="string"===r.fieldType?"":null,n.operator="="),"operator"===r.fieldName&&(n.value=null),n};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.ADD_FILTER_FIELD:var r={rowId:(new Date).getTime(),groupId:t.groupId,attribute:null,operator:"=",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null};return a()({},e,{filterFields:e.filterFields?[].concat(y(e.filterFields),[r]):[r]});case n.REMOVE_FILTER_FIELD:return a()({},e,{filterFields:e.filterFields.filter((function(e){return e.rowId!==t.rowId}))});case n.UPDATE_FILTER_FIELD:return a()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?w(e,t):e}))});case n.UPDATE_FILTER_FIELD_OPTIONS:return a()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.filterField.rowId?a()({},e,{options:a()({},h({},e.options),v({},e.attribute,t.options))},{fieldOptions:a()({},h({},e.fieldOptions),{valuesCount:t.valuesCount})}):e}))});case n.TOGGLE_AUTOCOMPLETE_MENU:return a()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?a()({},e,{openAutocompleteMenu:t.status}):e}))});case n.SET_AUTOCOMPLETE_MODE:return a()({},e,{autocompleteEnabled:t.status});case n.LOADING_FILTER_FIELD_OPTIONS:return a()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.filterField.rowId?a()({},e,{loading:t.status}):e}))});case n.UPDATE_EXCEPTION_FIELD:return a()({},e,{filterFields:e.filterFields.map((function(e){return e.rowId===t.rowId?a()({},e,{exception:t.exceptionMessage}):e}))});case n.ADD_GROUP_FIELD:var i={id:(new Date).getTime(),logic:"OR",groupId:t.groupId,index:t.index+1};return a()({},e,{groupFields:e.groupFields?[].concat(y(e.groupFields),[i]):[i]});case n.UPDATE_LOGIC_COMBO:return a()({},e,{groupFields:e.groupFields.map((function(e){return e.id===t.groupId?a()({},e,{logic:t.logic}):e}))});case n.REMOVE_GROUP_FIELD:return a()({},e,{filterFields:e.filterFields.filter((function(e){return e.groupId!==t.groupId})),groupFields:e.groupFields.filter((function(e){return e.id!==t.groupId}))});case n.CHANGE_CASCADING_VALUE:return a()({},e,{filterFields:e.filterFields.map((function(e){for(var r=0;r<t.attributes.length;r++)if(e.attribute===t.attributes[r].id)return a()({},e,{value:null});return e}))});case n.EXPAND_ATTRIBUTE_PANEL:return a()({},e,{attributePanelExpanded:t.expand});case n.EXPAND_SPATIAL_PANEL:return a()({},e,{spatialPanelExpanded:t.expand});case n.EXPAND_CROSS_LAYER:return a()({},e,{crossLayerExpanded:t.expand});case n.SET_CROSS_LAYER_PARAMETER:return a()({},e,{crossLayerFilter:Object(d.set)(t.key,t.value,e.crossLayerFilter)});case n.ADD_CROSS_LAYER_FILTER_FIELD:return Object(d.arrayUpsert)("crossLayerFilter.collectGeometries.queryCollection.filterFields",{rowId:t.rowId,groupId:t.groupId,attribute:null,operator:"=",value:null,type:null,fieldOptions:{valuesCount:0,currentPage:1},exception:null},{rowId:t.rowId},e);case n.UPDATE_CROSS_LAYER_FILTER_FIELD:return Object(d.set)("crossLayerFilter.collectGeometries.queryCollection.filterFields",(Object(p.get)(e,"crossLayerFilter.collectGeometries.queryCollection.filterFields")||[]).map((function(e){return e.rowId===t.rowId?w(e,t):e})),e);case n.REMOVE_CROSS_LAYER_FILTER_FIELD:return Object(d.arrayDelete)("crossLayerFilter.collectGeometries.queryCollection.filterFields",{rowId:t.rowId},e);case n.RESET_CROSS_LAYER_FILTER:return a()({},e,{crossLayerFilter:{attribute:e.crossLayerFilter&&e.crossLayerFilter.attribute}});case n.SELECT_SPATIAL_METHOD:var s;return a()({},e,{spatialField:a()({},e.spatialField,(s={},v(s,t.fieldName,t.method),v(s,"geometry",null),s))});case n.UPDATE_GEOMETRY:return a()({},e,{spatialField:a()({},e.spatialField,{geometry:t.geometry})},{toolbarEnabled:!0});case n.SELECT_SPATIAL_OPERATION:return a()({},e,{spatialField:a()({},e.spatialField,v({},t.fieldName,t.operation))});case n.CHANGE_SPATIAL_ATTRIBUTE:return a()({},e,{spatialField:a()({},e.spatialField,{attribute:t.attribute}),crossLayerFilter:a()({},e.crossLayerFilter,{attribute:t.attribute})});case o.CHANGE_DRAWING_STATUS:return"queryform"===t.owner&&"start"===t.status?a()({},e,{toolbarEnabled:!1}):e;case n.CHANGE_SPATIAL_FILTER_VALUE:return a()({},e,{toolbarEnabled:!0,spatialField:a()({},e.spatialField,{value:t.value,collectGeometries:t.collectGeometries,geometry:t.srsName?h(h({},t.geometry),{},{projection:t.srsName}):t.geometry})});case o.END_DRAWING:return"queryform"===t.owner?a()({},e,{toolbarEnabled:!0,spatialField:a()({},e.spatialField,{collectGeometries:t.collectGeometries,geometry:t.geometry})}):e;case n.REMOVE_SPATIAL_SELECT:var c=a()({},S.spatialField,{attribute:e.spatialField.attribute,value:void 0});return a()({},e,{spatialField:a()({},e.spatialField,c)});case n.SHOW_SPATIAL_DETAILS:return a()({},e,{showDetailsPanel:t.show});case n.QUERY_FORM_RESET:var b=a()({},S.spatialField,{attribute:e.spatialField.attribute,value:void 0}),g={attribute:e.crossLayerFilter&&e.crossLayerFilter.attribute};return a()({},e,S,{spatialField:b,crossLayerFilter:g});case n.SHOW_GENERATED_FILTER:return a()({},e,{showGeneratedFilter:t.data});case n.CHANGE_DWITHIN_VALUE:return a()({},e,{spatialField:a()({},e.spatialField,{geometry:a()({},e.spatialField.geometry,{distance:t.distance})})});case n.ZONE_FILTER:return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id&&t.data.features&&t.data.features.length>0?a()({},e,{values:t.data.features,open:!0,error:null}):e}))})});case n.ZONE_SEARCH:return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id?a()({},e,{busy:t.active}):e}))})});case n.ZONE_CHANGE:var O,j,E=e.spatialField.zoneFields.map((function(e){if(e.id===t.id){if(O=e.multivalue?t.value.value:t.value.value[0],t.value.feature[0]){var r=t.value.feature[0],n=r.geometry_name;if(e.multivalue&&t.value.feature.length>1){for(var o=1;o<t.value.feature.length;o++){var i=t.value.feature[o];i&&(r=l()(r,i))}j={coordinates:r.geometry.coordinates,geometryName:n,geometryType:r.geometry.type}}else j={coordinates:r.geometry.coordinates,geometryName:n,geometryType:r.geometry.type}}return a()({},e,{value:O,open:!1,geometryName:j?j.geometryName:null})}return e.dependson&&t.id===e.dependson.id?a()({},e,{disabled:!1,values:null,value:null,open:!1,dependson:a()({},e.dependson,{value:O})}):e})),x=u()({type:"FeatureCollection",features:t.value.feature});return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:E,geometry:x&&j?{extent:x,type:j.geometryType,coordinates:j.coordinates}:null})});case n.ZONES_RESET:return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){var t=a()({},e,{values:null,value:null,open:!1,error:null});return e.dependson?a()({},t,{disabled:!0,open:!1,value:null,dependson:a()({},e.dependson,{value:null})}):t})),geometry:null})});case n.ZONE_SEARCH_ERROR:var P;return a()({},e,{spatialField:a()({},e.spatialField,{zoneFields:e.spatialField.zoneFields.map((function(e){return e.id===t.id?(P="object"!==m(t.error)?t.error.status&&t.error.statusText&&t.error.data?{status:t.error.status,statusText:t.error.statusText,data:t.error.data}:{message:t.error.message||"unknown error"}:t.error,a()({},e,{error:P,busy:!1})):e}))})});case n.SIMPLE_FILTER_FIELD_UPDATE:var T=e.simpleFilterFields.reduce((function(e,r){return r.fieldId===t.id?e.push(h(h({},r),t.properties)):e.push(r),e}),[]);return h(h({},e),{},{simpleFilterFields:T});case n.ADD_SIMPLE_FILTER_FIELD:var M=t.properties.fieldId?t.properties:h(h({},t.properties),{},{fieldId:(new Date).getTime()}),A=e.simpleFilterFields?[].concat(y(e.simpleFilterFields),[M]):[M];return h(h({},e),{},{simpleFilterFields:A});case n.REMOVE_SIMPLE_FILTER_FIELD:return h(h({},e),{},{simpleFilterFields:e.simpleFilterFields.filter((function(e){return e.fieldId!==t.id}))});case n.REMOVE_ALL_SIMPLE_FILTER_FIELDS:return h(h({},e),{},{simpleFilterFields:[]});case n.LOAD_FILTER:var C=S.spatialField,_=(C.attribute,f(C,["attribute"])),I=a()({},S,{spatialField:h({},_)}),R=t.filter||I,L=R.spatialField,D=R.filterFields,k=R.groupFields,N=R.crossLayerFilter,F=R.attributePanelExpanded,G=R.spatialPanelExpanded,U=R.crossLayerExpanded;return h(h({},e),{attributePanelExpanded:F,spatialPanelExpanded:G,crossLayerExpanded:U,spatialField:h(h({},L),{},{attribute:L&&L.attribute||e.spatialField&&e.spatialField.attribute}),filterFields:D,groupFields:k,crossLayerFilter:h(h({},N),{},{attribute:N&&N.attribute||e.crossLayerFilter&&e.crossLayerFilter.attribute})});default:return e}}},"./MapStore2/web/client/reducers/search.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/search.js"),o=r("./MapStore2/web/client/actions/controls.js"),i=r("./node_modules/object-assign/index.js"),a=r.n(i);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.TEXT_SEARCH_LOADING:return a()({},e,{loading:t.loading});case n.TEXT_SEARCH_ERROR:return a()({},e,{error:t.error});case n.TEXT_SEARCH_TEXT_CHANGE:return a()({},e,{searchText:t.searchText,error:null});case n.TEXT_SEARCH_RESULTS_LOADED:var r=t.results;return!0===t.append&&e&&e.results&&(r=[].concat(u(e.results),u(t.results))),a()({},e,{results:r,error:null});case n.TEXT_SEARCH_RESULTS_PURGE:return a()({},e,{results:null,error:null});case n.TEXT_SEARCH_ADD_MARKER:return a()({},e,{markerPosition:t.markerPosition,markerLabel:t.markerLabel});case n.TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE:return a()({},e,{highlightedFeature:t.highlightedFeature});case n.TEXT_SEARCH_RESET:return{style:e.style||{}};case o.RESET_CONTROLS:return null;case n.TEXT_SEARCH_NESTED_SERVICES_SELECTED:return a()({},e,{selectedServices:t.services,searchText:t.searchText,selectedItems:(e.selectedItems||[]).concat(t.items)});case n.TEXT_SEARCH_CANCEL_ITEM:return a()({},{selectedItems:e.selectedItems&&e.selectedItems.filter((function(e){return e!==t.item})),searchText:""===e.searchText&&t.item&&t.item.text?t.item.text.substring(0,t.item.text.length):e.searchText});case n.UPDATE_RESULTS_STYLE:return a()({},e,{style:t.style});case n.CHANGE_SEARCH_TOOL:return l(l({},e),{},{activeSearchTool:t.activeSearchTool});case n.CHANGE_FORMAT:return l(l({},e),{},{format:t.format});case n.CHANGE_COORD:return l(l({},e),{},{coordinate:l(l({},e.coordinate),{},c({},t.coord,t.val))});default:return e}}},"./MapStore2/web/client/reducers/searchconfig.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/searchconfig.js"),o=r("./MapStore2/web/client/actions/controls.js"),i=r("./MapStore2/web/client/actions/config.js"),a=r("./node_modules/object-assign/index.js"),s=r.n(a);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_SEARCH_CONFIG_PROP:return s()({},e,l({},t.property,t.value));case i.MAP_CONFIG_LOADED:var r=t.config.map.text_search_config||t.config.map.text_serch_config;return s()({},e,{textSearchConfig:r});case o.RESET_CONTROLS:case n.RESET_SEARCH_CONFIG:return s()({},e,{service:void 0,page:t.page,init_service_values:void 0,editIdx:void 0});case n.UPDATE_SERVICE:var a=(e.textSearchConfig&&e.textSearchConfig.services||[]).slice(),c=s()({},t.service,{priority:parseInt(t.service.priority,10)});return-1!==t.idx?a[t.idx]=c:a.push(c),s()({},e,{service:void 0,page:0,init_service_values:void 0,editIdx:void 0,textSearchConfig:{services:a,override:e.textSearchConfig&&e.textSearchConfig.override||!1}});default:return e}}},"./MapStore2/web/client/reducers/styleeditor.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/styleeditor.js"),o=r("./MapStore2/node_modules/lodash/isString.js"),i=r.n(o);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.INIT_STYLE_SERVICE:return s(s({},e),{},{service:t.service,canEdit:t.canEdit});case n.SET_EDIT_PERMISSION:return s(s({},e),{},{canEdit:t.canEdit});case n.UPDATE_TEMPORARY_STYLE:return s(s({},e),{},{temporaryId:t.temporaryId,templateId:t.templateId,code:t.code,format:t.format,error:null,languageVersion:t.languageVersion,initialCode:t.init?t.code:e.initialCode});case n.UPDATE_STATUS:return""===t.status?s(s({},e),{},{status:t.status,code:"",templateId:"",initialCode:"",addStyle:!1,error:{}}):s(s({},e),{},{status:t.status});case n.RESET_STYLE_EDITOR:return{service:e.service&&s({},e.service)||{},canEdit:e.canEdit};case n.ADD_STYLE:return s(s({},e),{},{addStyle:t.add});case n.LOADING_STYLE:return s(s({},e),{},{loading:!t.status||t.status,error:{}});case n.LOADED_STYLE:return s(s({},e),{},{loading:!1,enabled:!0});case n.ERROR_STYLE:var r,o,a,c=(null==t||null===(r=t.error)||void 0===r?void 0:r.statusText)||(null==t||null===(o=t.error)||void 0===o?void 0:o.message)||"",u=i()(null==t||null===(a=t.error)||void 0===a?void 0:a.messageId)&&{messageId:t.error.messageId},p=c.match(/line\s([\d]+)|column\s([\d]+)|lineNumber:\s([\d]+)|columnNumber:\s([\d]+)/g),d=p&&2===p.length&&p.reduce((function(e,t){var r=t.split(" "),n=r[0].replace(/Number:/g,""),o=parseFloat(r[1]);return n&&!isNaN(o)&&s(s({},e),{},l({},n,o))||s({},e)}),s({message:c},u))||s({message:c},u);return s(s({},e),{},{loading:!1,canEdit:!(t.error&&(401===t.error.status||403===t.error.status)),error:s(s({},e.error),{},l({},t.status||"global",s({status:t.error&&t.error.status||404},d)))});case n.UPDATE_EDITOR_METADATA:return s(s({},e),{},{metadata:s(s({},e.metadata),t.metadata)});default:return e}}},"./MapStore2/web/client/reducers/timeline.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/layers.js"),o=r("./MapStore2/web/client/actions/controls.js"),i=r("./MapStore2/web/client/actions/timeline.js"),a=r("./MapStore2/web/client/utils/ImmutableUtils.js"),s=r("./MapStore2/node_modules/lodash/lodash.js");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.SET_COLLAPSED:return Object(a.set)("settings.collapsed",t.collapsed,e);case i.SET_MAP_SYNC:return Object(a.set)("settings.mapSync",t.mapSync,e);case i.RANGE_CHANGED:return Object(a.set)("range",{start:t.start,end:t.end},e);case i.RANGE_DATA_LOADED:return Object(a.set)("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case i.LOADING:return t.layerId?Object(a.set)("loading[".concat(t.layerId,"]"),t.loading,e):Object(a.set)("loading.timeline",t.loading,e);case i.SELECT_LAYER:return Object(a.set)("selectedLayer",t.layerId,e);case n.REMOVE_NODE:var r=e;return Object(s.assign)({},e,{rangeData:Object(s.has)(r.rangeData,t.node)?Object(s.pickBy)(r.rangeData,(function(e,r){return r!==t.node})):r.rangeData,loading:Object(s.has)(r.rangeData,t.node)?Object(s.pickBy)(r.loading,(function(e,r){return r!==t.node})):r.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case o.RESET_CONTROLS:return Object(s.assign)({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0});default:return e}}},"./MapStore2/web/client/reducers/widgets.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/actions/widgets.js"),o=r("./MapStore2/web/client/actions/config.js"),i=r("./MapStore2/web/client/actions/dashboard.js"),a=r("./node_modules/object-assign/index.js"),s=r.n(a),l=r("./MapStore2/node_modules/lodash/fp/set.js"),c=r.n(l),u=r("./MapStore2/node_modules/lodash/lodash.js"),p=r("./MapStore2/web/client/utils/ImmutableUtils.js");function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={dependencies:{viewport:"map.bbox",center:"map.center",zoom:"map.zoom"},containers:{floating:{widgets:[]}},builder:{settings:{step:0}}};t.default=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case n.EDITOR_SETTING_CHANGE:return c()("builder.settings.".concat(r.key),r.value,t);case n.EDIT_NEW:return c()("builder.editor",r.widget,c()("builder.settings",r.settings||g.settings,t));case n.EDIT:return c()("builder.editor",y(y({},r.widget),{},{widgetType:r.widget&&r.widget.widgetType||"chart"}),c()("builder.settings.step","chart"===(r.widget&&r.widget.widgetType||"chart")?1:0,t));case n.EDITOR_CHANGE:return c()("builder.editor.".concat(r.key),r.value,t);case n.INSERT:var a=Object(p.arrayUpsert)("containers[".concat(r.target,"].widgets"),y(y({id:r.id},r.widget),{},{dataGrid:r.id&&{y:0,x:0,w:1,h:1}}),{id:r.widget.id||r.id},t);return a;case n.UPDATE_PROPERTY:var l=Object(u.find)(Object(u.get)(t,"containers[".concat(r.target,"].widgets")),{id:r.id});return Object(p.arrayUpsert)("containers[".concat(r.target,"].widgets"),c()(r.key,"merge"===r.mode?s()({},l[r.key],r.value):r.value,l),{id:r.id},t);case n.UPDATE_LAYER:if(r.layer){var f=Object(u.get)(t,"containers[".concat(n.DEFAULT_TARGET,"].widgets"));if(f)return c()("containers[".concat(n.DEFAULT_TARGET,"].widgets"),f.map((function(e){return Object(u.get)(e,"layer.id")===r.layer.id?c()("layer",r.layer,e):e})),t)}return t;case n.DELETE:return Object(p.arrayDelete)("containers[".concat(r.target,"].widgets"),{id:r.widget.id},t);case i.DASHBOARD_LOADED:var m=r.data;return c()("containers[".concat(n.DEFAULT_TARGET,"]"),y({},m),t);case o.MAP_CONFIG_LOADED:var b=r.config||{},h=b.widgetsConfig;return c()("containers[".concat(n.DEFAULT_TARGET,"]"),y({},h),t);case n.CHANGE_LAYOUT:return c()("containers[".concat(r.target,"].layout"),r.layout)(c()("containers[".concat(r.target,"].layouts"),r.allLayouts,t));case n.CLEAR_WIDGETS:case i.DASHBOARD_RESET:return c()("containers[".concat(n.DEFAULT_TARGET,"]"),g.containers[n.DEFAULT_TARGET],t);case n.ADD_DEPENDENCY:var v=r.key,S=r.value;return c()("dependencies[".concat(v,"]"),S,t);case n.REMOVE_DEPENDENCY:var w=r.key;return c()("dependencies[".concat(w,"]"),null,t);case n.LOAD_DEPENDENCIES:var O=r.dependencies;return c()("dependencies",O,t);case n.RESET_DEPENDENCIES:return c()("dependencies",g.dependencies,t);case n.TOGGLE_COLLAPSE:var j=r.widget,E=void 0===j?{}:j;if(E.dataGrid&&E.dataGrid.static)return t;var x=Object(u.get)(t,"containers[".concat(r.target,"].collapsed[").concat(E.id));if(x){var P=[].concat(d(Object(u.get)(t,"containers[".concat(r.target,"].layout"),[])),d(Object(u.castArray)(Object(u.get)(x,"layout",[])))),T=Object(u.mapValues)(Object(u.get)(t,"containers[".concat(r.target,"].layouts"),{}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(d(e),d(Object(u.castArray)(Object(u.get)(x,"layouts[".concat(t,"]"),[]))))}));return Object(u.omit)(Object(p.compose)(c()("containers[".concat(r.target,"].layout"),P),c()("containers[".concat(r.target,"].layouts"),T))(t),"containers[".concat(r.target,"].collapsed[").concat(E.id,"]"))}return c()("containers[".concat(r.target,"].collapsed[").concat(E.id,"]"),{layout:Object(u.find)(Object(u.get)(t,"containers[".concat(r.target,"].layout"),[]),{i:E.id}),layouts:Object(u.mapValues)(Object(u.get)(t,"containers[".concat(r.target,"].layouts"),{}),(function(e){return Object(u.find)(e,{i:E.id})}))},t);case n.TOGGLE_COLLAPSE_ALL:var M=Object(u.get)(t,"containers[".concat(r.target,"].widgets"),[]).filter((function(e){return!e.dataGrid||!e.dataGrid.static})),A=M.filter((function(e){return Object(u.get)(t,"containers[".concat(r.target,"].collapsed[").concat(e.id,"]"))})),C=M.filter((function(e){return!Object(u.get)(t,"containers[".concat(r.target,"].collapsed[").concat(e.id,"]"))})),_=0===C.length;return _?A.reduce((function(t,r){return e(t,Object(n.toggleCollapse)(r))}),t):C.length>0?C.reduce((function(t,r){return e(t,Object(n.toggleCollapse)(r))}),t):t;case n.TOGGLE_TRAY:return c()("tray",r.value,t);default:return t}}},"./MapStore2/web/client/selectors/backgroundselector.js":function(e,t,r){"use strict";r.r(t),r.d(t,"metadataSourceSelector",(function(){return s})),r.d(t,"modalParamsSelector",(function(){return l})),r.d(t,"backgroundListSelector",(function(){return c})),r.d(t,"isDeletedIdSelector",(function(){return u})),r.d(t,"removedBackgroundsThumbIdsSelector",(function(){return p})),r.d(t,"confirmDeleteBackgroundModalSelector",(function(){return d})),r.d(t,"backgroundControlsSelector",(function(){return f})),r.d(t,"allowBackgroundsDeletionSelector",(function(){return m})),r.d(t,"backgroundLayersSelector",(function(){return y}));var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/selectors/layers.js"),i=r("./MapStore2/web/client/selectors/maptype.js"),a=r("./MapStore2/web/client/utils/LayersUtils.js"),s=function(e){return e.backgroundSelector&&e.backgroundSelector.source},l=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},c=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},u=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},p=function(e){return e.backgroundSelector&&e.backgroundSelector.removedBackgroundsThumbIds},d=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},f=function(e){return e.controls&&e.controls.backgroundSelector||{}},m=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},y=Object(n.createSelector)(o.layersSelector,i.mapTypeSelector,(function(e,t){return e.filter((function(e){return e&&"background"===e.group})).map((function(e){return Object(a.invalidateUnsupportedLayer)(e,t)}))||[]}))},"./MapStore2/web/client/selectors/catalog.js":function(e,t,r){"use strict";r.r(t),r.d(t,"staticServicesSelector",(function(){return c})),r.d(t,"servicesSelector",(function(){return u})),r.d(t,"servicesSelectorWithBackgrounds",(function(){return p})),r.d(t,"selectedStaticServiceTypeSelector",(function(){return d})),r.d(t,"tileSizeOptionsSelector",(function(){return f})),r.d(t,"groupSelector",(function(){return m})),r.d(t,"savingSelector",(function(){return y})),r.d(t,"resultSelector",(function(){return b})),r.d(t,"serviceListOpenSelector",(function(){return g})),r.d(t,"newServiceSelector",(function(){return h})),r.d(t,"newServiceTypeSelector",(function(){return v})),r.d(t,"selectedCatalogSelector",(function(){return S})),r.d(t,"selectedServiceTypeSelector",(function(){return w})),r.d(t,"selectedServiceLayerOptionsSelector",(function(){return O})),r.d(t,"searchOptionsSelector",(function(){return j})),r.d(t,"loadingErrorSelector",(function(){return E})),r.d(t,"loadingSelector",(function(){return x})),r.d(t,"selectedServiceSelector",(function(){return P})),r.d(t,"modeSelector",(function(){return T})),r.d(t,"layerErrorSelector",(function(){return M})),r.d(t,"searchTextSelector",(function(){return A})),r.d(t,"activeSelector",(function(){return C})),r.d(t,"authkeyParamNameSelector",(function(){return _})),r.d(t,"pageSizeSelector",(function(){return I})),r.d(t,"delayAutoSearchSelector",(function(){return R})),r.d(t,"catalogSearchInfoSelector",(function(){return L}));var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),i=r("./MapStore2/web/client/selectors/map.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return Object(o.get)(e,"catalog.default.staticServices")},u=function(e){return Object(o.get)(e,"catalog.services")},p=Object(n.createSelector)(c,u,(function(e,t){return s(s({},t),Object(o.pick)(e,"default_map_backgrounds"))})),d=function(e){return Object(o.get)(e,'catalog.default.staticServices["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].type'),"csw")},f=function(e){return Object(o.get)(e,"catalog.default.tileSizes",[256,512])},m=function(e){return Object(o.get)(e,"controls.metadataexplorer.group")},y=function(e){return Object(o.get)(e,"catalog.saving")},b=function(e){return Object(o.get)(e,"catalog.result")},g=function(e){return Object(o.get)(e,"catalog.openCatalogServiceList")},h=function(e){return Object(o.get)(e,"catalog.newService")},v=function(e){return Object(o.get)(e,"catalog.newService.type","csw")},S=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"]'))},w=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].type'),d(e))},O=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].layerOptions'),{})},j=function(e){return Object(o.get)(e,"catalog.searchOptions")},E=function(e){return Object(o.get)(e,"catalog.loadingError")},x=function(e){return Object(o.get)(e,"catalog.loading",!1)},P=function(e){return Object(o.get)(e,"catalog.selectedService")},T=function(e){return Object(o.get)(e,"catalog.mode","view")},M=function(e){return Object(o.get)(e,"catalog.layerError")},A=function(e){return Object(o.get)(e,"catalog.searchOptions.text","")},C=function(e){return"metadataexplorer"===Object(o.get)(e,"controls.toolbar.active")||Object(o.get)(e,"controls.metadataexplorer.enabled")},_=function(e){return(Object(o.get)(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},I=function(e){return Object(o.get)(e,"catalog.pageSize",4)},R=function(e){return Object(o.get)(e,"catalog.delayAutoSearch",1e3)},L=Object(n.createStructuredSelector)({projection:i.projectionSelector})},"./MapStore2/web/client/selectors/dashboard.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isDashboardAvailable",(function(){return i})),r.d(t,"isShowSaveOpen",(function(){return a})),r.d(t,"isShowSaveAsOpen",(function(){return s})),r.d(t,"isDashboardEditing",(function(){return l})),r.d(t,"showConnectionsSelector",(function(){return c})),r.d(t,"dashboardResource",(function(){return u})),r.d(t,"isDashboardLoading",(function(){return p})),r.d(t,"getDashboardSaveErrors",(function(){return d})),r.d(t,"isBrowserMobile",(function(){return f})),r.d(t,"buttonCanEdit",(function(){return m}));var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/selectors/router.js"),i=function(e){return e&&e.dashboard&&e.dashboard.editor&&e.dashboard.editor.available},a=function(e){return e&&e.dashboard&&e.dashboard.showSaveModal},s=function(e){return e&&e.dashboard&&e.dashboard.showSaveAsModal},l=function(e){return e&&e.dashboard&&e.dashboard.editing},c=function(e){return e&&e.dashboard&&e.dashboard.showConnections},u=function(e){return e&&e.dashboard&&e.dashboard.resource},p=function(e){return e&&e.dashboard&&e.dashboard.loading},d=function(e){return e&&e.dashboard&&e.dashboard.saveErrors},f=function(e){return e&&e.browser&&e.browser.mobile},m=Object(n.createSelector)(o.pathnameSelector,u,f,(function(e,t,r){return r?!r:t&&t.canEdit||isNaN(e.substr(-4))}))},"./MapStore2/web/client/selectors/featuregrid.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getLayerById",(function(){return b})),r.d(t,"getTitle",(function(){return g})),r.d(t,"selectedLayerIdSelector",(function(){return h})),r.d(t,"chartDisabledSelector",(function(){return v})),r.d(t,"getCustomAttributeSettings",(function(){return S})),r.d(t,"selectedFeaturesSelector",(function(){return w})),r.d(t,"changesSelector",(function(){return O})),r.d(t,"newFeaturesSelector",(function(){return j})),r.d(t,"selectedFeatureSelector",(function(){return E})),r.d(t,"geomTypeSelectedFeatureSelector",(function(){return x})),r.d(t,"hasGeometrySelectedFeature",(function(){return P})),r.d(t,"notSupportedGeometries",(function(){return T})),r.d(t,"hasSupportedGeometry",(function(){return M})),r.d(t,"hasChangesSelector",(function(){return A})),r.d(t,"hasNewFeaturesSelector",(function(){return C})),r.d(t,"getAttributeFilters",(function(){return _})),r.d(t,"selectedLayerParamsSelector",(function(){return I})),r.d(t,"selectedLayerSelector",(function(){return R})),r.d(t,"editingAllowedRolesSelector",(function(){return L})),r.d(t,"canEditSelector",(function(){return D})),r.d(t,"isFeatureGridOpen",(function(){return k})),r.d(t,"getAttributeFilter",(function(){return N})),r.d(t,"getTitleSelector",(function(){return F})),r.d(t,"getCustomizedAttributes",(function(){return G})),r.d(t,"modeSelector",(function(){return U})),r.d(t,"selectedFeaturesCount",(function(){return B})),r.d(t,"changesMapSelector",(function(){return z})),r.d(t,"hasGeometrySelector",(function(){return W})),r.d(t,"showAgainSelector",(function(){return V})),r.d(t,"showTimeSync",(function(){return H})),r.d(t,"timeSyncActive",(function(){return q})),r.d(t,"showPopoverSyncSelector",(function(){return Y})),r.d(t,"isSavingSelector",(function(){return Z})),r.d(t,"isSavedSelector",(function(){return Q})),r.d(t,"isDrawingSelector",(function(){return K})),r.d(t,"hasNewFeaturesOrChanges",(function(){return X})),r.d(t,"isSimpleGeomSelector",(function(){return J})),r.d(t,"getDockSize",(function(){return $})),r.d(t,"selectedLayerNameSelector",(function(){return ee})),r.d(t,"queryOptionsSelector",(function(){return te})),r.d(t,"isEditingAllowedSelector",(function(){return re}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/selectors/layers.js"),i=r("./MapStore2/web/client/utils/ogc/WFS/base.js"),a=r("./MapStore2/web/client/selectors/locale.js"),s=r("./MapStore2/web/client/utils/MapUtils.js"),l=r("./MapStore2/web/client/utils/FeatureGridUtils.js"),c=r("./MapStore2/web/client/selectors/dimension.js"),u=r("./MapStore2/web/client/selectors/security.js"),p=r("./MapStore2/web/client/selectors/maptype.js"),d=r("./MapStore2/web/client/selectors/query.js");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=o.getLayerFromId,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name},h=function(e){return Object(n.get)(e,"featuregrid.selectedLayer")},v=function(e){return Object(n.get)(e,"featuregrid.chartDisabled",!1)},S=function(e,t){return Object(n.get)(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))},w=function(e){return e&&e.featuregrid&&e.featuregrid.select},O=function(e){return e&&e.featuregrid&&e.featuregrid.changes},j=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},E=function(e){return Object(n.head)(w(e))},x=function(e){var t=Object(d.describeSelector)(e);if(t){var r=Object(i.findGeometryProperty)(t);return r&&r.localType}return null},P=function(e){var t=E(e);if(t){var r=Object(l.toChangesMap)(O(e));return!(!r[t.id]||null===r[t.id].geometry)||(!r[t.id]||null!==r[t.id].geometry)&&((!t._new||!Object(n.head)(j(e))||null!==Object(n.head)(j(e)).geometry)&&(!(!t._new||!Object(n.head)(j(e))||null===Object(n.head)(j(e)).geometry)||null!==t.geometry))}return!1},T=["Geometry","GeometryCollection"],M=function(e){return!Object(n.head)(T.filter((function(t){return x(e)===t})))},A=function(e){return O(e)&&O(e).length>0},C=function(e){return j(e)&&j(e).length>0},_=function(e){return e&&e.featuregrid&&e.featuregrid.filters},I=function(e){return Object(n.get)(b(e,h(e)),"params")},R=function(e){return b(e,h(e))},L=function(e){return Object(n.get)(e,"featuregrid.editingAllowedRoles",["ADMIN"])},D=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit},k=function(e){return e&&e.featuregrid&&e.featuregrid.open},N=function(e,t){return Object(n.get)(_(e),t)},F=function(e){var t=g(b(e,h(e)));return Object(n.isObject)(t)?t[Object(a.currentLocaleSelector)(e)]||t.default||"":t},G=function(e){return(Object(d.attributesSelector)(e)||[]).map((function(t){var r=S(e,t);return r?m(m({},t),r):t}))},U=function(e){return e&&e.featuregrid&&e.featuregrid.mode},B=function(e){return(w(e)||[]).length},z=function(e){return Object(l.toChangesMap)(O(e))},W=function(e){return P(e)},V=function(e){return Object(n.get)(e,"featuregrid.showAgain",!1)},H=function(e){if(Object(n.get)(e,"featuregrid.showTimeSync",!1)){var t=h(e);return Object(c.layerDimensionSelectorCreator)({id:t},"time")(e)}return null},q=function(e){return Object(n.get)(e,"featuregrid.timeSync",!1)},Y=function(e){return Object(n.get)(e,"featuregrid.showPopoverSync",!0)},Z=function(e){return e&&e.featuregrid&&e.featuregrid.saving},Q=function(e){return e&&e.featuregrid&&e.featuregrid.saved},K=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},X=function(e){return C(e)||A(e)},J=function(e){return Object(s.isSimpleGeomType)(x(e))},$=function(e){return e.featuregrid&&e.featuregrid.dockSize},ee=function(e){var t=b(e,h(e));return t&&t.name||""},te=function(e){var t=I(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},re=function(e){var t=Object(u.userRoleSelector)(e),r=L(e)||["ADMIN"],n=D(e);return(-1!==r.indexOf(t)||n)&&!Object(p.isCesium)(e)}},"./MapStore2/web/client/selectors/geostory.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"i",(function(){return f})),r.d(t,"e",(function(){return m})),r.d(t,"b",(function(){return y})),r.d(t,"p",(function(){return b})),r.d(t,"j",(function(){return h})),r.d(t,"o",(function(){return S})),r.d(t,"m",(function(){return w})),r.d(t,"x",(function(){return O})),r.d(t,"v",(function(){return E})),r.d(t,"u",(function(){return x})),r.d(t,"s",(function(){return P})),r.d(t,"t",(function(){return T})),r.d(t,"r",(function(){return M})),r.d(t,"q",(function(){return A})),r.d(t,"y",(function(){return C})),r.d(t,"c",(function(){return _})),r.d(t,"k",(function(){return I})),r.d(t,"g",(function(){return R})),r.d(t,"f",(function(){return L})),r.d(t,"w",(function(){return D})),r.d(t,"l",(function(){return k})),r.d(t,"n",(function(){return N})),r.d(t,"z",(function(){return F})),r.d(t,"d",(function(){return G})),r.d(t,"h",(function(){return U}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/GeoStoryUtils.js"),i=r("./MapStore2/web/client/selectors/security.js"),a=r("./MapStore2/web/client/selectors/router.js");function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){return function(t){return Object(n.get)(t,Object(o.r)("geostory.currentStory.".concat(e),t),"")}},f=function(e){return Object(n.get)(e,"geostory.isCollapsed",!1)},m=function(e){return Object(n.get)(e,"geostory.currentStory")},y=function(e){return Object(n.get)(e,"geostory.currentPage",{})},b=function(e){return Object(n.get)(e,"geostory.mode")},g=function(e){return Object(n.get)(e,"geostory.resource")},h=function(e){return function(e){return Object(n.get)(g(e),"canEdit",!1)}(e)||Object(i.isAdminUserSelector)(e)},v=function(e){return Object(n.get)(m(e),"sections",[])},S=function(e){return v(e).length>0},w=function(e){return Object(n.get)(e,"geostory.isSettingsEnabled",!1)},O=function(e){var t=Object(n.get)(m(e),"settings",{}),r=v(e).filter((function(e){return e.type===o.h.IMMERSIVE})),i=t.checked||[],a=Object(n.uniq)(i.map((function(e){return Object(o.o)(r,e)})).filter((function(e){return e})));return u(u({},t),{},{expanded:a})},j=function(e){return Object(n.get)(O(e),"checked",[]).reduce((function(e,t){return u(u({},e),{},p({},t,!0))}),{})},E=function(e){return!Object(n.isEqual)(Object(n.get)(m(e),"settings",{}),function(e){return Object(n.get)(e,"geostory.oldSettings",{})}(e))},x=function(e){return Object(n.get)(e,"geostory.selectedCard","")},P=function(e){return function(t){return d("".concat(e,".resourceId"))(t)}},T=function(e){return Object(n.get)(m(e),"resources",[])},M=function(e){return function(t){return Object(n.find)(T(t),{id:e})}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withImmersiveSection,r=void 0!==t&&t,n=e.includeAlways,i=void 0===n||n;return function(e){var t=v(e),n=j(e);return t.reduce((function(e,t){if(t.type===o.h.TITLE&&(i||n[t.id]))return[].concat(s(e),[t]);if(t.type===o.h.PARAGRAPH&&(i||n[t.id]))return[].concat(s(e),[t]);if(t.type===o.h.BANNER&&(i||n[t.id]))return[].concat(s(e),[t]);if(t.type===o.h.IMMERSIVE){var a=t.contents&&t.contents.reduce((function(e,t){return i||n[t.id]?[].concat(s(e),[u(u({},t),{},{sectionId:e.id})]):e}),[])||[];return r?[].concat(s(e),[t],s(a)):[].concat(s(e),s(a))}return e}),[])}},C=function(e){return A({includeAlways:!0})(e).length},_=function(e){return Object(n.findIndex)(A({includeAlways:!0})(e),{id:y(e).columns&&y(e).columns[y(e).sectionId]?y(e).columns[y(e).sectionId]:y(e).sectionId||""})},I=function(e){return void 0!==Object(n.get)(e,"geostory.focusedContent.target")},R=function(e){return Object(n.get)(e,"geostory.focusedContent")},L=function(e){return d(Object(n.get)(e,"geostory.focusedContent.path",""))(e)},D=function(e){return v(e).reduce((function(e,t){if(t.type===o.h.IMMERSIVE){var r=t.contents&&t.contents.map((function(e){return{label:e.title||"",value:e.id}}))||[];return[].concat(s(e),[{label:t.title||"",value:t.id,children:r}])}return[].concat(s(e),[{label:t.title||"",value:t.id}])}),[])},k=function(e,t){return!!Object(n.find)(v(e),(function(e){return function e(t,r){var o=r.contents,i=r.background;return r.resourceId===t||(!(!i||i.resourceId!==t)||!!o&&!!Object(n.find)(o,(function(r){return e(t,r)})))}(t,e)}))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.pathnameSelector)(e).includes("geostory/shared")},F=function(e){return Object(n.get)(e,"geostory.updateUrlOnScroll",!1)},G=function(e){return Object(n.get)(e,"geostory.currentStory.settings.theme.fontFamilies",[])},U=function(e){return Object(n.get)(e,"geostory.mediaEditorSettings")}},"./MapStore2/web/client/selectors/localizedLayerStyles.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isLocalizedLayerStylesEnabledSelector",(function(){return a})),r.d(t,"isLocalizedLayerStylesEnabledDashboardsSelector",(function(){return s})),r.d(t,"localizedLayerStylesNameSelector",(function(){return l})),r.d(t,"localizedLayerStylesEnvSelector",(function(){return c}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./node_modules/reselect/es/index.js"),i=r("./MapStore2/web/client/selectors/locale.js"),a=function(e){return Object(n.has)(e,"localConfig.localizedLayerStyles")},s=function(e){var t=Object(n.get)(e,"localConfig.plugins.dashboard",[]),r=Object(n.find)(t,(function(e){return"DashboardEditor"===e.name}))||{};return Object(n.get)(r,"cfg.catalog.localizedLayerStyles",!1)},l=function(e){return Object(n.get)(e,"localConfig.localizedLayerStyles.name","mapstore_language")},c=Object(o.createSelector)(a,l,i.currentLocaleLanguageSelector,(function(e,t,r){var n=[];return e&&n.push({name:t,value:r}),n}))},"./MapStore2/web/client/selectors/maplayout.js":function(e,t,r){"use strict";r.r(t),r.d(t,"mapLayoutSelector",(function(){return c})),r.d(t,"boundingMapRectSelector",(function(){return u})),r.d(t,"mapLayoutValuesSelector",(function(){return p})),r.d(t,"checkConditionsSelector",(function(){return d})),r.d(t,"rightPanelOpenSelector",(function(){return f})),r.d(t,"bottomPanelOpenSelector",(function(){return m})),r.d(t,"mapPaddingSelector",(function(){return y}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/selectors/map.js"),i=r("./MapStore2/web/client/utils/MapUtils.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return e.maplayout&&e.maplayout.layout||{}},u=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return s(s({},e),{},l({},t,r[t]))}),{})||{}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=c(e),o=!!Object(n.head)(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})));return o},f=function(e){return d(e,[{key:"right",value:658}])},m=function(e){return d(e,[{key:"bottom",value:30,type:"not"}])},y=function(e){var t=Object(o.mapSelector)(e),r=u(e);return r&&t&&t.size&&{left:Object(i.parseLayoutValue)(r.left,t.size.width),bottom:Object(i.parseLayoutValue)(r.bottom,t.size.height),right:Object(i.parseLayoutValue)(r.right,t.size.width),top:Object(i.parseLayoutValue)(r.top,t.size.height)}}},"./MapStore2/web/client/selectors/measurement.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isCoordinateEditorEnabledSelector",(function(){return u})),r.d(t,"showAddAsAnnotationSelector",(function(){return p})),r.d(t,"isTrueBearingEnabledSelector",(function(){return d})),r.d(t,"getValidFeatureSelector",(function(){return f})),r.d(t,"measurementSelector",(function(){return m})),r.d(t,"geomTypeSelector",(function(){return y}));var n=r("./MapStore2/web/client/selectors/maptype.js"),o=r("./MapStore2/web/client/selectors/controls.js"),i=r("./MapStore2/web/client/utils/ImmutableUtils.js"),a=r("./MapStore2/web/client/utils/MeasureUtils.js");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){return Object(o.showCoordinateEditorSelector)(e)&&!e.measurement.isDrawing&&Object(n.isOpenlayers)(e)},p=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},d=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},f=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=Object(i.set)("geometry.coordinates",Object(a.validateFeatureCoordinates)(t.geometry||{}),t)),t},m=function(e){return e.measurement&&l(l({},e.measurement),{},{feature:f(e)})||{}},y=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},"./MapStore2/web/client/selectors/playback.js":function(e,t,r){"use strict";r.r(t),r.d(t,"playbackSettingsSelector",(function(){return o})),r.d(t,"frameDurationSelector",(function(){return i})),r.d(t,"statusSelector",(function(){return a})),r.d(t,"framesSelector",(function(){return s})),r.d(t,"lastFrameSelector",(function(){return l})),r.d(t,"loadingSelector",(function(){return c})),r.d(t,"currentFrameSelector",(function(){return u})),r.d(t,"range",(function(){return p})),r.d(t,"playbackRangeSelector",(function(){return d})),r.d(t,"currentFrameValueSelector",(function(){return f})),r.d(t,"playbackMetadataSelector",(function(){return m})),r.d(t,"hasPrevNextAnimationSteps",(function(){return y}));var n=r("./node_modules/reselect/es/index.js"),o=function(e){return e&&e.playback&&e.playback.settings},i=function(e){return(o(e)||{}).frameDuration||5},a=function(e){return e&&e.playback&&e.playback.status},s=function(e){return e&&e.playback&&e.playback.frames},l=function(e){var t=s(e)||[];return t[t.length-1]},c=function(e){return e&&e.playback&&e.playback.framesLoading},u=function(e){return e&&e.playback&&e.playback.currentFrame},p=function(e){return e&&e.playback&&e.playback.playbackRange},d=function(e){return p(e)},f=function(e){return(s(e)||[])[u(e)]},m=function(e){return e&&e.playback&&e.playback.metadata},y=Object(n.createSelector)(s,u,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{hasNext:e[t+1],hasPrevious:e[t-1]}}))},"./MapStore2/web/client/selectors/query.js":function(e,t,r){"use strict";r.r(t),r.d(t,"queryFeatureTypeName",(function(){return s})),r.d(t,"featureTypeSelectorCreator",(function(){return l})),r.d(t,"layerDescribeSelector",(function(){return c})),r.d(t,"wfsURL",(function(){return u})),r.d(t,"wfsURLSelector",(function(){return p})),r.d(t,"wfsFilter",(function(){return d})),r.d(t,"attributesSelector",(function(){return f})),r.d(t,"typeNameSelector",(function(){return m})),r.d(t,"resultsSelector",(function(){return y})),r.d(t,"featureCollectionResultSelector",(function(){return b})),r.d(t,"getFeatureById",(function(){return g})),r.d(t,"paginationInfo",(function(){return h})),r.d(t,"isDescribeLoaded",(function(){return v})),r.d(t,"describeSelector",(function(){return S})),r.d(t,"featureLoadingSelector",(function(){return w})),r.d(t,"isSyncWmsActive",(function(){return O})),r.d(t,"isFilterActive",(function(){return j}));var n=r("./MapStore2/node_modules/lodash/lodash.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return Object(n.get)(e,"query.filterObj.featureTypeName")},l=function(e){return function(t){return Object(n.get)(t,'query.featureTypes["'.concat(e,'"]'))}},c=function(e,t){return Object(n.get)(l(t)(e),"original")},u=function(e){return e&&e.query&&e.query.searchUrl},p=function(e){return e&&e.query&&e.query.url},d=function(e){return e&&e.query&&e.query.filterObj},f=function(e){return Object(n.get)(l(s(e))(e),"attributes")},m=function(e){return Object(n.get)(e,"query.typeName")},y=function(e){return Object(n.get)(e,"query.result.features")},b=function(e){var t=Object(n.get)(e,"query.result");return i(i({},t),{},{features:(t&&t.features||[]).filter((function(e){return!Object(n.isNil)(e.geometry)}))})},g=function(e,t){var r=e&&e.query&&e.query.result&&e.query.result.features;return Object(n.head)(r.filter((function(e){return e.id===t})))},h={startIndex:function(e){return Object(n.get)(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return Object(n.get)(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return Object(n.get)(e,"query.result.features.length")},totalFeatures:function(e){return Object(n.get)(e,"query.result.totalFeatures")}},v=function(e,t){var r=l(t)(e);return!!(r&&r.attributes&&r.geometry&&r.original)},S=function(e){return c(e,s(e))},w=function(e){return Object(n.get)(e,"query.featureLoading")},O=function(e){return Object(n.get)(e,"query.syncWmsFilter",!1)},j=function(e){var t=Object(n.get)(e,"query.filterObj.crossLayerFilter"),r=Object(n.get)(e,"query.filterObj.spatialField"),o=Object(n.get)(e,"query.filterObj.filterFields");return!!(o&&Object(n.head)(o)||r&&(r.method&&r.operation&&r.geometry||Object(n.isArray)(r)&&Object(n.findIndex)(r,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},"./MapStore2/web/client/selectors/queryform.js":function(e,t,r){"use strict";r.r(t),r.d(t,"crossLayerFilterSelector",(function(){return d})),r.d(t,"availableCrossLayerFilterLayersSelector",(function(){return f})),r.d(t,"spatialFieldGeomSelector",(function(){return m})),r.d(t,"spatialFieldSelector",(function(){return y})),r.d(t,"attributePanelExpandedSelector",(function(){return b})),r.d(t,"spatialPanelExpandedSelector",(function(){return g})),r.d(t,"crossLayerExpandedSelector",(function(){return h})),r.d(t,"queryFormUiStateSelector",(function(){return v})),r.d(t,"storedFilterSelector",(function(){return S})),r.d(t,"appliedFilterSelector",(function(){return w})),r.d(t,"spatialFieldMethodSelector",(function(){return O})),r.d(t,"maxFeaturesWPSSelector",(function(){return j})),r.d(t,"spatialFieldGeomTypeSelector",(function(){return E})),r.d(t,"spatialFieldGeomProjSelector",(function(){return x})),r.d(t,"spatialFieldGeomCoordSelector",(function(){return P}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./node_modules/reselect/es/index.js"),i=r("./MapStore2/web/client/selectors/layers.js"),a=r("./MapStore2/web/client/selectors/locale.js"),s=r("./MapStore2/web/client/utils/LocaleUtils.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var d=function(e){return Object(n.get)(e,"queryform.crossLayerFilter")},f=function(e){return(Object(i.layersSelector)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.group;return"wms"===t&&"background"!==r})).map((function(t){var r=t.title;return c(c({},p(t,["title"])),{},{title:Object(s.getLocalizedProp)(Object(a.currentLocaleSelector)(e),r)})}))},m=function(e){return Object(n.get)(e,"queryform.spatialField.geometry")},y=function(e){return Object(n.get)(e,"queryform.spatialField")},b=function(e){return Object(n.get)(e,"queryform.attributePanelExpanded")},g=function(e){return Object(n.get)(e,"queryform.spatialPanelExpanded")},h=function(e){return Object(n.get)(e,"queryform.crossLayerExpanded")},v=Object(o.createSelector)(b,g,h,(function(e,t,r){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:r}})),S=function(e){return Object(n.get)(e,"layerFilter.persisted")},w=function(e){return Object(n.get)(e,"layerFilter.applied")},O=function(e){return Object(n.get)(e,"queryform.spatialField.method")},j=function(e){return Object(n.get)(e,"queryform.maxFeaturesWPS")},E=function(e){return m(e)&&m(e).type||"Polygon"},x=function(e){return m(e)&&m(e).projection||"EPSG =4326"},P=function(e){return m(e)&&m(e).coordinates||[]}},"./MapStore2/web/client/selectors/router.js":function(e,t,r){"use strict";r.r(t),r.d(t,"pathnameSelector",(function(){return o})),r.d(t,"searchSelector",(function(){return i}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=function(e){return Object(n.get)(e,"router.location.pathname")||"/"},i=function(e){return Object(n.get)(e,"router.location.search")||""}},"./MapStore2/web/client/selectors/styleeditor.js":function(e,t,r){"use strict";r.r(t),r.d(t,"temporaryIdSelector",(function(){return c})),r.d(t,"templateIdSelector",(function(){return u})),r.d(t,"statusStyleSelector",(function(){return p})),r.d(t,"errorStyleSelector",(function(){return d})),r.d(t,"loadingStyleSelector",(function(){return f})),r.d(t,"formatStyleSelector",(function(){return m})),r.d(t,"languageVersionStyleSelector",(function(){return y})),r.d(t,"codeStyleSelector",(function(){return b})),r.d(t,"initialCodeStyleSelector",(function(){return g})),r.d(t,"addStyleSelector",(function(){return h})),r.d(t,"enabledStyleEditorSelector",(function(){return v})),r.d(t,"styleServiceSelector",(function(){return S})),r.d(t,"canEditStyleSelector",(function(){return w})),r.d(t,"getUpdatedLayer",(function(){return O})),r.d(t,"geometryTypeSelector",(function(){return j})),r.d(t,"layerPropertiesSelector",(function(){return E})),r.d(t,"selectedStyleSelector",(function(){return x})),r.d(t,"selectedStyleFormatSelector",(function(){return P})),r.d(t,"getAllStyles",(function(){return T})),r.d(t,"editorMetadataSelector",(function(){return M})),r.d(t,"selectedStyleMetadataSelector",(function(){return A}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/selectors/layers.js"),i=r("./MapStore2/web/client/utils/StyleEditorUtils.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return Object(n.get)(e,"styleeditor.temporaryId")},u=function(e){return Object(n.get)(e,"styleeditor.templateId")},p=function(e){return Object(n.get)(e,"styleeditor.status")},d=function(e){return Object(n.get)(e,"styleeditor.error")||{}},f=function(e){return Object(n.get)(e,"styleeditor.loading")},m=function(e){return Object(n.get)(e,"styleeditor.format")||"css"},y=function(e){return Object(n.get)(e,"styleeditor.languageVersion")||{}},b=function(e){return Object(n.get)(e,"styleeditor.code")},g=function(e){return Object(n.get)(e,"styleeditor.initialCode")||""},h=function(e){return Object(n.get)(e,"styleeditor.addStyle")||""},v=function(e){return Object(n.get)(e,"styleeditor.enabled")},S=function(e){return Object(n.get)(e,"styleeditor.service")||{}},w=function(e){return Object(n.get)(e,"styleeditor.canEdit")},O=function(e){var t=Object(o.layerSettingSelector)(e);return s(s({},Object(o.getSelectedLayer)(e)||{}),t&&t.options||{})},j=function(e){var t=O(e),r=Object(i.extractFeatureProperties)(t).geometryType;return void 0===r?"vector":r},E=function(e){var t=O(e),r=Object(i.extractFeatureProperties)(t).properties;return void 0===r?{}:r},x=function(e){var t=O(e);return t.style||t.availableStyles&&t.availableStyles[0]&&t.availableStyles[0].name},P=function(e){var t=(O(e)||{}).availableStyles,r=void 0===t?[]:t,o=x(e);return Object(n.head)(r.filter((function(e){return e.name===o})).map((function(e){return e.format})))},T=function(e){var t=O(e),r=t.availableStyles||[],o=(Object(n.head)(r)||{}).name,a=t.style||t&&!t.style&&o;return{availableStyles:Object(n.uniqBy)(r.map((function(e){var t=e&&e.title&&Object(n.isString)(e.title)&&e.title.split(i.STYLE_ID_SEPARATOR),r=t&&t[0]||e.name;return s(s({},e),{},{label:r})})),"name"),defaultStyle:o,enabledStyle:a}},M=function(e){var t;return null==e||null===(t=e.styleeditor)||void 0===t?void 0:t.metadata},A=function(e){var t=(O(e)||{}).availableStyles,r=void 0===t?[]:t,o=x(e);return(Object(n.find)(r,(function(e){var t=e.name;return o===t}))||{}).metadata||{}};t.default={temporaryIdSelector:c,templateIdSelector:u,statusStyleSelector:p,errorStyleSelector:d,loadingStyleSelector:f,formatStyleSelector:m,languageVersionStyleSelector:y,codeStyleSelector:b,initialCodeStyleSelector:g,selectedStyleSelector:x,addStyleSelector:h,geometryTypeSelector:j,layerPropertiesSelector:E,enabledStyleEditorSelector:v,styleServiceSelector:S,canEditStyleSelector:w,getUpdatedLayer:O,selectedStyleFormatSelector:P,getAllStyles:T,editorMetadataSelector:M,selectedStyleMetadataSelector:A}},"./MapStore2/web/client/selectors/swipe.js":function(e,t,r){"use strict";r.r(t),r.d(t,"layerSwipeSettingsSelector",(function(){return n})),r.d(t,"spyModeSettingsSelector",(function(){return o})),r.d(t,"swipeModeSettingsSelector",(function(){return i}));var n=function(e){return e.swipe&&e.swipe||{active:!1}},o=function(e){var t;return(null==e||null===(t=e.swipe)||void 0===t?void 0:t.spy)||{radius:80}},i=function(e){var t;return(null==e||null===(t=e.swipe)||void 0===t?void 0:t.swipe)||{direction:"cut-vertical"}};t.default={layerSwipeSettingsSelector:n,spyModeSettingsSelector:o,swipeModeSettingsSelector:i}},"./MapStore2/web/client/selectors/timeline.js":function(e,t,r){"use strict";r.r(t),r.d(t,"rangeSelector",(function(){return h})),r.d(t,"rangeDataSelector",(function(){return v})),r.d(t,"isCollapsed",(function(){return S})),r.d(t,"isAutoSelectEnabled",(function(){return w})),r.d(t,"isMapSync",(function(){return O})),r.d(t,"timeStampToItems",(function(){return j})),r.d(t,"valuesToItems",(function(){return E})),r.d(t,"rangeDataToItems",(function(){return x})),r.d(t,"getTimeItems",(function(){return P})),r.d(t,"itemsSelector",(function(){return T})),r.d(t,"loadingSelector",(function(){return M})),r.d(t,"selectedLayerSelector",(function(){return A})),r.d(t,"selectedLayerData",(function(){return C})),r.d(t,"selectedLayerName",(function(){return _})),r.d(t,"selectedLayerTimeDimensionConfiguration",(function(){return I})),r.d(t,"selectedLayerUrl",(function(){return R})),r.d(t,"currentTimeRangeSelector",(function(){return L})),r.d(t,"selectedLayerDataRangeSelector",(function(){return D})),r.d(t,"timelineLayersSelector",(function(){return k})),r.d(t,"hasLayers",(function(){return N})),r.d(t,"isVisible",(function(){return F})),r.d(t,"multidimOptionsSelectorCreator",(function(){return G}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./node_modules/reselect/es/index.js"),i=r("./MapStore2/web/client/utils/ReselectUtils.js"),a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),s=r("./MapStore2/web/client/utils/TimeUtils.js"),l=r("./MapStore2/web/client/selectors/dimension.js"),c=r("./MapStore2/web/client/selectors/map.js"),u=r("./MapStore2/web/client/selectors/layers.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){return Object(n.get)(e,"timeline.range")},v=function(e){return Object(n.get)(e,"timeline.rangeData")},S=function(e){return Object(n.get)(e,"timeline.settings.collapsed")},w=function(e){return Object(n.get)(e,"timeline.settings.autoSelect")},O=function(e){return Object(n.get)(e,"timeline.settings.mapSync")},j=function(e,t){var r=y(e.split("/"),3),n=r[0],o=r[1],i=r[2];if(i&&"0"!==i){var a=Object(s.analyzeIntervalInRange)({start:n,end:o,duration:i},t),l=a.count,c=a.start,u=a.end;return l>50?[{start:n,end:o,duration:i,type:"range",content:"".concat(l," items")}]:Object(s.timeIntervalToSequence)({start:c,end:u,duration:i}).map((function(e){return{start:new Date(e),end:new Date(e),type:"point"}}))}return isNaN(new Date(n).getTime())?null:[{start:new Date(n),end:new Date(o||n),type:o?"range":"point"}]},E=function(e,t){return(e||[]).reduce((function(e,r){return[].concat(m(e),m(j(r,t)))}),[]).filter((function(e){return e&&e.start}))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.domain&&e.domain.values)return E(e.domain.values,t);if(e.histogram&&e.histogram.domain&&e.histogram.values){var r=e.histogram.domain.split("/"),n=y(r,3),o=n[0],i=n[1],a=n[2],l=Math.max.apply(Math,m(e.histogram.values)),c=Object(s.timeIntervalToIntervalSequence)({start:o,end:i,duration:a});return e.histogram.values.map((function(e,t){return d(d({},c[t]),{},{type:"range",itemType:"histogram",count:e,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*e/l,'%"></div> <span class="histogram-count">').concat(e,"</span></div>")})}))}return[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return e&&e.values||e&&e.domain&&!Object(s.isTimeDomainInterval)(e.domain)?E(e.values||e.domain.split(","),t):r&&r.histogram?x(r,t):[]},T=Object(i.createShallowSelector)(l.timeDataSelector,h,v,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m(Object.keys(e).map((function(n){return P(e[n],t,r[n]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(d({content:" "},e),{},{group:n})}))})).reduce((function(e,t){return[].concat(m(e),m(t))}),[]))})),M=function(e){return Object(n.get)(e,"timeline.loading")},A=function(e){return Object(n.get)(e,"timeline.selectedLayer")},C=function(e){return Object(u.getLayerFromId)(e,A(e))},_=function(e){return C(e)&&C(e).name},I=function(e){return C(e)&&C(e).dimensions&&Object(n.head)(C(e).dimensions.filter((function(e){return"time"===e.name})))},R=function(e){return Object(n.get)(I(e),"source.url")},L=Object(o.createSelector)(l.currentTimeSelector,l.offsetTimeSelector,(function(e,t){return{start:e,end:t}})),D=function(e){return Object(l.layerDimensionRangeSelector)(e,A(e))},k=l.layersWithTimeDataSelector,N=Object(o.createSelector)(k,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0})),F=function(e){return!S(e)&&N(e)},G=function(e){return function(t){var r=(Object(c.mapSelector)(t)||{}).bbox;if(!r)return{};var o=Object(l.layerDimensionDataSelectorCreator)(e,"time")(t),i=Object(n.get)(o,"source.version"),s=Object.keys(r.bounds).reduce((function(e,t){return d(d({},e),{},f({},t,parseFloat(r.bounds[t])))}),{});if(!s||!O(t))return{};if("1.1"!==i){var u=Object(l.layerDimensionDataSelectorCreator)(e,"space")(t),p=Object(n.get)(u,"domain.CRS");if(!p||!s||!O(t))return{};var m=y(Object(a.reprojectBbox)(s,Object(c.projectionSelector)(t),p),4),b=m[0],g=m[1],h=m[2],v=m[3];return h<b&&"EPSG:4326"===p&&(h+=360),{bbox:"".concat(b,",").concat(g,",").concat(h,",").concat(v),crs:p}}var S=s.minx,w=s.miny,j=s.maxx,E=s.maxy,x=r.crs;return{bbox:"".concat(S,",").concat(w,",").concat(j,",").concat(E,",").concat(x)}}}},"./MapStore2/web/client/selectors/widgets.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getEditorSettings",(function(){return y})),r.d(t,"getDependenciesMap",(function(){return b})),r.d(t,"getDependenciesKeys",(function(){return g})),r.d(t,"getEditingWidget",(function(){return h})),r.d(t,"getWidgetLayer",(function(){return v})),r.d(t,"getFloatingWidgets",(function(){return S})),r.d(t,"getCollapsedState",(function(){return w})),r.d(t,"getVisibleFloatingWidgets",(function(){return O})),r.d(t,"getWidgetAttributeFilter",(function(){return j})),r.d(t,"getCollapsedIds",(function(){return E})),r.d(t,"getMapWidgets",(function(){return x})),r.d(t,"getTableWidgets",(function(){return P})),r.d(t,"availableDependenciesSelector",(function(){return T})),r.d(t,"availableDependenciesForEditingWidgetSelector",(function(){return M})),r.d(t,"getDependencySelectorConfig",(function(){return A})),r.d(t,"isWidgetSelectionActive",(function(){return C})),r.d(t,"getWidgetsDependenciesGroups",(function(){return _})),r.d(t,"getFloatingWidgetsLayout",(function(){return I})),r.d(t,"getFloatingWidgetsCurrentLayout",(function(){return R})),r.d(t,"getDashboardWidgets",(function(){return L})),r.d(t,"isTrayEnabled",(function(){return D})),r.d(t,"dashboardHasWidgets",(function(){return k})),r.d(t,"getDashboardWidgetsLayout",(function(){return N})),r.d(t,"getEditingWidgetLayer",(function(){return F})),r.d(t,"returnToFeatureGridSelector",(function(){return G})),r.d(t,"getEditingWidgetFilter",(function(){return U})),r.d(t,"dashBoardDependenciesSelector",(function(){return B})),r.d(t,"dependenciesSelector",(function(){return z})),r.d(t,"widgetsConfig",(function(){return W}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/selectors/map.js"),i=r("./MapStore2/web/client/selectors/layers.js"),a=r("./MapStore2/web/client/selectors/router.js"),s=r("./MapStore2/web/client/actions/widgets.js"),l=r("./MapStore2/web/client/utils/WidgetsUtils.js"),c=r("./MapStore2/web/client/selectors/dashboard.js"),u=r("./node_modules/reselect/es/index.js"),p=r("./MapStore2/web/client/utils/ReselectUtils.js");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){return Object(n.get)(e,"widgets.builder.settings")},b=function(e){return Object(n.get)(e,"widgets.dependencies")||{}},g=function(e){return Object.keys(b(e)).map((function(t){return b(e)[t]}))},h=function(e){return Object(n.get)(e,"widgets.builder.editor")},v=Object(u.createSelector)(h,i.getSelectedLayer,(function(e){return Object(c.isDashboardAvailable)(e)&&Object(c.isDashboardEditing)(e)}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.layer,r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t||!n&&r})),S=function(e){return Object(n.get)(e,"widgets.containers[".concat(s.DEFAULT_TARGET,"].widgets"))},w=function(e){return Object(n.get)(e,"widgets.containers[".concat(s.DEFAULT_TARGET,"].collapsed"))},O=Object(u.createSelector)(S,w,(function(e,t){return e&&t?e.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id;return!t[r]})):e})),j=function(e,t){return Object(u.createSelector)(O,(function(r){var o=Object(n.find)(r,{id:e});return o&&o.quickFilters&&o.options&&Object(n.find)(o.options.propertyName,(function(e){return e===t}))&&o.quickFilters[t]||{}}))},E=Object(u.createSelector)(w,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e)})),x=function(e){return(S(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.widgetType;return"map"===t}))},P=function(e){return(S(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.widgetType;return"table"===t}))},T=Object(u.createSelector)(x,P,o.mapSelector,a.pathnameSelector,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0;return{availableDependencies:e.map((function(e){var t=e.id;return"widgets[".concat(t,"].map")})).concat(Object(n.castArray)(r).map((function(){return"map"}))).concat(Object(n.castArray)(t).filter((function(){return-1===o.indexOf("viewer")})).map((function(e){var t=e.id;return"widgets[".concat(t,"]")})))}})),M=Object(u.createSelector)(x,P,o.mapSelector,a.pathnameSelector,h,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=i&&"map"!==i.widgetType?i&&i.layer||{}:i&&i.map&&i.map.layers||[];return{availableDependencies:e.map((function(e){var t=e.id;return"widgets[".concat(t,"].map")})).concat(Object(n.castArray)(r).map((function(){return r?"map":null}))).filter((function(e){return e})).concat(Object(n.castArray)(t).filter((function(){return-1===o.indexOf("viewer")})).filter((function(e){return Object(n.isArray)(a)||a.name===e.layer.name})).filter((function(e){return i&&i.id!==e.id})).map((function(e){var t=e.id;return"widgets[".concat(t,"]")})))}})),A=function(e){return Object(n.get)(y(e),"".concat(s.DEPENDENCY_SELECTOR_KEY))},C=function(e){return Object(n.get)(A(e),"active")},_=Object(u.createSelector)(S,(function(e){return Object(l.getWidgetsGroups)(e)})),I=function(e){return Object(n.get)(e,"widgets.containers[".concat(s.DEFAULT_TARGET,"].layouts"))},R=function(e){return Object(n.get)(e,"widgets.containers[".concat(s.DEFAULT_TARGET,"].layout"))},L=function(e){return Object(n.get)(e,"widgets.containers[".concat(s.DEFAULT_TARGET,"].widgets"))},D=function(e){return Object(n.get)(e,"widgets.tray")},k=function(e){return(L(e)||[]).length>0},N=function(e){return Object(n.get)(e,"widgets.containers[".concat(s.DEFAULT_TARGET,"].layouts"))},F=function(e){return Object(n.get)(h(e),"layer")},G=function(e){return Object(n.get)(e,"widgets.builder.editor.returnToFeatureGrid",!1)},U=function(e){return Object(n.get)(h(e),"filter")},B=function(){return{}},z=Object(p.createShallowSelector)(b,g,(function(e){return g(e).map((function(t){return 0===t.indexOf("map.")?Object(n.get)(Object(o.mapSelector)(e),t.slice(4)):t.match(s.WIDGETS_REGEX)?Object(l.getWidgetDependency)(t,S(e)):Object(n.get)(e,t)}))}),(function(e,t,r){return t.reduce((function(t,n,o){return f(f({},t),{},m({},Object.keys(e)[o],r[o]))}),{})})),W=Object(u.createStructuredSelector)({widgets:S,layouts:I})},"./MapStore2/web/client/selectors/widgetsTray.js":function(e,t,r){"use strict";r.r(t),r.d(t,"trayWidgets",(function(){return u}));var n=r("./node_modules/reselect/es/index.js"),o=r("./MapStore2/web/client/selectors/widgets.js"),i=r("./MapStore2/node_modules/lodash/lodash.js");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return!e.dataGrid||!e.dataGrid.static},u=Object(n.createSelector)(o.getFloatingWidgets,o.getCollapsedIds,o.getFloatingWidgetsCurrentLayout,o.getCollapsedState,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(i.sortBy)(e.filter(c).map((function(e){return Object(i.findIndex)(t,(function(t){return t===e.id}))>=0?s(s({},e),{},{collapsed:!0}):e})),(function(e){var t=n[e.id]&&n[e.id].layout,o=Object(i.find)(r,{i:e.id})||t||{},a=o.x,s=void 0===a?0:a,l=o.y;return 100*(void 0===l?0:l)+s}))}));t.default=u},"./MapStore2/web/client/utils/AgentUtils.js":function(e,t){var r={getWindowSize:function(){return{maxWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,maxHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},onfontready:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=e,a=n,s=o,l=i;if(Object({NODE_ENV:"production"}).isTest){var c={},u=function(e){return c[e]=c[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},c[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){u(e).rootCount+=t},iframesCreated:function(e){u(e).iframesCreated=!0},timedOut:function(e){u(e).timedOut=!0},fontLoaded:function(e){u(e).fontLoaded=!0},requiredExtraTimeout:function(e){u(e).requiredExtraTimeout=!0},getTests:function(){return c}}}r.timeoutAfter&&setTimeout((function(){a&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,-1),document.body.removeChild(a),a=0,r.onTimeout&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.timedOut(l),r.onTimeout()))}),r.timeoutAfter),s=function(){a&&a.firstChild.clientWidth===a.lastChild.clientWidth&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,-1),document.body.removeChild(a),a=0,Object({NODE_ENV:"production"}).isTest&&window.reporter.fontLoaded(l),t())},Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,1),Object({NODE_ENV:"production"}).isLegacy||s(document.body.appendChild(a=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</div>"),Object({NODE_ENV:"production"}).isLegacy&&s(document.body.appendChild(a=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',serif">'+(r.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(r.generic?"":"'")+i+(r.generic?"":"'")+',monospace">'+(r.sampleText||" ")+"</span>.</table>"),a&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.iframesCreated(l),Object({NODE_ENV:"production"}).isLegacy||(a.firstChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=s,a.lastChild.appendChild(i=document.createElement("iframe")).style.width="999%",i.contentWindow.onresize=s),Object({NODE_ENV:"production"}).isLegacy&&(a.firstChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",s):i.contentWindow.onresize=s,a.lastChild.firstChild.firstChild.firstChild.appendChild(i=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",i.attachEvent?i.contentWindow.attachEvent("onresize",s):i.contentWindow.onresize=s),Object({NODE_ENV:"production"}).isTest||(i=setTimeout(s)),Object({NODE_ENV:"production"}).isTest&&(i=setTimeout((function(){a&&(window.reporter.requiredExtraTimeout(l),s())}))))},loadFont:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){r.onfontready(e,n,{timeoutAfter:t.timeoutAfter,onTimeout:o,sampleText:t.sampleText,generic:t.generic})}))}};e.exports=r},"./MapStore2/web/client/utils/AnnotationsUtils.js":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./node_modules/uuid/v1.js"),c=r("./MapStore2/web/client/utils/LocaleUtils.js"),u=r("./MapStore2/web/client/utils/MarkerUtils.js").extraMarkers,p=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),d=p.geometryFunctions,f=p.fetchStyle,m=p.hashAndStringify,y=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,b=r("./MapStore2/node_modules/lodash/lodash.js"),g=b.values,h=b.isNil,v=b.slice,S=b.head,w=b.castArray,O=b.last,j=b.isArray,E=b.findIndex,x=b.isString,P=r("./node_modules/uuid/index.js"),T=r("./node_modules/@turf/center/main.es.js").default,M=r("./node_modules/object-assign/index.js"),A={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},C={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},_={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},I={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},R={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},L={Text:_,Point:C,Circle:A,MultiPoint:C,LineString:I,MultiLineString:I,Polygon:R,MultiPolygon:R},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},k=function(e){return("start"===e?"lm":"end"===e&&"rm")||"cm"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=void 0===t?"Point":t,n=e.features,o=void 0===n?[]:n;return"FeatureCollection"===r?o.reduce((function(e,t){return e[t.geometry.type]=L[t.geometry.type],e}),{type:"FeatureCollection"}):a({},L[r])},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({title:"annotations.defaulttitle"!==c.getMessageById(t,"annotations.defaulttitle")?c.getMessageById(t,"annotations.defaulttitle"):"Default title",id:l()},e)},G=function(e){return x(e)&&e||j(e)&&e.join(" ")},U=function(e){return e.color&&e.opacity&&e.weight},B=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t&&t[e]?t[e]:t,o=n,i=o.dashArray?G(o.dashArray):"solid";switch(e){case"MultiPolygon":case"Polygon":case"Circle":return{strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,fillColor:D(o.fillColor),fillOpacity:o.fillOpacity,strokeDashstyle:i};case"LineString":case"MultiLineString":return{strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i};case"Text":var s=U(o)?{labelOutlineColor:D(o.color),labelOutlineOpacity:o.opacity,labelOutlineWidth:o.weight}:{};return a({fontStyle:o.fontStyle,fontSize:o.fontSize,fontFamily:o.fontFamily,fontWeight:o.fontWeight,labelAlign:k(o.textAlign),fontColor:D(o.fillColor),fontOpacity:o.fillOpacity,label:r,stroke:!0,strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i},s);case"Point":case"MultiPoint":var l=o.symbolUrl&&f(m(o),"base64")||u.markerToDataUrl(o),c=-18,p=-46;return o.iconAnchor&&j(o.iconAnchor)&&o.size&&(c="pixels"===o.anchorXUnits?-1*o.iconAnchor[0]:-1*o.size*o.iconAnchor[0],p="pixels"===o.anchorYUnits?-1*o.iconAnchor[1]:-1*o.size*o.iconAnchor[1]),l?{graphicWidth:o.size||36,graphicHeight:o.size||46,externalGraphic:l,graphicXOffset:c,graphicYOffset:p,display:!1===o.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===o.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:i,strokeWidth:1}}},z={ANNOTATION_TYPE:"ms2-annotations",convertGeoJSONToInternalModel:function(e){var t=e.type,r=void 0===t?"Point":t,n=e.geometries,o=void 0===n?[]:n,i=e.features,a=void 0===i?[]:i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(r){case"Point":case"MultiPoint":return{type:1===s.length?"Text":r};case"Polygon":return{type:1===l.length?"Circle":r};case"GeometryCollection":var c=o.filter((function(e){return"Point"===e.type||"MultiPoint"===e.type})),u=o.filter((function(e){return"Polygon"===e.type})),p=0,d=0;return{type:"GeometryCollection",geometries:o.map((function(e){if("Point"===e.type||"MultiPoint"===e.type){if(c.length===s.length)return{type:"Text"};if(0===s.length)return{type:e.type};if(0===p)return p++,{type:"Text"}}if("Polygon"===e.type){if(u.length===l.length)return{type:"Circle"};if(0===l.length)return{type:e.type};if(0===d)return d++,{type:"Circle"}}return{type:e.type}}))};case"FeatureCollection":var f=a.map((function(e){return e.properties&&e.properties.isCircle?{type:"Circle"}:e.properties&&e.properties.isText?{type:"Text"}:{type:e.geometry.type}}));return{type:"FeatureCollection",features:f};default:return{type:r}}},getAvailableStyler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=void 0===t?"Point":t,n=e.geometries,o=void 0===n?[]:n,i=e.features,a=void 0===i?[]:i;switch(r){case"Point":case"MultiPoint":case"Symbol":return[z.getRelativeStyler(r)];case"LineString":case"MultiLineString":return[z.getRelativeStyler(r)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[z.getRelativeStyler(r)];case"GeometryCollection":return o.reduce((function(e,t){return-1!==e.indexOf(z.getRelativeStyler(t.type))?e:e.concat(z.getAvailableStyler(t))}),[]);case"FeatureCollection":return a.reduce((function(e,t){return-1!==e.indexOf(z.getRelativeStyler(t.type))?e:e.concat(z.getAvailableStyler(t))}),[]);default:return[]}},getRelativeStyler:function(e){switch(e){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},createFont:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,r=void 0===t?"14":t,n=e.fontSizeUom,o=void 0===n?"px":n,i=e.fontFamily,a=void 0===i?"Arial":i,s=e.fontStyle,l=void 0===s?"normal":s,c=e.fontWeight,u=void 0===c?"normal":c;return"".concat(l," ").concat(u," ").concat(r).concat(o," ").concat(a)},DEFAULT_ANNOTATIONS_STYLES:L,STYLE_CIRCLE:A,STYLE_POINT_MARKER:C,STYLE_POINT_SYMBOL:{iconAnchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",color:"#000000",fillColor:"#000000",opacity:1,size:64,fillOpacity:1},STYLE_TEXT:_,STYLE_LINE:I,STYLE_POLYGON:R,getGeometryType:function(e){var t,r,n;return(null==e||null===(t=e.properties)||void 0===t?void 0:t.isCircle)?"Circle":(null==e||null===(r=e.properties)||void 0===r?void 0:r.isText)?"Text":null==e||null===(n=e.geometry)||void 0===n?void 0:n.type},getGeometryGlyphInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point",t={Point:{glyph:"point",label:"Point"},MultiPoint:{glyph:"point",label:"Point"},LineString:{glyph:"polyline",label:"Line"},MultiLineString:{glyph:"polyline",label:"Line"},Polygon:{glyph:"polygon",label:"Polygon"},MultiPolygon:{glyph:"polygon",label:"Polygon"},Text:{glyph:"font",label:"Text"},Circle:{glyph:"1-circle",label:"Circle"}};return t[e]},normalizeAnnotation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="FeatureCollection"===e.type?a({},e):{type:"Feature",geometry:e},n=N(r),o=F(r.properties,t);return a({style:n,properties:o},r)},removeDuplicate:function(e){return g(e.reduce((function(e,t){return a(a({},e),{},s({},t.properties.id,t))}),{}))},circlesToMultiPolygon:function(e,t){var r=e.geometries,n=void 0===r?[]:r,o=t.circles,i=void 0===o?[]:o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,s=i.reduce((function(e,t){return e.concat([n[t].coordinates])}),[]);return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:s},properties:{id:l(),ms_style:B("Circle",a)}}},fromCircleToPolygon:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;return{type:"Feature",geometry:t.polygonGeom||e,properties:{id:t.id||l(),ms_style:B("Circle",r)}}},fromTextToPoint:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return{type:"Feature",geometry:e,properties:{id:t.id||l(),ms_style:B("Text",r,t.valueText)}}},fromLineStringToGeodesicLineString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;return{type:"Feature",geometry:e.geometryGeodesic,properties:{id:e.id||l(),ms_style:B(e.geometryGeodesic.type,t)}}},textToPoint:function(e,t){var r=e.geometries,n=void 0===r?[]:r,o=t.textGeometriesIndexes,i=void 0===o?[]:o,a=t.textValues,s=void 0===a?[]:a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return i.map((function(e,t){return{type:"Feature",geometry:n[e],properties:{id:l(),ms_style:B("Text",c,s[t])}}}))},flattenGeometryCollection:function(e){var t=e.geometry,r=e.properties,n=e.style,o=r.circles&&z.circlesToMultiPolygon(t,r,n.Circle)||[],i=r.textGeometriesIndexes&&z.textToPoint(t,r,n.Text)||[],a=(r.circles||[]).concat(r.textGeometriesIndexes||[]);return t.geometries.filter((function(e,t){return-1===a.indexOf(t)})).map((function(e){return{type:"Feature",geometry:e,properties:{id:l(),ms_style:B(e.type,n[e.type])}}})).concat(o,i)},createGeometryFromGeomFunction:function(e){var t=d[e.style.geometry]&&d[e.style.geometry].type||e.geometry.type,r=e.geometry.coordinates||[];switch(e.style.geometry){case"startPoint":r=S(r);break;case"endPoint":r=O(r);break;case"centerPoint":r=T(e).geometry.coordinates}return{type:t,coordinates:r}},fromAnnotationToGeoJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geometry,r=e.properties,n=void 0===r?{}:r,o=e.style,i=void 0===o?{}:o,a=i.geometry?z.createGeometryFromGeomFunction({geometry:t,properties:n,style:i,type:"Feature"}):t;return n.isCircle&&"Polygon"===a.type?z.fromCircleToPolygon(a,n,i):n.isText?z.fromTextToPoint(a,n,i):"LineString"===a.type&&n.useGeodesicLines&&i.filtering?z.fromLineStringToGeodesicLineString(n,i):{type:"Feature",geometry:a,properties:{id:n.id||l(),ms_style:B(a.type,i)}}},annotationsToPrint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return"FeatureCollection"===t.type?e.concat(t.features.map((function(e){return w(e.style||t.style||{}).filter((function(e){return!!h(e.filtering)||e.filtering})).map((function(t){return z.fromAnnotationToGeoJson(a(a({},e),{},{style:t}))}))})).reduce((function(e,t){return e.concat(t)}),[])):t.geometry&&"GeometryCollection"===t.geometry.type?e.concat(z.flattenGeometryCollection(t)):e.concat({type:"Feature",geometry:t.geometry,properties:a(a({},t.properties),{},{ms_style:B(t.geometry.type,t.style)})})}),[])},formatCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]];return e.map((function(e){return{lat:e&&e[1],lon:e&&e[0]}}))},getBaseCoord:function(e){switch(e){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},getComponents:function(e){var t=e.type,r=e.coordinates;switch(t){case"Polygon":return z.isCompletePolygon(r)?z.formatCoordinates(v(r[0],0,r[0].length-1)):z.formatCoordinates(r[0]);case"LineString":case"MultiPoint":return z.formatCoordinates(r);default:return z.formatCoordinates([r])}},addIds:function(e){return e.map((function(e){return e.properties&&e.properties.id?e:y("properties.id",P.v1(),e)}))},COMPONENTS_VALIDATION:{Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},validateCoords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lat,r=e.lon;return!isNaN(parseFloat(t))&&!isNaN(parseFloat(r))},validateCoordsArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n(e,2),r=t[0],o=t[1];return!isNaN(parseFloat(o))&&!isNaN(parseFloat(r))},validateCoord:function(e){return!isNaN(parseFloat(e))},coordToArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.lon,e.lat]},validateCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.remove,o=void 0!==n&&n,i=e.type;if(r&&r.length){var a=r.filter(z.validateCoords);return o?a.length>z.COMPONENTS_VALIDATION[i].min&&a.length===r.length:a.length>=z.COMPONENTS_VALIDATION[i].min&&a.length===r.length}return!1},validateCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.properties,o=void 0===n?{radius:0}:n;if(r&&r.length){var i=S(r);return!isNaN(parseFloat(o.radius))&&z.validateCoords(i)}return!1},validateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[]:t,n=e.properties,o=void 0===n?{valueText:""}:n;if(r&&r.length){var i=S(r);return o&&!!o.valueText&&z.validateCoords(i)}return!1},validateFeature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,r=void 0===t?[[]]:t,n=e.type,o=e.remove,i=void 0!==o&&o,a=e.properties,s=void 0===a?{}:a;return!h(n)&&("Text"===n?z.validateText({components:r,properties:s}):"Circle"===n?z.validateCircle({components:r,properties:s}):z.validateCoordinates({components:r,remove:i,type:n}))},updateAllStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.features&&e.features.length?a(a({},e),{},{features:e.features.map((function(e){return M({},e,{style:w(e.style).map((function(e){return M({},e,t)}))})}))}):e},getStartEndPointsForLinestring:function(){return[a(a({},L.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:l()}),a(a({},L.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:l()})]},DEFAULT_SHAPE:"triangle",DEFAULT_PATH:"product/assets/symbols/",checkSymbolsError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return e.length&&-1!==E(e,(function(e){return e===t}))},isAMissingSymbol:function(e){return e.symbolUrlCustomized===r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")},isCompletePolygon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],t=e[0].filter(z.validateCoordsArray);return t.length>3&&S(t)[0]===O(t)[0]&&S(t)[1]===O(t)[1]},getDashArrayFromStyle:G,isAnnotation:function(e){return"ms2-annotations"===(null==e?void 0:e.type)||"Annotations"===(null==e?void 0:e.name)}};e.exports=z},"./MapStore2/web/client/utils/CatalogUtils.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/object-assign/index.js"),s=r("./MapStore2/node_modules/lodash/lodash.js"),l=s.head,c=s.isArray,u=s.isString,p=s.castArray,d=s.isObject,f=s.sortBy,m=s.uniq,y=s.includes,b=s.get,g=s.isNil,h=r("./node_modules/url/url.js"),v=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),S=r("./MapStore2/web/client/utils/ConfigUtils.js"),w=r("./MapStore2/web/client/utils/LayersUtils.js"),O=r("./MapStore2/web/client/utils/LocaleUtils.js"),j=r("./MapStore2/web/client/utils/WMTSUtils.js"),E=r("./MapStore2/web/client/utils/SecurityUtils.js").cleanAuthParamsFromURL,x=r("./MapStore2/web/client/api/WMS.js"),P=function(e){return e&&e.replace(/\/csw$/,"/")},T=function(e){return d(e)&&e._||e},M=function(e,t){return e.filter((function(r){return j.getTileMatrixSet(t,r,e,t,null)}))},A=function(e){var t=Array.isArray(e.references)?e.references:[e.references];return l([].filter.call(t,(function(t){return"WWW:LINK-1.0-http--image-thumbnail"===t.scheme||"thumbnail"===t.scheme||"WWW:DOWNLOAD-1.0-http--download"===t.scheme&&-1!==(t.value||"").indexOf("".concat(e.identifier||"","-thumb"))||"WWW:DOWNLOAD-REST_MAP"===t.scheme&&-1!==(t.value||"").indexOf("".concat(e.identifier||"","-thumb"))})))},C={csw:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e;return n&&n.records?n.records.map((function(e){var n,s,d,b=e.dc;if(b&&b.URI){var g=c(b.URI)?b.URI:b.URI&&[b.URI]||[],v=l([].filter.call(g,(function(e){return"thumbnail"===e.name})));n=v?v.value:null,s=l([].filter.call(g,(function(e){return e.protocol&&(e.protocol.match(/^OGC:WMS-(.*)-http-get-map/g)||e.protocol.match(/^OGC:WMS/g))})))}if(!s&&b&&b.references&&b.references.length){var S=Array.isArray(b.references)?b.references:[b.references];if(s=l([].filter.call(S,(function(e){return e.scheme&&(e.scheme.match(/^OGC:WMS-(.*)-http-get-map/g)||"OGC:WMS"===e.scheme)})))){var w=h.parse(s.value,!0),j=w.query&&w.query.layers||b.alternative;s=a({},s,{name:j})}}if(!s&&b&&b.references&&b.references.length){var E=Array.isArray(b.references)?b.references:[b.references];if(d=l([].filter.call(E,(function(e){return e.scheme&&"WWW:DOWNLOAD-REST_MAP"===e.scheme})))){var x=b.alternative;d=a({},d,{name:x})}}if(!n&&b&&b.references){var T=A(b);T&&(n=T.value)}var M=[];b&&b.references&&(Array.isArray(b.references)?b.references:[b.references]).filter((function(e){return e.scheme.indexOf("http-get-capabilities")>-1})).forEach((function(e){var r=0===e.value.indexOf("http")?e.value:(t&&t.catalogURL||"")+"/"+e.value;M.push({type:e.scheme,url:r})}));if(s&&s.name){0===s.value.indexOf("http")||a({},s,{value:(t&&t.catalogURL||"")+"/"+s.value});var C={type:s.protocol||s.scheme,url:s.value,SRS:[],params:{name:s.name}};M.push(C)}if(d&&d.name){var _={type:"arcgis",url:d.value,SRS:[],params:{name:d.name}};M.push(_)}n&&(0===n.indexOf("http")||(n=(P(t&&t.url)||"")+n));var I={boundingBox:e.boundingBox&&e.boundingBox.extent&&p(e.boundingBox.extent.join(","))};if(b&&(I=o(o({},I),f(Object.keys(b)).reduce((function(e,t){return o(o({},e),{},i({},t,m(p(b[t]))))}),{}))),b&&b.URI&&p(b.URI)&&p(b.URI).length&&(I=o(o({},I),{},{uri:["<ul>"+p(b.URI).map((function(e){return'<li><a target="_blank" href="'.concat(e.value,'">').concat(e.name,"</a></li>")})).join("")+"</ul>"]})),b&&b.subject&&p(b.subject)&&p(b.subject).length&&(I=o(o({},I),{},{subject:["<ul>"+p(b.subject).map((function(e){return"<li>".concat(e,"</li>")})).join("")+"</ul>"]})),M&&p(M).length?I=o(o({},I),{},{references:["<ul>"+p(M).map((function(e){return'<li><a target="_blank" href="'.concat(e.url,'">').concat(e.params&&e.params.name||e.url,"</a></li>")})).join("")+"</ul>"]}):delete I.references,b&&b.temporal){var R=b.temporal.split("; ");if(R.length){var L=R.filter((function(e){return-1!==e.indexOf("scheme=")})).map((function(e){var t=e.indexOf("=");return e.substr(t+1,e.length-1)}));L=L.length?L[0]:"W3C-DTF";var D=R.filter((function(e){return-1!==e.indexOf("start=")||-1!==e.indexOf("end=")})).map((function(e){var t=e.indexOf("="),n=e.substr(0,t),o=e.substr(t+1,e.length-1),i=e.length-t-1<=10;return y(["start","end"],n)&&"W3C-DTF"===L&&!i?O.getMessageById(r,"catalog.".concat(n))+new Date(o).toLocaleString():y(["start","end"],n)?O.getMessageById(r,"catalog.".concat(n))+o:""}));I=o(o({},I),{},{temporal:["<ul>"+D.map((function(e){return"<li>".concat(e,"</li>")})).join("")+"</ul>"]})}}return{boundingBox:e.boundingBox,description:b&&u(b.abstract)&&b.abstract||"",layerOptions:t&&t.layerOptions||{},identifier:b&&u(b.identifier)&&b.identifier||"",references:M,thumbnail:n,title:b&&u(b.title)&&b.title||"",tags:b&&b.tags||"",metadata:I}})):null},wms:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&e.records?e.records.map((function(r){return{capabilities:r,credits:r.credits,boundingBox:x.getBBox(r),description:r.Abstract||r.Title||r.Name,identifier:r.Name,service:e.service,tags:"",layerOptions:t&&t.layerOptions||{},title:w.getLayerTitleTranslations(r)||r.Name,formats:p(r.formats||[]),dimensions:(r.Dimension&&p(r.Dimension)||[]).map((function(e){return a({},{values:e._&&e._.split(",")||[]},e.$||{})})).filter((function(e){return e&&"time"!==e.name})),references:[{type:"OGC:WMS",url:t&&t.url,SRS:r.SRS&&(c(r.SRS)?r.SRS:[r.SRS])||[],params:{name:r.Name}}]}})):null},wmts:function(e,t){return e&&e.records?e.records.map((function(e){var r=p(j.getGetTileURL(e)||t&&t.url);1===r.length&&(r=r[0]);var n=j.getCapabilitiesURL(e),o=p(e.TileMatrixSetLink||[]).reduce((function(t,r){var n,o=l((e.TileMatrixSet&&p(e.TileMatrixSet)||[]).filter((function(e){return e["ows:Identifier"]===r.TileMatrixSet}))),s=o&&v.getEPSGCode(o["ows:SupportedCRS"]),c=r.TileMatrixSetLimits&&(r.TileMatrixSetLimits.TileMatrixLimits||[]).map((function(e){return{identifier:e.TileMatrix,ranges:{cols:{min:e.MinTileCol,max:e.MaxTileCol},rows:{min:e.MinTileRow,max:e.MaxTileRow}}}}))||o.TileMatrix.map((function(e){return{identifier:e["ows:Identifier"]}}));return a(t,(i(n={},o["ows:Identifier"],c),i(n,s,c),n))}),{}),s=function(e){var t=e["ows:WGS84BoundingBox"];return t||(t={"ows:LowerCorner":"-180.0 -90.0","ows:UpperCorner":"180.0 90.0"}),t}(e);return{title:T(e["ows:Title"]||e["ows:Identifier"]),description:T(e["ows:Abstract"]||e["ows:Title"]||e["ows:Identifier"]),identifier:T(e["ows:Identifier"]),tags:"",layerOptions:t&&t.layerOptions||{},style:e.style,capabilitiesURL:n,queryable:e.queryable,requestEncoding:e.requestEncoding,tileMatrixSet:e.TileMatrixSet,matrixIds:o,format:e.format,TileMatrixSetLink:p(e.TileMatrixSetLink),boundingBox:{extent:[s["ows:LowerCorner"].split(" ")[0],s["ows:LowerCorner"].split(" ")[1],s["ows:UpperCorner"].split(" ")[0],s["ows:UpperCorner"].split(" ")[1]],crs:"EPSG:4326"},references:[{type:"OGC:WMTS",url:r,SRS:M(e.SRS||[],o),params:{name:e["ows:Identifier"]}}]}})):null},tms:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.records){var r=t.service&&"tms"===t.service.provider;return r?e.records.map((function(e){return{title:e.title,tileMapUrl:e.href,description:"".concat(e.srs).concat(e.format?", "+e.format:""),tmsUrl:t.tmsUrl,references:[{type:"OGC:TMS",version:"1.0.0",url:t.url}]}})):e.records.map((function(e){return{title:e.title||e.provider,url:e.url,attribution:e.attribution,options:e.options,provider:e.provider,type:"tileprovider",references:[]}}))}return null},wfs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.records;return t?t.map((function(e){return o(o({},e),{},{references:[{type:"OGC:WFS-1.1.0-http-get-capabilities",url:e.url},{type:"OGC:WFS-1.1.0-http-get-feature",url:e.url}]})})):null},backgrounds:function(e){return e&&e.records?e.records.map((function(e){return{description:e.title,title:e.title,identifier:e.name,thumbnail:e.thumbURL,references:[],background:e}})):null}},_=function(e){return e.filter((function(e){return v.isSRSAllowed(e)})).reduce((function(e,t){return a(e,i({},t,!0))}),{})},I=function(e,t){var r=e.split("?"),n={};r.length>=2&&r[1]&&r[1].split(/[&;]/g).forEach((function(e){var r=e.split("=");-1===t.indexOf(r[0].toLowerCase())&&(n[r[0]]=r[1])}));return{url:r[0],params:n}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.references,r=void 0===t?[]:t;return{wfs:l(r.filter((function(e){return e.type&&("OGC:WFS"===e.type||e.type.indexOf("OGC:WFS")>-1&&e.type.indexOf("http-get-feature")>-1)}))),wms:l(r.filter((function(e){return e.type&&("OGC:WMS"===e.type||e.type.indexOf("OGC:WMS")>-1&&e.type.indexOf("http-get-map")>-1)}))),wmts:l(r.filter((function(e){return e.type&&("OGC:WMTS"===e.type||e.type.indexOf("OGC:WMTS")>-1&&e.type.indexOf("http-get-map")>-1)}))),tms:l(r.filter((function(e){return e.type&&("OGC:TMS"===e.type||e.type.indexOf("OGC:TMS")>-1)})))}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{references:[]};return{esri:l(e.references.filter((function(e){return e.type&&("ESRI:SERVER"===e.type||"arcgis"===e.type)})))}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.references,r=void 0===t?[]:t,n=l(r.filter((function(e){return e.type&&e.type.indexOf("OGC:WMS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),o=l(r.filter((function(e){return e.type&&e.type.indexOf("OGC:WFS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),i=l(r.filter((function(e){return e.type&&e.type.indexOf("OGC:WMTS")>-1&&e.type.indexOf("http-get-capabilities")>-1}))),a=[];return n&&a.push({type:"WMS_GET_CAPABILITIES",url:n.url,labelId:"catalog.wmsGetCapLink"}),i&&a.push({type:"WMTS_GET_CAPABILITIES",url:i.url,labelId:"catalog.wmtsGetCapLink"}),o&&a.push({type:"WFS_GET_CAPABILITIES",url:o.url,labelId:"catalog.wfsGetCapLink"}),a},k=function(e){return e&&!c(e)&&-1!==e.indexOf(",")?e.split(",").map((function(e){return e.trim()})):e},N={buildSRSMap:_,removeParameters:I,getRecordLinks:D,extractOGCServicesReferences:R,extractEsriReferences:L,recordToLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wms",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.removeParams,i=void 0===n?[]:n,a=r.format,s=r.catalogURL,l=r.url,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=arguments.length>4?arguments[4]:void 0;if(!e||!e.references)return null;var d,f,m=R(e),y=m.wms,b=m.wmts,h=y||b,v=function(e){return I(S.cleanDuplicatedQuestionMarks(e),["request","layer","layers","service","version"].concat(i))},w=k(h.url);if(w&&c(w))d=w.map((function(e){return v(e)})).map((function(e){return e.url})),f=w.map((function(e){return v(e)})).map((function(e){return e.params})).reduce((function(e,t){return o(o({},e),t)}),{});else{var O=v(w||s),j=O.url,E=O.params;d=j,f=E}var x=function(e){return c(e)&&1===e.length?e[0]:e},P=x(l||d),T=_(h.SRS);return o(o(o({type:t,requestEncoding:e.requestEncoding,style:e.style,format:a,url:P,capabilitiesURL:e.capabilitiesURL,queryable:e.queryable,visibility:!0,dimensions:e.dimensions||[],name:h.params&&h.params.name,title:e.title||h.params&&h.params.name,matrixIds:"wmts"===t?e.matrixIds||[]:void 0,description:e.description||"",tileMatrixSet:"wmts"===t?e.tileMatrixSet||[]:void 0,credits:!S.getConfigProp("noCreditsFromCatalog")&&e.credits,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}},links:D(e),params:f,allowedSRS:T,catalogURL:s},u),e.layerOptions),{},{localizedLayerStyles:g(p)?void 0:p})},getCatalogRecords:function(e,t,r,n){return C[e]&&C[e](t,r,n)||null},esriToLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.references)return null;var r=L(e),n=r.esri;return o({type:n.type,url:n.url,visibility:!0,dimensions:e.dimensions||[],name:n.params&&n.params.name,bbox:{crs:e.boundingBox.crs,bounds:{minx:e.boundingBox.extent[0],miny:e.boundingBox.extent[1],maxx:e.boundingBox.extent[2],maxy:e.boundingBox.extent[3]}}},t)},tmsToLayer:function(e,t,r){var n=e.tileMapUrl,o=t.TileMap,a=void 0===o?{}:o,s=r.forceDefaultTileGrid,l=a.Title,c=a.Abstract,u=a.SRS,d=a.BoundingBox,f=void 0===d?{}:d,m=a.Origin,y=a.TileFormat,g=void 0===y?{}:y,h=a.TileSets,v=a.$,S=v.version,w=v.tilemapservice,O=b(f,"$",{}),j=O.minx,x=O.miny,P=O.maxx,T=O.maxy,M=b(m,"$"),A=M.x,C=M.y,_=b(g,"$",{}),I=_.width,R=_.height,L=_["mime-type"],D=_.extension,k=[parseFloat(I),parseFloat(R,10)],N=p(b(h,"TileSet",[]).map((function(e){return e.$}))).map((function(e){var t=e.href,r=e.order,n=e["units-per-pixel"];return{href:E(t),order:parseFloat(r),resolution:parseFloat(n)}})),F=b(h,"profile");return{title:l,visibility:!0,hideErrors:!0,name:l,allowedSRS:i({},u,!0),description:c,srs:u,version:S,tileMapService:w?E(w):void 0,type:"tms",profile:F,tileMapUrl:n,forceDefaultTileGrid:s,bbox:f&&{crs:u,bounds:{minx:parseFloat(j),miny:parseFloat(x),maxx:parseFloat(P),maxy:parseFloat(T)}},tileSets:N,origin:{x:parseFloat(A),y:parseFloat(C)},format:L,tileSize:k,extension:D}},wfsToLayer:function(e){return o({type:e.type||"wfs",search:{url:e.url,type:"wfs"},url:e.url,queryable:e.queryable,visibility:!0,name:e.name,title:e.title||e.name,description:e.description||"",bbox:e.boundingBox,links:D(e),style:{weight:1,color:"rgba(0, 0, 255, 1)",opacity:1,fillColor:"rgba(0, 0, 255, 0.1)",fillOpacity:.1,radius:10}},e.layerOptions)},tileProviderToLayer:function(e){return{type:"tileprovider",visibility:!0,url:e.url,title:e.title,attribution:e.attribution,options:e.options,provider:e.provider,name:e.provider}}};e.exports=N},"./MapStore2/web/client/utils/ColorUtils.js":function(e,t,r){var n=r("./node_modules/tinycolor2/tinycolor.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").toNumber,i={decToHex:function(e){var t=parseInt(e,10);return t=isNaN(t)?0:t,"0123456789ABCDEF".charAt(((t=t>255||t<0?0:t)-t%16)/16)+"0123456789ABCDEF".charAt(t%16)},rgbToHex:function(e,t,r){return e instanceof Array?i.rgbToHex(e[0],e[1],e[2]):"#"+i.decToHex(e)+i.decToHex(t)+i.decToHex(r)},realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,r){if(e instanceof Array)return i.rgbToHsv(e[0],e[1],e[2]);var n,o,a,s,l,c=e/255,u=t/255,p=r/255;switch(n=Math.min(Math.min(c,u),p),a=(o=Math.max(Math.max(c,u),p))-n,o){case n:s=0;break;case c:s=60*(u-p)/a,u<p&&(s+=360);break;case u:s=60*(p-c)/a+120;break;case p:s=60*(c-u)/a+240}return l=0===o?0:1-n/o,[Math.round(s),l,o]},distributedColorsHEX:function(e){for(var t=360/(e-1),r=[],n=function e(t,r,n){var o=e(t,r,n);return i.rgbToHex(o)},o=0;o<e;o++)r.push(n(t*o,.57,.63));return r},sameToneRangeColors:function(e,t,r,n){var o=e;isNaN(parseFloat(e))&&(o=i.hexToHsv(e)[0]);var a=.5/(r-1),s=t/(r-1),l=[];1===r&&(a=.5,s=t/2);for(var c=0;c<r;c++){var u=o+c*s-t/2,p=a*c+.3,d=p;n&&(u=n.h||u,p=n.s||p,d=n.v||d),l.push(i.hsvToHex(u,p,d,c))}return l},hsvToRgb:function(e,t,r){if(e instanceof Array)return i.hsvToRgb(e[0],e[1],e[2]);var n,o,a,s=Math.floor(e/60%6),l=e/60-s,c=r*(1-t),u=r*(1-l*t),p=r*(1-(1-l)*t);switch(s){case 0:n=r,o=p,a=c;break;case 1:n=u,o=r,a=c;break;case 2:n=c,o=r,a=p;break;case 3:n=c,o=u,a=r;break;case 4:n=p,o=c,a=r;break;case 5:n=r,o=c,a=u}return[i.realToDec(n),i.realToDec(o),i.realToDec(a)]},hsvToHex:function(e,t,r){var n=i.hsvToRgb(e,t,r);return i.rgbToHex(n)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var r=i.hexToRgb(t);return i.rgbToHsv(r)}return null},hexToRgb:function(e){var t,r,n,o=e;return"#"===o.charAt(0)&&(o=e.substring(1)),t=o.charAt(0)+o.charAt(1),r=o.charAt(2)+o.charAt(3),n=o.charAt(4)+o.charAt(5),[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},colorToHexStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return n(e).toHexString()},colorToRgbaStr:function(e,t,r){var i=n(e);return e&&i.setAlpha(o(void 0!==t?t:i.getAlpha())).toRgbString()||r}};e.exports=i},"./MapStore2/web/client/utils/ConfigProvider.js":function(e,t,r){"use strict";t.a={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,credits:{text:" OpenStreetMap, Open Street Map and contributors, CC-BY-SA",link:"http://www.openstreetmap.org/copyright"},attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},France:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors',credits:{text:"Map data:  OpenSeaMap contributors",link:"http://www.openseamap.org"}}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},CyclOSM:{url:"https://dev.{s}.tile.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},OpenMapSurfer:{url:"https://maps.heigit.org/openmapsurfer/tiles/{variant}/webmercator/{z}/{x}/{y}.png",options:{maxZoom:19,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> | Map data '},variants:{Roads:{options:{variant:"roads",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},Hybrid:{options:{variant:"hybrid",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},AdminBounds:{options:{variant:"adminb",maxZoom:18,attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},ContourLines:{options:{variant:"asterc",maxZoom:18,minZoom:13,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>'}},Hillshade:{options:{variant:"asterh",maxZoom:18,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>, <a href="http://srtm.csi.cgiar.org/">SRTM</a>'}},ElementsAtRisk:{options:{variant:"elements_at_risk",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',credits:{text:"Map data: OpenCycleMap contributors",link:"http://www.opencyclemap.org"},variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19,maxNativeZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19,maxNativeZoom:19}},Landscape:"landscape",Outdoors:"outdoors"}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}",options:{maxNativeZoom:18,type:"map",ext:"jpg",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["1","2","3","4"]},variants:{OSM:{},Aerial:{options:{type:"sat",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}},HybridOverlay:{options:{type:"hyb",ext:"png",opacity:.9}}}},MapBox:{url:"https://api.tiles.mapbox.com/v4/{source}/{z}/{x}/{y}.png?access_token={accessToken}",options:{maxNativeZoom:18,attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["a","b","c","d"]}},MapBoxStyle:{url:"https://api.mapbox.com/styles/v1/mapbox/{source}/tiles/{z}/{x}/{y}?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a>',subdomains:["a","b","c","d"]}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}}}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{maxNativeZoom:18,variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,maxNativeZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,maxNativeZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:["1","2","3","4"],mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,maxNativeZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:["0","1","2","3"],minZoom:2,maxZoom:18,maxNativeZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,maxNativeZoom:16,subdomains:["1","2","3","4"],bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:["a","b","c","d"],maxZoom:19,maxNativeZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,maxNativeZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,maxNativeZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}9/{z}/{y}/{x}.{format}",options:{attribution:'<span>Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.</span>',credits:{text:"Black Marble imagery courtesy NASA Earth Observatory"},bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,maxNativeZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"VIIRS_CityLights_2012",maxZoom:8,maxNativeZoom:8}},ModisTerraLSTDay:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}},ModisTerraSnowCover:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,maxNativeZoom:8,opacity:.75}},ModisTerraAOD:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}6/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,maxNativeZoom:6,opacity:.75}},ModisTerraChlorophyll:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/{variant}/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,maxNativeZoom:18,subdomains:["0","1","2","3"]},variants:{OS_1900:"NLS_API",OS_1920:"nls",OS_opendata:{url:"http://geo.nls.uk/maps/opendata/{z}/{x}/{y}.png",options:{maxZoom:16,maxNativeZoom:16}},OS_6inch_1st:{url:"http://geo.nls.uk/maps/os/six_inch/{z}/{x}/{y}.png",options:{tms:!0,minZoom:6,maxZoom:16,maxNativeZoom:16,bounds:[[49.86261,-8.66444],[60.89421,1.7785]]}},OS_6inch:"os_6_inch_gb",OS_25k:"25k",OS_npe:{url:"http://geo.nls.uk/maps/os/newpopular/{z}/{x}/{y}.png",options:{tms:!0,minZoom:3,maxZoom:15,maxNativeZoom:15}},OS_7th:"os7gb",OS_London:{options:{variant:"London_1056",minZoom:9,maxNativeZoom:9,bounds:[[51.177621,-.708618],[51.618016,.355682]]}},GSGS_Ireland:{url:"http://geo.nls.uk/maps/ireland/gsgs4136/{z}/{x}/{y}.png",options:{tms:!0,minZoom:5,maxZoom:15,maxNativeZoom:15,bounds:[[51.37178,-10.810546],[55.422779,-5.262451]]}}}},LINZ:{url:"http://tiles-{s}.data-cdn.linz.govt.nz/services;key={linzAPIkey}/tiles/v4/{variant}/{tilematrixset}/{z}/{x}/{y}.png",options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',subdomains:["a","b","c","d"],linzAPIkey:"<insert your LINZ API Key here>",variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22},variants:{nz_aerial_imagery:{options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50767",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52343",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52324",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50798",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_parcel_boundaries_wireframe:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"set=4769",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}}}},PDOK:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{attribution:'<a href="https://www.pdok.nl/introductie?articleid=1949876">BRT Achtergrondkaart</a> by <a href="https://www.kadaster.nl/">Kadaster</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>',format:"png",bounds:[[48.0405018704,-1.65729160235],[56.1105896442,12.4317272654]],minZoom:6,maxZoom:19,maxNativeZoom:19},variants:{brtachtergrondkaart:"brtachtergrondkaart",brtachtergrondkaartgrijs:"brtachtergrondkaartgrijs",brtachtergrondkaartpastel:"brtachtergrondkaartpastel",brtachtergrondkaartwater:"brtachtergrondkaartwater",luchtfotoRGB:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm RGB</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}},luchtfotoIR:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25IR",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm Infrarood</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}}}}}},"./MapStore2/web/client/utils/ElevationUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),o=r("./node_modules/lrucache/index.js"),i=r("./node_modules/es6-promise/dist/es6-promise.js").Promise,a=new o(100),s=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,i=n*e+r;try{var a=t.dataView.getInt16(2*i,!1);if(a!==o&&32767!==a&&-32768!==a)return a}catch(e){}return null};e.exports={loadTile:function(e,t,r){return a.has(r)?null:new i((function(o,i){n.get(e,{responseType:"arraybuffer"}).then((function(e){!function(e,t,r){a.set(r,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})}(e.data,t,r),o()})).catch((function(e){!function(e,t,r){a.set(r,{coords:t,current:!0,status:"error: "+e})}(e.message,t,r),i(e)}))}))},getElevation:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,o=a.get(e);return o&&"success"===o.status?{available:!0,value:s(r,o,t.x,t.y,n)}:o&&"loading"===o.status?{available:!1,message:"elevationLoading"}:o&&"error"===o.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a=new o(e.max||100)}}},"./MapStore2/web/client/utils/FeatureGridEditorUtils.js":function(e,t){e.exports={forceSelection:function(e){var t=e.oldValue,r=e.changedValue,n=e.data;return e.allowEmpty&&""===r?"":-1!==n.indexOf(r)?r:t}}},"./MapStore2/web/client/utils/FeatureGridUtils.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.get,u=l.findIndex,p=l.isNil,d=l.fill,f=l.isArray,m=r("./MapStore2/web/client/utils/ogc/WFS/base.js"),y=m.getFeatureTypeProperties,b=m.isGeometryType,g=m.isValid,h=m.isValidValueForPropertyName,v=m.findGeometryProperty,S=m.getPropertyDesciptor,w=function(e,t){return"geometry"===e?function(e){return c(v(e),"name")}(t):e},O=function(e,t,r){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return u(e,(function(e){return e<=r&&r<e+t}))}(t,r,e);return-1===n?n:n*r+e-t[n]},j={id:"empty_row",get:function(){}},E=function(e,t){var r=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,r){return a(a({},e),{},s({},r,t[r]))}),{}),n=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,r){return a(a({},e),{},s({},r,t[r]))}),{});return a(a(a({},e),n),{},{properties:a(a({},e&&e.properties||{}),r)})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=u(e,t);return o>=0?e.map((function(e,t){return t===o?r:e})):[].concat(n(e),[r])},P=function(e){return(y(e)||[]).filter((function(e){return!b(e)}))},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return r<=t&&t<=n?0:Math.abs(t-e)})).reduce((function(e,t,r,n){return t>n[e]&&r||e}),0)},M=function(e,t){return t.filter((function(t,r){return r!==e}))},A=function(e,t,r){return e.filter((function(e,n){return n<t||n>=t+r}))},C=function(e,t,r,n){for(var o,i,a=e;a<=t&&void 0===o;a++)-1===O(a*n,r,n)&&(o=a);for(var s=t;s>=e&&void 0===i;s--)-1===O(s*n,r,n)&&(i=s);return[o,i].filter((function(e){return void 0!==e}))};e.exports={getAttributeFields:P,featureTypeToGridColumns:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.editable,o=void 0!==n&&n,i=r.sortable,a=void 0===i||i,s=r.resizable,l=void 0===s||s,c=r.filterable,u=void 0===c||c,p=r.defaultSize,d=void 0===p?200:p,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=f.getEditor,y=void 0===m?function(){}:m,b=f.getFilterRenderer,g=void 0===b?function(){}:b,h=f.getFormatter,v=void 0===h?function(){}:h;return P(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:a,key:e.name,width:t[e.name]&&t[e.name].width||d||void 0,name:t[e.name]&&t[e.name].label||e.name,resizable:l,editable:o,filterable:u,editor:y(e),formatter:v(e),filterRenderer:g(e,e.name)}}))},getRow:function(e,t){return t[e]},getRowVirtual:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return t[O(e,r,n)]||a({},j)},getToolColumns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=v(r);return e.map((function(e){return a(a({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,i){return a(a({},o),{},s({},i,(function(o,a){return e.events[i](t(a.rowIdx),a,r,n)})))}),{})},"geometry"===e.key&&i?{filterRenderer:o(a(a({},i),{},{localType:"geometry"}),i.name),filterable:!0,geometryPropName:i.name}:{})}))},getGridEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(i,l){return a(a({},i),{},s({},l,(function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e[l].apply(e,a.concat([t,r,n,o]))})))}),{})},isProperty:function(e,t){return!!S(e,t)},isValidValueForPropertyName:function(e,t,r){return h(e,w(t,r),r)},getDefaultFeatureProjection:function(){return"EPSG:4326"},toChangesMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f(e)?e.reduce((function(e,t){return a(a({},e),{},s({},t.id,a(a({},e[t.id]),t.updated)))}),{}):{}},createNewAndEditingFilter:function(e,t,r){return function(n){return t.length>0?n._new:!e||e&&!!r[n.id]}},hasValidNewFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){return g(e,t)})).reduce((function(e,t){return t&&e}),!0)},applyAllChanges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E(e,t[e.id]||{})},applyChanges:E,gridUpdateToQueryUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attribute,r=e.operator,n=e.value,o=e.type,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(a({},i),{},{groupFields:[{id:1,logic:"AND",index:0}],filterFields:"geometry"===o?i.filterFields:p(n)?(i.filterFields||[]).filter((function(e){return e.attribute!==t})):x(i.filterFields||[],{attribute:t},{attribute:t,rowId:Date.now(),type:o,groupId:1,operator:r,value:n}),spatialField:"geometry"===o?n:i.spatialField})},toPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,r=void 0===t?0:t,n=e.maxFeatures,o=void 0===n?1:n,i=e.totalFeatures,a=void 0===i?0:i,s=e.resultSize;return{page:Math.ceil(r/o),resultSize:s,size:o,total:a,maxPages:Math.ceil(a/o)-1}},getCurrentPaginationOptions:function(e,t,r){var n=e.startPage,o=e.endPage,i=C(n,o,t,r),a=i[1]-i[0]+1;return{startIndex:i[0]*r,maxFeatures:a*r}},updatePages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.endPage,n=t.startPage,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.pages,a=o.features,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=s.size,u=s.maxStoredPages,p=s.startIndex,f=C(n,r,i,l),m=f[1]-f[0]+1,y=c(e,"features",[]);y.length!==m*l&&(y=y.concat(d(Array(m*l-y.length>0?m*l-y.length:y.length),!1)));var b=i,g=a,h=b.length+m-Math.max(u,r-n+1);if(h>0)for(var v=n*l,S=r*l,w=v+(S-v)/2,O=0;O<h;O++){var j=T(w,i,v,S),E=j*l;b=M(j,b),g=A(a,E,l)}for(var x=[],P=0;P<m;P++)x.push(p+l*P);return{pages:b.concat(x),features:g.concat(y)}},getRowIdx:O,getPagesToLoad:C}},"./MapStore2/web/client/utils/FeatureTypeUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").get,o={"xsd:normalizedString":"string","xsd:string":"string","xsd:date":"date","xsd:dateTime":"date","xsd:date-time":"date-time","xsd:time":"time","xsd:decimal":"number","xsd:int":"number","xsd:integer":"number","xsd:long":"number","xsd:negativeInteger":"number","xsd:nonNegativeInteger":"number","xsd:nonPositiveInteger":"number","xsd:positiveInteger":"number","xsd:short":"number","xsd:unsignedLong":"number","xsd:unsignedInt":"number","xsd:unsignedShort":"number","xsd:number":"number","xsd:boolean":"boolean","xsd:double":"number","xsd:float":"number"};e.exports={describeFeatureTypeToAttributes:function(e){return n(e,"featureTypes[0].properties").filter((function(e){return 0!==e.type.indexOf("gml:")&&o[e.type]})).map((function(e){return{label:e.name,attribute:e.name,type:o[e.type],valueId:"id",valueLabel:"name",values:[]}}))}}},"./MapStore2/web/client/utils/FileUtils.js":function(e,t,r){var n=r("./node_modules/file-saver/FileSaver.js"),o=r("./node_modules/canvas-to-blob/index.js"),i=r("./node_modules/shpjs/lib/index.js"),a=r("./node_modules/@mapbox/togeojson/togeojson.js"),s=r("./node_modules/jszip/lib/index.js"),l=r("./node_modules/es6-promise/dist/es6-promise.js").Promise,c=new DOMParser,u=r("./node_modules/object-assign/index.js"),p=r("./node_modules/@mapbox/geojsonhint/lib/object.js").hint,d=r("./MapStore2/web/client/utils/ogc/WMC/index.js").toMapConfig,f={MIME_LOOKUPS:{avi:"video/avi",gpx:"application/gpx+xml",kmz:"application/vnd.google-earth.kmz",kml:"application/vnd.google-earth.kml+xml",zip:"application/zip",json:"application/json",geojson:"application/json",wmc:"application/vnd.wmc"},recognizeExt:function(e){return e.split(".").slice(-1)[0]},download:function(e,t,r){var o=new Blob([e],{type:r});n.saveAs(o,t)},downloadCanvasDataURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"snapshot.png",r=arguments.length>2?arguments[2]:void 0;f.download(o(e),t,r)},shpToGeoJSON:function(e){return[].concat(i.parseZip(e))},kmlToGeoJSON:function(e){var t=function(e){return[].slice.call(e.documentElement.getElementsByTagName("StyleMap")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("Style")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("LineStyle")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("PointStyle")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("PolyStyle")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("IconStyle")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("LabelStyle")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("ListStyle")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("BallonStyle")).map((function(e){return e.parentNode.removeChild(e)})),[].slice.call(e.documentElement.getElementsByTagName("styleUrl")).map((function(e){return e.parentNode.removeChild(e)})),e}(e);return[].concat(a.kml(t)).map((function(e){return u({},e,{fileName:t.getElementsByTagName("name")[0].innerHTML})}))},gpxToGeoJSON:function(e,t){return[].concat(a.gpx(e)).map((function(r){return u({},r,{fileName:e.getElementsByTagName("name")[0]&&e.getElementsByTagName("name")[0].innerHTML||t})}))},readZip:function(e){return new l((function(t,r){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(){r(n.error.name)},n.readAsArrayBuffer(e)}))},readKml:function(e){return new l((function(t,r){var n=new FileReader;n.onload=function(){t(c.parseFromString(n.result,"text/xml"))},n.onerror=function(){r(n.error.name)},n.readAsText(e)}))},readJson:function(e){return new l((function(t,r){var n=new FileReader;n.onload=function(){try{t(JSON.parse(n.result))}catch(e){r(e)}},n.onerror=function(){r(n.error.name)},n.readAsText(e)}))},readKmz:function(e){var t=new s;return new l((function(r,n){t.loadAsync(e).then((function(e){e.filter((function(e){return-1!==e.indexOf("kml")})).forEach((function(e){return e.async("string").then((function(e){r(c.parseFromString(e,"text/xml"))})).catch((function(e){n(e.message)}))}))}))}))},readGeoJson:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new l((function(r,n){var o=new FileReader;o.onload=function(){try{var e=JSON.parse(o.result);r({geoJSON:e,errors:p(e).filter((function(e){return t||"message"!==e.level}))})}catch(e){n(e)}},o.onerror=function(){n(o.error.name)},o.readAsText(e)}))},readWMC:function(e){return new l((function(t,r){var n=new FileReader;n.onload=function(){d(n.result,!0).then((function(e){return t(e)})).catch((function(e){return r(e)}))},n.onerror=function(){r(n.error.name)},n.readAsText(e)}))},checkShapePrj:function(e){var t=new s;return new l((function(r){t.loadAsync(e).then((function(e){var t=e.files,n=void 0===t?{}:t,o=Object.keys(n).filter((function(e){return!n[e].dir&&0!==e.indexOf("__MACOSX")&&e.indexOf(".shp")===e.length-4})).map((function(e){return e.slice(0,-4)})).reduce((function(e,t){return e.concat(!n["".concat(t,".prj")]&&t||[])}),[]);r(o)}))}))}};e.exports=f},"./MapStore2/web/client/utils/GeoCodeUtils.js":function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i={nominiatimIndexToBboxIndex:function(e){switch(e){case 0:return 1;case 1:return 3;case 2:return 0;case 3:return 2;default:return-1}},nominatimToGeoJson:function(e){return null===e?[]:e.map((function(e){return{properties:n({},e),id:e.osm_id,type:"Feature",bbox:e.boundingbox.map((function(e){return parseFloat(e)})).reduce((function(e,t,r){return e[i.nominiatimIndexToBboxIndex(r)]=t,e}),[]),geometry:e.geojson||{type:"Point",coordinates:[parseFloat(e.lon),parseFloat(e.lat)]}}}))},nominatimToLayer:function(e,t){return{type:"vector",visibility:!0,name:e||"Search Results",styleName:"marker",features:i.nominatimToGeoJson(t)}}};e.exports=i},"./MapStore2/web/client/utils/GeoStoryUtils.js":function(e,t,r){"use strict";r.d(t,"d",(function(){return A})),r.d(t,"i",(function(){return C})),r.d(t,"h",(function(){return _})),r.d(t,"a",(function(){return I})),r.d(t,"g",(function(){return R})),r.d(t,"e",(function(){return L})),r.d(t,"f",(function(){return D})),r.d(t,"b",(function(){return k})),r.d(t,"x",(function(){return N})),r.d(t,"p",(function(){return F})),r.d(t,"t",(function(){return G})),r.d(t,"v",(function(){return U})),r.d(t,"z",(function(){return B})),r.d(t,"j",(function(){return W})),r.d(t,"k",(function(){return V})),r.d(t,"n",(function(){return q})),r.d(t,"q",(function(){return Y})),r.d(t,"r",(function(){return Z})),r.d(t,"s",(function(){return Q})),r.d(t,"o",(function(){return K})),r.d(t,"w",(function(){return X})),r.d(t,"u",(function(){return J})),r.d(t,"y",(function(){return $})),r.d(t,"l",(function(){return ee})),r.d(t,"m",(function(){return te})),r.d(t,"c",(function(){return re}));var n=r("./MapStore2/node_modules/lodash/get.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/findIndex.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/toPath.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/isArray.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/values.js"),d=r.n(p),f=r("./MapStore2/node_modules/lodash/filter.js"),m=r.n(f),y=r("./MapStore2/node_modules/lodash/merge.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/isString.js"),h=r.n(g),v=r("./MapStore2/node_modules/lodash/isObject.js"),S=r.n(v),w=r("./MapStore2/node_modules/lodash/includes.js"),O=r.n(w),j=r("./MapStore2/node_modules/lodash/replace.js"),E=r.n(j),x=r("./node_modules/uuid/index.js"),P=r.n(x);function T(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A="EMPTY_CONTENT",C={CASCADE:"cascade"},_={TITLE:"title",PARAGRAPH:"paragraph",IMMERSIVE:"immersive",BANNER:"banner"},I={TEXT:"text",MEDIA:"media",WEBPAGE:"webPage",COLUMN:"column"},R={MEDIA:"template-media",WEBPAGE:"template-web-page"},L={IMAGE:"image",MAP:"map",VIDEO:"video"},D={EDIT:"edit",VIEW:"view"},k={SHOW_SAVE:"save.show",LOADING:"loading"},N={StoryTypes:d()(C),SectionTypes:d()(_),MediaTypes:d()(L),Modes:d()(D)},F=function(e){var t=e.theme,r=void 0===t?{}:t,n=e.align,o=void 0===n?"center":n,i=e.size,a=void 0===i?"full":i,s=(null==r?void 0:r.value)||h()(r)&&r,l=s&&"custom"!==s&&h()(s)&&" ms-".concat(s)||"",c=" ms-align-".concat(o),u=" ms-size-".concat(a);return"".concat(l).concat(c).concat(u)},G=function(e){var t=e.theme,r=void 0===t?{}:t,n=e.storyTheme;if(""===r||""===(null==r?void 0:r.value))return S()(n)?n:{};var o=null==r?void 0:r.value,i=null==r?void 0:r[o];return S()(i)&&i||{}},U=function(e){return e.type===_.PARAGRAPH&&e&&u()(e.contents)&&e.contents.length&&u()(e.contents[0].contents)&&e.contents[0].contents.length&&e.contents[0].contents[0].type===I.MEDIA},B=function(e,t){var r=document.getElementById(e);r&&r.scrollIntoView(t)},z={zoomControl:!0,mapInfoControl:!1,mapOptions:{scrollWheelZoom:!1,interactions:{mouseWheelZoom:!1,dragPan:!0}}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b()({},z,e)},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b()({},e,t)},H=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RegExp(t,"i");return!t||r.test(e)},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RegExp(t,"i");return m()(e,(function(e){return H(e.data&&(e.data.title||e.data.name),t,r)||H(e.data&&e.data.description,t,r)}))},Y=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};switch(t){case _.TITLE:return{id:P()(),type:_.TITLE,title:r("geostory.builder.defaults.titleTitle"),cover:!1,contents:[{id:P()(),type:I.TEXT,html:"",size:"large",align:"center",theme:"",background:{fit:"cover",size:"full",align:"center"}}]};case _.BANNER:return{id:P()(),type:_.BANNER,title:r("geostory.builder.defaults.titleBanner"),cover:!1,contents:[{id:P()(),background:{fit:"cover",size:"full",align:"center"}}]};case _.PARAGRAPH:return{id:P()(),type:_.PARAGRAPH,title:r("geostory.builder.defaults.titleParagraph"),contents:[{id:P()(),type:I.COLUMN,size:"full",align:"center",contents:[{id:P()(),type:I.TEXT,html:""}]}]};case _.IMMERSIVE:return{id:P()(),type:_.IMMERSIVE,title:r("geostory.builder.defaults.titleImmersive"),contents:[e(I.COLUMN,r)]};case R.MEDIA:return{id:P()(),type:_.PARAGRAPH,title:r("geostory.builder.defaults.titleMedia"),contents:[{id:P()(),type:I.COLUMN,contents:[{id:P()(),type:I.MEDIA,size:"large",align:"center"}]}]};case R.WEBPAGE:return{id:P()(),type:_.PARAGRAPH,title:r("geostory.builder.defaults.titleWebPageSection"),contents:[{id:P()(),type:I.COLUMN,contents:[{id:P()(),type:I.WEBPAGE,size:"medium",align:"center"}]}]};case I.COLUMN:return{id:P()(),type:I.COLUMN,align:"left",size:"small",theme:"",title:r("geostory.builder.defaults.titleImmersiveContent"),contents:[{id:P()(),type:I.TEXT,html:""}],background:{fit:"cover",size:"full",align:"center"}};case I.TEXT:return{id:P()(),type:I.TEXT,title:r("geostory.builder.defaults.titleText"),html:""};case I.IMAGE:return{id:P()(),type:t,title:r("geostory.builder.defaults.titleMedia"),size:"full",align:"center"};case I.WEBPAGE:return{id:P()(),type:t,title:r("geostory.builder.defaults.titleWebPage"),size:"medium",align:"center"};case I.MEDIA:return{id:P()(),type:t,title:r("geostory.builder.defaults.titleUnknown"),size:"large",align:"center"};default:return{id:P()(),type:t,title:r("geostory.builder.defaults.titleUnknown"),size:"full",align:"center"}}},Z=function(e,t){return l()(e).reduce((function(e,r){if(r&&0===r.indexOf("{")){var n=JSON.parse(r),i=o()(t,e),s=a()(i,n);return s>=0?[].concat(T(e),[s]):e}return[].concat(T(e),[r])}),[])},Q=function(e,t){return l()(e).reduce((function(e,r){var n=e.path,i=e.flatPath;if(r&&0===r.indexOf("{")){var s=JSON.parse(r),l=o()(t,n),c=a()(l,s);if(c>=0){var u=l[c],p=u.id,d=u.type;return{path:[].concat(T(n),[c]),flatPath:[].concat(T(i),[{id:p,type:n[n.length-1],contentType:d}])}}return{path:n,flatPath:i}}return{path:[].concat(T(n),[r]),flatPath:i}}),{path:[],flatPath:[]})},K=function(e,t){return e.reduce((function(e,r){return O()(r.contents.map((function(e){return e.id})),t)?r.id:e}),null)},X=function(e){return e.type===_.PARAGRAPH&&!1!==e.editURL&&e&&u()(e.contents)&&e.contents.length&&u()(e.contents[0].contents)&&e.contents[0].contents.length&&e.contents[0].contents[0].type===I.WEBPAGE&&!1!==e.contents[0].contents[0].editURL},J=function(e,t){if(t)switch(e){case"small":return.4*t;case"medium":return.6*t;case"large":return.8*t;default:return t}return 0},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i="EMPTY";if(!t.includes(r))return null;var a=t.substring(t.indexOf(r)).split("/");return n&&r?a.length>1&&a[2]&&Number(a[0])===r?5===a.length?E()(e,"".concat(a[2],"/column/").concat(a[4]),"".concat(n)):E()(e,"".concat(a[2]),"".concat(n)):(t.includes("shared"),""!==a[1]?"".concat(e,"/section/").concat(n):"".concat(e,"section/").concat(n)):!n&&o&&h()(o)&&o!==i&&a.length>1?t.includes("shared")&&!a[2]?e:5===a.length?E()(e,"".concat(a[4]),"".concat(o)):"".concat(e,"/column/").concat(o):null},ee=function(e,t,r){var n={active:t,inactive:r,custom:{families:[],urls:[]}};return e.filter((function(e){return!!e.src})).forEach((function(e,t){n.custom.families[t]=e.family,n.custom.urls[t]=e.src})),n},te=function(e){return e.map((function(e){return e.family}))},re=["inherit","Arial","Georgia","Impact","Tahoma","Times New Roman","Verdana"]},"./MapStore2/web/client/utils/GraphUtils.js":function(e,t){var r=function(e,t,r){var n,o,i=[],a=[],s=e;for(i.push(s);i.length>0;)if(!r[s=i.shift()])for(r[s]=!0,a.push(s),n=0;n<t.length;n+=1)(o=t[n])[0]!==s||r[o[1]]?o[1]!==s||r[o[0]]||i.push(o[0]):i.push(o[1]);return a};e.exports={bfs:r,findGroups:function(e){for(var t={},n=[],o=0,i=e.length;o<i;o+=1){var a=e[o],s=a[0],l=a[1],c=null;t[s]?t[l]||(c=l):c=s,c&&n.push(r(c,e,t))}return n}}},"./MapStore2/web/client/utils/IdentifyUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getFormatForResponse",(function(){return a})),r.d(t,"responseValidForEdit",(function(){return s}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/FeatureInfoUtils.js"),i=r.n(o),a=function(e,t){var r=e.format,n=e.queryParams,o=void 0===n?{}:n;return o.info_format||o.outputFormat||r&&i.a.INFO_FORMATS[r]||t.format},s=function(e){return!!Object(n.get)(e,"layer.search.url")}},"./MapStore2/web/client/utils/MarkerUtils.js":function(module,exports,__webpack_require__){function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var csstree=__webpack_require__("./node_modules/css-tree/lib/index.js"),assign=__webpack_require__("./node_modules/object-assign/index.js"),css={fontawesome:__webpack_require__("./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt")},baseImageUrl=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"),shadowImageUrl=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png"),baseImage=new Image,shadowImage=new Image;baseImage.src=baseImageUrl,shadowImage.src=shadowImageUrl;var getNodeOfType=function e(t,r){return r(t)?t:t.children?t.children.reduce((function(t,n){return e(n,r)||t}),null):null},glyphs={},loadGlyphs=function loadGlyphs(font){var parsedCss=csstree.toPlainObject(csstree.parse(css[font]));return parsedCss.children.reduce((function(previous,rule){if(rule.prelude){var classSelector=getNodeOfType(rule.prelude,(function(e){return"ClassSelector"===e.type})),pseudoClassSelector=getNodeOfType(rule.prelude,(function(e){return"PseudoClassSelector"===e.type}));if(classSelector&&classSelector.name&&0===classSelector.name.indexOf("fa-")&&pseudoClassSelector&&"before"===pseudoClassSelector.name){var text=getNodeOfType(getNodeOfType(rule.block,(function(e){return"Declaration"===e.type&&"content"===e.property})).value,(function(e){return"String"===e.type})).value;return assign(previous,_defineProperty({},classSelector.name.substring(3),eval("'\\u"+text.substring(2,text.length-1)+"'")))}}return previous}),{})},extraMarkers={size:[36,46],colors:["red","orange-dark","orange","yellow","blue-dark","blue","cyan","purple","violet","pink","green-dark","green","green-light","black"],shapes:["circle","square","star","penta"],icons:[baseImageUrl,shadowImageUrl],images:[shadowImage,baseImage]},getOffsets=function(e,t){return[-extraMarkers.colors.indexOf(e)*extraMarkers.size[0]-2,-extraMarkers.shapes.indexOf(t)*extraMarkers.size[1]]},MarkerUtils={extraMarkers:assign({},extraMarkers,{getOffsets:getOffsets,markerToDataUrl:function(e){var t=e.iconColor,r=e.iconShape,n=e.iconGlyph;if(MarkerUtils.extraMarkers.images){var o=document.createElement("canvas"),i=extraMarkers.size;o.width=i[0],o.height=i[1];var a=o.getContext("2d"),s=getOffsets(t,r);a.drawImage(extraMarkers.images[0],4,31,35,16),a.drawImage(extraMarkers.images[1],Math.abs(s[0]),Math.abs(s[1]),i[0],i[1],0,0,i[0],i[1]),a.font="14px FontAwesome",a.fillStyle="rgb(255,255,255)",a.textBaseline="middle",a.textAlign="center",a.fillText(MarkerUtils.getGlyphs("fontawesome")[n]||"",i[0]/2-2,i[1]/2-7);var l=o.toDataURL("image/png");return o=null,l}return null},matches:function(e,t){return e.iconColor===t.color&&e.iconShape===t.shape},getStyle:function(e){return{iconColor:e.color,iconShape:e.shape}},getGrid:function(){return extraMarkers.shapes.map((function(e){return{name:e,markers:extraMarkers.colors.map((function(t){return{name:t,width:extraMarkers.size[0],height:extraMarkers.size[1],offsets:getOffsets(t,e),style:{color:t,shape:e},thumbnailStyle:{backgroundImage:"url("+extraMarkers.icons[0]+")",width:extraMarkers.size[0]+"px",height:extraMarkers.size[1]+"px",backgroundPositionX:getOffsets(t,e)[0],backgroundPositionY:getOffsets(t,e)[1],cursor:"pointer"}}}))}}))}}),getGlyphs:function(e){return glyphs[e]||(glyphs[e]=loadGlyphs(e)),glyphs[e]}};MarkerUtils.markers={extra:MarkerUtils.extraMarkers},module.exports=MarkerUtils},"./MapStore2/web/client/utils/MeasureUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.isArray,i=n.head,a=n.isNaN;function s(e){var t=Math.floor(e),r=60*(e-t),n=Math.floor(r),o=60*(r-n);return t+" "+n+"' "+Math.floor(o)+"'' "}var l={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};var c=function(e){return!a(parseFloat(e[0]))&&!a(parseFloat(e[1]))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type,n=t;if("LineString"===r){if((n=t.filter(c)).length<2)return[]}else if("Polygon"===r){if((n=i(t).filter(c)).length<3)return[[]];n=[n.concat([i(n)])]}return n};e.exports={validateFeatureCoordinates:u,isValidGeometry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type;if(!r||!t||t&&o(t)&&0===t.length)return!1;var n=u({coordinates:t,type:r});return(n="Polygon"===r?i(n):n).length>0},convertUom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return l[t]&&l[t][r]?e*l[t][r]:e},getFormattedBearingValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.measureTrueBearing,n=void 0!==r&&r,o=t.fractionDigits,i=void 0===o?0:o,a="";if(n){var l="";e>=0&&e<10?l="00":e>10&&e<100&&(l="0");var c=i>0?e.toFixed(i):Math.floor(e);a=l+c+" T"}else e>=0&&e<90?a="N "+s(e)+"E":e>90&&e<=180?a="S "+s(180-e)+"E":e>180&&e<270?a="S "+s(e-180)+"W":e>=270&&e<=360&&(a="N "+s(360-e)+"W");return a},degToDms:s}},"./MapStore2/web/client/utils/MeasurementUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"MEASURE_TYPE",(function(){return m})),r.d(t,"getGeomTypeSelected",(function(){return b})),r.d(t,"convertMeasuresToGeoJSON",(function(){return v}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./node_modules/uuid/v1.js"),i=r.n(o),a=r("./MapStore2/web/client/utils/AnnotationsUtils.js"),s=r("./MapStore2/web/client/utils/MeasureUtils.js"),l=r("./MapStore2/web/client/utils/CoordinatesUtils.js");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m="Measure",y=function(e,t){return{length:Object(n.round)(Object(s.convertUom)(t,"m",e.length.label)||0,2)+" "+e.length.label,area:Object(n.round)(Object(s.convertUom)(t,"sqm",e.area.label)||0,2)+" "+e.area.label,bearing:Object(s.getFormattedBearingValue)(Object(n.round)(t||0,6)).toString()}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(n.uniq)(e.map((function(e){return"LineString"===e.geometry.type&&"bearing"===Object(n.get)(e,"properties.values[0].type","")?"Bearing":e.geometry.type})))},g={offsetY:1,fontSize:"10",fontSizeUom:"px",fontFamily:"Courier New",font:"10px Courier New",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},h={offsetY:-15,fontSize:"13",fontSizeUom:"px",fontFamily:"Courier New",font:"13px Courier New",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},v=function(e,t,r,o,c,p){var f,b,v=(f=e,(b=Object(n.uniq)(f.map((function(e){return Object(n.get)(e,"properties.values[0].type","")})))).length>1?{title:"Multiple Measurement",iconGlyph:"geometry-collection"}:{title:m+" "+Object(n.startCase)(b[0]),iconGlyph:"1-measure-"+b[0]});return{type:"FeatureCollection",features:[].concat(d(Object(n.flatten)(e.map((function(e){return function(e,t,r){var n,o=r||h;return[{type:"Feature",geometry:{type:e.geometry.type,coordinates:Object(s.validateFeatureCoordinates)(e.geometry),textLabels:e.geometry.textLabels},properties:{id:i()(),isValidFeature:!0,geometryGeodesic:"LineString"===e.geometry.type?{type:"LineString",coordinates:Object(l.transformLineToArcs)(e.geometry.coordinates)}:null,useGeodesicLines:"LineString"===e.geometry.type,values:(null===(n=e.properties)||void 0===n?void 0:n.values)||[]},style:[u(u({},a.DEFAULT_ANNOTATIONS_STYLES[e.geometry.type]),{},{type:e.geometry.type,id:i()(),geometry:"LineString"===e.geometry.type?"lineToArc":null,title:"".concat(e.geometry.type," Style"),filtering:!0})].concat("LineString"===e.geometry.type?Object(a.getStartEndPointsForLinestring)():[])}].concat(d(e.properties.values.map((function(e){var r=e.value,n=e.formattedValue,a=e.type;return{type:"Feature",geometry:{type:"Point",coordinates:e.position},properties:{valueText:n||y(t,r)[a],isText:!0,isValidFeature:!0,id:i()()},style:u(u({},o),{},{id:i()(),filtering:!0,title:"Text Style",type:"Text"})}}))))}(e,r,p)})))),d(t.filter((function(e){return!!e})).map((function(e){var t=e.text;return{type:"Feature",geometry:{type:"Point",coordinates:e.position},properties:{valueText:t,isValidFeature:!0,isText:!0,id:i()()},style:u(u({},g),{},{id:i()(),filtering:!0,title:"Text Style",type:"Text"})}})))),properties:{id:o,description:c,type:m,title:v.title,iconGlyph:v.iconGlyph},style:{}}}},"./MapStore2/web/client/utils/PopupUtils.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r("./node_modules/uuid/index.js"),o=r.n(n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms-map-popup",r=document.createElement("div");return r.setAttribute("id",e+"-map-popup"),r.setAttribute("class",t),r},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("<")},s=function(e,t){if(!t)return e;if(t instanceof Node){var r=document.createDocumentFragment();r.appendChild(t),e.appendChild(r)}else a(t)?e.innerHTML=t:e.append(document.createTextNode(String(t)));return e}},"./MapStore2/web/client/utils/ProxyUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/ConfigUtils.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),i=o.isArray,a=o.isObject,s={needProxy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(e))return e.reduce((function(e,t){return s.needProxy(t)&&e}),!0);var r=!1,o=!(0===e.indexOf("http")),l=!o&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(l){var c=window.location;o=l[1]===c.protocol&&l[3]===c.hostname;var u=l[4],p=c.port;(80!==u&&""!==u||"80"!==p&&""!==p)&&(o=o&&u===p)}if(!o){var d=n.getProxyUrl(t);if(d){var f=[];a(d)&&(f=d.useCORS||[],d=d.url);var m=f.reduce((function(t,r){return t||0===e.indexOf(r)}),!1);m||(r=!0)}}return r},getProxyUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.getProxyUrl(e);return t&&a(t)&&(t=t.url),t}};e.exports=s},"./MapStore2/web/client/utils/ReselectUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=n.isEqualWith,i=n.isObject,a=r("./node_modules/reselect/es/index.js"),s=a.defaultMemoize,l=a.createSelectorCreator,c=function(e,t){return e===t},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(t,r){return Array.isArray(t)&&Array.isArray(r)?t===r||t.length===r.length&&t.reduce((function(t,n,o){return t&&e(n,r[o])}),!0):i(t)&&i(r)?t===r||Object.keys(t).length===Object.keys(r).length&&Object.keys(t).reduce((function(n,o){return n&&e(t[o],r[o])}),!0):t===r}},p=l(s,(function(e,t){return o(e,t,u())}));e.exports={createShallowSelector:p,createShallowSelectorCreator:function(e){return l(s,(function(t,r){return o(t,r,u(e))}))}}},"./MapStore2/web/client/utils/StyleEditorUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"STYLE_ID_SEPARATOR",(function(){return k})),r.d(t,"STYLE_OWNER_NAME",(function(){return N})),r.d(t,"generateTemporaryStyleId",(function(){return B})),r.d(t,"generateStyleId",(function(){return z})),r.d(t,"extractFeatureProperties",(function(){return W})),r.d(t,"getEditorMode",(function(){return V})),r.d(t,"isSameOrigin",(function(){return H})),r.d(t,"getStyleTemplates",(function(){return q})),r.d(t,"setCustomUtils",(function(){return Y})),r.d(t,"getNameParts",(function(){return Z})),r.d(t,"stringifyNameParts",(function(){return Q})),r.d(t,"filterObjectToFilterArray",(function(){return K})),r.d(t,"filterArrayToFilterObject",(function(){return X})),r.d(t,"parseJSONStyle",(function(){return J})),r.d(t,"formatJSONStyle",(function(){return $}));var n=r("./MapStore2/node_modules/lodash/head.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/get.js"),a=r.n(i),s=r("./MapStore2/node_modules/lodash/isArray.js"),l=r.n(s),c=r("./MapStore2/node_modules/lodash/isString.js"),u=r.n(c),p=r("./MapStore2/node_modules/lodash/flatten.js"),d=r.n(p),f=r("./MapStore2/node_modules/lodash/isNil.js"),m=r.n(f),y=r("./MapStore2/node_modules/lodash/omit.js"),b=r.n(y),g=r("./MapStore2/node_modules/lodash/omitBy.js"),h=r.n(g),v=r("./MapStore2/node_modules/lodash/isUndefined.js"),S=r.n(v),w=r("./node_modules/uuid/v1.js"),O=r.n(w),j=r("./node_modules/url/url.js"),E=r.n(j);function x(e){return function(e){if(Array.isArray(e))return e}(e)||M(e)||T(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){return function(e){if(Array.isArray(e))return A(e)}(e)||M(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function M(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=r("./MapStore2/web/client/utils/styleeditor/stylesTemplates.js"),L=R.baseTemplates,D=R.customTemplates,k="___",N="styleeditor",F={},G={css:"geocss",sld:"xml"},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type&&e.type.localPart&&e.type.localPart.toLowerCase()||"";return-1!==t.indexOf("polygon")||-1!==t.indexOf("surface")?"polygon":-1!==t.indexOf("linestring")?"linestring":-1!==t.indexOf("point")?"point":"vector"},B=function(){return"".concat(O()(),"_ms_").concat(Date.now().toString())},z=function(e){var t=e.title;return"".concat((void 0===t?"":t).toLowerCase().replace(/\s/g,"_")).concat(k).concat(O()())},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.describeLayer,r=void 0===t?{}:t,n=e.describeFeatureType,i=void 0===n?{}:n,s=r&&r.owsType||null,l=a()(i,"complexType[0].complexContent.extension.sequence.element")||null,c=l&&o()(l.filter((function(e){var t=e.type;return t&&"gml"===t.prefix}))),u=("WCS"===s?"raster":c&&"WFS"===s&&U(c))||null,p="raster"===u?r.bands:l&&l.reduce((function(e,t){var r=t.name,n=t.type,o=void 0===n?{}:n;return _(_({},e),{},I({},r,{localPart:o.localPart,prefix:o.prefix}))}),{});return{geometryType:u,properties:p,owsType:s}},V=function(e){return G[e]||e},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(F.isSameOrigin)return F.isSameOrigin(e,t);if(!t.baseUrl||!e.url)return!1;var r=[t.baseUrl].concat(P(t.availableUrls||[])),n=r.map((function(e){var t=E.a.parse(e);return"".concat(t.protocol,"//").concat(t.host)})),o=E.a.parse(e.url),i="".concat(o.protocol,"//").concat(o.host);return-1!==n.indexOf(i)},q=function(){if(F.getStyleTemplates){var e=F.getStyleTemplates();return[].concat(P(l()(e)?e:[]),P(L))}return[].concat(P(D),P(L))},Y=function(e,t){F[e]=t},Z=function(e){var t=u()(e)&&e.split(":")||[];return{workspace:t[1]&&t[0],name:t[1]||t[0]}},Q=function(e){var t=e.name,r=e.workspace;return"".concat(r&&r.name&&"".concat(r.name,":")||"").concat(t)},K=function(e){var t,r=null==e||null===(t=e.groupFields)||void 0===t?void 0:t.find((function(e){return!e.groupId}));return r&&function e(t,r){if(!(t&&t.filterFields&&t.groupFields&&r))return null;var n=t.filterFields.filter((function(e){return e.groupId===r.id})),o=t.groupFields.filter((function(e){return e.groupId===r.id})),i=[].concat(P(n),P(o)),a={OR:"||",AND:"&&",like:"*=","=":"==","<>":"!=",isNull:"=="},s=i.map((function(r){if(void 0!==r.rowId){var n=r.operator,o=r.attribute,i=r.value;return n&&o&&!m()(i)?[a[n]||n,o,"isNull"===n?null:i]:null}return e(t,r)})).filter((function(e){return e})),l=r.logic;return 0===s.length?null:[a[l]].concat(P(s))}(e,r)},X=function(e){var t=[],r=[];return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.index,o=void 0===n?0:n,i=r.groupId,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!t)return null;var s={"||":"OR","&&":"AND","*=":"like","==":"=","!=":"<>"},c=x(t),u=c[0],p=c.slice(1),d=l()(u),f=d?u[0]:u,m=d?u.filter((function(e,t){return 0!==t})):p;if("||"===f||"&&"===f){var y=O()();return a("groupField",{id:y,index:o,logic:s[f]}),e(p,{index:o+1,groupId:y},a)}return f?(a("filterField",{attribute:m[0],groupId:i,operator:s[f]||f,rowId:O()(),type:isNaN(parseFloat(m[1]))?"string":"number",value:m[1]}),e(p,{index:o,groupId:i},a)):null}(e,void 0,(function(e,n){"groupField"===e&&t.push(n),"filterField"===e&&r.push(n)})),{groupFields:t,filterFields:r}};function J(e){return e&&e.rules?_(_({},e),{},{rules:d()(e.rules.map((function(e){if("Classification"===e.kind)return(e.classification||[]).map((function(t,r){var n=r===e.classification.length-1?"<=":"<",o=null!==t.min?[[">=",e.attribute,t.min]]:[],i=null!==t.max?[[n,e.attribute,t.max]]:[],a=null!==t.min&&">= "+t.min,s=null!==t.max&&n+" "+t.max;return _(_({name:a&&s?a+" and "+s:a||s,filter:o[0]||i[0]?["&&"].concat(o,i):void 0},e.scaleDenominator&&{scaleDenominator:e.scaleDenominator}),{},{symbolizers:[h()(_(_({},b()(e,["ruleId","classification","intervals","method","ramp","reverse","attribute","symbolizerKind"])),{},{kind:e.symbolizerKind||"Fill",color:t.color}),S.a)]})}));if("Raster"===e.kind){var t=e.classification&&e.classification.length>0&&{colorMapEntries:(e.classification||[]).map((function(e){return{label:e.label,quantity:e.quantity,color:e.color,opacity:e.opacity}}))};return _(_({name:e.name||""},e.scaleDenominator&&{scaleDenominator:e.scaleDenominator}),{},{symbolizers:[h()(_(_({},b()(e,["ruleId","classification","intervals","method","ramp","reverse","continuous","symbolizerKind","name"])),{},{kind:"Raster"},t&&{colorMap:t}),S.a)]})}var r=K(e.filter);return _(_({},e),{},{filter:r,symbolizers:((null==e?void 0:e.symbolizers)||[]).map((function(e){return h()(e,S.a)}))})})))}):e}function $(e){return _(_({},e),{},{rules:e.rules.map((function(e){return _(_({},e),{},{ruleId:O()(),filter:e.filter&&X(e.filter),symbolizers:e.symbolizers&&e.symbolizers.map((function(e){return _(_({},e),{},{symbolizerId:O()()})}))||[]})}))})}t.default={STYLE_ID_SEPARATOR:k,STYLE_OWNER_NAME:N,generateTemporaryStyleId:B,generateStyleId:z,extractFeatureProperties:W,getEditorMode:V,isSameOrigin:H,getStyleTemplates:q,setCustomUtils:Y,getNameParts:Z,stringifyNameParts:Q,parseJSONStyle:J,formatJSONStyle:$}},"./MapStore2/web/client/utils/TMSUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"guessFormat",(function(){return o}));var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("?")[0].split("@");if(t.length>1){var r=t[t.length-1];if(Object(n.includes)(["png","png8","jpeg","vnd.jpeg-png","gif"],r))return r}return null}},"./MapStore2/web/client/utils/ThumbnailUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=function(e,t){return new Promise((function(r,n){var o=t||{},i=o.width,a=void 0===i?64:i,s=o.height,l=void 0===s?64:s,c=o.contain,u=o.type,p=void 0===u?"image/jpeg":u,d=o.quality,f=void 0===d?.5:d,m=new Image;m.crossOrigin="anonymous",m.onload=function(){var e=m.naturalWidth/m.naturalHeight,t=a,n=l,o=a/l,i=document.createElement("canvas");i.setAttribute("width",a),i.setAttribute("height",l),i.style.width=a+"px",i.style.height=l+"px";var s=i.getContext("2d"),u=!c&&e<o||c&&e>o?[t,t/e]:[n*e,n];s.save(),s.translate(t/2,n/2),s.drawImage(m,-u[0]/2,-u[1]/2,u[0],u[1]),s.restore();var d=i.toDataURL(p,f);r(d)},m.onerror=function(e){n(e)},m.src=e}))},o=function(e,t){return new Promise((function(r,n){var o=t||{},i=o.type,a=void 0===i?"image/jpeg":i,s=o.quality,l=void 0===s?.5:s,c=document.createElement("video");c.crossOrigin="anonymous";var u=document.createElement("source"),p=document.createElement("canvas");c.addEventListener("loadedmetadata",(function(){var e=c.videoWidth,t=c.videoHeight;p.setAttribute("width",e),p.setAttribute("height",t),p.style.width=e+"px",p.style.height=t+"px"}),!0),c.addEventListener("loadeddata",(function(){c.currentTime=1}),!0),c.addEventListener("seeked",(function(){p.getContext("2d").drawImage(c,0,0);try{var e=p.toDataURL(a,l);r(e)}catch(e){n(e)}}),!0),c.addEventListener("error",(function(e){n(e)}),!0),c.appendChild(u),c.setAttribute("src",e)}))},i=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,i=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,a=null===(e=t.match(i))||void 0===e?void 0:e[1];return a?new Promise((function(e){return e("http://img.youtube.com/vi/".concat(a,"/sddefault.jpg"))})):t.match(/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i)?o(t).then((function(e){return n(e,r)})):new Promise((function(e,t){return t("Cannot create a thumbnail from the provided source")}))}},"./MapStore2/web/client/utils/TileConfigProvider.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/node_modules/lodash/lodash.js"),o=r("./MapStore2/web/client/utils/ConfigProvider.js"),i=r("./MapStore2/web/client/utils/ConfigUtils.js"),a=r.n(i);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default={getLayerConfig:function(e,t){var r,i,s,c,u=o.a;if("custom"===e)r=t;else if(s=(c=e.split("."))[0],i=c[1],!(r=u[s]))throw new Error("No such provider ("+s+")");var p={url:r.url,options:r.options||{}};if(i&&"variants"in r){if(!(i in r.variants))throw new Error("No such variant of "+(s||r.url)+" ("+i+")");var d,f=r.variants[i];d="string"==typeof f?{variant:f}:f.options,p={url:f.url||p.url,options:l(l({},p.options||{}),d)}}else"function"==typeof p.url&&(p.url=p.url(c.splice(1,c.length-1).join(".")));var m="file:"===window.location.protocol||p.options.forceHTTP;0===p.url.indexOf("//")&&m&&(p.url="http:"+p.url),p.options.retina&&(t.detectRetina&&a.a.getBrowserProperties().retina?t.detectRetina=!1:p.options.retina="");p.options.attribution&&(p.options.attribution=function e(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,(function(t,r){return e(u[r].options.attribution)}))}(p.options.attribution));var y=l(l({},p.options),Object(n.pickBy)(t,(function(e){return void 0!==e})));return[p.url,y]}}},"./MapStore2/web/client/utils/TileProviderUtils.js":function(e,t,r){var n=r("./MapStore2/node_modules/lodash/lodash.js").isArray;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/(\{(.*?)\})/g,(function(){var e=arguments[0],r=arguments[2]?arguments[2]:arguments[1];if(["x","y","z"].includes(r))return arguments[0];var n=t[r];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n}))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||"",r=e.subdomains||"";return r&&("string"==typeof r&&(r=r.split("")),n(r))?r.map((function(r){return o(t.replace("{s}",r),e)})):["a","b","c"].map((function(r){return o(t.replace("{s}",r),e)}))}e.exports={extractValidBaseURL:function(e){return(e.url.match(/(\{s\})/)?i(e):[o(e.url,e)])[0]},getUrls:i,template:o}},"./MapStore2/web/client/utils/URLUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"urlParts",(function(){return u})),r.d(t,"sameQueryParams",(function(){return p})),r.d(t,"isSameUrl",(function(){return d})),r.d(t,"getQueryParams",(function(){return f})),r.d(t,"isValidURL",(function(){return m})),r.d(t,"isValidURLTemplate",(function(){return y}));var n=r("./node_modules/url/url.js"),o=r.n(n),i=r("./MapStore2/node_modules/lodash/lodash.js"),a=r("./node_modules/query-string/index.js"),s=r.n(a);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){if(!e)return{};var t=!(0===e.indexOf("http")),r=t?[]:e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(t){var n=window.location;r[1]=n.protocol,r[3]=n.hostname,r[4]=n.port,r[5]=e}r[4]=""!==r[4]&&r[4]?r[4]:"https:"===r[1]?"443":"80",r[5]=r[5]?r[5]:e.slice(r[0].length);var o=l(r,6),i=o[1],a=o[3],s=o[4],c=o[5],u=0===c.indexOf("/")?c.split("/")[1]:"";return{protocol:i,domain:a,port:s,rootPath:c,applicationRootPath:u}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e===t)return!0;if(!e&&!t)return!0;var r=e?e.split("&").filter((function(e){return!!e})):[],n=t?t.split("&").filter((function(e){return!!e})):[];return Object(i.isEqual)(Object(i.sortBy)(r),Object(i.sortBy)(n))},d=function(e,t){var r=Object(i.isArray)(e)?e[0]:e,n=Object(i.isArray)(t)?t[0]:t;if(r===n)return!0;if(!r||!n)return!1;if(!Object(i.isString)(r)||!Object(i.isString)(n))return!1;var a=o.a.parse(r),s=o.a.parse(n),l=u(r),c=u(n),d=l.protocol===c.protocol,f=l.domain===c.domain,m=l.port===c.port,y=a.pathname===s.pathname,b=p(a.query,s.query);return d&&m&&f&&y&&b},f=function(e){return s.a.parse(e)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^(http(s{0,1}):\/\/)+?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,r=new RegExp(t);return r.test(e)},y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/^(http(s{0,1}):\/\/)+?[\w.\-{}]+(?:\.[\w\.-]+)+[\w\-\._~\/\;\.\%\:\&\=\?{}]+$/,n=new RegExp(r),o=n.test(e);if(!o)return!1;if(o&&!t)return!0;if(o&&t){var a=/\{(.*?)\}/.test(e);return 0===t.filter((function(e){return Object(i.find)(a,e)})).length}return!1}},"./MapStore2/web/client/utils/VectorStyleUtils.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/lodash/lodash.js").isNil,s=r("./MapStore2/web/client/utils/ImmutableUtils.js").set,l=r("./MapStore2/web/client/utils/ColorUtils.js").colorToRgbaStr,c=r("./node_modules/axios/index.js"),u=r("./node_modules/geostyler-sld-parser/build/dist/SldStyleParser.js").default,p=r("./node_modules/geostyler-geocss-parser/build/dist/GeoCSSStyleParser.js").default,d={sld:new u,css:new p},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.filter((function(t){return!a(e[t])})).length>0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return f(e,t)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return f(e,t)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign","textRotationDeg"];return f(e,t)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return f(e,t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return f(e,t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return f(e,t)},S={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},w=function(e){var t,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},O={},j=function(e,t){if(!e||!t)throw new Error("specify all the params: sha, style");O[e]=t},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return O[e]&&O[e][t]},x=function(e){if(e)return w(JSON.stringify(e));throw new Error("hashAndStringify: specify mandatory params: style")},P=function(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return v(e)&&e.symbolUrl?c.get(t,{"Content-Type":"image/svg+xml;charset=utf-8"}).then((function(t){var r=window.URL||window.webkitURL||window,n=(new DOMParser).parseFromString(t.data,"image/svg+xml").firstElementChild;n.setAttribute("fill",e.fillColor||"#FFCC33"),n.setAttribute("fill-opacity",a(e.fillOpacity)?.2:e.fillOpacity),n.setAttribute("stroke",l(e.color||"#FFCC33",a(e.opacity)?1:e.opacity)),n.setAttribute("stroke-opacity",a(e.opacity)?1:e.opacity),n.setAttribute("stroke-width",e.weight||1),n.setAttribute("width",e.size||32),n.setAttribute("height",e.size||32),n.setAttribute("stroke-dasharray",e.dashArray||"none");var i=new Blob([P(n)],{type:"image/svg+xml;charset=utf-8"}),s=r.createObjectURL(i),c=document.createElement("canvas");c.width=e.size,c.height=e.size;var u=c.getContext("2d"),p=new Image;p.src=s;var d="",f=x(e);return p.onload=function(){try{u.drawImage(p,c.width/2-p.width/2,c.height/2-p.height/2),d=c.toDataURL("image/png"),c=null,j(f,{style:o(o({},e),{},{symbolUrlCustomized:s}),base64:d})}catch(e){return}},j(f,{style:o(o({},e),{},{symbolUrlCustomized:s}),svg:n,base64:d}),s})).catch((function(){return r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})):new Promise((function(e){e(null)}))};e.exports={getGeometryFunction:function(e,t){return S[e]&&S[e][t]},SymbolsStyles:O,registerStyle:j,fetchStyle:E,hashCode:w,hashAndStringify:x,domNodeToString:P,createSvgUrl:T,registerGeometryFunctions:function(e,t,r){if(!(e&&t&&r))throw new Error("specify all the params: functionName, func, type");S[e]={func:t,type:r}},geometryFunctions:S,getStylerTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(e)?"Marker":v(e)?"Symbol":b(e)?"Text":g(e)||"Circle Style"===e.title?"Circle":y(e)?"Polygon":m(e)?"Polyline":""},isAttrPresent:f,addOpacityToColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return s("a",t,e)},isMarkerStyle:h,isSymbolStyle:v,isTextStyle:b,isCircleStyle:g,isStrokeStyle:m,isFillStyle:y,getSymbolsStyles:function(){return O},setSymbolsStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O=e},createStylesAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return v(e)&&!E(x(e))?T(e,e.symbolUrl||e.symbolUrlCustomized).then((function(t){return t?o(o({},e),{},{symbolUrlCustomized:t}):E(x(e))})).catch((function(){return o(o({},e),{},{symbolUrlCustomized:r("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})})):new Promise((function(t){t(v(e)?E(x(e)):e)}))}))},getStyleParser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sld";return d[e]}}},"./MapStore2/web/client/utils/VectorTileUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"VECTOR_FORMATS",(function(){return n})),r.d(t,"isVectorFormat",(function(){return o}));var n=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(e){return-1!==n.indexOf(e)}},"./MapStore2/web/client/utils/WFSTimeUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"addTimeParameter",(function(){return p}));var n=r("./node_modules/url/url.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),i=r("./MapStore2/web/client/selectors/featuregrid.js"),a=r("./MapStore2/web/client/selectors/layers.js"),s=r("./MapStore2/web/client/selectors/dimension.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e,t,r){var l=Object(i.selectedLayerIdSelector)(r),u=Object(s.layerDimensionSelectorCreator)({id:l},"time")(r),p=Object(a.getLayerFromId)(r,l)||{},d=Object(o.get)(p,'params["time"]');if(Object(i.timeSyncActive)(r)&&u&&d){var f=Object(n.parse)(e)||{};return{url:Object(n.format)(c(c({},f),{},{query:c(c({},f.query),{},{time:d})})),options:t}}return{url:e,options:t}}},"./MapStore2/web/client/utils/WidgetsUtils.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=r("./MapStore2/node_modules/lodash/lodash.js"),l=s.get,c=s.find,u=s.isNumber,p=s.round,d=r("./MapStore2/web/client/actions/widgets.js").WIDGETS_REGEX,f=r("./MapStore2/web/client/utils/GraphUtils.js").findGroups,m=r("./MapStore2/web/client/utils/ColorUtils.js").sameToneRangeColors,y=function(e,t){var r=o(d.exec(e),2),n=r[0],i=r[1];return n?c(t,{id:i}):null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(t,r){var o=l(r,"mapSync")&&l(r,"dependenciesMap")||{},i=Object.keys(o).map((function(t){return y(o[t],e)}))||[];return[].concat(n(t),n(i.filter((function(e){return void 0!==e})).map((function(e){return[r.id,e.id]}))))}),[])};e.exports={shortenLabel:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!u(e))return e;var o=p(e),i=o.toString().length%3;if(o>=r){var a=o.toString().length-(0===i?i+3:i),s=a/3,l=o/Math.pow(10,a);switch(s){case 1:t=" K";break;case 2:t=" M";break;case 3:t=" B";break;case 4:t=" T";break;default:t=""}o=p(l,n)+t}else o=p(e,Math.abs(4-o.toString().length));return o},getWidgetDependency:function(e,t){var r=d.exec(e),n=r&&r[2],o=y(e,t);return n?l(o,n):o},getConnectionList:b,getWidgetsGroups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=f(b(e)),r={base:190,range:340,options:{base:10,range:360,s:.67,v:.67}},n=m(r.base,r.range,t.length+1,r.options);return t.map((function(e,t){return{color:n[t],widgets:e}}))}}},"./MapStore2/web/client/utils/cesium/BILTerrainProvider.js":function(e,t){e.exports=function(e){var t={};t.CRS=[{name:"CRS:84",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:e.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],t.FormatImage=[{format:"image/png",extension:"png"},{format:"image/jpeg",extension:"jpg"},{format:"image/jpeg",extension:"jpeg"},{format:"image/gif",extension:"gif"},{format:"image/png; mode=8bit",extension:"png"}],t.FormatArray=[{format:"image/bil",postProcessArray:function(e,t,r,n,o){var i,a=new DataView(e),s=new ArrayBuffer(t.height*t.width*2),l=new DataView(s);if(s.byteLength===e.byteLength){for(var c,u=0;u<s.byteLength;u+=2)(c=a.getInt16(u,!1)-o)>n&&c<r?(l.setInt16(u,c,!0),c):l.setInt16(u,0,!0);i=new Int16Array(s)}return i}}],t.WMSParser={},t.TMSParser={},t.WMTSParser={},t.parser=function(r){var n;switch((r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT)).service){case"TMS":n=t.TMSParser.generate(r);break;case"WMTS":n=t.WMTSParser.generate(r);break;default:n=t.WMSParser.generate(r)}return n},t.WMSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url)){var o=r.url,i=o.lastIndexOf("?");i>-1&&(o=o.substring(0,i));var a=o+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";e.defined(r.proxy)&&(a=r.proxy.getURL(a)),n=e.when(e.loadXML(a),(function(e){return t.WMSParser.getMetaDatafromXML(e,r)}))}else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.WMSParser.getMetaDatafromXML(r.xml,r)}return n},t.WMSParser.getMetaDatafromXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");if(!e.defined(n.layerName))throw new e.DeveloperError("description.layerName is required.");var o={},i=n.layerName,a=(e.defaultValue(n.maxLevel,11),void 0);o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var s={width:65,height:65},l=void 0;o.formatImage=n.formatImage,o.formatArray=n.formatArray,o.tilingScheme=void 0;var c=void 0,u=void 0;o.ready=!1,o.levelZeroMaximumGeometricError=void 0,o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);var p=n.styleName;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName);var d=r.querySelector("[version]");null!==d&&(a=d.getAttribute("version"),u=/^1\.[3-9]\./.test(a));var f=r.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),m=f.indexOf("?");m>-1&&(f=f.substring(0,m)),e.defined(n.proxy)&&(f=n.proxy.getURL(f));var y=r.querySelectorAll("Request>GetMap>Format");if(!e.defined(o.formatImage))for(var b=0;b<y.length&&!e.defined(o.formatArray);b++){(g=t.FormatArray.filter((function(e){return e.format===y[b].textContent}))).length>0&&(o.formatArray=g[0])}e.defined(o.formatArray)&&"string"==typeof o.formatArray.format&&"function"==typeof o.formatArray.postProcessArray?o.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}:o.formatArray=void 0;for(b=0;b<y.length&&!e.defined(o.formatImage);b++){var g;(g=t.FormatImage.filter((function(e){return e.format===y[b].textContent}))).length>0&&(o.formatImage=g[0])}e.defined(o.formatImage)&&"string"==typeof o.formatImage.format?o.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0}:o.formatImage=void 0;for(var h,v=r.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),S=0;S<v.length&&!e.defined(h);S++)if(v[S].querySelector("Name").textContent===i){var w=(h=v[S]).getAttribute("fixedHeight"),O=h.getAttribute("fixedWidth");e.defined(w)&&(w=parseInt(w),o.heightMapHeight=w>0&&w<o.heightMapHeight?w:o.heightMapHeight,s.height=w>0?w:s.height),e.defined(O)&&(O=parseInt(O),o.heightMapWidth=O>0&&O<o.heightMapWidth?O:o.heightMapWidth,s.width=O>0?O:s.width)}if(e.defined(h)&&e.defined(a)){for(var j=!1,E=0;E<t.CRS.length&&!j;E++){var x=t.CRS[E],P=x.name,T=h.querySelector("BoundingBox[SRS='"+P+"'],BoundingBox[CRS='"+P+"']");if(null!==T){var M,A,C,_;l=P,c=x.firstAxeIsLatitude,o.tilingScheme=new x.tilingScheme({ellipsoid:x.ellipsoid}),c&&u?(M=parseFloat(T.getAttribute("miny")),A=parseFloat(T.getAttribute("maxy")),C=parseFloat(T.getAttribute("minx")),_=parseFloat(T.getAttribute("maxx"))):(M=parseFloat(T.getAttribute("minx")),A=parseFloat(T.getAttribute("maxx")),C=parseFloat(T.getAttribute("miny")),_=parseFloat(T.getAttribute("maxy")));new e.Rectangle(M,C,A,_);o.getTileDataAvailable=function(e,t,r){return!0},j=!0}}if(e.defined(p)){for(var I=h.querySelectorAll("Style>Name"),R=!1,L=0;L<I.length&&!R;L++)p===I[L].textContent&&(R=!0);R||(p=void 0)}for(var D=r.querySelectorAll("VendorSpecificCapabilities>TileSet"),k=!1,N=0;N<D.length&&!k;N++){var F=null!==D[N].querySelector("BoundingBox[SRS='"+l+"'],BoundingBox[CRS='"+l+"']");D[N].querySelector("Layers").textContent===i&&F&&(s.width=parseInt(D[N].querySelector("Width").textContent),s.height=parseInt(D[N].querySelector("Height").textContent),k=!0)}o.ready=j&&(e.defined(o.formatImage)||e.defined(o.formatArray))&&e.defined(a)}if(o.ready){var G=f+"?SERVICE=WMS&REQUEST=GetMap&layers="+i+"&version="+a+"&bbox=";if(G+=u&&c?"{south},{west},{north},{east}":"{west},{south},{east},{north}",G+="&crs="+l+"&srs="+l,o.formatImage){var U=G+"&format="+o.formatImage.format+"&width="+s.width+"&height="+s.height;e.defined(p)&&(U+="&styles="+p+"&style="+p),o.URLtemplateImage=function(){return U},o.imageSize=s}if(o.formatArray){var B=G+"&format="+o.formatArray.format+"&width="+o.heightMapWidth+"&height="+o.heightMapHeight;o.URLtemplateArray=function(){return B}}}return o},t.TMSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url))n=e.loadXML(r.url).then((function(e){return t.TMSParser.parseXML(e,r)}));else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.TMSParser.parseXML(r.xml,r)}return n},t.TMSParser.parseXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o;if(null!=r.querySelector("TileMapService")){if(!e.defined(n.layerName))throw new e.DeveloperError("layerName is required.");var i=[].slice.apply(r.querySelectorAll("TileMap[title='"+n.layerName+"']")).map((function(r){var o=r.getAttribute("href");return e.defined(n.proxy)&&(o=n.proxy.getURL(o)),e.when(e.loadXML(o),(function(e){return t.TMSParser.getMetaDatafromXML(e,n)}))}));o=e.when.all(i).then((function(t){for(var r,n=0;n<t.length&&!e.defined(r);n++)e.defined(t[n])&&(r=t[n]);return r})).then((function(e){return e}))}else o=t.TMSParser.getMetaDatafromXML(r,n);return o},t.TMSParser.getMetaDatafromXML=function(r,n){var o={ready:!1};o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var i=e.defaultValue(n.maxLevel,11),a=n.proxy;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName),o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);var s=r.querySelector("SRS").textContent,l=t.CRS.filter((function(e){return e.name===s}));l.length>0&&(o.tilingScheme=new l[0].tilingScheme({ellipsoid:l[0].ellipsoid}));var c=r.querySelector("TileFormat"),u=t.FormatImage.filter((function(e){return e.extension==c.getAttribute("extension")}));u.length>0&&(o.formatImage=u[0],o.imageSize={},o.imageSize.width=parseInt(c.getAttribute("width")),o.imageSize.height=parseInt(c.getAttribute("height")));var p=[].slice.call(r.querySelectorAll("TileSets>TileSet")),d=[];if(e.defined(o.formatImage)&&((d=p.map((function(t){var r=t.getAttribute("href")+"/{x}/{tmsY}."+o.formatImage.extension;return e.defined(a)&&(r=a.getURL(r)),{url:r,level:parseInt(t.getAttribute("order"))}}))).sort((function(e,t){return e.level-t.level})),d.length>0&&(o.tileSets=d)),e.defined(o.tileSets)&&e.defined(o.formatImage)&&e.defined(o.tilingScheme)){o.URLtemplateImage=function(e,t,r){var n="";return r<d.length&&(n=d[r].url),n};var f=r.querySelector("BoundingBox"),m=parseFloat(f.getAttribute("miny")),y=parseFloat(f.getAttribute("maxy")),b=parseFloat(f.getAttribute("minx")),g=parseFloat(f.getAttribute("maxx")),h=new e.Rectangle(b,m,g,y);o.getTileDataAvailable=function(t,r,n){var a,s,l,c,u,p,f=o.tilingScheme.tileXYToNativeRectangle(t,r,n),m=(a=h,s=f,l=Math.max(a.west,s.west),c=Math.min(a.east,s.east),u=Math.max(a.south,s.south),p=Math.min(a.north,s.north),c<=l||u>=p?void 0:new e.Rectangle(l,u,c,p));return e.defined(m)&&n<i&&n<d.length},o.ready=!0}else o=void 0;return o},t.WMTSParser.generate=function(r){var n;if(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT),e.defined(r.url)){var o=r.url,i=o.lastIndexOf("?");i>-1&&(o=o.substring(0,i));var a=o+"?REQUEST=GetCapabilities";e.defined(r.proxy)&&(a=r.proxy.getURL(a)),n=e.loadXML(a).then((function(e){return t.WMTSParser.getMetaDatafromXML(e,r)}))}else{if(!e.defined(r.xml))throw new e.DeveloperError("either description.url or description.xml are required.");n=t.WMTSParser.getMetaDatafromXML(r.xml,r)}return n},t.WMTSParser.getMetaDatafromXML=function(r,n){if(!(r instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o={},i=n.layerName;o.ready=!1,o.heightMapWidth=e.defaultValue(n.heightMapWidth,65),o.heightMapHeight=e.defaultValue(n.heightMapHeight,o.heightMapWidth);var a,s=e.defaultValue(n.maxLevel,12),l=n.proxy,c=n.styleName;o.hasStyledImage=e.defaultValue(n.hasStyledImage,"string"==typeof n.styleName),o.waterMask=e.defaultValue(n.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(n.offset,0),o.highest=e.defaultValue(n.highest,12e3),o.lowest=e.defaultValue(n.lowest,-500);for(var u,p,d,f=[],m=[].slice.call(r.querySelectorAll('Operation[name="GetTile"] HTTP Get')).map((function(e){var t,r=e.querySelector("Value").textContent;return"KVP"===r&&(t={node:e,type:"KVP"}),"RESTful"===r&&(t={node:e,type:"RESTful"}),t})).filter((function(t){return e.defined(t)})),y=0;y<m.length;y++){var b=m[y];"RESTful"!==b.type||e.defined(p)||(p=b.node.getAttribute("xlink:href"),e.defined(l)&&(p=l.getURL(p))),"KVP"!==b.type||e.defined(u)||(u=b.node.getAttribute("xlink:href"),e.defined(l)&&(u=l.getURL(u)))}var g,h=r.querySelectorAll("Contents>Layer>Identifier");for(y=0;y<h.length&&!e.defined(g);y++)i===h[y].textContent&&(g=h[y].parentNode);if(e.defined(g)){var v,S,w=g.querySelectorAll("Style");for(y=0;y<w.length;y++){var O=w[y].querySelector("Identifier").textContent;null!=w[y].getAttribute("isDefault")&&(v=O),O===c&&(S=O)}e.defined(c)&&c==S||(c=e.defaultValue(v,""));for(var j=[].slice.call(g.querySelectorAll("Format")),E=0;E<t.FormatImage.length&&!e.defined(d);E++){j.filter((function(e){return e.textContent===t.FormatImage[E].format})).length>0&&(d=t.FormatImage[E])}f=g.querySelectorAll("TileMatrixSetLink")}for(var x=[].slice.call(r.querySelectorAll("TileMatrixSet>Identifier")),P=0;P<f.length&&!o.ready;P++){var T,M,A=f[P],C=A.querySelector("TileMatrixSet").textContent;for(y=0;y<x.length&&!e.defined(T);y++)x[y].textContent===C&&(T=x[y].parentNode);for(var _=T.querySelector("SupportedCRS").textContent,I=0;I<t.CRS.length&&!e.defined(M);I++)t.CRS[I].SupportedCRS===_&&(M=t.CRS[I]);if(e.defined(M)){var R,L=[].slice.call(T.querySelectorAll("TileMatrix"));(R=L.map((function(e){var t=e.querySelector("Identifier").textContent,r=parseInt(e.querySelector("MatrixWidth").textContent),n=parseInt(e.querySelector("MatrixHeight").textContent),o=parseInt(e.querySelector("TileWidth").textContent),i=parseInt(e.querySelector("TileHeight").textContent);return{id:t,maxWidth:r,maxHeight:n,scaleDenominator:parseFloat(e.querySelector("ScaleDenominator").textContent),complete:!1,tileWidth:o,tileHeight:i}}))).sort((function(e,t){return t.scaleDenominator-e.scaleDenominator})),listTileMatrixLimits=A.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var D=0;D<R.length;D++)for(var k=R[D],N=0;N<listTileMatrixLimits.length;N++){var F=listTileMatrixLimits[N];k.id===F.querySelector("TileMatrix").textContent&&(k.minTileRow=parseInt(F.querySelector("MinTileRow").textContent),k.maxTileRow=parseInt(F.querySelector("MaxTileRow").textContent),k.minTileCol=parseInt(F.querySelector("MinTileCol").textContent),k.maxTileCol=parseInt(F.querySelector("MaxTileCol").textContent),k.complete=!0,R[D]=k)}if(R.length>0){o.tilingScheme=new M.tilingScheme({ellipsoid:M.ellipsoid,numberOfLevelZeroTilesX:R[0].maxWidth,numberOfLevelZeroTilesY:R[0].maxHeight});var G=g.querySelector("ResourceURL[format='"+d.format+"']");if(null!=G?a=G.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",c).replace("{TileMatrixSet}",C).replace("{layer}",i).replace("{infoFormatExtension}",d.extension):e.defined(u)&&(a=u+"service=WMTS&request=GetTile&version=1.0.0&layer="+i+"&style=&"+c+"format="+d.format+"&TileMatrixSet="+C+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),e.defined(a)){o.getTileDataAvailable=function(e,t,r){var n=!1;if(r<s&&r<R.length){var o=R[r];n=o.complete?t<=o.maxTileRow&&t>=o.minTileRow&&e<=o.maxTileCol&&e>=o.minTileCol:e<o.maxWidth&&t<o.maxHeight}return n},o.URLtemplateImage=function(e,t,r){var n="";if(o.getTileDataAvailable(e,t,r)){var i=R[r];n=a.replace("{TileMatrix}",i.id)}return n};var U={width:R[0].tileWidth,height:R[0].tileHeight};0==R.filter((function(e){return e.tileWidth!=U.width||e.tileHeight!=U.height})).length&&(o.imageSize=U),o.ready=!0}}}}return o};var r=function(r){if(!e.defined(r))throw new e.DeveloperError("description is required.");var o=new e.Event,i=r.credit;"string"==typeof i&&(i=new e.Credit(i)),this.ready=!1,e.defineProperties(this,{errorEvent:{get:function(){return o}},credit:{get:function(){return i}},hasVertexNormals:{get:function(){return!1}}}),n(t.parser(r),this)};function n(t,n){e.when(t,(function(t){e.defined(t)&&t.ready&&(t.levelZeroMaximumGeometricError=e.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(t.tilingScheme.ellipsoid,t.heightMapWidth,t.tilingScheme.getNumberOfXTilesAtLevel(0)),e.defined(t.URLtemplateImage)&&(t.getHeightmapTerrainDataImage=function(a,s,l){var c;if(!isNaN(a+s+l)){var u=o(t.URLtemplateImage(a,s,l),a,s,l,n),p={highest:t.highest,lowest:t.lowest,offset:t.offset},d=i(a,s,l,n),f=e.throttleRequestByServer(u,e.loadImage);e.defined(f)&&(c=e.when(f,(function(e){return r.imageToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.waterMask,d,t.hasStyledImage)})).otherwise((function(){return new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:d,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return c}),e.defined(t.URLtemplateArray)&&(t.getHeightmapTerrainDataArray=function(a,s,l){var c;if(!isNaN(a+s+l)){var u=o(t.URLtemplateArray(a,s,l),a,s,l,n),p={highest:t.highest,lowest:t.lowest,offset:t.offset},d=i(a,s,l,n),f=e.throttleRequestByServer(u,e.loadArrayBuffer);e.defined(f)&&(c=e.when(f,(function(e){return r.arrayToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.formatArray,t.waterMask,d)})).otherwise((function(){return e.defined(t.getHeightmapTerrainDataImage)?t.getHeightmapTerrainDataImage(a,s,l):new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:d,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return c}),n.getLevelMaximumGeometricError=function(e){return t.levelZeroMaximumGeometricError/(1<<e)},n.requestTileGeometry=function(r,n,o){var i;return e.defined(t.getHeightmapTerrainDataArray)?i=t.getHeightmapTerrainDataArray(r,n,o):e.defined(t.getHeightmapTerrainDataImage)&&(i=t.getHeightmapTerrainDataImage(r,n,o)),i},e.defineProperties(n,{tilingScheme:{get:function(){return t.tilingScheme}},ready:{get:function(){return t.ready}},hasWaterMask:{get:function(){return t.waterMask}},heightMapHeight:{get:function(){return t.heightMapHeight}},heightMapWidth:{get:function(){return t.heightMapWidth}},getTileDataAvailable:{get:function(){return t.getTileDataAvailable}}}))}))}function o(e,t,r,n,o){var i=o.tilingScheme.tileXYToNativeRectangle(t,r,n),a=(i.east-i.west)/(o.heightMapWidth-1),s=(i.north-i.south)/(o.heightMapHeight-1);i.west-=.5*a,i.east+=.5*a,i.south-=.5*s,i.north+=.5*s;var l=o.tilingScheme.getNumberOfYTilesAtLevel(n)-r-1;return e.replace("{south}",i.south).replace("{north}",i.north).replace("{west}",i.west).replace("{east}",i.east).replace("{x}",t).replace("{y}",r).replace("{tmsY}",l)}function i(e,t,r,n){var o=0,i=r+1;return o|=n.getTileDataAvailable(2*e,2*t,i)?1:0,o|=n.getTileDataAvailable(2*e+1,2*t,i)?2:0,o|=n.getTileDataAvailable(2*e,2*t+1,i)?4:0,o|=n.getTileDataAvailable(2*e+1,2*t+1,i)?8:0}return r.arrayToHeightmapTerrainData=function(t,r,n,o,i,a){"number"==typeof n&&(n={width:n,height:n});var s=o.postProcessArray(t,n,r.highest,r.lowest,r.offset);if(!e.defined(s))throw new e.DeveloperError("no good size");var l={buffer:s,width:n.width,height:n.height,childTileMask:a,structure:o.terrainDataStructure};if(i){for(var c=new Uint8Array(s.length),u=0;u<s.length;u++)s[u]<=0&&(c[u]=255);l.waterMask=c}return new e.HeightmapTerrainData(l)},r.imageToHeightmapTerrainData=function(t,r,n,o,i,a){"number"==typeof n&&(n={width:n,height:n});for(var s=e.getImagePixels(t,n.width,n.height),l=new Uint8Array(s.length/4),c=new Int16Array(s.length/4),u=0,p=0,d=0;d<s.length;d+=4){var f=s[d],m=s[d+1],y=s[d+2]>128,b=(f<<8|m)-r.offset-32768;b>r.lowest&&b<r.highest&&(y||a)?(c[d/4]=b,p+=b,u++):c[d/4]=0==u?0:p/u}var g={buffer:c,width:n.width,height:n.height,childTileMask:i,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(o){for(l=new Uint8Array(heightBuffer.length),d=0;d<heightBuffer.length;d++)heightBuffer[d]<=0&&(l[d]=255);g.waterMask=l}return new e.HeightmapTerrainData(g)},r}},"./MapStore2/web/client/utils/cesium/ClickUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/cesium.js");e.exports={getMouseXYZ:function(e,t){var r=e.scene,o=t.position||t.endPosition;if(!o)return null;var i=e.camera.getPickRay(o),a=e.scene.globe.pick(i,e.scene),s=r._globe.ellipsoid;if(n.defined(a)){var l=s.cartesianToCartographic(a),c=function(e,t){if(null!==t.position){var r=e.scene,n=r._globe.ellipsoid;return r._camera.pickEllipsoid(t.position||t.endPosition,n)}return null}(e,t);return c&&(l.height=r._globe.getHeight(l),l.cartesian=c,l.position=a),l}return null},getMouseTile:function(e,t){var r=e.scene;if(!t.position)return null;var n=e.camera.getPickRay(t.position);return e.scene.globe.pickTile(n,r)}}},"./MapStore2/web/client/utils/cesium/WMSUtils.js":function(e,t){e.exports={PARAM_OPTIONS:["layers","styles","style","format","transparent","version","tiled","opacity","zindex","srs","singletile","_v_","filterobj"]}},"./MapStore2/web/client/utils/featuregrid/EditorRegistry.jsx":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/node_modules/lodash/lodash.js").find,s=r("./node_modules/object-assign/index.js")({},r("./MapStore2/web/client/components/data/featuregrid/editors/customEditors.jsx")),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).length>0&&Object.keys(e).reduce((function(r,n){var o=new RegExp(e[n]);return r&&o.test(t[n])}),!0)},c=function(e,t,r){if(s[t]){if(s[t][e])return s[t][e](r);if(s[t].defaultEditor)return s[t].defaultEditor(r)}return null};e.exports={get:function(){return s},register:function(e){var t=e.name,r=e.editors;r&&(s[t]=r)},remove:function(e){if(t=e,-1!==Object.keys(s).indexOf(t))try{return delete s[e],!0}catch(e){return!1}var t;return!1},clean:function(){s={}},getCustomEditor:function(e){var t=e.attribute,r=e.url,n=e.typeName,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,u=s.type,p=s.generalProps,d=void 0===p?{}:p,f=s.props,m=a(i,(function(e){return l(e.regex,{attribute:t,url:r,typeName:n})}));if(m){var y=c(u,m.editor,o(o(o({},f),d),m.editorProps||{}));return y}return null}}},"./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js":function(e,t,r){"use strict";r.r(t),r.d(t,"boundsToOLExtent",(function(){return n})),r.d(t,"fromLeafletFeatureToQueryform",(function(){return o}));var n=function(e){return[e.getWest(),e.getSouth(),e.getEast(),e.getNorth()]},o=function(e){var t=e.toGeoJSON(),r=e.getBounds(),o=n(r),i=r.getCenter(),a=e.getRadius?e.getRadius():0,s=t.features[0].geometry.coordinates;return{type:t.features[0].geometry.type,extent:o,center:i,coordinates:s,radius:a,projection:"EPSG:4326"}}},"./MapStore2/web/client/utils/leaflet/Icons.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js"),o=r("./MapStore2/node_modules/lodash/lodash.js").isFunction;r("./node_modules/leaflet-extra-markers/src/assets/js/leaflet.extra-markers.js"),r("./node_modules/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css"),e.exports={extra:{getIcon:function(e){var t=e.iconPrefix||"fa";return n.ExtraMarkers.icon({icon:t+"-"+e.iconGlyph,markerColor:e.iconColor||"blue",shape:e.iconShape||"square",prefix:t,extraClasses:e.highlight?"marker-selected":""})}},standard:{getIcon:function(e){return n.icon({iconUrl:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl,shadowUrl:e.shadowUrl,iconSize:e.iconSize,shadowSize:e.shadowSize,iconAnchor:e.iconAnchor,shadowAnchor:e.shadowAnchor,popupAnchor:e.popupAnchor})}},html:{getIcon:function(e,t){return n.divIcon(o(e.html)?e.html(t):e.html)}}}},"./MapStore2/web/client/utils/leaflet/Vector.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/web/client/libs/leaflet.js"),s=r("./MapStore2/web/client/utils/leaflet/Icons.js"),l=r("./node_modules/object-assign/index.js"),c=r("./MapStore2/web/client/utils/VectorStyleUtils.js"),u=c.isMarkerStyle,p=c.isSymbolStyle,d=function e(t,r,n){for(var o,i=[],a=t.length,s=0;s<a;s++)o=r?e(t[s],r-1,n):(n||this.coordsToLatLng)(t[s]),i.push(o);return i},f=function(e){if("GeometryCollection"===e.geometry.type)return!1;var t=e.style;return t&&(u(t)||p(t)||t.iconUrl||t.iconGlyph)},m={coordsToLatLngF:function(e){return new a.LatLng(e[1],e[0],e[2])},coordsToLatLngs:d,isMarker:f,getPointLayer:function(e,t,r,n){return e?e(t,r):m.pointToLayer(r,t,o(o({},n.style),{},{styleName:n.styleName,highlight:n.highlight}))},pointToLayer:function(e,t,r){var n=r.Point||r.MultiPoint||r,o=function(e,t){if(e&&e.iconGlyph){var r=e.iconLibrary||"extra";if(s[r])return s[r].getIcon(e)}return e&&e.html&&t?s.html.getIcon(e,t):e&&e.iconUrl||e.symbolUrlCustomized||e.symbolUrl?s.standard.getIcon(e):null}(n,t);return o?a.marker(e,{icon:o,opacity:n&&n.opacity||1}):a.marker(e,{opacity:n&&n.opacity||1})},toValidGeoJSON:function(){},createTextPointMarkerLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointToLayer,r=e.geojson,n=e.latlng,i=e.options,s=e.style,l=void 0===s?{}:s,c=e.highlight,u=void 0!==c&&c;if(r.properties&&r.properties.isText){var p=a.divIcon({html:'<span style="\n                font:'.concat(l.font,";\n                color:").concat(l.fillColor,";\n                -webkit-text-stroke-width:",1,"px;\n                -webkit-text-stroke-color:").concat(l.color,';">').concat(r.properties.valueText,"</span>"),className:""});return new a.Marker(n,{icon:p})}return m.getPointLayer(t,r,n,o(o({},i),{},{style:l,highlight:u}))},createPolygonCircleLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geojson,r=e.style,n=void 0===r?{}:r,i=e.latlngs,s=void 0===i?[]:i,l=e.coordsToLatLng,c=void 0===l?function(){}:l;if(t.properties&&t.properties.isCircle){var u=c(t.properties.center);return a.circle(u,o(o({},n),{},{radius:t.properties.radius}))}return new a.Polygon(s,n)},geometryToLayer:function(e,t){var r,n="Feature"===e.type?e.geometry:e,i=n?n.coordinates:null,s=[],c=o({styleName:t.styleName,style:t.style&&t.style[0]||t.style},e),u=t&&!f(c)?function(e,t){return"marker"===c.styleName?a.marker(t,c.style):a.circleMarker(t,c.style&&c.style[0]||c.style)}:null,p=t&&t.coordsToLatLng||m.coordsToLatLngF;if(!i&&!n)return null;var y,b,g,h,v=c.style||l({},t.style&&t.style[n.type]||t.style,{highlight:t.style&&t.style.highlight});switch(n.type){case"Point":return y=p(i),r=m.createTextPointMarkerLayer({pointToLayer:u,geojson:e,latlng:y,options:t,style:v,highlight:v&&v.highlight});case"MultiPoint":for(g=0,h=i.length;g<h;g++)y=p(i[g]),(r=m.createTextPointMarkerLayer({pointToLayer:u,geojson:e,latlng:y,options:t,style:v,highlight:v&&v.highlight})).msId=e.id,s.push(r);return new a.FeatureGroup(s);case"LineString":return v=m.updateHighlightStyle(v),b=d(i,"LineString"===n.type?0:1,p),(r=new a.Polyline(b,v)).msId=e.id,r;case"MultiLineString":for(v=m.updateHighlightStyle(v),g=0,h=(b=d(i,"LineString"===n.type?0:1,p)).length;g<h;g++)(r=new a.Polyline(b[g],v)).msId=e.id,r&&s.push(r);return new a.FeatureGroup(s);case"Polygon":return v=m.updateHighlightStyle(v),b=d(i,"Polygon"===n.type?1:2,p),(r=m.createPolygonCircleLayer({geojson:e,style:v,latlngs:b,coordsToLatLng:p})).msId=e.id,r;case"MultiPolygon":for(v=m.updateHighlightStyle(v),g=0,h=(b=d(i,"Polygon"===n.type?1:2,p)).length;g<h;g++)(r=m.createPolygonCircleLayer({geojson:e,style:v,latlngs:b,coordsToLatLng:p})).msId=e.id,r&&s.push(r);return new a.FeatureGroup(s);case"GeometryCollection":for(g=0,h=n.geometries.length;g<h;g++)(r=m.geometryToLayer({geometry:n.geometries[g],type:"Feature",properties:e.properties},t))&&s.push(r);return new a.FeatureGroup(s);default:throw new Error("Invalid GeoJSON object.")}},updateHighlightStyle:function(e){var t=e.highlight;return t?l({},e,{dashArray:t?"10":null}):e}};e.exports=m},"./MapStore2/web/client/utils/leaflet/WMSUtils.js":function(e,t,r){var n=r("./node_modules/object-assign/index.js"),o={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return n({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(r){r&&r.toLowerCase&&o.PARAM_OPTIONS.indexOf(r.toLowerCase())>=0&&(t[r]=e[r])})),t}};e.exports=o},"./MapStore2/web/client/utils/leaflet/WMTS.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./MapStore2/web/client/libs/leaflet.js"),a=r("./MapStore2/web/client/utils/MapUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./MapStore2/node_modules/lodash/lodash.js"),c=l.head,u=l.isNumber,p=i.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,r){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=i.extend({},this.defaultWmtsParams),o=t.tileSize||this.options.tileSize;for(var a in t.detectRetina&&i.Browser.retina?n.width=n.height=2*o:n.width=n.height=o,t)this.options.hasOwnProperty(a)||"crs"===a||(n[a]=t[a]);this.wmtsParams=n,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,i.setOptions(this,t)},getWMTSParams:function(e,t,r,n,o){var i=a.getScales()[r],l=c(e.map((function(t,r){if(r===e.length-1)return null;var n=parseFloat(t.ScaleDenominator),o=parseFloat(e[r+1].ScaleDenominator);return n>=i&&o<i?i-o>(n-o)/2?{id:r,data:t}:{id:r+1,data:e[r+1]}:null})).filter((function(e){return e}))),p=l&&u(l.id)&&l.id+""||0===e.length&&r||null;if(!t[p])return null;var d=t[p].identifier,f=l.data&&l.data.TopLeftCorner&&s.parseString(l.data.TopLeftCorner)||t[p].topLeftCorner,m=f.lng||f.x,y=f.lat||f.y,b=Math.round((n.x-m)/o),g=-Math.round((n.y-y)/o),h=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},v=t[p].ranges||h;return v&&!function(e,t,r){return!(e<r.cols.min||e>r.cols.max)&&!(t<r.rows.min||t>r.rows.max)}(b,g,v)?null:{ident:d,tilecol:b,tilerow:g}},getTileUrl:function(e){var t=this._map,r=t.options.crs,o=this.options.tileSize,a=e.multiplyBy(o);a.x+=1,a.y-=1;var s=a.add([o,o]),l=r.project(t.unproject(a,e.z)),c=r.project(t.unproject(s,e.z)).x-l.x,u=this.getWMTSParams(n(this.matrixSet),n(this.matrixIds),e.z,l,c);if(!u)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=i.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:u.tilerow,TileCol:u.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:u.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+i.Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+u.ident+"&tilerow="+u.tilerow+"&tilecol="+u.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new i.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),r=0;r<22;r++)t[r]={identifier:e.tileMatrixPrefix+r,topLeftCorner:new i.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=p},"./MapStore2/web/client/utils/ogc/Filter/base.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/ogc/Filter/filter.js"),o=n.filter,i=n.fidFilter;e.exports={fidFilter:i,filter:o}},"./MapStore2/web/client/utils/ogc/WFS/RequestBuilder.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js"),s=r("./MapStore2/node_modules/lodash/lodash.js").castArray,l=r("./MapStore2/web/client/utils/ogc/WFS/base.js").wfsToGmlVersion,c=function(e){return'service="WFS" version="'+e+'" '+("1.0.0"===e?'outputFormat="GML2" ':"")+'xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs '+"http://schemas.opengis.net/wfs/".concat(e,"1.0.0"===e?'/WFS-basic.xsd"':'/wfs.xsd"')},u=function(e){return'service="WFS" version="'+e+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"'};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wfsVersion,r=void 0===t?"1.1.0":t,n=e.gmlVersion,i=e.filterNS,p=e.wfsNS,d=void 0===p?"wfs":p,f=n;!f&&r?f=l(r):f||(f="3.1.1");var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewParams,n=e.resultType,o=e.outputFormat,i=e.startIndex,a=e.maxFeatures,s=function(e){return 0===r.indexOf("2.")?'count="'.concat(e,'"'):'maxFeatures="'.concat(e,'"')};return(0===r.indexOf("1.")?c(r):u(r))+(n?' resultType="'.concat(n,'"'):"")+(o?' outputFormat="'.concat(o,'"'):"")+(i||0===i?' startIndex="'.concat(i,'"'):"")+(a||0===a?" ".concat(s(a)):"")+(t?' viewParams="'.concat(t,'"'):"")},y=function(e){return s(e).map((function(e){return"<".concat("2.0"===r?"fes":"ogc",":PropertyName>").concat(e,"</").concat("2.0"===r?"fes":"ogc",":PropertyName>")})).join("")};return o(o({propertyName:y},a({gmlVersion:f,wfsVersion:r,filterNS:i||"2.0"===r?"fes":"ogc"})),{},{getFeature:function(e,t){return"<".concat(d,":GetFeature ").concat(m(t),">").concat(Array.isArray(e)?e.join(""):e,"</").concat(d,":GetFeature>")},sortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC";return"<".concat(d,":SortBy><").concat(d,":SortProperty>").concat(y(e),"<").concat(d,":SortOrder>").concat(t,"</").concat(d,":SortOrder></").concat(d,":SortProperty></").concat(d,":SortBy>")},query:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.srsName,i=void 0===o?"EPSG:4326":o;return"<".concat(d,":Query ").concat("2.0"===r?"typeNames":"typeName",'="').concat(e,'" srsName="').concat(i,'">')+"".concat(Array.isArray(t)?t.join(""):t)+"</".concat(d,":Query>")}})}},"./MapStore2/web/client/utils/ogc/WFST/RequestBuilder.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=r("./MapStore2/node_modules/lodash/lodash.js").get,u=r("./MapStore2/web/client/utils/ogc/WFST/insert.js"),p=u.insert,d=u.feature,f=u.attribute,m=r("./MapStore2/web/client/utils/ogc/WFST/transaction.js").transaction,y=r("./MapStore2/web/client/utils/ogc/WFST/delete.js"),b=y.deleteFeaturesByFilter,g=y.deleteFeature,h=r("./MapStore2/web/client/utils/ogc/WFST/update.js"),v=h.update,S=h.propertyChange,w=r("./MapStore2/web/client/utils/ogc/WFS/base.js"),O=w.getPropertyDesciptor,j=w.getValue,E=w.findGeometryProperty,x=w.featureTypeSchema,P=r("./MapStore2/web/client/utils/ogc/WFS/RequestBuilder.js"),T=function(e,t){return t&&t.length>0?[e].concat(s(t)):e},M=function(e){this.version=e},A=function(e){return c(e,"featureTypes[0].typeName")},C=function(e){return e.targetPrefix?"".concat(e.targetPrefix,":").concat(A(e)):A(e)},_=function(e,t){return e.geometry_name||E(t).name},I=function(e,t){return"geometry"===e||e===_({},t)?_({},t):e};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.wfsVersion,n=void 0===r?"1.1.0":r,i=t.wfsNS,s=void 0===i?"wfs":i,l=a(t,["wfsVersion","wfsNS"]);if("1.1.0"!==n)throw new M(n);var c=function(t){return d(e.targetPrefix,A(e),Object.keys(t.properties||[]).filter((function(t){return O(t,e)})).map((function(r){return f(e.targetPrefix,r,j(t.properties[r],r,e))})).concat(t.geometry?f(e.targetPrefix,_(t,e),j(t.geometry,_(t,e),e)):[]))},u=function(e){return e.features?e.features.map(c):c(e)};return o(o({},P(o(o({},l),{},{wfsVersion:n,wfsNS:s}))),{},{insert:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return p(s,Array.isArray(T(e,r))?T(e,r).map(u):u(e))},getPropertyName:function(t){return I(t,e)},deleteByFilter:function(t){return b(s,t,C(e))},deleteFeature:function(t){return g(s,t,C(e))},update:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return v(s,C(e),T(t,n))},propertyChange:function(t,r){return S(s,t,j(r,t,e))},transaction:function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return m(T(t,o),x(e),n,s)}})}},"./MapStore2/web/client/utils/ogc/WFST/delete.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/ogc/Filter/base.js").fidFilter,o=function(e,t,r){return"<".concat(e,':Delete typeName="').concat(r,'">').concat(t,"</").concat(e,":Delete>")},i=function(e,t,r){return o(e,n("ogc",t),r)};e.exports={deleteFeaturesByFilter:o,deleteById:i,deleteFeature:function(e,t,r){return i(e,t.features&&1===t.features.length?t.features[0].id:t.id,r)}}},"./MapStore2/web/client/utils/ogc/WFST/insert.js":function(e,t){var r=function(e,t,r){return"<".concat(e?e+":"+t:t,">").concat(Array.isArray(r)?r.join(""):r,"</").concat(e?e+":"+t:t,">")},n=r,o=r;e.exports={insert:function(e,t){return"<".concat(e,":Insert>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Insert>")},feature:o,attribute:n}},"./MapStore2/web/client/utils/ogc/WFST/transaction.js":function(e,t){e.exports={transaction:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.wfsNS,o=void 0===n?"wfs":n,i=r.wfsVersion,a=void 0===i?"1.1.0":i;return"<".concat(o,":Transaction ")+'service="WFS" '+'version="'.concat(a,'" ')+"xmlns:".concat(o,'="http://www.opengis.net/wfs" ')+'xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs" '+"".concat(t,">")+"".concat(Array.isArray(e)?e.join(""):e)+"</".concat(o,":Transaction>")}}},"./MapStore2/web/client/utils/ogc/WFST/update.js":function(e,t){e.exports={update:function(e,t,r){return"<".concat(e,':Update typeName="').concat(t,'">').concat(Array.isArray(r)?r.join(""):r,"</wfs:Update>")},propertyChange:function(e,t,r){return"<".concat(e,":Property>")+"<".concat(e,":Name>").concat(t,"</").concat(e,":Name>")+"<".concat(e,":Value>").concat(r,"</").concat(e,":Value>")+"</".concat(e,":Property>")}}},"./MapStore2/web/client/utils/ogc/WMC/index.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/xml2js/lib/xml2js.js"),o=r("./MapStore2/node_modules/lodash/lodash.js"),i=r("./node_modules/uuid/v1.js"),a=r.n(i);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=Object(o.get)(t,"childObject",t);return Object(o.keys)(n).filter((function(e){return"$"!==e&&"_"!==e&&"$ns"!==e})).reduce((function(t,i){return[].concat(p(t),p(Object(o.flatten)(n[i].map((function(t){var n=Object(o.get)(t,"$ns",{});return n.uri!==e||n.local!==r?[]:[{params:Object(o.get)(t,"$",{}),charContent:Object(o.get)(t,"_"),childObject:Object(o.omit)(t,"$","_","$ns")}]})))))}),[])},y=function(e,t,r){return Object(o.head)(m(e,t,r))},b=function(e,t,r){return Object(o.values)(Object(o.get)(t,"params",{})).reduce((function(t,n){return t||n.local===r&&n.uri===e&&n.value}),void 0)},g=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object(o.values)(Object(o.get)(e,"params",{})).reduce((function(e,t){var n=r.reduce((function(e,r){var n=Object(o.isString)(r)?{local:r,paramName:r,uri:""}:r,i=n.local,a=n.uri,s=n.paramName;return e||i===t.local&&a===t.uri&&s}),null);return n?c(c({},e),{},u({},n,t.value)):e}),{})},h=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return Object(o.flatten)([[[/\&/g,"&amp;"]],e?[]:[[/\"/g,"&quot;"]],t?[]:[[/\'/g,"&apos;"]],r?[]:[[/\>/g,"&gt;"]],n?[]:[[/\</g,"&lt;"]]]).reduce((function(e,t){var r=s(t,2),n=r[0],o=r[1];return e.replace(n,o)}),i)},v=h.bind(null,!0,!0,!0,!1),S=h.bind(null,!1,!1,!0,!1),w=function(e){var t=e.ns,r=e.prefix;return"xmlns".concat(r?":".concat(r):"",'="').concat(t,'"')},O=function(e){var t=e.xmlns,r=e.name,n=e.value;return"".concat(t&&t.prefix?"".concat(t.prefix,":"):"").concat(r,'="').concat(S(n.toString()),'"')},j=function e(t){var r=t.name,n=t.xmlns,i=t.textContent,a=void 0===i?"":i,s=t.attributes,l=void 0===s?[]:s,u=t.children,d=void 0===u?[]:u,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\n",b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,g=function(e){return"".concat(y).concat(" ".repeat(b*m)).concat(e)},h="".concat(n&&n.prefix?"".concat(n.prefix,":"):"").concat(r),S=f.length>0?f:Object(o.uniqWith)([n].concat(p(l.map((function(e){return e.xmlns})))).filter((function(e){return!!e})),(function(e,t){return e.ns===t.ns})),j=(f.length>0&&0===b||0===f.length)&&S.length>0;return(0===b?'<?xml version="1.0" encoding="UTF-8"?>'.concat(y):"")+" ".repeat(b*m)+"<".concat(h)+"".concat(j?" ".concat(S.map(w).join(" ")):"").concat(l.length>0?" ":"")+l.map((function(e){return O(c(c({},e),{},{xmlns:e.xmlns&&c(c({},e.xmlns),{},{prefix:Object(o.get)(Object(o.find)(S,{ns:e.xmlns.ns}),"prefix")})}))})).join(" ")+(a.length>0||d.length>0?">".concat(v(a))+"".concat(d.map((function(t){return"".concat(y).concat(e(t,f,m,y,b+1))})).join(""))+(d.length>0?g:o.identity)("</".concat(h,">")):"/>")},E=function e(t){var r=t.children||[],n=t.attributes||[];return c(c({},t),{},{attributes:n.filter((function(e){return!!e})),children:r.filter((function(e){return!!e})).map(e)})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(o.keys)(e).filter((function(t){return void 0!==e[t]})).map((function(r){return{name:r,value:e[r],xmlns:t}}))},P=function(e,t){return e.filter((function(e){return!!e})).map((function(e){return c(c({},e),{},{xmlns:t})}))},T=r("./MapStore2/web/client/utils/LayersUtils.js"),M=r("./MapStore2/web/client/utils/CoordinatesUtils.js");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"toMapConfig",(function(){return H})),r.d(t,"toWMC",(function(){return Z}));var N={maxExtent:[0,0,1e4,1e4],projection:"EPSG:900913",layerType:"wms"},F={root:{ns:"http://www.opengis.net/context"},xsi:{ns:"http://www.w3.org/2001/XMLSchema-instance",prefix:"xsi"},xlink:{ns:"http://www.w3.org/1999/xlink",prefix:"xlink"},ol:{ns:"http://openlayers.org/context",prefix:"ol"},ms:{ns:"http://geo-solutions.it/mapstore/context",prefix:"ms"}},G={group:"background",id:"empty_background",source:"ol",title:"Empty Background",type:"empty",visibility:!0},U=function(e){switch(e){case"OGC:WMS":return"wms";default:return N.layerType}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toLowerCase();return"true"===t||"1"===t},z=function(e){return Object(o.keys)(e).filter((function(t){return void 0!==e[t]})).reduce((function(t,r){return D(D({},t),{},k({},r,e[r]))}),{})},W=function(e){return!!(e&&e.minx&&e.miny&&e.maxx&&e.maxy)},V=function(e){return!!(e&&W(e.bounds)&&e.crs)},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new n.Parser({explicitRoot:!1,xmlns:!0});return new Promise((function(n){r.parseString(e,(function(e,r){if(e)throw new Error("General XML parsing error");var i=y.bind(null,F.root.ns),s=m.bind(null,F.root.ns),l=y.bind(null,F.ol.ns),c=y.bind(null,F.ms.ns),u=m.bind(null,F.ms.ns),p=b.bind(null,""),d=b.bind(null,F.xlink.ns),f=function(e){var t,r=g(e,"name","type"),n=r.name,o=r.type;switch(o){case"number":t=parseFloat(e.charContent);break;case"object":t=JSON.parse(e.charContent);break;case"boolean":t=B(e.charContent);break;default:t=e.charContent}return{name:n,type:o,value:t}},h=i({root:[r]},"ViewContext"),v=i(h,"General"),S=i(h,"LayerList"),w=p(h,"version");if(!h||!w)throw new Error("Not a WMC file!");var O=Object(o.get)(i(v,"Title"),"charContent"),j=i(v,"Extension"),E=l(j,"maxExtent"),x=i(v,"BoundingBox"),P=Object(o.mapValues)(E&&g(E,"minx","miny","maxx","maxy")||g(x,"minx","miny","maxx","maxy"),parseFloat),T=W(P)&&[P.minx,P.miny,P.maxx,P.maxy]||N.maxExtent,M=p(x,"SRS")||N.projection,A={bounds:Object(o.mapValues)(g(x,"minx","miny","maxx","maxy"),parseFloat),crs:p(x,"SRS")},I=V(A)?A:void 0,R=t?a()():void 0,L=s(S,"Layer").map((function(e){var t=i(e,"Extension"),r=i(e,"Server"),n=Object(o.head)(s(i(e,"StyleList"),"Style").filter((function(e){return B(p(e,"current"))}))),f=Object(o.get)(l(t,"transparent"),"charContent"),m=Object(o.get)(l(t,"opacity"),"charContent"),y={maxExtent:Object(o.mapValues)(g(l(t,"maxExtent"),"minx","maxx","miny","maxy"),parseFloat),tileSize:Object(o.mapValues)(g(l(t,"tileSize"),"width","height"),parseInt),transparent:f&&B(f),isBaseLayer:B(Object(o.get)(l(t,"isBaseLayer"),"charContent")),singleTile:B(Object(o.get)(l(t,"singleTile"),"charContent")),opacity:m&&parseFloat(m)},b=c(t,"search"),h=u(c(t,"DimensionList"),"Dimension"),v=Object(o.get)(c(t,"filter"),"charContent"),S={group:Object(o.get)(c(t,"group"),"charContent"),search:b&&{url:d(b,"href"),type:p(b,"type")},dimensions:h.map((function(e){return{name:p(e,"name"),source:{type:p(e,"type"),url:d(e,"href")}}})),filter:v&&function(){try{return JSON.parse(v)}catch(e){return null}}()||void 0},w=s(i(e,"DimensionList"),"Dimension").map((function(e){return{name:p(e,"name"),units:p(e,"units"),unitSymbol:p(e,"unitSymbol"),default:p(e,"default"),values:Object(o.get)(e,"charContent","").split(",")}})),O={id:a()(),visibility:!B(p(e,"hidden")),type:U(p(r,"service")),url:d(i(r,"OnlineResource"),"href"),name:Object(o.get)(i(e,"Name"),"charContent"),title:Object(o.get)(i(e,"Title"),"charContent"),format:Object(o.get)(Object(o.head)(s(i(e,"FormatList"),"Format").filter((function(e){return B(p(e,"current"))}))),"charContent"),style:Object(o.get)(i(n,"Name"),"charContent"),singleTile:y.singleTile,queryable:B(p(e,"queryable")),bbox:W(y.maxExtent)?{bounds:y.maxExtent,crs:M}:void 0,group:S.group||(y.isBaseLayer?"background":R),opacity:y.opacity,search:S.search,layerFilter:S.filter,dimensions:Object(o.uniqWith)([].concat(_(S.dimensions),_(w)),(function(e,t){return e.name===t.name}))};return D(D({},z(O)),{},{params:z(O.params)})})),H=[].concat(_(L.filter((function(e){return"background"===e.group}))),_(L.filter((function(e){return"background"!==e.group})))),q=0===H.filter((function(e){return"background"===e.group&&e.visibility})).length?[G].concat(_(H)):H,Y=c(j,"GroupList"),Z=u(Y,"Group").map((function(e){return{id:p(e,"id"),title:p(e,"title"),expanded:B(p(e,"expanded"))}})),Q=Y&&Z||[].concat(_(q.filter((function(e){return!e.group||"Default"===e.group})).length>0?[{id:"Default",title:"Default",expanded:!0}]:[]),_(t?[{id:R,title:O||R}]:[])),K=c(j,"center"),X=D(D({},Object(o.mapValues)(g(K,"x","y"),parseFloat)),{},{crs:p(K,"crs")}),J=parseFloat(Object(o.get)(c(j,"zoom"),"charContent")),$=c(j,"CatalogServices"),ee=p($,"selectedService"),te=u($,"Service").map((function(e){return[p(e,"serviceName"),u(e,"Attribute")]})).reduce((function(e,t){var r=C(t,2),n=r[0],o=r[1];return D(D({},e),{},k({},n,o.map(f).reduce((function(e,t){var r=t.name,n=t.value;return D(D({},e),{},k({},r,n))}),{})))}),{}),re={catalogServices:$&&{selectedService:ee,services:te},map:{maxExtent:T,bbox:J?void 0:I,projection:M,backgrounds:[],groups:Q,layers:q,center:Object(o.has)(X,"x","y","crs")?X:void 0,zoom:J},version:2};n(re)}))}))},q=function(e){return e?"1":"0"},Y={wms:"OGC:WMS"},Z=function(e,t){var r=e.map,n=e.catalogServices,i=t.title,a=void 0===i?"MapStore Context":i,s=t.abstract,l=void 0===s?"This is a map exported from MapStore2.":s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\n",p=function(e){return x({type:"simple",href:e},F.xlink)},d=function(e){return{name:"OnlineResource",attributes:p(e)}},f=r.maxExtent,m=r.bbox,y=r.projection,b=r.layers,g=r.groups,h=r.center,v=r.zoom,S=function(e){var t=Object(M.reprojectBbox)(e.bounds,e.crs,y);return{name:"maxExtent",attributes:x({minx:t[0],miny:t[1],maxx:t[2],maxy:t[3]})}},w=P([{name:"maxExtent",attributes:x({minx:f[0],miny:f[1],maxx:f[2],maxy:f[3]})}],F.ol),O=P([g.length>0?{name:"GroupList",children:g.map((function(e){return{name:"Group",xmlns:F.ms,attributes:x({id:e.id,title:e.title,expanded:e.expanded})}}))}:null,n&&{name:"CatalogServices",attributes:n.selectedService&&x({selectedService:n.selectedService}),children:Object(o.toPairs)(n.services).map((function(e){var t=C(e,2),r=t[0],n=t[1];return{name:"Service",xmlns:F.ms,attributes:x({serviceName:r}),children:Object(o.keys)(n).filter((function(e){return void 0!==n[e]&&null!==n[e]&&("string"==typeof n[e]||"boolean"==typeof n[e]||"number"==typeof n[e]||"bigint"==typeof n[e]||"object"===A(n[e]))})).map((function(e){return{name:"Attribute",xmlns:F.ms,attributes:x({name:e,type:A(n[e])}),textContent:"object"===A(n[e])?JSON.stringify(n[e]):n[e].toString()}}))}}))},h&&{name:"center",attributes:x(h)},v&&{name:"zoom",textContent:v.toString()}],F.ms),I={name:"LayerList",children:b.filter((function(e){return"wms"===e.type})).map((function(e){var t=e.capabilities||{},r=(e.dimensions||[]).filter((function(e){return!!e.source})),n=[].concat(_((e.dimensions||[]).filter((function(e){return!e.source}))),_(Object(o.get)(t,"dimension",[]).filter((function(e){var t=e.name;return Object(o.findIndex)(r,(function(e){return e.name===t}))>-1})).map((function(e){var t=e._default,r=e.name,n=e.units,o=e.unitSymbol,i=e.value;return{name:r,units:n,unitSymbol:o,values:(void 0===i?"":i).split(","),default:t}})))),i=Object(o.get)(t,"style",[]).map((function(t){var r=t.name,n=t.title,i=t.legendURL,a=void 0===i?[]:i;return{name:r,title:n,legendURL:a[0]&&Object(o.pick)(a[0],"width","height","format","onlineResource"),current:r===e.style}})),a=P([e.bbox?S(e.bbox):null,{name:"singleTile",textContent:(e.singleTile||!1).toString()},{name:"transparent",textContent:(void 0===e.transparent||e.transparent).toString()},{name:"isBaseLayer",textContent:("background"===e.group).toString()},{name:"opacity",textContent:(void 0===e.opacity?1:e.opacity).toString()}],F.ol),s=P([{name:"group",textContent:e.group||"Default"},e.search&&{name:"search",attributes:[{name:"type",value:e.search.type}].concat(_(p(e.search.url)))},e.layerFilter&&{name:"filter",textContent:JSON.stringify(e.layerFilter)},r.length>0&&{name:"DimensionList",children:r.map((function(e){var t=e.source,r=t.type,n=t.url,o=e.name;return{name:"Dimension",xmlns:F.ms,attributes:[].concat(_(x({name:o,type:r})),_(p(n)))}}))}],F.ms);return{name:"Layer",attributes:x(Object(o.mapValues)({queryable:e.queryable,hidden:!e.visibility},q)),children:[{name:"Name",textContent:e.name},{name:"Title",textContent:e.title},{name:"Server",attributes:x({service:Y[e.type],version:"1.3.0"}),children:[d(Object(T.getLayerUrl)(e))]},n.length>0&&{name:"DimensionList",children:n.map((function(e){var t=e.name,r=e.units,n=e.unitSymbol,o=e.values,i=void 0===o?[]:o,a=e.default;return{name:"Dimension",attributes:x({name:t,units:r,unitSymbol:n,default:a,multipleValues:i.length>1?"1":void 0}),textContent:i.toString()}}))},e.format&&{name:"FormatList",children:[{name:"Format",attributes:[{name:"current",value:"1"}],textContent:e.format}]},i.length>0&&{name:"StyleList",children:i.map((function(e){var t=e.name,r=e.title,n=e.current,i=e.legendURL,a=Object(o.get)(i,"onlineResource.href");return{name:"Style",attributes:n&&x({current:n})||[],children:[{name:"Name",textContent:t},{name:"Title",textContent:r},i&&{name:"LegendURL",attributes:x(D({},Object(o.pick)(i,"width","height","format"))),children:a&&[d(a)]}]}}))},{name:"Extension",children:[].concat(_(a),_(s))}]}}))};return j(E({name:"ViewContext",xmlns:F.root,attributes:[{name:"version",value:"1.1.0"},{name:"schemaLocation",value:"http://www.opengis.net/context http://schemas.opengis.net/context/1.1.0/context.xsd",xmlns:F.xsi}],children:[{name:"General",children:[{name:"Title",textContent:a},{name:"Abstract",textContent:l},{name:"BoundingBox",attributes:x(V(m)?D(D({},m.bounds),{},{SRS:m.crs}):{minx:f[0],miny:f[1],maxx:f[2],maxy:f[3],SRS:y})},{name:"Extension",children:[].concat(_(w),_(O))}]},I]}),Object(o.values)(F),c,u)}},"./MapStore2/web/client/utils/ogc/WPS/autocomplete.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./MapStore2/web/client/utils/FilterUtils.jsx"),a=r("./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js")({}).and;e.exports={getWpsPayload:function(e){var t=e.layerName,r=e.layerFilter,o=e.attribute,s=e.maxFeatures,l=e.startIndex,c=e.value,u=c?'<ogc:PropertyIsLike matchCase="false" wildCard="*" singleChar="." escapeChar="!">   <ogc:PropertyName>'+o+"</ogc:PropertyName>   <ogc:Literal>*"+c+"*</ogc:Literal></ogc:PropertyIsLike>":"",p=r&&!r.disabled&&i.isFilterValid(r)?i.toOGCFilterParts(r,"1.1.0","ogc"):[];return'<wps:Execute xmlns:wps="http://www.opengis.net/wps/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0.0" service="WPS" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">  <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">gs:PagedUnique</ows:Identifier>  <wps:DataInputs>    <wps:Input>      <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">features</ows:Identifier>      <ows:Title xmlns:ows="http://www.opengis.net/ows/1.1">features</ows:Title>      <wps:Data />      <wps:Reference xmlns:xlink="http://www.w3.org/1999/xlink" mimeType="text/xml" xlink:href="http://geoserver/wfs" method="POST">        <wps:Body>         <wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" service="WFS" version="1.0.0">           <wfs:Query typeName="'+t+'">'+(u.length>0||p.length>0?'<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml">'+a.apply(void 0,n(p).concat([u]))+"</ogc:Filter>":"")+'             <ogc:SortBy xmlns:ogc="http://www.opengis.net/ogc">               <ogc:SortProperty>                 <ogc:PropertyName>'+o+'</ogc:PropertyName>               </ogc:SortProperty>             </ogc:SortBy>           </wfs:Query>         </wfs:GetFeature>       </wps:Body>     </wps:Reference>   </wps:Input>   <wps:Input>     <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">fieldName</ows:Identifier>     <ows:Title xmlns:ows="http://www.opengis.net/ows/1.1">fieldName</ows:Title>     <wps:Data>       <wps:LiteralData>'+o+'</wps:LiteralData>     </wps:Data>   </wps:Input>   <wps:Input>     <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">maxFeatures</ows:Identifier>     <ows:Title xmlns:ows="http://www.opengis.net/ows/1.1">maxFeatures</ows:Title>     <wps:Data>       <wps:LiteralData>'+s+'</wps:LiteralData>     </wps:Data>   </wps:Input>   <wps:Input>     <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">startIndex</ows:Identifier>     <ows:Title xmlns:ows="http://www.opengis.net/ows/1.1">startIndex</ows:Title>     <wps:Data>       <wps:LiteralData>'+l+'</wps:LiteralData>     </wps:Data>   </wps:Input> </wps:DataInputs> <wps:ResponseForm>   <wps:RawDataOutput mimeType="application/json">     <ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">result</ows:Identifier>   </wps:RawDataOutput> </wps:ResponseForm></wps:Execute>'}}},"./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("./MapStore2/node_modules/lodash/isArray.js"),o=r.n(n),i=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),a=r("./node_modules/ol/extent.js"),s=r("./node_modules/ol/geom/Circle.js"),l=function(e,t,r,n){if(o()(t)&&o()(t[0])&&o()(t[0][0])){var a=Object(i.reproject)(t[0][0],n,r);return Math.sqrt(Math.pow(e[0]-a.x,2)+Math.pow(e[1]-a.y,2))}return 100},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(!e.getGeometry()||"Polygon"!==e.getGeometry().getType()||e.getProperties().center&&0===e.getProperties().center.length)return e;if(e.getProperties()&&e.getProperties().isCircle&&e.getProperties().center&&e.getProperties().center[0]&&e.getProperties().center[1]){var n,o=e.getGeometry().getExtent();n=e.getProperties().center?[(n=Object(i.reproject)(e.getProperties().center,"EPSG:4326",t)).x,n.y]:Object(a.x)(o);var c=e.getProperties().crs===t?e.getProperties().radius:l(n,e.getGeometry().getCoordinates(),t,r);return e.setGeometry(new s.a(n,c)),e}return e}},"./MapStore2/web/client/utils/openlayers/DrawUtils.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return S})),r.d(t,"a",(function(){return w}));var n=r("./node_modules/ol/interaction/DragPan.js"),o=r("./node_modules/ol/interaction/KeyboardPan.js"),i=r("./node_modules/ol/interaction/MouseWheelZoom.js"),a=r("./node_modules/ol/interaction/DoubleClickZoom.js"),s=r("./node_modules/ol/interaction/DragZoom.js"),l=r("./node_modules/ol/interaction/KeyboardZoom.js"),c=r("./node_modules/ol/interaction/PinchZoom.js"),u=r("./node_modules/ol/interaction/PinchRotate.js"),p=r("./node_modules/ol/interaction/DragRotate.js"),d=r("./node_modules/ol/geom/Point.js"),f=r("./node_modules/ol/geom/LineString.js"),m=r("./node_modules/ol/geom/MultiPoint.js"),y=r("./node_modules/ol/geom/MultiLineString.js"),b=r("./node_modules/ol/geom/MultiPolygon.js"),g=r("./node_modules/ol/geom/Circle.js"),h=r("./node_modules/ol/geom/Polygon.js"),v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.type,n=t.coordinates,o=t.radius,i=t.center;switch(r){case"Point":e=new d.a(n||[]);break;case"LineString":e=new f.a(n||[]);break;case"MultiPoint":e=new m.a(n||[]);break;case"MultiLineString":e=new y.a(n||[]);break;case"MultiPolygon":e=new b.a(n||[]);break;default:e=o&&i?Object(h.c)(new g.a([i.x,i.y],o),100):new h.b(n||[])}return e},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.geometry&&"Polygon"===e.geometry.type},w={dragPan:{options:{kinetic:!1},Instance:n.a},keyboardPan:{options:{kinetic:!1},Instance:o.a},mouseWheelZoom:{options:{duration:0},Instance:i.a},doubleClickZoom:{options:{duration:0},Instance:a.a},shiftDragZoom:{options:{duration:0},Instance:s.a},keyboardZoom:{options:{},Instance:l.a},pinchZoom:{options:{duration:0},Instance:c.a},pinchRotate:{options:{},Instance:u.a},altShiftDragRotate:{options:{},Instance:p.a}}},"./MapStore2/web/client/utils/openlayers/VectorTileUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var n=r("./node_modules/ol/format/MVT.js"),o=r("./node_modules/ol/format/GeoJSON.js"),i=r("./node_modules/ol/format/TopoJSON.js"),a=r("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),s={"application/vnd.mapbox-vector-tile":n.a,"application/json;type=geojson":o.a,"application/json;type=topojson":i.a},l=function(e,t){Object(a.d)({asPromise:!0,style:e}).then((function(e){t.setStyle(e)})).catch((function(){}))}},"./MapStore2/web/client/utils/openlayers/highlight.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAABIUlEQVRIS+3UsYoCMRDG8f8q+EBid5WNnc019la2Vr6Ala1g4SvY+RTXiVdcJQgHV9jJIdhKZCNx2GwyibCNW4bd+X47k6Sg4adoOJ83wNcBsz4CvoGfF4zpEzgCO1mrCmDWpsAC+Af6wD4DMQGWwBUYAF9uLQlww1vli+cMhA1vl7UuEuECqsItNgUhw22tJ4QLGANrwP657LoG4Qt3EV3g4ALMfLZAp2beMYhQuCn/B/SAk9wDQ2CTgYgN/wB+jaTqFKQi1OE+gFnXIpLC6wAaxAqYAfaoVW0hM/NH2+vuAflxTCdCd5Q3PNQBWzgHURseC4gdh+xEMFwD0CKiwrWAWER0eAoghFCFpwJ8CHV4DkAiksJzARYxL2/O+92ufW42SVMYbhcsEwAAAABJRU5ErkJgggAA"},"./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,r){var n=r("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css");"string"==typeof n&&(n=[[e.i,n,""]]);r("./node_modules/style-loader/addStyles.js")(n,{});n.locals&&(e.exports=n.locals)},"./MapStore2/web/client/utils/styleeditor/stylesTemplates.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/uuid/v1.js"),s=[{types:["point","linestring","polygon","vector"],title:"Base CSS",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol(square);\n\t:mark { fill: #ff0000; };\n}\n\n* {\n\tstroke: #999999;\n}",preview:{config:{backgroundColor:"#333333",texts:[{text:"CSS",fill:"#ffaa33",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["point","linestring","polygon","vector"],title:"Base SLD",format:"sld",code:'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<LineSymbolizer>\n\t\t\t\t\t\t<Stroke>\n\t\t\t\t\t\t\t<CssParameter name="stroke">#0000FF</CssParameter>\n\t\t\t\t\t\t</Stroke>\n\t\t\t\t\t\t</LineSymbolizer>\n\t\t\t\t\t<PointSymbolizer>\n\t\t\t\t\t\t<Graphic>\n\t\t\t\t\t\t\t<Mark>\n\t\t\t\t\t\t\t\t<WellKnownName>square</WellKnownName>\n\t\t\t\t\t\t\t\t<Fill>\n\t\t\t\t\t\t\t\t\t<CssParameter name="fill">#FF0000</CssParameter>\n\t\t\t\t\t\t\t\t</Fill>\n\t\t\t\t\t\t\t</Mark>\n\t\t\t\t\t\t</Graphic>\n\t\t\t\t\t</PointSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n',preview:{config:{backgroundColor:"#333333",texts:[{text:"SLD",fill:"#33ffaa",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["raster"],title:"Base CSS",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\traster-channels: auto;\n}",preview:{config:{backgroundColor:"#333333",texts:[{text:"CSS",fill:"#ffaa33",style:{fontSize:64,fontWeight:"bold"}}]}}},{types:["raster"],title:"Base SLD",format:"sld",code:'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<RasterSymbolizer>\n\t\t\t\t\t\t<Opacity>1.0</Opacity>\n\t\t\t\t\t\t</RasterSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n',preview:{config:{backgroundColor:"#333333",texts:[{text:"SLD",fill:"#33ffaa",style:{fontSize:64,fontWeight:"bold"}}]}}}].map((function(e){return o(o({},e),{},{styleId:a()})})),l=[{types:["linestring","vector"],title:"Line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #999999;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#999999"}]}}},{types:["linestring","vector"],title:"Dashed line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #333333;\n\tstroke-width: 0.75;\n\tstroke-dasharray: 6 2;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#333333",strokeWidth:4,strokeDasharray:"20 4"}]}}},{types:["linestring","vector"],title:"Section line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #330033;\n\tstroke-width: 1;\n\tstroke-dasharray: 10 4 1 4;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#330033",strokeWidth:4,strokeDasharray:"20 10 4 10"}]}}},{types:["linestring","vector"],title:"Simple railway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: symbol('shape://vertline'), #000000;\n    :stroke {\n        stroke: #000000;\n        size: 8;\n    };\n}\n",preview:{config:{type:"linestring",paths:[{stroke:"#333333",strokeWidth:2,strokeLinejoin:"round"},{stroke:"#333333",strokeWidth:16,strokeDasharray:"2 20",strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Railway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #777777, #ffffff;\n\tstroke-width: 4, 2;\n\tstroke-dasharray: 1 0, 10 10;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#777777",strokeWidth:8,strokeLinejoin:"round"},{stroke:"#ffffff",strokeWidth:6,strokeDasharray:"20 20",strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Waterway",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #8bbceb, #bbddff;\n\tstroke-width: 10, 8;\n\tstroke-linejoin: round;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#8bbceb",strokeWidth:14,strokeLinejoin:"round"},{stroke:"#bbddff",strokeWidth:12,strokeLinejoin:"round"}]}}},{types:["linestring","vector"],title:"Red road",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n\tstroke: #ff5539, #ffffff;\n\tstroke-width: 8, 5;\n}",preview:{config:{type:"linestring",paths:[{stroke:"#ff5539",strokeWidth:14},{stroke:"#ffffff",strokeWidth:7}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: symbol('circle');\n    stroke-dasharray: 8 20;\n    :stroke {\n        size: 8;\n        fill: #ddd;\n        stroke: #777;\n        stroke-width: 0.5;\n    };\n}\n",types:["linestring","vector"],title:"Stroke Pattern",format:"css",preview:{config:{type:"linestring",paths:[{type:"point",transform:"translate(-0, -55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(-65, 55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(-33, 0)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(33, 0)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"},{type:"point",transform:"translate(65, 55)",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#777",strokeWidth:2,fill:"#ddd"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    label: 'Label';\n    label-anchor: 0.5 0.5;\n    label-conflict-resolution: false;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n}\n",types:["linestring","vector"],title:"Label",format:"css",preview:{config:{type:"linestring",paths:[{stroke:"#333",strokeWidth:4}],texts:[{text:"Label",transform:"translate(-40, 0)",style:{fontSize:30,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",transform:"translate(-40, 0)",style:{fontSize:30,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd;\n}\n",types:["polygon","vector"],title:"Fill",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    stroke-width: 1;\n}\n",types:["polygon","vector"],title:"Border",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    stroke: #333;\n    stroke-dasharray: 10 5;\n    stroke-width: 2;\n    stroke-opacity: 0.5;\n}\n",types:["polygon","vector"],title:"Dashed Border",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333",strokeWidth:4,strokeDasharray:"20 10",strokeOpacity:.5}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd;\n    stroke: #333;\n    stroke-width: 1;\n}\n",types:["polygon","vector"],title:"Simple",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd",stroke:"#333",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: symbol('shape://slash');\n    :fill {\n        size: 8;\n        stroke: #000;\n        stroke-width: 1;\n        stroke-linecap: round;\n    };\n}\n",types:["polygon","vector"],title:"Line Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"url(#line)"}],patterns:[{id:"line",icon:{d:"M0.0 1.0 L1.0 0.0",stroke:"#000",strokeWidth:.05}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: symbol('shape://dot');\n    :fill {\n        size: 8;\n        stroke: #000000;\n        stroke-width: 4;\n    };\n}\n",types:["polygon","vector"],title:"Dot Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"url(#poly_dot)"}],patterns:[{id:"poly_dot",icon:{d:"M0.5 0.5 L0.5 0.52Z",stroke:"#000",strokeLinecap:"round",strokeWidth:.2}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    mark: symbol('circle');\n    :mark {\n        size: 16;\n        stroke: #333;\n        stroke-width: 2;\n        fill: #ddd;\n    };\n}\n\n* {\n    stroke: #333333;\n    stroke-width: 0.5;\n}\n",types:["polygon","vector"],title:"Marker",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#333"},{type:"point",d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#333",fill:"#ddd",strokeWidth:4}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    fill: #ddd, symbol('cross');\n    :fill {\n        size: 20;\n        stroke: #333;\n        stroke-width: 1;\n        fill: #f2f2f2;\n    };\n}\n",types:["polygon","vector"],title:"Fill Pattern",format:"css",preview:{config:{type:"polygon",paths:[{fill:"#ddd"},{fill:"url(#poly_square)"}],patterns:[{id:"poly_square",icon:{d:"M0.1 0.1 L0.9 0.1 L0.9 0.9 L0.1 0.9Z",stroke:"#333",strokeLinecap:"round",strokeWidth:.05,fill:"#f2f2f2"}}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    label: 'Label';\n    label-anchor: 0.5 0.5;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n\n    stroke: #474747;\n    fill: symbol('shape://slash');\n    :fill {\n        size: 8;\n        stroke: #000;\n        stroke-width: 1;\n        stroke-linecap: round;\n    };\n}\n",types:["polygon","vector"],title:"Label and Fill",format:"css",preview:{config:{type:"polygon",paths:[{fill:"transparent",stroke:"#000",strokeWidth:2},{fill:"url(#line)"}],texts:[{text:"Label",style:{fontSize:50,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",style:{fontSize:50,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}},{types:["point","vector"],title:"Square",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('square');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M40 40 L160 40 L160 160 L40 160Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Circle",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('circle');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 160,100 A 60,60 0 0 1 100,160 60,60 0 0 1 40,100 60,60 0 0 1 100,40 60,60 0 0 1 160,100 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Triangle",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('triangle');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 160,151.96151 H 40 L 99.999999,48.038488 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Star",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('star');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 165.07677,84.40286 131.87672,116.49613 139.49277,162.03972 98.710865,140.38195 57.749838,161.699 65.745291,116.22048 32.813927,83.851564 78.537289,77.40206 99.145626,36.079922 119.40876,77.572419 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Cross",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('cross');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 84.99987,39.999998 V 84.999868 H 39.999999 V 115.00013 H 84.99987 V 160 H 115.00013 V 115.00013 H 160 V 84.999868 H 115.00013 V 39.999998 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"X",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('x');\n\t:mark {\n\t\tstroke: #ff338f;\n\t\tfill: #bcedff;\n\t};\n}",preview:{config:{type:"point",paths:[{d:"M 131.81971,46.966899 100,78.786612 68.180288,46.966898 46.966899,68.180287 78.786613,100 46.9669,131.81971 68.180287,153.0331 100,121.21339 131.81971,153.0331 153.0331,131.81971 121.21339,99.999999 153.0331,68.180286 Z",stroke:"#ff338f",fill:"#bcedff",strokeWidth:4}]}}},{types:["point","vector"],title:"Line",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://vertline');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Plus",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://plus');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 100,40 V 160 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"},{d:"M 160,100 40.000002,100 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Times",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://times');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 142.42641,57.573591 57.573595,142.4264 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"},{d:"M 142.42641,142.42641 57.573595,57.573594 Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Open arrow",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://oarrow');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{types:["point","vector"],title:"Closed arrow",format:"css",code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n * {\n\tmark: symbol('shape://carrow');\n\t:mark { stroke: #ff338f; };\n}",preview:{config:{type:"point",paths:[{d:"M 40.027335,53.266123 159.77305,100 40.027335,146.73388Z",stroke:"#ff338f",strokeWidth:4,fill:"none"}]}}},{code:"@mode 'Flat';\n@styleTitle '${styleTitle}';\n@styleAbstract '${styleAbstract}';\n\n* {\n    label: 'Label';\n    label-anchor: 0.5 2;\n    label-conflict-resolution: false;\n\n    font-fill: #000;\n    font-family: 'sans-serif';\n    font-size: 20;\n\n    halo-color: #fff;\n    halo-radius: 4;\n\n    mark: symbol('circle');\n    :mark {\n        size: 7;\n        stroke: #0d0d0d;\n        stroke-width: 0.7;\n    };\n}\n",types:["polygon","point","vector"],title:"Label and Marker",format:"css",preview:{config:{type:"polygon",paths:[{type:"point",d:"M 100, 100 m -10, 0 a 10,10 0 1,0 20,0 a 10,10 0 1,0 -20,0",stroke:"#0d0d0d",fill:"transparent",strokeWidth:2}],texts:[{text:"Label",y:150,style:{fontSize:50,fontWeight:"bold",strokeWidth:12,stroke:"#ffffff"}},{text:"Label",fill:"#000000",y:150,style:{fontSize:50,fontWeight:"bold",strokeWidth:1,stroke:"#000000"}}]}}}].map((function(e){return o(o({},e),{},{styleId:a()})}));e.exports={baseTemplates:s,customTemplates:l}},"./js/actions/gnresource.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"h",(function(){return a})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"j",(function(){return p})),r.d(t,"l",(function(){return d})),r.d(t,"o",(function(){return f})),r.d(t,"i",(function(){return m})),r.d(t,"p",(function(){return y})),r.d(t,"k",(function(){return b})),r.d(t,"m",(function(){return g})),r.d(t,"n",(function(){return h}));var n="GEONODE:RESOURCE_LOADING",o="GEONODE:SET_RESOURCE",i="GEONODE:RESOURCE_ERROR",a="GEONODE:UPDATE_RESOURCE_PROPERTIES",s="GEONODE:SET_RESOURCE_TYPE",l="GEONODE:SET_NEW_RESOURCE",c="GEONODE:SET_RESOURCE_ID",u="GEONODE:SET_RESOURCE_PERMISSIONS";function p(){return{type:n}}function d(e){return{type:o,data:e}}function f(e){return{type:s,resourceType:e}}function m(e){return{type:i,error:e}}function y(e){return{type:a,properties:e}}function b(){return{type:l}}function g(e){return{type:c,id:e}}function h(e){return{type:u,permissions:e}}},"./js/actions/gnsave.js":function(e,t,r){"use strict";r.d(t,"e",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"f",(function(){return l})),r.d(t,"k",(function(){return c})),r.d(t,"j",(function(){return u})),r.d(t,"i",(function(){return p})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return f})),r.d(t,"l",(function(){return m}));var n="GEONODE:SAVING_RESOURCE",o="GEONODE:SAVE_SUCCESS",i="GEONODE:SAVE_ERROR",a="GEONODE:CLEAR_SAVE",s="GEONODE:SAVE_CONTENT",l="GEONODE:UPDATE_RESOURCE_BEFORE_SAVE";function c(){return{type:n}}function u(e){return{type:o,success:e}}function p(e){return{type:i,error:e}}function d(e){return{type:a,error:e}}function f(e,t){return{type:s,metadata:e,id:t}}function m(e){return{type:l,id:e}}},"./js/api/geonode/adapter/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return c}));var n=r("./MapStore2/web/client/libs/ajax.js"),o=r.n(n),i=r("./MapStore2/web/client/utils/ConfigUtils.js"),a=r("./js/utils/APIUtils.js"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.getConfigProp)("genode_rest_api")||"/mapstore/rest/";return o.a.post(Object(a.a)("".concat(t,"resources/")),e,{timeout:1e4,params:{full:!0}}).then((function(e){return e.data}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(i.getConfigProp)("genode_rest_api")||"/mapstore/rest/";return o.a.patch(Object(a.a)("".concat(r,"resources/").concat(e,"/")),t,{params:{full:!0}}).then((function(e){return e.data}))},c=function(e){var t=Object(i.getConfigProp)("genode_rest_api")||"/mapstore/rest/";return o.a.get(Object(a.a)("".concat(t,"resources/").concat(e,"/")),{params:{full:!0}}).then((function(e){return e.data}))}},"./js/api/geonode/v2/index.js":function(e,t,r){"use strict";var n=r("./MapStore2/web/client/libs/ajax.js"),o=r.n(n),i=r("./js/utils/APIUtils.js"),a={},s=function(e,t){a[e]=t},l=function(e){return a[e]},c=r("./node_modules/lodash/isArray.js"),u=r.n(c),p=r("./node_modules/lodash/castArray.js"),d=r.n(p);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return S})),r.d(t,"d",(function(){return w})),r.d(t,"a",(function(){return O})),r.d(t,"e",(function(){return j}));var g={base_resources:"/api/v2/base_resources",maps:"/api/v2/maps",geoapps:"/api/v2/geoapps",geostories:"/api/v2/geostories"},h=function(e,t){var r=l(e);return r?t(r):o.a.options(Object(i.a)(g[e])).then((function(r){var n=r.data;return s(e,n),t(n)})).catch((function(){var r={error:!0};return s(e,r),t(r)}))},v=function(){return o.a.get("/api/v2/").then((function(e){var t=e.data;return function(e){g=e}(t),t}))};var S=function(e){var t=e.q,r=e.pageSize,n=void 0===r?20:r,a=e.page,s=void 0===a?1:a,l=e.sort,c=b(e,["q","pageSize","page","sort"]);return h("maps",(function(){return o.a.get(Object(i.a)(function(e,t){if(!t)return e;var r=Object.keys(t).reduce((function(e,r,n){var o=0===n?"?":"&",i=d()(t[r]);return i.length>1?e+i.reduce((function(e,t,n){return e+(0===n?o:"&")+r+"="+t}),""):e+o+r+"="+i[0]}),"");return"".concat(e).concat(r)}(g.maps,t&&{search:t,search_fields:["title","abstract"]})),{params:m(m(m({},c),l&&{sort:u()(l)?l:[l]}),{},{page:s,page_size:n})}).then((function(e){var t=e.data;return{totalCount:t.total,isNextPageAvailable:!!t.links.next,resources:(t.maps||[]).map((function(e){return e}))}}))}))},w=function(e){return o.a.get(Object(i.a)("".concat(g.base_resources,"/").concat(e))).then((function(e){return e.data.resource}))},O=function(e){return o.a.post(Object(i.a)("".concat(g.geostories)),e,{params:{include:["data"]}}).then((function(e){return e.data.geostory}))},j=function(e,t){return o.a.patch(Object(i.a)("".concat(g.geostories,"/").concat(e)),t,{params:{include:["data"]}}).then((function(e){return e.data.geostory}))}},"./js/epics/gnsave.js":function(e,t,r){"use strict";var n=r("./node_modules/rxjs/Rx.js"),o=r("./MapStore2/web/client/selectors/map.js"),i=r("./MapStore2/web/client/selectors/layers.js"),a=r("./MapStore2/web/client/selectors/backgroundselector.js"),s=r("./MapStore2/web/client/utils/MapUtils.js"),l=r("./node_modules/reselect/es/index.js"),c=r("./MapStore2/web/client/selectors/catalog.js"),u=r("./MapStore2/web/client/selectors/widgets.js"),p=r("./MapStore2/web/client/selectors/mapInfo.js"),d=r("./MapStore2/web/client/selectors/dimension.js"),f=r("./MapStore2/web/client/selectors/timeline.js"),m=function(e){return e.searchconfig&&e.searchconfig.textSearchConfig},y=function(e){return e.searchbookmarkconfig&&e.searchbookmarkconfig.bookmarkSearchConfig};function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={},S=Object(l.createStructuredSelector)({catalogServices:Object(l.createStructuredSelector)({services:c.servicesSelector,selectedService:c.selectedServiceSelector}),widgetsConfig:Object(l.createStructuredSelector)({widgets:u.getFloatingWidgets,layouts:u.getFloatingWidgetsLayout,collapsed:u.getCollapsedState}),mapInfoConfiguration:p.mapInfoConfigurationSelector,dimensionData:Object(l.createStructuredSelector)({currentTime:d.currentTimeSelector,offsetTime:d.offsetTimeSelector}),timelineData:Object(l.createStructuredSelector)({selectedLayer:f.selectedLayerSelector})}),w=function(e){var t=Object.keys(v).reduce((function(t,r){return g(g({},t),{},h({},r,v[r](e)))}),{});return g(g({},S(e)),t)},O=r("./MapStore2/web/client/utils/ConfigUtils.js"),j=r("./MapStore2/web/client/selectors/geostory.js"),E=r("./MapStore2/web/client/selectors/security.js"),x=r("./js/api/geonode/adapter/index.js"),P=r("./js/actions/gnsave.js"),T=r("./js/actions/gnresource.js"),M=r("./js/api/geonode/v2/index.js"),A=r("./js/utils/APIUtils.js"),C=r("./node_modules/uuid/index.js"),_=r.n(C);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N={map:function(e,t,r){var n=Object(o.mapSelector)(e),l=Object(i.layersSelector)(e),c=Object(i.groupsSelector)(e),u=Object(a.backgroundListSelector)(e),p=m(e),d=y(e),f=w(e),b=Object(s.saveMapConfiguration)(n,l,c,u,p,d,f),g=t.name,h=t.description,v=t.thumbnail,S={name:g,data:b,attributes:[{type:"string",name:"title",value:g,label:"Title"},{type:"string",name:"abstract",value:h,label:"Abstract"}].concat(D(v?[{type:"string",name:"thumbnail",value:v,label:"Thumbnail"}]:[]))};return r?Object(x.c)(r,R(R({},S),{},{id:r})):Object(x.a)(S).then((function(e){return window.location.href=Object(A.a)("".concat(Object(O.getConfigProp)("geonode_url"),"maps/").concat(e.id,"/edit")),e.data}))},geostory:function(e,t,r){var n=Object(j.e)(e),o=Object(E.userSelector)(e),i={title:t.name,abstract:t.description,data:JSON.stringify(n),thumbnail_url:t.thumbnail};return r?Object(M.e)(r,i):Object(M.a)(R({name:t.name+" "+_()(),owner:o.name},i)).then((function(e){return window.location.href=Object(A.a)("".concat(Object(O.getConfigProp)("geonode_url"),"apps/").concat(e.pk,"/edit")),e.data}))}};t.a={gnSaveContent:function(e,t){return e.ofType(P.b).switchMap((function(e){var r,o=t.getState(),i=(null===(r=o.gnresource)||void 0===r?void 0:r.type)||"map";return n.Observable.defer((function(){return N[i](o,e.metadata,e.id)})).switchMap((function(t){return n.Observable.of(Object(P.j)(t),Object(T.p)({title:e.metadata.name,abstract:e.metadata.description,thumbnail_url:e.metadata.thumbnail}))})).catch((function(e){return n.Observable.of(Object(P.i)(e.data||e.message))})).startWith(Object(P.k)())}))},gnUpdateResource:function(e,t){return e.ofType(P.f).switchMap((function(e){var r,o=(null===(r=t.getState().gnresource)||void 0===r?void 0:r.data)||{};return!e.id||o.pk&&e.id&&o.pk+""==e.id+""?n.Observable.empty():n.Observable.defer((function(){return Object(M.d)(e.id)})).switchMap((function(e){return n.Observable.of(Object(T.l)(e))})).catch((function(e){return n.Observable.of(Object(T.i)(e.data||e.message))})).startWith(Object(T.j)())}))}}},"./js/epics/index.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./node_modules/rxjs/Rx.js"),s=r("./MapStore2/web/client/actions/layers.js").SELECT_NODE,l=r("./MapStore2/web/client/actions/featuregrid.js").setPermission,c=r("./MapStore2/web/client/actions/styleeditor.js"),u=c.setEditPermissionStyleEditor,p=c.INIT_STYLE_SERVICE,d=r("./js/api/geonode.js"),f=d.layerEditPermissions,m=d.styleEditPermissions,y=d.updateThumb,b=r("./MapStore2/web/client/selectors/layers.js"),g=b.getSelectedLayer,h=b.layersSelector,v=r("./MapStore2/web/client/selectors/map.js").mapSelector,S=r("./MapStore2/web/client/utils/ConfigUtils.js"),w=r("./MapStore2/web/client/actions/maplayout.js").updateMapLayout,O=r("./MapStore2/web/client/actions/controls.js"),j=O.TOGGLE_CONTROL,E=O.SET_CONTROL_PROPERTY,x=O.SET_CONTROL_PROPERTIES,P=r("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,T=r("./MapStore2/web/client/actions/featuregrid.js"),M=T.SIZE_CHANGE,A=T.CLOSE_FEATURE_GRID,C=T.OPEN_FEATURE_GRID,_=r("./MapStore2/web/client/actions/mapInfo.js"),I=_.CLOSE_IDENTIFY,R=_.ERROR_FEATURE_INFO,L=_.TOGGLE_MAPINFO_STATE,D=_.LOAD_FEATURE_INFO,k=_.EXCEPTIONS_FEATURE_INFO,N=_.NO_QUERYABLE_LAYER,F=r("./MapStore2/web/client/actions/layers.js"),G=F.SHOW_SETTINGS,U=F.HIDE_SETTINGS,B=r("./MapStore2/web/client/actions/mapInfo.js").PURGE_MAPINFO_RESULTS,z=r("./MapStore2/web/client/selectors/mapInfo.js").isMapInfoOpen,W=r("./MapStore2/web/client/selectors/featuregrid.js"),V=W.isFeatureGridOpen,H=W.getDockSize,q=r("./node_modules/lodash/lodash.js"),Y=q.head,Z=q.get,Q=r("./MapStore2/web/client/epics/maps.js").mapSaveMapResourceEpic,K=r("./MapStore2/web/client/selectors/controls.js").showCoordinateEditorSelector;e.exports={mapSaveMapResourceEpic:Q,_setFeatureEditPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(s).filter((function(e){return"layer"===e.nodeType&&!S.getConfigProp("disableCheckEditPermissions")})).switchMap((function(){var e=g(r()||{});return e?f(e).map((function(e){return l(e)})).startWith(l({canEdit:!1})).catch((function(){return a.Observable.empty()})):a.Observable.of(l({canEdit:!1}))}))},_setThumbnail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType("GEONODE:CREATE_MAP_THUMBNAIL","GEONODE:CREATE_LAYER_THUMBNAIL").do((function(){try{$("#_thumbnail_processing").modal("show")}catch(e){console.log(e)}})).exhaustMap((function(e){var t=e.type,n=r(),o=h(n),i=v(n),s="GEONODE:CREATE_MAP_THUMBNAIL"===t,l=s?Z(i,"info.id"):o[o.length-1].name,c=s?"maps":"layers",u=i.size,p=u.width,d=u.height,f=i.bbox.bounds,m=f.maxx,b=f.minx,g=f.maxy,S={bbox:[b,m,f.miny,g],srid:i.bbox.crs,center:i.center,zoom:i.zoom,width:p,height:d,layers:o.filter((function(e){return"background"!==e.group&&e.visibility})).map((function(e){return e.name})).join(",")};return y(c,l,S).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,r=e.status;try{$("#_thumbnail_feedbacks").find(".modal-title").text(r),$("#_thumbnail_feedbacks").find(".modal-body").text(t),$("#_thumbnail_feedbacks").modal("show")}catch(e){console.log(e)}})).mapTo({type:"THUMBNAIL_UPDATE"}).catch((function(e){var t=e.code,r=e.message;try{"ECONNABORTED"===t?($("#_thumbnail_feedbacks").find(".modal-title").text("Timeout"),$("#_thumbnail_feedbacks").find(".modal-body").text("Failed from timeout: Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show")):($("#_thumbnail_feedbacks").find(".modal-title").text("Error: "+r),$("#_thumbnail_feedbacks").find(".modal-body").text("Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show"))}catch(e){console.log(e)}finally{return a.Observable.of({type:"THUMBNAIL_UPDATE_ERROR"})}})).do((function(){try{$("#_thumbnail_processing").modal("hide")}catch(e){console.log(e)}}))}))},_setStyleEditorPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(p,s).filter((function(e){var t=e.nodeType;return t&&"layer"===t&&!S.getConfigProp("disableCheckEditPermissions")||!t&&!S.getConfigProp("disableCheckEditPermissions")})).switchMap((function(e){var t=g(r()||{});return t?m(t).map((function(e){var t=e.canEdit;return u(t)})).startWith(u(e.canEdit)).catch((function(){return a.Observable.empty()})):a.Observable.of(u(!1))}))},updateMapLayoutEpic:function(e,t){return e.ofType(P,M,N,x,A,C,I,L,D,k,j,E,G,U,R,B).switchMap((function(){var e=t.getState();if(Z(e,"browser.mobile")){var r=o({},z(e)?{bottom:"50%"}:{bottom:void 0});return a.Observable.of(w({boundingMapRect:r}))}var n=S.getConfigProp("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}};if("embedded"===Z(e,"mode")){var i={height:"calc(100% - "+n.bottom.sm+"px)"},s=o({},z(e)?{bottom:"50%"}:{bottom:void 0});return a.Observable.of(w(o(o({},i),{},{boundingMapRect:s})))}var l=Z(e,"controls.drawer.resizedWidth"),c=Y([Z(e,"controls.queryPanel.enabled")&&{left:n.left.lg}||null,Z(e,"controls.widgetBuilder.enabled")&&{left:n.left.md}||null,Z(e,"layers.settings.expanded")&&{left:n.left.md}||null,Z(e,"controls.drawer.enabled")&&{left:l||n.left.sm}||null].filter((function(e){return e})))||{left:0},u=Y([Z(e,"controls.details.enabled")&&{right:n.right.md}||null,Z(e,"controls.annotations.enabled")&&{right:n.right.md}||null,Z(e,"controls.metadataexplorer.enabled")&&{right:n.right.md}||null,Z(e,"controls.measure.enabled")&&K(e)&&{right:n.right.md}||null,Z(e,"mapInfo.enabled")&&z(e)&&{right:n.right.md}||null].filter((function(e){return e})))||{right:0},p=100*H(e),d=V(e)&&{bottom:p+"%",dockSize:p}||{bottom:n.bottom.sm},f=V(e)&&{transform:"translate(0, -"+n.bottom.sm+"px)"}||{transform:"none"},m={height:"calc(100% - "+n.bottom.sm+"px)"},y=o(o(o({},d),c),u);return a.Observable.of(w(o(o(o(o(o(o({},c),u),d),f),m),{},{boundingMapRect:y})))}))}}},"./js/plugins.js":function(e,t,r){var n=r("./js/epics/index.js");e.exports={plugins:{AddGroupPlugin:r("./MapStore2/web/client/plugins/AddGroup.jsx").default,IdentifyPlugin:r("./MapStore2/web/client/plugins/Identify.jsx"),TOCPlugin:r("./MapStore2/web/client/plugins/TOC.jsx"),MapPlugin:r("./MapStore2/web/client/plugins/Map.jsx"),ToolbarPlugin:r("./MapStore2/web/client/plugins/Toolbar.jsx"),DrawerMenuPlugin:r("./MapStore2/web/client/plugins/DrawerMenu.jsx"),ZoomAllPlugin:r("./MapStore2/web/client/plugins/ZoomAll.jsx"),MapLoadingPlugin:r("./MapStore2/web/client/plugins/MapLoading.jsx"),OmniBarPlugin:r("./MapStore2/web/client/plugins/OmniBar.jsx"),BackgroundSelectorPlugin:r("./MapStore2/web/client/plugins/BackgroundSelector.jsx"),FullScreenPlugin:r("./MapStore2/web/client/plugins/FullScreen.jsx"),ZoomInPlugin:r("./MapStore2/web/client/plugins/ZoomIn.jsx"),ZoomOutPlugin:r("./MapStore2/web/client/plugins/ZoomOut.jsx"),ExpanderPlugin:r("./MapStore2/web/client/plugins/Expander.jsx"),BurgerMenuPlugin:r("./MapStore2/web/client/plugins/BurgerMenu.jsx"),UndoPlugin:r("./MapStore2/web/client/plugins/History.jsx"),RedoPlugin:r("./MapStore2/web/client/plugins/History.jsx"),ScaleBoxPlugin:r("./MapStore2/web/client/plugins/ScaleBox.jsx"),MapFooterPlugin:r("./MapStore2/web/client/plugins/MapFooter.jsx"),PrintPlugin:r("./MapStore2/web/client/plugins/Print.jsx"),MeasurePlugin:r("./MapStore2/web/client/plugins/Measure.jsx"),FilterLayerPlugin:r("./MapStore2/web/client/plugins/FilterLayer.jsx").default,TOCItemsSettingsPlugin:r("./MapStore2/web/client/plugins/TOCItemsSettings.jsx").default,WidgetsPlugin:r("./MapStore2/web/client/plugins/Widgets.jsx").default,WidgetsBuilderPlugin:r("./MapStore2/web/client/plugins/WidgetsBuilder.jsx").default,WidgetsTrayPlugin:r("./MapStore2/web/client/plugins/WidgetsTray.jsx").default,NotificationsPlugin:r("./MapStore2/web/client/plugins/Notifications.jsx"),FeatureEditorPlugin:r("./MapStore2/web/client/plugins/FeatureEditor.jsx").default,QueryPanelPlugin:r("./MapStore2/web/client/plugins/QueryPanel.jsx"),SavePlugin:r("./js/plugins/Save.jsx").default,SaveAsPlugin:r("./js/plugins/SaveAs.jsx").default,MetadataExplorerPlugin:r("./MapStore2/web/client/plugins/MetadataExplorer.jsx"),GridContainerPlugin:r("./MapStore2/web/client/plugins/GridContainer.jsx"),StyleEditorPlugin:r("./MapStore2/web/client/plugins/StyleEditor.jsx"),TimelinePlugin:r("./MapStore2/web/client/plugins/Timeline.jsx"),PlaybackPlugin:r("./MapStore2/web/client/plugins/Playback.jsx"),MousePositionPlugin:r("./MapStore2/web/client/plugins/MousePosition.jsx"),SearchPlugin:r("./MapStore2/web/client/plugins/Search.jsx"),SearchServicesConfigPlugin:r("./MapStore2/web/client/plugins/SearchServicesConfig.jsx"),SharePlugin:r("./js/plugins/Share.jsx").default,AddReducersAndEpics:{reducers:{security:r("./MapStore2/web/client/reducers/security.js").default,maps:r("./MapStore2/web/client/reducers/maps.js").default,maplayout:r("./MapStore2/web/client/reducers/maplayout.js").default},epics:n}},requires:{ReactSwipe:r("./node_modules/react-swipeable-views/lib/index.js").default,SwipeHeader:r("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx")}}},"./js/plugins/Save.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-redux/es/index.js"),a=r("./node_modules/reselect/es/index.js"),s=r("./MapStore2/web/client/utils/PluginsUtils.js"),l=r("./MapStore2/web/client/actions/controls.js"),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r.n(c),p=r("./node_modules/react-bootstrap/es/index.js"),d=r("./MapStore2/web/client/selectors/map.js"),f=r("./js/actions/gnsave.js"),m=r("./MapStore2/web/client/selectors/security.js"),y=r("./MapStore2/web/client/reducers/controls.js"),b=r("./js/reducers/gnresource.js"),g=r("./js/reducers/gnsave.js"),h=r("./js/epics/gnsave.js"),v=r("./js/plugins/save/SaveModal.jsx");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var j=Object(i.connect)(Object(a.createSelector)([function(e){var t,r;return null==e||null===(t=e.controls)||void 0===t||null===(r=t.save)||void 0===r?void 0:r.enabled},d.mapInfoSelector,function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.data},function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.loading},function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.saving},function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.error},function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.success},function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.id}],(function(e,t,r,n,o,i,a,s){return{enabled:e,contentId:s||(null==t?void 0:t.id),resource:r,loading:n,saving:o,error:i,success:a}})),{onClose:l.toggleControl.bind(null,"save",null),onInit:f.l,onSave:f.h,onClear:f.g})((function(e){return o.a.createElement(v.a,O({},e,{update:!0,labelId:"save"}))}));t.default=Object(s.createPlugin)("Save",{component:j,containers:{BurgerMenu:{name:"save",position:30,text:o.a.createElement(u.a,{msgId:"save"}),icon:o.a.createElement(p.Glyphicon,{glyph:"floppy-open"}),action:l.toggleControl.bind(null,"save",null),selector:Object(a.createSelector)(m.isLoggedIn,(function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.isNew}),(function(e){var t,r;return null==e||null===(t=e.gnresource)||void 0===t||null===(r=t.permissions)||void 0===r?void 0:r.canEdit}),(function(e){var t,r;return null==e||null===(t=e.gnresource)||void 0===t||null===(r=t.permissions)||void 0===r?void 0:r.type}),(function(e,t,r,n){return{style:!e||t||!r&&n?{display:"none"}:{}}}))}},epics:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},h.a),reducers:{gnresource:b.a,gnsave:g.a,controls:y.default}})},"./js/plugins/SaveAs.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/react-redux/es/index.js"),a=r("./node_modules/reselect/es/index.js"),s=r("./MapStore2/web/client/utils/PluginsUtils.js"),l=r("./MapStore2/web/client/actions/controls.js"),c=r("./MapStore2/web/client/components/I18N/Message.jsx"),u=r.n(c),p=r("./node_modules/react-bootstrap/es/index.js"),d=r("./MapStore2/web/client/selectors/map.js"),f=r("./MapStore2/web/client/selectors/security.js"),m=r("./js/actions/gnsave.js"),y=r("./MapStore2/web/client/reducers/controls.js"),b=r("./js/reducers/gnresource.js"),g=r("./js/reducers/gnsave.js"),h=r("./js/epics/gnsave.js"),v=r("./js/plugins/save/SaveModal.jsx");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var j=Object(i.connect)(Object(a.createSelector)([function(e){var t,r;return null==e||null===(t=e.controls)||void 0===t||null===(r=t.saveAs)||void 0===r?void 0:r.enabled},d.mapInfoSelector,function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.data},function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.loading},function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.saving},function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.error},function(e){var t;return null==e||null===(t=e.gnsave)||void 0===t?void 0:t.success},function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.id}],(function(e,t,r,n,o,i,a,s){return{enabled:e,contentId:s||(null==t?void 0:t.id),resource:r,loading:n,saving:o,error:i,success:a}})),{onClose:l.toggleControl.bind(null,"saveAs",null),onInit:m.l,onSave:m.h,onClear:m.g})((function(e){return o.a.createElement(v.a,O({},e,{labelId:"saveAs"}))}));t.default=Object(s.createPlugin)("SaveAs",{component:j,containers:{BurgerMenu:{name:"saveAs",position:30,text:o.a.createElement(u.a,{msgId:"saveAs"}),icon:o.a.createElement(p.Glyphicon,{glyph:"floppy-open"}),action:l.toggleControl.bind(null,"saveAs",null),selector:Object(a.createSelector)(f.isLoggedIn,(function(e){return{style:e?{}:{display:"none"}}}))}},epics:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},h.a),reducers:{gnresource:b.a,gnsave:g.a,controls:y.default}})},"./js/plugins/Share.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./node_modules/react-redux/es/index.js"),l=r("./node_modules/reselect/es/index.js"),c=r("./MapStore2/web/client/utils/PluginsUtils.js"),u=r("./MapStore2/web/client/actions/controls.js"),p=r("./MapStore2/web/client/components/I18N/Message.jsx"),d=r.n(p),f=r("./node_modules/react-bootstrap/es/index.js"),m=r("./MapStore2/web/client/reducers/controls.js"),y=r("./node_modules/react-copy-to-clipboard/lib/index.js"),b=r.n(y),g=r("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),h=r.n(g)()(b.a),v=function(e){var t=e.shareUrl,r=void 0===t?"":t,n=e.copied,i=void 0!==n&&n,a=e.onCopy,s=void 0===a?function(){}:a,l=e.onMouseLeave,c=void 0===l?function(){}:l;return o.a.createElement(h,{text:r,tooltipId:i?"share.msgCopiedUrl":"share.msgToCopyUrl",tooltipPosition:"bottom",key:i.toString(),onCopy:function(){return s(r)}},o.a.createElement(f.Button,{bsStyle:"primary",onMouseLeave:function(){return c()}},o.a.createElement(f.Glyphicon,{glyph:"copy"})))},S=r("./node_modules/url/url.js"),w=r.n(S);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,r,n,i=P(a);function a(){var e;j(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return C(M(e=i.call.apply(i,[this].concat(r))),"state",{copied:!1,forceDrawer:!1}),C(M(e),"renderTools",(function(){return e.props.showTOCToggle?o.a.createElement(f.Checkbox,{checked:e.state.forceDrawer,onChange:function(){return e.setState({forceDrawer:!e.state.forceDrawer})}},o.a.createElement(d.a,{msgId:"share.forceDrawer"})):null})),C(M(e),"generateUrl",(function(){var t=w.a.parse(e.props.shareUrl,!0);return e.state.forceDrawer&&(t.query.forceDrawer=!0),w.a.format(t)})),e}return t=a,(r=[{key:"render",value:function(){var e=this,t='<iframe style="border: none;" height="400" width="600" src="'+this.generateUrl(this.props.shareUrl)+'"></iframe>';return o.a.createElement("div",{className:"input-link"},o.a.createElement("div",{className:"input-link-head"},o.a.createElement("h4",null,o.a.createElement(d.a,{msgId:"share.embeddedLinkTitle"})),o.a.createElement(v,{copied:this.state.copied,shareUrl:t,onCopy:function(){return e.setState({copied:!0})},onMouseLeave:function(){return e.setState({copied:!1})}})),o.a.createElement("div",{className:"input-link-tools"},this.renderTools()),o.a.createElement("pre",null,o.a.createElement("code",null,t)))}}])&&E(t.prototype,r),n&&E(t,n),a}(o.a.Component);C(_,"propTypes",{shareUrl:a.a.string,showTOCToggle:a.a.bool}),C(_,"defaultProps",{showTOCToggle:!0,shareUrl:""});var I=_;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return F(this,r)}}function F(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,r,n,i=N(a);function a(){var e;L(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return B(G(e=i.call.apply(i,[this].concat(r))),"state",{copied:!1}),e}return t=a,(r=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"input-link"},o.a.createElement("div",{className:"input-link-head"},o.a.createElement("h4",null,o.a.createElement(d.a,{msgId:"share.directLinkTitle"})),o.a.createElement(v,{copied:this.state.copied,shareUrl:this.props.shareUrl,onCopy:function(){return e.setState({copied:!0})},onMouseLeave:function(){return e.setState({copied:!1})}})),o.a.createElement("pre",{style:{padding:0}},o.a.createElement(f.FormControl,{readOnly:!0,type:"text",value:this.props.shareUrl,onFocus:function(e){return e.target.select()}})))}}])&&D(t.prototype,r),n&&D(t,n),a}(o.a.Component);B(z,"propTypes",{shareUrl:a.a.string});var W=z,V=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),H=r.n(V),q=r("./MapStore2/web/client/selectors/map.js");function Y(e){var t=e.resourceId,r=e.pathTemplate,n=e.enabled,i=e.onClose,a=function(e){var t=e.resourceId,r=e.pathTemplate,n=w.a.parse(location.href),o=n.host,i=n.protocol,a=r.replace(/\{id\}/g,t);return w.a.format({host:o,protocol:i,pathname:a})}({resourceId:t,pathTemplate:r});return o.a.createElement(H.a,{modalClassName:"gn-share-modal",title:o.a.createElement(d.a,{msgId:"share.title"}),show:n,fitContent:!0,clickOutEnabled:!1,onClose:function(){return i()}},o.a.createElement(W,{shareUrl:a}),o.a.createElement(I,{showTOCToggle:!1,shareUrl:a}))}Y.propTypes={resourceId:a.a.oneOfType([a.a.number,a.a.string]),pathTemplate:a.a.string,enabled:a.a.bool,onClose:a.a.func},Y.defaultProps={resourceId:null,pathTemplate:"/apps/{id}/embed",enabled:!1,onClose:function(){}};var Z=Object(s.connect)(Object(l.createSelector)([function(e){var t,r;return null==e||null===(t=e.controls)||void 0===t||null===(r=t.share)||void 0===r?void 0:r.enabled},function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.id},q.mapInfoSelector],(function(e,t,r){return{enabled:e,resourceId:t||(null==r?void 0:r.id)}})),{onClose:u.toggleControl.bind(null,"share",null)})(Y);t.default=Object(c.createPlugin)("Share",{component:Z,containers:{BurgerMenu:{name:"share",position:1e3,text:o.a.createElement(d.a,{msgId:"share.title"}),icon:o.a.createElement(f.Glyphicon,{glyph:"share-alt"}),action:u.toggleControl.bind(null,"share",null),selector:Object(l.createSelector)((function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.isNew}),(function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.id}),q.mapInfoSelector,(function(e,t,r){return{style:e||!t&&!(null==r?void 0:r.id)?{display:"none"}:{}}}))}},epics:{},reducers:{controls:m.default}})},"./js/plugins/save/SaveModal.jsx":function(e,t,r){"use strict";var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/prop-types/index.js"),a=r.n(i),s=r("./MapStore2/web/client/components/misc/ResizableModal.jsx"),l=r.n(s),c=r("./MapStore2/web/client/components/misc/Thumbnail.jsx"),u=r("./MapStore2/web/client/components/I18N/Message.jsx"),p=r.n(u),d=r("./node_modules/react-bootstrap/es/index.js"),f=r("./MapStore2/web/client/components/misc/enhancers/localizedProps.js"),m=r.n(f),y=r("./MapStore2/web/client/components/misc/Loader.jsx"),b=r.n(y);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=m()("placeholder")(d.FormControl);function S(e){var t=e.update,r=e.error,i=e.success,a=e.labelId,s=e.resource,u=e.contentId,f=e.saving,m=e.loading,y=e.enabled,h=e.onClose,S=e.onSave,w=e.onInit,O=e.onClear,j=g(Object(n.useState)(),2),E=j[0],x=j[1],P=g(Object(n.useState)(),2),T=P[0],M=P[1],A=g(Object(n.useState)(""),2),C=A[0],_=A[1],I=g(Object(n.useState)(""),2),R=I[0],L=I[1],D=g(Object(n.useState)(!1),2),k=D[0],N=D[1],F=Object(n.useRef)();F.current={contentId:u,resource:s},Object(n.useEffect)((function(){y?w(F.current.contentId):O()}),[y]),Object(n.useEffect)((function(){if(!m){var e=F.current.resource||{};x(e.thumbnail_url),_(e.title),L(e.abstract),M(!1),N(e.title?void 0:"error")}}),[y,m]);var G=m||f;return o.a.createElement(l.a,{title:o.a.createElement(p.a,{msgId:a}),show:y,fitContent:!0,clickOutEnabled:!1,buttons:G?[]:[{text:o.a.createElement(p.a,{msgId:"close"}),onClick:function(){return h()}},{text:o.a.createElement(p.a,{msgId:a}),disabled:!!k,onClick:function(){return S({thumbnail:E,name:C,description:R},t?u:void 0)}}],onClose:G?null:function(){return h()}},r&&o.a.createElement(d.Alert,{bsStyle:"danger",style:{margin:0}},o.a.createElement("div",null,o.a.createElement(p.a,{msgId:"map.mapError.errorDefault"}))),i&&o.a.createElement(d.Alert,{bsStyle:"success",style:{margin:0}},o.a.createElement("div",null,o.a.createElement(p.a,{msgId:"saveDialog.saveSuccessMessage"}))),o.a.createElement(d.Form,null,o.a.createElement(d.FormGroup,{validationState:T?"error":void 0},o.a.createElement(d.ControlLabel,null,o.a.createElement(p.a,{msgId:"map.thumbnail"})),o.a.createElement(c.default,{thumbnail:E,thumbnailOptions:{width:300,height:250,type:"image/jpeg",quality:.5,contain:!1},message:o.a.createElement(p.a,{msgId:"map.message"}),onUpdate:function(e){x(e),M(!1)},onError:function(e){M(e)}}),T&&o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(p.a,{msgId:"map.error"})),o.a.createElement("div",null,T.indexOf&&-1!==T.indexOf("FORMAT")&&o.a.createElement("small",null,o.a.createElement(p.a,{msgId:"map.errorFormat"}))),o.a.createElement("div",null,T.indexOf&&-1!==T.indexOf("SIZE")&&o.a.createElement("small",null,o.a.createElement(p.a,{msgId:"map.errorSize"}))))),o.a.createElement(d.FormGroup,{validationState:k},o.a.createElement(d.ControlLabel,null,o.a.createElement(p.a,{msgId:"saveDialog.name"})),o.a.createElement(v,{placeholder:"saveDialog.namePlaceholder",value:C,onChange:function(e){_(e.target.value),N(e.target.value?void 0:"error")},onBlur:function(e){N(e.target.value?void 0:"error")}})),o.a.createElement(d.FormGroup,null,o.a.createElement(d.ControlLabel,null,o.a.createElement(p.a,{msgId:"saveDialog.description"})),o.a.createElement(v,{placeholder:"saveDialog.descriptionPlaceholder",value:R,onChange:function(e){return L(e.target.value)}}))),G&&o.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",zIndex:2,display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(b.a,{size:70})))}S.propTypes={update:a.a.bool,labelId:a.a.string,contentId:a.a.oneOfType([a.a.string,a.a.number]),resource:a.a.object,loading:a.a.bool,enabled:a.a.bool,onClose:a.a.func,onSave:a.a.func,onInit:a.a.func,onClear:a.a.func,error:a.a.oneOfType([a.a.string,a.a.object]),success:a.a.oneOfType([a.a.string,a.a.object])},S.defaultProps={update:!1,resource:{},loading:!1,enabled:!1,onClose:function(){},onSave:function(){},onInit:function(){},onClear:function(){}},t.a=S},"./js/reducers/gnresource.js":function(e,t,r){"use strict";var n=r("./js/actions/gnresource.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.b:return i(i({},e),{},{loading:!0});case n.d:return i(i({},e),{},{error:null,data:t.data,loading:!1});case n.a:return i(i({},e),{},{data:null,error:t.error,loading:!1});case n.h:return i(i({},e),{},{data:i(i({},e.data),t.properties)});case n.g:return i(i({},e),{},{type:t.resourceType});case n.c:return i(i({},e),{},{isNew:!0});case n.e:return i(i({},e),{},{id:t.id});case n.f:return i(i({},e),{},{permissions:t.permissions});default:return e}}},"./js/reducers/gnsave.js":function(e,t,r){"use strict";var n=r("./js/actions/gnsave.js");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.e:return{saving:!0};case n.d:return{success:t.success,saving:!1};case n.c:return{error:t.error,saving:!1};case n.a:return{};default:return e}}},"./js/utils/APIUtils.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("./node_modules/url/url.js");var n=function(e){return e}},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/I18N/css/formControlIntl.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .form-control-intl {\r\n    background-color: unset !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/css/toc.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/fragments/css/groupchildren.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .toc-group-children {\r\n    margin-left: 15px;\r\n}\r\n\r\n.msgapi .TOC-Node-enter, .msgapi .TOC-Node-leave {\r\n    transition: all 250ms ease-out;\r\n    -o-transition: all 250ms ease-out;\r\n    -moz-transition: all 250ms ease-out;\r\n    -webkit-transition: all 250ms ease-out;\r\n    overflow: hidden;\r\n}\r\n.msgapi .TOC-Node-enter,.msgapi .TOC-Node-leave.TOC-Node-leave-active {\r\n    opacity: 0;\r\n    transform: scale(1, 0);\r\n    transform-origin: top;\r\n}\r\n.msgapi .TOC-Node-leave, .msgapi .TOC-Node-enter.TOC-Node-enter-active {\r\n    opacity: 1;\r\n    transform: scale(1, 1);\r\n    transform-origin: top;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/fragments/css/settingsModal.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi #mapstore-layer-settings {\r\n    min-width: 400px;\r\n}\r\n\r\n.msgapi .portal-dialog {\r\n    position: absolute;\r\n}\r\n\r\n@media all and (min-width: 635px) {\r\n    .msgapi .portal-dialog {\r\n        left: calc(50% - 315px);\r\n        top: 100px;\r\n        max-width: 630px;\r\n        background-color: #fff;\r\n    }\r\n}\r\n\r\n@media all and (max-width: 634px) {\r\n    .msgapi .portal-dialog {\r\n        width: 100%;\r\n    }\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/fragments/css/toctitle.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .toc-title {\r\n    display: inline-block;\r\n    max-width: 150px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/TOC/fragments/settings/css/elevation.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-elevation {\r\n    width: 100%;\r\n    /*margin-top: -46px;*/\r\n    height: 80px;\r\n    padding: 0 5px;\r\n}\r\n\r\n.msgapi label#mapstore-elevation-label {\r\n    margin-top: 10px;\r\n}\r\n\r\n.msgapi .custom-tooltip {\r\n    width: auto;\r\n    margin: 0;\r\n    line-height: 24px;\r\n    border: 1px solid #C1C1C1;\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n    padding: 5px;\r\n}\r\n.msgapi .custom-tooltip  .label {\r\n  margin: 0;\r\n  color: #82CA9D;\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .background-preview-button-label {\r\n    position: absolute;\r\n    overflow: hidden;\r\n    font-weight: bold;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    -webkit-transition: all 0.0s;\r\n    -moz-transition: all 0.0s;\r\n    -o-transition: all 0.0s;\r\n    transition: all 0.0s;\r\n\r\n}\r\n\r\n.msgapi .background-preview-button-label div {\r\n    overflow: hidden;\r\n    opacity: 0.8;\r\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n}\r\n\r\n.msgapi .background-preview-button-container {\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-button-frame {\r\n    overflow: hidden;\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.msgapi .background-preview-button-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-button-container:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .background-preview-button-container:active {\r\n    opacity: 0.6;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .background-preview-icon-frame {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi .background-preview-icon-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal {\r\n    cursor: pointer;\r\n    float: left;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\r\n    cursor: not-allowed;\r\n    float: left;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical {\r\n    cursor: pointer;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/data/featuregrid/toolbars/toolbar.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .featuregrid-toolbar {\r\n    margin-top: 5px;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.msgapi #featuregrid-toolbar .btn {\r\n    overflow: hidden;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/data/query/queryform.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar .mapstore-tb-helpbadge {\r\n    display: block;\r\n    background-color: #777;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    top : -10px;\r\n    left: -10px;\r\n}\r\n\r\n\r\n.msgapi #helpbadge-zoomToMaxExtent {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 34px;\r\n    top: 72px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 116px;\r\n    bottom: 48px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-seachBar {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 46px;\r\n    top: 10px;\r\n    z-index: 100000\r\n}\r\n\r\n\r\n.msgapi .btn .badge {\r\n    position: absolute;\r\n    top: -10px;\r\n    left: -10px;\r\n}\r\n\r\n.msgapi .themed .btn .badge {\r\n    top: -35px;\r\n    left: -50px;\r\n}\r\n\r\n.msgapi .badge {\r\n    cursor: pointer;\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    left: 0 !important;\r\n}\r\n\r\n.msgapi #mapstore-navbar #helpbadge-search-help {\r\n    position: absolute;\r\n    left: -10px;\r\n    bottom: -8px;\r\n    z-index: 1;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .leaflet-control-minimap {\r\n    border:solid rgba(255, 255, 255, 1.0) 4px;\r\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n    border-radius: 3px;\r\n    background: #f8f8f9;\r\n    transition: all .2s;\r\n}\r\n.msgapi .leafletbottom.leafletright, .msgapi .leaflet-control-minimap{\r\n    position:relative;\r\n    bottom:5px;\r\n}\r\n.msgapi .leaflet-control-minimap a {\r\n    background-color: rgba(255, 255, 255, 1.0);\r\n    background-repeat: no-repeat;\r\n    z-index: 99999;\r\n    transition: all .2s;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomright {\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n    border-radius: 0px;\r\n    bottom: -3px;\r\n    right: -3px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topleft {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomleft {\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topright {\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display{\r\n    background-image: url("+r("./MapStore2/web/client/components/map/leaflet/img/toggle.svg")+");\r\n    background-size: cover;\r\n    position: absolute;\r\n    border-radius: 3px 0px 0px 0px;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap-toggle-display{\r\n    background-image: url("+r("./MapStore2/web/client/components/map/leaflet/img/toggle.png")+");\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomright {\r\n    bottom: 0;\r\n    right: 0;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topleft{\r\n    top: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomleft{\r\n    bottom: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topright{\r\n    top: 0;\r\n    right: 0;\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n}\r\n\r\n/* Old IE */\r\n.msgapi .leaflet-oldie .leaflet-control-minimap {\r\n    border: 1px solid #999;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a {\r\n    background-color: #fff;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a.minimized {\r\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-control button:hover, .msgapi .ol-control button:focus {\r\n    background-color: #f4f4f4;\r\n}\r\n.msgapi .ol-zoom .ol-zoom-out, .msgapi .ol-zoom .ol-zoom-in{\r\n    width: 26px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    display: block;\r\n\r\n    color: black;\r\n    background-color: #fff;\r\n    border-width: 0;\r\n    margin:0;\r\n}\r\n.msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-in, .msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-out {\r\n    font-family: 'Lucida Console', Monaco, monospace;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi .ol-zoom .ol-zoom-out{\r\n    font-size: 18px;\r\n    border-radius: 0 0 4px 4px;\r\n}\r\n.msgapi .ol-zoom .ol-zoom-in{\r\n    border-bottom: 1px solid #ccc;\r\n    border-radius: 4px 4px 0 0;\r\n    font-size: 20px;\r\n}\r\n.msgapi .ol-zoom.ol-unselectable.ol-control{\r\n    top:10px;\r\n    left:10px;\r\n    padding:0;\r\n    box-shadow: rgba(0, 0, 0, 0.65098) 0px 1px 5px 0px;\r\n    border-radius: 4px;\r\n}\r\n\r\n.msgapi .ol-scale-line.ol-unselectable{\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-custom-overviewmap,\r\n       .msgapi .ol-custom-overviewmap.ol-uncollapsible {\r\n          bottom: 20px;\r\n          left: auto;\r\n          right: 10px;\r\n          top: auto;\r\n\r\n      }\r\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed)  {\r\n\r\n           box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n           border-radius: 1px;\r\n           transition: all .2s;\r\n      }\r\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-map {\r\n          border: none;\r\n          width: 300px;\r\n          height: 150px;\r\n\r\n      }\r\n\r\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-box {\r\n          border: 1px solid black;\r\n          cursor: pointer;\r\n          border-radius: 5px;\r\n      }\r\n\r\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed) button{\r\n          bottom: auto;\r\n          left: auto;\r\n          right: 2px;\r\n          bottom: 2px;\r\n      }\r\n\r\n      .msgapi .ol-rotate {\r\n          top: 170px;\r\n          right: 0;\r\n      }\r\n      .msgapi .ol-overview-dargbox{\r\n           border: 1px solid black;\r\n           background-color: rgba(125,125,0,.5);\r\n           border-radius: 5px;\r\n      }\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/mapcontrols/measure/measure.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,'.msgapi .option-icon {\r\n    margin-right: 15px;\r\n}\r\n.msgapi #measure-result-panel button {\r\n    padding: 14px;\r\n}\r\n.msgapi #measure-result-panel .glyphicon {\r\n    margin: 0 15px 0 0;\r\n}\r\n.msgapi #measure-result-panel .option-text {\r\n    font-size: 14px;\r\n    text-transform: uppercase;\r\n    vertical-align: middle!important;\r\n    vertical-align: -webkit-baseline-middle!important;\r\n}\r\n.msgapi #measure-result-panel .option-icon {\r\n    font-size: 32px;\r\n    text-transform: uppercase;\r\n    vertical-align: middle;\r\n    vertical-align: middle!important;\r\n    vertical-align: -webkit-baseline-middle!important;\r\n    vertical-align: -moz-middle-with-baseline !important;\r\n}\r\n\r\n.msgapi .measure-value {\r\n    /* this is necessary to show the uom list correctly,\r\n     * otherwise the list will be hidden since it exceeds the modal\r\n     */\r\n    font-family: Menlo, Monaco, Consolas, Courier New, monospace;\r\n}\r\n\r\n.msgapi #measure .modal-body > div[role="body"] > div {\r\n    overflow: visible!important;\r\n}\r\n',""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/mapcontrols/mouseposition/mousePosition.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i," .msgapi #mapstore-mouseposition {\r\n    z-index: 10;\r\n    top: -10px;\r\n    right: 45%;\r\n    position: absolute;\r\n    margin: 8px;\r\n    text-shadow: -1px -1px 1px #000,\r\n                  1px -1px 1px #000,\r\n                 -1px  1px 1px #000,\r\n                  1px  1px 1px #000;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition .label {\r\n    max-width: 350px;\r\n    min-width: 200px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    vertical-align: middle;\r\n\r\n}\r\n\r\n.msgapi #mapstore-mouseposition .label-info {\r\n    background-color:rgba(91,192,222,0);\r\n    color: white;\r\n    font-size: 110%;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition h5 {\r\n    display: inline-block;\r\n}\r\n\r\n\r\n.msgapi #mapstore-mousepositionsettings .form-group {\r\n    margin-bottom: 0 !important;\r\n}\r\n\r\n.msgapi #mapstore-mousepositionsettings select, .msgapi #mapstore-mousepositionsettings button {\r\n    width: 60% !important;\r\n    float: right;\r\n    height: 35px;\r\n}\r\n\r\n.msgapi #mapstore-mousepositionsettings label {\r\n    width: 100% !important;\r\n}\r\n\r\n\r\n.msgapi #mapstore-mouseposition .label-info {\r\n    white-space: normal;\r\n    color: black;\r\n    font-size: 110%;\r\n    padding: 0;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition {\r\n    bottom: 5px;\r\n    right: 264px;\r\n    top: auto;\r\n    margin: 0;\r\n    text-shadow: none;\r\n    background-color: white;\r\n    width: 160px;\r\n    height: 46px;\r\n    padding-left: 5px;\r\n    padding-top: 2px;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition h5 {\r\n    margin-top: 5px;\r\n}\r\n\r\n.msgapi .mouseposition-separator {\r\n    display: block;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition-mobile {\r\n        bottom: 25px;\r\n        right: 30px;\r\n        z-index: 10;\r\n        position: absolute;\r\n        text-shadow: -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000, 1px 1px 1px #000;\r\n    }\r\n\r\n.msgapi #mapstore-mouseposition-mobile .label {\r\n        display: inline-block;\r\n        max-width: 280px;\r\n        min-width: 200px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        vertical-align: middle;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition-mobile .label-info {\r\n        background-color:rgba(91,192,222,0);\r\n        color: white;\r\n        font-size: 90%;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition .form-group {\r\n    float: right;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition .form-group .control-label {\r\n    display: none;\r\n}\r\n\r\n.msgapi #mapstore-mouseposition .form-group select {\r\n    width: 90px;\r\n    font-size: 11px;\r\n    padding: 2px;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/quillmodules/assets/css/resizemodule.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,'\r\n\r\n.msgapi .ql-snow .ms-ql-iframe-tooltip[data-mode=video]::before {\r\n    content: "Enter iframe url:";\r\n}\r\n\r\n\r\n',""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\r\n    margin: 0 !important;\r\n    width: 40px !important;\r\n    position:static !important;\r\n    border-radius: 0 !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/style/filter.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapstore-filter input::-ms-clear,\r\n.msgapi .mapstore-filter input::-ms-reveal {\r\n  display: none;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-burger-menu {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.msgapi .burger-menu-submenu {\r\n    display: none;\r\n    position: absolute;\r\n    left: -160px;\r\n    top: 0px;\r\n    background-color: white;\r\n    width: 160px;\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\r\n}\r\n\r\n.msgapi .burger-menu-submenu li:hover {\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a {\r\n    display: block;\r\n    padding: 10px 15px;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a:hover {\r\n    text-decoration: none;\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi #mapstore-burger-menu .dropdown-menu > li > a:hover > span > .burger-menu-submenu,\r\n.msgapi .burger-menu-submenu > li > a:hover > span > .burger-menu-submenu {\r\n    display: block;\r\n}\r\n\r\n.msgapi .burger-menu-submenu span {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi #mapstore-navbar #mapstore-burger-menu {\r\n    position: relative;\r\n    float: right;\r\n    left: 0;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/drawer/drawer.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/* Menu Button */\r\n.msgapi .drawer-menu-button {\r\n    position: absolute;\r\n    z-index:1000;\r\n    left: 30px;\r\n    top: 8px;\r\n    width:30px;\r\n    background: transparent;\r\n    outline: none;\r\n    border: transparent;\r\n    font-size: 14px;\r\n}\r\n\r\n.msgapi .drawer-menu-button:hover {\r\n    background: transparent;\r\n}\r\n\r\n.msgapi #drawer-menu-button:active{\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi #mapstore-drawermenu > div > div:nth-child(2) {\r\n    display: none;\r\n}\r\n\r\n.msgapi .nav-content #background-switcher .thumbnail {\r\n    border-radius: 0 !important;\r\n    margin-bottom: 40px;\r\n    width: 220px !important;\r\n}\r\n.msgapi .nav-content #background-switcher .thumbnail img {\r\n    border-radius: 0 !important;\r\n    height: 90px;\r\n    width: 220px !important;\r\n}\r\n\r\n.msgapi .nav-content #background-switcher .thumbnail .caption {\r\n    font-size: 14px !important;\r\n    text-align: left !important;\r\n    top: -20px !important;\r\n    position: absolute !important;\r\n}\r\n\r\n.msgapi .nav-content #background-switcher {\r\n    margin-top: 10px;\r\n}\r\n\r\n.msgapi #mapstore-drawermenu .panel {\r\n    border: none;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi div.nav-menu {\r\n    -webkit-transform:   translate3d(300px, 0, 0);\r\n    -moz-transform: \t translate3d(300px, 0, 0);\r\n    -ms-transform: \t\t translate3d(300px, 0, 0);\r\n    -o-transform: \t\t translate3d(300px, 0, 0);\r\n    box-shadow: 2px 0px 15px #A7A7A7;\r\n}\r\n\r\n.msgapi .nav-menu  .navHeader {\r\n    height: 50px;\r\n}\r\n.msgapi .nav-menu > .nav-content .navHeader .title{\r\n    font-size: 16px;\r\n    position: absolute;\r\n    margin: 13px;\r\n    font-weight: bold;\r\n}\r\n.msgapi .nav-content  .section {\r\n    margin-bottom: 2px;\r\n}\r\n.msgapi .nav-content  .section .sectionHeader{\r\n    padding: 5px;\r\n    cursor: pointer;\r\n}\r\n.msgapi .nav-content .section .sectionHeader>.glyphicon{\r\n    /* Firefox */\r\n    -moz-transition: all .3s ease;\r\n    /* WebKit */\r\n    -webkit-transition: all .3s ease;\r\n    /* Opera */\r\n    -o-transition: all .3s ease;\r\n    /* Standard */\r\n    transition: all .3s ease;\r\n}\r\n.msgapi .nav-content  .section .sectionTitle{\r\n    padding-left: 10px;\r\n\r\n}\r\n.msgapi .nav-content  .section .sectionContent{\r\n    -moz-transition: max-height .3s ease;\r\n    -webkit-transition: max-height .3s ease;\r\n    -o-transition: max-height .3s ease;\r\n    transition: max-height .3s ease;\r\n\r\n    box-shadow: inset 0px 0px 10px rgba(0,0,0,.5);\r\n    padding: 5px;\r\n}\r\n\r\n.msgapi .navButtons {\r\n    float: right;\r\n}\r\n\r\n.msgapi #drawer-menu-button {\r\n     position: absolute;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .swipe-header-left-button {\r\n    float: left;\r\n}\r\n\r\n.msgapi .swipe-header-right-button {\r\n    float: right;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapErrorMessage {\r\n    font-size: 16px;\r\n    color: red;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\r\n    width: 28px;\r\n    height: 28px;\r\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\r\n    background-color: white;\r\n    background-size: 80px 80px;\r\n    background-repeat: no-repeat;\r\n    border-radius: 4px;\r\n    border: 1px solid #999;\r\n    z-index: 10;\r\n    top: 90px;\r\n    left: 2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n}\r\n\r\n.msgapi #mapstore-globalspinner .circle-wrapper {\r\n    margin-left: 2px;\r\n    margin-top: 1px;\r\n}\r\n\r\n.msgapi #mapstore-toolbar #mapstore-globalspinner {\r\n    position: static;\r\n    width: 42px;\r\n    margin: 0;\r\n    margin-top: 0;\r\n    height: 35px;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .ms2-loading .sk-circle-wrapper {\r\n     width: 30px;\r\n     height: 30px;\r\n     margin-left: 10px !important;\r\n     margin-top: 10px !important;\r\n }\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/metadataexplorer/css/style.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi div.record-grid {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n\r\n.msgapi div.record-grid .record-item{\r\n    height: auto;\r\n}\r\n.msgapi div.record-grid .record-item .panel-body{\r\n    padding: 0;\r\n}\r\n\r\n.msgapi #mapstore-catalog-panel button.search-button {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.msgapi #mapstore-catalog-panel .record-item {\r\n    min-height: 150px;\r\n}\r\n.msgapi #catalog-root {\r\n    position: static!important;\r\n}\r\n\r\n/*\r\n!important is needed because the library we used\r\nuse inline style which cannot be overridden unless\r\nwe use !important*/\r\n@media (max-width: 500px) {\r\n    .msgapi div .catalog-sidebar.nav-menu {\r\n        width: 100% !important\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-metadata-explorer{\r\n    margin-bottom: 0\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/*viewer navbar */\r\n.msgapi .navbar-dx{\r\n\tposition:absolute;\r\n\tright:0;\r\n\ttop:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul{\r\n\tpadding:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul > li{\r\n\tfloat: left;\r\n\tlist-style:none;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\r\n    right: 0;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\r\n    border-color: #fff;\r\n    border-right: 0;\r\n    webkit-box-shadow: none;\r\n    box-shadow: none;\r\n}\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\r\n    border: 0;\r\n}\r\n.msgapi .navbar-dx .search-result-list{\r\n    left: 0;\r\n    max-height: none;\r\n}\r\n\r\n.msgapi .navbar-dx .dropdown-menu {\r\n\tmargin:0;\r\n\tpadding-top: 0;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n    .msgapi .navbar-dx .search-wrap {\r\n       width: 500px;\r\n       height: 50px;\r\n    }\r\n}\r\n\r\n.msgapi .navbar-dx > * {\r\n\tdisplay: inline-block;\r\n}\r\n/* Page Navbar */\r\n.msgapi .navbar-home .dropdown {\r\n\tfloat: right;\r\n}\r\n.msgapi .navbar-home .navbar-header {\r\n\tmargin-top: 7px;\r\n\tmargin-left: 10px;\r\n\tmargin-right: 10px;\r\n\tdisplay: inline-block;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mappreview-scalebox {\r\n    position: relative;\r\n    top: -36px;\r\n    width: 150px;\r\n    left: 10px;\r\n}\r\n\r\n.msgapi .print-error {\r\n    height: 100px;\r\n    color: #600;\r\n    background-color: #E8BABA;\r\n    border: solid #600 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-error span, .msgapi .print-warning span {\r\n    display: inline-block;\r\n    max-height: 80px;\r\n    overflow: auto;\r\n    width: 100%;\r\n}\r\n.msgapi .print-warning {\r\n    height: 50px;\r\n    color: #660;\r\n    background-color: #E6E8BA;\r\n    border: solid #660 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-preview-panel .spinner {\r\n    display: inline-block;\r\n}\r\n\r\n.msgapi .print-mappreview-refresh {\r\n    position: relative;\r\n    top: -83px;\r\n    right: -155px;\r\n    z-index: 1000;\r\n}\r\n.msgapi #mapstore-print-panel.modal-dialog {\r\n    z-index: 2000;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body {\r\n    max-height: calc(100vh - 190px);\r\n    overflow-y: auto;\r\n}\r\n\r\n.msgapi .mapstore-print-panel {\r\n    width: 850px;\r\n    position: absolute;\r\n    top: 50px;\r\n    right: 60px;\r\n    zIndex: 100;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .form-inline label {\r\n    margin-right: 20px;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 34px;\r\n    border: solid 1px #CCC;\r\n    padding: 7px;\r\n    border-radius: 4px;\r\n    padding-right: 25px;\r\n    padding-left: 11px;\r\n    top: 2px;\r\n    position: relative;\r\n}\r\n\r\n.msgapi .print-layout .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n\r\n@media (min-width: 992px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 825px;\r\n    }\r\n}\r\n\r\n@media (max-width: 991px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 700px;\r\n    }\r\n}\r\n\r\n@media (max-width: 767px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 98%;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\r\n    top: -96px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-submit {\r\n    float: right;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n    .msgapi #mapstore-print-panel input[type=radio] {\r\n        margin: 0 8px 0 20px;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-map-preview {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-default {\r\n    border: none;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading {\r\n    padding-left: 0;\r\n    background-color: transparent;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-body {\r\n    padding: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .form-control {\r\n    padding: 0 10px;\r\n    height: 25px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download a {\r\n    color: white;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-scalebox {\r\n    /*z-index: 10;\r\n    bottom: 6px;\r\n    left: -2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n\r\n.msgapi #mapstore-scalebox-container {\r\n    /*z-index: 10;\r\n    bottom: -16px;\r\n    right: 55px;\r\n    left: auto;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar {\r\n    position: absolute;\r\n    bottom: 5px;\r\n    right: 0;\r\n    z-index: 1000;\r\n    margin-bottom: 35px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter {\r\n  opacity: 0.01;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\r\n  opacity: 1;\r\n  transition: opacity 500ms ease-in;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\r\n  opacity: 0.01;\r\n  transition: opacity 300ms ease-in;\r\n}\r\n\r\n.msgapi #navigationBar .toolbar-panel {\r\n    bottom: 80px !important;\r\n}\r\n\r\n.msgapi #identifyBar .mapToolbar {\r\n    top: auto !important;\r\n    bottom: 5px;\r\n    right: 212px !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #zoomin-btn, .msgapi #zoomout-btn {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-zoomtomaxextent {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,r){(e.exports=r("./node_modules/css-loader/lib/css-base.js")()).push([e.i,'.msgapi .ol-popup {\r\n    position: absolute;\r\n    text-align: center;\r\n    font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n    -ms-transform: translate(-50%,-100%); /* IE 9 */\r\n    -webkit-transform: translate(-50%,-100%); /* Safari */\r\n    transform: translate(-50%,-100%);\r\n}\r\n.msgapi a.ol-popup-close-btn {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  padding: 4px 4px 0 0;\r\n  text-align: center;\r\n  width: 18px;\r\n  height: 14px;\r\n  font: 16px/14px Tahoma, Verdana, sans-serif;\r\n  color: #c3c3c3;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n  background: transparent;\r\n}\r\n.msgapi .ol-popup-cnt-wrapper {\r\n  padding: 1px;\r\n  text-align: left;\r\n  border-radius: 12px;\r\n}\r\n.msgapi .ol-popup-cnt-wrapper, .msgapi .ol-popup-tip {\r\n  background: white;\r\n  box-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n}\r\n.msgapi .ol-popup-cnt {\r\n  margin: 13px 19px;\r\n  line-height: 1.4;\r\n   white-space: nowrap;\r\n\r\n}\r\n.msgapi .ol-popup-tip-wrapper {\r\n  margin: 0 auto;\r\n  width: 40px;\r\n  height: 20px;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n}\r\n.msgapi .ol-popup-tip {\r\n  width: 17px;\r\n  height: 17px;\r\n  padding: 1px;\r\n  margin: -10px auto 0;\r\n  -webkit-transform: rotate(45deg);\r\n  -moz-transform: rotate(45deg);\r\n  -ms-transform: rotate(45deg);\r\n  -o-transform: rotate(45deg);\r\n  transform: rotate(45deg);\r\n}\r\n',""])},"./node_modules/raw-loader/index.js!./MapStore2/web/client/plugins/tocitemssettings/featureInfoPreviews/responseHTML.txt":function(e,t){e.exports='<html>\r\n  <head>\r\n    <title>Geoserver GetFeatureInfo output</title>\r\n  </head>\r\n    <style type="text/css">\r\n    \ttable.featureInfo, table.featureInfo td, table.featureInfo th {\r\n    \t\tborder:1px solid #ddd;\r\n    \t\tborder-collapse:collapse;\r\n    \t\tmargin:0;\r\n    \t\tpadding:0;\r\n    \t\tfont-size: 90%;\r\n    \t\tpadding:.2em .1em;\r\n    \t}\r\n    \ttable.featureInfo th {\r\n    \t    padding:.2em .2em;\r\n    \t\tfont-weight:bold;\r\n    \t\tbackground:#eee;\r\n    \t}\r\n    \ttable.featureInfo td{\r\n    \t\tbackground:#fff;\r\n    \t}\r\n    \ttable.featureInfo tr.odd td{\r\n    \t\tbackground:#eee;\r\n    \t}\r\n    \ttable.featureInfo caption{\r\n    \t\ttext-align:left;\r\n    \t\tfont-size:100%;\r\n    \t\tfont-weight:bold;\r\n    \t\tpadding:.2em .2em;\r\n    \t}\r\n    </style>\r\n  <body>\r\n    <table class="featureInfo">\r\n      <caption class="featureInfo">states</caption>\r\n      <tr>\r\n        <th>fid</th>\r\n          <th >STATE_NAME</th>\r\n          <th >STATE_FIPS</th>\r\n          <th >SUB_REGION</th>\r\n          <th >STATE_ABBR</th>\r\n          <th >LAND_KM</th>\r\n      </tr>\r\n      <tr>\r\n        <td>states.29</td>\r\n        <td>Wyoming</td>\r\n        <td>56</td>\r\n        <td>Mtn</td>\r\n        <td>WY</td>\r\n        <td>251500.801</td>\r\n      </tr>\r\n    </table>\r\n    <br/>\r\n  </body>\r\n</html>'},"./node_modules/raw-loader/index.js!./MapStore2/web/client/plugins/tocitemssettings/featureInfoPreviews/responseJSON.txt":function(e,t){e.exports='{\r\n  "type": "FeatureCollection",\r\n  "totalFeatures": "unknown",\r\n  "features": [\r\n      {\r\n    "type": "Feature",\r\n    "id": "states.29",\r\n    "geometry": {\r\n      "type": "MultiPolygon",\r\n      "coordinates": [\r\n        [\r\n          [\r\n            [-1.15831389980175E7, 5115884.78673627],\r\n            [-1.158334883525764E7, 5095927.61163692],\r\n            [-1.158318319185534E7, 5069757.00399456],\r\n            [-1.158292671174856E7, 5012817.65726345],\r\n            [-1.168119588467766E7, 5011501.68893432],\r\n            [-1.171952218348237E7, 5011805.51696107],\r\n            [-1.182245230349099E7, 5012358.03633596],\r\n            [-1.183643948618967E7, 5012535.77548496],\r\n            [-1.189613934986567E7, 5012118.79424704],\r\n            [-1.194496385588862E7, 5012366.44384074],\r\n            [-1.201338092624966E7, 5012844.6510808],\r\n            [-1.213912753436923E7, 5012116.58180143],\r\n            [-1.224530617975818E7, 5011994.45558498],\r\n            [-1.225209889508638E7, 5012037.8190659],\r\n            [-1.23620611786479E7, 5011845.33978484],\r\n            [-1.236213086464914E7, 5050542.48847943],\r\n            [-1.236206540878855E7, 5098070.44035716],\r\n            [-1.236180135895639E7, 5160419.97558219],\r\n            [-1.23615872915756E7, 5236675.5279452],\r\n            [-1.236185657342383E7, 5315010.76063796],\r\n            [-1.236166543785814E7, 5355424.25785557],\r\n            [-1.236158395199088E7, 5390784.55533999],\r\n            [-1.236198815306194E7, 5462754.83859328],\r\n            [-1.236211728367126E7, 5538995.97145504],\r\n            [-1.236212318360428E7, 5568867.31982516],\r\n            [-1.236232444924363E7, 5620854.95417318],\r\n            [-1.229288824894438E7, 5620316.91583206],\r\n            [-1.2288781895568E7, 5621314.94100872],\r\n            [-1.224456390139357E7, 5621970.64383454],\r\n            [-1.222273014174734E7, 5621455.36603028],\r\n            [-1.209203215399677E7, 5621150.43241323],\r\n            [-1.205128866376898E7, 5621546.67495262],\r\n            [-1.201067341359458E7, 5621492.04691732],\r\n            [-1.182865814246373E7, 5620919.18090556],\r\n            [-1.180215653392956E7, 5621084.9446589],\r\n            [-1.169794913408358E7, 5621495.03806919],\r\n            [-1.169313957548385E7, 5621693.24344854],\r\n            [-1.158383374295954E7, 5621104.15015297],\r\n            [-1.158379210946998E7, 5554761.48947335],\r\n            [-1.158396710370951E7, 5493626.06569343],\r\n            [-1.158382183177402E7, 5488039.68771347],\r\n            [-1.158379377926234E7, 5442710.58976854],\r\n            [-1.158361967557875E7, 5388962.94229949],\r\n            [-1.158375815702529E7, 5385191.61647555],\r\n            [-1.158342865133254E7, 5312442.79715209],\r\n            [-1.15834303211249E7, 5253508.54391938],\r\n            [-1.158312797738791E7, 5160957.12459852],\r\n            [-1.15831389980175E7, 5115884.78673627]\r\n          ]\r\n        ]\r\n      ]\r\n    },\r\n    "geometry_name": "the_geom",\r\n    "properties": {\r\n      "STATE_NAME": "Wyoming",\r\n      "STATE_FIPS": "56",\r\n      "SUB_REGION": "Mtn",\r\n      "STATE_ABBR": "WY",\r\n      "LAND_KM": 251500.801,\r\n      "WATER_KM": 1848.149,\r\n      "PERSONS": 453588,\r\n      "FAMILIES": 119825,\r\n      "HOUSHOLD": 168839,\r\n      "MALE": 227007,\r\n      "FEMALE": 226581,\r\n      "WORKERS": 164561,\r\n      "DRVALONE": 153679,\r\n      "CARPOOL": 28109,\r\n      "PUBTRANS": 2963,\r\n      "EMPLOYED": 207868,\r\n      "UNEMPLOY": 13112,\r\n      "SERVICE": 71419,\r\n      "MANUAL": 29157,\r\n      "P_MALE": 0.5,\r\n      "P_FEMALE": 0.5,\r\n      "SAMP_POP": 83202,\r\n      "bbox": [-1.236232444924363E7, 5011501.68893432, -1.158292671174856E7, 5621970.64383454]\r\n    }\r\n  }],\r\n  "crs": {\r\n    "type": "name",\r\n    "properties": {\r\n      "name": "urn:ogc:def:crs:EPSG::3857"\r\n    }\r\n  },\r\n  "bbox": [-1.236232444924363E7, 5011501.68893432, -1.158292671174856E7, 5621970.64383454]\r\n}'},"./node_modules/raw-loader/index.js!./MapStore2/web/client/plugins/tocitemssettings/featureInfoPreviews/responseText.txt":function(e,t){e.exports="Results for FeatureType 'http://www.openplans.org/topp:states':\r\n--------------------------------------------\r\nthe_geom = [GEOMETRY (Polygon) with 48 points]\r\nSTATE_NAME = Wyoming\r\nSTATE_FIPS = 56\r\nSUB_REGION = Mtn\r\nSTATE_ABBR = WY\r\nLAND_KM = 251500.801\r\nWATER_KM = 1848.149\r\nPERSONS = 453588.0\r\nFAMILIES = 119825.0\r\nHOUSHOLD = 168839.0\r\nMALE = 227007.0\r\nFEMALE = 226581.0\r\nWORKERS = 164561.0\r\nDRVALONE = 153679.0\r\nCARPOOL = 28109.0\r\nPUBTRANS = 2963.0\r\nEMPLOYED = 207868.0\r\nUNEMPLOY = 13112.0\r\nSERVICE = 71419.0\r\nMANUAL = 29157.0\r\nP_MALE = 0.5\r\nP_FEMALE = 0.5\r\nSAMP_POP = 83202.0\r\n--------------------------------------------"},"./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt":function(e,t){e.exports='.fa-glass:before {\r\n  content: "\\f000";\r\n}\r\n.fa-music:before {\r\n  content: "\\f001";\r\n}\r\n.fa-search:before {\r\n  content: "\\f002";\r\n}\r\n.fa-envelope-o:before {\r\n  content: "\\f003";\r\n}\r\n.fa-heart:before {\r\n  content: "\\f004";\r\n}\r\n.fa-star:before {\r\n  content: "\\f005";\r\n}\r\n.fa-star-o:before {\r\n  content: "\\f006";\r\n}\r\n.fa-user:before {\r\n  content: "\\f007";\r\n}\r\n.fa-film:before {\r\n  content: "\\f008";\r\n}\r\n.fa-th-large:before {\r\n  content: "\\f009";\r\n}\r\n.fa-th:before {\r\n  content: "\\f00a";\r\n}\r\n.fa-th-list:before {\r\n  content: "\\f00b";\r\n}\r\n.fa-check:before {\r\n  content: "\\f00c";\r\n}\r\n.fa-remove:before,\r\n.fa-close:before,\r\n.fa-times:before {\r\n  content: "\\f00d";\r\n}\r\n.fa-search-plus:before {\r\n  content: "\\f00e";\r\n}\r\n.fa-search-minus:before {\r\n  content: "\\f010";\r\n}\r\n.fa-power-off:before {\r\n  content: "\\f011";\r\n}\r\n.fa-signal:before {\r\n  content: "\\f012";\r\n}\r\n.fa-gear:before,\r\n.fa-cog:before {\r\n  content: "\\f013";\r\n}\r\n.fa-trash-o:before {\r\n  content: "\\f014";\r\n}\r\n.fa-home:before {\r\n  content: "\\f015";\r\n}\r\n.fa-file-o:before {\r\n  content: "\\f016";\r\n}\r\n.fa-clock-o:before {\r\n  content: "\\f017";\r\n}\r\n.fa-road:before {\r\n  content: "\\f018";\r\n}\r\n.fa-download:before {\r\n  content: "\\f019";\r\n}\r\n.fa-arrow-circle-o-down:before {\r\n  content: "\\f01a";\r\n}\r\n.fa-arrow-circle-o-up:before {\r\n  content: "\\f01b";\r\n}\r\n.fa-inbox:before {\r\n  content: "\\f01c";\r\n}\r\n.fa-play-circle-o:before {\r\n  content: "\\f01d";\r\n}\r\n.fa-rotate-right:before,\r\n.fa-repeat:before {\r\n  content: "\\f01e";\r\n}\r\n.fa-refresh:before {\r\n  content: "\\f021";\r\n}\r\n.fa-list-alt:before {\r\n  content: "\\f022";\r\n}\r\n.fa-lock:before {\r\n  content: "\\f023";\r\n}\r\n.fa-flag:before {\r\n  content: "\\f024";\r\n}\r\n.fa-headphones:before {\r\n  content: "\\f025";\r\n}\r\n.fa-volume-off:before {\r\n  content: "\\f026";\r\n}\r\n.fa-volume-down:before {\r\n  content: "\\f027";\r\n}\r\n.fa-volume-up:before {\r\n  content: "\\f028";\r\n}\r\n.fa-qrcode:before {\r\n  content: "\\f029";\r\n}\r\n.fa-barcode:before {\r\n  content: "\\f02a";\r\n}\r\n.fa-tag:before {\r\n  content: "\\f02b";\r\n}\r\n.fa-tags:before {\r\n  content: "\\f02c";\r\n}\r\n.fa-book:before {\r\n  content: "\\f02d";\r\n}\r\n.fa-bookmark:before {\r\n  content: "\\f02e";\r\n}\r\n.fa-print:before {\r\n  content: "\\f02f";\r\n}\r\n.fa-camera:before {\r\n  content: "\\f030";\r\n}\r\n.fa-font:before {\r\n  content: "\\f031";\r\n}\r\n.fa-bold:before {\r\n  content: "\\f032";\r\n}\r\n.fa-italic:before {\r\n  content: "\\f033";\r\n}\r\n.fa-text-height:before {\r\n  content: "\\f034";\r\n}\r\n.fa-text-width:before {\r\n  content: "\\f035";\r\n}\r\n.fa-align-left:before {\r\n  content: "\\f036";\r\n}\r\n.fa-align-center:before {\r\n  content: "\\f037";\r\n}\r\n.fa-align-right:before {\r\n  content: "\\f038";\r\n}\r\n.fa-align-justify:before {\r\n  content: "\\f039";\r\n}\r\n.fa-list:before {\r\n  content: "\\f03a";\r\n}\r\n.fa-dedent:before,\r\n.fa-outdent:before {\r\n  content: "\\f03b";\r\n}\r\n.fa-indent:before {\r\n  content: "\\f03c";\r\n}\r\n.fa-video-camera:before {\r\n  content: "\\f03d";\r\n}\r\n.fa-photo:before,\r\n.fa-image:before,\r\n.fa-picture-o:before {\r\n  content: "\\f03e";\r\n}\r\n.fa-pencil:before {\r\n  content: "\\f040";\r\n}\r\n.fa-map-marker:before {\r\n  content: "\\f041";\r\n}\r\n.fa-adjust:before {\r\n  content: "\\f042";\r\n}\r\n.fa-tint:before {\r\n  content: "\\f043";\r\n}\r\n.fa-edit:before,\r\n.fa-pencil-square-o:before {\r\n  content: "\\f044";\r\n}\r\n.fa-share-square-o:before {\r\n  content: "\\f045";\r\n}\r\n.fa-check-square-o:before {\r\n  content: "\\f046";\r\n}\r\n.fa-arrows:before {\r\n  content: "\\f047";\r\n}\r\n.fa-step-backward:before {\r\n  content: "\\f048";\r\n}\r\n.fa-fast-backward:before {\r\n  content: "\\f049";\r\n}\r\n.fa-backward:before {\r\n  content: "\\f04a";\r\n}\r\n.fa-play:before {\r\n  content: "\\f04b";\r\n}\r\n.fa-pause:before {\r\n  content: "\\f04c";\r\n}\r\n.fa-stop:before {\r\n  content: "\\f04d";\r\n}\r\n.fa-forward:before {\r\n  content: "\\f04e";\r\n}\r\n.fa-fast-forward:before {\r\n  content: "\\f050";\r\n}\r\n.fa-step-forward:before {\r\n  content: "\\f051";\r\n}\r\n.fa-eject:before {\r\n  content: "\\f052";\r\n}\r\n.fa-chevron-left:before {\r\n  content: "\\f053";\r\n}\r\n.fa-chevron-right:before {\r\n  content: "\\f054";\r\n}\r\n.fa-plus-circle:before {\r\n  content: "\\f055";\r\n}\r\n.fa-minus-circle:before {\r\n  content: "\\f056";\r\n}\r\n.fa-times-circle:before {\r\n  content: "\\f057";\r\n}\r\n.fa-check-circle:before {\r\n  content: "\\f058";\r\n}\r\n.fa-question-circle:before {\r\n  content: "\\f059";\r\n}\r\n.fa-info-circle:before {\r\n  content: "\\f05a";\r\n}\r\n.fa-crosshairs:before {\r\n  content: "\\f05b";\r\n}\r\n.fa-times-circle-o:before {\r\n  content: "\\f05c";\r\n}\r\n.fa-check-circle-o:before {\r\n  content: "\\f05d";\r\n}\r\n.fa-ban:before {\r\n  content: "\\f05e";\r\n}\r\n.fa-arrow-left:before {\r\n  content: "\\f060";\r\n}\r\n.fa-arrow-right:before {\r\n  content: "\\f061";\r\n}\r\n.fa-arrow-up:before {\r\n  content: "\\f062";\r\n}\r\n.fa-arrow-down:before {\r\n  content: "\\f063";\r\n}\r\n.fa-mail-forward:before,\r\n.fa-share:before {\r\n  content: "\\f064";\r\n}\r\n.fa-expand:before {\r\n  content: "\\f065";\r\n}\r\n.fa-compress:before {\r\n  content: "\\f066";\r\n}\r\n.fa-plus:before {\r\n  content: "\\f067";\r\n}\r\n.fa-minus:before {\r\n  content: "\\f068";\r\n}\r\n.fa-asterisk:before {\r\n  content: "\\f069";\r\n}\r\n.fa-exclamation-circle:before {\r\n  content: "\\f06a";\r\n}\r\n.fa-gift:before {\r\n  content: "\\f06b";\r\n}\r\n.fa-leaf:before {\r\n  content: "\\f06c";\r\n}\r\n.fa-fire:before {\r\n  content: "\\f06d";\r\n}\r\n.fa-eye:before {\r\n  content: "\\f06e";\r\n}\r\n.fa-eye-slash:before {\r\n  content: "\\f070";\r\n}\r\n.fa-warning:before,\r\n.fa-exclamation-triangle:before {\r\n  content: "\\f071";\r\n}\r\n.fa-plane:before {\r\n  content: "\\f072";\r\n}\r\n.fa-calendar:before {\r\n  content: "\\f073";\r\n}\r\n.fa-random:before {\r\n  content: "\\f074";\r\n}\r\n.fa-comment:before {\r\n  content: "\\f075";\r\n}\r\n.fa-magnet:before {\r\n  content: "\\f076";\r\n}\r\n.fa-chevron-up:before {\r\n  content: "\\f077";\r\n}\r\n.fa-chevron-down:before {\r\n  content: "\\f078";\r\n}\r\n.fa-retweet:before {\r\n  content: "\\f079";\r\n}\r\n.fa-shopping-cart:before {\r\n  content: "\\f07a";\r\n}\r\n.fa-folder:before {\r\n  content: "\\f07b";\r\n}\r\n.fa-folder-open:before {\r\n  content: "\\f07c";\r\n}\r\n.fa-arrows-v:before {\r\n  content: "\\f07d";\r\n}\r\n.fa-arrows-h:before {\r\n  content: "\\f07e";\r\n}\r\n.fa-bar-chart-o:before,\r\n.fa-bar-chart:before {\r\n  content: "\\f080";\r\n}\r\n.fa-twitter-square:before {\r\n  content: "\\f081";\r\n}\r\n.fa-facebook-square:before {\r\n  content: "\\f082";\r\n}\r\n.fa-camera-retro:before {\r\n  content: "\\f083";\r\n}\r\n.fa-key:before {\r\n  content: "\\f084";\r\n}\r\n.fa-gears:before,\r\n.fa-cogs:before {\r\n  content: "\\f085";\r\n}\r\n.fa-comments:before {\r\n  content: "\\f086";\r\n}\r\n.fa-thumbs-o-up:before {\r\n  content: "\\f087";\r\n}\r\n.fa-thumbs-o-down:before {\r\n  content: "\\f088";\r\n}\r\n.fa-star-half:before {\r\n  content: "\\f089";\r\n}\r\n.fa-heart-o:before {\r\n  content: "\\f08a";\r\n}\r\n.fa-sign-out:before {\r\n  content: "\\f08b";\r\n}\r\n.fa-linkedin-square:before {\r\n  content: "\\f08c";\r\n}\r\n.fa-thumb-tack:before {\r\n  content: "\\f08d";\r\n}\r\n.fa-external-link:before {\r\n  content: "\\f08e";\r\n}\r\n.fa-sign-in:before {\r\n  content: "\\f090";\r\n}\r\n.fa-trophy:before {\r\n  content: "\\f091";\r\n}\r\n.fa-github-square:before {\r\n  content: "\\f092";\r\n}\r\n.fa-upload:before {\r\n  content: "\\f093";\r\n}\r\n.fa-lemon-o:before {\r\n  content: "\\f094";\r\n}\r\n.fa-phone:before {\r\n  content: "\\f095";\r\n}\r\n.fa-square-o:before {\r\n  content: "\\f096";\r\n}\r\n.fa-bookmark-o:before {\r\n  content: "\\f097";\r\n}\r\n.fa-phone-square:before {\r\n  content: "\\f098";\r\n}\r\n.fa-twitter:before {\r\n  content: "\\f099";\r\n}\r\n.fa-facebook-f:before,\r\n.fa-facebook:before {\r\n  content: "\\f09a";\r\n}\r\n.fa-github:before {\r\n  content: "\\f09b";\r\n}\r\n.fa-unlock:before {\r\n  content: "\\f09c";\r\n}\r\n.fa-credit-card:before {\r\n  content: "\\f09d";\r\n}\r\n.fa-feed:before,\r\n.fa-rss:before {\r\n  content: "\\f09e";\r\n}\r\n.fa-hdd-o:before {\r\n  content: "\\f0a0";\r\n}\r\n.fa-bullhorn:before {\r\n  content: "\\f0a1";\r\n}\r\n.fa-bell:before {\r\n  content: "\\f0f3";\r\n}\r\n.fa-certificate:before {\r\n  content: "\\f0a3";\r\n}\r\n.fa-hand-o-right:before {\r\n  content: "\\f0a4";\r\n}\r\n.fa-hand-o-left:before {\r\n  content: "\\f0a5";\r\n}\r\n.fa-hand-o-up:before {\r\n  content: "\\f0a6";\r\n}\r\n.fa-hand-o-down:before {\r\n  content: "\\f0a7";\r\n}\r\n.fa-arrow-circle-left:before {\r\n  content: "\\f0a8";\r\n}\r\n.fa-arrow-circle-right:before {\r\n  content: "\\f0a9";\r\n}\r\n.fa-arrow-circle-up:before {\r\n  content: "\\f0aa";\r\n}\r\n.fa-arrow-circle-down:before {\r\n  content: "\\f0ab";\r\n}\r\n.fa-globe:before {\r\n  content: "\\f0ac";\r\n}\r\n.fa-wrench:before {\r\n  content: "\\f0ad";\r\n}\r\n.fa-tasks:before {\r\n  content: "\\f0ae";\r\n}\r\n.fa-filter:before {\r\n  content: "\\f0b0";\r\n}\r\n.fa-briefcase:before {\r\n  content: "\\f0b1";\r\n}\r\n.fa-arrows-alt:before {\r\n  content: "\\f0b2";\r\n}\r\n.fa-group:before,\r\n.fa-users:before {\r\n  content: "\\f0c0";\r\n}\r\n.fa-chain:before,\r\n.fa-link:before {\r\n  content: "\\f0c1";\r\n}\r\n.fa-cloud:before {\r\n  content: "\\f0c2";\r\n}\r\n.fa-flask:before {\r\n  content: "\\f0c3";\r\n}\r\n.fa-cut:before,\r\n.fa-scissors:before {\r\n  content: "\\f0c4";\r\n}\r\n.fa-copy:before,\r\n.fa-files-o:before {\r\n  content: "\\f0c5";\r\n}\r\n.fa-paperclip:before {\r\n  content: "\\f0c6";\r\n}\r\n.fa-save:before,\r\n.fa-floppy-o:before {\r\n  content: "\\f0c7";\r\n}\r\n.fa-square:before {\r\n  content: "\\f0c8";\r\n}\r\n.fa-navicon:before,\r\n.fa-reorder:before,\r\n.fa-bars:before {\r\n  content: "\\f0c9";\r\n}\r\n.fa-list-ul:before {\r\n  content: "\\f0ca";\r\n}\r\n.fa-list-ol:before {\r\n  content: "\\f0cb";\r\n}\r\n.fa-strikethrough:before {\r\n  content: "\\f0cc";\r\n}\r\n.fa-underline:before {\r\n  content: "\\f0cd";\r\n}\r\n.fa-table:before {\r\n  content: "\\f0ce";\r\n}\r\n.fa-magic:before {\r\n  content: "\\f0d0";\r\n}\r\n.fa-truck:before {\r\n  content: "\\f0d1";\r\n}\r\n.fa-pinterest:before {\r\n  content: "\\f0d2";\r\n}\r\n.fa-pinterest-square:before {\r\n  content: "\\f0d3";\r\n}\r\n.fa-google-plus-square:before {\r\n  content: "\\f0d4";\r\n}\r\n.fa-google-plus:before {\r\n  content: "\\f0d5";\r\n}\r\n.fa-money:before {\r\n  content: "\\f0d6";\r\n}\r\n.fa-caret-down:before {\r\n  content: "\\f0d7";\r\n}\r\n.fa-caret-up:before {\r\n  content: "\\f0d8";\r\n}\r\n.fa-caret-left:before {\r\n  content: "\\f0d9";\r\n}\r\n.fa-caret-right:before {\r\n  content: "\\f0da";\r\n}\r\n.fa-columns:before {\r\n  content: "\\f0db";\r\n}\r\n.fa-unsorted:before,\r\n.fa-sort:before {\r\n  content: "\\f0dc";\r\n}\r\n.fa-sort-down:before,\r\n.fa-sort-desc:before {\r\n  content: "\\f0dd";\r\n}\r\n.fa-sort-up:before,\r\n.fa-sort-asc:before {\r\n  content: "\\f0de";\r\n}\r\n.fa-envelope:before {\r\n  content: "\\f0e0";\r\n}\r\n.fa-linkedin:before {\r\n  content: "\\f0e1";\r\n}\r\n.fa-rotate-left:before,\r\n.fa-undo:before {\r\n  content: "\\f0e2";\r\n}\r\n.fa-legal:before,\r\n.fa-gavel:before {\r\n  content: "\\f0e3";\r\n}\r\n.fa-dashboard:before,\r\n.fa-tachometer:before {\r\n  content: "\\f0e4";\r\n}\r\n.fa-comment-o:before {\r\n  content: "\\f0e5";\r\n}\r\n.fa-comments-o:before {\r\n  content: "\\f0e6";\r\n}\r\n.fa-flash:before,\r\n.fa-bolt:before {\r\n  content: "\\f0e7";\r\n}\r\n.fa-sitemap:before {\r\n  content: "\\f0e8";\r\n}\r\n.fa-umbrella:before {\r\n  content: "\\f0e9";\r\n}\r\n.fa-paste:before,\r\n.fa-clipboard:before {\r\n  content: "\\f0ea";\r\n}\r\n.fa-lightbulb-o:before {\r\n  content: "\\f0eb";\r\n}\r\n.fa-exchange:before {\r\n  content: "\\f0ec";\r\n}\r\n.fa-cloud-download:before {\r\n  content: "\\f0ed";\r\n}\r\n.fa-cloud-upload:before {\r\n  content: "\\f0ee";\r\n}\r\n.fa-user-md:before {\r\n  content: "\\f0f0";\r\n}\r\n.fa-stethoscope:before {\r\n  content: "\\f0f1";\r\n}\r\n.fa-suitcase:before {\r\n  content: "\\f0f2";\r\n}\r\n.fa-bell-o:before {\r\n  content: "\\f0a2";\r\n}\r\n.fa-coffee:before {\r\n  content: "\\f0f4";\r\n}\r\n.fa-cutlery:before {\r\n  content: "\\f0f5";\r\n}\r\n.fa-file-text-o:before {\r\n  content: "\\f0f6";\r\n}\r\n.fa-building-o:before {\r\n  content: "\\f0f7";\r\n}\r\n.fa-hospital-o:before {\r\n  content: "\\f0f8";\r\n}\r\n.fa-ambulance:before {\r\n  content: "\\f0f9";\r\n}\r\n.fa-medkit:before {\r\n  content: "\\f0fa";\r\n}\r\n.fa-fighter-jet:before {\r\n  content: "\\f0fb";\r\n}\r\n.fa-beer:before {\r\n  content: "\\f0fc";\r\n}\r\n.fa-h-square:before {\r\n  content: "\\f0fd";\r\n}\r\n.fa-plus-square:before {\r\n  content: "\\f0fe";\r\n}\r\n.fa-angle-double-left:before {\r\n  content: "\\f100";\r\n}\r\n.fa-angle-double-right:before {\r\n  content: "\\f101";\r\n}\r\n.fa-angle-double-up:before {\r\n  content: "\\f102";\r\n}\r\n.fa-angle-double-down:before {\r\n  content: "\\f103";\r\n}\r\n.fa-angle-left:before {\r\n  content: "\\f104";\r\n}\r\n.fa-angle-right:before {\r\n  content: "\\f105";\r\n}\r\n.fa-angle-up:before {\r\n  content: "\\f106";\r\n}\r\n.fa-angle-down:before {\r\n  content: "\\f107";\r\n}\r\n.fa-desktop:before {\r\n  content: "\\f108";\r\n}\r\n.fa-laptop:before {\r\n  content: "\\f109";\r\n}\r\n.fa-tablet:before {\r\n  content: "\\f10a";\r\n}\r\n.fa-mobile-phone:before,\r\n.fa-mobile:before {\r\n  content: "\\f10b";\r\n}\r\n.fa-circle-o:before {\r\n  content: "\\f10c";\r\n}\r\n.fa-quote-left:before {\r\n  content: "\\f10d";\r\n}\r\n.fa-quote-right:before {\r\n  content: "\\f10e";\r\n}\r\n.fa-spinner:before {\r\n  content: "\\f110";\r\n}\r\n.fa-circle:before {\r\n  content: "\\f111";\r\n}\r\n.fa-mail-reply:before,\r\n.fa-reply:before {\r\n  content: "\\f112";\r\n}\r\n.fa-github-alt:before {\r\n  content: "\\f113";\r\n}\r\n.fa-folder-o:before {\r\n  content: "\\f114";\r\n}\r\n.fa-folder-open-o:before {\r\n  content: "\\f115";\r\n}\r\n.fa-smile-o:before {\r\n  content: "\\f118";\r\n}\r\n.fa-frown-o:before {\r\n  content: "\\f119";\r\n}\r\n.fa-meh-o:before {\r\n  content: "\\f11a";\r\n}\r\n.fa-gamepad:before {\r\n  content: "\\f11b";\r\n}\r\n.fa-keyboard-o:before {\r\n  content: "\\f11c";\r\n}\r\n.fa-flag-o:before {\r\n  content: "\\f11d";\r\n}\r\n.fa-flag-checkered:before {\r\n  content: "\\f11e";\r\n}\r\n.fa-terminal:before {\r\n  content: "\\f120";\r\n}\r\n.fa-code:before {\r\n  content: "\\f121";\r\n}\r\n.fa-mail-reply-all:before,\r\n.fa-reply-all:before {\r\n  content: "\\f122";\r\n}\r\n.fa-star-half-empty:before,\r\n.fa-star-half-full:before,\r\n.fa-star-half-o:before {\r\n  content: "\\f123";\r\n}\r\n.fa-location-arrow:before {\r\n  content: "\\f124";\r\n}\r\n.fa-crop:before {\r\n  content: "\\f125";\r\n}\r\n.fa-code-fork:before {\r\n  content: "\\f126";\r\n}\r\n.fa-unlink:before,\r\n.fa-chain-broken:before {\r\n  content: "\\f127";\r\n}\r\n.fa-question:before {\r\n  content: "\\f128";\r\n}\r\n.fa-info:before {\r\n  content: "\\f129";\r\n}\r\n.fa-exclamation:before {\r\n  content: "\\f12a";\r\n}\r\n.fa-superscript:before {\r\n  content: "\\f12b";\r\n}\r\n.fa-subscript:before {\r\n  content: "\\f12c";\r\n}\r\n.fa-eraser:before {\r\n  content: "\\f12d";\r\n}\r\n.fa-puzzle-piece:before {\r\n  content: "\\f12e";\r\n}\r\n.fa-microphone:before {\r\n  content: "\\f130";\r\n}\r\n.fa-microphone-slash:before {\r\n  content: "\\f131";\r\n}\r\n.fa-shield:before {\r\n  content: "\\f132";\r\n}\r\n.fa-calendar-o:before {\r\n  content: "\\f133";\r\n}\r\n.fa-fire-extinguisher:before {\r\n  content: "\\f134";\r\n}\r\n.fa-rocket:before {\r\n  content: "\\f135";\r\n}\r\n.fa-maxcdn:before {\r\n  content: "\\f136";\r\n}\r\n.fa-chevron-circle-left:before {\r\n  content: "\\f137";\r\n}\r\n.fa-chevron-circle-right:before {\r\n  content: "\\f138";\r\n}\r\n.fa-chevron-circle-up:before {\r\n  content: "\\f139";\r\n}\r\n.fa-chevron-circle-down:before {\r\n  content: "\\f13a";\r\n}\r\n.fa-html5:before {\r\n  content: "\\f13b";\r\n}\r\n.fa-css3:before {\r\n  content: "\\f13c";\r\n}\r\n.fa-anchor:before {\r\n  content: "\\f13d";\r\n}\r\n.fa-unlock-alt:before {\r\n  content: "\\f13e";\r\n}\r\n.fa-bullseye:before {\r\n  content: "\\f140";\r\n}\r\n.fa-ellipsis-h:before {\r\n  content: "\\f141";\r\n}\r\n.fa-ellipsis-v:before {\r\n  content: "\\f142";\r\n}\r\n.fa-rss-square:before {\r\n  content: "\\f143";\r\n}\r\n.fa-play-circle:before {\r\n  content: "\\f144";\r\n}\r\n.fa-ticket:before {\r\n  content: "\\f145";\r\n}\r\n.fa-minus-square:before {\r\n  content: "\\f146";\r\n}\r\n.fa-minus-square-o:before {\r\n  content: "\\f147";\r\n}\r\n.fa-level-up:before {\r\n  content: "\\f148";\r\n}\r\n.fa-level-down:before {\r\n  content: "\\f149";\r\n}\r\n.fa-check-square:before {\r\n  content: "\\f14a";\r\n}\r\n.fa-pencil-square:before {\r\n  content: "\\f14b";\r\n}\r\n.fa-external-link-square:before {\r\n  content: "\\f14c";\r\n}\r\n.fa-share-square:before {\r\n  content: "\\f14d";\r\n}\r\n.fa-compass:before {\r\n  content: "\\f14e";\r\n}\r\n.fa-toggle-down:before,\r\n.fa-caret-square-o-down:before {\r\n  content: "\\f150";\r\n}\r\n.fa-toggle-up:before,\r\n.fa-caret-square-o-up:before {\r\n  content: "\\f151";\r\n}\r\n.fa-toggle-right:before,\r\n.fa-caret-square-o-right:before {\r\n  content: "\\f152";\r\n}\r\n.fa-euro:before,\r\n.fa-eur:before {\r\n  content: "\\f153";\r\n}\r\n.fa-gbp:before {\r\n  content: "\\f154";\r\n}\r\n.fa-dollar:before,\r\n.fa-usd:before {\r\n  content: "\\f155";\r\n}\r\n.fa-rupee:before,\r\n.fa-inr:before {\r\n  content: "\\f156";\r\n}\r\n.fa-cny:before,\r\n.fa-rmb:before,\r\n.fa-yen:before,\r\n.fa-jpy:before {\r\n  content: "\\f157";\r\n}\r\n.fa-ruble:before,\r\n.fa-rouble:before,\r\n.fa-rub:before {\r\n  content: "\\f158";\r\n}\r\n.fa-won:before,\r\n.fa-krw:before {\r\n  content: "\\f159";\r\n}\r\n.fa-bitcoin:before,\r\n.fa-btc:before {\r\n  content: "\\f15a";\r\n}\r\n.fa-file:before {\r\n  content: "\\f15b";\r\n}\r\n.fa-file-text:before {\r\n  content: "\\f15c";\r\n}\r\n.fa-sort-alpha-asc:before {\r\n  content: "\\f15d";\r\n}\r\n.fa-sort-alpha-desc:before {\r\n  content: "\\f15e";\r\n}\r\n.fa-sort-amount-asc:before {\r\n  content: "\\f160";\r\n}\r\n.fa-sort-amount-desc:before {\r\n  content: "\\f161";\r\n}\r\n.fa-sort-numeric-asc:before {\r\n  content: "\\f162";\r\n}\r\n.fa-sort-numeric-desc:before {\r\n  content: "\\f163";\r\n}\r\n.fa-thumbs-up:before {\r\n  content: "\\f164";\r\n}\r\n.fa-thumbs-down:before {\r\n  content: "\\f165";\r\n}\r\n.fa-youtube-square:before {\r\n  content: "\\f166";\r\n}\r\n.fa-youtube:before {\r\n  content: "\\f167";\r\n}\r\n.fa-xing:before {\r\n  content: "\\f168";\r\n}\r\n.fa-xing-square:before {\r\n  content: "\\f169";\r\n}\r\n.fa-youtube-play:before {\r\n  content: "\\f16a";\r\n}\r\n.fa-dropbox:before {\r\n  content: "\\f16b";\r\n}\r\n.fa-stack-overflow:before {\r\n  content: "\\f16c";\r\n}\r\n.fa-instagram:before {\r\n  content: "\\f16d";\r\n}\r\n.fa-flickr:before {\r\n  content: "\\f16e";\r\n}\r\n.fa-adn:before {\r\n  content: "\\f170";\r\n}\r\n.fa-bitbucket:before {\r\n  content: "\\f171";\r\n}\r\n.fa-bitbucket-square:before {\r\n  content: "\\f172";\r\n}\r\n.fa-tumblr:before {\r\n  content: "\\f173";\r\n}\r\n.fa-tumblr-square:before {\r\n  content: "\\f174";\r\n}\r\n.fa-long-arrow-down:before {\r\n  content: "\\f175";\r\n}\r\n.fa-long-arrow-up:before {\r\n  content: "\\f176";\r\n}\r\n.fa-long-arrow-left:before {\r\n  content: "\\f177";\r\n}\r\n.fa-long-arrow-right:before {\r\n  content: "\\f178";\r\n}\r\n.fa-apple:before {\r\n  content: "\\f179";\r\n}\r\n.fa-windows:before {\r\n  content: "\\f17a";\r\n}\r\n.fa-android:before {\r\n  content: "\\f17b";\r\n}\r\n.fa-linux:before {\r\n  content: "\\f17c";\r\n}\r\n.fa-dribbble:before {\r\n  content: "\\f17d";\r\n}\r\n.fa-skype:before {\r\n  content: "\\f17e";\r\n}\r\n.fa-foursquare:before {\r\n  content: "\\f180";\r\n}\r\n.fa-trello:before {\r\n  content: "\\f181";\r\n}\r\n.fa-female:before {\r\n  content: "\\f182";\r\n}\r\n.fa-male:before {\r\n  content: "\\f183";\r\n}\r\n.fa-gittip:before,\r\n.fa-gratipay:before {\r\n  content: "\\f184";\r\n}\r\n.fa-sun-o:before {\r\n  content: "\\f185";\r\n}\r\n.fa-moon-o:before {\r\n  content: "\\f186";\r\n}\r\n.fa-archive:before {\r\n  content: "\\f187";\r\n}\r\n.fa-bug:before {\r\n  content: "\\f188";\r\n}\r\n.fa-vk:before {\r\n  content: "\\f189";\r\n}\r\n.fa-weibo:before {\r\n  content: "\\f18a";\r\n}\r\n.fa-renren:before {\r\n  content: "\\f18b";\r\n}\r\n.fa-pagelines:before {\r\n  content: "\\f18c";\r\n}\r\n.fa-stack-exchange:before {\r\n  content: "\\f18d";\r\n}\r\n.fa-arrow-circle-o-right:before {\r\n  content: "\\f18e";\r\n}\r\n.fa-arrow-circle-o-left:before {\r\n  content: "\\f190";\r\n}\r\n.fa-toggle-left:before,\r\n.fa-caret-square-o-left:before {\r\n  content: "\\f191";\r\n}\r\n.fa-dot-circle-o:before {\r\n  content: "\\f192";\r\n}\r\n.fa-wheelchair:before {\r\n  content: "\\f193";\r\n}\r\n.fa-vimeo-square:before {\r\n  content: "\\f194";\r\n}\r\n.fa-turkish-lira:before,\r\n.fa-try:before {\r\n  content: "\\f195";\r\n}\r\n.fa-plus-square-o:before {\r\n  content: "\\f196";\r\n}\r\n.fa-space-shuttle:before {\r\n  content: "\\f197";\r\n}\r\n.fa-slack:before {\r\n  content: "\\f198";\r\n}\r\n.fa-envelope-square:before {\r\n  content: "\\f199";\r\n}\r\n.fa-wordpress:before {\r\n  content: "\\f19a";\r\n}\r\n.fa-openid:before {\r\n  content: "\\f19b";\r\n}\r\n.fa-institution:before,\r\n.fa-bank:before,\r\n.fa-university:before {\r\n  content: "\\f19c";\r\n}\r\n.fa-mortar-board:before,\r\n.fa-graduation-cap:before {\r\n  content: "\\f19d";\r\n}\r\n.fa-yahoo:before {\r\n  content: "\\f19e";\r\n}\r\n.fa-google:before {\r\n  content: "\\f1a0";\r\n}\r\n.fa-reddit:before {\r\n  content: "\\f1a1";\r\n}\r\n.fa-reddit-square:before {\r\n  content: "\\f1a2";\r\n}\r\n.fa-stumbleupon-circle:before {\r\n  content: "\\f1a3";\r\n}\r\n.fa-stumbleupon:before {\r\n  content: "\\f1a4";\r\n}\r\n.fa-delicious:before {\r\n  content: "\\f1a5";\r\n}\r\n.fa-digg:before {\r\n  content: "\\f1a6";\r\n}\r\n.fa-pied-piper-pp:before {\r\n  content: "\\f1a7";\r\n}\r\n.fa-pied-piper-alt:before {\r\n  content: "\\f1a8";\r\n}\r\n.fa-drupal:before {\r\n  content: "\\f1a9";\r\n}\r\n.fa-joomla:before {\r\n  content: "\\f1aa";\r\n}\r\n.fa-language:before {\r\n  content: "\\f1ab";\r\n}\r\n.fa-fax:before {\r\n  content: "\\f1ac";\r\n}\r\n.fa-building:before {\r\n  content: "\\f1ad";\r\n}\r\n.fa-child:before {\r\n  content: "\\f1ae";\r\n}\r\n.fa-paw:before {\r\n  content: "\\f1b0";\r\n}\r\n.fa-spoon:before {\r\n  content: "\\f1b1";\r\n}\r\n.fa-cube:before {\r\n  content: "\\f1b2";\r\n}\r\n.fa-cubes:before {\r\n  content: "\\f1b3";\r\n}\r\n.fa-behance:before {\r\n  content: "\\f1b4";\r\n}\r\n.fa-behance-square:before {\r\n  content: "\\f1b5";\r\n}\r\n.fa-steam:before {\r\n  content: "\\f1b6";\r\n}\r\n.fa-steam-square:before {\r\n  content: "\\f1b7";\r\n}\r\n.fa-recycle:before {\r\n  content: "\\f1b8";\r\n}\r\n.fa-automobile:before,\r\n.fa-car:before {\r\n  content: "\\f1b9";\r\n}\r\n.fa-cab:before,\r\n.fa-taxi:before {\r\n  content: "\\f1ba";\r\n}\r\n.fa-tree:before {\r\n  content: "\\f1bb";\r\n}\r\n.fa-spotify:before {\r\n  content: "\\f1bc";\r\n}\r\n.fa-deviantart:before {\r\n  content: "\\f1bd";\r\n}\r\n.fa-soundcloud:before {\r\n  content: "\\f1be";\r\n}\r\n.fa-database:before {\r\n  content: "\\f1c0";\r\n}\r\n.fa-file-pdf-o:before {\r\n  content: "\\f1c1";\r\n}\r\n.fa-file-word-o:before {\r\n  content: "\\f1c2";\r\n}\r\n.fa-file-excel-o:before {\r\n  content: "\\f1c3";\r\n}\r\n.fa-file-powerpoint-o:before {\r\n  content: "\\f1c4";\r\n}\r\n.fa-file-photo-o:before,\r\n.fa-file-picture-o:before,\r\n.fa-file-image-o:before {\r\n  content: "\\f1c5";\r\n}\r\n.fa-file-zip-o:before,\r\n.fa-file-archive-o:before {\r\n  content: "\\f1c6";\r\n}\r\n.fa-file-sound-o:before,\r\n.fa-file-audio-o:before {\r\n  content: "\\f1c7";\r\n}\r\n.fa-file-movie-o:before,\r\n.fa-file-video-o:before {\r\n  content: "\\f1c8";\r\n}\r\n.fa-file-code-o:before {\r\n  content: "\\f1c9";\r\n}\r\n.fa-vine:before {\r\n  content: "\\f1ca";\r\n}\r\n.fa-codepen:before {\r\n  content: "\\f1cb";\r\n}\r\n.fa-jsfiddle:before {\r\n  content: "\\f1cc";\r\n}\r\n.fa-life-bouy:before,\r\n.fa-life-buoy:before,\r\n.fa-life-saver:before,\r\n.fa-support:before,\r\n.fa-life-ring:before {\r\n  content: "\\f1cd";\r\n}\r\n.fa-circle-o-notch:before {\r\n  content: "\\f1ce";\r\n}\r\n.fa-ra:before,\r\n.fa-resistance:before,\r\n.fa-rebel:before {\r\n  content: "\\f1d0";\r\n}\r\n.fa-ge:before,\r\n.fa-empire:before {\r\n  content: "\\f1d1";\r\n}\r\n.fa-git-square:before {\r\n  content: "\\f1d2";\r\n}\r\n.fa-git:before {\r\n  content: "\\f1d3";\r\n}\r\n.fa-y-combinator-square:before,\r\n.fa-yc-square:before,\r\n.fa-hacker-news:before {\r\n  content: "\\f1d4";\r\n}\r\n.fa-tencent-weibo:before {\r\n  content: "\\f1d5";\r\n}\r\n.fa-qq:before {\r\n  content: "\\f1d6";\r\n}\r\n.fa-wechat:before,\r\n.fa-weixin:before {\r\n  content: "\\f1d7";\r\n}\r\n.fa-send:before,\r\n.fa-paper-plane:before {\r\n  content: "\\f1d8";\r\n}\r\n.fa-send-o:before,\r\n.fa-paper-plane-o:before {\r\n  content: "\\f1d9";\r\n}\r\n.fa-history:before {\r\n  content: "\\f1da";\r\n}\r\n.fa-circle-thin:before {\r\n  content: "\\f1db";\r\n}\r\n.fa-header:before {\r\n  content: "\\f1dc";\r\n}\r\n.fa-paragraph:before {\r\n  content: "\\f1dd";\r\n}\r\n.fa-sliders:before {\r\n  content: "\\f1de";\r\n}\r\n.fa-share-alt:before {\r\n  content: "\\f1e0";\r\n}\r\n.fa-share-alt-square:before {\r\n  content: "\\f1e1";\r\n}\r\n.fa-bomb:before {\r\n  content: "\\f1e2";\r\n}\r\n.fa-soccer-ball-o:before,\r\n.fa-futbol-o:before {\r\n  content: "\\f1e3";\r\n}\r\n.fa-tty:before {\r\n  content: "\\f1e4";\r\n}\r\n.fa-binoculars:before {\r\n  content: "\\f1e5";\r\n}\r\n.fa-plug:before {\r\n  content: "\\f1e6";\r\n}\r\n.fa-slideshare:before {\r\n  content: "\\f1e7";\r\n}\r\n.fa-twitch:before {\r\n  content: "\\f1e8";\r\n}\r\n.fa-yelp:before {\r\n  content: "\\f1e9";\r\n}\r\n.fa-newspaper-o:before {\r\n  content: "\\f1ea";\r\n}\r\n.fa-wifi:before {\r\n  content: "\\f1eb";\r\n}\r\n.fa-calculator:before {\r\n  content: "\\f1ec";\r\n}\r\n.fa-paypal:before {\r\n  content: "\\f1ed";\r\n}\r\n.fa-google-wallet:before {\r\n  content: "\\f1ee";\r\n}\r\n.fa-cc-visa:before {\r\n  content: "\\f1f0";\r\n}\r\n.fa-cc-mastercard:before {\r\n  content: "\\f1f1";\r\n}\r\n.fa-cc-discover:before {\r\n  content: "\\f1f2";\r\n}\r\n.fa-cc-amex:before {\r\n  content: "\\f1f3";\r\n}\r\n.fa-cc-paypal:before {\r\n  content: "\\f1f4";\r\n}\r\n.fa-cc-stripe:before {\r\n  content: "\\f1f5";\r\n}\r\n.fa-bell-slash:before {\r\n  content: "\\f1f6";\r\n}\r\n.fa-bell-slash-o:before {\r\n  content: "\\f1f7";\r\n}\r\n.fa-trash:before {\r\n  content: "\\f1f8";\r\n}\r\n.fa-copyright:before {\r\n  content: "\\f1f9";\r\n}\r\n.fa-at:before {\r\n  content: "\\f1fa";\r\n}\r\n.fa-eyedropper:before {\r\n  content: "\\f1fb";\r\n}\r\n.fa-paint-brush:before {\r\n  content: "\\f1fc";\r\n}\r\n.fa-birthday-cake:before {\r\n  content: "\\f1fd";\r\n}\r\n.fa-area-chart:before {\r\n  content: "\\f1fe";\r\n}\r\n.fa-pie-chart:before {\r\n  content: "\\f200";\r\n}\r\n.fa-line-chart:before {\r\n  content: "\\f201";\r\n}\r\n.fa-lastfm:before {\r\n  content: "\\f202";\r\n}\r\n.fa-lastfm-square:before {\r\n  content: "\\f203";\r\n}\r\n.fa-toggle-off:before {\r\n  content: "\\f204";\r\n}\r\n.fa-toggle-on:before {\r\n  content: "\\f205";\r\n}\r\n.fa-bicycle:before {\r\n  content: "\\f206";\r\n}\r\n.fa-bus:before {\r\n  content: "\\f207";\r\n}\r\n.fa-ioxhost:before {\r\n  content: "\\f208";\r\n}\r\n.fa-angellist:before {\r\n  content: "\\f209";\r\n}\r\n.fa-cc:before {\r\n  content: "\\f20a";\r\n}\r\n.fa-shekel:before,\r\n.fa-sheqel:before,\r\n.fa-ils:before {\r\n  content: "\\f20b";\r\n}\r\n.fa-meanpath:before {\r\n  content: "\\f20c";\r\n}\r\n.fa-buysellads:before {\r\n  content: "\\f20d";\r\n}\r\n.fa-connectdevelop:before {\r\n  content: "\\f20e";\r\n}\r\n.fa-dashcube:before {\r\n  content: "\\f210";\r\n}\r\n.fa-forumbee:before {\r\n  content: "\\f211";\r\n}\r\n.fa-leanpub:before {\r\n  content: "\\f212";\r\n}\r\n.fa-sellsy:before {\r\n  content: "\\f213";\r\n}\r\n.fa-shirtsinbulk:before {\r\n  content: "\\f214";\r\n}\r\n.fa-simplybuilt:before {\r\n  content: "\\f215";\r\n}\r\n.fa-skyatlas:before {\r\n  content: "\\f216";\r\n}\r\n.fa-cart-plus:before {\r\n  content: "\\f217";\r\n}\r\n.fa-cart-arrow-down:before {\r\n  content: "\\f218";\r\n}\r\n.fa-diamond:before {\r\n  content: "\\f219";\r\n}\r\n.fa-ship:before {\r\n  content: "\\f21a";\r\n}\r\n.fa-user-secret:before {\r\n  content: "\\f21b";\r\n}\r\n.fa-motorcycle:before {\r\n  content: "\\f21c";\r\n}\r\n.fa-street-view:before {\r\n  content: "\\f21d";\r\n}\r\n.fa-heartbeat:before {\r\n  content: "\\f21e";\r\n}\r\n.fa-venus:before {\r\n  content: "\\f221";\r\n}\r\n.fa-mars:before {\r\n  content: "\\f222";\r\n}\r\n.fa-mercury:before {\r\n  content: "\\f223";\r\n}\r\n.fa-intersex:before,\r\n.fa-transgender:before {\r\n  content: "\\f224";\r\n}\r\n.fa-transgender-alt:before {\r\n  content: "\\f225";\r\n}\r\n.fa-venus-double:before {\r\n  content: "\\f226";\r\n}\r\n.fa-mars-double:before {\r\n  content: "\\f227";\r\n}\r\n.fa-venus-mars:before {\r\n  content: "\\f228";\r\n}\r\n.fa-mars-stroke:before {\r\n  content: "\\f229";\r\n}\r\n.fa-mars-stroke-v:before {\r\n  content: "\\f22a";\r\n}\r\n.fa-mars-stroke-h:before {\r\n  content: "\\f22b";\r\n}\r\n.fa-neuter:before {\r\n  content: "\\f22c";\r\n}\r\n.fa-genderless:before {\r\n  content: "\\f22d";\r\n}\r\n.fa-facebook-official:before {\r\n  content: "\\f230";\r\n}\r\n.fa-pinterest-p:before {\r\n  content: "\\f231";\r\n}\r\n.fa-whatsapp:before {\r\n  content: "\\f232";\r\n}\r\n.fa-server:before {\r\n  content: "\\f233";\r\n}\r\n.fa-user-plus:before {\r\n  content: "\\f234";\r\n}\r\n.fa-user-times:before {\r\n  content: "\\f235";\r\n}\r\n.fa-hotel:before,\r\n.fa-bed:before {\r\n  content: "\\f236";\r\n}\r\n.fa-viacoin:before {\r\n  content: "\\f237";\r\n}\r\n.fa-train:before {\r\n  content: "\\f238";\r\n}\r\n.fa-subway:before {\r\n  content: "\\f239";\r\n}\r\n.fa-medium:before {\r\n  content: "\\f23a";\r\n}\r\n.fa-yc:before,\r\n.fa-y-combinator:before {\r\n  content: "\\f23b";\r\n}\r\n.fa-optin-monster:before {\r\n  content: "\\f23c";\r\n}\r\n.fa-opencart:before {\r\n  content: "\\f23d";\r\n}\r\n.fa-expeditedssl:before {\r\n  content: "\\f23e";\r\n}\r\n.fa-battery-4:before,\r\n.fa-battery:before,\r\n.fa-battery-full:before {\r\n  content: "\\f240";\r\n}\r\n.fa-battery-3:before,\r\n.fa-battery-three-quarters:before {\r\n  content: "\\f241";\r\n}\r\n.fa-battery-2:before,\r\n.fa-battery-half:before {\r\n  content: "\\f242";\r\n}\r\n.fa-battery-1:before,\r\n.fa-battery-quarter:before {\r\n  content: "\\f243";\r\n}\r\n.fa-battery-0:before,\r\n.fa-battery-empty:before {\r\n  content: "\\f244";\r\n}\r\n.fa-mouse-pointer:before {\r\n  content: "\\f245";\r\n}\r\n.fa-i-cursor:before {\r\n  content: "\\f246";\r\n}\r\n.fa-object-group:before {\r\n  content: "\\f247";\r\n}\r\n.fa-object-ungroup:before {\r\n  content: "\\f248";\r\n}\r\n.fa-sticky-note:before {\r\n  content: "\\f249";\r\n}\r\n.fa-sticky-note-o:before {\r\n  content: "\\f24a";\r\n}\r\n.fa-cc-jcb:before {\r\n  content: "\\f24b";\r\n}\r\n.fa-cc-diners-club:before {\r\n  content: "\\f24c";\r\n}\r\n.fa-clone:before {\r\n  content: "\\f24d";\r\n}\r\n.fa-balance-scale:before {\r\n  content: "\\f24e";\r\n}\r\n.fa-hourglass-o:before {\r\n  content: "\\f250";\r\n}\r\n.fa-hourglass-1:before,\r\n.fa-hourglass-start:before {\r\n  content: "\\f251";\r\n}\r\n.fa-hourglass-2:before,\r\n.fa-hourglass-half:before {\r\n  content: "\\f252";\r\n}\r\n.fa-hourglass-3:before,\r\n.fa-hourglass-end:before {\r\n  content: "\\f253";\r\n}\r\n.fa-hourglass:before {\r\n  content: "\\f254";\r\n}\r\n.fa-hand-grab-o:before,\r\n.fa-hand-rock-o:before {\r\n  content: "\\f255";\r\n}\r\n.fa-hand-stop-o:before,\r\n.fa-hand-paper-o:before {\r\n  content: "\\f256";\r\n}\r\n.fa-hand-scissors-o:before {\r\n  content: "\\f257";\r\n}\r\n.fa-hand-lizard-o:before {\r\n  content: "\\f258";\r\n}\r\n.fa-hand-spock-o:before {\r\n  content: "\\f259";\r\n}\r\n.fa-hand-pointer-o:before {\r\n  content: "\\f25a";\r\n}\r\n.fa-hand-peace-o:before {\r\n  content: "\\f25b";\r\n}\r\n.fa-trademark:before {\r\n  content: "\\f25c";\r\n}\r\n.fa-registered:before {\r\n  content: "\\f25d";\r\n}\r\n.fa-creative-commons:before {\r\n  content: "\\f25e";\r\n}\r\n.fa-gg:before {\r\n  content: "\\f260";\r\n}\r\n.fa-gg-circle:before {\r\n  content: "\\f261";\r\n}\r\n.fa-tripadvisor:before {\r\n  content: "\\f262";\r\n}\r\n.fa-odnoklassniki:before {\r\n  content: "\\f263";\r\n}\r\n.fa-odnoklassniki-square:before {\r\n  content: "\\f264";\r\n}\r\n.fa-get-pocket:before {\r\n  content: "\\f265";\r\n}\r\n.fa-wikipedia-w:before {\r\n  content: "\\f266";\r\n}\r\n.fa-safari:before {\r\n  content: "\\f267";\r\n}\r\n.fa-chrome:before {\r\n  content: "\\f268";\r\n}\r\n.fa-firefox:before {\r\n  content: "\\f269";\r\n}\r\n.fa-opera:before {\r\n  content: "\\f26a";\r\n}\r\n.fa-internet-explorer:before {\r\n  content: "\\f26b";\r\n}\r\n.fa-tv:before,\r\n.fa-television:before {\r\n  content: "\\f26c";\r\n}\r\n.fa-contao:before {\r\n  content: "\\f26d";\r\n}\r\n.fa-500px:before {\r\n  content: "\\f26e";\r\n}\r\n.fa-amazon:before {\r\n  content: "\\f270";\r\n}\r\n.fa-calendar-plus-o:before {\r\n  content: "\\f271";\r\n}\r\n.fa-calendar-minus-o:before {\r\n  content: "\\f272";\r\n}\r\n.fa-calendar-times-o:before {\r\n  content: "\\f273";\r\n}\r\n.fa-calendar-check-o:before {\r\n  content: "\\f274";\r\n}\r\n.fa-industry:before {\r\n  content: "\\f275";\r\n}\r\n.fa-map-pin:before {\r\n  content: "\\f276";\r\n}\r\n.fa-map-signs:before {\r\n  content: "\\f277";\r\n}\r\n.fa-map-o:before {\r\n  content: "\\f278";\r\n}\r\n.fa-map:before {\r\n  content: "\\f279";\r\n}\r\n.fa-commenting:before {\r\n  content: "\\f27a";\r\n}\r\n.fa-commenting-o:before {\r\n  content: "\\f27b";\r\n}\r\n.fa-houzz:before {\r\n  content: "\\f27c";\r\n}\r\n.fa-vimeo:before {\r\n  content: "\\f27d";\r\n}\r\n.fa-black-tie:before {\r\n  content: "\\f27e";\r\n}\r\n.fa-fonticons:before {\r\n  content: "\\f280";\r\n}\r\n.fa-reddit-alien:before {\r\n  content: "\\f281";\r\n}\r\n.fa-edge:before {\r\n  content: "\\f282";\r\n}\r\n.fa-credit-card-alt:before {\r\n  content: "\\f283";\r\n}\r\n.fa-codiepie:before {\r\n  content: "\\f284";\r\n}\r\n.fa-modx:before {\r\n  content: "\\f285";\r\n}\r\n.fa-fort-awesome:before {\r\n  content: "\\f286";\r\n}\r\n.fa-usb:before {\r\n  content: "\\f287";\r\n}\r\n.fa-product-hunt:before {\r\n  content: "\\f288";\r\n}\r\n.fa-mixcloud:before {\r\n  content: "\\f289";\r\n}\r\n.fa-scribd:before {\r\n  content: "\\f28a";\r\n}\r\n.fa-pause-circle:before {\r\n  content: "\\f28b";\r\n}\r\n.fa-pause-circle-o:before {\r\n  content: "\\f28c";\r\n}\r\n.fa-stop-circle:before {\r\n  content: "\\f28d";\r\n}\r\n.fa-stop-circle-o:before {\r\n  content: "\\f28e";\r\n}\r\n.fa-shopping-bag:before {\r\n  content: "\\f290";\r\n}\r\n.fa-shopping-basket:before {\r\n  content: "\\f291";\r\n}\r\n.fa-hashtag:before {\r\n  content: "\\f292";\r\n}\r\n.fa-bluetooth:before {\r\n  content: "\\f293";\r\n}\r\n.fa-bluetooth-b:before {\r\n  content: "\\f294";\r\n}\r\n.fa-percent:before {\r\n  content: "\\f295";\r\n}\r\n.fa-gitlab:before {\r\n  content: "\\f296";\r\n}\r\n.fa-wpbeginner:before {\r\n  content: "\\f297";\r\n}\r\n.fa-wpforms:before {\r\n  content: "\\f298";\r\n}\r\n.fa-envira:before {\r\n  content: "\\f299";\r\n}\r\n.fa-universal-access:before {\r\n  content: "\\f29a";\r\n}\r\n.fa-wheelchair-alt:before {\r\n  content: "\\f29b";\r\n}\r\n.fa-question-circle-o:before {\r\n  content: "\\f29c";\r\n}\r\n.fa-blind:before {\r\n  content: "\\f29d";\r\n}\r\n.fa-audio-description:before {\r\n  content: "\\f29e";\r\n}\r\n.fa-volume-control-phone:before {\r\n  content: "\\f2a0";\r\n}\r\n.fa-braille:before {\r\n  content: "\\f2a1";\r\n}\r\n.fa-assistive-listening-systems:before {\r\n  content: "\\f2a2";\r\n}\r\n.fa-asl-interpreting:before,\r\n.fa-american-sign-language-interpreting:before {\r\n  content: "\\f2a3";\r\n}\r\n.fa-deafness:before,\r\n.fa-hard-of-hearing:before,\r\n.fa-deaf:before {\r\n  content: "\\f2a4";\r\n}\r\n.fa-glide:before {\r\n  content: "\\f2a5";\r\n}\r\n.fa-glide-g:before {\r\n  content: "\\f2a6";\r\n}\r\n.fa-signing:before,\r\n.fa-sign-language:before {\r\n  content: "\\f2a7";\r\n}\r\n.fa-low-vision:before {\r\n  content: "\\f2a8";\r\n}\r\n.fa-viadeo:before {\r\n  content: "\\f2a9";\r\n}\r\n.fa-viadeo-square:before {\r\n  content: "\\f2aa";\r\n}\r\n.fa-snapchat:before {\r\n  content: "\\f2ab";\r\n}\r\n.fa-snapchat-ghost:before {\r\n  content: "\\f2ac";\r\n}\r\n.fa-snapchat-square:before {\r\n  content: "\\f2ad";\r\n}\r\n.fa-pied-piper:before {\r\n  content: "\\f2ae";\r\n}\r\n.fa-first-order:before {\r\n  content: "\\f2b0";\r\n}\r\n.fa-yoast:before {\r\n  content: "\\f2b1";\r\n}\r\n.fa-themeisle:before {\r\n  content: "\\f2b2";\r\n}\r\n.fa-google-plus-circle:before,\r\n.fa-google-plus-official:before {\r\n  content: "\\f2b3";\r\n}\r\n.fa-fa:before,\r\n.fa-font-awesome:before {\r\n  content: "\\f2b4";\r\n}\r\n.fa-handshake-o:before {\r\n  content: "\\f2b5";\r\n}\r\n.fa-envelope-open:before {\r\n  content: "\\f2b6";\r\n}\r\n.fa-envelope-open-o:before {\r\n  content: "\\f2b7";\r\n}\r\n.fa-linode:before {\r\n  content: "\\f2b8";\r\n}\r\n.fa-address-book:before {\r\n  content: "\\f2b9";\r\n}\r\n.fa-address-book-o:before {\r\n  content: "\\f2ba";\r\n}\r\n.fa-vcard:before,\r\n.fa-address-card:before {\r\n  content: "\\f2bb";\r\n}\r\n.fa-vcard-o:before,\r\n.fa-address-card-o:before {\r\n  content: "\\f2bc";\r\n}\r\n.fa-user-circle:before {\r\n  content: "\\f2bd";\r\n}\r\n.fa-user-circle-o:before {\r\n  content: "\\f2be";\r\n}\r\n.fa-user-o:before {\r\n  content: "\\f2c0";\r\n}\r\n.fa-id-badge:before {\r\n  content: "\\f2c1";\r\n}\r\n.fa-drivers-license:before,\r\n.fa-id-card:before {\r\n  content: "\\f2c2";\r\n}\r\n.fa-drivers-license-o:before,\r\n.fa-id-card-o:before {\r\n  content: "\\f2c3";\r\n}\r\n.fa-quora:before {\r\n  content: "\\f2c4";\r\n}\r\n.fa-free-code-camp:before {\r\n  content: "\\f2c5";\r\n}\r\n.fa-telegram:before {\r\n  content: "\\f2c6";\r\n}\r\n.fa-thermometer-4:before,\r\n.fa-thermometer:before,\r\n.fa-thermometer-full:before {\r\n  content: "\\f2c7";\r\n}\r\n.fa-thermometer-3:before,\r\n.fa-thermometer-three-quarters:before {\r\n  content: "\\f2c8";\r\n}\r\n.fa-thermometer-2:before,\r\n.fa-thermometer-half:before {\r\n  content: "\\f2c9";\r\n}\r\n.fa-thermometer-1:before,\r\n.fa-thermometer-quarter:before {\r\n  content: "\\f2ca";\r\n}\r\n.fa-thermometer-0:before,\r\n.fa-thermometer-empty:before {\r\n  content: "\\f2cb";\r\n}\r\n.fa-shower:before {\r\n  content: "\\f2cc";\r\n}\r\n.fa-bathtub:before,\r\n.fa-s15:before,\r\n.fa-bath:before {\r\n  content: "\\f2cd";\r\n}\r\n.fa-podcast:before {\r\n  content: "\\f2ce";\r\n}\r\n.fa-window-maximize:before {\r\n  content: "\\f2d0";\r\n}\r\n.fa-window-minimize:before {\r\n  content: "\\f2d1";\r\n}\r\n.fa-window-restore:before {\r\n  content: "\\f2d2";\r\n}\r\n.fa-times-rectangle:before,\r\n.fa-window-close:before {\r\n  content: "\\f2d3";\r\n}\r\n.fa-times-rectangle-o:before,\r\n.fa-window-close-o:before {\r\n  content: "\\f2d4";\r\n}\r\n.fa-bandcamp:before {\r\n  content: "\\f2d5";\r\n}\r\n.fa-grav:before {\r\n  content: "\\f2d6";\r\n}\r\n.fa-etsy:before {\r\n  content: "\\f2d7";\r\n}\r\n.fa-imdb:before {\r\n  content: "\\f2d8";\r\n}\r\n.fa-ravelry:before {\r\n  content: "\\f2d9";\r\n}\r\n.fa-eercast:before {\r\n  content: "\\f2da";\r\n}\r\n.fa-microchip:before {\r\n  content: "\\f2db";\r\n}\r\n.fa-snowflake-o:before {\r\n  content: "\\f2dc";\r\n}\r\n.fa-superpowers:before {\r\n  content: "\\f2dd";\r\n}\r\n.fa-wpexplorer:before {\r\n  content: "\\f2de";\r\n}\r\n.fa-meetup:before {\r\n  content: "\\f2e0";\r\n}\r\n'},5:function(e,t){},6:function(e,t){},7:function(e,t){}}]);