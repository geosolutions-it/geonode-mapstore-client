(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6932],{24969:(t,i,e)=>{"use strict";e.d(i,{Z:()=>a});var r=e(59900),o=e(86320),n=e(66575),s=e(73381);const a=function(t){function i(i,e,r){t.call(this);var o=r||{};this.tileCoord=i,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===o.transition?250:o.transition,this.transitionStarts_={}}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.changed=function(){this.dispatchEvent(s.Z.CHANGE)},i.prototype.getKey=function(){return this.key+"/"+this.tileCoord},i.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.Z.LOADED)return t;t=t.interimTile}while(t);return this},i.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,i=this;do{if(t.getState()==r.Z.LOADED){t.interimTile=null;break}t.getState()==r.Z.LOADING?i=t:t.getState()==r.Z.IDLE?i.interimTile=t.interimTile:i=t,t=i.interimTile}while(t)}},i.prototype.getTileCoord=function(){return this.tileCoord},i.prototype.getState=function(){return this.state},i.prototype.setState=function(t){this.state=t,this.changed()},i.prototype.load=function(){},i.prototype.getAlpha=function(t,i){if(!this.transition_)return 1;var e=this.transitionStarts_[t];if(e){if(-1===e)return 1}else e=i,this.transitionStarts_[t]=e;var r=i-e+1e3/60;return r>=this.transition_?1:(0,o.YQ)(r/this.transition_)},i.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},i.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},i}(n.Z)},93888:(t,i,e)=>{"use strict";e.d(i,{Z:()=>n});var r=e(83482),o=e(70701);const n=function(t){function i(i){t.call(this,i)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.expireCache=function(t){for(;this.canExpireCache();){var i=this.peekLast(),e=i.tileCoord[0].toString();if(e in t&&t[e].contains(i.tileCoord))break;this.pop().dispose()}},i.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),i=(0,o.Ul)(t)[0];this.forEach((function(t){t.tileCoord[0]!==i&&(this.remove((0,o.km)(t.tileCoord)),t.dispose())}),this)}},i}(r.Z)},19473:(t,i,e)=>{"use strict";e.d(i,{T:()=>o,Z:()=>n});var r=function(t,i,e,r){this.minX=t,this.maxX=i,this.minY=e,this.maxY=r};function o(t,i,e,o,n){return void 0!==n?(n.minX=t,n.maxX=i,n.minY=e,n.maxY=o,n):new r(t,i,e,o)}r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};const n=r},59900:(t,i,e)=>{"use strict";e.d(i,{Z:()=>r});const r={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},52209:(t,i,e)=>{"use strict";e.d(i,{a:()=>a,s:()=>l});var r=e(85386),o=e(21915),n=e(21882),s=e(18672);function a(t,i,e,r){var n=(0,s.vs)(e,i,t),a=(0,s._Q)(i,r,e),h=i.getMetersPerUnit();void 0!==h&&(a*=h);var l=t.getMetersPerUnit();void 0!==l&&(a/=l);var u=t.getExtent();if(!u||(0,o.b8)(u,n)){var c=(0,s._Q)(t,a,n)/a;isFinite(c)&&c>0&&(a/=c)}return a}function h(t,i,e,r){var o=e-t,n=r-i,s=Math.sqrt(o*o+n*n);return[Math.round(e+o/s),Math.round(r+n/s)]}function l(t,i,e,s,a,l,u,c,p,g,d){var f=(0,r.E4)(Math.round(e*t),Math.round(e*i));if(0===p.length)return f.canvas;f.scale(e,e);var _=(0,o.lJ)();p.forEach((function(t,i,e){(0,o.l7)(_,t.extent)}));var m=(0,o.dz)(_),v=(0,o.Cr)(_),T=(0,r.E4)(Math.round(e*m/s),Math.round(e*v/s)),y=e/s;p.forEach((function(t,i,e){var r=t.extent[0]-_[0],n=-(t.extent[3]-_[3]),s=(0,o.dz)(t.extent),a=(0,o.Cr)(t.extent);T.drawImage(t.image,g,g,t.image.width-2*g,t.image.height-2*g,r*y,n*y,s*y,a*y)}));var x=(0,o.rL)(u);return c.getTriangles().forEach((function(t,i,r){var o=t.source,a=t.target,u=o[0][0],c=o[0][1],p=o[1][0],g=o[1][1],d=o[2][0],m=o[2][1],v=(a[0][0]-x[0])/l,y=-(a[0][1]-x[1])/l,E=(a[1][0]-x[0])/l,C=-(a[1][1]-x[1])/l,Z=(a[2][0]-x[0])/l,F=-(a[2][1]-x[1])/l,P=u,j=c;u=0,c=0;var S=[[p-=P,g-=j,0,0,E-v],[d-=P,m-=j,0,0,Z-v],[0,0,p,g,C-y],[0,0,d,m,F-y]],R=(0,n.SV)(S);if(R){f.save(),f.beginPath();var O=(v+E+Z)/3,I=(y+C+F)/3,G=h(O,I,v,y),X=h(O,I,E,C),z=h(O,I,Z,F);f.moveTo(X[0],X[1]),f.lineTo(G[0],G[1]),f.lineTo(z[0],z[1]),f.clip(),f.transform(R[0],R[2],R[1],R[3],v,y),f.translate(_[0]-P,_[3]-j),f.scale(s/e,-s/e),f.drawImage(T.canvas,0,0),f.restore()}})),d&&(f.save(),f.strokeStyle="black",f.lineWidth=1,c.getTriangles().forEach((function(t,i,e){var r=t.target,o=(r[0][0]-x[0])/l,n=-(r[0][1]-x[1])/l,s=(r[1][0]-x[0])/l,a=-(r[1][1]-x[1])/l,h=(r[2][0]-x[0])/l,u=-(r[2][1]-x[1])/l;f.beginPath(),f.moveTo(s,a),f.lineTo(o,n),f.lineTo(h,u),f.closePath(),f.stroke()})),f.restore()),f.canvas}},56245:(t,i,e)=>{"use strict";e.d(i,{Z:()=>a});var r=e(21915),o=e(21882),n=e(18672),s=function(t,i,e,o,s){this.sourceProj_=t,this.targetProj_=i;var a={},h=(0,n.Ck)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var i=t[0]+"/"+t[1];return a[i]||(a[i]=h(t)),a[i]},this.maxSourceExtent_=o,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&(0,r.dz)(o)==(0,r.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,r.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,r.dz)(this.targetProj_.getExtent()):null;var l=(0,r.rL)(e),u=(0,r.Xv)(e),c=(0,r.w$)(e),p=(0,r.hC)(e),g=this.transformInv_(l),d=this.transformInv_(u),f=this.transformInv_(c),_=this.transformInv_(p);if(this.addQuad_(l,u,c,p,g,d,f,_,10),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach((function(t,i,e){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var i=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];i[0][0]-m>this.sourceWorldWidth_/2&&(i[0][0]-=this.sourceWorldWidth_),i[1][0]-m>this.sourceWorldWidth_/2&&(i[1][0]-=this.sourceWorldWidth_),i[2][0]-m>this.sourceWorldWidth_/2&&(i[2][0]-=this.sourceWorldWidth_);var e=Math.min(i[0][0],i[1][0],i[2][0]);Math.max(i[0][0],i[1][0],i[2][0])-e<this.sourceWorldWidth_/2&&(t.source=i)}}.bind(this))}a={}};s.prototype.addTriangle_=function(t,i,e,r,o,n){this.triangles_.push({source:[r,o,n],target:[t,i,e]})},s.prototype.addQuad_=function(t,i,e,n,s,a,h,l,u){var c=(0,r.hI)([s,a,h,l]),p=this.sourceWorldWidth_?(0,r.dz)(c)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&p>.5&&p<1,f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var _=(0,r.hI)([t,i,e,n]);f=(0,r.dz)(_)/this.targetWorldWidth_>.25||f}!d&&this.sourceProj_.isGlobal()&&p&&(f=p>.25||f)}if(f||!this.maxSourceExtent_||(0,r.kK)(c,this.maxSourceExtent_)){if(!(f||isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(u>0))return;f=!0}if(u>0){if(!f){var m,v=[(t[0]+e[0])/2,(t[1]+e[1])/2],T=this.transformInv_(v);m=d?((0,o.$W)(s[0],g)+(0,o.$W)(h[0],g))/2-(0,o.$W)(T[0],g):(s[0]+h[0])/2-T[0];var y=(s[1]+h[1])/2-T[1];f=m*m+y*y>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-e[0])<=Math.abs(t[1]-e[1])){var x=[(i[0]+e[0])/2,(i[1]+e[1])/2],E=this.transformInv_(x),C=[(n[0]+t[0])/2,(n[1]+t[1])/2],Z=this.transformInv_(C);this.addQuad_(t,i,x,C,s,a,E,Z,u-1),this.addQuad_(C,x,e,n,Z,E,h,l,u-1)}else{var F=[(t[0]+i[0])/2,(t[1]+i[1])/2],P=this.transformInv_(F),j=[(e[0]+n[0])/2,(e[1]+n[1])/2],S=this.transformInv_(j);this.addQuad_(t,F,j,n,s,P,S,l,u-1),this.addQuad_(F,i,e,j,P,a,h,S,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,e,n,s,h,l),this.addTriangle_(t,i,e,s,a,h)}},s.prototype.calculateSourceExtent=function(){var t=(0,r.lJ)();return this.triangles_.forEach((function(i,e,o){var n=i.source;(0,r.Wj)(t,n[0]),(0,r.Wj)(t,n[1]),(0,r.Wj)(t,n[2])})),t},s.prototype.getTriangles=function(){return this.triangles_};const a=s},35211:(t,i,e)=>{"use strict";e.d(i,{m:()=>r,j:()=>o});var r=.5,o=!0},50596:(t,i,e)=>{"use strict";function r(t,i,e){return void 0===e&&(e=[0,0]),e[0]=t[0]+2*i,e[1]=t[1]+2*i,e}function o(t){return t[0]>0&&t[1]>0}function n(t,i,e){return void 0===e&&(e=[0,0]),e[0]=t[0]*i+.5|0,e[1]=t[1]*i+.5|0,e}function s(t,i){return Array.isArray(t)?t:(void 0===i?i=[t,t]:i[0]=i[1]=t,i)}e.d(i,{f3:()=>r,py:()=>o,bA:()=>n,Pq:()=>s})},76122:(t,i,e)=>{"use strict";e.d(i,{Z:()=>P});var r=e(35211),o=e(49179),n=e(24969),s=e(59900),a=e(85386),h=e(13002),l=e(73381),u=function(t){function i(i,e,r,o,n,s){t.call(this,i,e,s),this.crossOrigin_=o,this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){this.state==s.Z.LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),this.state=s.Z.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},i.prototype.getImage=function(){return this.image_},i.prototype.getKey=function(){return this.src_},i.prototype.handleImageError_=function(){this.state=s.Z.ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},i.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=s.Z.LOADED:this.state=s.Z.EMPTY,this.unlistenImage_(),this.changed()},i.prototype.load=function(){this.state==s.Z.ERROR&&(this.state=s.Z.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==s.Z.IDLE&&(this.state=s.Z.LOADING,this.changed(),this.imageListenerKeys_=[(0,h.Vx)(this.image_,l.Z.ERROR,this.handleImageError_,this),(0,h.Vx)(this.image_,l.Z.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},i.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.bN),this.imageListenerKeys_=null},i}(n.Z);function c(){var t=(0,a.E4)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}const p=u;var g=e(93888),d=e(18672),f=e(21915),_=e(21882),m=e(52209),v=e(56245),T=function(t){function i(i,e,o,n,a,h,l,u,c,p,g){t.call(this,a,s.Z.IDLE),this.renderEdges_=void 0!==g&&g,this.pixelRatio_=l,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=n,this.wrappedTileCoord_=h||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=n.getTileCoordExtent(this.wrappedTileCoord_),T=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),x=T?(0,f.Ed)(d,T):d;if(0!==(0,f.bg)(x)){var E=i.getExtent();E&&(y=y?(0,f.Ed)(y,E):E);var C=n.getResolution(this.wrappedTileCoord_[0]),Z=(0,f.qg)(x),F=(0,m.a)(i,o,Z,C);if(!isFinite(F)||F<=0)this.state=s.Z.EMPTY;else{var P=void 0!==p?p:r.m;if(this.triangulation_=new v.Z(i,o,x,y,F*P),0!==this.triangulation_.getTriangles().length){this.sourceZ_=e.getZForResolution(F);var j=this.triangulation_.calculateSourceExtent();if(y&&(i.canWrapX()?(j[1]=(0,_.uZ)(j[1],y[1],y[3]),j[3]=(0,_.uZ)(j[3],y[1],y[3])):j=(0,f.Ed)(j,y)),(0,f.bg)(j)){for(var S=e.getTileRangeForExtentAndZ(j,this.sourceZ_),R=S.minX;R<=S.maxX;R++)for(var O=S.minY;O<=S.maxY;O++){var I=c(this.sourceZ_,R,O,l);I&&this.sourceTiles_.push(I)}0===this.sourceTiles_.length&&(this.state=s.Z.EMPTY)}else this.state=s.Z.EMPTY}else this.state=s.Z.EMPTY}}else this.state=s.Z.EMPTY}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){this.state==s.Z.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},i.prototype.getImage=function(){return this.canvas_},i.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(i,e,r){i&&i.getState()==s.Z.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(i.tileCoord),image:i.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=s.Z.ERROR;else{var i=this.wrappedTileCoord_[0],e=this.targetTileGrid_.getTileSize(i),r="number"==typeof e?e:e[0],o="number"==typeof e?e:e[1],n=this.targetTileGrid_.getResolution(i),a=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,m.s)(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),n,h,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=s.Z.LOADED}this.changed()},i.prototype.load=function(){if(this.state==s.Z.IDLE){this.state=s.Z.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(i,e,r){var o=i.getState();if(o==s.Z.IDLE||o==s.Z.LOADING){t++;var n=(0,h.oL)(i,l.Z.CHANGE,(function(e){var r=i.getState();r!=s.Z.LOADED&&r!=s.Z.ERROR&&r!=s.Z.EMPTY||((0,h.bN)(n),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}}.bind(this)),this.sourceTiles_.forEach((function(t,i,e){t.getState()==s.Z.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},i.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.bN),this.sourcesListenerKeys_=null},i}(n.Z);const y=T;var x=e(44280),E=e(70701),C=e(86018),Z=function(t){function i(i){t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,opaque:i.opaque,projection:i.projection,state:i.state,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction?i.tileLoadFunction:F,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX,transition:i.transition,key:i.key,attributionsCollapsible:i.attributionsCollapsible}),this.crossOrigin=void 0!==i.crossOrigin?i.crossOrigin:null,this.tileClass=void 0!==i.tileClass?i.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=i.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.canExpireCache=function(){if(!r.j)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var i in this.tileCacheForProjection)if(this.tileCacheForProjection[i].canExpireCache())return!0;return!1},i.prototype.expireCache=function(i,e){if(r.j){var o=this.getTileCacheForProjection(i);for(var n in this.tileCache.expireCache(this.tileCache==o?e:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[n];s.expireCache(s==o?e:{})}}else t.prototype.expireCache.call(this,i,e)},i.prototype.getGutterForProjection=function(t){return r.j&&this.getProjection()&&t&&!(0,d.OP)(this.getProjection(),t)?0:this.getGutter()},i.prototype.getGutter=function(){return 0},i.prototype.getOpaque=function(i){return!(r.j&&this.getProjection()&&i&&!(0,d.OP)(this.getProjection(),i))&&t.prototype.getOpaque.call(this,i)},i.prototype.getTileGridForProjection=function(i){if(!r.j)return t.prototype.getTileGridForProjection.call(this,i);var e=this.getProjection();if(!this.tileGrid||e&&!(0,d.OP)(e,i)){var n=(0,o.sq)(i);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=(0,C.X$)(i)),this.tileGridForProjection[n]}return this.tileGrid},i.prototype.getTileCacheForProjection=function(i){if(!r.j)return t.prototype.getTileCacheForProjection.call(this,i);var e=this.getProjection();if(!e||(0,d.OP)(e,i))return this.tileCache;var n=(0,o.sq)(i);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new g.Z(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},i.prototype.createTile_=function(t,i,e,r,o,n){var a=[t,i,e],u=this.getTileCoordForTileUrlFunction(a,o),c=u?this.tileUrlFunction(u,r,o):void 0,p=new this.tileClass(a,void 0!==c?s.Z.IDLE:s.Z.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=n,(0,h.oL)(p,l.Z.CHANGE,this.handleTileChange,this),p},i.prototype.getTile=function(t,i,e,o,n){var s=this.getProjection();if(r.j&&s&&n&&!(0,d.OP)(s,n)){var a,h=this.getTileCacheForProjection(n),l=[t,i,e],u=(0,E.km)(l);h.containsKey(u)&&(a=h.get(u));var c=this.getKey();if(a&&a.key==c)return a;var p=this.getTileGridForProjection(s),g=this.getTileGridForProjection(n),f=this.getTileCoordForTileUrlFunction(l,n),_=new y(s,p,n,g,l,f,this.getTilePixelRatio(o),this.getGutter(),function(t,i,e,r){return this.getTileInternal(t,i,e,r,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return _.key=c,a?(_.interimTile=a,_.refreshInterimChain(),h.replace(u,_)):h.set(u,_),_}return this.getTileInternal(t,i,e,o,s||n)},i.prototype.getTileInternal=function(t,i,e,r,o){var n=null,a=(0,E.lg)(t,i,e),h=this.getKey();if(this.tileCache.containsKey(a)){if((n=this.tileCache.get(a)).key!=h){var l=n;n=this.createTile_(t,i,e,r,o,h),l.getState()==s.Z.IDLE?n.interimTile=l.interimTile:n.interimTile=l,n.refreshInterimChain(),this.tileCache.replace(a,n)}}else n=this.createTile_(t,i,e,r,o,h),this.tileCache.set(a,n);return n},i.prototype.setRenderReprojectionEdges=function(t){if(r.j&&this.renderReprojectionEdges_!=t){for(var i in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[i].clear();this.changed()}},i.prototype.setTileGridForProjection=function(t,i){if(r.j){var e=(0,d.U2)(t);if(e){var n=(0,o.sq)(e);n in this.tileGridForProjection||(this.tileGridForProjection[n]=i)}}},i}(x.Z);function F(t,i){t.getImage().src=i}const P=Z},44280:(t,i,e)=>{"use strict";e.d(i,{Z:()=>_});var r=e(49179),o=e(59900),n=e(89434),s=e(93888),a=e(9520),h=e(18672),l=e(50596),u=e(71405),c=e(70701),p=e(86018),g=function(t){function i(i){t.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,projection:i.projection,state:i.state,wrapX:i.wrapX}),this.opaque_=void 0!==i.opaque&&i.opaque,this.tilePixelRatio_=void 0!==i.tilePixelRatio?i.tilePixelRatio:1,this.tileGrid=void 0!==i.tileGrid?i.tileGrid:null,this.tileCache=new s.Z(i.cacheSize),this.tmpSize=[0,0],this.key_=i.key||"",this.tileOptions={transition:i.transition}}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},i.prototype.expireCache=function(t,i){var e=this.getTileCacheForProjection(t);e&&e.expireCache(i)},i.prototype.forEachLoadedTile=function(t,i,e,r){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var s,a,h,l=!0,u=e.minX;u<=e.maxX;++u)for(var p=e.minY;p<=e.maxY;++p)a=(0,c.lg)(i,u,p),h=!1,n.containsKey(a)&&(h=(s=n.get(a)).getState()===o.Z.LOADED)&&(h=!1!==r(s)),h||(l=!1);return l},i.prototype.getGutterForProjection=function(t){return 0},i.prototype.getKey=function(){return this.key_},i.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},i.prototype.getOpaque=function(t){return this.opaque_},i.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},i.prototype.getTile=function(t,i,e,o,n){return(0,r.O3)()},i.prototype.getTileGrid=function(){return this.tileGrid},i.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,p.X$)(t)},i.prototype.getTileCacheForProjection=function(t){var i=this.getProjection();return i&&!(0,h.OP)(i,t)?null:this.tileCache},i.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},i.prototype.getTilePixelSize=function(t,i,e){var r=this.getTileGridForProjection(e),o=this.getTilePixelRatio(i),n=(0,l.Pq)(r.getTileSize(t),this.tmpSize);return 1==o?n:(0,l.bA)(n,o,this.tmpSize)},i.prototype.getTileCoordForTileUrlFunction=function(t,i){var e=void 0!==i?i:this.getProjection(),r=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=(0,p.Cf)(r,t,e)),(0,c.tE)(t,r)?t:null},i.prototype.refresh=function(){this.tileCache.clear(),this.changed()},i.prototype.useTile=function(t,i,e,r){},i}(u.Z),d=function(t){function i(i,e){t.call(this,i),this.tile=e}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i}(a.ZP);var f=function(t){function i(i){t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,opaque:i.opaque,projection:i.projection,state:i.state,tileGrid:i.tileGrid,tilePixelRatio:i.tilePixelRatio,wrapX:i.wrapX,transition:i.transition,key:i.key,attributionsCollapsible:i.attributionsCollapsible}),this.generateTileUrlFunction_=!i.tileUrlFunction,this.tileLoadFunction=i.tileLoadFunction,this.tileUrlFunction=i.tileUrlFunction?i.tileUrlFunction.bind(this):n.vU,this.urls=null,i.urls?this.setUrls(i.urls):i.url&&this.setUrl(i.url),i.tileUrlFunction&&this.setTileUrlFunction(i.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},i.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},i.prototype.getUrls=function(){return this.urls},i.prototype.handleTileChange=function(t){var i,e=t.target,n=(0,r.sq)(e),s=e.getState();s==o.Z.LOADING?(this.tileLoadingKeys_[n]=!0,i="tileloadstart"):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],i=s==o.Z.ERROR?"tileloaderror":s==o.Z.LOADED||s==o.Z.ABORT?"tileloadend":void 0),null!=i&&this.dispatchEvent(new d(i,e))},i.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},i.prototype.setTileUrlFunction=function(t,i){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==i?this.setKey(i):this.changed()},i.prototype.setUrl=function(t){var i=this.urls=(0,n.Gk)(t);this.setUrls(i)},i.prototype.setUrls=function(t){this.urls=t;var i=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,n.uR)(t,this.tileGrid),i):this.setKey(i)},i.prototype.useTile=function(t,i,e){var r=(0,c.lg)(t,i,e);this.tileCache.containsKey(r)&&this.tileCache.get(r)},i}(g);const _=f},70701:(t,i,e)=>{"use strict";function r(t,i,e,r){return void 0!==r?(r[0]=t,r[1]=i,r[2]=e,r):[t,i,e]}function o(t,i,e){return t+"/"+i+"/"+e}function n(t){return o(t[0],t[1],t[2])}function s(t){return t.split("/").map(Number)}function a(t){return(t[1]<<t[0])+t[2]}function h(t){var i,e,r=t[0],o=new Array(r),n=1<<r-1;for(i=0;i<r;++i)e=48,t[1]&n&&(e+=1),t[2]&n&&(e+=2),o[i]=String.fromCharCode(e),n>>=1;return o.join("")}function l(t,i){var e=t[0],r=t[1],o=t[2];if(i.getMinZoom()>e||e>i.getMaxZoom())return!1;var n,s=i.getExtent();return!(n=s?i.getTileRangeForExtentAndZ(s,e):i.getFullTileRange(e))||n.containsXY(r,o)}e.d(i,{T9:()=>r,lg:()=>o,km:()=>n,Ul:()=>s,vp:()=>a,OT:()=>h,tE:()=>l})},86018:(t,i,e)=>{"use strict";e.d(i,{X$:()=>u,Cf:()=>c,dl:()=>p,RZ:()=>d,Tl:()=>f});var r=e(10508),o=e(50596),n=e(21915),s=e(51748),a=e(18672),h=e(40868),l=e(8930);function u(t){var i=t.getDefaultTileGrid();return i||(i=d(t),t.setDefaultTileGrid(i)),i}function c(t,i,e){var r=i[0],o=t.getTileCoordCenter(i),s=f(e);if((0,n.b8)(s,o))return i;var a=(0,n.dz)(s),h=Math.ceil((s[0]-o[0])/a);return o[0]+=a*h,t.getTileCoordForCoordAndZ(o,r)}function p(t){var i=t||{},e=i.extent||(0,a.U2)("EPSG:3857").getExtent(),r={extent:e,minZoom:i.minZoom,tileSize:i.tileSize,resolutions:g(e,i.maxZoom,i.tileSize)};return new l.Z(r)}function g(t,i,e){for(var s=void 0!==i?i:r.e,a=(0,n.Cr)(t),h=(0,n.dz)(t),l=(0,o.Pq)(void 0!==e?e:r.S),u=Math.max(h/l[0],a/l[1]),c=s+1,p=new Array(c),g=0;g<c;++g)p[g]=u/Math.pow(2,g);return p}function d(t,i,e,r){return function(t,i,e,r){var o=void 0!==r?r:s.Z.TOP_LEFT,a=g(t,i,e);return new l.Z({extent:t,origin:(0,n.g0)(t,o),resolutions:a,tileSize:e})}(f(t),i,e,r)}function f(t){var i=(t=(0,a.U2)(t)).getExtent();if(!i){var e=180*h.METERS_PER_UNIT[h.default.DEGREES]/t.getMetersPerUnit();i=(0,n.T9)(-e,-e,e,e)}return i}},8930:(t,i,e)=>{"use strict";e.d(i,{Z:()=>g});var r=e(10508),o=e(38906),n=e(19473),s=e(79682),a=e(21915),h=e(21882),l=e(50596),u=e(70701),c=[0,0,0],p=function(t){var i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,o.h)((0,s.pT)(this.resolutions_,(function(t,i){return i-t}),!0),17),!t.origins)for(var e=0,h=this.resolutions_.length-1;e<h;++e)if(i){if(this.resolutions_[e]/this.resolutions_[e+1]!==i){i=void 0;break}}else i=this.resolutions_[e]/this.resolutions_[e+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,o.h)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=(0,a.rL)(l)),(0,o.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,o.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.S,(0,o.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,i){return new n.Z(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):l&&this.calculateTileRanges_(l)};p.prototype.forEachTileCoord=function(t,i,e){for(var r=this.getTileRangeForExtentAndZ(t,i),o=r.minX,n=r.maxX;o<=n;++o)for(var s=r.minY,a=r.maxY;s<=a;++s)e([i,o,s])},p.prototype.forEachTileCoordParentTileRange=function(t,i,e,r,o){var s,a,h,l=null,u=t[0]-1;for(2===this.zoomFactor_?(a=t[1],h=t[2]):l=this.getTileCoordExtent(t,o);u>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),h=Math.floor(h/2),s=(0,n.T)(a,a,h,h,r)):s=this.getTileRangeForExtentAndZ(l,u,r),i.call(e,u,s))return!0;--u}return!1},p.prototype.getExtent=function(){return this.extent_},p.prototype.getMaxZoom=function(){return this.maxZoom},p.prototype.getMinZoom=function(){return this.minZoom},p.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},p.prototype.getResolution=function(t){return this.resolutions_[t]},p.prototype.getResolutions=function(){return this.resolutions_},p.prototype.getTileCoordChildTileRange=function(t,i,e){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return(0,n.T)(r,r+1,o,o+1,i)}var s=this.getTileCoordExtent(t,e);return this.getTileRangeForExtentAndZ(s,t[0]+1,i)}return null},p.prototype.getTileRangeExtent=function(t,i,e){var r=this.getOrigin(t),o=this.getResolution(t),n=(0,l.Pq)(this.getTileSize(t),this.tmpSize_),s=r[0]+i.minX*n[0]*o,h=r[0]+(i.maxX+1)*n[0]*o,u=r[1]+i.minY*n[1]*o,c=r[1]+(i.maxY+1)*n[1]*o;return(0,a.T9)(s,u,h,c,e)},p.prototype.getTileRangeForExtentAndZ=function(t,i,e){var r=c;this.getTileCoordForXYAndZ_(t[0],t[1],i,!1,r);var o=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],i,!0,r),(0,n.T)(o,r[1],s,r[2],e)},p.prototype.getTileCoordCenter=function(t){var i=this.getOrigin(t[0]),e=this.getResolution(t[0]),r=(0,l.Pq)(this.getTileSize(t[0]),this.tmpSize_);return[i[0]+(t[1]+.5)*r[0]*e,i[1]+(t[2]+.5)*r[1]*e]},p.prototype.getTileCoordExtent=function(t,i){var e=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=(0,l.Pq)(this.getTileSize(t[0]),this.tmpSize_),n=e[0]+t[1]*o[0]*r,s=e[1]+t[2]*o[1]*r,h=n+o[0]*r,u=s+o[1]*r;return(0,a.T9)(n,s,h,u,i)},p.prototype.getTileCoordForCoordAndResolution=function(t,i,e){return this.getTileCoordForXYAndResolution_(t[0],t[1],i,!1,e)},p.prototype.getTileCoordForXYAndResolution_=function(t,i,e,r,o){var n=this.getZForResolution(e),s=e/this.getResolution(n),a=this.getOrigin(n),h=(0,l.Pq)(this.getTileSize(n),this.tmpSize_),c=r?.5:0,p=r?0:.5,g=Math.floor((t-a[0])/e+c),d=Math.floor((i-a[1])/e+p),f=s*g/h[0],_=s*d/h[1];return r?(f=Math.ceil(f)-1,_=Math.ceil(_)-1):(f=Math.floor(f),_=Math.floor(_)),(0,u.T9)(n,f,_,o)},p.prototype.getTileCoordForXYAndZ_=function(t,i,e,r,o){var n=this.getOrigin(e),s=this.getResolution(e),a=(0,l.Pq)(this.getTileSize(e),this.tmpSize_),h=r?.5:0,c=r?0:.5,p=Math.floor((t-n[0])/s+h),g=Math.floor((i-n[1])/s+c),d=p/a[0],f=g/a[1];return r?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),(0,u.T9)(e,d,f,o)},p.prototype.getTileCoordForCoordAndZ=function(t,i,e){return this.getTileCoordForXYAndZ_(t[0],t[1],i,!1,e)},p.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},p.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},p.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},p.prototype.getZForResolution=function(t,i){var e=(0,s.h7)(this.resolutions_,t,i||0);return(0,h.uZ)(e,this.minZoom,this.maxZoom)},p.prototype.calculateTileRanges_=function(t){for(var i=this.resolutions_.length,e=new Array(i),r=this.minZoom;r<i;++r)e[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=e};const g=p},10508:(t,i,e)=>{"use strict";e.d(i,{e:()=>r,S:()=>o});var r=42,o=256},89434:(t,i,e)=>{"use strict";e.d(i,{uR:()=>a,Un:()=>h,vU:()=>l,Gk:()=>u});var r=e(38906),o=e(21882),n=e(70701);function s(t,i){var e=/\{z\}/g,o=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(a,h,l){return a?t.replace(e,a[0].toString()).replace(o,a[1].toString()).replace(n,(function(){return(-a[2]-1).toString()})).replace(s,(function(){var t=a[0],e=i.getFullTileRange(t);return(0,r.h)(e,55),(e.getHeight()+a[2]).toString()})):void 0}}function a(t,i){for(var e=t.length,r=new Array(e),o=0;o<e;++o)r[o]=s(t[o],i);return h(r)}function h(t){return 1===t.length?t[0]:function(i,e,r){if(i){var s=(0,n.vp)(i),a=(0,o.$W)(s,t.length);return t[a](i,e,r)}}}function l(t,i,e){}function u(t){var i=[],e=/\{([a-z])-([a-z])\}/.exec(t);if(e){var r,o=e[1].charCodeAt(0),n=e[2].charCodeAt(0);for(r=o;r<=n;++r)i.push(t.replace(e[0],String.fromCharCode(r)));return i}if(e=e=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(e[2],10),a=parseInt(e[1],10);a<=s;a++)i.push(t.replace(e[0],a.toString()));return i}return i.push(t),i}},78487:(t,i,e)=>{"use strict";function r(t,i){var e=[];Object.keys(i).forEach((function(t){null!==i[t]&&void 0!==i[t]&&e.push(t+"="+encodeURIComponent(i[t]))}));var r=e.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+r}e.d(i,{B:()=>r})}}]);