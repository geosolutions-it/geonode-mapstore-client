(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./MapStore2/web/client/actions/additionallayers.js":function(e,t){e.exports={UPDATE_ADDITIONAL_LAYER:"ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",updateAdditionalLayer:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",r=arguments.length>3?arguments[3]:void 0;return{type:"ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",id:e,owner:t,actionType:n,options:r}},REMOVE_ADDITIONAL_LAYER:"ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",removeAdditionalLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:"ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",id:t,owner:n}},REMOVE_ALL_ADDITIONAL_LAYERS:"ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",removeAllAdditionalLayers:function(){return{type:"ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS"}},UPDATE_OPTIONS_BY_OWNER:"ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",updateOptionsByOwner:function(e,t){return{type:"ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",owner:e,options:t}}}},"./MapStore2/web/client/actions/annotations.js":function(e,t,n){var r=n("./node_modules/lodash/lodash.js").head;e.exports={SHOW_ANNOTATION:"ANNOTATIONS:SHOW",EDIT_ANNOTATION:"ANNOTATIONS:EDIT",NEW_ANNOTATION:"ANNOTATIONS:NEW",REMOVE_ANNOTATION:"ANNOTATIONS:REMOVE",CONFIRM_REMOVE_ANNOTATION:"ANNOTATIONS:CONFIRM_REMOVE",CANCEL_REMOVE_ANNOTATION:"ANNOTATIONS:CANCEL_REMOVE",CANCEL_EDIT_ANNOTATION:"ANNOTATIONS:CANCEL_EDIT",SAVE_ANNOTATION:"ANNOTATIONS:SAVE",TOGGLE_ADD:"ANNOTATIONS:TOGGLE_ADD",UPDATE_ANNOTATION_GEOMETRY:"ANNOTATIONS:UPDATE_GEOMETRY",VALIDATION_ERROR:"ANNOTATIONS:VALIDATION_ERROR",REMOVE_ANNOTATION_GEOMETRY:"ANNOTATIONS:REMOVE_GEOMETRY",TOGGLE_STYLE:"ANNOTATIONS:TOGGLE_STYLE",SET_STYLE:"ANNOTATIONS:SET_STYLE",RESTORE_STYLE:"ANNOTATIONS:RESTORE_STYLE",HIGHLIGHT:"ANNOTATIONS:HIGHLIGHT",CLEAN_HIGHLIGHT:"ANNOTATIONS:CLEAN_HIGHLIGHT",CANCEL_SHOW_ANNOTATION:"ANNOTATIONS:CANCEL_SHOW",FILTER_ANNOTATIONS:"ANNOTATIONS:FILTER",CLOSE_ANNOTATIONS:"ANNOTATIONS:CLOSE",CONFIRM_CLOSE_ANNOTATIONS:"ANNOTATIONS:CONFIRM_CLOSE",CANCEL_CLOSE_ANNOTATIONS:"ANNOTATIONS:CANCEL_CLOSE",START_DRAWING:"ANNOTATIONS:START_DRAWING",startDrawing:function(){return{type:"ANNOTATIONS:START_DRAWING"}},UNSAVED_CHANGES:"ANNOTATIONS:UNSAVED_CHANGES",setUnsavedChanges:function(e){return{type:"ANNOTATIONS:UNSAVED_CHANGES",unsavedChanges:e}},UNSAVED_STYLE:"ANNOTATIONS:UNSAVED_STYLE",setUnsavedStyle:function(e){return{type:"ANNOTATIONS:UNSAVED_STYLE",unsavedStyle:e}},TOGGLE_CHANGES_MODAL:"ANNOTATIONS:TOGGLE_CHANGES_MODAL",toggleUnsavedChangesModal:function(){return{type:"ANNOTATIONS:TOGGLE_CHANGES_MODAL"}},TOGGLE_STYLE_MODAL:"ANNOTATIONS:TOGGLE_STYLE_MODAL",toggleUnsavedStyleModal:function(){return{type:"ANNOTATIONS:TOGGLE_STYLE_MODAL"}},CHANGED_PROPERTIES:"ANNOTATIONS:CHANGED_PROPERTIES",changedProperties:function(e,t){return{type:"ANNOTATIONS:CHANGED_PROPERTIES",field:e,value:t}},ADD_TEXT:"ANNOTATIONS:ADD_TEXT",addText:function(){return{type:"ANNOTATIONS:ADD_TEXT"}},editAnnotation:function(e){return function(t,n){var o=r(r(n().layers.flat.filter((function(e){return"annotations"===e.id}))).features.filter((function(t){return t.properties.id===e})));"FeatureCollection"===o.type?t({type:"ANNOTATIONS:EDIT",feature:o,featureType:o.type}):t({type:"ANNOTATIONS:EDIT",feature:o,featureType:o.geometry.type})}},newAnnotation:function(){return{type:"ANNOTATIONS:NEW"}},removeAnnotation:function(e){return{type:"ANNOTATIONS:REMOVE",id:e}},confirmRemoveAnnotation:function(e){return{type:"ANNOTATIONS:CONFIRM_REMOVE",id:e}},cancelRemoveAnnotation:function(){return{type:"ANNOTATIONS:CANCEL_REMOVE"}},cancelEditAnnotation:function(){return{type:"ANNOTATIONS:CANCEL_EDIT"}},saveAnnotation:function(e,t,n,r,o,a){return{type:"ANNOTATIONS:SAVE",id:e,fields:t,geometry:n,style:r,newFeature:o,properties:a}},toggleAdd:function(e){return{type:"ANNOTATIONS:TOGGLE_ADD",featureType:e}},updateAnnotationGeometry:function(e,t,n){return{type:"ANNOTATIONS:UPDATE_GEOMETRY",geometry:e,textChanged:t,circleChanged:n}},validationError:function(e){return{type:"ANNOTATIONS:VALIDATION_ERROR",errors:e}},removeAnnotationGeometry:function(){return{type:"ANNOTATIONS:REMOVE_GEOMETRY"}},toggleStyle:function(){return{type:"ANNOTATIONS:TOGGLE_STYLE"}},setStyle:function(e){return{type:"ANNOTATIONS:SET_STYLE",style:e}},restoreStyle:function(){return{type:"ANNOTATIONS:RESTORE_STYLE"}},highlight:function(e){return{type:"ANNOTATIONS:HIGHLIGHT",id:e}},cleanHighlight:function(){return{type:"ANNOTATIONS:CLEAN_HIGHLIGHT"}},showAnnotation:function(e){return{type:"ANNOTATIONS:SHOW",id:e}},cancelShowAnnotation:function(){return{type:"ANNOTATIONS:CANCEL_SHOW"}},filterAnnotations:function(e){return{type:"ANNOTATIONS:FILTER",filter:e}},closeAnnotations:function(){return{type:"ANNOTATIONS:CLOSE"}},confirmCloseAnnotations:function(){return{type:"ANNOTATIONS:CONFIRM_CLOSE"}},cancelCloseAnnotations:function(){return{type:"ANNOTATIONS:CANCEL_CLOSE"}},DOWNLOAD:"ANNOTATIONS:DOWNLOAD",download:function(e){return{type:"ANNOTATIONS:DOWNLOAD",annotation:e}},OPEN_EDITOR:"ANNOTATIONS:OPEN_EDITOR",openEditor:function(e){return{type:"ANNOTATIONS:OPEN_EDITOR",id:e}},CONFIRM_DELETE_FEATURE:"ANNOTATIONS:CONFIRM_DELETE_FEATURE",confirmDeleteFeature:function(){return{type:"ANNOTATIONS:CONFIRM_DELETE_FEATURE"}},TOGGLE_DELETE_FT_MODAL:"ANNOTATIONS:TOGGLE_DELETE_FT_MODAL",toggleDeleteFtModal:function(){return{type:"ANNOTATIONS:TOGGLE_DELETE_FT_MODAL"}},HIGHLIGHT_POINT:"ANNOTATIONS:HIGHLIGHT_POINT",highlightPoint:function(e){return{type:"ANNOTATIONS:HIGHLIGHT_POINT",point:e}},ADD_NEW_FEATURE:"ANNOTATIONS:ADD_NEW_FEATURE",addNewFeature:function(){return{type:"ANNOTATIONS:ADD_NEW_FEATURE"}},SET_EDITING_FEATURE:"ANNOTATIONS:SET_EDITING_FEATURE",setEditingFeature:function(e){return{type:"ANNOTATIONS:SET_EDITING_FEATURE",feature:e}},LOAD_ANNOTATIONS:"ANNOTATIONS:LOAD_ANNOTATIONS",loadAnnotations:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"ANNOTATIONS:LOAD_ANNOTATIONS",features:e,override:t}},RESET_COORD_EDITOR:"ANNOTATIONS:RESET_COORD_EDITOR",resetCoordEditor:function(){return{type:"ANNOTATIONS:RESET_COORD_EDITOR"}},CHANGE_TEXT:"ANNOTATIONS:CHANGE_TEXT",changeText:function(e,t){return{type:"ANNOTATIONS:CHANGE_TEXT",text:e,components:t}},CHANGE_RADIUS:"ANNOTATIONS:CHANGE_RADIUS",changeRadius:function(e,t,n){return{type:"ANNOTATIONS:CHANGE_RADIUS",radius:e,components:t,crs:n}},TOGGLE_GEOMETRY_MODAL:"ANNOTATIONS:TOGGLE_GEOMETRY_MODAL",toggleUnsavedGeometryModal:function(){return{type:"ANNOTATIONS:TOGGLE_GEOMETRY_MODAL"}},SET_INVALID_SELECTED:"ANNOTATIONS:SET_INVALID_SELECTED",setInvalidSelected:function(e,t){return{type:"ANNOTATIONS:SET_INVALID_SELECTED",errorFrom:e,coordinates:t}},CHANGE_FORMAT:"ANNOTATIONS:CHANGE_FORMAT",changeFormat:function(e){return{type:"ANNOTATIONS:CHANGE_FORMAT",format:e}},CHANGED_SELECTED:"ANNOTATIONS:CHANGED_SELECTED",changeSelected:function(e,t,n,r){return{type:"ANNOTATIONS:CHANGED_SELECTED",coordinates:e,radius:t,text:n,crs:r}},UPDATE_SYMBOLS:"ANNOTATIONS:UPDATE_SYMBOLS",updateSymbols:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"ANNOTATIONS:UPDATE_SYMBOLS",symbols:e}},ERROR_SYMBOLS:"ANNOTATIONS:ERROR_SYMBOLS",setErrorSymbol:function(e){return{type:"ANNOTATIONS:ERROR_SYMBOLS",symbolErrors:e}}}},"./MapStore2/web/client/actions/backgroundselector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ADD_BACKGROUND",(function(){return r})),n.d(t,"REMOVE_BACKGROUND",(function(){return o})),n.d(t,"SET_CURRENT_BACKGROUND_LAYER",(function(){return a})),n.d(t,"BACKGROUND_ADDED",(function(){return i})),n.d(t,"BACKGROUND_EDITED",(function(){return s})),n.d(t,"ADD_BACKGROUND_PROPERTIES",(function(){return l})),n.d(t,"SET_BACKGROUND_MODAL_PARAMS",(function(){return c})),n.d(t,"UPDATE_BACKGROUND_THUMBNAIL",(function(){return u})),n.d(t,"BACKGROUNDS_CLEAR",(function(){return p})),n.d(t,"CREATE_BACKGROUNDS_LIST",(function(){return f})),n.d(t,"CLEAR_MODAL_PARAMETERS",(function(){return d})),n.d(t,"CONFIRM_DELETE_BACKGROUND_MODAL",(function(){return m})),n.d(t,"ALLOW_BACKGROUNDS_DELETION",(function(){return y})),n.d(t,"createBackgroundsList",(function(){return b})),n.d(t,"addBackground",(function(){return g})),n.d(t,"addBackgroundProperties",(function(){return h})),n.d(t,"setBackgroundModalParams",(function(){return v})),n.d(t,"backgroundAdded",(function(){return S})),n.d(t,"backgroundEdited",(function(){return O})),n.d(t,"setCurrentBackgroundLayer",(function(){return w})),n.d(t,"allowBackgroundsDeletion",(function(){return E})),n.d(t,"updateThumbnail",(function(){return j})),n.d(t,"removeBackground",(function(){return T})),n.d(t,"clearBackgrounds",(function(){return A})),n.d(t,"clearModalParameters",(function(){return x})),n.d(t,"confirmDeleteBackgroundModal",(function(){return _}));var r="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",a="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",i="BACKGROUND_SELECTOR:BACKGROUND_ADDED",s="BACKGROUND_SELECTOR:BACKGROUND_EDITED",l="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",c="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",u="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",p="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",f="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",d="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",m="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",y="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function b(e){return{type:f,backgrounds:e}}function g(e){return{type:r,source:e}}function h(e){return{type:l,modalParams:e}}function v(e){return{type:c,modalParams:e}}function S(e){return{type:i,layerId:e}}function O(e){return{type:s,layerId:e}}function w(e){return{type:a,layerId:e}}function E(e){return{type:y,allow:e}}function j(e,t){return{type:u,thumbnailData:e,id:t}}function T(e){return{type:o,backgroundId:e}}function A(){return{type:p}}function x(){return{type:d}}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:m,show:e,layerTitle:t,layerId:n}}},"./MapStore2/web/client/actions/catalog.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ADD_LAYERS_FROM_CATALOGS",(function(){return E})),n.d(t,"TEXT_SEARCH",(function(){return j})),n.d(t,"RECORD_LIST_LOADED",(function(){return T})),n.d(t,"RESET_CATALOG",(function(){return A})),n.d(t,"CATALOG_CLOSE",(function(){return x})),n.d(t,"RECORD_LIST_LOAD_ERROR",(function(){return _})),n.d(t,"CHANGE_CATALOG_FORMAT",(function(){return P})),n.d(t,"ADD_LAYER_ERROR",(function(){return M})),n.d(t,"DESCRIBE_ERROR",(function(){return C})),n.d(t,"CHANGE_SELECTED_SERVICE",(function(){return L})),n.d(t,"CHANGE_CATALOG_MODE",(function(){return R})),n.d(t,"CHANGE_METADATA_TEMPLATE",(function(){return I})),n.d(t,"CHANGE_TITLE",(function(){return D})),n.d(t,"CHANGE_TEXT",(function(){return k})),n.d(t,"CHANGE_TYPE",(function(){return N})),n.d(t,"CHANGE_SERVICE_PROPERTY",(function(){return F})),n.d(t,"CHANGE_SERVICE_FORMAT",(function(){return G})),n.d(t,"FOCUS_SERVICES_LIST",(function(){return U})),n.d(t,"CHANGE_URL",(function(){return B})),n.d(t,"ADD_CATALOG_SERVICE",(function(){return z})),n.d(t,"DELETE_CATALOG_SERVICE",(function(){return H})),n.d(t,"ADD_SERVICE",(function(){return V})),n.d(t,"DELETE_SERVICE",(function(){return W})),n.d(t,"SAVING_SERVICE",(function(){return Y})),n.d(t,"CATALOG_INITED",(function(){return q})),n.d(t,"GET_METADATA_RECORD_BY_ID",(function(){return Z})),n.d(t,"SET_LOADING",(function(){return K})),n.d(t,"TOGGLE_TEMPLATE",(function(){return Q})),n.d(t,"TOGGLE_THUMBNAIL",(function(){return X})),n.d(t,"TOGGLE_ADVANCED_SETTINGS",(function(){return J})),n.d(t,"addLayersMapViewerUrl",(function(){return $})),n.d(t,"textSearch",(function(){return ee})),n.d(t,"recordsLoaded",(function(){return te})),n.d(t,"changeCatalogFormat",(function(){return ne})),n.d(t,"savingService",(function(){return re})),n.d(t,"setLoading",(function(){return oe})),n.d(t,"changeSelectedService",(function(){return ae})),n.d(t,"focusServicesList",(function(){return ie})),n.d(t,"changeCatalogMode",(function(){return se})),n.d(t,"changeTitle",(function(){return le})),n.d(t,"changeText",(function(){return ce})),n.d(t,"changeServiceProperty",(function(){return ue})),n.d(t,"changeServiceFormat",(function(){return pe})),n.d(t,"changeType",(function(){return fe})),n.d(t,"changeUrl",(function(){return de})),n.d(t,"addService",(function(){return me})),n.d(t,"addCatalogService",(function(){return ye})),n.d(t,"deleteCatalogService",(function(){return be})),n.d(t,"deleteService",(function(){return ge})),n.d(t,"resetCatalog",(function(){return he})),n.d(t,"recordsLoadError",(function(){return ve})),n.d(t,"catalogInited",(function(){return Se})),n.d(t,"initCatalog",(function(){return Oe})),n.d(t,"catalogClose",(function(){return we})),n.d(t,"getRecords",(function(){return Ee})),n.d(t,"describeError",(function(){return je})),n.d(t,"addLayerAndDescribe",(function(){return Te})),n.d(t,"addLayer",(function(){return Ae})),n.d(t,"addLayerError",(function(){return xe})),n.d(t,"getMetadataRecordById",(function(){return _e})),n.d(t,"changeMetadataTemplate",(function(){return Pe})),n.d(t,"toggleAdvancedSettings",(function(){return Me})),n.d(t,"toggleTemplate",(function(){return Ce})),n.d(t,"toggleThumbnail",(function(){return Le})),n.d(t,"recordsNotFound",(function(){return Re}));var r=n("./MapStore2/web/client/api/CSW.js"),o=n.n(r),a=n("./MapStore2/web/client/api/WMS.js"),i=n.n(a),s=n("./MapStore2/web/client/api/WMTS.js"),l=n.n(s),c=n("./MapStore2/web/client/api/mapBackground.js"),u=n.n(c),p=n("./MapStore2/web/client/actions/layers.js"),f=n("./MapStore2/web/client/actions/map.js"),d=n("./MapStore2/web/client/utils/LayersUtils.js"),m=n("./MapStore2/web/client/utils/ConfigUtils.js"),y=n("./node_modules/lodash/lodash.js"),b=n("./MapStore2/web/client/selectors/catalog.js"),g=n("./MapStore2/web/client/selectors/layers.js"),h=n("./MapStore2/web/client/actions/notifications.js");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={csw:o.a,wms:i.a,wmts:l.a,backgrounds:u.a},E="CATALOG:ADD_LAYERS_FROM_CATALOGS",j="CATALOG:TEXT_SEARCH",T="CATALOG:RECORD_LIST_LOADED",A="CATALOG:RESET_CATALOG",x="CATALOG:CATALOG_CLOSE",_="CATALOG:RECORD_LIST_LOAD_ERROR",P="CATALOG:CHANGE_CATALOG_FORMAT",M="CATALOG:ADD_LAYER_ERROR",C="CATALOG:DESCRIBE_ERROR",L="CATALOG:CHANGE_SELECTED_SERVICE",R="CATALOG:CHANGE_CATALOG_MODE",I="CATALOG:CHANGE_METADATA_TEMPLATE",D="CATALOG:CHANGE_TITLE",k="CATALOG:CHANGE_TEXT",N="CATALOG:CHANGE_TYPE",F="CATALOG:CHANGE_SERVICE_PROPERTY",G="CATALOG:CHANGE_SERVICE_FORMAT",U="CATALOG:FOCUS_SERVICES_LIST",B="CATALOG:CHANGE_URL",z="CATALOG:ADD_CATALOG_SERVICE",H="CATALOG:DELETE_CATALOG_SERVICE",V="CATALOG:ADD_SERVICE",W="CATALOG:DELETE_SERVICE",Y="CATALOG:SAVING_SERVICE",q="CATALOG:INIT",Z="CATALOG:GET_METADATA_RECORD_BY_ID",K="CATALOG:SET_LOADING",Q="CATALOG:TOGGLE_TEMPLATE",X="CATALOG:TOGGLE_THUMBNAIL",J="CATALOG:TOGGLE_ADVANCED_SETTINGS";function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:E,layers:e,sources:t}}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=e.url,r=e.startPosition,o=e.maxRecords,a=e.text,i=e.options,s=void 0===i?{}:i;return{type:j,format:t,url:n,startPosition:r,maxRecords:o,text:a,options:s}}function te(e,t){return{type:T,searchOptions:e,result:t}}function ne(e){return{type:P,format:e}}function re(e){return{type:Y,status:e}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:K,loading:e}}function ae(e){return{type:L,service:e}}function ie(e){return{type:U,status:e}}function se(e,t){return{type:R,mode:e,isNew:t}}function le(e){return{type:D,title:e}}function ce(e){return{type:k,text:e}}function ue(e,t){return{type:F,property:e,value:t}}function pe(e){return{type:G,format:e}}function fe(e){return{type:N,newType:e}}function de(e){return{type:B,url:e}}function me(){return{type:V}}function ye(e){return{type:z,service:e}}function be(e){return{type:H,service:e}}function ge(){return{type:W}}function he(){return{type:A}}function ve(e){return{type:_,error:e}}function Se(){return{type:q}}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return function(t){Object.keys(e).forEach((function(t){e[t].reset()})),t(Se())}}function we(){return{type:x}}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return function(i){i(oe(!0)),w[e].getRecords(t,n,r,o,a).then((function(e){e.error?i(ve(e)):i(te({url:t,startPosition:n,maxRecords:r,filter:o},e))})).catch((function(e){i(ve(e))}))}}function je(e,t){return{type:C,layer:e,error:t}}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoomToLayer,r=void 0!==n&&n;return function(t,n){var o=n(),a=Object(g.layersSelector)(o),i=d.getLayerId(e,a||[]);return t(Object(p.addLayer)(S(S({},e),{},{id:i}))),r&&e.bbox&&t(Object(f.zoomToExtent)(e.bbox.bounds,e.bbox.crs)),"wms"===e.type?w.wms.describeLayers(d.getLayerUrl(e),e.name).then((function(n){if(n){var r=Object(y.find)(n,(function(t){return t.name===e.name}));if(r&&"WFS"===r.owsType){var a=m.filterUrlParams(m.cleanDuplicatedQuestionMarks(r.owsURL),Object(b.authkeyParamNameSelector)(o));t(Object(p.changeLayerProperties)(i,{search:{url:a,type:"wfs"}}))}}})).catch((function(n){return t(je(e,n))})):null}}var Ae=Te;function xe(e){return{type:M,error:e}}function _e(e){return{type:Z,metadataOptions:e}}var Pe=function(e){return{type:I,metadataTemplate:e}},Me=function(){return{type:J}},Ce=function(){return{type:Q}},Le=function(){return{type:X}};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(h.error)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},"./MapStore2/web/client/actions/contenttabs.js":function(e,t){e.exports={onTabSelected:function(e){return{type:"CONTENT_TABS:ON_TAB_SELECTED",id:e}},ON_TAB_SELECTED:"CONTENT_TABS:ON_TAB_SELECTED",setTabsHidden:function(e){return{type:"CONTENT_TABS:SET_TABS_HIDDEN",tabs:e}},SET_TABS_HIDDEN:"CONTENT_TABS:SET_TABS_HIDDEN"}},"./MapStore2/web/client/actions/draw.js":function(e,t){function n(e,t,n,r,o,a){return{type:"CHANGE_DRAWING_STATUS",status:e,method:t,owner:n,features:r,options:o,style:a}}e.exports={CHANGE_DRAWING_STATUS:"CHANGE_DRAWING_STATUS",changeDrawingStatus:n,drawSupportReset:function(e){return n("clean","",e,[],{})},END_DRAWING:"DRAW:END_DRAWING",endDrawing:function(e,t){return{type:"DRAW:END_DRAWING",geometry:e,owner:t}},SET_CURRENT_STYLE:"DRAW:SET_CURRENT_STYLE",setCurrentStyle:function(e){return{type:"DRAW:SET_CURRENT_STYLE",currentStyle:e}},FEATURES_SELECTED:"DRAW:FEATURES_SELECTED",selectFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"DRAW:FEATURES_SELECTED",features:e}},DRAWING_FEATURE:"DRAW:DRAWING_FEATURES",drawingFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"DRAW:DRAWING_FEATURES",features:e}},DRAW_SUPPORT_STOPPED:"DRAW:DRAW_SUPPORT_STOPPED",drawStopped:function(){return{type:"DRAW:DRAW_SUPPORT_STOPPED"}},GEOMETRY_CHANGED:"DRAW:GEOMETRY_CHANGED",geometryChanged:function(e,t,n,r,o){return{type:"DRAW:GEOMETRY_CHANGED",features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}}},"./MapStore2/web/client/actions/featuregrid.js":function(e,t){var n="FEATUREGRID:TOGGLE_MODE",r="FEATUREGRID:INIT_PLUGIN",o={EDIT:"EDIT",VIEW:"VIEW"};e.exports={SELECT_FEATURES:"FEATUREGRID:SELECT_FEATURES",DESELECT_FEATURES:"FEATUREGRID:DESELECT_FEATURES",CLEAR_SELECTION:"FEATUREGRID:CLEAR_SELECTION",TOGGLE_FEATURES_SELECTION:"FEATUREGRID:TOGGLE_FEATURES_SELECTION",SET_SELECTION_OPTIONS:"FEATUREGRID:SET_SELECTION_OPTIONS",SET_FEATURES:"SET_FEATURES",FEATURES_MODIFIED:"FEATUREGRID:FEATURES_MODIFIED",CREATE_NEW_FEATURE:"FEATUREGRID:NEW_FEATURE",SAVE_CHANGES:"FEATUREGRID:SAVE_CHANGES",CLEAR_CHANGES:"FEATUREGRID:CLEAR_CHANGES",SAVE_SUCCESS:"FEATUREGRID:SAVE_SUCCESS",SAVE_ERROR:"FEATUREGRID:SAVE_ERROR",DELETE_SELECTED_FEATURES_CONFIRM:"FEATUREGRID:DELETE_SELECTED_FEATURES_CONFIRM",DELETE_SELECTED_FEATURES:"FEATUREGRID:DELETE_SELECTED_FEATURES",DOCK_SIZE_FEATURES:"DOCK_SIZE_FEATURES",SORT_BY:"FEATUREGRID:SORT_BY",CHANGE_PAGE:"FEATUREGRID:CHANGE_PAGE",SET_LAYER:"FEATUREGRID:SET_LAYER",TOGGLE_TOOL:"FEATUREGRID:TOGGLE_TOOL",CUSTOMIZE_ATTRIBUTE:"FEATUREGRID:CUSTOMIZE_ATTRIBUTE",TOGGLE_MODE:n,MODES:o,SAVING:"FEATUREGRID:SAVING",SET_PERMISSION:"FEATUREGRID:SET_PERMISSION",setPermission:function(e){return{type:"FEATUREGRID:SET_PERMISSION",permission:e}},START_EDITING_FEATURE:"FEATUREGRID:START_EDITING_FEATURE",startEditingFeature:function(){return{type:"FEATUREGRID:START_EDITING_FEATURE"}},START_DRAWING_FEATURE:"FEATUREGRID:START_DRAWING_FEATURE",startDrawingFeature:function(){return{type:"FEATUREGRID:START_DRAWING_FEATURE"}},GEOMETRY_CHANGED:"FEATUREGRID:GEOMETRY_CHANGED",geometryChanged:function(e){return{type:"FEATUREGRID:GEOMETRY_CHANGED",features:e}},DELETE_GEOMETRY:"FEATUREGRID:DELETE_GEOMETRY",deleteGeometry:function(){return{type:"FEATUREGRID:DELETE_GEOMETRY"}},DELETE_GEOMETRY_FEATURE:"FEATUREGRID:DELETE_GEOMETRY_FEATURE",deleteGeometryFeature:function(e){return{type:"FEATUREGRID:DELETE_GEOMETRY_FEATURE",features:e}},CLEAR_CHANGES_CONFIRMED:"FEATUREGRID:CLEAR_CHANGES_CONFIRMED",clearChangeConfirmed:function(){return{type:"FEATUREGRID:CLEAR_CHANGES_CONFIRMED"}},CLOSE_FEATURE_GRID:"FEATUREGRID:CLOSE_GRID",closeFeatureGrid:function(){return{type:"FEATUREGRID:CLOSE_GRID"}},OPEN_FEATURE_GRID:"FEATUREGRID:OPEN_GRID",openFeatureGrid:function(){return{type:"FEATUREGRID:OPEN_GRID"}},CLOSE_FEATURE_GRID_CONFIRM:"ASK_CLOSE_FEATURE_GRID_CONFIRM",closeFeatureGridConfirm:function(){return{type:"ASK_CLOSE_FEATURE_GRID_CONFIRM"}},FEATURE_GRID_CLOSE_CONFIRMED:"FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",closeFeatureGridConfirmed:function(){return{type:"FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED"}},SET_UP:"FEATUREGRID:SET_UP",setUp:function(e){return{type:"FEATUREGRID:SET_UP",options:e}},DISABLE_TOOLBAR:"FEATUREGRID:DISABLE_TOOLBAR",disableToolbar:function(e){return{type:"FEATUREGRID:DISABLE_TOOLBAR",disabled:e}},OPEN_ADVANCED_SEARCH:"FEATUREGRID:ADVANCED_SEARCH",openAdvancedSearch:function(){return{type:"FEATUREGRID:ADVANCED_SEARCH"}},ZOOM_ALL:"FEATUREGRID:ZOOM_ALL",zoomAll:function(){return{type:"FEATUREGRID:ZOOM_ALL"}},UPDATE_FILTER:"QUERY:UPDATE_FILTER",updateFilter:function(e){return{type:"QUERY:UPDATE_FILTER",update:e}},SIZE_CHANGE:"FEATUREGRID:SIZE_CHANGE",sizeChange:function(e,t){return{type:"FEATUREGRID:SIZE_CHANGE",size:e,dockProps:t}},setLayer:function(e){return{type:"FEATUREGRID:SET_LAYER",id:e}},selectFeatures:function(e,t){return{type:"FEATUREGRID:SELECT_FEATURES",features:e,append:t}},deselectFeatures:function(e){return{type:"FEATUREGRID:DESELECT_FEATURES",features:e}},setSelectionOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:"FEATUREGRID:SET_SELECTION_OPTIONS",multiselect:n}},clearSelection:function(){return{type:"FEATUREGRID:CLEAR_SELECTION"}},toggleSelection:function(e){return{type:"FEATUREGRID:TOGGLE_FEATURES_SELECTION",features:e}},setFeatures:function(e){return{type:"SET_FEATURES",features:e}},featureModified:function(e,t){return{type:"FEATUREGRID:FEATURES_MODIFIED",features:e,updated:t}},createNewFeatures:function(e){return{type:"FEATUREGRID:NEW_FEATURE",features:e}},saveChanges:function(){return{type:"FEATUREGRID:SAVE_CHANGES"}},featureSaving:function(){return{type:"FEATUREGRID:SAVING"}},clearChanges:function(){return{type:"FEATUREGRID:CLEAR_CHANGES"}},saveSuccess:function(){return{type:"FEATUREGRID:SAVE_SUCCESS"}},saveError:function(){return{type:"FEATUREGRID:SAVE_ERROR"}},deleteFeaturesConfirm:function(){return{type:"FEATUREGRID:DELETE_SELECTED_FEATURES_CONFIRM"}},deleteFeatures:function(){return{type:"FEATUREGRID:DELETE_SELECTED_FEATURES"}},dockSizeFeatures:function(e){return{type:"DOCK_SIZE_FEATURES",dockSize:e}},sort:function(e,t){return{type:"FEATUREGRID:SORT_BY",sortBy:e,sortOrder:t}},changePage:function(e,t){return{type:"FEATUREGRID:CHANGE_PAGE",page:e,size:t}},toggleTool:function(e,t){return{type:"FEATUREGRID:TOGGLE_TOOL",tool:e,value:t}},customizeAttribute:function(e,t,n){return{type:"FEATUREGRID:CUSTOMIZE_ATTRIBUTE",name:e,key:t,value:n}},toggleEditMode:function(){return{type:n,mode:o.EDIT}},toggleViewMode:function(){return{type:n,mode:o.VIEW}},initPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r,options:e}},INIT_PLUGIN:r,hideSyncPopover:function(){return{type:"FEATUREGRID:HIDE_SYNC_POPOVER"}},HIDE_SYNC_POPOVER:"FEATUREGRID:HIDE_SYNC_POPOVER",toggleShowAgain:function(){return{type:"FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG"}},TOGGLE_SHOW_AGAIN_FLAG:"FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",START_SYNC_WMS:"FEATUREGRID:START_SYNC_WMS",startSyncWMS:function(){return{type:"FEATUREGRID:START_SYNC_WMS"}},STOP_SYNC_WMS:"FEATUREGRID:STOP_SYNC_WMS",storeAdvancedSearchFilter:function(e){return{type:"STORE_ADVANCED_SEARCH_FILTER",filterObj:e}},STORE_ADVANCED_SEARCH_FILTER:"STORE_ADVANCED_SEARCH_FILTER",moreFeatures:function(e){return{type:"LOAD_MORE_FEATURES",pages:e}},LOAD_MORE_FEATURES:"LOAD_MORE_FEATURES",activateTemporaryChanges:function(e){return{type:"FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",activated:e}},ACTIVATE_TEMPORARY_CHANGES:"FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",deactivateGeometryFilter:function(e){return{type:"FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",deactivated:e}},DEACTIVATE_GEOMETRY_FILTER:"FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",fatureGridQueryResult:function(e,t){return{type:"FEATUREGRID:QUERY_RESULT",features:e,pages:t}},GRID_QUERY_RESULT:"FEATUREGRID:QUERY_RESULT",setTimeSync:function(e){return{type:"FEATUREGRID:SET_TIME_SYNC",value:e}},SET_TIME_SYNC:"FEATUREGRID:SET_TIME_SYNC"}},"./MapStore2/web/client/actions/fullscreen.js":function(e,t){e.exports={toggleFullscreen:function(e,t){return{type:"TOGGLE_FULLSCREEN",enable:e,elementSelector:t}},TOGGLE_FULLSCREEN:"TOGGLE_FULLSCREEN"}},"./MapStore2/web/client/actions/highlight.js":function(e,t){e.exports={HIGHLIGHT_STATUS:"HIGHLIGHT_STATUS",highlightStatus:function(e){return{type:"HIGHLIGHT_STATUS",status:e}},UPDATE_HIGHLIGHTED:"UPDATE_HIGHLIGHTED",updateHighlighted:function(e,t){return{type:"UPDATE_HIGHLIGHTED",features:e,status:t}},SET_HIGHLIGHT_FEATURES_PATH:"HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH",setHighlightFeaturesPath:function(e){return{type:"HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH",featuresPath:e}}}},"./MapStore2/web/client/actions/locate.js":function(e,t){e.exports={CHANGE_LOCATE_STATE:"CHANGE_LOCATE_STATE",LOCATE_ERROR:"LOCATE_ERROR",changeLocateState:function(e){return{type:"CHANGE_LOCATE_STATE",state:e}},onLocateError:function(e){return{type:"LOCATE_ERROR",error:e}}}},"./MapStore2/web/client/actions/mapInfo.js":function(e,t,n){var r=n("./MapStore2/web/client/api/Nominatim.js");function o(e){return{type:"SHOW_REVERSE_GEOCODE",reverseGeocodeData:e.data}}e.exports={ERROR_FEATURE_INFO:"ERROR_FEATURE_INFO",EXCEPTIONS_FEATURE_INFO:"EXCEPTIONS_FEATURE_INFO",LOAD_FEATURE_INFO:"LOAD_FEATURE_INFO",CHANGE_MAPINFO_STATE:"CHANGE_MAPINFO_STATE",NEW_MAPINFO_REQUEST:"NEW_MAPINFO_REQUEST",PURGE_MAPINFO_RESULTS:"PURGE_MAPINFO_RESULTS",CHANGE_MAPINFO_FORMAT:"CHANGE_MAPINFO_FORMAT",SHOW_MAPINFO_MARKER:"SHOW_MAPINFO_MARKER",HIDE_MAPINFO_MARKER:"HIDE_MAPINFO_MARKER",SHOW_REVERSE_GEOCODE:"SHOW_REVERSE_GEOCODE",HIDE_REVERSE_GEOCODE:"HIDE_REVERSE_GEOCODE",GET_VECTOR_INFO:"GET_VECTOR_INFO",NO_QUERYABLE_LAYERS:"NO_QUERYABLE_LAYERS",CLEAR_WARNING:"CLEAR_WARNING",FEATURE_INFO_CLICK:"FEATURE_INFO_CLICK",TOGGLE_HIGHLIGHT_FEATURE:"IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",toggleHighlightFeature:function(e){return{type:"IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",enabled:e}},CHANGE_PAGE:"IDENTIFY:CHANGE_PAGE",changePage:function(e){return{type:"IDENTIFY:CHANGE_PAGE",index:e}},TOGGLE_MAPINFO_STATE:"TOGGLE_MAPINFO_STATE",UPDATE_CENTER_TO_MARKER:"UPDATE_CENTER_TO_MARKER",CLOSE_IDENTIFY:"IDENTIFY:CLOSE_IDENTIFY",TOGGLE_EMPTY_MESSAGE_GFI:"IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",toggleEmptyMessageGFI:function(){return{type:"IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI"}},TOGGLE_SHOW_COORD_EDITOR:"IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",toggleShowCoordinateEditor:function(e){return{type:"IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",showCoordinateEditor:e}},CHANGE_FORMAT:"IDENTIFY:CHANGE_FORMAT",changeFormat:function(e){return{type:"IDENTIFY:CHANGE_FORMAT",format:e}},closeIdentify:function(){return{type:"IDENTIFY:CLOSE_IDENTIFY"}},exceptionsFeatureInfo:function(e,t,n,r){return{type:"EXCEPTIONS_FEATURE_INFO",reqId:e,exceptions:t,requestParams:n,layerMetadata:r}},changeMapInfoState:function(e){return{type:"CHANGE_MAPINFO_STATE",enabled:e}},newMapInfoRequest:function(e,t){return{type:"NEW_MAPINFO_REQUEST",reqId:e,request:t}},purgeMapInfoResults:function(){return{type:"PURGE_MAPINFO_RESULTS"}},changeMapInfoFormat:function(e){return{type:"CHANGE_MAPINFO_FORMAT",infoFormat:e}},showMapinfoMarker:function(){return{type:"SHOW_MAPINFO_MARKER"}},hideMapinfoMarker:function(){return{type:"HIDE_MAPINFO_MARKER"}},revGeocodeInfo:o,hideMapinfoRevGeocode:function(){return{type:"HIDE_REVERSE_GEOCODE"}},showMapinfoRevGeocode:function(e){return function(t){r.reverseGeocode(e).then((function(e){t(o(e))})).catch((function(e){t(o(e))}))}},getVectorInfo:function(e,t,n){return{type:"GET_VECTOR_INFO",layer:e,request:t,metadata:n}},noQueryableLayers:function(){return{type:"NO_QUERYABLE_LAYERS"}},clearWarning:function(){return{type:"CLEAR_WARNING"}},errorFeatureInfo:function(e,t,n,r){return{type:"ERROR_FEATURE_INFO",error:t,reqId:e,requestParams:n,layerMetadata:r}},loadFeatureInfo:function(e,t,n,r,o){return{type:"LOAD_FEATURE_INFO",data:t,reqId:e,requestParams:n,layerMetadata:r,layer:o}},toggleMapInfoState:function(){return{type:"TOGGLE_MAPINFO_STATE"}},updateCenterToMarker:function(e){return{type:"UPDATE_CENTER_TO_MARKER",status:e}},featureInfoClick:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:"FEATURE_INFO_CLICK",point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}},UPDATE_FEATURE_INFO_CLICK_POINT:"IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",updateFeatureInfoClickPoint:function(e){return{type:"IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",point:e}},EDIT_LAYER_FEATURES:"IDENTIFY:EDIT_LAYER_FEATURES",editLayerFeatures:function(e){return{type:"IDENTIFY:EDIT_LAYER_FEATURES",layer:e}},SET_CURRENT_EDIT_FEATURE_QUERY:"IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",setCurrentEditFeatureQuery:function(e){return{type:"IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",query:e}}}},"./MapStore2/web/client/actions/mapPopups.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"ADD_MAP_POPUP",(function(){return i})),n.d(t,"REMOVE_MAP_POPUP",(function(){return s})),n.d(t,"CLEAN_MAP_POPUPS",(function(){return l})),n.d(t,"addPopup",(function(){return c})),n.d(t,"removePopup",(function(){return u})),n.d(t,"cleanPopups",(function(){return p}));var i="MAP:ADD_POPUP",s="MAP:REMOVE_POPUP",l="MAP:CLEAN_POPUPS",c=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:i,id:e,popup:o({id:e},t),single:n}},u=function(e){return{type:s,id:e}},p=function(){return{type:l}}},"./MapStore2/web/client/actions/maplayout.js":function(e,t){e.exports={UPDATE_MAP_LAYOUT:"MAP_LAYOUT:UPDATE_MAP_LAYOUT",updateMapLayout:function(e){return{type:"MAP_LAYOUT:UPDATE_MAP_LAYOUT",layout:e}}}},"./MapStore2/web/client/actions/maptype.js":function(e,t){e.exports={MAP_TYPE_CHANGED:"MAP_TYPE_CHANGED",changeMapType:function(e){return{type:"MAP_TYPE_CHANGED",mapType:e}}}},"./MapStore2/web/client/actions/measurement.js":function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o="MEASUREMENT:INIT";function a(e){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({type:"CHANGE_MEASUREMENT_TOOL"},e)}e.exports={CHANGE_MEASUREMENT_TOOL:"CHANGE_MEASUREMENT_TOOL",CHANGE_MEASUREMENT_STATE:"CHANGE_MEASUREMENT_STATE",changeUom:function(e,t,n){return{type:"MEASUREMENT:CHANGE_UOM",uom:e,value:t,previousUom:n}},CHANGE_UOM:"MEASUREMENT:CHANGE_UOM",changeGeometry:function(e){return{type:"MEASUREMENT:CHANGED_GEOMETRY",features:e}},CHANGED_GEOMETRY:"MEASUREMENT:CHANGED_GEOMETRY",setTextLabels:function(e){return{type:"MEASUREMENT:SET_TEXT_LABELS",textLabels:e}},SET_TEXT_LABELS:"MEASUREMENT:SET_TEXT_LABELS",setCurrentFeature:function(e){return{type:"MEASUREMENT:SET_CURRENT_FEATURE",featureIndex:e}},SET_CURRENT_FEATURE:"MEASUREMENT:SET_CURRENT_FEATURE",addAsLayer:function(e,t,n){return{type:"MEASUREMENT:ADD_AS_LAYER",features:e,textLabels:t,uom:n}},ADD_AS_LAYER:"MEASUREMENT:ADD_AS_LAYER",changeFormatMeasurement:function(e){return{type:"MEASUREMENT:CHANGE_FORMAT",format:e}},CHANGE_FORMAT:"MEASUREMENT:CHANGE_FORMAT",updateMeasures:function(e){return{type:"MEASUREMENT:UPDATE_MEASURES",measures:e}},UPDATE_MEASURES:"MEASUREMENT:UPDATE_MEASURES",changeCoordinates:function(e){return{type:"MEASUREMENT:CHANGE_COORDINATES",coordinates:e}},CHANGE_COORDINATES:"MEASUREMENT:CHANGE_COORDINATES",resetGeometry:function(){return{type:"MEASUREMENT:RESET_GEOMETRY"}},RESET_GEOMETRY:"MEASUREMENT:RESET_GEOMETRY",addAnnotation:function(e,t,n){return{type:"MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",features:e,textLabels:t,uom:n}},ADD_MEASURE_AS_ANNOTATION:"MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:o,defaultOptions:e}},INIT:o,changeMeasurement:function(e){return function(t){t(a(e))}},toggleMeasurement:a,changeMeasurementState:function(e){return{type:"CHANGE_MEASUREMENT_STATE",pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}}},"./MapStore2/web/client/actions/playback.js":function(e,t){var n="PLAYBACK:START",r="PLAYBACK:STOP";e.exports={play:function(){return{type:n}},stop:function(){return{type:r}},pause:function(){return{type:"PLAYBACK:PAUSE"}},setFrames:function(e){return{type:"PLAYBACK:SET_FRAMES",frames:e}},appendFrames:function(e){return{type:"PLAYBACK:APPEND_FRAMES",frames:e}},framesLoading:function(e){return{type:"PLAYBACK:FRAMES_LOADING",loading:e}},setCurrentFrame:function(e){return{type:"PLAYBACK:SET_CURRENT_FRAME",frame:e}},selectPlaybackRange:function(e){return{type:"PLAYBACK:SELECT_PLAYBACK_RANGE",range:e}},changeSetting:function(e,t){return{type:"PLAYBACK:SETTINGS_CHANGE",name:e,value:t}},toggleAnimationMode:function(){return{type:"PLAYBACK:TOGGLE_ANIMATION_MODE"}},animationStepMove:function(e){return{type:"PLAYBACK:ANIMATION_STEP_MOVE",direction:e}},updateMetadata:function(e){var t=e.next,n=e.previous;return{type:"PLAYBACK:UPDATE_METADATA",forTime:e.forTime,next:t,previous:n}},PLAY:n,PAUSE:"PLAYBACK:PAUSE",STOP:r,STATUS:{PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},SET_FRAMES:"PLAYBACK:SET_FRAMES",APPEND_FRAMES:"PLAYBACK:APPEND_FRAMES",FRAMES_LOADING:"PLAYBACK:FRAMES_LOADING",SET_CURRENT_FRAME:"PLAYBACK:SET_CURRENT_FRAME",SELECT_PLAYBACK_RANGE:"PLAYBACK:SELECT_PLAYBACK_RANGE",CHANGE_SETTING:"PLAYBACK:SETTINGS_CHANGE",TOGGLE_ANIMATION_MODE:"PLAYBACK:TOGGLE_ANIMATION_MODE",ANIMATION_STEP_MOVE:"PLAYBACK:ANIMATION_STEP_MOVE",UPDATE_METADATA:"PLAYBACK:UPDATE_METADATA"}},"./MapStore2/web/client/actions/selection.js":function(e,t){e.exports={CHANGE_SELECTION_STATE:"CHANGE_SELECTION_STATE",changeSelectionState:function(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}}},"./MapStore2/web/client/actions/styleeditor.js":function(e,t){e.exports={UPDATE_TEMPORARY_STYLE:"STYLEEDITOR:UPDATE_TEMPORARY_STYLE",UPDATE_STATUS:"STYLEEDITOR:UPDATE_STATUS",TOGGLE_STYLE_EDITOR:"STYLEEDITOR:TOGGLE_STYLE_EDITOR",RESET_STYLE_EDITOR:"STYLEEDITOR:RESET_STYLE_EDITOR",SELECT_STYLE_TEMPLATE:"STYLEEDITOR:SELECT_STYLE_TEMPLATE",CREATE_STYLE:"STYLEEDITOR:CREATE_STYLE",LOADING_STYLE:"STYLEEDITOR:LOADING_STYLE",LOADED_STYLE:"STYLEEDITOR:LOADED_STYLE",ADD_STYLE:"STYLEEDITOR:ADD_STYLE",ERROR_STYLE:"STYLEEDITOR:ERROR_STYLE",UPDATE_STYLE_CODE:"STYLEEDITOR:UPDATE_STYLE_CODE",EDIT_STYLE_CODE:"STYLEEDITOR:EDIT_STYLE_CODE",DELETE_STYLE:"STYLEEDITOR:DELETE_STYLE",INIT_STYLE_SERVICE:"STYLEEDITOR:INIT_STYLE_SERVICE",SET_EDIT_PERMISSION:"STYLEEDITOR:SET_EDIT_PERMISSION",SET_DEFAULT_STYLE:"STYLEEDITOR:SET_DEFAULT_STYLE",UPDATE_EDITOR_METADATA:"STYLEEDITOR:UPDATE_EDITOR_METADATA",updateTemporaryStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,n=e.templateId,r=e.code,o=e.format,a=e.languageVersion,i=e.init;return{type:"STYLEEDITOR:UPDATE_TEMPORARY_STYLE",temporaryId:t,templateId:n,code:r,format:o,init:i,languageVersion:a}},updateStatus:function(e){return{type:"STYLEEDITOR:UPDATE_STATUS",status:e}},toggleStyleEditor:function(e,t){return{type:"STYLEEDITOR:TOGGLE_STYLE_EDITOR",layer:e,enabled:t}},resetStyleEditor:function(){return{type:"STYLEEDITOR:RESET_STYLE_EDITOR"}},selectStyleTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,n=e.templateId,r=e.format,o=e.languageVersion,a=e.init;return{type:"STYLEEDITOR:SELECT_STYLE_TEMPLATE",code:t,templateId:n,format:r,init:a,languageVersion:o}},createStyle:function(e){return{type:"STYLEEDITOR:CREATE_STYLE",settings:e}},loadingStyle:function(e){return{type:"STYLEEDITOR:LOADING_STYLE",status:e}},loadedStyle:function(){return{type:"STYLEEDITOR:LOADED_STYLE"}},addStyle:function(e){return{type:"STYLEEDITOR:ADD_STYLE",add:e}},errorStyle:function(e,t){return{type:"STYLEEDITOR:ERROR_STYLE",status:e,error:t}},updateStyleCode:function(){return{type:"STYLEEDITOR:UPDATE_STYLE_CODE"}},editStyleCode:function(e){return{type:"STYLEEDITOR:EDIT_STYLE_CODE",code:e}},deleteStyle:function(e){return{type:"STYLEEDITOR:DELETE_STYLE",styleName:e}},initStyleService:function(e,t){return{type:"STYLEEDITOR:INIT_STYLE_SERVICE",service:e,canEdit:t}},setEditPermissionStyleEditor:function(e){return{type:"STYLEEDITOR:SET_EDIT_PERMISSION",canEdit:e}},setDefaultStyle:function(){return{type:"STYLEEDITOR:SET_DEFAULT_STYLE"}},updateEditorMetadata:function(e){return{type:"STYLEEDITOR:UPDATE_EDITOR_METADATA",metadata:e}}}},"./MapStore2/web/client/actions/wfsquery.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("./MapStore2/web/client/libs/ajax.js");function a(e,t){return{type:"FEATURE_LOADED",typeName:e,feature:t}}function i(e,t){return{type:"FEATURE_ERROR",typeName:e,error:t}}e.exports={LAYER_SELECTED_FOR_SEARCH:"LAYER_SELECTED_FOR_SEARCH",layerSelectedForSearch:function(e){return{type:"LAYER_SELECTED_FOR_SEARCH",id:e}},FEATURE_TYPE_SELECTED:"FEATURE_TYPE_SELECTED",featureTypeSelected:function(e,t){return{type:"FEATURE_TYPE_SELECTED",url:e,typeName:t}},FEATURE_TYPE_LOADED:"FEATURE_TYPE_LOADED",featureTypeLoaded:function(e,t){return{type:"FEATURE_TYPE_LOADED",typeName:e,featureType:t}},FEATURE_TYPE_ERROR:"FEATURE_TYPE_ERROR",featureTypeError:function(e,t){return{type:"FEATURE_TYPE_ERROR",typeName:e,error:t}},FEATURE_ERROR:"FEATURE_ERROR",featureError:i,QUERY_CREATE:"QUERY_CREATE",createQuery:function(e,t){return{type:"QUERY_CREATE",searchUrl:e,filterObj:t}},QUERY_RESULT:"QUERY_RESULT",querySearchResponse:function(e,t,n,r,o){return{type:"QUERY_RESULT",searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:o}},QUERY_ERROR:"QUERY_ERROR",queryError:function(e){return{type:"QUERY_ERROR",error:e}},RESET_QUERY:"RESET_QUERY",resetQuery:function(){return{type:"RESET_QUERY"}},QUERY:"QUERY",query:function(e,t,n,r){return{type:"QUERY",searchUrl:e,filterObj:t,queryOptions:n,reason:r}},UPDATE_QUERY:"QUERY:UPDATE_QUERY",updateQuery:function(e,t){return{type:"QUERY:UPDATE_QUERY",updates:e,reason:t}},FEATURE_LOADING:"FEATURE_LOADING",featureLoading:function(e){return{type:"FEATURE_LOADING",isLoading:e}},FEATURE_LOADED:"FEATURE_LOADED",featureLoaded:a,INIT_QUERY_PANEL:"INIT_QUERY_PANEL",initQueryPanel:function(){return{type:"INIT_QUERY_PANEL"}},loadFeature:function(e,t){return function(n){return o.get(e+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t+"&outputFormat=application/json").then((function(e){if("object"===r(e.data))n(a(t,e.data));else try{JSON.parse(e.data)}catch(e){n(i(t,"Error from WFS: "+e.message))}})).catch((function(e){n(i(t,e))}))}},TOGGLE_SYNC_WMS:"QUERY:TOGGLE_SYNC_WMS",toggleSyncWms:function(){return{type:"QUERY:TOGGLE_SYNC_WMS"}},TOGGLE_LAYER_FILTER:"QUERY:TOGGLE_LAYER_FILTER",toggleLayerFilter:function(){return{type:"QUERY:TOGGLE_LAYER_FILTER"}}}},"./MapStore2/web/client/api/CSW.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/ajax.js"),o=n("./node_modules/lodash/lodash.js"),a=n("./node_modules/url/url.js"),i=n("./MapStore2/web/client/utils/ConfigUtils.js"),s=n("./node_modules/object-assign/index.js"),l=function(e){var t=a.parse(e,!0);return a.format(s({},t,{search:null},{query:s({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},c={parseUrl:l,getRecordById:function(e){return new Promise((function(t){Promise.all([n.e(0),n.e(11)]).then(function(){t(r.get(e).then((function(e){if(e){var t=n("./MapStore2/web/client/utils/ogc/CSW.js").unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var r=t.value.abstractRecord[0].value.dcElement;if(r){for(var o={references:[]},a=0;a<r.length;a++){var s=r[a],l=s.name.localPart,c={};if("references"===l&&s.value)c={value:s.value.content&&i.cleanDuplicatedQuestionMarks(s.value.content[0])||s.value.content||s.value,scheme:s.value.scheme};else c=s.value.content&&s.value.content[0]||s.value.content||s.value;o[l]&&Array.isArray(o[l])?o[l].push(c):o[l]?o[l]=[o[l],c]:o[l]=c}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,n)).catch(n.oe)}))},getRecords:function(e,t,a,s){return new Promise((function(c){Promise.all([n.e(0),n.e(1)]).then(function(){var u=n("./MapStore2/web/client/utils/ogc/CSW.js"),p=u.CSW,f=u.marshaller,d=u.unmarshaller,m=f.marshalString({name:"csw:GetRecords",value:p.getRecords(t,a,s)});c(r.post(l(e),m,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=d.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var n=t.value,r=n.searchResults.abstractRecord||n.searchResults.any,a={numberOfRecordsMatched:n.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:n.searchResults.numberOfRecordsReturned,nextRecord:n.searchResults.nextRecord},s=[];if(r)for(var l=0;l<r.length;l++){var c=r[l].value,u={dateStamp:c.dateStamp&&c.dateStamp.date,fileIdentifier:c.fileIdentifier&&c.fileIdentifier.characterString&&c.fileIdentifier.characterString.value,identificationInfo:c.abstractMDIdentification&&c.abstractMDIdentification.value};if(c.boundingBox){var p=void 0,f=void 0,m=void 0;if((m=Array.isArray(c.boundingBox)?o.head(c.boundingBox):c.boundingBox)&&m.value){var y=m.value.lowerCorner,b=m.value.upperCorner;p=[y[1],y[0],b[1],b[0]];var g=m.value&&m.value.crs&&o.last(m.value.crs.split(":"));f="WGS 1984"===g||"WGS84"===g?"EPSG:4326":g?"EPSG:"+g:"EPSG:4326"}u.boundingBox={extent:p,crs:f}}var h=c.dcElement;if(h){for(var v={references:[]},S=0;S<h.length;S++){var O=h[S],w=O.name.localPart,E={};if("references"===w&&O.value)E={value:O.value.content&&i.cleanDuplicatedQuestionMarks(O.value.content[0])||O.value.content||O.value,scheme:O.value.scheme};else E=O.value.content&&O.value.content[0]||O.value.content||O.value;v[w]&&Array.isArray(v[w])?v[w].push(E):v[w]?v[w]=[v[w],E]:v[w]=E}u.dc=v}s.push(u)}return a.records=s,a}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,n)).catch(n.oe)}))},textSearch:function(e,t,r,o){return new Promise((function(a){Promise.all([n.e(0),n.e(1)]).then(function(){var i=n("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,s=null;if(o){var l=i.propertyIsLike("csw:AnyText","%"+o+"%");s=i.filter(l)}a(c.getRecords(e,t,r,s))}.bind(null,n)).catch(n.oe)}))},workspaceSearch:function(e,t,r,o,a){return new Promise((function(i){Promise.all([n.e(0),n.e(1)]).then(function(){var s=n("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,l=a||"%",u=o&&"%"+o+"%"||"%",p=s.propertyIsLike("identifier",l+":"+u),f=s.filter(p);i(c.getRecords(e,t,r,f))}.bind(null,n)).catch(n.oe)}))},reset:function(){}};e.exports=c},"./MapStore2/web/client/api/Nominatim.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/ajax.js"),o=n("./node_modules/url/url.js"),a=n("./node_modules/object-assign/index.js"),i={format:"json",bounded:0,polygon_geojson:1,priority:5},s={geocode:function(e,t){var n=a({q:e},i,t||{}),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return r.get(s)},reverseGeocode:function(e,t){var n=a({lat:e.lat,lon:e.lng},t||{},i),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return r.get(s)}};e.exports=s},"./MapStore2/web/client/api/WMTS.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/ajax.js"),o=n("./MapStore2/web/client/utils/ConfigUtils.js"),a=n("./node_modules/url/url.js"),i=n("./node_modules/object-assign/index.js"),s=n("./node_modules/xml2js/lib/xml2js.js"),l={},c=n("./node_modules/lodash/lodash.js").castArray,u=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),p=n("./MapStore2/web/client/utils/WMTSUtils.js"),f=p.getOperations,d=p.getOperation,m=p.getRequestEncoding,y=p.getDefaultStyleIdentifier,b=p.getDefaultFormat,g=function(e){var t=a.parse(e,!0);return a.format(i({},t,{search:null},{query:i({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},h=function(e,t,n,r,o){for(var a=e.Capabilities.Contents,s=f(e),l=m(e),p=a.TileMatrixSet&&c(a.TileMatrixSet)||[],g=[],h=p.length,v=0;v<h;v++)g.push(u.getEPSGCode(p[v]["ows:SupportedCRS"]));var S=a.Layer,O=c(S).filter((function(e){return!r||-1!==e["ows:Identifier"].toLowerCase().indexOf(r.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(r.toLowerCase())}));return{numberOfRecordsMatched:O.length,numberOfRecordsReturned:Math.min(n,O.length),nextRecord:t+Math.min(n,O.length)+1,records:O.filter((function(e,r){return r>=t-1&&r<t-1+n})).map((function(e){return i({},e,{SRS:g,TileMatrixSet:p,queryable:!!d(s,"GetFeatureInfo","KVP"),requestEncoding:l,style:y(e),format:b(e),GetTileURL:d(s,"GetTile",l),capabilitiesURL:o})}))}},v={parseUrl:g,getRecords:function(e,t,n,a){var i=l[e];return i&&(new Date).getTime()<i.timestamp+1e3*(o.getConfigProp("cacheExpire")||60)?new Promise((function(r){r(h(i.data,t,n,a,e))})):r.get(g(e)).then((function(r){var o;return s.parseString(r.data,{explicitArray:!1},(function(e,t){o=t})),l[e]={timestamp:(new Date).getTime(),data:o},h(o,t,n,a,e)}))},textSearch:function(e,t,n,r){return v.getRecords(e,t,n,r)},reset:function(){Object.keys(l).forEach((function(e){delete l[e]}))}};e.exports=v},"./MapStore2/web/client/api/mapBackground.js":function(e,t,n){var r=n("./node_modules/lodash/lodash.js").get,o=n("./MapStore2/web/client/utils/ConfigUtils.js"),a=function(e,t,n,a){var i=r(o.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!a||e.title.indexOf(a)>-1})),s=i.filter((function(e,r){return r>=t-1&&r<n+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:i.length,numberOfRecordsReturned:s.length,records:s,service:{Name:"Background Provider"}})}))};e.exports={getRecords:a,reset:function(){},textSearch:function(e,t,n,r){return a(0,t,n,r)}}},"./MapStore2/web/client/components/I18N/HTML.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./node_modules/react-intl/lib/index.es.js").FormattedHTMLMessage,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return this.context.intl?f.createElement(d,{id:this.props.msgId,values:this.props.msgParams}):f.createElement("span",null,this.props.msgId||"")}}])&&a(t.prototype,n),r&&a(t,r),c}(f.Component);u(m,"propTypes",{msgId:p.string.isRequired,msgParams:p.object}),u(m,"contextTypes",{intl:p.object}),e.exports=m},"./MapStore2/web/client/components/I18N/Message.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-intl/lib/index.es.js").FormattedMessage,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"renderFormattedMsg",(function(e){var t=e.msgId,n=e.msgParams,r=e.children;return r&&"function"==typeof r?d.createElement(m,{id:t,values:n},(function(e){return r(e)})):d.createElement(m,{id:t,values:n})})),p(c(e),"renderMsg",(function(e){var t=e.msgId,n=e.children;return n&&"function"==typeof n?n(t):d.createElement("span",null,t||"")})),e}return t=u,(n=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(y,"propTypes",{msgId:f.string.isRequired,msgParams:f.object}),p(y,"contextTypes",{intl:f.object}),e.exports=y},"./MapStore2/web/client/components/I18N/Number.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/lodash/lodash.js").isNil,y=n("./node_modules/react-intl/lib/index.es.js").FormattedNumber,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,c=l(u);function u(){return a(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return this.context.intl?d.createElement(y,o({value:this.props.value},this.props.numberParams)):d.createElement("span",null,!m(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&i(t.prototype,n),r&&i(t,r),u}(d.Component);p(b,"propTypes",{value:f.oneOfType([f.object,f.number]),numberParams:f.object}),p(b,"contextTypes",{intl:f.object}),e.exports=b},"./MapStore2/web/client/components/I18N/enhancers/addI18NProps.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react-intl/lib/index.es.js").injectIntl,s=n("./node_modules/prop-types/index.js"),l=n("./node_modules/lodash/lodash.js").omit,c=n("./node_modules/recompose/es/Recompose.js"),u=c.compose,p=c.branch,f=c.getContext,d=c.withProps,m=c.withPropsOnChange,y=c.mapProps,b=function(e){return y((function(t){return l(t,e)}))},g={locale:navigator&&navigator.language,formats:{},messages:{},defaultLocale:"en",defaultFormats:{},formatDate:function(e){return e},formatTime:function(e){return e},formatRelative:function(e){return e},formatNumber:function(e){return e},formatPlural:function(e){return e},formatMessage:function(e){return e},formatHTMLMessage:function(e){return e},now:function(){return new Date}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(f({intl:s.object}),p((function(e){return!!e.intl}),i,d({intl:g})),m(["intl"],(function(t){var n=t.intl,r=void 0===n?{}:n;return e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return o(o({},e),{},a({},t,r[t]))}),{})})),b(["intl"]))}},"./MapStore2/web/client/components/background/BackgroundDialog.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),s=n("./node_modules/react-select/dist/react-select.es.js"),l=n("./node_modules/object-assign/index.js"),c=n.n(l),u=n("./node_modules/uuid/v1.js"),p=n.n(u),f=n("./node_modules/lodash/lodash.js"),d=n("./MapStore2/web/client/components/I18N/Message.jsx"),m=n.n(d),y=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),b=n.n(y),g=n("./node_modules/react-bootstrap/es/index.js"),h=n("./MapStore2/web/client/components/maps/forms/Thumbnail.jsx"),v=n.n(h),S=n("./MapStore2/web/client/utils/LocaleUtils.js"),O=n.n(S),w=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function x(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=n.n(w)()(g.Button),N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,r,a=C(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),D(R(t=a.call(this,e)),"state",{title:"",format:"image/png",thumbnail:{},additionalParameters:[]}),D(R(t),"assignParameters",(function(e){return Object(f.keys)(e).map((function(t,n){var r=e[t],o=Object(f.isNumber)(r)?"number":Object(f.isBoolean)(r)?"boolean":"string";return{id:n,param:t,type:o,val:"string"===o?r.toString():r}}))})),D(R(t),"addAdditionalParameter",(function(e,n,r,o){t.setState({additionalParameters:t.state.additionalParameters.map((function(t){if(t.id===r){var a,i;if("val"===n)switch(o){case"number":(i=Number(e))&&!isNaN(i)||(i=0);break;case"boolean":i=!Object(f.isBoolean)(e)||e;break;default:i=e?e.toString():""}else i=e;return c()({},t,(D(a={},n,i),D(a,"type",o),a))}return t}))})})),D(R(t),"resetParameters",(function(){return t.setState({additionalParameters:[]})}));var n=Object(f.pick)(t.props,"title","format","style","thumbnail"),r=c()({},n,{additionalParameters:t.assignParameters(t.props.additionalParameters)});return t.state=r,t}return t=i,(n=[{key:"renderStyleSelector",value:function(){var e=this;return this.props.capabilities?o.a.createElement(g.FormGroup,null,o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.style"})),o.a.createElement(s.default,{onChange:function(t){return e.setState({style:t?t.value:void 0})},clearable:!0,value:this.state.style,options:(this.props.capabilities.availableStyles||[]).map((function(e){var t=e.name;return{label:t,value:t}}))})):null}},{key:"renderThumbnailErrors",value:function(){var e={FORMAT:o.a.createElement(m.a,{msgId:"map.errorFormat"}),SIZE:o.a.createElement(m.a,{msgId:"map.errorSize"})};return this.state.thumbnailErrors&&this.state.thumbnailErrors.length>0?o.a.createElement("div",{className:"dropzone-errorBox alert-danger"},o.a.createElement("p",null,o.a.createElement(m.a,{msgId:"map.error"})),this.state.thumbnailErrors.map((function(t){return o.a.createElement("div",{id:"error"+t,key:"error"+t,className:"error"+t},e[t])}))):null}},{key:"renderSpecificTypeForm",value:function(){var e=this;return"wms"===this.props.layer.type?o.a.createElement(o.a.Fragment,null,o.a.createElement(g.FormGroup,{controlId:"formControlsSelect"},o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.format"})),o.a.createElement(s.default,{onChange:function(t){return e.setState({format:t&&t.value})},value:this.state.format||this.props.defaultFormat,clearable:!0,options:this.props.formatOptions})),this.renderStyleSelector(),o.a.createElement(k,null,o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement(g.ControlLabel,{style:{flex:1}},o.a.createElement(m.a,{msgId:"backgroundDialog.additionalParameters"})),o.a.createElement(k,{className:"square-button-md",tooltipId:"backgroundDialog.addAdditionalParameterTooltip",style:{borderColor:"transparent"},onClick:function(){var t=Math.max.apply(Math,x(e.state.additionalParameters.length>0?e.state.additionalParameters.map((function(e){return e.id})):[-1]))+1;e.setState({additionalParameters:[].concat(x(e.state.additionalParameters),[{id:t,type:"string",param:"",val:""}])})}},o.a.createElement(g.Glyphicon,{glyph:"plus"}))),this.state.additionalParameters.map((function(t){return o.a.createElement("div",{key:"val:"+t.id,style:{display:"flex",marginTop:8}},o.a.createElement("div",{style:{display:"flex",flex:1,marginRight:8}},o.a.createElement(g.FormControl,{style:{width:"50%",marginRight:8,minWidth:0},placeholder:O.a.getMessageById(e.context.messages,"backgroundDialog.parameter"),value:t.param,onChange:function(n){return e.addAdditionalParameter(n.target.value,"param",t.id,t.type)}}),"boolean"===t.type?o.a.createElement("div",{style:{width:"50%"}},o.a.createElement(s.default,{onChange:function(n){return e.addAdditionalParameter(n.value,"val",t.id,t.type)},clearable:!1,value:t.val,options:e.props.booleanOptions})):o.a.createElement(g.FormControl,{style:{width:"50%",minWidth:0},placeholder:O.a.getMessageById(e.context.messages,"backgroundDialog.value"),value:t.val.toString(),onChange:function(n){return e.addAdditionalParameter(n.target.value,"val",t.id,t.type)}})),o.a.createElement(s.default,{style:{flex:1,width:90},onChange:function(n){return e.addAdditionalParameter(t.val,"val",t.id,n.value)},clearable:!1,value:t.type,options:e.props.parameterTypeOptions.map((function(t){var n=t.label;return T(T({},A(t,["label"])),{},{label:O.a.getMessageById(e.context.messages,n)})}))}),o.a.createElement(k,{onClick:function(){return e.setState({additionalParameters:e.state.additionalParameters.filter((function(e){return t.id!==e.id}))})},tooltipId:"backgroundDialog.removeAdditionalParameterTooltip",className:"square-button-md",style:{borderColor:"transparent"}},o.a.createElement(g.Glyphicon,{glyph:"trash"})))})))):null}},{key:"render",value:function(){var e=this;return o.a.createElement(b.a,{fitContent:!0,title:o.a.createElement(m.a,{msgId:this.props.editing?"backgroundDialog.editTitle":"backgroundDialog.addTitle"}),show:!0,fade:!0,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container background-dialog",loading:this.props.loading,onClose:function(){e.props.onClose(),e.resetParameters()},buttons:this.props.loading?[]:[{text:o.a.createElement(m.a,{msgId:this.props.editing?"save":"backgroundDialog.add"}),bsStyle:"primary",onClick:function(){var t=e.props.editing?e.props.layer.id:p()(),n=e.props.layer.thumbURL||"",r=e.state.format||e.props.defaultFormat;e.props.updateThumbnail(e.state.thumbnail.data,t),e.props.onSave(c()({},e.props.layer,Object(f.omit)(e.state,"thumbnail"),e.props.editing?{}:{id:t},{params:Object(f.omit)(e.state.additionalParameters.reduce((function(e,t){return c()(e,D({},t.param,t.val))}),{}),["source","title"]),format:r,group:"background"},n||e.state.thumbnail.data?{thumbURL:e.state.thumbnail.url}:{})),e.resetParameters()}}]},o.a.createElement(g.Form,{style:{width:"100%"}},this.renderThumbnailErrors(),o.a.createElement(v.a,{onUpdate:function(t,n){return e.setState({thumbnail:{data:t,url:n}})},onError:function(t){return e.setState({thumbnailErrors:t})},message:o.a.createElement(m.a,{msgId:"backgroundDialog.thumbnailMessage"}),suggestion:"",map:{newThumbnail:Object(f.get)(this.state.thumbnail,"url")||"NODATA"}}),o.a.createElement(g.FormGroup,null,o.a.createElement(g.ControlLabel,null,o.a.createElement(m.a,{msgId:"layerProperties.title"})),o.a.createElement(g.FormControl,{value:this.state.title,placeholder:O.a.getMessageById(this.context.messages,"backgroundDialog.titlePlaceholder"),onChange:function(t){return e.setState({title:t.target.value})}})),this.renderSpecificTypeForm()))}}])&&P(t.prototype,n),r&&P(t,r),i}(o.a.Component);D(N,"propTypes",{loading:i.a.bool,editing:i.a.bool,layer:i.a.object,capabilities:i.a.object,onAdd:i.a.func,onClose:i.a.func,source:i.a.string,onSave:i.a.func,addParameters:i.a.func,updateThumbnail:i.a.func,thumbURL:i.a.string,title:i.a.string,format:i.a.string,style:i.a.string,thumbnail:i.a.object,additionalParameters:i.a.object,addParameter:i.a.func,defaultFormat:i.a.string,formatOptions:i.a.array,parameterTypeOptions:i.a.array,booleanOptions:i.a.array}),D(N,"contextTypes",{messages:i.a.object}),D(N,"defaultProps",{updateThumbnail:function(){},onClose:function(){},onSave:function(){},addParameters:function(){},addParameter:function(){},loading:!1,editing:!1,layer:{},capabilities:{},title:"",thumbnail:{},additionalParameters:{},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],parameterTypeOptions:[{label:"backgroundDialog.string",value:"string"},{label:"backgroundDialog.number",value:"number"},{label:"backgroundDialog.boolean",value:"boolean"}],booleanOptions:[{label:"True",value:!0},{label:"False",value:!1}]})},"./MapStore2/web/client/components/background/BackgroundSelector.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/object-assign/index.js"),y=n("./MapStore2/web/client/components/I18N/Message.jsx"),b=n("./MapStore2/web/client/components/background/PreviewButton.jsx"),g=n("./MapStore2/web/client/components/background/PreviewList.jsx"),h=n("./MapStore2/web/client/components/background/PreviewIcon.jsx"),v=n("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),S=n("./MapStore2/web/client/components/background/BackgroundDialog.jsx").default,O=n("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),w=n("./node_modules/prop-types/index.js"),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(u(e=c.call.apply(c,[this].concat(n))),"getThumb",(function(t){return t.thumbURL||e.props.thumbs[t.source]&&e.props.thumbs[t.source][t.name]||e.props.thumbs.unknown})),f(u(e),"getIcons",(function(t,n,r,o){return e.props.enabled?e.props.layers.map((function(a,i){var s=e.getThumb(a);return d.createElement("div",{style:{width:(o?r:0)+(o?0:r)+t+n,height:r+t+n},className:"background-preview-container"},"mobile"!==e.props.mode&&d.createElement("div",{style:{width:(o?r:0)+t+n},className:"background-tool-buttons"},e.props.mapIsEditable&&e.props.allowDeletion&&e.props.layers.length>1&&d.createElement(v,{glyph:"trash",className:"square-button-md background-tool-button delete-button",bsStyle:"primary",onClick:function(){e.props.onRemoveBackground(!0,a.title||a.name||"",a.id)}}),e.props.mapIsEditable&&!e.props.enabledCatalog&&!("wms"!==a.type&&"wmts"!==a.type&&"tms"!==a.type&&"tileprovider"!==a.type)&&d.createElement(v,{glyph:"wrench",className:"square-button-md background-tool-button edit-button",bsStyle:"primary",onClick:function(){e.props.addBackgroundProperties({layer:a,editing:!0})}})),d.createElement(h,{projection:e.props.projection,vertical:o,key:i,src:s,currentLayer:e.props.currentLayer,margin:r,side:t,frame:n,layer:a,onToggle:e.props.onToggle,onPropertiesChange:e.props.onPropertiesChange,onLayerChange:e.props.onLayerChange,setCurrentBackgroundLayer:e.props.setCurrentBackgroundLayer}))})):[]})),f(u(e),"getDimensions",(function(t,n,r,o,a,i){var s=a/2-(t+2*n+2*r)-o,l=t+2*n+2*r+(t+2*n+r)*i+o>a/2,c=Math.floor(s/(t+2*n+r));return c=c>i?i:c,{pagination:l,listSize:e.props.enabled?(t+n+r)*c+52:0,visibleIconsLength:c}})),f(u(e),"renderBackgroundSelector",(function(){var t=m({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},e.props.dimensions),n=2*t.frame,r=t.side-n,a=e.props.enabled?t.sidePreview-n:r,i=t.margin,s=e.props.enabled?a-2*n:0,l=e.props.enabled?e.props.tempLayer:e.props.currentLayer,c=e.getIcons(r,n,i,t.vertical),u=e.getDimensions(r,n,i,0,t.vertical?e.props.size.height:e.props.size.width,c.length),p=u.pagination,f=u.listSize,h=u.visibleIconsLength,v=r+n+i,w=r+n+2*i,E=t.vertical?{bottom:w,left:0,width:w,height:f}:{left:a+2*i+n,width:f,height:v},j=t.vertical?{height:v*h,width:v}:{height:v,width:v*h},T=e.props.modalParams&&e.props.modalParams.layer||{},A=(e.props.backgroundList||[]).find((function(e){return e.id===T.id})),x={title:T.title,format:T.format,style:T.style,additionalParameters:T.params,thumbnail:{data:A&&A.thumbnail,url:e.getThumb(T)}},_=e.props.confirmDeleteBackgroundModal||{show:!1},P=_.show,M=_.layerId,C=_.layerTitle;return h<=0&&!e.props.alwaysVisible&&e.props.enabled?null:d.createElement("span",null,d.createElement(O,{draggable:!1,modal:!0,show:P,onClose:function(){return e.props.onRemoveBackground(!1)},onConfirm:function(){e.props.removeBackground(M),e.props.onRemoveBackground(!1)},confirmButtonBSStyle:"default",confirmButtonContent:d.createElement(y,{msgId:"confirm"}),closeText:d.createElement(y,{msgId:"cancel"}),closeGlyph:"1-close"},d.createElement(y,{msgId:"backgroundSelector.confirmDelete",msgParams:{title:C}})),e.props.modalParams&&d.createElement(S,o({onClose:e.props.clearModal,onSave:function(t){e.props.modalParams.editing?(e.props.updateNode(t.id,"layers",t),e.props.onBackgroundEdit(t.id)):(e.props.addLayer(t),e.props.backgroundAdded(t.id))},updateThumbnail:e.props.onUpdateThumbnail},x,e.props.modalParams)),d.createElement("div",{className:"background-plugin-position",style:e.props.style},d.createElement(b,{layers:e.props.layers,showAdd:"mobile"!==e.props.mode&&e.props.mapIsEditable&&e.props.hasCatalog&&!e.props.enabledCatalog,onAdd:function(){return e.props.onAdd(e.props.source||"backgroundSelector")},showLabel:t.label,src:e.getThumb(l),side:a,frame:n,margin:i,labelHeight:s,label:l.title,onToggle:e.props.onToggle}),d.createElement("div",{className:"background-list-container",style:E},d.createElement(g,{vertical:t.vertical,start:e.props.start,bottom:0,height:j.height,width:j.width,icons:c,pagination:p,length:h,onStartChange:e.props.onStartChange}))))})),e}return t=p,(n=[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}])&&i(t.prototype,n),r&&i(t,r),p}(d.Component);f(E,"propTypes",{mode:w.string,backgroundList:w.array,backgrounds:w.array,start:w.number,style:w.object,enabled:w.bool,layers:w.array,currentLayer:w.object,tempLayer:w.object,size:w.object,dimensions:w.object,thumbs:w.object,mapIsEditable:w.bool,onPropertiesChange:w.func,onToggle:w.func,onLayerChange:w.func,onStartChange:w.func,onAdd:w.func,hasCatalog:w.bool,alwaysVisible:w.bool,enabledCatalog:w.bool,onRemove:w.func,onBackgroundEdit:w.func,source:w.string,addBackgroundProperties:w.func,onUpdateThumbnail:w.func,removeBackground:w.func,onRemoveBackground:w.func,setCurrentBackgroundLayer:w.func,confirmDeleteBackgroundModal:w.object,deletedId:w.string,modalParams:w.object,updateNode:w.func,clearModal:w.func,allowDeletion:w.bool,projection:w.string}),f(E,"defaultProps",{mode:"desktop",addBackgroundProperties:function(){},onBackgroundEdit:function(){},setCurrentBackgroundLayer:function(){},source:"backgroundSelector",start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},allowDeletion:!0,thumbs:{unknown:n("./MapStore2/web/client/components/background/img/default.jpg")},mapIsEditable:!0,onRemoveBackground:function(){},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){},onAdd:function(){},onRemove:function(){},clearModal:function(){}}),e.exports=E},"./MapStore2/web/client/components/background/PaginationButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,d=n("./node_modules/prop-types/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],t=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",n=this.props.vertical?{width:this.props.side}:{height:this.props.side};return p.createElement("div",{className:t+" text-primary",style:n,onClick:this.props.onClick},p.createElement(f,{glyph:e}))}}])&&a(t.prototype,n),r&&a(t,r),c}(p.Component);u(m,"propTypes",{side:d.number,direction:d.bool,vertical:d.bool,glyphs:d.object,onClick:d.func}),u(m,"defaultProps",{side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/PreviewButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/prop-types/index.js"),d=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx");n("./MapStore2/web/client/components/background/css/previewbutton.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this;return p.createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},p.createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?p.createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},p.createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,p.createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},p.createElement("img",{src:this.props.src}))),this.props.labelHeight>0?p.createElement(d,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.showAdd?[{glyph:"plus",tooltipId:"backgroundSelector.addTooltip",onClick:function(){return e.props.onAdd()}}]:[]}):null)}}])&&a(t.prototype,n),r&&a(t,r),c}(p.Component);u(m,"propTypes",{src:f.string,side:f.number,frame:f.number,margin:f.number,labelHeight:f.number,label:f.string,showLabel:f.bool,onToggle:f.func,onAdd:f.func,showAdd:f.bool}),u(m,"defaultProps",{src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,onToggle:function(){},onAdd:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/PreviewIcon.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/lodash/lodash.js"),m=d.indexOf,y=d.has;n("./MapStore2/web/client/components/background/css/previewicon.css");var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this,t=m(["EPSG:4326","EPSG:3857","EPSG:900913"],this.props.projection)>-1,n="wmts"===this.props.layer.type&&y(this.props.layer.allowedSRS,this.props.projection),r=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",o=this.props.layer.visibility?" bg-primary":" bg-body",a=(t||n||"wms"===this.props.layer.type||"empty"===this.props.layer.type)&&!this.props.layer.invalid,i=a?function(){e.props.onToggle(),e.props.onPropertiesChange(e.props.layer.id,{visibility:!0}),e.props.setCurrentBackgroundLayer(e.props.layer.id)}:function(){};return p.createElement("div",{className:r+o+(a?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},p.createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},p.createElement("img",{onMouseOver:function(){e.props.onLayerChange("tempLayer",e.props.layer)},onMouseOut:function(){e.props.onLayerChange("tempLayer",e.props.currentLayer)},onClick:i,src:this.props.src})))}}])&&a(t.prototype,n),r&&a(t,r),c}(p.Component);u(b,"propTypes",{side:f.number,frame:f.number,margin:f.number,src:f.string,vertical:f.bool,layer:f.object,currentLayer:f.object,onPropertiesChange:f.func,onToggle:f.func,onLayerChange:f.func,setCurrentBackgroundLayer:f.func,projection:f.string}),u(b,"defaultProps",{side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}}),e.exports=b},"./MapStore2/web/client/components/background/PreviewList.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./MapStore2/web/client/components/background/PaginationButton.jsx"),d=n("./node_modules/prop-types/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this,t=[].concat(this.props.icons);t=this.props.pagination?t.slice(this.props.start,this.props.start+this.props.length):t,this.props.vertical&&t.unshift(p.createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&t.shift(),t.unshift(p.createElement(f,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){e.props.onStartChange(e.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&t.push(p.createElement(f,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){e.props.onStartChange(e.props.start+1)}})));var n=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return p.createElement("div",{style:n},t)}}])&&a(t.prototype,n),r&&a(t,r),c}(p.Component);u(m,"propTypes",{bottom:d.number,width:d.number,height:d.number,length:d.number,start:d.number,pagination:d.bool,vertical:d.bool,icons:d.array,onStartChange:d.func}),u(m,"defaultProps",{bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}}),e.exports=m},"./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/background/img/default.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/components/background/img/default.jpg"},"./MapStore2/web/client/components/buttons/FullScreenButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react/index.js"),y=n("./MapStore2/web/client/components/buttons/ToggleButton.jsx"),b=n("./node_modules/react-bootstrap/es/index.js").Tooltip,g=n("./MapStore2/web/client/components/I18N/Message.jsx"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(u(e=c.call.apply(c,[this].concat(n))),"getButtonProperties",(function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce((function(t,n){return t[n]=e.props[n],t}),{})})),e}return t=p,(n=[{key:"render",value:function(){return m.createElement(y,o({},this.getButtonProperties(),{pressed:this.props.active,tooltip:m.createElement(b,{id:"full-screen-button-tip"},m.createElement(g,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}])&&i(t.prototype,n),r&&i(t,r),p}(m.Component);f(h,"propTypes",{id:d.string,btnConfig:d.object,options:d.object,text:d.oneOfType([d.string,d.element]),help:d.oneOfType([d.string,d.element]),glyphicon:d.string,active:d.bool,onClick:d.func,activeTooltip:d.string,notActiveTooltip:d.string,tooltipPlace:d.string,style:d.object,btnType:d.oneOf(["normal","image"]),image:d.string,pressedStyle:d.string,defaultStyle:d.string}),f(h,"defaultProps",{id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}}),e.exports=h},"./MapStore2/web/client/components/buttons/ImageButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/object-assign/index.js"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"getStyle",(function(){var t={cursor:e.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return e.props.image?m(t,{overflow:"hidden"}):m(t,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),m(t,e.props.style),t})),e}return t=u,(n=[{key:"render",value:function(){return d.createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(y,"propTypes",{id:f.string,image:f.string,onClick:f.func,style:f.object,disabled:f.bool,tooltip:f.string,className:f.string}),p(y,"defaultProps",{disabled:!1,tooltip:null,className:void 0}),e.exports=y},"./MapStore2/web/client/components/buttons/ToggleButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react-bootstrap/es/index.js"),b=y.Button,g=y.Glyphicon,h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=n("./MapStore2/web/client/components/buttons/ImageButton.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(u(e=c.call.apply(c,[this].concat(n))),"onClick",(function(){e.props.onClick(!e.props.pressed,e.props.options)})),f(u(e),"renderNormalButton",(function(){return d.createElement(b,o({id:e.props.id},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.pressed?e.props.pressedStyle:e.props.defaultStyle,style:e.props.style}),e.props.glyphicon?d.createElement(g,{glyph:e.props.glyphicon}):null,e.props.glyphicon&&e.props.text&&!d.isValidElement(e.props.text)?" ":null,e.props.text,e.props.help)})),f(u(e),"renderImageButton",(function(){return d.createElement(v,{id:e.props.id,image:e.props.image,onClick:e.onClick,style:e.props.style})})),f(u(e),"addTooltip",(function(t){return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:e.props.tooltip},t)})),e}return t=p,(n=[{key:"render",value:function(){var e="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(e):e}}])&&i(t.prototype,n),r&&i(t,r),p}(d.Component);f(S,"propTypes",{id:m.string,btnConfig:m.object,options:m.object,text:m.oneOfType([m.string,m.element]),help:m.oneOfType([m.string,m.element]),glyphicon:m.string,pressed:m.bool,onClick:m.func,tooltip:m.element,tooltipPlace:m.string,style:m.object,btnType:m.oneOf(["normal","image"]),image:m.string,pressedStyle:m.string,defaultStyle:m.string}),f(S,"defaultProps",{onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"}),e.exports=S},"./MapStore2/web/client/components/buttons/ZoomButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.Button,b=m.Glyphicon,g=m.Tooltip,h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"addTooltip",(function(t){if(!e.props.tooltip)return t;var n=d.createElement(g,{id:"locate-tooltip"},e.props.tooltip);return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),e}return t=u,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(d.createElement(y,{id:this.props.id,style:this.props.style,onClick:function(){return e.props.onZoom(e.props.currentZoom+e.props.step)},className:this.props.className,disabled:this.props.currentZoom+this.props.step>this.props.maxZoom||this.props.currentZoom+this.props.step<this.props.minZoom,bsStyle:this.props.bsStyle},this.props.glyphicon?d.createElement(b,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(v,"propTypes",{id:f.string,style:f.object,glyphicon:f.string,text:f.string,btnSize:f.oneOf(["large","small","xsmall"]),className:f.string,help:f.oneOfType([f.string,f.element]),step:f.number,currentZoom:f.number,minZoom:f.number,maxZoom:f.number,onZoom:f.func,tooltip:f.element,tooltipPlace:f.string,bsStyle:f.string}),p(v,"defaultProps",{id:"mapstore-zoom",className:"square-button",glyphicon:"plus",btnSize:"xsmall",tooltipPlace:"left",step:1,currentZoom:3,minZoom:0,maxZoom:28,onZoom:function(){},bsStyle:"default",style:{}}),e.exports=v},"./MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.Button,b=m.Glyphicon,g=m.Tooltip,h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=n("./MapStore2/web/client/utils/MapUtils.js"),S=n("./MapStore2/web/client/utils/ConfigUtils.js"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"addTooltip",(function(t){var n=d.createElement(g,{id:"locate-tooltip"},e.props.tooltip);return d.createElement(h,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),p(c(e),"zoomToMaxExtent",(function(){var t=e.props.mapConfig.maxExtent,n=e.props.mapConfig.size,r=1,o=e.props.mapConfig.center,a=e.props.mapConfig.projection||"EPSG:3857";t&&"[object Array]"===Object.prototype.toString.call(t)&&(r=v.getZoomForExtent(t,n,0,21),0===(o=v.getCenterForExtent(t,a)).x&&0===o.y||(o=S.getCenter(o,"EPSG:4326")));var i=v.getBbox(o,r,n);e.props.changeMapView(o,r,i,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),p(c(e),"zoomToInitialExtent",(function(){var t=e.props.mapInitialConfig,n=v.getBbox(t.center,t.zoom,e.props.mapConfig.size);e.props.changeMapView(t.center,t.zoom,n,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),e}return t=u,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(d.createElement(y,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:function(){return e.props.useInitialExtent?e.zoomToInitialExtent():e.zoomToMaxExtent()},className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?d.createElement(b,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?" ":null,this.props.text,this.props.help))}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(O,"propTypes",{id:f.string,image:f.string,glyphicon:f.string,text:f.string,btnSize:f.oneOf(["large","small","xsmall"]),mapConfig:f.object,mapInitialConfig:f.object,changeMapView:f.func,btnType:f.oneOf(["normal","image"]),help:f.oneOfType([f.string,f.element]),tooltip:f.element,tooltipPlace:f.string,className:f.string,useInitialExtent:f.bool,bsStyle:f.string,style:f.object}),p(O,"defaultProps",{id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"}),e.exports=O},"./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n("./node_modules/react/index.js"),d=n("./MapStore2/web/client/components/misc/Overlay.jsx"),m=n("./node_modules/react-bootstrap/es/index.js").Popover,y=n("./node_modules/lodash/lodash.js").omit,b=n("./node_modules/react-dom/index.js");e.exports=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(g,t);var n,r,u,p=c(g);function g(){return i(this,g),p.apply(this,arguments)}return n=g,(r=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,i=n.keyProp,s=a(n,["popoverOptions","keyProp"]);return f.createElement("span",{className:"mapstore-info-popover"},f.createElement(e,o({},y(s,["renderPopover","tooltipId"]),{key:i,ref:function(e){t=e}})),f.createElement(d,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return b.findDOMNode(t)}},f.createElement(m,r.props,r.content)))}}])&&s(n.prototype,r),u&&s(n,u),g}(f.Component)}},"./MapStore2/web/client/components/data/identify/DefaultViewer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),y=n("./MapStore2/web/client/utils/MapInfoUtils.js"),b=n("./MapStore2/web/client/components/I18N/HTML.jsx"),g=n("./MapStore2/web/client/components/I18N/Message.jsx"),h=n("./node_modules/react-bootstrap/es/index.js"),v=h.Alert,S=h.Panel,O=h.Accordion,w=n("./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx"),E=n("./node_modules/lodash/lodash.js").isEqual,j=n("./MapStore2/web/client/utils/IdentifyUtils.js").getFormatForResponse,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(u(e=c.call.apply(c,[this].concat(n))),"renderEmptyLayers",(function(t){var n=t.getValidResponses(e.props.responses).length,r=t.getNoValidResponses(e.props.responses);if(0===e.props.missingResponses&&0===n)return null;if(0!==r.length){var o=r.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI?d.createElement(v,{bsStyle:"info"},d.createElement(g,{msgId:"noInfoForLayers"}),d.createElement("b",null,o.join(", "))):null}return null})),f(u(e),"renderPage",(function(t){var n=e.props.viewers[e.props.format];return n?d.createElement(n,{response:t}):null})),f(u(e),"renderPages",(function(t){return 0===e.props.missingResponses&&0===t.length?d.createElement(v,{bsStyle:"danger"},d.createElement("h4",null,d.createElement(b,{msgId:"noFeatureInfo"}))):t.map((function(n,r){var a,i=n.response,s=n.layerMetadata,l=j(n,e.props),c=e.props.header;return s.viewer&&s.viewer.type&&(a=y.getViewer(s.viewer.type)),d.createElement(S,{eventKey:r,key:r,collapsible:e.props.collapsible,header:c?d.createElement("span",null,d.createElement(c,o({size:t.length},e.props.headerOptions,s,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},d.createElement(w,{response:i,format:l,viewers:a||e.props.viewers,layer:s}))}))})),f(u(e),"renderAdditionalInfo",(function(){var t=e.props.validator(e.props.format);return t?e.renderEmptyLayers(t):null})),e}return t=p,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){E(e.responses,this.props.responses)||this.props.setIndex(0)}},{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,n=this.props.validator(this.props.format).getValidResponses(this.props.responses);return d.createElement("div",{className:"mapstore-identify-viewer"},d.createElement(t,o({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",className:"swipeable-view"}),this.renderPages(n)),this.renderAdditionalInfo())}}])&&i(t.prototype,n),r&&i(t,r),p}(d.Component);f(T,"propTypes",{format:m.string,collapsible:m.bool,requests:m.array,responses:m.array,missingResponses:m.number,container:m.oneOfType([m.object,m.func]),header:m.oneOfType([m.object,m.func]),headerOptions:m.object,validator:m.func,viewers:m.object,style:m.object,containerProps:m.object,index:m.number,onNext:m.func,onPrevious:m.func,onUpdateIndex:m.func,setIndex:m.func,showEmptyMessageGFI:m.bool}),f(T,"defaultProps",{format:y.getDefaultInfoFormatValue(),responses:[],missingResponses:0,collapsible:!1,headerOptions:{},container:O,validator:y.getValidator,viewers:y.getViewers(),style:{position:"relative",marginBottom:0},containerProps:{},index:0,showEmptyMessageGFI:!0,onNext:function(){},onPrevious:function(){},setIndex:function(){}}),e.exports=T},"./MapStore2/web/client/components/data/identify/GeocodeViewer.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),a=n("./MapStore2/web/client/components/misc/Portal.jsx"),i=n("./MapStore2/web/client/components/I18N/Message.jsx"),s=n("./node_modules/react-bootstrap/es/index.js").Glyphicon;e.exports=function(e){var t=e.latlng,n=e.enableRevGeocode,l=e.hideRevGeocode,c=void 0===l?function(){}:l,u=e.showModalReverse,p=e.revGeocodeDisplayName;return n&&t?r.createElement(a,null,r.createElement(o,{fade:!0,title:r.createElement("span",null,r.createElement(s,{glyph:"map-marker"})," ",r.createElement(i,{msgId:"identifyRevGeocodeModalTitle"})),size:"xs",show:u,onClose:c,buttons:[{text:r.createElement(i,{msgId:"close"}),onClick:c,bsStyle:"primary"}]},r.createElement("div",{className:"ms-alert",style:{padding:15}},r.createElement("div",{className:"ms-alert-center text-center"},r.createElement("div",null,p))))):null}},"./MapStore2/web/client/components/data/identify/IdentifyContainer.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./node_modules/react/index.js"),l=n("./node_modules/react-bootstrap/es/index.js"),c=l.Row,u=l.Col,p=n("./node_modules/lodash/lodash.js").get,f=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),d=n("./MapStore2/web/client/components/I18N/Message.jsx"),m=n("./MapStore2/web/client/components/misc/panels/DockablePanel.jsx"),y=n("./MapStore2/web/client/components/data/identify/GeocodeViewer.jsx"),b=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),g=n("./MapStore2/web/client/components/misc/Portal.jsx"),h=n("./MapStore2/web/client/components/data/identify/coordinates/Coordinate.jsx"),v=n("./MapStore2/web/client/utils/IdentifyUtils.js").responseValidForEdit;e.exports=function(e){var t=e.enabled,n=e.requests,o=void 0===n?[]:n,i=e.onClose,l=e.responses,S=void 0===l?[]:l,O=e.index,w=e.viewerOptions,E=void 0===w?{}:w,j=e.format,T=e.dock,A=void 0===T||T,x=e.position,_=e.size,P=e.fluid,M=e.validResponses,C=void 0===M?[]:M,L=e.viewer,R=void 0===L?function(){return null}:L,I=e.getToolButtons,D=void 0===I?function(){return[]}:I,k=e.getNavigationButtons,N=void 0===k?function(){return[]}:k,F=e.showFullscreen,G=e.reverseGeocodeData,U=void 0===G?{}:G,B=e.point,z=e.dockStyle,H=void 0===z?{}:z,V=e.draggable,W=e.setIndex,Y=e.warning,q=e.clearWarning,Z=e.zIndex,K=e.showEmptyMessageGFI,Q=e.showEdit,X=e.isEditingAllowed,J=e.onEdit,$=void 0===J?function(){}:J,ee=e.enabledCoordEditorButton,te=e.showCoordinateEditor,ne=e.onSubmitClickPoint,re=e.onChangeFormat,oe=e.formatCoord,ae=B&&B.latlng||null,ie=C[O],se=(ie||{}).layer,le=null;ae&&(le=ae&&Math.round(1e17*ae.lng)/1e17,le-=360*Math.floor(le/360+.5));var ce=R,ue=D(a(a({},e),{},{lngCorrected:le,validResponses:C,latlng:ae,showEdit:Q&&X&&!!ie&&v(ie),onEdit:$.bind(null,se&&{id:se.id,name:se.name,url:p(se,"search.url")})})),pe=o.length-S.length,fe=U.error?s.createElement(d,{msgId:"identifyRevGeocodeError"}):U.display_name;return s.createElement("div",{id:"identify-container",className:t&&0!==o.length?"identify-active":""},s.createElement(m,{bsStyle:"primary",glyph:"map-marker",title:E.header?s.createElement(d,{msgId:"identifyTitle"}):C[O]&&C[O].layerMetadata&&C[O].layerMetadata.title||"",open:t&&0!==o.length,size:_,fluid:P,position:x,draggable:V,onClose:i,dock:A,style:H,showFullscreen:F,zIndex:Z,header:[s.createElement(h,{key:"coordinate-editor",formatCoord:oe,enabledCoordEditorButton:ee,onSubmit:ne,onChangeFormat:re,edit:te,coordinate:{lat:ae&&ae.lat,lon:le}}),s.createElement(y,r({latlng:ae,revGeocodeDisplayName:fe},e)),s.createElement(c,{key:"button-row",className:"text-center",style:{position:"relative"}},s.createElement(u,{key:"tools",xs:12},s.createElement(f,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:ue,transitionProps:null})),s.createElement("div",{key:"navigation",style:{zIndex:1,position:"absolute",right:0,top:0,margin:"0 10px"}},s.createElement(f,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:N(e),transitionProps:null})))].filter((function(e){return e}))},s.createElement(ce,r({index:O,setIndex:W,format:j,missingResponses:pe,responses:S,showEmptyMessageGFI:K},E))),s.createElement(g,null,s.createElement(b,{fade:!0,title:s.createElement(d,{msgId:"warning"}),size:"xs",show:Y,onClose:q,buttons:[{text:s.createElement(d,{msgId:"close"}),onClick:q,bsStyle:"primary"}]},s.createElement("div",{className:"ms-alert",style:{padding:15}},s.createElement("div",{className:"ms-alert-center text-center"},s.createElement(d,{msgId:"identifyNoQueryableLayers"}))))))}},"./MapStore2/web/client/components/data/identify/SwipeHeader.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.Glyphicon,b=m.Button,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"renderLeftButton",(function(){var t=0===e.props.index;return e.props.useButtons?d.createElement(b,{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onPrevious()}},d.createElement(y,{glyph:"back"})):d.createElement("a",{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onPrevious()}},d.createElement(y,{glyph:"back"}))})),p(c(e),"renderRightButton",(function(){var t=e.props.index===e.props.size-1;return e.props.useButtons?d.createElement(b,{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onNext()}},d.createElement(y,{glyph:"next"})):d.createElement("a",{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onNext()}},d.createElement(y,{glyph:"next"}))})),e}return t=u,(n=[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return d.createElement("div",{className:"ms-identify-swipe-header"},this.props.size>1&&d.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderLeftButton()),d.createElement("div",{className:"ms-identify-swipe-header-title"},this.props.title),this.props.size>1&&d.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderRightButton()))}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(g,"propTypes",{title:f.string,index:f.number,size:f.number,container:f.oneOfType([f.object,f.func]),useButtons:f.bool,onPrevious:f.func,onNext:f.func,btnClassName:f.string}),p(g,"defaultProps",{useButtons:!0}),e.exports=g},"./MapStore2/web/client/components/data/identify/coordinates/Coordinate.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./MapStore2/web/client/components/data/identify/coordinates/Editor.jsx"),a=n("./MapStore2/web/client/components/data/identify/coordinates/Viewer.jsx");e.exports=function(e){var t=e.coordinate,n=void 0===t?{}:t,i=e.formatCoord,s=e.edit,l=e.onSubmit,c=void 0===l?function(){}:l,u=e.onChangeFormat,p=void 0===u?function(){}:u;return s?r.createElement(o,{removeVisible:!1,formatCoord:i,coordinate:n||{lat:"",lon:""},onSubmit:c,onChangeFormat:p}):r.createElement(a,{className:"text-center",formatCoord:i,coordinate:n||{lat:"",lon:""}})}},"./MapStore2/web/client/components/data/identify/coordinates/Editor.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx"),a=n("./node_modules/lodash/lodash.js").isEmpty;e.exports=function(e){return r.createElement(o,{format:e.formatCoord||"decimal",aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},idx:1,onSubmit:function(t,n){e.onSubmit(a(n)?void 0:n)},onChangeFormat:function(t){e.onChangeFormat(t)},key:"GFI row coord editor",component:e.coordinate||{},customClassName:"coord-editor",isDraggable:!1,showDraggable:!1,formatVisible:!0,showLabels:!0,removeVisible:!1})}},"./MapStore2/web/client/components/data/identify/coordinates/Viewer.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-bootstrap/es/index.js"),a=o.Row,i=o.Col,s=n("./node_modules/lodash/lodash.js").isNil,l=n("./MapStore2/web/client/components/I18N/Number.jsx"),c=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js")((function(e){var t=e.degrees,n=void 0===t?0:t,o=e.minutes,a=void 0===o?0:o,i=e.seconds,s=void 0===i?0:i,c=e.direction,u=e.integerFormat,p=e.decimalFormat;return r.createElement("span",{className:"coordinate-dms"},r.createElement(l,{key:"latD",numberParams:u,value:n}),r.createElement("span",null,"° "),r.createElement(l,{key:"latM",numberParams:u,value:a}),r.createElement("span",null,"' "),r.createElement(l,{key:"latS",numberParams:p,value:s}),r.createElement("span",null,"'' ")," ",r.createElement("span",null,c))}));e.exports=function(e){var t=e.integerFormat,n=void 0===t?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0}:t,o=e.decimalFormat,u=void 0===o?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:4,minimumFractionDigits:4}:o,p=e.coordinate,f=void 0===p?{}:p,d=e.formatCoord,m=void 0===d?"decimal":d,y=e.className;return r.createElement(a,{className:y},r.createElement(i,{xs:12},s(f.lat)||s(f.lon)?null:"decimal"===m?r.createElement("div",{className:"ms-coordinates-decimal"},"Lat: ",r.createElement(l,{value:Math.round(1e5*f.lat)/1e5})," - Long: ",r.createElement(l,{value:f.lon})):r.createElement("div",{className:"ms-coordinates-aeronautical"},r.createElement("span",null,"Lat: ",r.createElement(c,{integerFormat:n,decimalFormat:u,value:f.lat})),r.createElement("span",null," - "),r.createElement("span",null," Long: ",r.createElement(c,{coordinate:"lon",integerFormat:n,decimalFormat:u,value:f.lon})))))}},"./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.withHandlers,a=r.defaultProps,i=n("./MapStore2/web/client/utils/MapInfoUtils.js"),s=o({onNext:function(e){var t=e.index,n=void 0===t?0:t,r=e.setIndex,o=void 0===r?function(){}:r,a=e.validResponses,i=void 0===a?[]:a;return function(){o(Math.min(i.length-1,n+1))}},onPrevious:function(e){var t=e.index,n=e.setIndex,r=void 0===n?function(){}:n;return function(){r(Math.max(0,t-1))}}}),l=a({format:i.getDefaultInfoFormatValue(),validator:i.getValidator});e.exports={defaultViewerHandlers:s,defaultViewerDefaultProps:l}},"./MapStore2/web/client/components/data/identify/enhancers/identify.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.lifecycle,a=r.withHandlers,i=r.compose,s=n("./MapStore2/web/client/utils/ImmutableUtils.js").set,l=n("./node_modules/lodash/lodash.js"),c=l.isEqual,u=l.isNil,p=l.isNaN,f=i(a({needsRefresh:function(){return function(e,t){if(t.enabled&&t.point&&t.point.pixel){if(!e.point||!e.point.pixel||e.point.pixel.x!==t.point.pixel.x||e.point.latlng!==t.point.latlng||e.point.pixel.y!==t.point.pixel.y)return!0;if(!e.point||!e.point.pixel||t.point.pixel&&e.format!==t.format)return!0}return!1}},onClose:function(e){var t=e.purgeResults,n=void 0===t?function(){}:t,r=e.closeIdentify,o=void 0===r?function(){}:r;return function(){n(),o()}},onSubmitClickPoint:function(e){var t=e.onSubmitClickPoint,n=void 0===t?function(){}:t,r=e.point;return function(e){var t=u(e.lat)||p(e.lat)?0:parseFloat(e.lat),o=u(e.lon)||p(e.lon)?0:parseFloat(e.lon),a=s("latlng.lng",o,s("latlng.lat",t,r));n(a)}},onChangeFormat:function(e){var t=e.onChangeFormat,n=void 0===t?function(){}:t;return function(e){n(e)}}}),o({componentDidMount:function(){var e=this.props,t=e.enabled,n=e.changeMousePointer,r=void 0===n?function(){}:n,o=e.disableCenterToMarker,a=e.onEnableCenterToMarker,i=void 0===a?function(){}:a;t&&r("pointer"),o||i()},componentWillUnmount:function(){var e=this.props,t=e.hideMarker,n=void 0===t?function(){}:t,r=e.purgeResults,o=void 0===r?function(){}:r,a=e.changeMousePointer;(void 0===a?function(){}:a)("auto"),n(),o()},componentWillReceiveProps:function(e){var t=this.props,n=t.hideMarker,r=void 0===n?function(){}:n,o=t.purgeResults,a=void 0===o?function(){}:o,i=t.changeMousePointer,s=void 0===i?function(){}:i,l=t.setIndex,u=t.enabled,p=t.responses;e.enabled&&!u?s("pointer"):!e.enabled&&u&&(s("auto"),r(),a()),l&&!c(e.responses,p)&&l(0)}}));e.exports={identifyLifecycle:f}},"./MapStore2/web/client/components/data/identify/enhancers/zoomToFeatureHandler.js":function(e,t,n){var r=n("./node_modules/@turf/bbox/index.js"),o=n("./node_modules/recompose/es/Recompose.js").withHandlers;e.exports=o({zoomToFeature:function(e){var t=e.zoomToExtent,n=void 0===t?function(){}:t,o=e.currentFeature,a=void 0===o?[]:o,i=e.currentFeatureCrs;return function(){var e=a.filter((function(e){return!!e.geometry}));if(e.length>0){var t=r({type:"FeatureCollection",features:e});t&&n(t,i)}}}})},"./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx":function(e,t,n){var r,o;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js");e.exports=(o=r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,r,o=c(a);function a(){var e;i(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"onTouchStart",(function(t){var n=t.touches[0];e.startX=n.pageX,e.startY=n.pageY,e.setState({scrolling:!1})})),d(p(e),"onTouchMove",(function(t){var n=t.touches[0],r=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-n.pageY)>Math.abs(e.startX-n.pageX))t.stopPropagation();else{var o=e.startX<n.pageX?"left":"right";(r&&"left"===o&&r.clientWidth<r.scrollWidth&&0!==r.scrollLeft||r&&"right"===o&&r.clientWidth+r.scrollLeft!==r.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),d(p(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),d(p(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?y.createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=a,(n=[{key:"render",value:function(){return y.createElement("div",{style:{width:"100%",height:"100%"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&s(t.prototype,n),r&&s(t,r),a}(y.Component),d(r,"propTypes",{format:m.string,viewers:m.oneOfType([m.func,m.object]),response:m.oneOfType([m.string,m.object,m.node]),layer:m.object}),o)},"./MapStore2/web/client/components/help/HelpBadge.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js").Badge,y=n("./node_modules/lodash/lodash.js").isString,b=n("./MapStore2/web/client/utils/LocaleUtils.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"onMouseOver",(function(){var t=y(e.props.helpText)?e.props.helpText:b.getMessageById(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=u,(n=[{key:"render",value:function(){return d.createElement(m,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(g,"propTypes",{id:f.string,helpText:f.oneOfType([f.string,f.element]),isVisible:f.bool,changeHelpText:f.func,changeHelpwinVisibility:f.func,className:f.string}),p(g,"contextTypes",{messages:f.object}),p(g,"defaultProps",{helpText:"",isVisible:!1}),e.exports=g},"./MapStore2/web/client/components/help/HelpWrapper.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./node_modules/prop-types/index.js"),p=n("./node_modules/react/index.js"),f=n("./MapStore2/web/client/components/help/HelpBadge.jsx");n("./MapStore2/web/client/components/help/help.css");var d,m,y,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return p.createElement("div",{id:this.props.id},p.createElement(f,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}])&&a(t.prototype,n),r&&a(t,r),c}(p.Component);d=b,m="propTypes",y={id:u.string,helpText:u.oneOfType([u.string,u.element]),helpEnabled:u.bool,changeHelpText:u.func,changeHelpwinVisibility:u.func},m in d?Object.defineProperty(d,m,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[m]=y,e.exports=b},"./MapStore2/web/client/components/help/help.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/layout/BorderLayout.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react/index.js");e.exports=function(e){var t=e.id,n=e.children,r=e.header,a=e.footer,s=e.columns,l=e.height,c=e.style,u=void 0===c?{}:c,p=e.className,f=e.bodyClassName,d=void 0===f?"ms2-border-layout-body":f;return i.createElement("div",{id:t,className:p,style:o({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},u)},r,i.createElement("div",{className:d,style:{display:"flex",flex:1,overflowY:"auto"}},i.createElement("main",{className:"ms2-border-layout-content",style:{flex:1}},l?i.createElement("div",{style:{height:l}},n):n),l?i.createElement("div",{style:{height:l}},s):s),a)}},"./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$":function(e,t,n){var r={"./cesium/plugins/index":"./MapStore2/web/client/components/map/cesium/plugins/index.js","./leaflet/plugins/index":"./MapStore2/web/client/components/map/leaflet/plugins/index.js","./openlayers/plugins/index":"./MapStore2/web/client/components/map/openlayers/plugins/index.js"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$"},"./MapStore2/web/client/components/map/cesium/Layer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),y=n("./MapStore2/web/client/utils/cesium/Layers.js"),b=n("./node_modules/object-assign/index.js"),g=n("./node_modules/prop-types/index.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"updateZIndex",(function(t){var n=t||e.props.position,r=e.props.map.imageryLayers._layers.reduce((function(t,n,r){return e.provider===n?r:t}),-1),o=e.props.map.imageryLayers._layers.reduce((function(e,t,r){return-1===e&&n<t._position?r:e}),-1);-1===o&&(o=r);var a=o-r;0!==a&&Array.apply(null,{length:Math.abs(a)}).map(Number.call,Number).forEach((function(){e.props.map.imageryLayers[a>0?"raise":"lower"](e.provider)}))})),d(p(e),"setLayerVisibility",(function(t,n){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?(e.addLayer(n),e.updateZIndex()):e.removeLayer())})),d(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.provider&&(e.provider.alpha=t)})),d(p(e),"createLayer",(function(t,n,r,o,a){if(t){var i=b({},n,r?{zIndex:r}:null,{securityToken:a});e.layer=y.createLayer(t,i,o),e.layer&&(e.layer.layerName=n.name,e.layer.layerId=n.id),null===e.layer&&e.props.onCreationError(n)}})),d(p(e),"updateLayer",(function(t,n){var r=y.updateLayer(t.type,e.layer,a(a({},t.options),{},{securityToken:t.securityToken}),a(a({},n.options),{},{securityToken:n.securityToken}),e.props.map);r&&(e.removeLayer(),e.layer=r,e.addLayer(t))})),d(p(e),"addLayerInternal",(function(t){t.options.useForElevation?e.props.map.terrainProvider=e.layer:(e.provider=e.props.map.imageryLayers.addImageryProvider(e.layer),e.provider._position=e.props.position,void 0!==t.options.opacity&&(e.provider.alpha=t.options.opacity))})),d(p(e),"addLayer",(function(t){if(e.layer&&!e.layer.detached&&(e.addLayerInternal(t),e.props.options.refresh&&e.layer.updateParams)){var n=0;e.refreshTimer=setInterval((function(){var r=e.layer.updateParams(b({},e.props.options.params,{_refreshCounter:n++}));e.removeLayer(),e.layer=r,e.addLayerInternal(t)}),e.props.options.refresh)}})),d(p(e),"removeLayer",(function(t){var n=t||e.provider;n&&e.props.map.imageryLayers.remove(n)})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.createLayer(this.props.type,this.props.options,this.props.position,this.props.map,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(this.props),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=e.options&&!1!==e.options.visibility;this.setLayerVisibility(n,e);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;if(this.setLayerOpacity(r),e.position!==this.props.position&&(this.updateZIndex(e.position),this.provider&&(this.provider._position=e.position)),this.props.options&&this.props.options.params&&this.layer.updateParams&&e.options.visibility&&Object.keys(this.props.options.params).reduce((function(n,r){return e.options.params[r]!==t.props.options.params[r]||n}),!1)){var o=this.provider,a=this.layer.updateParams(e.options.params);this.layer=a,this.addLayer(e),setTimeout((function(){t.removeLayer(o)}),1e3)}this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&!this.props.map.isDestroyed()&&(this.layer.detached?this.layer.remove():(this.layer.destroy&&this.layer.destroy(),this.props.map.imageryLayers.remove(this.provider)),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,n=t?m.Children.map(this.props.children,(function(n){return n?m.cloneElement(n,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return m.createElement(m.Fragment,null,n)}return y.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,n),r&&s(t,r),u}(m.Component);d(h,"propTypes",{map:g.object,type:g.string,options:g.object,onCreationError:g.func,position:g.number,securityToken:g.string}),e.exports=h},"./MapStore2/web/client/components/map/cesium/Map.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./MapStore2/web/client/libs/cesium.js"),m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/rxjs/Rx.js"),b=n("./node_modules/react/index.js"),g=n("./node_modules/react-dom/index.js"),h=n("./MapStore2/web/client/utils/ConfigUtils.js"),v=n("./MapStore2/web/client/utils/cesium/ClickUtils.js"),S=n("./MapStore2/web/client/utils/MapUtils.js"),O=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),w=n("./node_modules/object-assign/index.js"),E=n("./node_modules/lodash/lodash.js").throttle,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,c=l(p);function p(){var e;a(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(u(e=c.call.apply(c,[this].concat(n))),"state",{}),f(u(e),"onClick",(function(t,n){if(e.props.onClick&&null!==n.position){var r=t.camera.pickEllipsoid(n.position,t.scene.globe.ellipsoid),o=v.getMouseXYZ(t,n)||r&&d.Cartographic.fromCartesian(r);if(o){var a=180*o.latitude/Math.PI,i=180*o.longitude/Math.PI,s=(90-a)/180*e.props.standardHeight*(e.props.zoom+1),l=(180+i)/360*e.props.standardWidth*(e.props.zoom+1);e.props.onClick({pixel:{x:l,y:s},height:e.props.mapOptions&&e.props.mapOptions.terrainProvider?o.height:void 0,cartographic:o,latlng:{lat:a,lng:i},crs:"EPSG:4326"})}}})),f(u(e),"onMouseMove",(function(t){if(e.props.onMouseMove&&t.endPosition){var n=e.map.camera.pickEllipsoid(t.endPosition,e.map.scene.globe.ellipsoid),r=v.getMouseXYZ(e.map,t)||n&&d.Cartographic.fromCartesian(n);if(r){var o=Math.round(r.height);e.props.onMouseMove({y:180*r.latitude/Math.PI,x:180*r.longitude/Math.PI,z:o,crs:"EPSG:4326"})}}})),f(u(e),"getDocument",(function(){return e.props.document||document})),f(u(e),"getMapOptions",(function(e){var t={};if(e.terrainProvider){var n=e.terrainProvider,r=n.type,a=o(n,["type"]);switch(r){case"cesium":t.terrainProvider=new d.CesiumTerrainProvider(a);break;case"ellipsoid":t.terrainProvider=new d.EllipsoidTerrainProvider}}return w({},e,t)})),f(u(e),"getCenter",(function(){var t=e.map.camera.positionCartographic;return{longitude:180*t.longitude/Math.PI,latitude:180*t.latitude/Math.PI,height:t.height}})),f(u(e),"getZoomFromHeight",(function(t){return Math.log2(e.props.zoomToHeight/t)+1})),f(u(e),"getHeightFromZoom",(function(t){return e.props.zoomToHeight/Math.pow(2,t-1)})),f(u(e),"gestureStartListener",(function(e){e.preventDefault()})),f(u(e),"setMousePointer",(function(t){e.map&&(g.findDOMNode(u(e)).getElementsByClassName("cesium-viewer")[0].style.cursor=t||"auto")})),f(u(e),"_updateMapPositionFromNewProps",(function(t){var n=e.getCenter(),r=e.getZoomFromHeight(n.height),o=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)<=1e-12},a=!o(t.center.x,n.longitude)||!o(t.center.y,n.latitude),i=t.zoom!==r;if(a||i){var s={destination:d.Cartesian3.fromDegrees(t.center.x,t.center.y,e.getHeightFromZoom(t.zoom)),orientation:t.viewerOptions.orientation};e.setView(s)}})),f(u(e),"setView",(function(t){e.props.mapOptions&&e.props.mapOptions.flyTo?e.map.camera.flyTo(t,e.props.mapOptions.defaultFlightOptions):e.map.camera.setView(t)})),f(u(e),"subscribeClickEvent",(function(t){var n={LEFT_UP:d.ScreenSpaceEventType.LEFT_UP,LEFT_DOWN:d.ScreenSpaceEventType.LEFT_DOWN,LEFT_CLICK:d.ScreenSpaceEventType.LEFT_CLICK,PINCH_START:d.ScreenSpaceEventType.PINCH_START,PINCH_END:d.ScreenSpaceEventType.PINCH_END,PINCH_MOVE:d.ScreenSpaceEventType.PINCH_MOVE},r=new y.Subject,o=new y.Subject;Object.keys(n).forEach((function(t){return e.hand.setInputAction((function(e){o.next({type:n[t],movement:e}),r.next({type:n[t],movement:e})}),n[t])})),o.filter((function(e){return e.type===n.PINCH_END})).switchMap((function(){return y.Observable.of(!0).concat(y.Observable.of(!1).delay(500))})).startWith(!1).switchMap((function(e){return e?y.Observable.never():r})).filter((function(e){return e.type===n.LEFT_DOWN})).switchMap((function(e){var t=e.movement;return r.filter((function(e){return e.type===n.LEFT_CLICK})).takeUntil(y.Observable.timer(500).merge(r.filter((function(e){return e.type!==n.LEFT_UP&&e.type!==n.LEFT_CLICK||e.type===n.LEFT_UP&&(r=t&&t.position,o=e.movement&&e.movement.position,!(r&&o&&r.x===o.x&&r.y===o.y));var r,o}))))})).subscribe((function(n){var r=n.movement;return e.onClick(t,r)})),e.clickStream$=r,e.pauserStream$=o})),f(u(e),"registerHooks",(function(){e.props.hookRegister.registerHook(S.ZOOM_TO_EXTENT_HOOK,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.crs,o=n.duration,a=O.reprojectBbox(t,r,"EPSG:4326");if(e.map.camera.flyTo){var i=d.Rectangle.fromDegrees(a[0],a[1],a[2],a[3]);e.map.camera.flyTo({destination:i,duration:o,complete:e.updateMapInfoState})}}))})),f(u(e),"updateMapInfoState",(function(){var t=e.getCenter(),n=e.getZoomFromHeight(t.height),r={height:Math.round(e.props.standardWidth*(n+1)),width:Math.round(e.props.standardHeight*(n+1))};e.props.onMapViewChanges({x:t.longitude,y:t.latitude,crs:"EPSG:4326"},n,{bounds:{minx:-180,miny:-90,maxx:180,maxy:90},crs:"EPSG:4326",rotation:0},r,e.props.id,e.props.projection,{orientation:{heading:e.map.camera.heading,pitch:e.map.camera.pitch,roll:e.map.camera.roll}})})),e}return t=p,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.getDocument().addEventListener("gesturestart",this.gestureStartListener)}},{key:"componentDidMount",value:function(){var e=new d.Viewer(this.getDocument().getElementById(this.props.id),w({baseLayerPicker:!1,animation:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1},this.getMapOptions(this.props.mapOptions)));e.scene.globe.baseColor=d.Color.WHITE,e.imageryLayers.removeAll(),e.camera.moveEnd.addEventListener(this.updateMapInfoState),this.hand=new d.ScreenSpaceEventHandler(e.scene.canvas),this.subscribeClickEvent(e),this.hand.setInputAction(E(this.onMouseMove.bind(this),500),d.ScreenSpaceEventType.MOUSE_MOVE),e.camera.setView({destination:d.Cartesian3.fromDegrees(this.props.center.x,this.props.center.y,this.getHeightFromZoom(this.props.zoom))}),this.setMousePointer(this.props.mousePointer),this.map=e,this.forceUpdate(),this.props.mapOptions.navigationTools&&(this.cesiumNavigation=window.CesiumNavigation,this.cesiumNavigation&&this.cesiumNavigation.navigationInitialization(this.props.id,e)),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),!1}},{key:"componentWillUnmount",value:function(){this.clickStream$.complete(),this.pauserStream$.complete(),this.hand.destroy(),this.getDocument().removeEventListener("gesturestart",this.gestureStartListener),this.map.destroy()}},{key:"render",value:function(){var e=this,t=this.map,n=this.props.projection,r=t?b.Children.map(this.props.children,(function(r){return r?b.cloneElement(r,{map:t,projection:n,onCreationError:e.props.onCreationError}):null})):null;return b.createElement("div",{id:this.props.id},r)}}])&&i(t.prototype,n),r&&i(t,r),p}(b.Component);f(j,"propTypes",{id:m.string,document:m.object,center:h.PropTypes.center,zoom:m.number.isRequired,mapStateSource:h.PropTypes.mapStateSource,projection:m.string,onMapViewChanges:m.func,onCreationError:m.func,onClick:m.func,onMouseMove:m.func,mapOptions:m.object,standardWidth:m.number,standardHeight:m.number,mousePointer:m.string,zoomToHeight:m.number,registerHooks:m.bool,hookRegister:m.object,viewerOptions:m.object}),f(j,"defaultProps",{id:"map",onMapViewChanges:function(){},onClick:function(){},onCreationError:function(){},projection:"EPSG:3857",mapOptions:{},standardWidth:512,standardHeight:512,zoomToHeight:8e7,registerHooks:!0,hookRegister:S,viewerOptions:{orientation:{heading:0,pitch:-1*Math.PI/2,roll:0}}}),e.exports=j},"./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js");r.registerType("bing",(function(e){var t=e.apiKey;return new o.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:t,mapStyle:o.BingMapsStyle[e.name.toUpperCase()]})}))},"./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js"),a=n("./node_modules/object-assign/index.js"),i=function(){var e=[o.Math.toRadians(.05),o.Math.toRadians(.1),o.Math.toRadians(.2),o.Math.toRadians(.5),o.Math.toRadians(1),o.Math.toRadians(2),o.Math.toRadians(5),o.Math.toRadians(10)];function t(e,t){var n=e||{};this._tilingScheme=n.tilingScheme||new o.GeographicTilingScheme,this._color=n.color&&new o.Color(n.color[0],n.color[1],n.color[2],n.color[3])||new o.Color(1,1,1,.4),this._tileWidth=n.tileWidth||256,this._tileHeight=n.tileHeight||256,this._ready=!0,this._sexagesimal=n.sexagesimal||!1,this._numLines=n.numLines||50,this._scene=t,this._labels=new o.LabelCollection,t.primitives.add(this._labels),this._polylines=new o.PolylineCollection,t.primitives.add(this._polylines),this._ellipsoid=t.globe.ellipsoid;var r=document.createElement("canvas");r.width=256,r.height=256,this._canvas=r}var n=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),r=Object.defineProperties;function a(e){return e<.01?3:e<.1?2:e<1?1:0}return n&&r||(r=function(e){return e}),r(t.prototype,{url:{get:function(){}},proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return 18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),t.prototype.makeLabel=function(e,t,n,r){this._labels.add({position:this._ellipsoid.cartographicToCartesian(new o.Cartographic(e,t,10)),text:n,font:"normal",fillColor:this._color,outlineColor:this._color,style:o.LabelStyle.FILL,pixelOffset:new o.Cartesian2(5,r?5:-5),eyeOffset:o.Cartesian3.ZERO,horizontalOrigin:o.HorizontalOrigin.LEFT,verticalOrigin:r?o.VerticalOrigin.BOTTOM:o.VerticalOrigin.TOP,scale:1})},t.prototype._drawGrid=function(t){if(!this._currentExtent||!this._currentExtent.equals(t)){this._currentExtent=t,this._polylines.removeAll(),this._labels.removeAll();for(var n=0,r=0,i=0;i<e.length&&n<(t.north-t.south)/10;i++)n=e[i];for(var s=0;s<e.length&&r<(t.east-t.west)/10;s++)r=e[s];var l=(t.west<0?Math.ceil(t.west/r):Math.floor(t.west/r))*r,c=(t.south<0?Math.ceil(t.south/n):Math.floor(t.south/n))*n,u=(t.east<0?Math.ceil(t.east/n):Math.floor(t.east/n))*n,p=(t.north<0?Math.ceil(t.north/r):Math.floor(t.north/r))*r;l=Math.max(l-2*r,-Math.PI),u=Math.min(u+2*r,Math.PI),c=Math.max(c-2*n,-Math.PI/2),p=Math.min(p+2*r,Math.PI/2);for(var f=this._ellipsoid,d=o.Math.toRadians(1),m=c+Math.floor((p-c)/n/2)*n,y=l;y<u;y+=r){for(var b=[],g=c;g<p;g+=d)b.push(new o.Cartographic(y,g));b.push(new o.Cartographic(y,p)),this._polylines.add({positions:f.cartographicArrayToCartesianArray(b),width:.75,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var h=o.Math.toDegrees(y);this.makeLabel(y,m,this._sexagesimal?this._decToSex(h):h.toFixed(a(r)),!1)}for(var v=l+Math.floor((u-l)/r/2)*r,S=c;S<p;S+=n){for(var O=[],w=l;w<u;w+=d)O.push(new o.Cartographic(w,S));O.push(new o.Cartographic(u,S)),this._polylines.add({positions:f.cartographicArrayToCartesianArray(O),width:1,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var E=o.Math.toDegrees(S);this.makeLabel(v,S,this._sexagesimal?this._decToSex(E):E.toFixed(a(n)),!0)}}},t.prototype.requestImage=function(){return this._show&&this._drawGrid(this._getExtentView()),this._canvas},t.prototype.setVisible=function(e){this._show=e,e?(this._currentExtent=null,this._drawGrid(this._getExtentView())):(this._polylines.removeAll(),this._labels.removeAll())},t.prototype.isVisible=function(){return this._show},t.prototype._decToSex=function(t){var n=Math.floor(t),r=(60*(Math.abs(t)-n)).toFixed(2);return"60.00"===r&&(n+=1,e="0.00"),[n,":",r].join("")},t.prototype._getExtentView=function(){for(var e=this._scene.camera,t=this._scene.canvas,n=[e.pickEllipsoid(new o.Cartesian2(0,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(0,t.height),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,t.height),this._ellipsoid)],r=0;r<4;r++)if(void 0===n[r])return o.Rectangle.MAX_VALUE;return o.Rectangle.fromCartographicArray(this._ellipsoid.cartesianArrayToCartographicArray(n))},t.prototype.destroy=function(){this._show=!1,this._polylines&&this._scene.primitives.remove(this._polylines),this._labels&&this._scene.primitives.remove(this._labels)},t}();r.registerType("graticule",{create:function(e,t){var n=t.scene,r=new i(a({tileWidth:512,tileHeight:512,numLines:10},e||{}),n);return e.visibility&&r.setVisible(!0),r}})},"./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js"),a=n("./node_modules/lodash/lodash.js").isEqual,i=n("./node_modules/object-assign/index.js");r.registerType("marker",{create:function(e,t){var n=i({},{point:{pixelSize:5,color:o.Color.RED,outlineColor:o.Color.WHITE,outlineWidth:2}},e.style),r=t.entities.add(i({position:o.Cartesian3.fromDegrees(e.point.lng,e.point.lat)},n));return{detached:!0,point:r,remove:function(){t.entities.remove(r)}}},update:function(e,t,n,r){return a(t.point,n.point)?null:(e.remove(),this.create(t,r))}})},"./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js");r.registerType("osm",(function(){return o.createOpenStreetMapImageryProvider({url:"//a.tile.openstreetmap.org/"})}))},"./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js"),a=n("./node_modules/eventlistener/eventlistener.js"),i=function(){function e(e){this._scene=e.scene;var t=document.createElement("div");t.className="infoWindow",this._div=t;var n=document.createElement("div");n.className="frame",this._div.appendChild(n);var r=document.createElement("div");r.className="content",n.appendChild(r),e.container.appendChild(t),this._content=r,this.setVisible(!0)}return e.prototype.setVisible=function(e){this._visible=e,this._div.style.display=e?"block":"none"},e.prototype.setContent=function(e){if("string"==typeof e)this._content.innerHTML=e;else{for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._content.appendChild(e)}},e.prototype.setPosition=function(e,t){this._position=this._scene.globe.ellipsoid.cartographicToCartesian(o.Cartographic.fromDegrees(t,e,0))},e.prototype.showAt=function(e,t,n){this.setPosition(e,t),this.setContent(n),this.setVisible(!0)},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.computeVisible=function(){var e=6356752.314245179,t=this._scene.camera.position,n=t.x/6378137,r=t.y/6378137,o=t.z/e,a=n*n+r*r+o*o-1,i=this._position,s=i.x/6378137-n,l=i.y/6378137-r,c=i.z/e-o,u=-(s*n+l*r+c*o);u>a&&u*u/(s*s+l*l+c*c)>a?this.setVisible(!1):this.setVisible(!0)},e.prototype.update=function(){if(this.computeVisible(),this._visible&&this._position){var e=o.SceneTransforms.wgs84ToWindowCoordinates(this._scene,this._position);if(e){var t=Math.floor(e.x)-this._div.clientWidth/2+"px",n=Math.floor(e.y)-this._div.clientHeight+"px";this._div.tabIndex=5,this._div.style.left=t,this._div.style.top=n}}},e.prototype.destroy=function(){this._div.parentNode.removeChild(this._div)},e}();r.registerType("overlay",{create:function(e,t){var n=function(e,t){var n=e.cloneNode(!0);n.id=t.id+"-overlay",n.className=(t.className||e.className)+"-overlay",n.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var n=0;n<t.length;n++){var r=t.item(n);r.removeAttribute("data-reactid"),e(r.children||[])}}(n.children||[]);var r=t.closeClass||"close";if(t.onClose&&1===n.getElementsByClassName(r).length){var o=n.getElementsByClassName(r)[0];a.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}return n}(document.getElementById(e.id),e),r=new i(t);r.showAt(e.position.y,e.position.x,n),r.setVisible(!0);var o=t.scene.primitives.add(r);return{detached:!0,info:o,remove:function(){t.scene.primitives.remove(o)}}}})},"./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n.n(r),a=n("./MapStore2/web/client/libs/cesium.js"),i=n.n(a),s=n("./MapStore2/web/client/utils/TileConfigProvider.js"),l=n("./MapStore2/web/client/utils/ConfigUtils.js"),c=n.n(l),u=n("./MapStore2/web/client/utils/ProxyUtils.js"),p=n.n(u);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){this.proxy=e}function y(){}m.prototype.getURL=function(e){var t=function(e){var t=e,n="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),n=e.substring(e.indexOf("?")+1)),{url:t,queryString:n}}(e),n=t.url,r=t.queryString;return 0===n.indexOf("//")&&(n=location.protocol+n),p.a.getProxyUrl()+encodeURIComponent(n+r)},y.prototype.getURL=function(e){return e},o.a.registerType("tileprovider",(function(e){var t,n=f(s.a.getLayerConfig(e.provider,e),2),r=n[0],o=n[1],a=c.a.getProxyUrl({});a&&(t=o.noCors||p.a.needProxy(r));var l,u,d=o.credits,b=d?new i.a.Credit(d.text,d.imageUrl,d.link):o.attribution;return new i.a.UrlTemplateImageryProvider({url:(l=r,u=o,l.replace(/(?!(\{?[zyxs]?\}))\{*([\w_]+)*\}/g,(function(){var e=arguments[0],t=arguments[1]?arguments[1]:arguments[2],n=u[t];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(u)),n}))),enablePickFeatures:!1,subdomains:o.subdomains,maximumLevel:o.maxZoom,minimumLevel:o.minZoom,credit:b,proxy:t?new m(a):new y})}))},"./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./MapStore2/web/client/utils/cesium/Layers.js"),s=n("./MapStore2/web/client/libs/cesium.js"),l=n("./MapStore2/web/client/utils/cesium/BILTerrainProvider.js")(s),c=n("./MapStore2/web/client/utils/ConfigUtils.js"),u=n("./MapStore2/web/client/utils/ProxyUtils.js"),p=n("./node_modules/object-assign/index.js"),f=n("./node_modules/lodash/lodash.js").isArray,d=n("./MapStore2/web/client/utils/cesium/WMSUtils.js"),m=n("./MapStore2/web/client/utils/LayersUtils.js"),y=m.getAuthenticationParam,b=m.getURLs,g=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,h=n("./MapStore2/web/client/utils/SecurityUtils.js"),v=n("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;function S(e){var t=e,n="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),n=e.substring(e.indexOf("?")+1)),{url:t,queryString:n}}function O(e){this.proxy=e}function w(){}function E(e){return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}O.prototype.getURL=function(e){var t=S(e),n=t.url,r=t.queryString;return u.getProxyUrl()+encodeURIComponent(n+r)},w.prototype.getURL=function(e){var t=S(e);return t.url+t.queryString};var j=function e(t){var n;return t.useForElevation?new l(function(e){var t,n=c.getProxyUrl({}),r=e.url;return n&&(t=u.needProxy(e.url)&&n)&&(r=t+encodeURIComponent(r)),p({url:r,layerName:e.name})}(t)):((n=t.singleTile?new s.SingleTileImageryProvider(function(e){var t=void 0!==e.opacity?e.opacity:1,n=g(e),r=p({styles:e.style||"",format:(v(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:t,tiled:void 0===e.tiled||e.tiled,layers:e.name,width:e.size||2e3,height:e.size||2e3,bbox:"-180.0,-90,180.0,90",srs:"EPSG:4326"},n||{},y(e));return{url:(f(e.url)?e.url[Math.round(Math.random()*(e.url.length-1))]:e.url)+"?service=WMS&version=1.1.0&request=GetMap&"+E(h.addAuthenticationToSLD(r,e))}}(t)):new s.WebMapServiceImageryProvider(function(e){var t,n=void 0!==e.opacity?e.opacity:1,r=g(e),o=c.getProxyUrl({});o&&(t=u.needProxy(e.url)&&o);var a=e.credits,i=a?new s.Credit(a.text||a.title,a.imageUrl,a.link):e.attribution;return p({url:"{s}",credit:i,subdomains:b(f(e.url)?e.url:[e.url]),proxy:t&&new O(t)||new w,layers:e.name,enablePickFeatures:!1,parameters:p({styles:e.style||"",format:(v(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:n,tiled:void 0===e.tiled||e.tiled},p({},e._v_?{_v_:e._v_}:{},r||{},y(e)))})}(t))).updateParams=function(n){var r=p({},t,{params:p({},t.params||{},n)});return e(r)},n)};i.registerType("wms",{create:j,update:function(e,t,n){var r=t&&t.params,a=n&&n.params,i=o(o({},r),a);return Object.keys(o(o(o({},t),n),i)).filter((function(e){return d.PARAM_OPTIONS.indexOf(e.toLowerCase())>=0})).filter((function(e){return(void 0===n[e]?a&&a[e]:n[e])!==(void 0===t[e]?r&&r[e]:t[e])})).length>0||t.securityToken!==n.securityToken?j(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n.n(r),a=n("./MapStore2/web/client/utils/ConfigUtils.js"),i=n.n(a),s=n("./MapStore2/web/client/utils/ProxyUtils.js"),l=n.n(s),c=n("./MapStore2/web/client/utils/WMTSUtils.js"),u=n.n(c),p=n("./MapStore2/web/client/libs/cesium.js"),f=n.n(p),d=n("./MapStore2/web/client/utils/LayersUtils.js"),m=n("./node_modules/object-assign/index.js"),y=n.n(m),b=n("./node_modules/lodash/lodash.js"),g=n("./node_modules/url/url.js"),h=n.n(g),v=n("./MapStore2/web/client/utils/VectorTileUtils.js");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=e,n="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),n=e.substring(e.indexOf("?")+1)),{url:t,queryString:n}}function j(e){this.proxy=e}function T(){}j.prototype.getURL=function(e){var t=E(e),n=t.url,r=t.queryString;return l.a.getProxyUrl()+encodeURIComponent(n+r)},T.prototype.getURL=function(e){var t=E(e);return t.url+t.queryString};var A=function(e){return e.indexOf("EPSG:4326")>=0?new f.a.GeographicTilingScheme:e.indexOf("EPSG:3857")>=0?new f.a.WebMercatorTilingScheme:null},x=function(e,t){var n=u.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return{tileMatrixSet:n,matrixIds:function(e,t){return e.length>t?Object(b.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e}(e.matrixIds&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(Object(b.isObject)(e)&&e[t]||Object(b.isArray)(e)&&e||[]).map((function(e){return e.identifier}))}(e.matrixIds,n)||function(e){for(var t=new Array(30),n=0;n<30;++n)t[n]=e.tileMatrixPrefix+n;return t}(e))}};function _(e){var t="EPSG:4326",n=x(e,t),r=n.tileMatrixSet,o=n.matrixIds;if(0===o.length){var a=x(e,t="EPSG:3857");r=a.tileMatrixSet,o=a.matrixIds}var s,c=i.a.getProxyUrl({});c&&(s=l.a.needProxy(e.url)&&c);var u,p=(u=e.matrixIds&&e.matrixIds[r],function(e,t,n){return u&&u[n]&&!u[n].ranges||e<=parseInt(Object(b.get)(u[n],"ranges.cols.max"),10)&&e>=parseInt(Object(b.get)(u[n],"ranges.cols.min"),10)&&t<=parseInt(Object(b.get)(u[n],"ranges.rows.max"),10)&&t>=parseInt(Object(b.get)(u[n],"ranges.rows.min"),10)}),f=h.a.format({query:O({},Object(d.getAuthenticationParam)(e))});return y()({url:Object(b.head)(Object(d.getURLs)(Object(b.isArray)(e.url)?e.url:[e.url],f)),format:(Object(v.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",isValid:p,layer:e.name,style:e.style||"",tileMatrixLabels:o,tilingScheme:A(t,e.matrixIds[r]),proxy:s&&new j(s)||new T,enablePickFeatures:!1,tileWidth:e.tileWidth||e.tileSize||256,tileHeight:e.tileHeight||e.tileSize||256,tileMatrixSetID:r,maximumLevel:30,parameters:O({},Object(d.getAuthenticationParam)(e))})}var P=function e(t){var n,r=_(t),o=(n=new f.a.WebMapTileServiceImageryProvider(r)).requestImage;return n.requestImage=function(e,t,a){return r.isValid(e,t,a)?o.bind(n)(e,t,a):new Promise((function(){}))},n.updateParams=function(n){var r=y()({},t,{params:y()({},t.params||{},n)});return e(r)},n};o.a.registerType("wmts",{create:P,update:function(e,t,n){return t.securityToken!==n.securityToken||n.format!==t.format?P(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/index.js":function(e,t,n){e.exports={BingLayer:n("./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js"),OSMLayer:n("./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js"),TileProviderLayer:n("./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js"),WMSLayer:n("./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js"),WMTSLayer:n("./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js"),GraticuleLayer:n("./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js"),MarkerLayer:n("./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js"),OverlayLayer:n("./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js")}},"./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),b=n("./node_modules/lodash/lodash.js"),g=b.head,h=b.last,v=b.isNil,S=n("./MapStore2/web/client/libs/leaflet.js");n("./node_modules/leaflet-draw/dist/leaflet.draw.js"),S.Draw.Polygon.prototype._calculateFinishDistance=function(e){if(this._markers.length>0){var t=this._map.latLngToContainerPoint(this._markers[0].getLatLng()),n=this._map.latLngToContainerPoint(this._markers[this._markers.length-1].getLatLng()),r=new S.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(r.getLatLng());return Math.min(t.distanceTo(o),n.distanceTo(o))}return 1/0};var O=n("./MapStore2/web/client/utils/MapUtils.js"),w=O.isSimpleGeomType,E=O.getSimpleGeomType,j=n("./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js").boundsToOLExtent,T=n("./node_modules/object-assign/index.js"),A=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),x=n("./MapStore2/web/client/utils/leaflet/Vector.js").pointToLayer,_=Math.PI/180,P=function(e,t,n){if("EPSG:4326"===n)return{center:t,srs:n,radius:e};var r=e/40075017*360/Math.cos(_*t[1]),o=A.reproject(t,"EPSG:4326",n);if(r){var a=A.reproject([t[0]+r,t[1]],"EPSG:4326",n);return{center:o,srs:n,radius:Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2))}}return{center:o,srs:n,radius:e}},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326";if("EPSG:4326"===n||void 0===e)return{center:t,projection:n,radius:e};var r=A.reproject({x:t.lng,y:t.lat},n,"EPSG:4326");if(void 0===e)return{center:r,projection:n,radius:e};var o=A.reproject([t.lng+e,t.lat],n,"EPSG:4326"),a=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),i=a*Math.cos(_*r.y)*40075017/360;return{center:r,projection:"EPSG:4326",radius:i}},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"onDrawStart",(function(){e.drawing=!0})),d(p(e),"onDrawCreated",(function(t){e.drawing=!1;var n,r=t.layer,o=r.toGeoJSON();"marker"===t.layerType?n=S.latLngBounds(o.geometry.coordinates,o.geometry.coordinates):(r._map||(r._map=e.props.map,r._renderer=e.props.map.getRenderer(r),r._project()),n=r.getBounds());var a=j(n),i=n.getCenter();i=[i.lng,i.lat];var s=o.geometry.coordinates,l="EPSG:4326",c=o.geometry.type,u=r.getRadius?r.getRadius():0;if("circle"===t.layerType){o.projection="EPSG:4326",l="EPSG:3857",a=A.reprojectBbox(a,"EPSG:4326",l);var p=P(r._mRadius,i,l);i=p.center,u=p.radius,s=A.calculateCircleCoordinates(i,u,100),o.radius=r.getRadius?r.getRadius():0,i=[i.x,i.y],c="Polygon"}e.drawLayer.addData(o);var f={type:c,extent:a,center:i,coordinates:s,radius:u,projection:l};e.props.options&&e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner);var d=e.convertFeaturesToGeoJson(t.layer,e.props);e.props.onEndDrawing(f,e.props.drawOwner),e.props.onGeometryChanged([d],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"")})),d(p(e),"onUpdateGeom",(function(t,n){var r=e.convertFeaturesToGeoJson(t,n);n.onGeometryChanged([r],n.drawOwner)})),d(p(e),"addLayer",(function(t){e.clean();var n=S.geoJson(null,{pointToLayer:function(e,t){var n=M(e.radius,t,e.projection),r=n.center,o=n.radius;return S.circle(r,o||5)},style:function(e){return t.style&&t.style[e.geometry.type]||{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}});e.props.map.addLayer(n),t.features&&t.features.length>0&&n.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod)),e.drawLayer=n})),d(p(e),"addGeojsonLayer",(function(t){var n=t.features,r=t.projection,o=t.style;e.clean();var a=S.geoJson(n,{style:function(e){return e.style||o},pointToLayer:function(e,t){var n=A.reproject({x:t.lng,y:t.lat},r,"EPSG:4326");return x(S.latLng(n.y,n.x),e,o)}});e.drawLayer=a.addTo(e.props.map)})),d(p(e),"replaceFeatures",(function(t){e.drawLayer?(e.drawLayer.clearLayers(),"Circle"===e.props.drawMethod?(e.drawLayer.options.pointToLayer=function(e,t){var n=M(e.radius,t,e.projection),r=n.center,o=n.radius;return S.circle(r,o||5)},e.drawLayer.options.style={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}):e.drawLayer.options.pointToLayer=function(e,n){var r=A.reproject({x:n.lng,y:n.lat},t.options&&t.options.featureProjection||"EPSG:4326","EPSG:4326");return x(S.latLng(r.y,r.x),e,t.style)},e.drawLayer.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod))):e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style})})),d(p(e),"endDrawing",(function(t){e.replaceFeatures(t);var n=h(t.features);"Circle"!==e.props.drawMethod||!n||v(n.center)||v(n.radius)?n&&e.props.onEndDrawing(n,e.props.drawOwner):e.props.onEndDrawing(a(a({},n),{},{coordinates:A.calculateCircleCoordinates(n.center,n.radius,100)}),e.props.drawOwner)})),d(p(e),"addDrawInteraction",(function(t){e.removeAllInteractions(),"Point"===t.drawMethod||"MultiPoint"===t.drawMethod?e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}):e.addLayer(t),e.props.map.on("draw:created",e.onDrawCreated,p(e)),e.props.map.on("draw:drawstart",e.onDrawStart,p(e)),"LineString"===t.drawMethod||"Bearing"===t.drawMethod||"MultiLineString"===t.drawMethod?e.drawControl=new S.Draw.Polyline(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},showLength:!1,repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Polygon"===t.drawMethod||"MultiPolygon"===t.drawMethod?e.drawControl=new S.Draw.Polygon(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5],guidelineDistance:5},allowIntersection:!1,showLength:!1,showArea:!1,repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"BBOX"===t.drawMethod?e.drawControl=new S.Draw.Rectangle(e.props.map,{draw:!1,shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},repeatMode:!0,icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Circle"===t.drawMethod?e.drawControl=new S.Draw.Circle(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},showRadius:!1,repeatMode:!0}):"Point"!==t.drawMethod&&"MultiPoint"!==t.drawMethod||(e.drawControl=new S.Draw.Marker(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},repeatMode:!0})),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawControl.enable()})),d(p(e),"addDrawOrEditInteractions",(function(t){var n,r=g(t.features);r&&r.geometry&&r.geometry.type&&!w(r.geometry.type)&&("GeometryCollection"===r.geometry.type?n=r.geometry.geometries.map((function(e){return e.coordinates.map((function(t,n){return{type:"Feature",properties:a({},r.properties),id:e.type+n,geometry:{coordinates:t,type:E(e.type)}}}))})):(n=r.geometry.coordinates.map((function(e,t){return{type:"Feature",properties:a({},r.properties),id:r.geometry.type+t,geometry:{coordinates:e,type:E(r.geometry.type)}}})),r={type:"FeatureCollection",features:n}));var o=T({},t,{features:[r||{}]});e.drawLayer?(e.drawLayer.clearLayers(),e.drawLayer.addData(e.convertFeaturesPolygonToPoint(o.features,o.drawMethod))):e.addGeojsonLayer({features:t.features&&t.options.featureProjection&&"EPSG:4326"!==t.options.featureProjection?t.features.map((function(e){return A.reprojectGeoJson(e,t.options.featureProjection,"EPSG:4326")})):t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}),t.options.editEnabled&&e.addEditInteraction(o),t.options.drawEnabled&&e.addDrawInteraction(o)})),d(p(e),"addEditInteraction",(function(t){e.clean(),e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:T({},t.style,{poly:{icon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new S.DivIcon({iconSize:new S.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}})});var n=e.drawLayer.getLayers();setTimeout((function(){n.forEach((function(n){n.getLayers&&n.getLayers()&&n.getLayers().length?n.getLayers().forEach((function(n){n.on("edit",(function(n){return e.onUpdateGeom(n.target,t)})),n.on("moveend",(function(n){return e.onUpdateGeom(n.target,t)})),n.editing&&n.editing.enable()})):(n.on("edit",(function(n){return e.onUpdateGeom(n.target,t)})),n.on("moveend",(function(n){return e.onUpdateGeom(n.target,t)})),n.editing&&n.editing.enable())}))}),0),e.editControl=new S.Control.Draw({edit:{featureGroup:e.drawLayer,poly:{allowIntersection:!1},edit:!0},draw:{polygon:{allowIntersection:!1,showArea:!0}}}),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable()})),d(p(e),"removeAllInteractions",(function(){e.removeEditInteraction(),e.removeDrawInteraction()})),d(p(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.props.options&&e.props.options.stopAfterDrawing&&(e.drawControl.setOptions({repeatMode:!1}),e.props.onDrawStopped()),e.drawControl.disable(),e.drawControl=null,e.props.map.off("draw:created",e.onDrawCreated,p(e)),e.props.map.off("draw:drawstart",e.onDrawStart,p(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),d(p(e),"removeEditInteraction",(function(){e.drawLayer&&(e.drawLayer.getLayers().forEach((function(e){e.getLayers&&e.getLayers()&&e.getLayers().length?e.getLayers().forEach((function(e){e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable()})):(e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable())})),e.editControl=null);e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable()})),d(p(e),"cleanAndStop",(function(){e.removeAllInteractions(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),d(p(e),"clean",(function(){e.removeEditInteraction(),e.removeDrawInteraction(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),d(p(e),"convertFeaturesPolygonToPoint",(function(e,t){return"Circle"===t?e.map((function(e){var t=void 0!==e.center&&void 0!==e.radius?M(e.radius,{lat:e.center.y,lng:e.center.x},e.projection):e,n=t.center,r=t.projection,o=t.radius;return a(a({},e),{},{coordinates:n?[n.x,n.y]:e.coordinates,center:n||e.center,projection:r||e.projection,radius:void 0!==o?o:e.radius,type:"Point"})})):e})),d(p(e),"convertFeaturesToGeoJson",(function(t,n){var r;if(w(n.drawMethod))r=t.toGeoJSON().geometry;else{if("GeometryCollection"===n.drawMethod)return{type:"GeometryCollection",geometries:e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()})).map((function(e){return"FeatureCollection"===e.type?{type:"Multi"+e.features[0].geometry.type,coordinates:e.features.map((function(e){return e.geometry.coordinates}))}:{type:e.geometry.type,coordinates:e.geometry.coordinates}}))};var o=e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()}));r={type:n.drawMethod,coordinates:o.reduce((function(e,t){return e.concat([t.geometry.coordinates])}),[])}}return T({},t.toGeoJSON(),{geometry:r})})),e}return t=u,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!(!this.props.messages&&!this.context.messages)&&this.context.messages.drawLocal;if(t&&(S.drawLocal=t),this.props.drawStatus!==e.drawStatus||"replace"===e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addGeojsonLayer({features:e.features,projection:e.options&&e.options.featureProjection||"EPSG:4326",style:e.style&&e.style[e.drawMethod]||e.style});break;case"start":this.addDrawInteraction(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeAllInteractions();break;case"replace":this.replaceFeatures(e);break;case"clean":this.cleanAndStop();break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&s(t.prototype,n),r&&s(t,r),u}(y.Component);d(C,"displayName","DrawSupport"),d(C,"propTypes",{map:m.object,drawOwner:m.string,drawStatus:m.string,drawMethod:m.string,options:m.object,features:m.array,onChangeDrawingStatus:m.func,onGeometryChanged:m.func,onDrawStopped:m.func,onEndDrawing:m.func,messages:m.object,style:m.object}),d(C,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onEndDrawing:function(){},style:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1,editing:{fill:1}}}),e.exports=C},"./MapStore2/web/client/components/map/leaflet/Feature.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),b=n("./node_modules/lodash/lodash.js"),g=b.isEqual,h=b.isArray,v=b.castArray,S=n("./node_modules/object-assign/index.js"),O=n("./node_modules/axios/index.js"),w=n("./MapStore2/web/client/utils/leaflet/Vector.js").geometryToLayer,E=n("./MapStore2/web/client/utils/VectorStyleUtils.js").createStylesAsync,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"createLayer",(function(t){t.geometry&&e.addFeature(a(a({},t),{},{style:t.style&&v(t.style)||void 0})),t.features&&t.features.forEach((function(n){var r=S({},t,{type:n.type,geometry:n.geometry,style:n.style&&v(n.style)||void 0,properties:n.properties});e.addFeature(r)}))})),d(p(e),"removeLayer",(function(t){e._layers&&(e._layers.forEach((function(e){t.container.removeLayer(e)})),e._layers=[])})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this._layers=[],(this.props.container&&this.props.geometry||this.props.features)&&this.createLayer(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){g(e.properties,this.props.properties)&&g(e.geometry,this.props.geometry)&&e.features===this.props.features&&e.style===this.props.style&&e.styleName===this.props.styleName||(this.removeLayer(e),this.createLayer(e))}},{key:"componentWillUnmount",value:function(){this.removeLayer(this.props)}},{key:"render",value:function(){return null}},{key:"addFeature",value:function(e){var t=this;if(h(e.style)){var n=E(e.style);O.all(n).then((function(n){t.addLayer(e,n)}))}else this.addLayer(e,e.style)}},{key:"addLayer",value:function(e,t){var n=this,r=w({type:e.type,geometry:e.geometry,properties:e.properties,msId:e.msId},{style:t,styleName:e.styleName});e.container.addLayer(r),r.on("click",(function(t){e.onClick&&e.onClick({pixel:{x:t.originalEvent&&t.originalEvent.x,y:t.originalEvent&&t.originalEvent.y},latlng:t.latlng},n.props.options.handleClickOnLayer?n.props.options.id:null)})),r.setOpacity||(r.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.originalStyle||this.options&&this.options.style||this.options||{};this.originalStyle=a({},t);var n=t.opacity,o=void 0===n?1:n,i=t.fillOpacity,s=void 0===i?1:i,l=t.color,c=t.fillColor,u=t.radius,p=t.weight,f={color:l,fillColor:c,radius:u,weight:p,opacity:o*e,fillOpacity:s*e};r.setStyle&&r.setStyle(f)}),this._layers.push(r)}}])&&s(t.prototype,n),r&&s(t,r),u}(y.Component);d(j,"propTypes",{msId:m.oneOfType([m.string,m.number]),type:m.string,styleName:m.string,properties:m.object,container:m.object,geometry:m.object,features:m.array,style:m.object,onClick:m.func,options:m.object}),e.exports=j},"./MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/lodash/lodash.js").findIndex,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"setLayer",(function(){var t;e._layer&&e.cleanSupport(),e.props.map.eachLayer((function(n){n.layerId===e.props.layer&&(t=n)}),c(e)),void 0!==t&&t.on("click",e.featureClicked,c(e)),e._layer=t,e.highlightFeatures(e.props.features)})),p(c(e),"featureClicked",(function(t){var n=t.layer;if((t.originalEvent.ctrlKey||t.originalEvent.metaKey)&&n){var r=m(e._selectedFeatures,(function(e){return e===n}));-1!==r?(e._layer.resetStyle(n),e._selectedFeatures=e._selectedFeatures.filter((function(e,t){return t!==r})),n=null):e._selectedFeatures.push(n)}else e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._selectedFeatures=n?[n]:[];n&&(n.bringToFront(),n.setStyle(e.props.selectedStyle)),e.props.updateHighlighted(e._selectedFeatures.map((function(e){return e.msId})),"")})),p(c(e),"cleanSupport",(function(){e._layer&&(e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._layer.off("click",e.featureClicked,c(e))),e._selectedFeatures=[],e._layer=null,e.props.updateHighlighted([],"")})),p(c(e),"highlightFeatures",(function(t){e._layer||e.setLayer(),e._selectedFeatures.map((function(t){e._layer.resetStyle(t)})),e._selectedFeatures=[],e._layer.eachLayer((function(n){-1!==t.indexOf(n.msId)&&(e._selectedFeatures.push(n),n.bringToFront(),n.setStyle(e.props.selectedStyle))}),c(e))})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this._selectedFeatures=[],this._layer=null,"enabled"===this.props.status&&this.setLayer()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}},{key:"UNSAFE_componentWillUpdate",value:function(e){switch(e.status){case"enabled":this.setLayer();break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this.cleanSupport()}},{key:"render",value:function(){return null}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(y,"propTypes",{map:f.object,layer:f.string,status:f.oneOf(["disabled","enabled","update"]),updateHighlighted:f.func,selectedStyle:f.object,features:f.array}),p(y,"contextTypes",{messages:f.object}),p(y,"defaultProps",{status:"disabled",updateHighlighted:function(){},selectedStyle:{radius:12,weight:4,opacity:1,fillOpacity:1,color:"yellow",fillColor:"red"},features:[]}),e.exports=y},"./MapStore2/web/client/components/map/leaflet/Layer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),b=n("./MapStore2/web/client/utils/leaflet/Layers.js"),g=n("./node_modules/object-assign/index.js"),h=n("./node_modules/lodash/lodash.js").isEqual,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?e.addLayer():e.removeLayer(),e.updateZIndex())})),d(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity&&e.layer.setOpacity(t)})),d(p(e),"generateOpts",(function(t,n,r){return g({},t,n?{zIndex:n,srs:e.props.srs}:null,{zoomOffset:-e.props.zoomOffset,onError:function(){e.props.onCreationError(t)},securityToken:r})})),d(p(e),"updateZIndex",(function(t){var n=t||e.props.position;n&&e.layer&&e.layer.setZIndex&&e.layer.setZIndex(n)})),d(p(e),"createLayer",(function(t,n,r,o){if(t){var a=e.generateOpts(n,r,o);e.layer=b.createLayer(t,a),e.layer&&(e.layer.layerName=n.name,e.layer.layerId=n.id),e.forceUpdate()}})),d(p(e),"updateLayer",(function(t,n){var r=b.updateLayer(t.type,e.layer,e.generateOpts(t.options,t.position,t.securityToken),e.generateOpts(n.options,n.position,n.securityToken));r&&(e.removeLayer(),e.layer=r,e.addLayer())})),d(p(e),"addLayer",(function(){if(e.isValid()&&(e.props.map.addLayer(e.layer),e.props.options.refresh&&e.layer.setParams)){var t=0;e.refreshTimer=setInterval((function(){e.layer.setParams(g({},e.props.options.params,{_refreshCounter:t++}))}),e.props.options.refresh)}})),d(p(e),"removeLayer",(function(){e.isValid()&&e.props.map.removeLayer(e.layer)})),d(p(e),"isValid",(function(){if(e.layer){var t=b.isValid(e.props.type,e.layer);return e.valid=t,t}return!1})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.valid=!0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var n=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(n),e.position!==this.props.position&&this.updateZIndex(e.position),this.updateLayer(e,this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!["map","type","srs","position","zoomOffset","onClick","options","children"].reduce((function(n,r){switch(r){case"map":case"type":case"srs":case"position":case"zoomOffset":case"onClick":case"children":return n&&t.props[r]===e[r];case"options":return n&&(t.props[r]===e[r]||h(a(a({},t.props[r]),{},{loading:!1}),a(a({},e[r]),{},{loading:!1})));default:return n}}),!0)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.removeLayer(),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,n=t?y.Children.map(this.props.children,(function(n){return n?y.cloneElement(n,{container:t,styleName:e.props.options&&e.props.options.styleName,onClick:e.props.onClick,options:e.props.options||{}}):null})):null;return y.createElement(y.Fragment,null,n)}return b.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,n),r&&s(t,r),u}(y.Component);d(v,"propTypes",{map:m.object,type:m.string,srs:m.string,options:m.object,position:m.number,zoomOffset:m.number,onCreationError:m.func,onClick:m.func,securityToken:m.string}),d(v,"defaultProps",{onCreationError:function(){},options:{}}),e.exports=v},"./MapStore2/web/client/components/map/leaflet/Locate.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./MapStore2/web/client/libs/leaflet.js"),y=n("./node_modules/object-assign/index.js");n("./node_modules/leaflet.locatecontrol/src/L.Control.Locate.js"),n("./node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css");var b={follow:!0,remainActive:!0,stopFollowingOnDrag:!0,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:1/0,watch:!0}};m.Control.MSLocate=m.Control.Locate.extend({setMap:function(e){this._map=e,this._layer=this.options.layer||new m.LayerGroup,this._layer.addTo(e),this._event=void 0,this._prevBounds=null;var t={};m.extend(t,this.options.markerStyle,this.options.followMarkerStyle),this.options.followMarkerStyle=t,t={},m.extend(t,this.options.circleStyle,this.options.followCircleStyle),this.options.followCircleStyle=t,this._resetVariables(),this._map.on("unload",this._unload,this)},_setClasses:function(e){return this._map.fire("locatestatus",{state:e}),e},_updateContainerStyle:function(){this._isFollowing()?this._setClasses("following"):this._active&&this._setClasses("active")},_cleanClasses:function(){return null},setStrings:function(e){this.options.strings=y({},this.options.strings,e)}});var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),p(c(e),"locateControlState",(function(t){"requesting"===t.state&&"LOCATING"!==e.props.status?e.props.changeLocateState("LOCATING"):"following"!==t.state||e.fol?"active"===t.state&&"ENABLED"!==e.props.status&&e.props.changeLocateState("ENABLED"):e.props.changeLocateState("FOLLOWING")})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.map&&(this.locate=new m.Control.MSLocate(b),this.locate.setMap(this.props.map),this.props.map.on("locatestatus",this.locateControlState),this.locate.options.onLocationError=this.onLocationError,this.locate.options.onLocationOutsideMapBounds=this.onLocationError),this.props.status.enabled&&this.locate.start()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fol=!1,e.status!==this.props.status&&("ENABLED"!==e.status||this.locate._active?"FOLLOWING"===e.status&&this.locate._active&&!this.locate._following?(this.fol=!0,this.locate.stop(),this.locate.start()):"DISABLED"===e.status&&(this.locate._following=!1,this.locate.stop()):this.locate.start()),e.messages!==this.props.messages&&(this.locate.setStrings(e.messages),"DISABLED"!==e.status&&this.locate.drawMarker(this.locate._map))}},{key:"render",value:function(){return null}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(g,"displayName","Locate"),p(g,"propTypes",{map:f.object,status:f.string,messages:f.object,changeLocateState:f.func,onLocateError:f.func}),p(g,"defaultProps",{id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}}),e.exports=g},"./MapStore2/web/client/components/map/leaflet/Map.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./MapStore2/web/client/libs/leaflet.js"),d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react/index.js"),y=n("./MapStore2/web/client/utils/ConfigUtils.js"),b=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),g=n("./node_modules/object-assign/index.js"),h=n("./MapStore2/web/client/utils/MapUtils.js"),v=n("./node_modules/rxjs/Rx.js"),S=n("./node_modules/lodash/lodash.js").throttle;n("./MapStore2/web/client/components/map/leaflet/SingleClick.js");var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"state",{}),p(c(e),"getDocument",(function(){return e.props.document||document})),p(c(e),"getResolutions",(function(){return e.props.resolutions})),p(c(e),"_updateMapPositionFromNewProps",(function(t){var n=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0},r=t.center,o=e.props.center,a=e.map.getCenter(),i=n(r.x,o.x)&&n(r.y,o.y)||n(r.x,a.lng)&&n(r.y,a.lat),s=t.zoom,l=e.props.zoom,c=e.map.getZoom(),u=s===l||s===c;i||u?u?i||e.map.setView([t.center.y,t.center.x]):e.map.setZoom(t.zoom):e.map.setView([t.center.y,t.center.x],Math.round(t.zoom))})),p(c(e),"updateMapInfoState",(function(){var t=e.map.getBounds().toBBoxString().split(","),n={height:e.map.getSize().y,width:e.map.getSize().x},r=e.map.getCenter();e.props.onMapViewChanges({x:r.lng,y:r.lat,crs:"EPSG:4326"},e.map.getZoom(),{bounds:{minx:parseFloat(t[0]),miny:parseFloat(t[1]),maxx:parseFloat(t[2]),maxy:parseFloat(t[3])},crs:"EPSG:4326",rotation:0},n,e.props.id,e.props.projection)})),p(c(e),"setMousePointer",(function(t){e.map&&(e.map.getContainer().style.cursor=t||"auto")})),p(c(e),"mouseMoveEvent",(function(t){var n=t.latlng.wrap();e.props.onMouseMove({x:n.lng||0,y:n.lat||0,z:e.elevationLayer&&e.elevationLayer.getElevation(n,t.containerPoint)||void 0,crs:"EPSG:4326",pixel:{x:t.containerPoint.x,y:t.containerPoint.x},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng]})})),p(c(e),"registerHooks",(function(){e.props.hookRegister.registerHook(h.EXTENT_TO_ZOOM_HOOK,(function(t){var n=b.reproject([t[0],t[1]],e.props.projection,"EPSG:4326"),r=b.reproject([t[2],t[3]],e.props.projection,"EPSG:4326");return e.map.getBoundsZoom([[n.y,n.x],[r.y,r.x]])-1})),e.props.hookRegister.registerHook(h.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(h.COMPUTE_BBOX_HOOK,(function(t,n){var r=f.latLng([t.y,t.x]),o=e.map._getNewPixelOrigin(r,n),a=new f.Bounds(o,o.add(e.map.getSize())),i=e.map.unproject(a.getBottomLeft(),n),s=e.map.unproject(a.getTopRight(),n),l=new f.LatLngBounds(i,s).toBBoxString().split(",");return{bounds:{minx:parseFloat(l[0]),miny:parseFloat(l[1]),maxx:parseFloat(l[2]),maxy:parseFloat(l[3])},crs:"EPSG:4326",rotation:0}})),e.props.hookRegister.registerHook(h.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){var n=b.reproject(t,e.props.projection,"EPSG:4326"),r=e.map.latLngToContainerPoint([n.y,n.x]);return[r.x,r.y]})),e.props.hookRegister.registerHook(h.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){var n=e.map.containerPointToLatLng(t),r=b.reproject([n.lng,n.lat],"EPSG:4326",e.props.projection);return[r.x,r.y]})),e.props.hookRegister.registerHook(h.ZOOM_TO_EXTENT_HOOK,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.padding,o=n.crs,a=n.maxZoom,i=n.duration,s=r&&f.point(r.left||0,r.top||0),l=r&&f.point(r.right||0,r.bottom||0),c=b.reprojectBbox(t,o,"EPSG:4326");e.map.fitBounds([[c[1],c[0]],[c[3],c[2]]],{paddingTopLeft:s,paddingBottomRight:l,maxZoom:a,duration:i,animate:0!==i&&void 0})}))})),p(c(e),"addLayerObservable",(function(t,n){!t.layer.layerId||t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&n&&(t.layer._ms2LoadingTileCount=0,t.layer.layerLoadingStream$=new v.Subject,t.layer.layerLoadStream$=new v.Subject,t.layer.layerErrorStream$=new v.Subject,t.layer.layerErrorStream$.bufferToggle(t.layer.layerLoadingStream$,(function(){return t.layer.layerLoadStream$})).subscribe({next:function(n){var r=t.layer._ms2LoadingTileCount||n&&n.length||0;n&&n.length>0&&e.props.onLayerError(n[0].target.layerId,r,n.length),t.layer._ms2LoadingTileCount=0}}))})),e}return t=u,(n=[{key:"UNSAFE_componentWillMount",value:function(){if(this.zoomOffset=0,this.props.mapOptions&&this.props.mapOptions.view&&this.props.mapOptions.view.resolutions&&this.props.mapOptions.view.resolutions.length>0){var e=f.CRS.EPSG3857.scale,t=this.props.mapOptions.view.resolutions[0]/h.getGoogleMercatorResolutions(0,23)[0];this.crs=g({},f.CRS.EPSG3857,{scale:function(n){return e.call(f.CRS.EPSG3857,n)/Math.pow(2,Math.round(Math.log2(t)))}}),this.zoomOffset=Math.round(Math.log2(t))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.limits,n=void 0===t?{}:t,r=n.restrictedExtent&&n.crs&&b.reprojectBbox(n.restrictedExtent,n.crs,"EPSG:4326"),o=g({},this.props.interactive?{}:{dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,attributionControl:!1,maxBounds:r&&f.latLngBounds([[r[1],r[0]],[r[3],r[2]]]),maxBoundsViscosity:r&&1,minZoom:n&&n.minZoom,maxZoom:n&&n.maxZoom||23},this.props.mapOptions,this.crs?{crs:this.crs}:{}),a=f.map(this.getDocument().getElementById(this.props.id),g({zoomControl:!1},o)).setView([this.props.center.y,this.props.center.x],Math.round(this.props.zoom));this.map=a,this.props.zoomControl&&(this.mapZoomControl=f.control.zoom(),this.map.addControl(this.mapZoomControl)),this.attribution=f.control.attribution(),this.attribution.addTo(this.map);var i=this.getDocument();this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&(i.querySelector(this.props.mapOptions.attribution.container).appendChild(this.attribution.getContainer()),i.querySelector(".leaflet-control-container .leaflet-control-attribution")&&i.querySelector(".leaflet-control-container .leaflet-control-attribution").parentNode.removeChild(i.querySelector(".leaflet-control-container .leaflet-control-attribution"))),this.map.on("moveend",this.updateMapInfoState),this.map.on("singleclick",(function(t){e.props.onClick&&e.props.onClick({pixel:{x:t.containerPoint.x,y:t.containerPoint.y},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng],modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,shift:t.originalEvent.shiftKey}})}));var s=S(this.mouseMoveEvent,100);this.map.on("dragstart",(function(){e.map.off("mousemove",s)})),this.map.on("dragend",(function(){e.map.on("mousemove",s)})),this.map.on("mousemove",s),this.map.on("contextmenu",(function(){e.props.onRightClick&&e.props.onRightClick(event.containerPoint)})),this.map.on("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.map.on("layeradd",(function(t){if(t.layer._ms2Added){var n=t.layer.layerLoadingStream$&&t.layer.layerLoadingStream$.isStopped;e.addLayerObservable(t,n)}else t.layer._ms2Added=!0,t.layer.getElevation&&(e.elevationLayer=t.layer),t.layer.layerId&&(t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&(e.addLayerObservable(t,!0),t.layer.options&&t.layer.options.hideLoading||(e.props.onLayerLoading(t.layer.layerId),t.layer.layerLoadingStream$.next()),t.layer.on("loading",(function(n){e.props.onLayerLoading(n.target.layerId),t.layer.layerLoadingStream$.next()})),t.layer.on("load",(function(n){e.props.onLayerLoad(n.target.layerId),t.layer.layerLoadStream$.next()})),t.layer.on("tileloadstart ",(function(){t.layer._ms2LoadingTileCount++})),(t.layer.options&&!t.layer.options.hideErrors||!t.layer.options)&&t.layer.on("tileerror",(function(e){t.layer.layerErrorStream$.next(e)})),t.layer.on("loaderror",(function(t){e.props.onLayerError(t.target.layerId)}))))})),this.map.on("layerremove",(function(e){e.layer.layerLoadingStream$&&(e.layer.layerLoadingStream$.complete(),e.layer.layerLoadStream$.complete(),e.layer.layerErrorStream$.complete())})),this.drawControl=null,this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),this.map&&e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?(this.mapZoomControl=f.control.zoom(),this.map.addControl(this.mapZoomControl)):this.mapZoomControl&&!e.zoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0)),e.resize!==this.props.resize&&setTimeout((function(){t.map&&t.map.invalidateSize(!1)}),0),this.props.limits!==e.limits){var n=e.limits,r=void 0===n?{}:n,o=this.props.limits;if(r.restrictedExtent!==(o&&o.restrictedExtent)){var a=r.restrictedExtent&&r.crs&&b.reprojectBbox(r.restrictedExtent,r.crs,"EPSG:4326");this.map.setMaxBounds(r.restrictedExtent&&f.latLngBounds([[a[1],a[0]],[a[3],a[2]]]))}r.minZoom!==(o&&o.minZoom)&&this.map.setMinZoom(r.minZoom)}return!1}},{key:"componentWillUnmount",value:function(){var e=this.getDocument(),t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&e.querySelector(this.props.mapOptions.attribution.container);if(t&&this.attribution.getContainer()&&t.querySelector(".leaflet-control-attribution"))try{t.removeChild(this.attribution.getContainer())}catch(e){}this.mapZoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0),this.map.off(),this.map.remove(),this.map=void 0}},{key:"render",value:function(){var e=this,t=this.map,n=this.props.projection,r=t?m.Children.map(this.props.children,(function(r){return r?m.cloneElement(r,{map:t,projection:n,zoomOffset:e.zoomOffset,onCreationError:e.props.onCreationError,onClick:e.props.onClick}):null})):null;return m.createElement("div",{id:this.props.id,style:this.props.style},r)}}])&&a(t.prototype,n),r&&a(t,r),u}(m.Component);p(O,"propTypes",{id:d.string,document:d.object,center:y.PropTypes.center,zoom:d.number.isRequired,mapStateSource:y.PropTypes.mapStateSource,style:d.object,projection:d.string,onMapViewChanges:d.func,onClick:d.func,onRightClick:d.func,mapOptions:d.object,limits:d.object,zoomControl:d.bool,mousePointer:d.string,onMouseMove:d.func,onLayerLoading:d.func,onLayerLoad:d.func,onLayerError:d.func,resize:d.number,measurement:d.object,changeMeasurementState:d.func,registerHooks:d.bool,interactive:d.bool,resolutions:d.array,hookRegister:d.object,onCreationError:d.func,onMouseOut:d.func}),p(O,"defaultProps",{id:"map",onMapViewChanges:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},zoomControl:!0,mapOptions:{zoomAnimation:!0,attributionControl:!1},projection:"EPSG:3857",center:{x:13,y:45,crs:"EPSG:4326"},zoom:5,onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:h,style:{},interactive:!0,resolutions:h.getGoogleMercatorResolutions(0,23),onMouseOut:function(){}}),e.exports=O},"./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n("./node_modules/prop-types/index.js"),g=n("./node_modules/react/index.js"),h=n("./node_modules/object-assign/index.js"),v=n("./MapStore2/web/client/libs/leaflet.js"),S=n("./node_modules/lodash/lodash.js").slice,O=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),w=O.reproject,E=O.calculateAzimuth,j=O.calculateDistance,T=O.transformLineToArcs,A=n("./MapStore2/web/client/utils/MeasureUtils.js"),x=A.convertUom,_=A.getFormattedBearingValue;n("./node_modules/leaflet-draw/dist/leaflet.draw.js");var P={km:2,ha:2,m:2,mi:2,ac:2,yd:0,ft:0,nm:2,sqkm:2,sqha:2,sqm:2,sqmi:2,sqac:2,sqyd:2,sqft:2,sqnm:2};v.getMeasureWithTreshold=function(e,t,n,r,o,a,i){return e>t?v.GeometryUtil.formattedNumber(x(e,n,r),o[r])+" "+i:v.GeometryUtil.formattedNumber(e,o[n])+" "+a};var M=v.GeometryUtil.readableDistance;v.GeometryUtil.readableDistance=function(e,t,n,r,o,a){if(!a)return M.apply(null,arguments);if("Bearing"===a.geomType)return a.bearing;var i=v.Util.extend({},P,o),s=a.uom.length,l=s.unit,c=s.label,u=v.GeometryUtil.formattedNumber(x(e,"m",l),i[l])+" "+c;return a.useTreshold&&(t&&(u=v.getMeasureWithTreshold(e,1e3,"m","km",i,"m","km")),"mi"===l&&(u=v.getMeasureWithTreshold(x(e,"m","yd"),1760,"yd","mi",i,"yd","mi"))),u};var C=v.GeometryUtil.readableArea;v.GeometryUtil.readableArea=function(e,t,n,r){if(!r)return C.apply(null,arguments);var o=r.uom.area,a=o.unit,i=o.label,s=v.Util.extend({},P,n),l=v.GeometryUtil.formattedNumber(x(e,"sqm",a),s[a])+" "+i;return r.useTreshold&&(t&&(l=v.getMeasureWithTreshold(e,1e6,"sqm","sqkm",s,"m²","km²")),"sqmi"===a&&(l=v.getMeasureWithTreshold(x(e,"sqm","sqyd"),3097600,"sqyd","sqmi",s,"yd²","mi²"))),l};var L=v.Draw.Polygon.prototype._getMeasurementString;v.Draw.Polygon.prototype._getMeasurementString=function(){if(!this.options.uom)return L.apply(this,arguments);var e=this._area,t="";if(!e&&!this.options.showLength)return null;if(this.options.showLength&&(t=v.Draw.Polyline.prototype._getMeasurementString.call(this)),e){var n={uom:this.options.uom,useTreshold:this.options.useTreshold};t+=this.options.showLength?"<br>":""+v.GeometryUtil.readableArea(e,this.options.metric,this.options.precision,n)}return t};var R=v.Draw.Polyline.prototype._getMeasurementString;v.Draw.Polyline.prototype._getMeasurementString=function(){if(!this.options.uom)return R.apply(this,arguments);var e,t=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();e=v.GeometryUtil.isVersion07x()?n&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&t?this._measurementRunningTotal+this._map.distance(t,n)*(this.options.factor||1):this._measurementRunningTotal||0;var r={uom:this.options.uom,useTreshold:this.options.useTreshold,geomType:this.options.geomType,bearing:this.options.bearing?_(this.options.bearing,this.options.trueBearing):0};return v.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision,r)};var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,r,o=p(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(d(e=o.call.apply(o,[this].concat(n))),"onDrawStart",(function(){e.props.map.off("click",e.restartDrawing,d(e)),e.removeArcLayer(),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawing=!0})),y(d(e),"onDrawCreated",(function(t){e.drawing=!1,e.props.map.addLayer(t.layer),e.lastLayer=t.layer;var n=e.lastLayer&&e.lastLayer.toGeoJSON()||{};if("LineString"===e.props.measurement.geomType&&(n=h({},n,{geometry:h({},n.geometry,{coordinates:T(n.geometry.coordinates)})})),"Point"===e.props.measurement.geomType){var r=e.drawControl._marker.getLatLng(),o={x:r.lng,y:r.lat,srs:"EPSG:4326"},a=h({},e.props.measurement,{point:o,feature:n});e.props.changeMeasurementState(a)}else{var i=h({},e.props.measurement,{feature:n});e.props.changeMeasurementState(i)}e.props.measurement.lineMeasureEnabled&&e.lastLayer&&e.addArcsToMap([n]),setTimeout((function(){e.props.map.off("click",e.restartDrawing,d(e)),e.props.map.on("click",e.restartDrawing,d(e))}),100)})),y(d(e),"onDrawVertex",(function(){var t=e.drawControl._markers||[];"Bearing"===e.props.measurement.geomType&&t.length>=2?setTimeout((function(){e.drawControl._markers=S(e.drawControl._markers,0,2),e.drawControl._poly._latlngs=S(e.drawControl._poly._latlngs,0,2),e.drawControl._poly._originalPoints=S(e.drawControl._poly._originalPoints,0,2),e.updateMeasurementResults(),e.drawControl._finishShape(),e.drawControl.disable()}),100):e.updateMeasurementResults()})),y(d(e),"addArcsToMap",(function(t){e.removeLastLayer();var n=t.map((function(e){return h({},e,{geometry:h({},e.geometry,{coordinates:T(e.geometry.coordinates)})})}));e.arcLayer=v.geoJson(n,{style:{color:"#ffcc33",opacity:1,weight:1,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}),e.props.map.addLayer(e.arcLayer),n&&n.length>0&&e.arcLayer.addData(n)})),y(d(e),"updateMeasurementResults",(function(){if(e.drawing&&e.drawControl){var t=0,n=0,r=0,o=e.drawControl._currentLatLng;if("LineString"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>1){var a=e.drawControl._markers.reduce((function(e,t){var n=t.getLatLng(),r=n.lng,o=n.lat;return[].concat(i(e),[[r,o]])}),[]);t=j(a,e.props.measurement.lengthFormula)}else if("Polygon"===e.props.measurement.geomType&&e.drawControl._poly){var s=[].concat(i(e.drawControl._poly.getLatLngs()),[o]);n=v.GeometryUtil.geodesicArea(s)}else"Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0&&(r=e.calculateBearing());var l=h({},e.props.measurement,{point:null,len:t,area:n,bearing:r});e.props.changeMeasurementState(l)}})),y(d(e),"restartDrawing",(function(){e.props.map.off("click",e.restartDrawing,d(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable(),e.props.map.removeLayer(e.lastLayer),e.drawControl.enable(),e.drawing=!0})),y(d(e),"addDrawInteraction",(function(t){if(e.removeDrawInteraction(),e.props.map.on("draw:created",e.onDrawCreated,d(e)),e.props.map.on("draw:drawstart",e.onDrawStart,d(e)),e.props.map.on("draw:drawvertex",e.onDrawVertex,d(e)),e.props.map.on("mousemove",e.updateBearing,d(e)),e.props.updateOnMouseMove&&e.props.map.on("mousemove",e.updateMeasurementResults,d(e)),"Point"===t.measurement.geomType)e.drawControl=new v.Draw.Marker(e.props.map,{repeatMode:!1});else if("LineString"===t.measurement.geomType||"Bearing"===t.measurement.geomType){var n=e.uomLengthOptions(t);e.drawControl=new v.Draw.Polyline(e.props.map,a(a({shapeOptions:{color:"#ffcc33",weight:2},showLength:!0,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},n),{},{repeatMode:!1,icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),trueBearing:t.measurement.trueBearing}))}else if("Polygon"===t.measurement.geomType){var r=e.uomAreaOptions(t);e.drawControl=new v.Draw.Polygon(e.props.map,a(a({shapeOptions:{color:"#ffcc33",weight:2,fill:"rgba(255, 255, 255, 0.2)"},showArea:!0,allowIntersection:!1,showLength:!1,repeatMode:!1,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},r),{},{icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}e.drawControl.enable()})),y(d(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.drawControl.disable(),e.drawControl=null,e.removeLastLayer(),e.removeArcLayer(),e.props.map.off("draw:created",e.onDrawCreated,d(e)),e.props.map.off("draw:drawstart",e.onDrawStart,d(e)),e.props.map.off("draw:drawvertex",e.onDrawVertex,d(e)),e.props.map.off("mousemove",e.updateBearing,d(e)),e.props.map.off("click",e.restartDrawing,d(e)),e.props.updateOnMouseMove&&e.props.map.off("mousemove",e.updateMeasurementResults,d(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),y(d(e),"removeLastLayer",(function(){e.lastLayer&&e.props.map.removeLayer(e.lastLayer)})),y(d(e),"removeArcLayer",(function(){e.arcLayer&&e.props.map.removeLayer(e.arcLayer)})),y(d(e),"uomLengthOptions",(function(e){var t=e.uom.length.unit;return{metric:"m"===t||"km"===t,nautic:"nm"===t,feet:"ft"===t}})),y(d(e),"uomAreaOptions",(function(e){var t=e.uom.area.unit;return{metric:"sqm"===t||"sqkm"===t,nautic:"sqnm"===t,feet:"sqft"===t}})),y(d(e),"calculateBearing",(function(){var t,n=e.drawControl._currentLatLng,r=e.drawControl._markers,o=[r[0].getLatLng().lng,r[0].getLatLng().lat];return 1===r.length?t=[n.lng,n.lat]:2===r.length&&(t=[r[1].getLatLng().lng,r[1].getLatLng().lat]),o=w(o,"EPSG:4326",e.props.projection),t=w(t,"EPSG:4326",e.props.projection),E(o,t,e.props.projection)})),y(d(e),"updateBearing",(function(){if("Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0){var t=e.props.measurement&&e.props.measurement.trueBearing;e.drawControl.setOptions({bearing:e.calculateBearing(),trueBearing:t})}})),e}return t=s,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if((e&&e.uom&&e.uom.length&&e.uom.length.unit)!==(this.props&&this.props.uom&&this.props.uom.length&&this.props.uom.length.unit)&&this.drawControl){var t=this.uomLengthOptions(e);this.drawControl.setOptions(a(a({},t),{},{uom:e.uom}))}if((e&&e.uom&&e.uom.area&&e.uom.area.unit)!==(this.props&&this.props.uom&&this.props.uom.area&&this.props.uom.area.unit)&&this.drawControl){var n=this.uomAreaOptions(e);this.drawControl.setOptions(a(a({},n),{},{uom:e.uom}))}(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&this.props.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&this.addDrawInteraction(e),e.measurement.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){var e=this.props.messages||!!this.context.messages&&this.context.messages.drawLocal;return e&&(v.drawLocal=e),null}}])&&c(t.prototype,n),r&&c(t,r),s}(g.Component);y(I,"displayName","MeasurementSupport"),y(I,"propTypes",{map:b.object,metric:b.bool,feet:b.bool,nautic:b.bool,enabled:b.bool,useTreshold:b.bool,projection:b.string,measurement:b.object,changeMeasurementState:b.func,messages:b.object,uom:b.object,updateOnMouseMove:b.bool}),y(I,"contextTypes",{messages:b.object}),y(I,"defaultProps",{uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},updateOnMouseMove:!1,metric:!0,nautic:!1,useTreshold:!1,feet:!1}),e.exports=I},"./MapStore2/web/client/components/map/leaflet/Overview.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./node_modules/leaflet-minimap/dist/Control.MiniMap.min.js"),m=n("./MapStore2/web/client/libs/leaflet.js"),y=n("./MapStore2/web/client/utils/leaflet/Layers.js"),b=n("./node_modules/object-assign/index.js");n("./MapStore2/web/client/components/map/leaflet/overview.css");var g={position:"bottomright",width:300,height:150,collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,zoomLevelFixed:null,zoomAnimation:!1,toggleDisplay:!0,autoToggleDisplay:!1,minimized:!0},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){var e=b({},g,this.props.overviewOpt);if(this.props.layers){var t=[];this.props.layers.forEach((function(e){t.push(y.createLayer(e.type,e.options||{}))})),1===t.length?this.overview=new d(t[0],e):t.length>1&&(this.overview=new d(m.layerGroup(t),e))}this.props.map&&this.overview&&this.overview.addTo(this.props.map)}},{key:"render",value:function(){return null}}])&&a(t.prototype,n),r&&a(t,r),c}(f.Component);u(h,"displayName","Overview"),u(h,"propTypes",{map:p.object,overviewOpt:p.object,layers:p.array}),u(h,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]}),e.exports=h},"./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-dom/index.js"),i=n.n(a),s=n("./node_modules/prop-types/index.js"),l=n.n(s),c=n("./MapStore2/web/client/libs/leaflet.js"),u=n.n(c),p=n("./node_modules/lodash/isString.js"),f=n.n(p),d=n("./MapStore2/web/client/utils/PopupUtils.js"),m=n("./MapStore2/web/client/components/map/popups/index.js");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e,t){var n=new MutationObserver((function(){e.update()}));e.once("remove",(function(){n&&n.disconnect(),n=null})),n.observe(t,{attributes:!0,childList:!0,subtree:!0})},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e);var t,n,r,a=O(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(E(e=a.call.apply(a,[this].concat(n))),"updatePopup",(function(){(e._popups||[]).map((function(e){return e.popup.update()}))})),T(E(e),"popupClose",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.target,r=(n=void 0===n?{}:n).options,o=(r=void 0===r?{}:r).id;o&&e.props.onPopupClose(o)})),T(E(e),"preparePopups",(function(){var t=e.props,n=t.popups,r=void 0===n?[]:n,o=t.map,a=e.props.map.getSize();return(e._popups||[]).forEach((function(t){var n=t.popup;n.off("remove",e.popupClose),n&&e.props.map.removeLayer(n)})),e._popups=r.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=.9*a.x,r=.9*a.y,i=t.id,s=t.position.coordinates,l=t.component,c=t.content,p=t.className,f=t.maxWidth,m=void 0===f?n:f,y=t.maxHeight,b=void 0===y?r:y,h=t.autoPan,v=void 0===h||h,S=t.offset,O=void 0===S?[0,7]:S,w=m>n?n:m,E=b>r?r:b,j=d.b(i,p);j.setAttribute("style","max-width: ".concat(w,"px; max-height: ").concat(E,"px")),d.a(j,c);var T=u.a.popup({id:i,autoClose:!1,closeOnClick:!1,autoPan:v,autoPanPadding:u.a.point(70,70),maxWidth:w,maxHeight:E,className:"ms-leaflet-popup",offset:O}).setContent(j);return T.once("remove",e.popupClose),l&&A(T,j),T.setLatLng(s),o.addLayer(T),g({popup:T},t)})),e._popups})),T(E(e),"stopPropagationOnMouseMove",(function(e){e.stopPropagation()})),T(E(e),"fireMouseOutEvent",(function(){e.props.map.fireEvent("mouseout")})),e}return t=s,(n=[{key:"componentWillMount",value:function(){this.props.map&&(this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"componentDidMount",value:function(){this.props.map&&this.props.map.on("resize",this.updatePopup)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){var e=this;(this._popups||[]).forEach((function(t){var n,r,o=t.popup;o.off("remove",e.popupClose),o&&(null===(n=e.props.map)||void 0===n||null===(r=n.removeLayer)||void 0===r||r.call(n,o))})),this.props.map&&(this.props.map.off("resize",this.updatePopup),this.props.map.getContainer().removeEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().removeEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"renderPopups",value:function(){return this.preparePopups().filter((function(e){return!!e.component})).map((function(e){var t=e.popup,n=e.props,r=void 0===n?{}:n,a=e.component,s=e.id,l=t.getContent(),c=f()(a)&&m.default[a]||a,u=o.a.isValidElement(c)&&c||o.a.createElement(c,r);return l?i.a.createPortal(u,l,s):null}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&v(t.prototype,n),r&&v(t,r),s}(o.a.Component);T(x,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),T(x,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./MapStore2/web/client/libs/leaflet.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"componentDidMount",value:function(){if(this.scalebar=d.control.scale(this.props),this.props.map&&(this.scalebar.addTo(this.props.map),this.props.container)){document.querySelector(this.props.container).appendChild(this.scalebar.getContainer());var e=document.querySelector(".leaflet-control-container .leaflet-control-scale-line");e&&e.parentNode&&e.parentNode.removeChild(e)}}},{key:"componentWillUnmount",value:function(){if(this.props.container&&this.scalebar&&this.scalebar.getContainer())try{document.querySelector(this.props.container).removeChild(this.scalebar.getContainer())}catch(e){}}},{key:"render",value:function(){return null}}])&&a(t.prototype,n),r&&a(t,r),c}(f.Component);u(m,"propTypes",{map:p.object,position:p.oneOf(["topleft","topright","bottomleft","bottomright"]),maxWidth:p.number,metric:p.bool,imperial:p.bool,updateWhenIdle:p.bool,container:p.string}),u(m,"defaultProps",{map:null,position:"bottomleft",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1}),e.exports=m},"./MapStore2/web/client/components/map/leaflet/SingleClick.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js");r.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),r.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(e){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,e),this.options.singleClickTimeout||500)},_fireSingleClick:function(e){e.originalEvent._stopped||this.fire("singleclick",r.Util.extend(e,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!==this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},"./MapStore2/web/client/components/map/leaflet/img/toggle.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAH1JREFUOI3t0DEKAjEQheFP8ERWqfUCeg9rL+adbKxkYRFEY7ERhkUhCZb7wyuGYX5ewkIvK6z/ITpjxOHHPtWKrsh4fJEl3GpF29LoI9sHSS6pZjeTnTD0iOayjFevCI7hOKaJZHpObNIsih/b3WiDSzgaS+5lfrY0Wph4A4kFM89VzdVFAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/map/leaflet/img/toggle.svg":function(e,t,n){e.exports=n.p+"toggle.svg"},"./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js"),o=n("./MapStore2/web/client/utils/leaflet/Layers.js");n("./node_modules/leaflet-plugins/layer/tile/Bing.js");var a=n("./node_modules/object-assign/index.js");r.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+r.Util.stamp(this);window[t]=function(n){e.meta=n,window[t]=void 0;var r=document.getElementById(t);return r.parentNode.removeChild(r),n.errorDetails?(e.fire("load",{layer:e}),e.onError(n)):(e.initMetadata(n),null)};var n="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),o=n+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+n,a=document.createElement("script");a.type="text/javascript",a.src=o,a.id=t,document.getElementsByTagName("head")[0].appendChild(a)}},r.BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},o.registerType("bing",{create:function(e){var t=e.apiKey,n={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(n=a({},n,{zoomOffset:e.zoomOffset})),new r.BingLayer(t,n)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},"./MapStore2/web/client/components/map/leaflet/plugins/Commons.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js");e.exports=r.TileLayer.extend({initialize:function(e){r.TileLayer.prototype.initialize.call(this,this.url,e)}})},"./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n("./MapStore2/web/client/libs/leaflet.js");n("./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js"),r.registerType("google",(function(e){return o.gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},"./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js"),a=n("./node_modules/object-assign/index.js");n("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css"),r.registerType("graticule",{create:function(e){var t=a({interval:20,showOriginLabel:!0,redraw:"move"},e);return o?new o(t):null},isValid:function(){return!!o}})},"./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./MapStore2/web/client/utils/leaflet/Layers.js"),i=n("./MapStore2/web/client/libs/mapquest.js");a.registerType("mapquest",{create:function(e){return i?i.mapLayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!i}})},"./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n("./MapStore2/web/client/libs/leaflet.js");r.registerType("osm",(function(e){return o.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n.n(r),a=n("./MapStore2/web/client/libs/leaflet.js"),i=n.n(a);o.a.registerType("tms",(function(e){return i.a.tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n.n(r),a=n("./MapStore2/web/client/libs/leaflet.js"),i=n.n(a),s=n("./MapStore2/web/client/utils/TileConfigProvider.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}o.a.registerType("tileprovider",(function(e){var t=u(s.a.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxZoom:23},e)),2),n=t[0],r=t[1];return i.a.tileLayer(n,r)}))},"./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx":function(e,t,n){var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n("./node_modules/lodash/lodash.js").isNil,a=n("./MapStore2/web/client/libs/leaflet.js");r.registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,n=a.geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,n){return a.circleMarker(n,t.style||e.style)}:null,hideLoading:t});return n.setOpacity=function(e){!function e(t,n){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(n),e(t,n)}))}(n,e)},n.on("layeradd",(function(t){var r=t.layer;n.setOpacity(o(n.opacity)?e.opacity:n.opacity,r)})),n}(e);return t.opacity=o(e.opacity)?1:e.opacity,t},update:function(e,t,n){t.opacity!==n.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/libs/leaflet.js"),a=n.n(o),i=n("./MapStore2/web/client/utils/ColorUtils.js"),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=n.n(s),c=n("./MapStore2/web/client/utils/leaflet/Layers.js"),u=n.n(c),p=n("./MapStore2/web/client/utils/VendorParamsUtils.js"),f=n("./MapStore2/web/client/api/WFS.js"),d=n("./MapStore2/web/client/utils/WFSLayerUtils.js");function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t){e.fireEvent("loading");var n=Object(p.optionsToVendorParams)(t),r=function(){e.fireEvent("loadError")};return Object(f.getFeature)(t.url,t.name,b({outputFormat:"application/json",maxFeatures:1e3,srsname:l.a.normalizeSRS("EPSG:4326")},n)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),r(new Error("status code of response:"+t.status))),e})).catch((function(e){r()}))},v=function(e){var t=e||{},n=t.color,r=t.fillColor;return b(b({},m(t,["color","fillColor"])),{},{color:Object(i.colorToRgbaStr)(n,1),fillColor:Object(i.colorToRgbaStr)(r,1)})},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return v(t)},O=function(e,t){var n=S(t);e.setStyle(n),e.options.style=n,e.styleName=t.styleName},w=function e(t,n){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(n),e(t,n)}))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=S(e),o=function(t,r){return"marker"===e.styleName?a.a.marker(r,n):a.a.circleMarker(r,n)},i=new a.a.GeoJSON(t,{pointToLayer:o,style:n});return i.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=b({},i.options.style||{}),n=t.fillOpacity,r=void 0===n?1:n,o=t.opacity,a=void 0===o?1:o,s=b(b({},t),{},{opacity:a*e,fillOpacity:r*e});i.setStyle(v(s)),w(i,e)},i.on("layeradd",(function(){O(i,e),i.setOpacity(Object(r.isNil)(i.opacity)?e.opacity:i.opacity)})),i};u.a.registerType("wfs",{create:function(e){var t=E(e);return h(t,e),t.opacity=Object(r.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,n){if(t.opacity!==n.opacity&&(e.opacity=t.opacity),Object(d.needsReload)(n,t)&&h(e,t),Object(r.isEqual)(t.style,n.style)||O(e,t),t.styleName!==n.styleName){var o=e.toGeoJSON().features;return E(t,o)}return null},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("./node_modules/react/index.js"),a=n("./MapStore2/web/client/components/I18N/Message.jsx"),i=n("./MapStore2/web/client/utils/leaflet/Layers.js"),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,c=n("./MapStore2/web/client/utils/leaflet/WMSUtils.js"),u=n("./MapStore2/web/client/libs/leaflet.js"),p=n("./node_modules/object-assign/index.js"),f=n("./node_modules/lodash/lodash.js"),d=f.isArray,m=f.isNil,y=n("./MapStore2/web/client/utils/SecurityUtils.js"),b=n("./MapStore2/web/client/utils/ElevationUtils.js"),g=n("./MapStore2/web/client/utils/LayersUtils.js").creditsToAttribution,h=n("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;n("./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js"),u.NonTiledLayer.WMSCustom=u.NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var n=u.extend({},this.defaultWmsParams);for(var r in t)this.options.hasOwnProperty(r)||"CRS"===r.toUpperCase()||"maxNativeZoom"===r||(n[r]=t[r]);this.wmsParams=n,u.setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),n||this.redraw(),this}}),u.nonTiledLayer.wmsCustom=function(e,t){return new u.NonTiledLayer.WMSCustom(e,t)},u.TileLayer.MultipleUrlWMS=u.TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=u.extend({},this.defaultWmsParams),r=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&u.Browser.retina?n.width=n.height=2*r:n.width=n.height=r,t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(n[o]=t[o]);this.wmsParams=n,u.setOptions(this,t)},getTileUrl:function(e){var t=this._map,n=this.options.tileSize,r=e.multiplyBy(n),o=r.add([n,n]),a=this._crs.project(t.unproject(r,e.z)),i=this._crs.project(t.unproject(o,e.z)),s=this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[i.y,a.x,a.y,i.x].join(","):[a.x,i.y,i.x,a.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var l=u.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return l+u.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+s},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),n||this.redraw(),this}}),u.tileLayer.multipleUrlWMS=function(e,t){return new u.TileLayer.MultipleUrlWMS(e,t)},u.TileLayer.ElevationWMS=u.TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,n){this._tiles={},this._nodata=n,u.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);b.loadTile(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var n=this._getTileFromCoords(e),r=b.getElevation(this._tileCoordsToKey(n),this._getTileRelativePixel(n,t),this.getTileSize().x,this._nodata);return r.available?r.value:o.createElement(a,{msgId:r.message})}catch(e){return o.createElement(a,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return p(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var n=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),r=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new u.Point(n,r)},_removeTile:function(){},_abortLoading:function(){}}),u.tileLayer.elevationWMS=function(e,t,n){return new u.TileLayer.ElevationWMS(e,t,n)};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){return m(e[n])?t:p(t,r({},n,e[n]))}),{})};function S(e){var t=void 0!==e.opacity?e.opacity:1,n=l(e),r=p({},e.baseParams,{attribution:e.credits&&g(e.credits),layers:e.name,styles:e.style||"",format:(h(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",SRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},p(e._v_?{_v_:e._v_}:{},n||{}));return y.addAuthenticationToSLD(r,e)}function O(e){return e.map((function(e){return e.split("?")[0]}))}i.registerType("wms",{create:function(e){var t=O(d(e.url)?e.url:[e.url]),n=v(S(e)||{});return t.forEach((function(t){return y.addAuthenticationParameter(t,n,e.securityToken)})),e.useForElevation?u.tileLayer.elevationWMS(t,n,e.nodata||-9999):e.singleTile?u.nonTiledLayer.wmsCustom(t[0],n):u.tileLayer.multipleUrlWMS(t,n)},update:function(e,t,n){if(n.singleTile!==t.singleTile||n.securityToken!==t.securityToken&&t.visibility){var o=O(d(t.url)?t.url:[t.url]),a=S(t)||{};return o.forEach((function(e){return y.addAuthenticationParameter(e,a,t.securityToken)})),t.singleTile?u.nonTiledLayer.wmsCustom(o[0],a):u.tileLayer.multipleUrlWMS(o,a)}var i=p({},c.filterWMSParamOptions(S(n)),y.addAuthenticationToSLD(n.params||{},n)),s=p({},c.filterWMSParamOptions(S(t)),y.addAuthenticationToSLD(t.params||{},t)),l=Object.keys(s).filter((function(e){return s[e]!==i[e]})),f=Object.keys(i).filter((function(e){return i[e]!==s[e]})),m={};return f.length>0&&e.removeParams(f,l.length>0),l.length>0&&(m=l.reduce((function(e,t){return p({},e,r({},t,s[t]))}),m),e.setParams(v(p(m,m.params,y.addAuthenticationToSLD(t.params||{},t))))),null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n.n(r),a=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=n.n(a),s=n("./MapStore2/web/client/libs/leaflet.js"),l=n.n(s),c=n("./node_modules/object-assign/index.js"),u=n.n(c),p=n("./MapStore2/web/client/utils/SecurityUtils.js"),f=n.n(p),d=n("./MapStore2/web/client/utils/WMTSUtils.js"),m=n.n(d),y=n("./MapStore2/web/client/utils/leaflet/WMTS.js"),b=n.n(y),g=n("./node_modules/lodash/lodash.js"),h=n("./MapStore2/web/client/utils/VectorTileUtils.js");l.a.tileLayer.wmts=function(e,t,n){return new b.a(e,t,n)};var v=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(Object(g.isArray)(e.url)?e.url:[e.url]),n=function(e){var t=i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),n=m.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return u()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:(Object(h.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:n,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return f.a.addAuthenticationParameter(t,n,e.securityToken)}));var r=i.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=m.a.getTileMatrix(e,r),a=o.tileMatrixSet,s=o.matrixIds;return l.a.tileLayer.wmts(t,n,{tileMatrixPrefix:e.tileMatrixPrefix||n.tileMatrixSet+":"||r+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:a})};o.a.registerType("wmts",{create:v,update:function(e,t,n){return n.securityToken!==t.securityToken||n.format!==t.format?v(t):null}})},"./MapStore2/web/client/components/map/leaflet/plugins/index.js":function(e,t,n){e.exports={BingLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js"),Commons:n("./MapStore2/web/client/components/map/leaflet/plugins/Commons.js"),GraticuleLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js"),GoogleLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js"),MapQuest:n("./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js"),OSMLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js"),TMSLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js"),TileProviderLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js"),WFSLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx").default,WMSLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js"),WMTSLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js"),VectorLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx")}},"./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Te}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/lodash/concat.js"),i=n.n(a),s=n("./node_modules/lodash/head.js"),l=n.n(s),c=n("./node_modules/lodash/find.js"),u=n.n(c),p=n("./node_modules/lodash/slice.js"),f=n.n(p),d=n("./node_modules/lodash/omit.js"),m=n.n(d),y=n("./node_modules/lodash/isArray.js"),b=n.n(y),g=n("./node_modules/lodash/last.js"),h=n.n(g),v=n("./node_modules/lodash/filter.js"),S=n.n(v),O=n("./node_modules/lodash/isNil.js"),w=n.n(O),E=n("./node_modules/lodash/castArray.js"),j=n.n(E),T=n("./node_modules/prop-types/index.js"),A=n.n(T),x=n("./node_modules/object-assign/index.js"),_=n.n(x),P=n("./node_modules/uuid/index.js"),M=n.n(P),C=n("./node_modules/axios/index.js"),L=n.n(C),R=n("./MapStore2/web/client/utils/MapUtils.js"),I=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),D=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),k=n("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),N=n("./MapStore2/web/client/utils/AnnotationsUtils.js"),F=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),G=n("./node_modules/ol/format/GeoJSON.js"),U=n("./node_modules/ol/Feature.js"),B=n("./node_modules/ol/source/Vector.js"),z=n("./node_modules/ol/layer/Vector.js"),H=n("./node_modules/ol/interaction/Draw.js"),V=n("./node_modules/ol/geom/MultiPoint.js"),W=n("./node_modules/ol/geom/Polygon.js"),Y=n("./node_modules/ol/geom/Point.js"),q=n("./node_modules/ol/geom/LineString.js"),Z=n("./node_modules/ol/geom/MultiLineString.js"),K=n("./node_modules/ol/geom/MultiPolygon.js"),Q=n("./node_modules/ol/geom/Circle.js"),X=n("./node_modules/ol/geom/GeometryCollection.js"),J=n("./node_modules/ol/style/Style.js"),$=n("./node_modules/ol/style/Fill.js"),ee=n("./node_modules/ol/style/Stroke.js"),te=n("./node_modules/ol/style/Text.js"),ne=n("./node_modules/ol/style/Circle.js"),re=n("./node_modules/ol/Collection.js"),oe=n("./node_modules/ol/events/condition.js"),ae=n("./node_modules/ol/interaction/DoubleClickZoom.js"),ie=n("./node_modules/ol/interaction/Translate.js"),se=n("./node_modules/ol/interaction/Modify.js"),le=n("./node_modules/ol/interaction/Select.js"),ce=n("./node_modules/ol/Observable.js"),ue=n("./node_modules/ol/extent.js");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?Oe(e):t}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=new G.a,Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(a,e);var t,n,r,o=ve(a);function a(){var e;be(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ee(Oe(e=o.call.apply(o,[this].concat(n))),"getNewFeature",(function(t,n,r,o){return new U.a({geometry:e.createOLGeometry({type:t,coordinates:n,radius:r,center:o})})})),Ee(Oe(e),"getMapCrs",(function(){return e.props.map.getView().getProjection().getCode()})),Ee(Oe(e),"updateFeatureStyles",(function(t){t&&t.length>0&&t.forEach((function(t){if(t.style){var n=e.toOlFeature(t);n&&n.setStyle(t.style?Object(F.d)(t):e.toOlStyle(t.style,t.selected))}}))})),Ee(Oe(e),"updateOnlyFeatureStyles",(function(t){e.drawLayer&&e.drawLayer.getSource().getFeatures().forEach((function(e){var n=l()(t.features).features||t.features,r=u()(n,(function(t){return t.properties.id===e.getProperties().id}));if(r){var o=Object(D.createStylesAsync)(j()(r.style));L.a.all(o).then((function(t){e.setStyle((function(){return Object(F.e)(ye(ye({},r),{},{style:t}))}))}))}}))})),Ee(Oe(e),"addLayer",(function(t,n){var r,o=e.convertGeometryTypeToStyleType(t.drawMethod);r=function(e){var n=l()(t.features)&&u()(l()(t.features).features,(function(t){return t.properties.id===e.getProperties().id}))||null;if(n){var r=Object(D.createStylesAsync)(j()(n.style));return L.a.all(r).then((function(t){e.setStyle((function(){return Object(F.e)(ye(ye({},n),{},{style:t}))}))})),null}return Object(F.e)({style:F.a[o]})},e.geojson=new G.a,e.drawSource=new B.a,e.drawLayer=new z.a({source:e.drawSource,zIndex:1e8,style:r}),e.props.map.addLayer(e.drawLayer),n&&e.addInteractions(t);var a=l()(t.features);if(a&&a.features&&a.features.length){var i=a.features.filter((function(e){return!e.properties.isCircle||e.properties.isCircle&&!e.properties.canEdit||!t.options.drawEnabled}));return e.addFeatures(_()({},t,{features:[ye(ye({},a),{},{features:i})]}))}return e.addFeatures(t)})),Ee(Oe(e),"addFeatures",(function(t){var n,r=t.features,o=t.drawMethod,a=t.options,i=e.getMapCrs();if(r.forEach((function(t){if("FeatureCollection"===t.type){var r=(new G.a).readFeatures(t);r=r.map((function(e){return Object(k.a)(e,i)})),e.drawSource=new B.a({features:r}),e.drawLayer.setSource(e.drawSource)}else{var s=null,l=t;l.geometry&&"GeometryCollection"!==l.geometry.type&&(l=Object(I.reprojectGeoJson)(l,l.featureProjection,i).geometry),"GeometryCollection"!==l.type&&("Circle"===o&&l&&(l.properties&&l.properties.center||l.center)?(s=[(s=l.properties&&l.properties.center?Object(I.reproject)(l.properties.center,"EPSG:4326",i):l.center).x,s.y],n=new U.a({geometry:e.createOLGeometry({type:"Circle",center:s,projection:"EPSG:3857",radius:l.properties&&l.properties.radius||l.radius,options:a})})):n=new U.a({geometry:e.createOLGeometry(l.geometry?l.geometry:ye(ye(ye({},l),l.properties),{},{center:s}))}),n.setProperties(t.properties),e.drawSource.addFeature(n))}})),0===r.length&&(a.editEnabled||a.drawEnabled))a.transformToFeatureCollection?(e.drawSource=new B.a({features:(new G.a).readFeatures({type:"FeatureCollection",features:[]})}),e.drawLayer.setSource(e.drawSource)):(n=new U.a({geometry:e.createOLGeometry({type:o,coordinates:null})}),e.drawSource.addFeature(n));else{if(r[0]&&"GeometryCollection"===r[0].type){e.drawSource=new B.a({features:(new G.a).readFeatures(r[0])});var s=e.replacePolygonsWithCircles(e.drawSource.getFeatures()[0]);e.drawSource.getFeatures()[0].getGeometry().setGeometries(s),e.drawLayer.setSource(e.drawSource)}r[0]&&r[0].geometry&&"GeometryCollection"===r[0].geometry.type&&(n=Object(I.reprojectGeoJson)(r[0],a.featureProjection,i).geometry,e.drawSource=new B.a({features:(new G.a).readFeatures(n)}),e.drawSource.getFeatures()[0].set("textGeometriesIndexes",r[0].properties&&r[0].properties.textGeometriesIndexes),e.drawSource.getFeatures()[0].set("textValues",r[0].properties&&r[0].properties.textValues),e.drawSource.getFeatures()[0].set("circles",r[0].properties&&r[0].properties.circles),e.drawLayer.setSource(e.drawSource))}return e.updateFeatureStyles(r),n})),Ee(Oe(e),"replaceFeatures",(function(t){var n;return e.drawLayer?(e.drawSource.clear(),n=e.addFeatures(t),t.style&&e.drawLayer.setStyle((function(n){var r=u()(l()(t.features).features,(function(e){return e.properties.id===n.getProperties().id}));if(r){var o=Object(D.createStylesAsync)(j()(r.style));return L.a.all(o).then((function(e){n.setStyle((function(){return Object(F.e)(ye(ye({},r),{},{style:e}))}))})),null}var a=e.convertGeometryTypeToStyleType(t.drawMethod);return Object(F.e)({style:F.a[a]})}))):n=e.addLayer(t,t.options&&t.options.drawEnabled||!1),n})),Ee(Oe(e),"endDrawing",(function(t){var n=e.replaceFeatures(t);if(n){var r=e.fromOLFeature(n);"Circle"===t.drawMethod&&t&&t.features&&t.features.length&&t.features[0]&&t.features[0].radius>=0&&(r.radius=t.features[0].radius),e.props.onEndDrawing(r,t.drawOwner)}})),Ee(Oe(e),"addDrawInteraction",(function(t,n,r,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new H.a(e.drawPropertiesForGeometryType(t,r,e.drawSource,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(t){var r=t.feature.clone();if(r.set("id",M.a.v1()),"Circle"===e.props.drawMethod&&"Circle"===r.getGeometry().getType()){var o=r.getGeometry().getRadius(),a=r.getGeometry().getCenter();r.setGeometry(e.polygonFromCircle(a,o))}var i=e.fromOLFeature(r,n);e.props.onEndDrawing(i,e.props.drawOwner),e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,e.props.features.concat([i])),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),Ee(Oe(e),"toMulti",(function(e){return"Point"===e.getType()?new V.a([e.getCoordinates()]):e})),Ee(Oe(e),"handleDrawAndEdit",(function(t,n,r,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new H.a(e.drawPropertiesForGeometryType(Object(R.getSimpleGeomType)(t),r,Object(R.isSimpleGeomType)(t)?e.drawSource:null,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(r){var a=r.feature.clone(),i=M.a.v1();a.set("id",i);var s,c,p,f=a.getGeometry(),d=e.drawLayer.getSource().getFeatures(),m=e.props.features;if(e.props.options.transformToFeatureCollection){var y;if("Circle"===t){p="Polygon";var b=f.getRadius(),g=f.getCenter(),v=e.polygonCoordsFromCircle(g,b);y=e.getNewFeature(p,v),g=Object(I.reproject)(g,e.getMapCrs(),"EPSG:4326",!1);var S=o&&o.features&&o.features.length&&o.features[0]&&o.features[0].features&&o.features[0].features.length&&o.features[0].features.filter((function(e){return e.properties.isDrawing}))[0].properties.id||i;y.setProperties({isCircle:!0,radius:b,center:[g.x,g.y],id:S,crs:e.getMapCrs()})}else if("Polygon"===t){p=e.props.drawMethod;var O=f.getCoordinates();O[0].push(O[0][0]),y=e.getNewFeature(p,O)}else{p="Text"===t?"Point":e.props.drawMethod;var w=f.getCoordinates();y=e.getNewFeature(p,w),"Text"===t&&y.setProperties({isText:!0,valueText:"."})}var E=d.length>=1?fe(e.replaceCirclesWithPolygonsInFeatureColl(d)):[];y.getProperties().id||y.setProperties({id:M.a.v1()});var j=[].concat(fe(E),[y]),T=je.writeFeaturesObject(j),A=new B.a({features:(new G.a).readFeatures(T)});e.drawLayer.setSource(A);var x=Object(I.reprojectGeoJson)(T,e.getMapCrs(),"EPSG:4326");e.props.onGeometryChanged([x],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(x,e.props.drawOwner),e.props.onDrawingFeatures([h()(x.features)])}else{if("Circle"===t){p="Polygon";var P=f.getRadius(),C=f.getCenter(),L=e.polygonCoordsFromCircle(C,P),D=e.toMulti(e.createOLGeometry({type:p,coordinates:L}));if(1===m.length&&m[0]&&!m[0].geometry)s=[],c=new X.default([D]);else if((s=e.toMulti(l()(d).getGeometry())).getGeometries){var k=e.replaceCirclesWithPolygons(l()(d));c=new X.default([].concat(fe(k),[D]))}else c=new X.default([s,D]);a.setGeometry(c)}else if("Text"===t||"MultiPoint"===t){var N=f.getCoordinates();p="MultiPoint";var F=e.toMulti(e.createOLGeometry({type:p,coordinates:[N]}));if(1!==m.length||m[0].geometry)if((s=e.toMulti(l()(d).getGeometry())).getGeometries){var U=e.replaceCirclesWithPolygons(l()(d));c=new X.default([].concat(fe(U),[F]))}else(c=s.clone()).appendPoint(F.getPoint(0));else s=[],c=F.clone();a.setGeometry(c)}else if(!Object(R.isSimpleGeomType)(t)){var z;c=null,s=1!==m.length||m[0].geometry?e.toMulti(l()(d).getGeometry()):e.toMulti(e.createOLGeometry({type:t,coordinates:null}));var H=d.map((function(e){return"GeometryCollection"===e.getGeometry().getType()?e.getGeometry().getGeometries():e.getGeometry()}));"GeometryCollection"===d[0].getGeometry().getType()&&(H=H[0]);var V=u()(H,(function(e){return e.getType()===t}));if(V?e.appendToMultiGeometry(t,V,f):z=e.toMulti(e.createOLGeometry({type:t,coordinates:f.getCoordinates()})),f.getType()!==Object(R.getSimpleGeomType)(s.getType())){var W=l()(d).getGeometry().getGeometries?e.replaceCirclesWithPolygons(l()(d)):[];if(V){var Y=W.map((function(e){return e.getType()===V.getType()?V:e}));c=new X.default(Y)}else c="GeometryCollection"===s.getType()?new X.default([].concat(fe(W),[z])):"Text"===t?new X.default([z]):new X.default([s,z]);a.setGeometry(c)}else a.setGeometry(V)}var q=e.props.features[0].properties;"Text"===t&&(q=_()({},e.props.features[0].properties,{textValues:(e.props.features[0].properties.textValues||[]).concat(["."]),textGeometriesIndexes:(e.props.features[0].properties.textGeometriesIndexes||[]).concat([a.getGeometry().getGeometries().length-1])})),"Circle"===t&&(q=_()({},q,{circles:(e.props.features[0].properties.circles||[]).concat([a.getGeometry().getGeometries().length-1])}));var Z=e.fromOLFeature(a,n,q),K=new B.a({features:(new G.a).readFeatures(Z)});e.drawLayer.setSource(K);var Q=Object(I.reprojectGeoJson)(je.writeFeatureObject(a.clone()),e.getMapCrs(),"EPSG:4326");"Polygon"===Q.geometry.type&&Q.geometry.coordinates[0].push(Q.geometry.coordinates[0][0]),e.props.onGeometryChanged([Q],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(Z,e.props.drawOwner),Z=Object(I.reprojectGeoJson)(Z,e.getMapCrs(),"EPSG:4326");var J=Object(R.isSimpleGeomType)(e.props.drawMethod)&&"GeometryCollection"!==e.props.features[0].geometry.type?e.props.features.map((function(t){return ye(ye({},t),{},{featureProjection:e.getMapCrs()})})).concat([ye(ye({},Z),{},{type:"Feature",geometry:{type:Z.type,coordinates:Z.coordinates},featureProjection:e.getMapCrs(),properties:q})]):[ye(ye({},Z),{},{properties:q})];e.props.options.stopAfterDrawing?e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,J):e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,J.map((function(t){return Object(I.reprojectGeoJson)(t,"EPSG:4326",e.getMapCrs())})),_()({},e.props.options,{featureProjection:e.getMapCrs()})),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))}})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),Ee(Oe(e),"drawPropertiesForGeometryType",(function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a={source:e.drawSource||r,type:t,style:"Marker"===t?Object(F.b)(o.style):new J.default({fill:new $.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ee.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new ne.default({radius:5,stroke:new ee.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new $.default({color:"rgba(255, 255, 255, 0.2)"})})}),features:new re.a,condition:oe.c},i={};switch(t){case"BBOX":i.type="LineString",i.maxPoints=2,i.geometryFunction=function(e,t){var n=t;n||(n=new W.b([]));var r=e[0],o=e[1];return n.setCoordinates([[r,[r[0],o[1]],o,[o[0],r[1]],r]]),n};break;case"Circle":i.maxPoints=100,o.options&&o.options.geodesic?i.geometryFunction=function(t,n){var r=n;r||(r=new W.b([])).setProperties({geodesicCenter:fe(t[0])},!0);var o=e.props.map.getView().getProjection().getCode(),a=fe(t).map((function(t){return e.reprojectCoordinatesToWGS84(t,o)})),i=Object(I.calculateDistance)(a,"haversine"),s=Object(W.a)(a[0],i).clone().transform("EPSG:4326",o).getCoordinates();return r.setCoordinates(s),r}:i.type=t;break;case"Marker":case"Point":case"Text":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":"LineString"===t&&(i.maxPoints=n);var s="Text"===t||"Marker"===t?"Point":t;i.type=s,i.geometryFunction=function(t,n){var r=n;return r||(r=e.createOLGeometry({type:s,coordinates:null,options:o.options})),r.setCoordinates(t),r};break;default:return{}}return _()({},a,i)})),Ee(Oe(e),"setDoubleClickZoomEnabled",(function(t){for(var n=e.props.map.getInteractions(),r=0;r<n.getLength();r++){var o=n.item(r);if(o instanceof ae.a){o.setActive(t);break}}})),Ee(Oe(e),"updateFeatureExtent",(function(t){var n=t.features.getArray(),r=e.props.features.map((function(t){var r=l()(n.filter((function(n){return e.fromOLFeature(n).id===t.id})));return r?_()({},t,{geometry:r.geometry,center:r.center,extent:r.extent,coordinate:r.coordinates,radius:r.radius}):t}));e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,r)})),Ee(Oe(e),"addInteractions",(function(t){e.clean(),e.drawLayer||e.addLayer(t),e.addDrawInteraction(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t),t.options&&t.options.editEnabled&&(e.addSelectInteraction(),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ie.a({features:e.selectInteraction.getFeatures()}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",e.updateFeatureExtent),e.props.map.addInteraction(e.translateInteraction),e.addTranslateListener(),e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction),e.modifyInteraction=new se.a({features:e.selectInteraction.getFeatures(),condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.props.map.addInteraction(e.modifyInteraction)),e.drawSource.clear(),t.features.length>0&&e.addFeatures(t)})),Ee(Oe(e),"addSingleClickListener",(function(e,t){return t.map.on("singleclick",e)})),Ee(Oe(e),"addDrawOrEditInteractions",(function(t){e.state&&e.state.keySingleClickCallback&&Object(ce.b)(e.state.keySingleClickCallback);e.clean();var n,r=Object(I.reprojectGeoJson)(l()(t.features),t.options.featureProjection,e.getMapCrs())||{};n=r&&r.features&&r.features.length?_()({},t,{features:[r]}):r&&r.properties&&r.properties.isCircle?_()({},t,{features:[]}):_()({},t,{features:r.geometry?[ye(ye({},r.geometry),{},{properties:r.properties})]:[]}),e.drawLayer?(e.drawSource.clear(),e.addFeatures(n)):e.addLayer(n),t.options.editEnabled&&(e.addModifyInteraction(t),!1!==t.options.translateEnabled&&e.addTranslateInteraction(),t.options.addClickCallback&&e.setState({keySingleClickCallback:e.addSingleClickListener((function(n){if(e.drawSource&&t.options){var r,o=e.drawSource.getFeatures(),a=0,i=o&&o.length&&o.filter((function(e,t){return e.getProperties().canEdit&&(a=t),e.getProperties().canEdit}))[0]||null,s=i&&i.getGeometry()&&i.getGeometry().getCoordinates&&i.getGeometry().getCoordinates()||[],l=[],c=t.drawMethod;switch(c){case"Polygon":l=s.length?Object(N.isCompletePolygon)(s)?[(l=(l=f()(s[0],0,s[0].length-1)).concat([n.coordinate])).concat([s[0][0]])]:s[0].length>1?[[].concat(fe(s[0]),[n.coordinate,s[0][0]])]:[[].concat(fe(s[0]),[n.coordinate])]:[[n.coordinate]],(r=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"));break;case"LineString":case"MultiPoint":l=s.length?[].concat(fe(s),[n.coordinate]):[n.coordinate],(r=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"));break;case"Circle":c="Polygon";var u=i&&i.getProperties()&&i.getProperties().radius||1e4,p=n.coordinate,d=e.polygonCoordsFromCircle(p,u);r=e.getNewFeature(c,d),p=Object(I.reproject)(p,e.getMapCrs(),"EPSG:4326",!1),r.setProperties(m()(i&&i.getProperties()||{},"geometry")),r.setProperties({isCircle:!0,radius:u,center:[p.x,p.y]});break;case"Text":c="Point",(r=e.getNewFeature(c,n.coordinate)).setProperties(m()(i&&i.getProperties()||{},"geometry")),r.setProperties({isText:!0,valueText:i&&i.getProperties()&&i.getProperties().valueText||t.options.defaultTextAnnotation||"New"});break;default:l=n.coordinate,(r=e.getNewFeature(c,l)).setProperties(m()(i&&i.getProperties()||{},"geometry"))}var y={type:"Feature",geometry:{coordinates:fe(Object(I.reprojectGeoJson)(je.writeFeaturesObject([r.clone()]),e.getMapCrs(),"EPSG:4326").features[0].geometry.coordinates),type:c},properties:ye({},m()(r.getProperties(),"geometry"))};e.props.onDrawingFeatures([y]),r=Object(k.a)(r,e.getMapCrs()),o[a]=r,e.drawSource=new B.a({features:o}),e.drawLayer.setSource(e.drawSource),e.addModifyInteraction(t)}}),t)})),t.options&&t.options.selectEnabled&&e.addSelectInteraction(t.options&&t.options.selected,t),t.options.drawEnabled&&e.handleDrawAndEdit(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t)})),Ee(Oe(e),"addSelectInteraction",(function(t,n){var r;if(e.selectInteraction&&e.props.map.removeInteraction(e.selectInteraction),t&&(r=u()(e.drawSource.getFeatures(),(function(e){return e.getProperties().id===t.properties.id})))&&e.selectFeature(r),e.selectInteraction=new le.a({layers:[e.drawLayer],features:new re.a(t&&r?[r]:null)}),r){var o=e.convertGeometryTypeToStyleType(n.drawMethod);r.setStyle(Object(F.d)(ye(ye({},n),{},{style:ye(ye({},n.style),{},{type:o,highlight:!0,useSelectedStyle:n.options.useSelectedStyle})}),!1,n.features[0]&&n.features[0].properties&&n.features[0].properties.valueText&&[n.features[0].properties.valueText]||[]))}e.selectInteraction.on("select",(function(t){var n=e.selectInteraction.getFeatures().getArray(),r=[];return n.length&&(r=e.props.features.map((function(r){var o;if("FeatureCollection"===r.type&&n.length>0){var a=l()(n);if(e.selectFeature(a),a.getGeometry&&"Circle"===a.getGeometry().getType()){var i=a.getGeometry().getRadius(),s=Object(I.reproject)(a.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326");a.setProperties({center:[s.x,s.y],radius:i}),a=e.replaceCircleWithPolygon(a.clone())}return e.drawSource.getFeatures().forEach((function(t){t.getProperties().id===a.getProperties().id?e.selectFeature(a):e.deselectFeature(t)})),Object(I.reprojectGeoJson)(je.writeFeatureObject(a.clone()),e.getMapCrs(),"EPSG:4326")}return o=n.reduce((function(e,t){return t.get("id")===r.id||e}),!1),_()({},r,{selected:o,selectedFeature:t.selected})})),e.props.onSelectFeatures(r)),0===n.length?(e.props.onSelectFeatures([]),e.drawSource.getFeatures().map((function(t){return e.deselectFeature(t)})),null):null})),e.props.map.addInteraction(e.selectInteraction)})),Ee(Oe(e),"selectFeature",(function(e){e.setProperties({selected:!0})})),Ee(Oe(e),"deselectFeature",(function(e){e.setProperties({selected:!1})})),Ee(Oe(e),"removeDrawInteraction",(function(){e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,setTimeout((function(){return e.props.map.enableEventListener("singleclick")}),500),setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),250))})),Ee(Oe(e),"removeInteractions",(function(){e.removeDrawInteraction(),e.selectInteraction&&(e.props.map.enableEventListener("singleclick"),e.props.map.removeInteraction(e.selectInteraction)),e.modifyInteraction&&(e.props.map.removeInteraction(e.modifyInteraction),e.props.map.un("singleclick")),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction)})),Ee(Oe(e),"clean",(function(t){t||e.removeInteractions(),e.drawLayer&&(e.props.map.removeLayer(e.drawLayer),e.geojson=null,e.drawLayer=null,e.drawSource=null)})),Ee(Oe(e),"fromOLFeature",(function(t,n,r){var o=t.getGeometry(),a=e.props.map.getView().getProjection().getCode(),s=o.getType();if(o.getCoordinates){var l,c=o.getExtent(),u=o.getProperties(),p=u&&u.geodesicCenter||Object(ue.x)(c),f=o.getCoordinates();if(n&&(f=i()(n,f),o.setCoordinates(f)),"Circle"===e.props.drawMethod)if(e.props.options.geodesic){var d=[fe(p),fe(f[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,a)}));l=Object(I.calculateDistance)(d,"haversine")}else l=e.calculateRadius(p,f);return _()({},{id:t.get("id"),type:s,extent:c,center:p,coordinates:f,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}var m=o.getGeometries().map((function(o,s){var l,c=o.getExtent(),u=Object(ue.x)(c),p=o.getCoordinates();if(n&&(p=i()(n,p),o.setCoordinates(p)),r.circles&&-1!==r.circles.indexOf(s))if(e.props.options.geodesic){var f=[fe(u),fe(p[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,a)}));l=Object(I.calculateDistance)(f,"haversine")}else l=e.calculateRadius(u,p);else l=0;return _()({},{id:t.get("id"),type:o.getType(),extent:c,center:u,coordinates:p,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}));return _()({},{type:"Feature",id:t.get("id"),style:e.fromOlStyle(t.getStyle()),geometry:{type:"GeometryCollection",geometries:m},projection:a})})),Ee(Oe(e),"reprojectCoordinatesToWGS84",(function(e,t){var n=Object(I.reproject)(e,t,"EPSG:4326");return[n.x,n.y]})),Ee(Oe(e),"toOlFeature",(function(t){return l()(e.drawSource.getFeatures().filter((function(e){return e.get("id")===t.id})))})),Ee(Oe(e),"fromOlStyle",(function(t){return t?{fillColor:e.rgbToHex(t.getFill().getColor()),fillTransparency:t.getFill().getColor()[3],strokeColor:t.getStroke().getColor(),strokeWidth:t.getStroke().getWidth(),text:t.getText().getText()}:{}})),Ee(Oe(e),"toOlStyle",(function(t,n,r){var o=t&&t.fillColor?t.fillColor:[255,255,255,.2];"string"==typeof o&&(o=e.hexToRgb(o).concat([t.fillOpacity>=0&&t.fillOpacity<=1?t.fillOpacity:1])),t&&t.fillTransparency&&(o[3]=t.fillTransparency);var a=t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#ffcc33";n&&(a="#4a90e2"),a=e.hexToRgb(a).concat([t&&t.opacity||1]);var i=new J.default({fill:new $.default({color:o}),stroke:new ee.default({color:a,width:t&&(t.strokeWidth||t.weight)?t.strokeWidth||t.weight:2}),text:new te.default({text:t&&t.text?t.text:"",fill:new $.default({color:t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#000"}),stroke:new ee.default({color:"#fff",width:2}),font:t&&t.fontSize?t.fontSize+"px helvetica":""})});return"GeometryCollection"===r?[].concat(fe(Object(F.c)({style:{iconGlyph:"comment",iconShape:"square",iconColor:"blue"}})),[i]):t&&(t.iconUrl||t.iconGlyph)?Object(F.c)({style:t}):i})),Ee(Oe(e),"hexToRgb",(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})));return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null})),Ee(Oe(e),"componentToHex",(function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})),Ee(Oe(e),"rgbToHex",(function(t){return"#"+e.componentToHex(t[0])+e.componentToHex(t[1])+e.componentToHex(t[2])})),Ee(Oe(e),"addModifyInteraction",(function(t){e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction);var n=t&&t.options&&t.options.editFilter;e.modifyFeatureColl=new re.a(S()(e.drawLayer.getSource().getFeatures(),n)),e.modifyInteraction=new se.a({features:e.modifyFeatureColl,condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.modifyInteraction.on("modifyend",(function(t){var n=t.features.getArray().map((function(t){var n=t.clone();if(n.getGeometry&&"GeometryCollection"===n.getGeometry().getType()&&n.getGeometry().setGeometries(e.replaceCirclesWithPolygons(n)),n.getGeometry&&n.getGeometry()&&"Circle"===n.getGeometry().getType()){var r=Object(I.reproject)(n.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=n.getGeometry().getRadius();n.setProperties({center:[r.x,r.y],radius:o}),t.setProperties({center:[r.x,r.y],radius:o}),n=e.replaceCircleWithPolygon(n.clone())}return Object(I.reprojectGeoJson)(je.writeFeatureObject(n),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(n):e.props.onGeometryChanged(n,e.props.drawOwner,!1,"editing","editing")})),e.props.map.addInteraction(e.modifyInteraction)})),Ee(Oe(e),"addTranslateInteraction",(function(){e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ie.a({features:new re.a(e.drawLayer.getSource().getFeatures())}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",(function(t){var n=t.features.getArray().map((function(t){var n=t.clone();if(n.getGeometry&&"GeometryCollection"===n.getGeometry().getType()&&n.getGeometry().setGeometries(e.replaceCirclesWithPolygons(n)),n.getGeometry&&n.getGeometry()&&"Circle"===n.getGeometry().getType()){var r=Object(I.reproject)(n.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=n.getGeometry().getRadius();n.setProperties({center:[r.x,r.y],radius:o}),n=e.replaceCircleWithPolygon(n)}return t.getProperties()&&t.getProperties().selected&&e.props.onSelectFeatures([Object(I.reprojectGeoJson)(je.writeFeatureObject(n),e.getMapCrs(),"EPSG:4326")]),Object(I.reprojectGeoJson)(je.writeFeatureObject(n),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(n):e.props.onGeometryChanged(n,e.props.drawOwner,e.props.drawOwner,!1,"Text"===e.props.drawMethod,"Circle"===e.props.drawMethod)})),e.addTranslateListener(),e.props.map.addInteraction(e.translateInteraction)})),Ee(Oe(e),"createOLGeometry",(function(t){var n=t.type,r=t.coordinates,o=t.radius,a=t.center,i=t.geometries,s=t.projection,l=t.options,c=void 0===l?{}:l;return"GeometryCollection"===n?i&&i.length?new X.default(i.map((function(t){return e.olGeomFromType({type:t.type})}))):new X.default([]):e.olGeomFromType({type:n,coordinates:r,radius:o,center:a,projection:s,options:c})})),Ee(Oe(e),"olGeomFromType",(function(t){var n,r=t.type,o=t.coordinates,a=t.radius,i=t.center,s=t.projection,l=t.options;switch(r){case"Point":case"Marker":case"Text":n=new Y.a(o||[]);break;case"LineString":n=new q.a(o||[]);break;case"MultiPoint":n=new V.a(o||[]);break;case"MultiLineString":n=new Z.a(o||[]);break;case"MultiPolygon":n=new K.a(o||[]);break;default:var c=b()(i)?{x:i[0],y:i[1]}:i,u=s&&!isNaN(parseFloat(a))&&c&&!w()(c.x)&&!w()(c.y)&&!isNaN(parseFloat(c.x))&&!isNaN(parseFloat(c.y));(n=u?l.geodesic?Object(W.a)(e.reprojectCoordinatesToWGS84([c.x,c.y],s),a,100).clone().transform("EPSG:4326",s):Object(W.c)(new Q.a([c.x,c.y],a),100):new W.b(o&&b()(o[0])?o:[]))&&u&&l.geodesic&&n.setProperties({geodesicCenter:[c.x,c.y]},!0)}return n})),Ee(Oe(e),"convertGeometryTypeToStyleType",(function(e){switch(e){case"BBOX":return"LineString";default:return e}})),Ee(Oe(e),"appendToMultiGeometry",(function(e,t,n){switch(e){case"MultiPoint":t.appendPoint(n);break;case"MultiLineString":t.appendLineString(n);break;case"MultiPolygon":var r=n.getCoordinates();r[0].push(r[0][0]),n.setCoordinates(r),t.appendPolygon(n)}})),Ee(Oe(e),"calculateRadius",(function(e,t){return b()(t)&&b()(t[0])&&b()(t[0][0])?Math.sqrt(Math.pow(e[0]-t[0][0][0],2)+Math.pow(e[1]-t[0][0][1],2)):100})),Ee(Oe(e),"polygonFromCircle",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(W.c)(new Q.a(e,t),n)})),Ee(Oe(e),"polygonCoordsFromCircle",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return e.polygonFromCircle(t,n,r).getCoordinates()})),Ee(Oe(e),"replaceCirclesWithPolygonsInFeatureColl",(function(t){return t.map((function(t){return"Circle"!==t.getGeometry().getType()?t:e.replaceCircleWithPolygon(t)}))})),Ee(Oe(e),"replaceCircleWithPolygon",(function(t){if(t.getProperties().isCircle&&"Circle"===t.getGeometry().getType()){var n=t.getGeometry().getCenter(),r=t.getGeometry().getRadius();return t.setGeometry(e.polygonFromCircle(n,r)),t}return t})),Ee(Oe(e),"replaceCirclesWithPolygons",(function(t){return t.getGeometry&&!t.getGeometry().getGeometries?t:t.getGeometry().getGeometries().map((function(n,r){if("Circle"!==n.getType())return n;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(r)){var o=n.getCenter(),a=n.getRadius();return e.polygonFromCircle(o,a)}return n}))})),Ee(Oe(e),"replacePolygonsWithCircles",(function(t){return t.getGeometry().getGeometries().map((function(n,r){if("Polygon"!==n.getType())return n;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(r)){var o=n.getExtent(),a=Object(ue.x)(o),i=e.calculateRadius(a,n.getCoordinates());return new Q.a(a,i)}return n}))})),Ee(Oe(e),"addTranslateListener",(function(){document.addEventListener("keydown",(function(t){t.altKey&&"AltLeft"===t.code&&e.translateInteraction.setActive(!0)})),document.addEventListener("keyup",(function(t){"AltLeft"===t.code&&e.translateInteraction.setActive(!1)}))})),e}return t=a,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.drawLayer&&this.updateFeatureStyles(e.features),!e.drawStatus&&this.selectInteraction&&this.selectInteraction.getFeatures().clear(),this.props.drawStatus!==e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addLayer(e);break;case"start":this.addInteractions(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeDrawInteraction();break;case"replace":this.replaceFeatures(e);break;case"updateStyle":this.updateOnlyFeatureStyles(e);break;case"clean":this.clean();break;case"cleanAndContinueDrawing":this.clean(!0);break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&ge(t.prototype,n),r&&ge(t,r),a}(o.a.Component);Ee(Te,"propTypes",{map:A.a.object,drawOwner:A.a.string,drawStatus:A.a.string,drawMethod:A.a.string,options:A.a.object,features:A.a.array,onChangeDrawingStatus:A.a.func,onGeometryChanged:A.a.func,onDrawStopped:A.a.func,onDrawingFeatures:A.a.func,onSelectFeatures:A.a.func,onEndDrawing:A.a.func,style:A.a.object}),Ee(Te,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onDrawingFeatures:function(){},onSelectFeatures:function(){},onEndDrawing:function(){}})},"./MapStore2/web/client/components/map/openlayers/Feature.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),s=n("./node_modules/axios/index.js"),l=n.n(s),c=n("./node_modules/lodash/isEqual.js"),u=n.n(c),p=n("./node_modules/lodash/find.js"),f=n.n(p),d=n("./node_modules/lodash/castArray.js"),m=n.n(d),y=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),b=n("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),g=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),h=n("./node_modules/ol/format/GeoJSON.js");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o=T(a);function a(){var e;w(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(x(e=o.call.apply(o,[this].concat(n))),"addFeatures",(function(t){var n=new h.a,r=null,o=!1;"FeatureCollection"===t.type?(r={features:t.features},o=!!t.features):(r={geometry:t.geometry},o=!(!t.geometry||!t.geometry.geometries&&!t.geometry.coordinates)),t.container&&o&&(e._feature=n.readFeatures(O({type:t.type,properties:t.properties,id:t.msId},r),{dataProjection:t.featuresCrs}),e._feature.map((function(e){var n=e;return e.getProperties().isCircle&&(n=Object(b.a)(e,t.crs||"EPSG:3857",t.featuresCrs)).setGeometry(n.getGeometry().transform(t.crs||"EPSG:3857",t.featuresCrs)),n})).forEach((function(e){return e.getGeometry().transform(t.featuresCrs,t.crs||"EPSG:3857")})),t.style&&t.style!==t.layerStyle&&e._feature.forEach((function(e){var n=[],r={};"FeatureCollection"===t.type?(r=f()(t.features,(function(t){return t.properties.id===e.getProperties().id})),n=Object(g.createStylesAsync)(m()(r.style))):(n=Object(g.createStylesAsync)(m()(t.style)),r={type:t.type,geometry:t.geometry,properties:t.properties,style:t.style}),l.a.all(n).then((function(t){e.setStyle((function(){return Object(y.e)(O(O({},r),{},{style:t}))}))}))})),t.container.getSource().addFeatures(e._feature))})),P(x(e),"removeFromContainer",(function(){if(e._feature)if(Array.isArray(e._feature)){var t=e.props.container.getSource();e._feature.map((function(e){var n=e.getId();void 0!==n&&t.getFeatureById(n)?t.removeFeature(t.getFeatureById(n)):t.removeFeature(e)}))}else e.props.container.getSource().removeFeature(e._feature)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.addFeatures(this.props)}},{key:"shouldComponentUpdate",value:function(e){return!(u()(e.properties,this.props.properties)&&u()(e.geometry,this.props.geometry)&&u()(e.features,this.props.features)&&u()(e.crs,this.props.crs)&&u()(e.style,this.props.style))}},{key:"UNSAFE_componentWillUpdate",value:function(e){this.removeFromContainer(),this.addFeatures(e)}},{key:"componentWillUnmount",value:function(){this.removeFromContainer()}},{key:"render",value:function(){return null}}])&&E(t.prototype,n),r&&E(t,r),a}(o.a.Component);P(M,"propTypes",{type:i.a.string,layerStyle:i.a.object,style:i.a.object,properties:i.a.object,crs:i.a.string,container:i.a.object,features:i.a.array,geometry:i.a.object,msId:i.a.oneOfType([i.a.string,i.a.number]),featuresCrs:i.a.string}),P(M,"defaultProps",{featuresCrs:"EPSG:4326"})},"./MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),s=n("./node_modules/ol/interaction/Select.js"),l=n("./node_modules/ol/events/condition.js"),c=n("./node_modules/ol/style/Stroke.js"),u=n("./node_modules/ol/style/Fill.js"),p=n("./node_modules/ol/style/Style.js"),f=n("./node_modules/ol/style/Circle.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){var e;b(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(O(e=o.call.apply(o,[this].concat(n))),"getLayer",(function(){var t;return e.props.map.getLayers().forEach((function(n){e.layersFilter(n)&&(t=n)}),O(e)),t})),E(O(e),"setSelectInteraction",(function(){e._selectInteraction.getActive()||e._selectInteraction.setActive(!0)})),E(O(e),"createSelectInteraction",(function(){e.createStyle(),e._selectInteraction=new s.a({layers:e.layersFilter,style:e._style,toggleCondition:l.i}),e._selectInteraction.on("select",e.selectionChange,O(e)),e.props.map.addInteraction(e._selectInteraction)})),E(O(e),"selectionChange",(function(){var t=[];e._selectInteraction.getFeatures().forEach((function(e){t.push(e.getId())})),e.props.updateHighlighted(t,"")})),E(O(e),"cleanSupport",(function(){e._selectInteraction&&e._selectInteraction.getActive()&&(e._selectInteraction.getFeatures().clear(),e.props.updateHighlighted([],""),e._selectInteraction.setActive(!1))})),E(O(e),"layersFilter",(function(t){return e.props.layer&&t.get("msId")===e.props.layer})),E(O(e),"createStyle",(function(){var t=e.props.selectedStyle,n={stroke:new c.default(t.stroke?t.stroke:{color:"blue",width:1}),fill:new u.default(t.fill?t.fill:{color:"blue"})};"Point"===t.type&&(n={image:new f.default(y(y({},n),{},{radius:t.radius||5}))}),e._style=new p.default(n)})),E(O(e),"highlightFeatures",(function(t){var n=e.getLayer(),r=e._selectInteraction.getFeatures();(r.clear(),n)&&n.getSource().getFeatures().map((function(e){-1!==t.indexOf(e.getId())&&r.push(e)}),O(e))})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.createSelectInteraction(),"enabled"===this.props.status?this._selectInteraction.setActive(!0):this._selectInteraction.setActive(!1),this.props.features&&this.highlightFeatures(this.props.features)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}},{key:"UNSAFE_componentWillUpdate",value:function(e){switch(e.status){case"enabled":this.setSelectInteraction(e);break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}},{key:"componentWillUnmount",value:function(){this._selectInteraction&&(this.cleanSupport(),this._selectInteraction.un("select",this.selectionChange,this),this.props.map.removeInteraction(this._selectInteraction),this._selectInteraction=null,this._style=null)}},{key:"render",value:function(){return null}}])&&g(t.prototype,n),r&&g(t,r),a}(i.a.Component);E(j,"propTypes",{map:o.a.object,layer:o.a.string.isRequired,status:o.a.oneOf(["disabled","enabled","update"]),updateHighlighted:o.a.func,selectedStyle:o.a.object,features:o.a.array}),E(j,"contextTypes",{messages:o.a.object}),E(j,"defaultProps",{status:"disabled",updateHighlighted:function(){},selectedStyle:{type:"Point",radius:12,stroke:{width:4,color:"yellow"},fill:{color:"red"}}})},"./MapStore2/web/client/components/map/openlayers/Layer.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),s=n("./MapStore2/web/client/utils/openlayers/Layers.js"),l=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=n.n(l),u=n("./node_modules/object-assign/index.js"),p=n.n(u),f=n("./node_modules/rxjs/Rx.js"),d=n.n(f),m=n("./node_modules/lodash/isNumber.js"),y=n.n(m),b=n("./node_modules/lodash/isArray.js"),g=n.n(b),h=n("./node_modules/lodash/omit.js"),v=n.n(h),S=n("./node_modules/lodash/isEqual.js"),O=n.n(S);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,n,r,o=A(a);function a(){var e;E(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(_(e=o.call.apply(o,[this].concat(n))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&e.layer&&e.isValid()&&e.layer.setVisible(t)})),M(_(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity(t)})),M(_(e),"generateOpts",(function(t,n,r,o,a){return p()({},t,y()(n)?{zIndex:n}:null,{srs:r,onError:function(){e.props.onCreationError(t)},securityToken:o,env:a})})),M(_(e),"createLayer",(function(t,n,r,o,a){if(t){var i=e.generateOpts(n,r,c.a.normalizeSRS(e.props.srs),o,a);e.layer=s.default.createLayer(t,i,e.props.map,e.props.mapId);var l=s.default.isCompatible(t,i);if(e.layer&&!e.layer.detached){var u=e.props.map,p=u&&u.getView().getProjection().getExtent(),f=n&&n.bbox&&n.bbox.bounds,d=p&&c.a.reprojectBbox(p,e.props.srs,"EPSG:4326"),m=f&&c.a.reprojectBbox(c.a.getExtentFromNormalized(f,e.props.srs).extent,"EPSG:4326");m&&2===m.length&&g()(m[1])&&(m=m[1]),(d&&m&&!c.a.isBboxCompatible(c.a.getPolygonFromExtent(d),c.a.getPolygonFromExtent(m))||!l)&&e.props.onWarning({title:"warning",message:"notification.incompatibleDataAndProjection",action:{label:"close"},position:"tc",uid:"1"}),e.addLayer(n)}e.layer&&e.layer.get&&e.layer.get("getElevation")&&e.props.map.set("elevationLayer",e.layer),e.forceUpdate()}})),M(_(e),"updateLayer",(function(t,n){if(t.position===n.position&&t.srs===n.srs&&t.securityToken===n.securityToken){if(t.options===n.options)return;if(O()(v()(t.options,["loading"]),v()(n.options,["loading"])))return}var r=s.default.updateLayer(e.props.type,e.layer,e.generateOpts(t.options,t.position,t.projection,t.securityToken,t.env),e.generateOpts(n.options,n.position,n.projection,n.securityToken,n.env),e.props.map,e.props.mapId);r&&(e.props.map.removeLayer(e.layer),e.layer=r,e.addLayer(t.options))})),M(_(e),"addLayer",(function(t){if(e.isValid()){e.props.map.addLayer(e.layer);var n=new d.a.Subject,r=new d.a.Subject;t.handleClickOnLayer&&e.layer.set("handleClickOnLayer",!0),e.layer.getSource().on("tileloadstart",(function(){0===e.tilestoload?(e.props.onLayerLoading(t.id),e.tilestoload++):e.tilestoload++})),e.layer.getSource().on("tileloadend",(function(){n.next({type:"tileloadend"}),e.tilestoload--,0===e.tilestoload&&r.next()})),e.layer.getSource().on("tileloaderror",(function(t){n.next({type:"tileloaderror",event:t}),e.tilestoload--,0===e.tilestoload&&r.next()})),n.bufferWhen((function(){return r})).subscribe({next:function(n){var r=n.filter((function(e){return"tileloaderror"===e.type}));r.length>0&&(t&&!t.hideErrors||!t)?(e.props.onLayerLoad(t.id,{error:!0}),e.props.onLayerError(t.id,n.length,r.length)):e.props.onLayerLoad(t.id)}}),e.tileLoadEndStream$=n,e.tileStopStream$=r;var o=new d.a.Subject,a=new d.a.Subject;if(e.layer.getSource().on("imageloadstart",(function(){0===e.imagestoload?(e.props.onLayerLoading(t.id),e.imagestoload++):e.imagestoload++})),e.layer.getSource().on("imageloadend",(function(){e.imagestoload--,o.next({type:"imageloadend"}),0===e.imagestoload&&a.next()})),e.layer.getSource().on("imageloaderror",(function(t){e.imagestoload--,o.next({type:"imageloaderror",event:t}),0===e.imagestoload&&a.next()})),o.bufferWhen((function(){return a})).subscribe({next:function(n){var r=n.filter((function(e){return"imageloaderror"===e.type}));r.length>0?(e.props.onLayerLoad(t.id,{error:!0}),(t&&!t.hideErrors||!t)&&e.props.onLayerError(t.id,n.length,r.length)):e.props.onLayerLoad(t.id)}}),e.imageLoadEndStream$=o,e.imageStopStream$=a,t.refresh){var i=0;e.refreshTimer=setInterval((function(){e.layer.getSource().updateParams(p()({},t.params,{_refreshCounter:i++}))}),t.refresh)}}})),M(_(e),"isValid",(function(){var t=s.default.isValid(e.props.type,e.layer);return e.valid=t,t})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.valid=!0,this.tilestoload=0,this.imagestoload=0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken,this.props.env)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var n=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(n),e.position!==this.props.position&&this.layer&&this.layer.setZIndex&&this.layer.setZIndex(e.position),this.props.options&&this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.tileLoadEndStream$&&(this.tileLoadEndStream$.complete(),this.tileStopStream$.complete(),this.imageLoadEndStream$.complete(),this.imageStopStream$.complete()),this.layer.detached?this.layer.remove():this.props.map.removeLayer(this.layer)),this.refreshTimer&&clearInterval(this.refreshTimer),s.default.removeLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,n=t?i.a.Children.map(this.props.children,(function(n){return n?i.a.cloneElement(n,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return i.a.createElement(i.a.Fragment,null,n)}return s.default.renderLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}}])&&j(t.prototype,n),r&&j(t,r),a}(i.a.Component);M(C,"propTypes",{onWarning:o.a.func,maxExtent:o.a.array,map:o.a.object,mapId:o.a.string,srs:o.a.string,type:o.a.string,options:o.a.object,onLayerLoading:o.a.func,onLayerError:o.a.func,onCreationError:o.a.func,onLayerLoad:o.a.func,position:o.a.number,observables:o.a.array,securityToken:o.a.string,env:o.a.array}),M(C,"defaultProps",{observables:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},onCreationError:function(){},onWarning:function(){},srs:"EPSG:3857"})},"./MapStore2/web/client/components/map/openlayers/Locate.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),s=(n("./MapStore2/web/client/utils/openlayers/olPopUp.css"),n("./node_modules/object-assign/index.js")),l=n.n(s),c=n("./node_modules/ol/util.js"),u=n("./node_modules/ol/Object.js"),p=n("./node_modules/ol/Overlay.js"),f=n("./node_modules/ol/Feature.js"),d=n("./node_modules/ol/source/Vector.js"),m=n("./node_modules/ol/layer/Vector.js"),y=n("./node_modules/ol/Geolocation.js"),b=n("./node_modules/ol/geom/Point.js"),g=n("./node_modules/ol/geom/Circle.js"),h=n("./node_modules/ol/geom/GeometryCollection.js"),v=n("./node_modules/ol/style/Style.js"),S=n("./node_modules/ol/style/Fill.js"),O=n("./node_modules/ol/style/Stroke.js"),w=n("./node_modules/ol/style/Circle.js"),E=function(){var e=document.createElement("div");e.setAttribute("class","ol-popup");var t=document.createElement("a");t.setAttribute("class","ol-popup-close-btn"),t.setAttribute("href","#close"),t.innerHTML="x";var n=document.createElement("div");n.setAttribute("class","ol-popup-cnt-wrapper");var r=document.createElement("div");r.setAttribute("class","ol-popup-cnt"),n.appendChild(r);var o=document.createElement("div");o.setAttribute("class","ol-popup-tip-wrapper");var a=document.createElement("div");return a.setAttribute("class","ol-popup-tip"),o.appendChild(a),e.appendChild(t),e.appendChild(n),e.appendChild(o),e}(),j=function(e,t){u.a.call(this,{state:"DISABLED"}),this.map=e;var n={drawCircle:!0,follow:!0,stopFollowingOnDrag:!1,remainActive:!0,locateStyle:this._getDefaultStyles(),metric:!0,onLocationError:this.onLocationError,keepCurrentZoomLevel:!1,showPopup:!0,strings:{metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point"},locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}};this.options=l()({},n,t||{}),this.geolocate=new y.a({projection:this.map.getView().getProjection(),trackingOptions:this.options.locateOptions}),this.updateHandler=this._updatePosFt.bind(this),this.geolocate.on("change:position",this.updateHandler),this.popup=E,this.popup.hidden=!0,this.popCnt=E.getElementsByClassName("ol-popup-cnt")[0],this.overlay=new p.a({element:this.popup,positioning:"top-center",stopEvent:!1}),this.layer=new m.a({source:new d.a({useSpatialIndex:!1})}),this.posFt=new f.a({geometry:this.geolocate.getAccuracyGeometry(),name:"position",id:"_locate-pos"}),this.posFt.setStyle(this.options.locateStyle),this.layer.getSource().addFeature(this.posFt),this.clickHandler=this.mapClick.bind(this),this.stopHandler=this.stopFollow.bind(this),this.errorHandler=this.options.onLocationError.bind(this)};Object(c.d)(j,u.a),j.prototype.start=function(){this.geolocate.on("error",this.errorHandler),this.follow=this.options.follow,this.geolocate.setTracking(!0),this.layer.setMap(this.map),this.map.addOverlay(this.overlay),this.options.showPopup&&(this.map.on("click",this.clickHandler),this.map.on("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p?this._updatePosFt():this.set("state","LOCATING")},j.prototype.startFollow=function(){this.follow=!0,this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p&&this._updatePosFt()},j.prototype.stop=function(){this.geolocate.un("error",this.errorHandler),this.geolocate.setTracking(!1),this.popup.hide=!0,this.map.removeOverlay(this.overlay),this.layer.setMap(null),this.options.showPopup&&(this.map.un("click",this.clickHandler),this.map.un("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.un("pointerdrag",this.stopHandler),this.set("state","DISABLED")},j.prototype.stopFollow=function(){this.follow=!1,this.map.un("pointerdrag",this.stopHandler),this.set("state","ENABLED")},j.prototype._updatePosFt=function(){var e=this.get("state"),t=this.follow?"FOLLOWING":"ENABLED";t!==e&&this.set("state",t);var n=this.geolocate.getPosition();this.p=n;var r=new b.a([parseFloat(n[0]),parseFloat(n[1])]);if(this.options.drawCircle){var o=new g.a([parseFloat(n[0]),parseFloat(n[1])],this.geolocate.getAccuracy());this.posFt.setGeometry(new h.default([r,o]))}else this.posFt.setGeometry(new h.default([r]));this.popup.hidden||this._updatePopUpCnt(),this.follow&&this.updateView(r),this.options.remainActive||this.geolocate.setTracking(!1)},j.prototype.updateView=function(e){this.follow&&(this.map.getView().setCenter(e.getCoordinates()),this.options.keepCurrentZoomLevel||this.map.getView().setZoom(this.options.locateOptions.maxZoom))},j.prototype._updatePopUpCnt=function(){var e,t;this.options.metric?(e=this.geolocate.getAccuracy(),t=this.options.strings.metersUnit):(e=Math.round(3.2808399*this.geolocate.getAccuracy()),t=this.options.strings.feetUnit);var n=this.options.strings.popup.replace("{distance}",e);this.popCnt.innerHTML=n.replace("{unit}",t),this.overlay.setPosition(this.posFt.getGeometry().getGeometries()[0].getCoordinates()),this.popup.hidden=!1},j.prototype.onLocationError=function(e){alert(e.message)},j.prototype.mapClick=function(e){var t=this.map.forEachFeatureAtPixel(e.pixel,(function(e){return e}));t&&"_locate-pos"===t.get("id")&&this.popup.hidden?this._updatePopUpCnt():this.popup.hidden||(E.hidden=!0)},j.prototype._getDefaultStyles=function(){return new v.default({image:new w.default({radius:6,fill:new S.default({color:"rgba(42,147,238,0.7)"}),stroke:new O.default({color:"rgba(19,106,236,1)",width:2})}),fill:new S.default({color:"rgba(19,106,236,0.15)"}),stroke:new O.default({color:"rgba(19,106,236,1)",width:2})})},j.prototype.setStrings=function(e){this.options.strings=l()({},this.options.strings,e)};var T=j;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return k}));var D={follow:!0,remainActive:!0,metric:!0,stopFollowingOnDrag:!0,keepCurrentZoomLevel:!1,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,o=M(a);function a(){var e;x(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(L(e=o.call.apply(o,[this].concat(n))),"onStateChange",(function(t){e.props.status!==t&&e.props.changeLocateState(t)})),I(L(e),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),I(L(e),"configureLocate",(function(t){var n=e.locate.get("state");"ENABLED"===t&&"DISABLED"===n?e.locate.start():"FOLLOWING"===t&&"ENABLED"===n?e.locate.startFollow():"DISABLED"===t&&e.locate.stop()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.map&&(this.locate=new T(this.props.map,D),this.locate.setStrings(this.props.messages),this.locate.options.onLocationError=this.onLocationError,this.locate.on("propertychange",(function(t){e.onStateChange(t.target.get(t.key))})),this.configureLocate(this.props.status))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.status!==this.props.status&&this.configureLocate(e.status),e.messages!==this.props.messages&&this.locate.setStrings(e.messages)}},{key:"render",value:function(){return null}}])&&_(t.prototype,n),r&&_(t,r),a}(i.a.Component);I(k,"displayName","Locate"),I(k,"propTypes",{map:o.a.object,status:o.a.string,messages:o.a.object,changeLocateState:o.a.func,onLocateError:o.a.func}),I(k,"defaultProps",{id:"overview",status:"DISABLED",changeLocateState:function(){},onLocateError:function(){}})},"./MapStore2/web/client/components/map/openlayers/Map.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/ol/interaction.js"),o=n("./node_modules/ol/interaction/DragPan.js"),a=n("./node_modules/ol/interaction/MouseWheelZoom.js"),i=n("./node_modules/ol/control/util.js"),s=n("./node_modules/ol/Map.js"),l=n("./node_modules/ol/View.js"),c=n("./node_modules/ol/proj.js"),u=n("./node_modules/ol/control/Zoom.js"),p=n("./node_modules/ol/proj/Units.js"),f=n("./node_modules/ol/extent.js"),d=n("./MapStore2/web/client/libs/proj4.js"),m=n.n(d),y=n("./node_modules/ol/proj/proj4.js"),b=n("./node_modules/prop-types/index.js"),g=n.n(b),h=n("./node_modules/react/index.js"),v=n.n(h),S=n("./node_modules/object-assign/index.js"),O=n.n(S),w=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),E=n.n(w),j=n("./MapStore2/web/client/utils/ConfigUtils.js"),T=n.n(j),A=n("./MapStore2/web/client/utils/MapUtils.js"),x=n.n(A),_=n("./node_modules/ol/proj/Projection.js"),P=function(e,t,n,r,o){Object(c.c)(new _.a({code:e,extent:t,worldExtent:n,axisOrientation:r,units:o}))},M=n("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),C=n("./node_modules/lodash/lodash.js");n("./node_modules/ol/ol.css"),n("./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(g,e);var t,n,d,b=k(g);function g(){var e;R(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return U(F(e=b.call.apply(b,[this].concat(n))),"getDocument",(function(){return e.props.document||document})),U(F(e),"getResolutions",(function(){if(e.props.mapOptions&&e.props.mapOptions.view&&e.props.mapOptions.view.resolutions)return e.props.mapOptions.view.resolutions;var t=void 0!==e.props.mapOptions.minZoom?e.props.mapOptions.minZoom:0,n=void 0!==e.props.mapOptions.maxZoom?e.props.mapOptions.maxZoom:28,r=void 0!==e.props.mapOptions.zoomFactor?e.props.mapOptions.zoomFactor:2,o=e.map.getView().getProjection(),a=o.getExtent(),i=(a?Object(f.E)(a):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256,s=(a?Object(f.A)(a):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256;i<=s?(1,s/=Math.round(s/i)):(1,i/=Math.round(i/s));var l=Math.max(i,s),c=l/Math.pow(2,28),u=e.props.mapOptions.maxResolution;void 0!==u?t=0:u=l/Math.pow(r,t);var d=e.props.mapOptions.minResolution;return void 0===d&&(d=void 0!==e.props.mapOptions.maxZoom?void 0!==e.props.mapOptions.maxResolution?u/Math.pow(r,n):l/Math.pow(r,n):c),n=t+Math.floor(Math.log(u/d)/Math.log(r)),Array.apply(0,Array(n-t+1)).map((function(e,t){return u/Math.pow(r,t)}))})),U(F(e),"mouseMoveEvent",(function(t){if(!t.dragging&&t.coordinate){var n=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation"),r=t.coordinate.slice(),o=Object(c.k)(r,e.props.projection),a=o[0]/360%1*360;a<-180?a+=360:a>180&&(a-=360),e.props.onMouseMove({y:o[1]||0,x:a||0,z:e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation")(r,t.pixel)||void 0,crs:"EPSG:4326",pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:o[1],lng:a,z:n&&n(r,t.pixel)||void 0},lat:o[1],lng:a,rawPos:t.coordinate.slice()})}})),U(F(e),"updateMapInfoState",(function(){var t=e.map.getView(),n=t.getCenter(),r=t.getProjection().getExtent(),o=t.getProjection().getCode();if(-1!==["EPSG:3857","EPSG:900913","EPSG:4326"].indexOf(o)||n&&n[0]>=r[0]&&n[0]<=r[2]&&n[1]>=r[1]&&n[1]<=r[3]){var a=e.normalizeCenter(t.getCenter()),i=t.calculateExtent(e.map.getSize()),s={width:e.map.getSize()[0],height:e.map.getSize()[1]};e.props.onMapViewChanges({x:a[0]||0,y:a[1]||0,crs:"EPSG:4326"},t.getZoom(),{bounds:{minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},crs:o,rotation:t.getRotation()},s,e.props.id,e.props.projection)}})),U(F(e),"haveResolutionsChanged",(function(t){var n=e.props.mapOptions&&e.props.mapOptions.view?e.props.mapOptions.view.resolutions:void 0,r=t.mapOptions&&t.mapOptions.view?t.mapOptions.view.resolutions:void 0;return!Object(C.isEqual)(n,r)})),U(F(e),"createView",(function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=o.restrictedExtent&&o.crs&&E.a.reprojectBbox(o.restrictedExtent,o.crs,E.a.normalizeSRS(n)),i=!r||r&&!r.view?O()({},r,{extent:a}):O()({},r),s=O()({},{projection:E.a.normalizeSRS(n),center:[e.x,e.y],zoom:t,minZoom:o.minZoom},i||{});return new l.a(s)})),U(F(e),"_updateMapPositionFromNewProps",(function(t){var n=e.map.getView(),r=e.props.center;if(!(t.center.y===r.y&&t.center.x===r.x)){var o=E.a.reproject({x:t.center.x,y:t.center.y},"EPSG:4326",t.projection,!0);n.setCenter([o.x,o.y])}Math.round(t.zoom)!==e.props.zoom&&n.setZoom(Math.round(t.zoom)),(t.bbox&&void 0!==t.bbox.rotation||e.bbox&&void 0!==e.bbox.rotation&&t.bbox.rotation!==e.props.bbox.rotation)&&n.setRotation(t.bbox.rotation)})),U(F(e),"normalizeCenter",(function(t){var n=E.a.reproject({x:t[0],y:t[1]},e.props.projection,"EPSG:4326",!0);return[n.x,n.y]})),U(F(e),"setMousePointer",(function(t){e.map&&(e.map.getViewport().style.cursor=t||"auto")})),U(F(e),"registerHooks",(function(){e.props.hookRegister.registerHook(x.a.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(x.a.RESOLUTION_HOOK,(function(){return e.map.getView().getResolution()})),e.props.hookRegister.registerHook(x.a.COMPUTE_BBOX_HOOK,(function(t,n){var r=E.a.reproject([t.x,t.y],"EPSG:4326",e.props.projection),o=e.createView(r,n,e.props.projection,e.props.mapOptions&&e.props.mapOptions.view,e.props.limits),a=e.map.getSize(),i=o.calculateExtent(a);return{bounds:{minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},crs:e.props.projection,rotation:e.map.getView().getRotation()}})),e.props.hookRegister.registerHook(x.a.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){return e.map.getPixelFromCoordinate(t)})),e.props.hookRegister.registerHook(x.a.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){return e.map.getCoordinateFromPixel(t)})),e.props.hookRegister.registerHook(x.a.ZOOM_TO_EXTENT_HOOK,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.padding,o=n.crs,a=n.maxZoom,i=n.duration,s=E.a.reprojectBbox(t,o,e.props.projection);s&&s[0]===s[2]&&s[1]===s[3]&&"EPSG:4326"===o&&Object(C.isArray)(t)&&-180===t[0]&&-90===t[1]&&(s=e.map.getView().getProjection().getExtent());var l=a;s&&s[0]===s[2]&&s[1]===s[3]&&Object(C.isNil)(l)&&(l=21),e.map.getView().fit(s,{size:e.map.getSize(),padding:r&&[r.top||0,r.right||0,r.bottom||0,r.left||0],maxZoom:l,duration:i})}))})),e}return t=g,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.projectionDefs.forEach((function(e){var t=m.a.defs(e.code);P(e.code,e.extent,e.worldExtent,e.axisOrientation||t.axis||"enu",t.units||"m")}));var t=E.a.reproject([this.props.center.x,this.props.center.y],"EPSG:4326",this.props.projection);Object(y.a)(m.a);var n=O()(this.props.interactive?{}:{doubleClickZoom:!1,dragPan:!1,altShiftDragRotate:!1,keyboard:!1,mouseWheelZoom:!1,shiftDragZoom:!1,pinchRotate:!1,pinchZoom:!1},this.props.mapOptions.interactions),l=Object(r.a)(O()({dragPan:!1,mouseWheelZoom:!1},n,{}));void 0!==n&&void 0!==n.dragPan||(this.dragPanInteraction=new o.a({kinetic:!1}),l.extend([this.dragPanInteraction])),void 0!==n&&void 0!==n.mouseWheelZoom||(this.mouseWheelInteraction=new a.a({duration:0}),l.extend([this.mouseWheelInteraction]));var u=Object(i.a)(O()({zoom:this.props.zoomControl,attributionOptions:O()({collapsible:!1},this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container?{target:this.getDocument().querySelector(this.props.mapOptions.attribution.container)}:{})},this.props.mapOptions.controls)),p=new s.default({layers:[],controls:u,interactions:l,maxTilesLoading:1/0,target:this.getDocument().getElementById(this.props.id)||"".concat(this.props.id),view:this.createView(t,Math.round(this.props.zoom),this.props.projection,this.props.mapOptions&&this.props.mapOptions.view,this.props.limits)});this.map=p,this.map.disabledListeners={},this.map.disableEventListener=function(t){e.map.disabledListeners[t]=!0},this.map.enableEventListener=function(t){delete e.map.disabledListeners[t]},this.map.getViewport().addEventListener("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),p.on("moveend",this.updateMapInfoState),p.on("singleclick",(function(t){if(e.props.onClick&&!e.map.disabledListeners.singleclick){var n=e.map.getView(),r=t.coordinate.slice(),o=n.getProjection().getExtent();if("EPSG:4326"===e.props.projection&&(r[0]=E.a.normalizeLng(r[0])),"EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection||(r=Object(c.k)(r,e.props.projection),o=E.a.reprojectBbox(o,e.props.projection,"EPSG:4326")),r[0]>=o[0]&&r[0]<=o[2]&&r[1]>=o[1]&&r[1]<=o[3]){var a,i;a="EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection?E.a.reproject(r,e.props.projection,"EPSG:4326"):{x:r[0],y:r[1]},e.markerPresent=!1,p.forEachFeatureAtPixel(t.pixel,(function(t,n){if(n&&n.get("handleClickOnLayer")){var r=t.getGeometry();if(!e.markerPresent&&"Point"===r.getType()){e.markerPresent=!0,i=n.get("msId");var o=Object(c.k)(r.getFirstCoordinate(),e.props.projection);a={x:o[0],y:o[1]}}}}));var s=E.a.normalizeLng(a.x),l=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation");e.props.onClick({pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:a.y,lng:s,z:l&&l(r,t.pixel)||void 0},rawPos:t.coordinate.slice(),modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,shift:t.originalEvent.shiftKey}},i)}}}));var f=Object(C.throttle)(this.mouseMoveEvent,100);p.on("pointermove",f),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.props.onResolutionsChange(this.getResolutions()),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?this.map.addControl(new u.a):this.map.removeControl(this.map.getControls().getArray().filter((function(e){return e instanceof u.a}))[0])),this.map&&(this.props.mapOptions&&this.props.mapOptions.interactions)!==(e.mapOptions&&e.mapOptions.interactions)){var n=e.mapOptions.interactions||{},r=this.map.getInteractions().getArray();Object.keys(n).forEach((function(e){var o=M.DEFAULT_INTERACTION_OPTIONS[e]||{},a=o.Instance,i=o.options,s=Object(C.find)(r,(function(t){return M.DEFAULT_INTERACTION_OPTIONS[e]&&t instanceof a}));s?s.setActive(n[e]):n[e]&&a&&t.map.addInteraction(new a(i))}))}if(this.map&&this.props.id!==e.mapStateSource&&this._updateMapPositionFromNewProps(e),this.map&&e.resize!==this.props.resize&&setTimeout((function(){t.map.updateSize()}),0),this.map&&(this.props.projection!==e.projection||this.haveResolutionsChanged(e))||this.props.limits!==e.limits){if(this.props.projection!==e.projection||this.props.limits!==e.limits){var o=e.projection,a=E.a.reproject([e.center.x,e.center.y],"EPSG:4326",o);this.map.setView(this.createView(a,e.zoom,e.projection,e.mapOptions&&e.mapOptions.view,e.limits)),this.props.onResolutionsChange(this.getResolutions())}this.map.getLayers().forEach((function(e){var t=e.getSource();t.getTileLoadFunction&&t.setTileLoadFunction(t.getTileLoadFunction())})),this.map.render()}}},{key:"componentWillUnmount",value:function(){var e=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&this.getDocument().querySelector(this.props.mapOptions.attribution.container);if(e&&e.querySelector(".ol-attribution"))try{e.removeChild(e.querySelector(".ol-attribution"))}catch(e){}this.map&&this.map.setTarget(null)}},{key:"render",value:function(){var e=this,t=this.map,n=t?v.a.Children.map(this.props.children,(function(n){return n?v.a.cloneElement(n,{map:t,mapId:e.props.id,onLayerLoading:e.props.onLayerLoading,onLayerError:e.props.onLayerError,onLayerLoad:e.props.onLayerLoad,projection:e.props.projection,onCreationError:e.props.onCreationError}):null})):null;return v.a.createElement("div",{id:this.props.id,style:this.props.style},n)}}])&&I(t.prototype,n),d&&I(t,d),g}(v.a.Component);U(B,"propTypes",{id:g.a.string,document:g.a.object,style:g.a.object,center:T.a.PropTypes.center,zoom:g.a.number.isRequired,mapStateSource:T.a.PropTypes.mapStateSource,projection:g.a.string,projectionDefs:g.a.array,onMapViewChanges:g.a.func,onResolutionsChange:g.a.func,onClick:g.a.func,mapOptions:g.a.object,zoomControl:g.a.bool,mousePointer:g.a.string,onMouseMove:g.a.func,onLayerLoading:g.a.func,onLayerLoad:g.a.func,onLayerError:g.a.func,resize:g.a.number,measurement:g.a.object,changeMeasurementState:g.a.func,registerHooks:g.a.bool,hookRegister:g.a.object,interactive:g.a.bool,onCreationError:g.a.func,bbox:g.a.object,wpsBounds:g.a.object,onWarning:g.a.func,maxExtent:g.a.array,limits:g.a.object,onMouseOut:g.a.func}),U(B,"defaultProps",{id:"map",onMapViewChanges:function(){},onResolutionsChange:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},mapOptions:{},projection:"EPSG:3857",projectionDefs:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:x.a,interactive:!0,onMouseOut:function(){}});t.default=B},"./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return X}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),s=n("./node_modules/lodash/round.js"),l=n.n(s),c=n("./node_modules/lodash/isEqual.js"),u=n.n(c),p=n("./node_modules/lodash/dropRight.js"),f=n.n(p),d=n("./node_modules/lodash/get.js"),m=n.n(d),y=n("./node_modules/lodash/last.js"),b=n.n(y),g=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),h=n("./MapStore2/web/client/utils/MeasureUtils.js"),v=n("./MapStore2/web/client/utils/ImmutableUtils.js"),S=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),O=n("./MapStore2/web/client/utils/LocaleUtils.js"),w=n("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),E=n("./node_modules/ol/geom/Polygon.js"),j=n("./node_modules/ol/geom/LineString.js"),T=n("./node_modules/ol/Overlay.js"),A=n("./node_modules/ol/source/Vector.js"),x=n("./node_modules/ol/layer/Vector.js"),_=n("./node_modules/ol/Feature.js"),P=n("./node_modules/ol/style/Style.js"),M=n("./node_modules/ol/style/Fill.js"),C=n("./node_modules/ol/style/Stroke.js"),L=n("./node_modules/ol/style/Circle.js"),R=n("./node_modules/ol/interaction/Draw.js"),I=n("./node_modules/ol/format/GeoJSON.js"),D=n("./node_modules/ol/Observable.js"),k=n("./node_modules/ol/sphere.js");function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){return e.getView().getProjection().getCode()},X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,n,r,o=W(a);function a(){var e;z(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K(q(e=o.call.apply(o,[this].concat(n))),"getLength",(function(t,n){if("Bearing"===n.measurement.geomType&&t.length>1)return Object(g.calculateAzimuth)(t[0],t[1],Q(n.map));var r=e.reprojectedCoordinatesIn4326(t);return Object(g.calculateDistance)(r,n.measurement.lengthFormula)})),K(q(e),"getArea",(function(t){return e.calculateGeodesicArea(t.getLinearRing(0).getCoordinates())})),K(q(e),"validateCoords",(function(e){return e.filter((function(e){return!isNaN(parseFloat(e[0]))&&!isNaN(parseFloat(e[1]))}))})),K(q(e),"updateFeatures",(function(t){var n=e.source.getFeatures();e.removeMeasureTooltips(),e.removeSegmentLengthOverlays(),e.source.clear(),e.textLabels=[],e.segmentLengths=[];var r=t.measurement.features.map((function(r,o){if(m()(r,"properties.disabled"))return[r,n&&n[o]&&n[o].getGeometry()];var a=r.geometry.type,i=m()(r,"properties.values",[]),s="bearing"===(i[0]||{}).type||!(i[0]||{}).type&&t.measurement.bearingMeasureEnabled,l="Polygon"===a?r.geometry.coordinates[0]:r.geometry.coordinates,c=e.reprojectedCoordinatesFrom4326(l),u="Polygon"===a?new E.b([c]):new j.a(c),p={Point:function(){return l},LineString:function(){return s?Object(g.calculateAzimuth)(l[0],l[1],"EPSG:4326"):Object(g.calculateDistance)(l,t.measurement.lengthFormula)},Polygon:function(){return e.getArea(u)}},f={LineString:function(){return e.formatLengthValue(s?Object(g.calculateAzimuth)(l[0],l[1],"EPSG:4326"):Object(g.calculateDistance)(l,t.measurement.lengthFormula),t.uom,s,t.measurement.trueBearing)},Polygon:function(){return e.formatAreaValue(e.getArea(u),t.uom)}};if(!(s||"LineString"===a&&l.length<=2))for(var d=0;d<l.length-1;++d){e.createSegmentLengthOverlay();var y=s?Object(g.calculateAzimuth)(l[d],l[d+1],"EPSG:4326"):Object(g.calculateDistance)([l[d],l[d+1]],t.measurement.lengthFormula),h=e.formatLengthValue(y,t.uom,s);b()(e.segmentOverlayElements).innerHTML=h,b()(e.segmentOverlays).setPosition(Object(g.midpoint)(c[d],c[d+1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:h,position:Object(g.midpoint)(l[d],l[d+1],!0)},e.segmentLengths[e.segmentOverlays.length-1]={value:y,type:s?"bearing":"length"}}if(e.createMeasureTooltip(),"Polygon"===a&&e.createMeasureTooltip(),e.tooltipCoord="LineString"===a?b()(c):e.tooltipCoord=u.getInteriorPoint().getCoordinates(),b()(e.measureTooltipElements).innerHTML=f[a](),b()(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.measureTooltipElements.length-1]={value:p[a](),type:"Polygon"===a?"area":s?"bearing":"length"},"Polygon"===a){var v=Object(g.calculateDistance)(l,t.measurement.lengthFormula);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(v,t.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:v,type:"length"},e.perimeterTooltipCoord=b()(c),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord),e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7])}var S=B({},r);return S.properties=r.properties?B({},r.properties):{},S.properties.values=[{value:(p[a]||function(){return null})(),formattedValue:(f[a]||function(){return null})(),position:"Polygon"===a?Object(g.pointObjectToArray)(Object(g.reproject)(u.getInteriorPoint().getCoordinates(),Q(t.map),"EPSG:4326")):b()(l),type:(i[0]||{}).type||(t.measurement.pointMeasureEnabled?"point":t.measurement.lineMeasureEnabled?"length":t.measurement.areaMeasureEnabled?"area":t.measurement.bearingMeasureEnabled?"bearing":void 0)}].concat(F("Polygon"===a?[{value:Object(g.calculateDistance)(l,t.measurement.lengthFormula),formattedValue:e.formatLengthValue(Object(g.calculateDistance)(l,t.measurement.lengthFormula),t.uom,!1),position:b()(l),uom:t.uom,type:"length"}]:[])),[S,u]})),o=r.map((function(e){return e[0]})),a=r.map((function(e){return e[1]}));e.source.addFeatures(a.filter((function(e){return!!e})).map((function(e){return new _.a({geometry:e})}))),e.props.changeGeometry(o),e.props.setTextLabels(F(e.textLabels));for(var i=0;i<e.measureTooltipElements.length;++i)e.measureTooltipElements[i]&&(e.measureTooltipElements[i].className="tooltip tooltip-static");for(var s=0;s<e.segmentOverlayElements.length;++s)e.segmentOverlayElements[s]&&(e.segmentOverlayElements[s].className="segment-overlay segment-overlay-static")})),K(q(e),"updateMeasures",(function(t){for(var n=function(n){var r=n.type,o=n.value;return"length"===r?e.formatLengthValue(o,t.uom,!1):"area"===r?e.formatAreaValue(o,t.uom):e.formatLengthValue(o,t.uom,!0,t.measurement.trueBearing)},r=0;r<e.outputValues.length;++r)e.outputValues[r]&&(e.measureTooltipElements[r].innerHTML=n(e.outputValues[r]));for(var o=0;o<e.segmentOverlayElements.length;++o)if(e.segmentOverlayElements[o]){var a=n(e.segmentLengths[o]);e.segmentOverlayElements[o].innerHTML=a,e.textLabels[o].text=a}e.drawing||e.props.setTextLabels(F(e.textLabels));var i=(t.measurement.features||[]).map((function(e){return B(B({},e),e.properties?{properties:B(B({},e.properties),{},{values:(e.properties.values||[]).map((function(e){return B(B({},e),{},{formattedValue:n({type:e.type,value:e.value})})}))})}:{})}));e.props.changeGeometry(i)})),K(q(e),"addFeature",(function(t){var n=!1;e.source||(e.source=new A.a,n=!0);var r=Object(g.reprojectGeoJson)(t,"EPSG:4326",Q(e.props.map)).geometry,o=new _.a({geometry:Object(w.createOLGeometry)(r)});e.source.addFeature(o),n&&e.measureLayer.setSource(e.source)})),K(q(e),"resetGeometry",(function(){e.source.clear(),e.props.resetGeometry()})),K(q(e),"saveDrawState",(function(){var t,n,r,o;e.savedDrawState={textLabels:e.textLabels.slice(),segmentLengths:e.segmentLengths.slice(),measureTooltipsLength:null!==(t=null===(n=e.measureTooltips)||void 0===n?void 0:n.length)&&void 0!==t?t:0,segmentOverlaysLength:null!==(r=null===(o=e.segmentOverlays)||void 0===o?void 0:o.length)&&void 0!==r?r:0}})),K(q(e),"discardDrawState",(function(){e.savedDrawState=null})),K(q(e),"restoreDrawState",(function(){if(e.savedDrawState){e.textLabels=e.savedDrawState.textLabels,e.segmentLengths=e.savedDrawState.segmentLengths;for(var t=e.savedDrawState.measureTooltipsLength;t<e.measureTooltips.length;++t)e.props.map.removeOverlay(e.measureTooltips[t]),e.measureTooltipElements[t].parentNode.removeChild(e.measureTooltipElements[t]);for(var n=e.savedDrawState.segmentOverlaysLength;n<e.segmentOverlays.length;++n)e.props.map.removeOverlay(e.segmentOverlays[n]),e.segmentOverlayElements[n].parentNode.removeChild(e.segmentOverlayElements[n]);e.measureTooltips.splice(e.savedDrawState.measureTooltipsLength),e.measureTooltipElements.splice(e.savedDrawState.measureTooltipsLength),e.outputValues.splice(e.savedDrawState.measureTooltipsLength),e.segmentOverlays.splice(e.savedDrawState.segmentOverlaysLength),e.segmentOverlayElements.splice(e.savedDrawState.segmentOverlaysLength),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.savedDrawState=null}})),K(q(e),"addDrawInteraction",(function(t){var n,r,o=t.measurement.startEndPoint;if(e.continueLineMsg=Object(O.getMessageById)(e.context.messages,"measureSupport.continueLine"),e.continuePolygonMsg=Object(O.getMessageById)(e.context.messages,"measureSupport.continuePolygon"),e.drawInteraction&&e.removeDrawInteraction(),!e.vector){e.source=new A.a;var a=[new P.default({fill:new M.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new C.default({color:"#ffcc33",width:2}),image:new L.default({radius:7,fill:new M.default({color:"#ffcc33"})})})],i=[],s=o||!0===o;if(s||void 0===o){var l=s?void 0===o?{}:o:t.startEndPoint;i=Object(S.f)(l.startPointOptions,l.endPointOptions)}var c=[].concat(a,F(i));e.vector=new x.a({source:e.source,zIndex:1e6,style:c}),e.props.map.addLayer(e.vector)}r="Bearing"===t.measurement.geomType?"LineString":t.measurement.geomType,n=new R.a({source:new A.a,type:r,style:new P.default({fill:new M.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new C.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new L.default({radius:5,stroke:new C.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new M.default({color:"rgba(255, 255, 255, 0.2)"})})})}),e.clickListener=e.props.map.on("click",(function(){return e.updateMeasurementResults(e.props)})),e.props.updateOnMouseMove&&e.props.map.on("pointermove",(function(){return e.updateMeasurementResults(e.props)})),e.props.map.on("pointermove",(function(t){return e.pointerMoveHandler(t)})),n.on("drawstart",(function(t){e.sketchFeature=t.feature,e.drawing=!0,e.textLabels||(e.textLabels=[]),e.segmentLengths||(e.segmentLengths=[]),e.props.measurement.disableLabels||(e.saveDrawState(),e.createMeasureTooltip("Polygon"===e.props.measurement.geomType?[0,0]:void 0),"Polygon"===e.props.measurement.geomType&&e.createMeasureTooltip(),"Polygon"===e.props.measurement.geomType&&e.createSegmentLengthOverlay()),e.listener=e.sketchFeature.getGeometry().on("change",(function(t){var n,r,o=t.target;if(o instanceof E.b){r={value:e.getArea(o),type:"area"},n=e.formatAreaValue(r.value,e.props.uom),e.tooltipCoord=o.getInteriorPoint().getCoordinates();var a=o.getCoordinates()[0],i=[];if(!e.props.measurement.disableLabels&&((void 0===e.curPolygonLength||e.curPolygonLength<a.length)&&(e.createSegmentLengthOverlay(),e.curPolygonLength=a.length),a.length>2)){i.push(Object(g.midpoint)(a[a.length-1],a[a.length-2],!0)),i.push(Object(g.midpoint)(a[a.length-2],a[a.length-3],!0));for(var s=0;s<i.length;++s){var l=e.getLength(a.slice(a.length-2-s,a.length-s),e.props),c=e.formatLengthValue(l,e.props.uom,!1);e.segmentOverlayElements[e.segmentOverlays.length-s-1].innerHTML=c,e.segmentOverlays[e.segmentOverlays.length-s-1].setPosition(i[s]),e.segmentLengths[e.segmentOverlays.length-s-1]={value:l,type:"length"},e.textLabels[e.segmentOverlays.length-s-1]={text:c,position:Object(g.pointObjectToArray)(Object(g.reproject)(i[s],Q(e.props.map),"EPSG:4326"))}}}}else if(o instanceof j.a){var u=o.getCoordinates(),p=[u[u.length-2],u[u.length-1]];e.props.measurement.disableLabels||e.props.measurement.bearingMeasureEnabled||!(void 0===e.curLineStringLength||e.curLineStringLength<u.length)||(e.createSegmentLengthOverlay(),e.curLineStringLength=u.length);var d=e.getLength(u,e.props),m=e.getLength(p,e.props);if(n=e.formatLengthValue(d,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing),e.tooltipCoord=o.getLastCoordinate(),!e.props.measurement.disableLabels&&!e.props.measurement.bearingMeasureEnabled){var y=e.formatLengthValue(m,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing);b()(e.segmentOverlayElements).innerHTML=y,b()(e.segmentOverlays).setPosition(Object(g.midpoint)(p[0],p[1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:y,position:Object(g.pointObjectToArray)(Object(g.reproject)(Object(g.midpoint)(p[0],p[1],!0),Q(e.props.map),"EPSG:4326"))},e.segmentLengths[e.segmentOverlays.length-1]={value:m,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}r={value:d,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}if(!e.props.measurement.disableLabels&&(b()(e.measureTooltipElements).innerHTML=n,b()(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.outputValues.length-1]=r,o instanceof E.b)){var h=o.getCoordinates()[0],v=e.getLength(3===h.length?f()(h):h,e.props);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(v,e.props.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:v,type:"length"},e.perimeterTooltipCoord=o.getLastCoordinate(),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord)}}))})),n.on("drawend",(function(t){e.drawing=!1;var n=m()(e.props.measurement,"features",[]),r=t.feature.getGeometry(),o=r.getCoordinates(),a=new I.a,i={Point:function(){return Object(g.reproject)(o,Q(e.props.map),"EPSG:4326")},LineString:function(){return e.getLength(o,e.props)},Polygon:function(){return e.getArea(r)},Bearing:function(){return Object(g.calculateAzimuth)(o[0],o[1],Q(e.props.map))}},s={LineString:function(){return e.formatLengthValue(e.getLength(o,e.props),e.props.uom,!1)},Polygon:function(){return e.formatAreaValue(e.getArea(r),e.props.uom)},Bearing:function(){return e.formatLengthValue(Object(g.calculateAzimuth)(o[0],o[1],Q(e.props.map)),e.props.uom,!0,e.props.measurement.trueBearing)}},l=Object(g.reprojectGeoJson)(a.writeFeatureObject(t.feature.clone()),Q(e.props.map),"EPSG:4326");if(l.properties=l.properties||{},l.properties.values=[{value:(i[e.props.measurement.geomType]||function(){return null})(),formattedValue:(s[e.props.measurement.geomType]||function(){return null})(),position:Object(g.pointObjectToArray)(Object(g.reproject)("Polygon"===e.props.measurement.geomType?r.getInteriorPoint().getCoordinates():b()(o),Q(e.props.map),"EPSG:4326")),type:e.props.measurement.pointMeasureEnabled?"point":e.props.measurement.lineMeasureEnabled?"length":e.props.measurement.areaMeasureEnabled?"area":e.props.measurement.bearingMeasureEnabled?"bearing":void 0}].concat(F("Polygon"===e.props.measurement.geomType?[{value:(e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,formattedValue:e.formatLengthValue((e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,e.props.uom,!1),position:Object(g.pointObjectToArray)(Object(g.reproject)(b()(o[0]),Q(e.props.map),"EPSG:4326")),uom:e.props.uom,type:"length"}]:[])),e.props.changeGeometry([].concat(F(n),[l])),e.props.measurement.lineMeasureEnabled){var c=l.geometry.coordinates,u=Object(g.transformLineToArcs)(c);if(!e.props.measurement.disableLabels)if(e.removeLastSegment(),c.length<=2)e.removeLastSegment();else for(var p=0;p<c.length-1;++p){var f=u[100*p+50];f&&(e.textLabels[e.segmentOverlays.length-c.length+1+p].position=f,e.segmentOverlays[e.segmentOverlays.length-c.length+1+p].setPosition(Object(g.pointObjectToArray)(Object(g.reproject)(f,"EPSG:4326",Q(e.props.map)))))}l=Object(v.set)("geometry.coordinates",u,l)}else!e.props.measurement.disableLabels&&e.props.measurement.areaMeasureEnabled&&(e.textLabels.splice(e.segmentOverlays.length-2,1),e.props.map.removeOverlay(e.segmentOverlays[e.segmentOverlays.length-2]),e.segmentOverlayElements[e.segmentOverlays.length-2].parentNode.removeChild(e.segmentOverlayElements[e.segmentOverlays.length-2]),e.segmentOverlayElements.splice(e.segmentOverlays.length-2,1),e.segmentOverlays.splice(e.segmentOverlays.length-2,1));if(e.props.setTextLabels(F(e.textLabels)),e.addFeature(l),!e.props.measurement.disableLabels){b()(e.measureTooltipElements).className="tooltip tooltip-static",b()(e.measureTooltips).setOffset([0,-7]),"Polygon"===e.props.measurement.geomType&&(e.measureTooltipElements[e.measureTooltipElements.length-2].className="tooltip tooltip-static",e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7]));for(var d=0;d<e.segmentOverlayElements.length;++d)e.segmentOverlayElements[d]&&(e.segmentOverlayElements[d].className="segment-overlay segment-overlay-static")}Object(D.b)(e.listener),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.discardDrawState()})),e.props.map.addInteraction(n),e.createHelpTooltip(),e.drawInteraction=n,e.measureLayer=e.vector})),K(q(e),"removeLastSegment",(function(){e.textLabels.pop(),e.segmentLengths.pop(),e.props.map.removeOverlay(b()(e.segmentOverlays)),b()(e.segmentOverlayElements).parentNode.removeChild(b()(e.segmentOverlayElements)),e.segmentOverlays.pop(),e.segmentOverlayElements.pop()})),K(q(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.removeHelpTooltip(),e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.sketchFeature=null,e.props.map.un("click",(function(){return e.updateMeasurementResults(e.props)}),q(e)),Object(D.b)(e.clickListener),e.props.updateOnMouseMove&&e.props.map.un("pointermove",(function(){return e.updateMeasurementResults(e.props)}),q(e)))})),K(q(e),"pointerMoveHandler",(function(e){if(!e.dragging){var t=Object(O.getMessageById)(this.context.messages,"measureSupport.startDrawing");if(this.sketchFeature&&this.drawing){var n=this.sketchFeature.getGeometry();n instanceof E.b?t=this.continuePolygonMsg:n instanceof j.a&&(t=this.continueLineMsg)}this.helpTooltipElement.innerHTML=t,this.helpTooltip.setPosition(e.coordinate),this.helpTooltipElement.classList.remove("hidden")}})),K(q(e),"updateMeasurementResults",(function(t){if(e.sketchFeature){var n=e.sketchFeature.getGeometry().getCoordinates();if("Bearing"===t.measurement.geomType&&n.length>1&&n.length>2){for(e.drawInteraction.sketchCoords_=[n[0],n[1],n[0]];e.sketchFeature.getGeometry().getCoordinates().length>3;)e.drawInteraction.removeLastPoint();e.sketchFeature.getGeometry().setCoordinates([n[0],n[1]]),e.drawInteraction.sketchFeature_=e.sketchFeature,e.drawInteraction.finishDrawing()}}})),K(q(e),"reprojectedCoordinatesFrom4326",(function(t){return t.map((function(t){var n=Object(g.reproject)(t,"EPSG:4326",Q(e.props.map));return[n.x,n.y]}))})),K(q(e),"reprojectedCoordinatesIn4326",(function(t){return t.map((function(t){var n=Object(g.reproject)(t,Q(e.props.map),"EPSG:4326");return[n.x,n.y]}))})),K(q(e),"calculateGeodesicArea",(function(t){if(t.length>=4){var n=e.reprojectedCoordinatesIn4326(t);return Math.abs(Object(k.a)(new E.b([n]),{projection:"EPSG:4326"}))}return 0})),K(q(e),"createHelpTooltip",(function(){e.removeHelpTooltip(),e.helpTooltipElement=document.createElement("div"),e.helpTooltipElement.className="tooltip hidden",e.helpTooltip=new T.a({element:e.helpTooltipElement,offset:[15,0],positioning:"center-left"}),e.props.map.addOverlay(e.helpTooltip)})),K(q(e),"createMeasureTooltip",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,-15];e.measureTooltipElements||(e.measureTooltipElements=[]),e.measureTooltips||(e.measureTooltips=[]),e.outputValues||(e.outputValues=[]);var n=document.createElement("div");n.className="tooltip tooltip-measure",n.style.display=e.props.measurement.showLabel?"":"none",e.measureTooltipElements.push(n);var r=new T.a({element:n,offset:t,positioning:"bottom-center"});e.props.map.addOverlay(r),e.measureTooltips.push(r),e.outputValues.push(null)})),K(q(e),"createSegmentLengthOverlay",(function(t){e.segmentOverlayElements||(e.segmentOverlayElements=[]),e.segmentOverlays||(e.segmentOverlays=[]);var n=document.createElement("div");n.className="segment-overlay",n.style.display=e.props.measurement.showSegmentLengths&&!t?"":"none",e.segmentOverlayElements.push(n);var r=new T.a({element:n,offset:[0,0],positioning:"center-center"});e.props.map.addOverlay(r),e.segmentOverlays.push(r)})),K(q(e),"formatLengthValue",(function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r)return Object(h.getFormattedBearingValue)(t,o);var a=n&&n.length,i=a.label,s=a.unit,c=l()(Object(h.convertUom)(t,"m",s),2);return e.props.formatNumber(c)+" "+i})),K(q(e),"formatAreaValue",(function(t,n){var r=n&&n.area,o=r.label,a=r.unit,i=l()(Object(h.convertUom)(t,"sqm",a),2);return e.props.formatNumber(i)+" "+o})),K(q(e),"removeHelpTooltip",(function(){e.helpTooltipElement&&e.helpTooltipElement.parentNode&&e.helpTooltipElement.parentNode.removeChild(e.helpTooltipElement),e.helpTooltip&&e.props.map.removeOverlay(e.helpTooltip)})),K(q(e),"removeMeasureTooltips",(function(){(e.measureTooltips||[]).forEach((function(t){e.props.map.removeOverlay(t)}));for(var t=document.getElementsByClassName("tooltip-static")||[],n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);t=document.getElementsByClassName("tooltip-measure")||[];for(var r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);e.measureTooltips=[],e.measureTooltipElements=[],e.outputValues=[]})),K(q(e),"removeSegmentLengthOverlays",(function(){(e.segmentOverlays||[]).forEach((function(t){e.props.map.removeOverlay(t)})),(e.segmentOverlayElements||[]).forEach((function(e){e.parentNode.removeChild(e)})),e.segmentOverlays=[],e.segmentOverlayElements=[]})),e}return t=a,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.measureTooltipElements&&e.measurement.showLabel!==this.props.measurement.showLabel)for(var t=0;t<this.measureTooltipElements.length;++t)this.measureTooltipElements[t]&&(this.measureTooltipElements[t].style.display=e.measurement.showLabel?"":"none");if(this.segmentOverlayElements&&e.measurement.showSegmentLengths)for(var n=0;n<this.segmentOverlayElements.length;++n)this.segmentOverlayElements[n]&&(this.segmentOverlayElements[n].style.display=e.measurement.showSegmentLengths?"":"none");(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&(this.restoreDrawState(),this.addDrawInteraction(e)),e.measurement.geomType||(this.removeDrawInteraction(),this.removeMeasureTooltips(),this.removeSegmentLengthOverlays(),this.textLabels=[],this.segmentLengths=[],this.props.map.removeLayer(this.measureLayer),this.vector=null,this.measureLayer=null,e.measurement.features&&e.measurement.features.length>0&&this.props.changeGeometry([]),e.measurement.textLabels&&e.measurement.textLabels.length>0&&this.props.setTextLabels([]),this.source&&(this.source.clear(),this.source=null));var r=this.props.measurement.features,o=e.measurement.features;e.measurement.updatedByUI&&!u()(r,o)?this.updateFeatures(e):e.measurement.updatedByUI&&!u()(this.props.uom,e.uom)&&this.updateMeasures(e)}},{key:"render",value:function(){return null}}])&&H(t.prototype,n),r&&H(t,r),a}(o.a.Component);K(X,"propTypes",{startEndPoint:i.a.object,map:i.a.object,measurement:i.a.object,enabled:i.a.bool,uom:i.a.object,formatNumber:i.a.func,changeMeasurementState:i.a.func,updateMeasures:i.a.func,resetGeometry:i.a.func,changeGeometry:i.a.func,updateOnMouseMove:i.a.bool,setTextLabels:i.a.func}),K(X,"contextTypes",{messages:i.a.object}),K(X,"defaultProps",{changeMeasurementState:function(){},resetGeometry:function(){},updateMeasures:function(){},changeGeometry:function(){},formatNumber:function(e){return e},setTextLabels:function(){},startEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},updateOnMouseMove:!1})},"./MapStore2/web/client/components/map/openlayers/Overview.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),s=n("./MapStore2/web/client/utils/openlayers/Layers.js"),l=n("./node_modules/object-assign/index.js"),c=n.n(l),u=n("./node_modules/lodash/isFinite.js"),p=n.n(u),f=n("./node_modules/ol/control/OverviewMap.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("./MapStore2/web/client/components/map/openlayers/overview.css");var w={className:"ol-overviewmap ol-custom-overviewmap",collapseLabel:"»",label:"«",collapsed:!0,collapsible:!0},E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o=g(a);function a(){var e;m(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(v(e=o.call.apply(o,[this].concat(n))),"dragstart",(function(t){e.dragging||(e.dragBox=e.box.cloneNode(),e.dragBox.setAttribute("class","ol-overview-dargbox"),e.dragBox.style.position="relative",e.box.appendChild(e.dragBox),""===e.box.style.top?e.offsetStartTop=0:e.offsetStartTop=parseInt(e.box.style.top.slice(0,-2),10),""===e.box.style.left?e.offsetStartLeft=0:e.offsetStartLeft=parseInt(e.box.style.left.slice(0,-2),10),e.mouseStartTop=t.pageY,e.mouseStartLeft=t.pageX,e.dragging=!0)})),O(v(e),"draggingel",(function(t){!0===e.dragging&&(e.dragBox.style.top=e.offsetStartTop+t.pageY-e.mouseStartTop+"px",e.dragBox.style.left=e.offsetStartLeft+t.pageX-e.mouseStartLeft+"px",t.stopPropagation(),t.preventDefault())})),O(v(e),"dragend",(function(){if(!0===e.dragging){var t={};t.top=""===e.dragBox.style.top?0:parseInt(e.dragBox.style.top.slice(0,-2),10),t.left=""===e.dragBox.style.left?0:parseInt(e.dragBox.style.left.slice(0,-2),10),e.box.removeChild(e.dragBox),delete e.dragBox,e.dragging=!1,e.setNewExtent(t)}})),O(v(e),"setNewExtent",(function(t){var n=e.box.offsetWidth,r=e.box.offsetHeight,o=e.props.map.getSize(),a=t.left*Math.abs(o[0]/n),i=t.top*Math.abs(o[1]/r);a=p()(a)?a:0,i=p()(i)?i:0;var s=[0+a,o[1]+i],l=[o[0]+a,0+i],c=e.props.map.getCoordinateFromPixel(s)||[0,0],u=e.props.map.getCoordinateFromPixel(l)||[0,0],f=[c[0],c[1],u[0],u[1]];e.props.map.getView().fit(f,o,{nearest:!0})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this,t=[];this.props.layers.forEach((function(e){t.push(s.default.createLayer(e.type,e.options||{}))}));var n=c()({},w,this.props.overviewOpt,{layers:t});this.overview=new f.a(n),this.props.map&&this.overview.setMap(this.props.map),this.box=this.overview.element.getElementsByClassName("ol-overviewmap-box").item(0),this.box.onmousedown=function(t){e.dragstart(t),e.box.onmousemove=function(t){e.draggingel(t)},e.overview.element.onmousemove=function(t){e.draggingel(t)},e.box.onmouseup=function(){e.dragend(),e.overview.element.onmousemove=null,e.box.onmousemove=null,e.box.onmouseup=null}}}},{key:"render",value:function(){return null}}])&&y(t.prototype,n),r&&y(t,r),a}(i.a.Component);O(E,"displayName","Overview"),O(E,"propTypes",{id:o.a.string,map:o.a.object,overviewOpt:o.a.object,layers:o.a.array}),O(E,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]})},"./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-dom/index.js"),i=n.n(a),s=n("./node_modules/prop-types/index.js"),l=n.n(s),c=n("./node_modules/ol/Overlay.js"),u=n("./node_modules/lodash/isString.js"),p=n.n(u),f=n("./MapStore2/web/client/utils/PopupUtils.js"),d=n("./MapStore2/web/client/components/map/popups/index.js");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new MutationObserver((function(){e.getMap().getSize()&&(e.setPosition(void 0),e.setPosition(n.coordinates))}));return r.observe(t,{attributes:!0,childList:!0,subtree:!0}),r},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,n,r,a=S(s);function s(){var e;g(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(w(e=a.call.apply(a,[this].concat(n))),"onPopupClose",(function(t){e.props.onPopupClose(t)})),j(w(e),"renderPopups",(function(){return e.preparePopups().map((function(t){var n,r=t.popup,a=t.id,s=t.component,l=t.content,c=t.props,u=t.containerStyle,m=r.getElement(),y=p()(s)&&d.default[s]||s;return y?n=o.a.isValidElement(y)&&y||o.a.createElement(y,c):l&&(n=f.c(l)?o.a.createElement("div",{dangerouslySetInnerHTML:{__html:l}}):l),m&&i.a.createPortal(o.a.createElement("div",{className:"map-popup-ol",key:a,onMouseUp:e.convertToClick},o.a.createElement("div",{className:"ol-popup-content-wrapper"},o.a.createElement("div",{className:"ol-popup-content",style:u},n)),o.a.createElement("div",{className:"ol-popup-closer",onClick:function(){return e.onPopupClose(a)}},"x")),m)}))})),j(w(e),"update",(function(){(e._popups||[]).map((function(e){var t=e.popup;t.setElement(t.getElement())}))})),j(w(e),"convertToClick",(function(e){var t=new MouseEvent("click",{bubbles:!0});t.stopPropagation=function(){},e.target.dispatchEvent(t)})),j(w(e),"preparePopups",(function(){var t=e.props,n=t.popups,r=void 0===n?[]:n,o=t.map,a=o.getSize();return(e._popups||[]).forEach((function(e){var t=e.popup,n=e.observer;n&&n.disconnect(),t&&o.removeOverlay(t)})),e._popups=r.map((function(e){var t=Math.round(.9*a[0])-40,n=Math.round(.9*a[1])-40,r=e.id,i=e.position.coordinates,s=e.className,l=e.maxWidth,u=void 0===l?t:l,p=e.maxHeight,d=void 0===p?n:p,m=e.autoPan,y=void 0!==m&&m,g=e.autoPanMargin,h=void 0===g?20:g,v=e.offset,S=void 0===v?[0,0]:v,O=e.autoPanAnimation,w=void 0===O?{duration:200}:O,E=u>t?t:u,j=d>n?n:d,A=f.b(r,s),x=new c.a({id:r,element:A,autoPan:y,offset:S,autoPanMargin:h,autoPanAnimation:w,positioning:"bottom-center",className:"ol-overlay-container ol-unselectable",position:i});return o.addOverlay(x),b({popup:x,observer:T(x,A,{coordinates:i}),containerStyle:{maxWidth:E,maxHeight:j}},e)})),e._popups})),j(w(e),"stopPropagationOnPointerMove",(function(e){e.stopPropagation()})),e}return t=s,(n=[{key:"componentWillMount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().addEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().removeEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&h(t.prototype,n),r&&h(t,r),s}(o.a.Component);j(A,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),j(A,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),s=n("./node_modules/object-assign/index.js"),l=n.n(s),c=n("./node_modules/ol/control/ScaleLine.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,r,o=m(a);function a(){return p(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){this.scalebar=new c.a(l()({},this.props,this.props.container?{target:document.querySelector(this.props.container)}:{})),this.props.map&&this.props.map.addControl(this.scalebar)}},{key:"componentWillUnmount",value:function(){if(this.props.container&&document.querySelector(".ol-scale-line"))try{document.querySelector(this.props.container).removeChild(document.querySelector(".ol-scale-line"))}catch(e){}}},{key:"render",value:function(){return null}}])&&f(t.prototype,n),r&&f(t,r),a}(i.a.Component);g(h,"propTypes",{map:o.a.object,className:o.a.string,minWidth:o.a.number,units:o.a.oneOf(["degrees","imperial","nautical","metric","us"]),container:o.a.string}),g(h,"defaultProps",{map:null,className:"ol-scale-line",minWidth:64,units:"metric"})},"./MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),s=n("./node_modules/ol/source/Vector.js"),l=n("./node_modules/ol/layer/Vector.js"),c=n("./node_modules/ol/style/Style.js"),u=n("./node_modules/ol/style/Fill.js"),p=n("./node_modules/ol/style/Stroke.js"),f=n("./node_modules/ol/style/Circle.js"),d=n("./node_modules/ol/interaction/Draw.js"),m=n("./node_modules/ol/interaction/DoubleClickZoom.js");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,o=v(a);function a(){var e;b(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(O(e=o.call.apply(o,[this].concat(n))),"addDrawInteraction",(function(t){e.drawInteraction&&e.removeDrawInteraction();var n=new s.a,r=new l.a({source:n,zIndex:1e6,style:new c.default({fill:new u.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new p.default({color:"#ffcc33",width:2}),image:new f.default({radius:7,fill:new u.default({color:"#ffcc33"})})})});e.props.map.addLayer(r);var o=new d.a({source:n,type:t.selection.geomType,style:new c.default({fill:new u.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new p.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new f.default({radius:5,stroke:new p.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new u.default({color:"rgba(255, 255, 255, 0.2)"})})})});o.on("drawstart",(function(t){e.sketchFeature=t.feature,n.clear()})),o.on("drawend",(function(){e.updateSelectionState()})),e.props.map.addInteraction(o),e.drawInteraction=o,e.selectionLayer=r,e.setDoubleClickZoomEnabled(!1)})),E(O(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.props.map.removeLayer(e.selectionLayer),e.sketchFeature=null,setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),251))})),E(O(e),"updateSelectionState",(function(){if(e.sketchFeature){var t=e.sketchFeature.getGeometry().getCoordinates(),n={geomType:e.props.selection.geomType,point:"Point"===e.props.selection.geomType?[t[0],t[1]]:null,line:"LineString"===e.props.selection.geomType?t.map((function(e){return[e[0],e[1]]})):null,polygon:"Polygon"===e.props.selection.geomType?e.sketchFeature.getGeometry().getLinearRing(0).getCoordinates().map((function(e){return[e[0],e[1]]})):null};e.props.changeSelectionState(n)}})),E(O(e),"setDoubleClickZoomEnabled",(function(t){for(var n=e.props.map.getInteractions(),r=0;r<n.getLength();r++){var o=n.item(r);if(o instanceof m.a){o.setActive(t);break}}})),e}return t=a,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selection.geomType&&e.selection.geomType!==this.props.selection.geomType&&this.addDrawInteraction(e),e.selection.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){return null}}])&&g(t.prototype,n),r&&g(t,r),a}(i.a.Component);E(j,"propTypes",{map:o.a.object,projection:o.a.string,selection:o.a.object,changeSelectionState:o.a.func}),E(j,"defaultProps",{selection:{}})},"./MapStore2/web/client/components/map/openlayers/VectorStyle.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/isNil.js"),o=n.n(r),a=n("./node_modules/lodash/trim.js"),i=n.n(a),s=n("./node_modules/lodash/isString.js"),l=n.n(s),c=n("./node_modules/lodash/isArray.js"),u=n.n(c),p=n("./node_modules/lodash/castArray.js"),f=n.n(p),d=n("./node_modules/lodash/head.js"),m=n.n(d),y=n("./node_modules/lodash/last.js"),b=n.n(y),g=n("./node_modules/lodash/find.js"),h=n.n(g),v=n("./node_modules/lodash/isObject.js"),S=n.n(v),O=n("./MapStore2/web/client/utils/ColorUtils.js"),w=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),E=n("./MapStore2/web/client/utils/MarkerUtils.js"),j=n.n(E),T=n("./node_modules/lodash/isNumber.js"),A=n.n(T),x=n("./node_modules/ol/style/Style.js"),_=n("./node_modules/ol/style/Icon.js"),P=n("./node_modules/ol/style/Text.js"),M=n("./node_modules/ol/style/Fill.js"),C=n("./MapStore2/web/client/utils/openlayers/highlight.png"),L=n.n(C),R=j.a.markers.extra,I=R.icons[0],D=R.icons[1],k=j.a.getGlyphs("fontawesome"),N=function(e){var t=e.highlight,n=e.rotation,r=void 0===n?0:n;return t?[new x.default({image:new _.default({anchor:[.5,2*(R.size[1]+18)],rotation:r,anchorXUnits:"fraction",anchorYUnits:"pixels",src:L.a,scale:.5})})]:[]},F={extra:{getIcon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()(e.style&&e.style.rotation)?0:e.style.rotation;return[new x.default({image:new _.default({rotation:t,anchor:[12,12],anchorXUnits:"pixels",anchorYUnits:"pixels",src:D})}),new x.default({image:new _.default({rotation:t,src:I,anchor:[R.size[0]/2,R.size[1]],anchorXUnits:"pixels",anchorYUnits:"pixels",size:R.size,offset:[R.colors.indexOf(e.style.iconColor||"blue")*R.size[0],R.shapes.indexOf(e.style.iconShape||"circle")*R.size[1]]}),text:new P.default({rotation:t,text:k[e.style.iconGlyph],font:"14px FontAwesome",offsetY:2*-R.size[1]/3,fill:new M.default({color:"#FFFFFF"})})})].concat(N(e.style))}},standard:{getIcon:function(e){var t=e.style,n=e.iconAnchor,r=o()(t&&t.rotation)?0:t.rotation,a=t.iconAnchor||n,i=[new x.default({image:new _.default({anchor:a||[.5,1],anchorXUnits:t.anchorXUnits||(a||0===a?"pixels":"fraction"),anchorYUnits:t.anchorYUnits||(a||0===a?"pixels":"fraction"),size:u()(t.size)?t.size:A()(t.size)?[t.size,t.size]:void 0,rotation:r,anchorOrigin:t.anchorOrigin||"top-left",src:t.iconUrl||t.symbolUrlCustomized||t.symbolUrl})})];return t.shadowUrl&&(i=[new x.default({image:new _.default({anchor:[12,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:t.shadowUrl})}),i[0]]),i.concat(N(t))}},html:{getIcon:function(){return null}}},G=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),U=n("./node_modules/ol/style/Circle.js"),B=n("./node_modules/ol/style/Stroke.js"),z=n("./node_modules/ol/geom/Point.js"),H=n("./node_modules/ol/geom/LineString.js"),V=n("./node_modules/es6-promise/dist/es6-promise.js"),W=n("./MapStore2/web/client/libs/ajax.js"),Y=n.n(W),q=n("./node_modules/geostyler-openlayers-parser/build/dist/OlStyleParser.js"),Z=n.n(q),K=n("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),Q=n.n(K),X=n("./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png"),J=n.n(X),$=n("./node_modules/object-assign/index.js"),ee=n.n($),te=n("./MapStore2/web/client/utils/ImmutableUtils.js");function ne(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=[0,153,255,1],le=new U.default({radius:5,fill:null,stroke:new B.default({color:"red",width:1})}),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?5:t,r=e.fillColor,o=void 0===r?"green":r,a=e.applyToPolygon,i=void 0!==a&&a;return new x.default({image:new U.default({radius:n,fill:new M.default({color:o})}),geometry:function(e){var t=e.getGeometry(),n=t.getType();if(!i&&"Polygon"===n)return null;var r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return r.length>1?new z.a(m()(r)):null}})},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?5:t,r=e.fillColor,o=void 0===r?"red":r,a=e.applyToPolygon,i=void 0!==a&&a;return new x.default({image:new U.default({radius:n,fill:new M.default({color:o})}),geometry:function(e){var t=e.getGeometry(),n=t.getType();if(!i&&"Polygon"===n)return null;var r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return new z.a(r.length>3?r[r.length-("Polygon"===n?2:1)]:b()(r))}})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[ce(e),ue(t)]},fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new x.default({text:new P.default({offsetY:-4*Math.sqrt(e.fontSize),textAlign:e.textAlign||"center",text:t||"",font:e.font,fill:new M.default({color:Object(O.colorToRgbaStr)(e.stroke||e.color||"#000000",e.opacity||1)}),stroke:n?new B.default({color:[255,255,255,1],width:2}):null}),image:n?new U.default({radius:5,fill:null,stroke:new B.default({color:Object(O.colorToRgbaStr)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null})},de={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,radius:10},me={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},ye={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},be={Marker:{iconColor:"orange",iconShape:"circle",iconGlyph:"comment"},Text:{fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1},Circle:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},Point:de,MultiPoint:de,LineString:me,MultiLineString:me,Polygon:ye,MultiPolygon:ye},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"blue",width:3,lineDash:[6]};return{stroke:new B.default(e.style?e.style.stroke||{color:e.style.color||t.color,lineDash:l()(e.style.dashArray)&&i()(e.style.dashArray).split(" ")||t.lineDash,width:e.style.weight||t.width,lineCap:e.style.lineCap||"round",lineJoin:e.style.lineJoin||"round",lineDashOffset:e.style.dashOffset||0}:ae({},t))}},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"rgba(0, 0, 255, 0.1)"};return{fill:new M.default(e.style?e.style.fill||{color:Object(O.colorToRgbaStr)(e.style.fillColor,e.style.fillOpacity)||t.color}:ae({},t))}},ve={Point:function(){return[new x.default({image:le})]},LineString:function(e){return[new x.default(ee()({},ge(e,{color:"blue",width:3})))]},MultiLineString:function(e){return[new x.default(ee()({},ge(e,{color:"blue",width:3})))]},MultiPoint:function(){return[new x.default({image:le})]},MultiPolygon:function(e){return[new x.default(ee()({},ge(e),he(e)))]},Polygon:function(e){return[new x.default(ee()({},ge(e),he(e)))]},GeometryCollection:function(e){return[new x.default(ee()({},ge(e),he(e),{image:new U.default({radius:10,fill:null,stroke:new B.default({color:"magenta"})})}))]},Circle:function(){return[new x.default({stroke:new B.default({color:"red",width:2}),fill:new M.default({color:"rgba(255,0,0,0.2)"})})]},marker:function(e){return[new x.default({image:new _.default({anchor:[14,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:J.a})}),new x.default({image:new _.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:Q.a}),text:new P.default({text:e.label,scale:1.25,offsetY:8,fill:new M.default({color:"#000000"}),stroke:new B.default({color:"#FFFFFF",width:2})})})]}},Se=function(e,t){var n=e.getGeometry().getType();return ve[n](t&&t.style&&t.style[n]&&{style:ae({},t.style[n])}||t||{})};function Oe(e){if(e.style.iconUrl)return F.standard.getIcon(e);var t=e.style.iconLibrary||"extra";return F[t]?F[t].getIcon(e):null}var we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{style:be},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=t.style[e]||t.style;if("MultiLineString"===e||"LineString"===e){var s=[new x.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+2}):null}),new x.default(i?{stroke:new B.default(i&&i.stroke?i.stroke:{color:Object(O.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),image:n?le:null}:{stroke:new B.default(be[e]&&be[e].stroke?be[e].stroke:{color:Object(O.colorToRgbaStr)(t.style&&be[e].color||"#0000FF",be[e].opacity||1),lineDash:t.style.highlight?[10]:[0],width:be[e].weight||1})})],l=t.style.useSelectedStyle?pe({radius:i.weight,applyToPolygon:!0},{radius:i.weight,applyToPolygon:!0}):[];return[].concat(ne(l),s)}if(("MultiPoint"===e||"Point"===e)&&(i.iconUrl||i.iconGlyph))return n?new x.default({image:le}):Oe({style:ae(ae({},i),{},{highlight:t.style.highlight||t.style.useSelectedStyle})});if("Circle"===e&&a){var c=[new x.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+4}):null}),new x.default({stroke:new B.default(i&&i.stroke?i.stroke:{color:t.style.useSelectedStyle?se:Object(O.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),fill:new M.default(i.fill?i.fill:{color:Object(O.colorToRgbaStr)(t.style&&i.fillColor||"#0000FF",i.fillOpacity||.2)})}),new x.default({image:t.style.useSelectedStyle?new U.default({radius:3,fill:new M.default(i.fill?i.fill:{color:se})}):null,geometry:function(e){var t=e.getGeometry();if("Circle"===t.getType()){var n=t.getCenter();return new z.a(n)}return null}})];return c}if("Text"===e&&i.font)return[fe(i,r[0],t.style.useSelectedStyle||t.style.highlight)];if("MultiPolygon"===e||"Polygon"===e){var u=[new x.default({stroke:t.style.useSelectedStyle?new B.default({color:[255,255,255,1],width:i.weight+2}):null}),new x.default({stroke:new B.default(i.stroke?i.stroke:{color:t.style.useSelectedStyle?se:Object(O.colorToRgbaStr)(t.style&&i.color||"#0000FF",i.opacity||1),lineDash:t.style.highlight?[10]:[0],width:i.weight||1}),image:n?le:null,fill:new M.default(i.fill?i.fill:{color:Object(O.colorToRgbaStr)(t.style&&i.fillColor||"#0000FF",i.fillOpacity||1)})})],p=t.style.useSelectedStyle?pe({radius:i.weight,applyToPolygon:!0},{radius:i.weight,applyToPolygon:!0}):[];return[].concat(u,ne(p))}return o};function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.styleName&&!e.overrideOLStyle)return function(t){if("marker"===e.styleName)switch(t.getGeometry().getType()){case"Point":case"MultiPoint":return ve.marker(e)}return ve[e.styleName](e)};var r,a=e.nativeStyle,i=n,s=0,l=e.style&&e.style.type||(e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:void 0);if("FeatureCollection"===l||e.features&&e.features[0]&&"FeatureCollection"===e.features[0].type)return function(n){var o=this||n;r=o.getGeometry()&&o.getGeometry().getType();var a=o&&o.getProperties();a&&a.isCircle&&(r="Circle",s=a.radius),a&&a.isText&&(r="Text",i=[a.valueText]);var l=Object(te.set)("style.useSelectedStyle",a.canEdit,e);return we(r,l,t,i,null,s)};if(e&&e.properties&&e.properties.isText)return r="Text",i=[e.properties.valueText],we(r,e,t,i,null,s);if(e&&e.properties&&e.properties.isCircle)return r="Circle",s=e.properties.radius,we(r,e,t,i,null,s);if(!a&&e.style){if(a={stroke:new B.default(e.style.stroke?e.style.stroke:{color:Object(O.colorToRgbaStr)(e.style&&e.style.color||"#0000FF",o()(e.style.opacity)?1:e.style.opacity),lineDash:e.style.highlight?[10]:[0],width:e.style.weight||1}),fill:new M.default(e.style.fill?e.style.fill:{color:Object(O.colorToRgbaStr)(e.style&&e.style.fillColor||"#0000FF",o()(e.style.fillOpacity)?1:e.style.fillOpacity)})},"Point"===l&&(a={image:new U.default(ee()({},a,{radius:e.style.radius||5}))}),e.style.iconUrl||e.style.iconGlyph){var c=Oe(e);return a=function(t){var n=this||t;switch(r=n.getGeometry().getType()){case"Point":case"MultiPoint":return c;default:return Se(n,e)}}}return a=new x.default(a),"GeometryCollection"===l?a=function(o){var a,i=this||o;r=i.getGeometry().getType();var s=i.get("textGeometriesIndexes")||[],l=i.get("circles")||[],c=i.get("textValues");return"GeometryCollection"===i.getGeometry().getType()?i.getGeometry().getGeometries().reduce((function(o,i,p){if(("Point"===(r=i.getType())||"MultiPoint"===r)&&s.length&&-1!==s.indexOf(p)){var f=we("Text",e,t,[c[s.indexOf(p)]]);return f.setGeometry(i),o.concat([f])}if("Polygon"===r&&l.length&&-1!==l.indexOf(p)){var d=we("Circle",e,t,[]);return d.setGeometry(i),o.concat([d])}if("Point"===r||"MultiPoint"===r)return a=Oe({style:ae(ae({},e.style[r]),{},{highlight:e.style.highlight})}),o.concat(a.map((function(e){return e.setGeometry(i),e})));var m=we(r,e,t,n);return u()(m)?m.forEach((function(e){return e.setGeometry(i)})):m.setGeometry(i),o.concat([m])}),[]):"Point"===r||"MultiPoint"===r?(a=Oe({style:ae(ae({},e.style[r]),{},{highlight:e.style.highlight})}),t?new x.default({image:le,geometry:i.getGeometry()}):a.map((function(e){return e.setGeometry(i.getGeometry()),e}))):we(r,e,t,n)}:("Circle"===l&&(s=e.features&&e.features.length&&e.features[0].properties&&e.features[0].properties.radius||10),we(l,e,t,n,a,s))}return a||Se}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return Me})),n.d(t,"e",(function(){return Ue})),n.d(t,"d",(function(){return Be})),n.d(t,"c",(function(){return ze})),n.d(t,"f",(function(){return He})),n.d(t,"a",(function(){return Ve}));var xe=new Z.a,_e={white:[255,255,255,1],blue:[0,153,255,1],width:3},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(G.isCircleStyle)(e)?new U.default({stroke:t,fill:n,radius:e.radius||5}):null},Me=function(e){if(Object(G.isMarkerStyle)(e)){if(e.iconUrl)return F.standard.getIcon({style:e});var t=e.iconLibrary||"extra";if(F[t])return F[t].getIcon({style:e})}return null},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(G.isStrokeStyle)(e)?new B.default(e.stroke&&S()(e.stroke)?e.stroke:{color:e.highlight?_e.blue:Object(O.colorToRgbaStr)(e.color||e.stroke||"#0000FF",o()(e.opacity)?1:e.opacity),width:o()(e.weight)?1:e.weight,lineDash:l()(e.dashArray)&&i()(e.dashArray).split(" ")||u()(e.dashArray)&&e.dashArray||[0],lineCap:e.lineCap||"round",lineJoin:e.lineJoin||"round",lineDashOffset:e.dashOffset||0}):null},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(G.isFillStyle)(e)?new M.default(e.fill&&S()(e.fill)?e.fill:{color:Object(O.colorToRgbaStr)(e.fillColor||"#0000FF",o()(e.fillOpacity)?1:e.fillOpacity)}):null},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return Object(G.isTextStyle)(e)?new P.default({fill:n,offsetY:e.offsetY||-4*Math.sqrt(e.fontSize),rotation:e.textRotationDeg?e.textRotationDeg/180*Math.PI:0,textAlign:e.textAlign||"center",text:e.label||r&&r.properties&&r.properties.valueText||"New",font:e.font||"Arial",stroke:e.highlight?new B.default({color:[255,255,255,1],width:2}):t,image:e.highlight?new U.default({radius:5,fill:null,stroke:new B.default({color:Object(O.colorToRgbaStr)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null}):null},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?5:t,r=e.fillColor,o=void 0===r?"green":r,a=e.applyToPolygon,i=void 0!==a&&a;return new x.default({image:new U.default({radius:n,fill:new M.default({color:o})}),geometry:function(e){var t=e.getGeometry(),n=t.getType();if(!i&&"Polygon"===n)return null;var r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return r.length>1?new z.a(m()(r)):null}})},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?5:t,r=e.fillColor,o=void 0===r?"red":r,a=e.applyToPolygon,i=void 0!==a&&a;return new x.default({image:new U.default({radius:n,fill:new M.default({color:o})}),geometry:function(e){var t=e.getGeometry(),n=t.getType();if(!i&&"Polygon"===n)return null;var r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return new z.a(r.length>3?r[r.length-("Polygon"===n?2:1)]:b()(r))}})},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{radius:3,fillColor:"green",applyToPolygon:!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{radius:3,fillColor:"red",applyToPolygon:!0},r=[];return h()(e,(function(e){return"startPoint"===e.geometry&&e.filtering}))||r.push(Ie(Te({},t))),h()(e,(function(e){return"endPoint"===e.geometry&&e.filtering}))||r.push(De(Te({},n))),r};Object(G.registerGeometryFunctions)("centerPoint",(function(e){var t=e.getGeometry(),n=t.getExtent(),r=t.getCenter&&t.getCenter()||[n[2]-n[0],n[3]-n[1]];return new z.a(r)}),"Point"),Object(G.registerGeometryFunctions)("lineToArc",(function(e){var t=e.getGeometry().getType();if("LineString"===t||"MultiPoint"===t){var n=e.getGeometry().getCoordinates();return n=Object(w.transformLineToArcs)(n.map((function(e){var t=Object(w.reproject)(e,"EPSG:3857","EPSG:4326");return[t.x,t.y]}))),new H.a(n.map((function(e){var t=Object(w.reproject)(e,"EPSG:4326","EPSG:3857");return[t.x,t.y]})))}return e.getGeometry()}),"LineString"),Object(G.registerGeometryFunctions)("startPoint",(function(e){var t=e.getGeometry(),n="Polygon"===t.getType()?t.getCoordinates()[0]:t.getCoordinates();return n.length>1?new z.a(m()(n)):null}),"Point"),Object(G.registerGeometryFunctions)("endPoint",(function(e){var t=e.getGeometry(),n=t.getType(),r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return new z.a(r.length>3?r[r.length-("Polygon"===n?2:1)]:b()(r))}),"Point");var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.geometry?function(t){var n=e.geometry||"centerPoint";return G.geometryFunctions[n].func(t)}:function(e){return e.getGeometry()}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!o()(e.filtering)||e.filtering},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Fe(t,e);if(r){var o=Ce(t),a=Le(t),i=Pe(t,o,a);if(Object(G.isMarkerStyle)(t))return Me(t).map((function(e){return e.setGeometry(Ne(t)),e}));if(Object(G.isSymbolStyle)(t))return F.standard.getIcon({style:t}).map((function(e){return e.setGeometry(Ne(t)),e}));var s=Re(t,o,a,e),l=t.zIndex,c=new x.default({geometry:Ne(t),image:i,text:s,stroke:!s&&!i&&o||null,fill:!s&&!i&&a||null,zIndex:l});return[c].concat(e&&e.properties&&e.properties.canEdit&&!e.properties.isCircle?ke(n):[])}return new x.default({})},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=e.style;if(t){var n=u()(t)?t:f()(t);return n.reduce((function(t,r){return t.concat(Ge(e,r,n))}),[])}return[]},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.style&&e.style.url)return Y.a.get(e.style.url).then((function(t){return Object(G.getStyleParser)(e.style.format).readStyle(t.data).then((function(e){return xe.writeStyle(e)}))}));if(e.style&&"geostyler"===e.style.format)return xe.writeStyle(e.style.styleObj);var r=Ee(e,t,n);return e.asPromise?new V.Promise((function(e){e(r)})):r},ze=Oe,He=pe,Ve=be},"./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="},"./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/ol/layer/Tile.js"),a=n("./node_modules/ol/source/BingMaps.js"),i=function e(t,n){t.getSource&&"error"===t.getSource().getState()&&n.onError&&n.onError(t),t.getSource&&"loading"===t.getSource().getState()&&setTimeout(e.bind(null,t,n),1e3)};r.default.registerType("bing",{create:function(e){var t=e.apiKey,n=e.maxNativeZoom||19,r=new o.a({preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,source:new a.a({key:t,imagerySet:e.name,maxZoom:n})});return setTimeout(i.bind(null,r,e),1e3),r},isValid:function(e){return!e.getSource||"error"!==e.getSource().getState()}})},"./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js":function(e,t,n){"use strict";n.r(t);var r,o,a=n("./MapStore2/web/client/utils/openlayers/Layers.js"),i=n("./node_modules/react/index.js"),s=n.n(i),l=n("./node_modules/ol/proj.js"),c={},u="ontouchstart"in window,p=u?"touchstart":"mousedown",f=u?"touchmove":"mousemove",d=u?"touchend":"mouseup";a.default.registerType("google",{create:function(e,t,n){if(document.getElementById(n+"gmaps")){var o=window.google;r||(r={HYBRID:o.maps.MapTypeId.HYBRID,SATELLITE:o.maps.MapTypeId.SATELLITE,ROADMAP:o.maps.MapTypeId.ROADMAP,TERRAIN:o.maps.MapTypeId.TERRAIN}),c[n]||(c[n]=new o.maps.Map(document.getElementById(n+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1})),c[n].setMapTypeId(r[e.name]);var a=document.getElementById(n+"gmaps"),i=function(){if(c[n]&&"hidden"!==a.style.visibility){var e=Object(l.l)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");c[n].setCenter(new o.maps.LatLng(e[1],e[0]))}},s=function(){c[n]&&"hidden"!==a.style.visibility&&c[n].setZoom(t.getView().getZoom())},u=function(e,t){var n=t[0],r=t[1],o=[[n/2,r/2],[-n/2,r/2],[-n/2,-r/2],[n/2,-r/2]].map((function(t){return n=t,r=e*Math.PI/180,o=n[0],a=n[1],[o*Math.cos(r)-a*Math.sin(r),o*Math.sin(r)+a*Math.cos(r)];var n,r,o,a})),a=o.map((function(e){return e[0]})),i=o.map((function(e){return e[1]})),s=Math.max.apply(null,a),l=Math.min.apply(null,a),c=Math.max.apply(null,i),u=Math.min.apply(null,i),p=Math.abs(c)+Math.abs(u);return{width:Math.abs(s)+Math.abs(l),height:p}},m=function(){if("hidden"!==a.style.visibility){var e=180*t.getView().getRotation()/Math.PI;a.style.transform="rotate("+e+"deg)",o.maps.event.trigger(c[n],"resize")}},y=function(){var e=t.getView();e.on("change:center",i),e.on("change:resolution",s),e.on("change:rotation",m)};t.on("change:view",y),y(),i(),s();var b=t.getViewport(),g=document.getElementById(n+"gmaps").style.transform,h=!1,v=!1;b.addEventListener(p,(function(){h=!0})),b.addEventListener(d,(function(){v&&h&&function(){var e=document.getElementById(n+"gmaps").style.transform;if(c[n]&&e!==g&&-1!==e.indexOf("rotate")){var r=parseFloat(e.match(/[\+\-]?\d+\.?\d*/i)[0]),s=u(-r,t.getSize());a.style.width=s.width+"px",a.style.height=s.height+"px",a.style.left=Math.round((t.getSize()[0]-s.width)/2)+"px",a.style.top=Math.round((t.getSize()[1]-s.height)/2)+"px",o.maps.event.trigger(c[n],"resize"),i()}}(),g=document.getElementById(n+"gmaps").style.transform,h=!1})),b.addEventListener(f,(function(){v=h}))}return null},render:function(e,t,n){o||(o=e.name);var a={zIndex:0};if(!0===e.visibility){var i=document.getElementById(n+"gmaps");i&&(i.style.visibility="visible"),c[n]&&r&&(c[n].setMapTypeId(r[e.name]),c[n].setTilt(0))}else a.visibility="hidden";if(o===e.name){var l=document.getElementById(n+"gmaps");return l&&(l.style.visibility=e.visibility?"visible":"hidden"),s.a.createElement("div",{id:n+"gmaps",className:"fill",style:a})}return null},update:function(e,t,n,r,o){if(c[o]){var a=window.google;if(!n.visibility&&t.visibility){var i=r.getView(),s=Object(l.l)(i.getCenter(),"EPSG:3857","EPSG:4326");c[o].setCenter(new a.maps.LatLng(s[1],s[0])),c[o].setZoom(i.getZoom())}}},remove:function(e,t,n){o===e.name&&(o=void 0,delete c[n])}})},"./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/ol/Graticule.js"),a=n("./node_modules/ol/style/Stroke.js");r.default.registerType("graticule",{create:function(e,t){var n=new o.a({strokeStyle:e.style||new a.default({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]})});return n.setMap(t),{detached:!0,remove:function(){n.setMap(null)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js":function(e,t,n){"use strict";n.r(t),n("./MapStore2/web/client/utils/openlayers/Layers.js").default.registerType("mapquest",{create:function(e){return e.onError(),!1},isValid:function(){return!1}})},"./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/ol/source/OSM.js"),a=n("./node_modules/ol/layer/Tile.js");r.default.registerType("osm",{create:function(e){return new a.a({opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new o.a})}})},"./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/eventlistener/eventlistener.js"),a=n.n(o),i=n("./node_modules/ol/Overlay.js");r.default.registerType("overlay",{create:function(e,t){var n=function(e,t){var n=e.cloneNode(!0);n.id=t.id+"-overlay",n.className=(t.className||e.className)+"-overlay",n.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var n=0;n<t.length;n++){var r=t.item(n);r.removeAttribute("data-reactid"),e(r.children||[])}}(n.children||[]);var r=t.closeClass||"close";if(t.onClose&&1===n.getElementsByClassName(r).length){var o=n.getElementsByClassName(r)[0];a.a.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}if(t.onLink)for(var i=n.getElementsByTagName("a"),s=0;s<i.length;s++)a.a.add(i[s],"click",t.onLink);return n}(document.getElementById(e.id),e);document.body.appendChild(n);var r=new i.a({id:e.id,element:n,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(r),{detached:!0,remove:function(){t.removeOverlay(r)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/openlayers/Layers.js"),a=n("./node_modules/ol/source/XYZ.js"),i=n("./node_modules/ol/tilegrid/TileGrid.js"),s=n("./node_modules/ol/layer/Tile.js");o.default.registerType("tms",{create:function(e){return new s.a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.get)(e,"bbox.bounds",{}),n=t.minx,o=t.miny,s=t.maxx,l=t.maxy,c={projection:e.srs,url:"".concat(e.tileMapUrl,"/{z}/{x}/{-y}.").concat(e.extension),attributions:e.attribution?[e.attribution]:[]},u=new a.a(c),p=u.getTileGrid();if(e.forceDefaultTileGrid){var f=p.getExtent(),d=[f[0],f[1]],m=new i.a({origin:d,extent:e.bbox&&[n,o,s,l],resolutions:p.getResolutions(),tileSize:e.tileSize});u.setTileGridForProjection(e.srs,m),"EPSG:3857"===e.srs&&u.setTileGridForProjection("EPSG:900913",m)}else e.tileSets&&u.setTileGridForProjection(e.srs,new i.a({origin:e.origin,extent:e.bbox&&[n,o,s,l],resolutions:e.tileSets.map((function(e){return e.resolution})),tileSize:e.tileSize}));var y={extent:e.bbox&&[n,o,s,l],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:u};return y}(e))}})},"./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/object-assign/index.js"),o=n.n(r),a=n("./MapStore2/web/client/utils/openlayers/Layers.js"),i=n("./MapStore2/web/client/utils/TileConfigProvider.js"),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=n.n(s),c=n("./MapStore2/web/client/utils/TileProviderUtils.js"),u=n("./node_modules/ol/source/XYZ.js"),p=n("./node_modules/ol/layer/Tile.js");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a.default.registerType("tileprovider",{create:function(e){var t=f(i.a.getLayerConfig(e.provider,e),2),n=t[0],r=t[1];return r.url=n,new p.a(function(e){var t,n,r,a,i,s,p,d,m,y=e.url.match(/(\{s\})/)?Object(c.getUrls)(e):[Object(c.template)(e.url,e)],b=o()({},{urls:y,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),g=new u.a(b);return o()({},{opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:g},e.bounds?{extent:(t=e.bounds,n=e.srs?e.srs:"EPSG:3857",r=f(t,2),a=f(r[0],2),i=a[0],s=a[1],p=f(r[1],2),d=p[0],m=p[1],l.a.reprojectBbox([s,i,m,d],"EPSG:4326",l.a.normalizeSRS(n)))}:{})}(r))}})},"./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),a=n("./node_modules/lodash/isEqual.js"),i=n.n(a),s=n("./node_modules/ol/source/Vector.js"),l=n("./node_modules/ol/layer/Vector.js");r.default.registerType("vector",{create:function(e){var t=new s.a({features:[]}),n=Object(o.d)(e);return new l.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:n,opacity:e.opacity})},update:function(e,t,n){var r=n.crs||n.srs||"EPSG:3857",a=t.crs||t.srs||"EPSG:3857";a!==r&&e.getSource().forEachFeature((function(e){e.getGeometry().transform(r,a)})),i()(n.style,t.style)&&n.styleName===t.styleName||e.setStyle(Object(o.d)(t))},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash/head.js"),o=n.n(r),a=n("./node_modules/url/url.js"),i=n.n(a),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=n.n(s),c=n("./MapStore2/web/client/utils/MapUtils.js"),u=n.n(c),p=n("./MapStore2/web/client/utils/openlayers/Layers.js"),f=n("./MapStore2/web/client/utils/SecurityUtils.js"),d=n.n(f),m=n("./node_modules/ol/proj.js"),y=n("./node_modules/ol/extent.js"),b=n("./node_modules/ol/tilegrid/TileGrid.js"),g=n("./node_modules/ol/layer/VectorTile.js"),h=n("./node_modules/ol/source/VectorTile.js"),v=n("./node_modules/ol/format/MVT.js"),S=n("./MapStore2/web/client/utils/VectorTileUtils.js"),O=n("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=l.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),n=Object(m.f)(t),r=n.getMetersPerUnit(),a=o()(e.tilingSchemes&&e.tilingSchemes.schemes&&e.tilingSchemes.schemes.filter((function(e){return e.supportedCRS===t})))||{},s=a.identifier,c=a.tileMatrix,p=a.boundingBox,f=c&&c.map((function(e){return e.scaleDenominator})),w=u.a.getResolutions(),j=e.resolutions||f&&f.map((function(e){return 28e-5*e/r}))||w,x="ne"===n.getAxisOrientation().substr(0,2),_=c&&c.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topLeftCorner;return t})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=A(e,2),n=t[0],r=t[1];return x?[r,n]:[n,r]})),P=c&&c.map((function(e){return[e.tileWidth,e.tileHeight]})),M=e.bbox,C=M?Object(y.a)([parseFloat(M.bounds.minx),parseFloat(M.bounds.miny),parseFloat(M.bounds.maxx),parseFloat(M.bounds.maxy)],Object(m.h)(M.crs,e.srs)):null,L=p&&p.lowerCorner&&p.upperCorner?[].concat(T(p.lowerCorner),T(p.upperCorner)):null,R=new b.a({extent:L,minZoom:0,origins:_,origin:_?void 0:[20037508.3428,-20037508.3428],resolutions:j,tileSizes:P,tileSize:P?void 0:[256,256]}),I=(e.url||"").replace(/\{tilingSchemeId\}/,s).replace(/\{level\}/,"{z}").replace(/\{row\}/,"{y}").replace(/\{col\}/,"{x}"),D={};d.a.addAuthenticationParameter(I,D,e.securityToken);var k=decodeURI(I),N=i.a.format({query:E({},D)}),F=Object(S.isVectorFormat)(e.format)&&O.a[e.format]||v.a,G=new h.a({format:new F({dataProjection:t,layerName:"_layer_"}),tileGrid:R,url:k+N}),U=new g.a({extent:C,msId:e.id,source:G,visible:!1!==e.visibility,zIndex:e.zIndex});return Object(O.b)(e.vectorStyle,U),U};p.default.registerType("wfs3",{create:P,update:function(e,t,n){return n.securityToken!==t.securityToken||n.srs!==t.srs?P(t):null},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),a=n("./node_modules/ol/source/Vector.js"),i=n("./node_modules/ol/layer/Vector.js"),s=n("./node_modules/ol/format/GeoJSON.js"),l=n("./MapStore2/web/client/api/WFS.js"),c=n("./MapStore2/web/client/utils/VendorParamsUtils.js"),u=n("./MapStore2/web/client/utils/WFSLayerUtils.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e,t){return function(n,r,o){var a=Object(c.optionsToVendorParams)(t),i=o.getCode(),s=function(){e.removeLoadedExtent(n)};Object(l.getFeature)(t.url,t.name,f({outputFormat:"application/json",srsname:i},a)).then((function(t){200===t.status?e.addFeatures(e.getFormat().readFeatures(t.data)):s()})).catch((function(e){s()}))}},y=function(e,t){return Object(o.d)(f(f({},e),{},{style:f(f({},e.style||{}),{},{type:t})}))},b=function(e,t){return e.geometryType?e.setStyle(y(t,e.geometryType)):Object(l.describeFeatureType)(t.url,t.name).then(u.extractGeometryType).then((function(n){e.geometryType=n,e.setStyle(y(t,n))}))};r.default.registerType("wfs",{create:function(e){var t=new a.a({format:new s.a});t.setLoader(m(t,e));var n=Object(o.d)(e),r=new i.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:n,opacity:e.opacity});return b(r,e),r},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.crs||n.srs||"EPSG:3857",o=t.crs||t.srs||"EPSG:3857",a=e.getSource();o!==r&&a.forEachFeature((function(e){e.getGeometry().transform(r,o)})),Object(u.needsReload)(n,t)&&(a.setLoader(m(a,t)),a.clear(),a.refresh()),t.style===n.style&&t.styleName===n.styleName||b(e,t)},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/web/client/components/I18N/Message.jsx"),i=n.n(a),s=n("./MapStore2/web/client/utils/openlayers/Layers.js"),l=n("./node_modules/lodash/isNil.js"),c=n.n(l),u=n("./node_modules/lodash/isEqual.js"),p=n.n(u),f=n("./node_modules/lodash/union.js"),d=n.n(f),m=n("./node_modules/lodash/isArray.js"),y=n.n(m),b=n("./node_modules/object-assign/index.js"),g=n.n(b),h=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),v=n.n(h),S=n("./MapStore2/web/client/utils/ProxyUtils.js"),O=n.n(S),w=n("./MapStore2/web/client/utils/VendorParamsUtils.js"),E=n("./MapStore2/web/client/utils/SecurityUtils.js"),j=n.n(E),T=n("./MapStore2/web/client/utils/LayersUtils.js"),A=n("./MapStore2/web/client/utils/MapUtils.js"),x=n.n(A),_=n("./MapStore2/web/client/utils/ElevationUtils.js"),P=n.n(_),M=n("./node_modules/ol/layer/Image.js"),C=n("./node_modules/ol/source/ImageWMS.js"),L=n("./node_modules/ol/proj.js"),R=n("./node_modules/ol/tilegrid/TileGrid.js"),I=n("./node_modules/ol/layer/Tile.js"),D=n("./node_modules/ol/source/TileWMS.js"),k=n("./node_modules/ol/source/VectorTile.js"),N=n("./node_modules/ol/layer/VectorTile.js"),F=n("./MapStore2/web/client/utils/VectorTileUtils.js"),G=n("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js"),U=n("./MapStore2/web/client/utils/LayerLocalizationUtils.js");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=Object(w.optionsToVendorParams)(e),n=g()({},e.baseParams,{LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:v.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:v.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),TILED:!e.singleTile&&(!!c()(e.tiled)||e.tiled),VERSION:e.version||"1.3.0"},g()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:Object(U.generateEnvString)(e.env)}:{}));return j.a.addAuthenticationToSLD(n,e)}function W(e,t){var n=t;O.a.needProxy(t)&&(n=O.a.getProxyUrl()+encodeURIComponent(t));e.getImage().src=n}function Y(e){return e.join(":")}function q(e,t,n){var r=n;e&&O.a.needProxy(n)&&(r=O.a.getProxyUrl()+encodeURIComponent(n));var o=t.getTileCoord();t.getImage().src="",P.a.loadTile(r,o,Y(o))}function Z(e){try{var t=function(e,t){var n=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,n.getView().getZoom())}(this,e),n=this.getSource().getTileGrid().getTileSize(),r=P.a.getElevation(Y(t),function(e,t,n){var r=e.getSource().getTileGrid(),o=r.getTileCoordExtent(n),a=r.getTileSize()/(o[2]-o[0]);return{x:Math.floor((t[0]-o[0])*a),y:Math.floor((o[3]-t[1])*a)}}(this,e,t),n,this.get("nodata"));return r.available?r.value:o.a.createElement(i.a,{msgId:r.message})}catch(e){return o.a.createElement(i.a,{msgId:"elevationLoadingError"})}}var K=function(e){return e&&Object(T.creditsToAttribution)(e)||void 0},Q=function(e,t){var n=function(e){return e.map((function(e){return e.split("?")[0]}))}(y()(e.url)?e.url:[e.url]),r=V(e)||{};n.forEach((function(t){return j.a.addAuthenticationParameter(t,r,e.securityToken)}));var o=Object(F.isVectorFormat)(e.format);if(e.singleTile&&!o)return new M.a({opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:new C.default({url:n[0],crossOrigin:e.crossOrigin,attributions:K(e.credits),params:r,ratio:e.ratio||1})});var a,i=t&&t.getView()&&t.getView().getProjection()&&t.getView().getProjection().getCode()||"EPSG:3857",s=Object(L.f)(v.a.normalizeSRS(e.srs||i,e.allowedSRS)).getExtent(),l=function(e,t){return t.useForElevation?g()({},e,{tileLoadFunction:q.bind(null,[t.forceProxy])}):t.forceProxy?g()({},e,{tileLoadFunction:W}):e}({attributions:K(e.credits),urls:n,crossOrigin:e.crossOrigin,params:r,tileGrid:new R.a({extent:s,resolutions:x.a.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[s[0],s[1]]})},e),c=new D.default(z({},l)),u={opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex};return(a=o?new N.a(z(z({},u),{},{source:new k.a(z(z({},l),{},{format:new G.a[e.format]({layerName:"_layer_"}),tileUrlFunction:function(e,t,n){return c.tileUrlFunction(e,t,n)}}))})):new I.a(z(z({},u),{},{source:c}))).set("map",t),o&&(a.set("wmsSource",c),e.vectorStyle&&Object(G.b)(e.vectorStyle,a)),e.useForElevation&&(a.set("nodata",e.nodata),a.set("getElevation",Z.bind(a))),a};s.default.registerType("wms",{create:Q,update:function(e,t,n,r){var o=Object(F.isVectorFormat)(t.format);if(function(e,t){return e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||Object(F.isVectorFormat)(e.format)!==Object(F.isVectorFormat)(t.format)||Object(F.isVectorFormat)(e.format)&&Object(F.isVectorFormat)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles}(n,t))return Q(t,r);var a=!1;o&&t.vectorStyle&&!p()(t.vectorStyle,n.vectorStyle||{})&&(Object(G.b)(t.vectorStyle,e),a=!0);var i=e.get("wmsSource")||e.getSource(),s=o?e.getSource():null;if(n.srs!==t.srs){var l=Object(L.f)(v.a.normalizeSRS(t.srs,t.allowedSRS)).getExtent();if(t.singleTile&&!o)e.setExtent(l);else{var u=new R.a({extent:l,resolutions:x.a.getResolutions(),tileSize:t.tileSize?t.tileSize:256,origin:t.origin?t.origin:[l[0],l[1]]});i.tileGrid=u,s&&(s.tileGrid=u)}a=!0}n.credits!==t.credits&&t.credits&&(i.setAttributions(K(t.credits)),a=!0);var f,m,y=!1;if(n&&i&&i.updateParams&&(n.params&&t.params?y=d()(Object.keys(n.params),Object.keys(t.params)).reduce((function(e,r){return t.params[r]!==n.params[r]||e}),!1):(!n.params&&t.params||n.params&&!t.params)&&(y=!0),f=V(n),m=V(t),y=y||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce((function(e,t){return f[t]!==m[t]||e}),!1),a=a||y),a&&(i.refresh&&i.refresh(),s&&(s.clear(),s.refresh()),y)){var b=g()(m,j.a.addAuthenticationToSLD(Object(w.optionsToVendorParams)(t)||{},t));i.updateParams(g()(b,Object.keys(f||{}).reduce((function(e,t){return c()(b[t])?g()(e,H({},t,void 0)):e}),{})))}return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/lodash/castArray.js"),a=n.n(o),i=n("./node_modules/lodash/head.js"),s=n.n(i),l=n("./node_modules/lodash/last.js"),c=n.n(l),u=n("./MapStore2/web/client/utils/SecurityUtils.js"),p=n.n(u),f=n("./MapStore2/web/client/utils/WMTSUtils.js"),d=n.n(f),m=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),y=n.n(m),b=n("./MapStore2/web/client/utils/MapUtils.js"),g=n.n(b),h=n("./MapStore2/web/client/utils/VectorTileUtils.js"),v=n("./node_modules/url/url.js"),S=n.n(v),O=n("./node_modules/ol/proj.js"),w=n("./node_modules/ol/extent.js"),E=n("./node_modules/ol/layer/Tile.js"),j=n("./node_modules/ol/layer/VectorTile.js"),T=n("./node_modules/ol/source/WMTS.js"),A=n("./node_modules/ol/source/VectorTile.js"),x=n("./node_modules/ol/tilegrid/WMTS.js"),_=n("./node_modules/ol/format/MVT.js"),P=n("./node_modules/ol/format/GeoJSON.js"),M=n("./node_modules/ol/format/TopoJSON.js"),C=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={"application/vnd.mapbox-vector-tile":_.a,"application/json;type=geojson":P.a,"application/json;type=topojson":M.a};var k=function(e){var t="RESTful"===e.requestEncoding?"REST":e.requestEncoding,n=function(e,t){return e.map((function(e){return"REST"===t?e:e.split("?")[0]}))}(a()(e.url),t),r=y.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=Object(O.f)(r),i=o.getMetersPerUnit(),s=d.a.getTileMatrix(e,r),l=s.tileMatrixSetName,u=s.tileMatrixSet,f=s.matrixIds,m=u&&(null==u?void 0:u.TileMatrix.map((function(e){return Number(e.ScaleDenominator)}))),b=g.a.getResolutions(),v=e.resolutions||m&&m.map((function(e){return 28e-5*e/i}))||b,_="ne"===o.getAxisOrientation().substr(0,2),P=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TopLeftCorner;return t&&y.a.parseString(t)})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y;return _?[n,t]:[t,n]})),M=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.MatrixWidth,n=e.MatrixHeight;return[parseInt(t,10),parseInt(n,10)]})),L=u&&u.TileMatrix&&u.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TileWidth,n=e.TileHeight;return[parseInt(t,10),parseInt(n,10)]})),I=e.bbox,k=I?Object(w.a)([parseFloat(I.bounds.minx),parseFloat(I.bounds.miny),parseFloat(I.bounds.maxx),parseFloat(I.bounds.maxy)],Object(O.h)(I.crs,e.srs)):o.getExtent(),N=Object(w.B)(k,o.getExtent());Object(w.H)(N)&&(N=o.getExtent());var F={};n.forEach((function(t){return p.a.addAuthenticationParameter(t,F,e.securityToken)}));var G=S.a.format({query:R({},F)}),U=e.maxResolution||c()(b.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return v[0]/e*256<.5}))),B=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",z=Object(h.isVectorFormat)(B),H={requestEncoding:t,urls:n.map((function(e){return e+G})),layer:e.name,version:e.version||"1.0.0",matrixSet:l,format:B,style:e.style||"",tileGrid:new x.b({origins:P,origin:P?void 0:[20037508.3428,-20037508.3428],resolutions:v,matrixIds:d.a.limitMatrix((f||d.a.getDefaultMatrixId(e)||[]).map((function(e){return e.identifier})),v.length),sizes:M,extent:N,tileSizes:L,tileSize:!L&&(e.tileSize||[256,256])}),wrapX:!0},V=new T.a(H),W=new(z?j.a:E.a)({opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,maxResolution:U,visible:!1!==e.visibility,source:z?new A.a(R(R({},H),{},{format:new D[e.format]({dataProjection:r}),tileUrlFunction:function(){return V.tileUrlFunction.apply(V,arguments)}})):V});return z&&W.setStyle(Object(C.d)(e)),W};r.default.registerType("wmts",{create:k,update:function(e,t,n){return n.securityToken!==t.securityToken||n.srs!==t.srs||n.format!==t.format||n.style!==t.style?k(t):null},isCompatible:function(e){return!!s()(y.a.getEquivalentSRS(e.srs||"EPSG:3857").filter((function(t){return function(e,t){var n=d.a.getTileMatrix(t,e),r=n.tileMatrixSetName,o=n.tileMatrixSet;return o?y.a.getEPSGCode(o["ows:SupportedCRS"])===e:r===e}(t,e)})))}})},"./MapStore2/web/client/components/map/openlayers/plugins/index.js":function(e,t,n){e.exports={BingLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js").default,GoogleLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js").default,GraticuleLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js").default,MapQuest:n("./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js").default,OSMLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js").default,OverlayLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js").default,TMSLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js").default,TileProviderLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js").default,VectorLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js").default,WFSLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js").default,WFS3Layer:n("./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js").default,WMSLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js").default,WMTSLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js").default}},"./MapStore2/web/client/components/map/popups/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),i=n.n(a),s=n("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),l=n("./node_modules/recompose/es/Recompose.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/reselect/es/index.js"),p=n("./MapStore2/web/client/selectors/mapInfo.js"),f=n("./MapStore2/web/client/actions/mapInfo.js"),d=n("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx"),m=n.n(d),y=n("./node_modules/lodash/lodash.js"),b=n("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx"),g=n.n(b),h=Object(l.compose)(Object(c.connect)(Object(u.createSelector)(p.indexSelector,(function(e){return{index:e}})),{setIndex:f.changePage}),Object(l.defaultProps)({index:0,responses:[]})),v=Object(u.createSelector)([p.responsesSelector,p.validResponsesSelector,function(e){return e.mapInfo&&e.mapInfo.requests||[]},p.generalInfoFormatSelector,p.showEmptyMessageGFISelector],(function(e,t,n,r,o){return{responses:e,validResponses:t,requests:n,format:r,showEmptyMessageGFI:o,missingResponses:(n||[]).length-(e||[]).length}})),S=Object(l.compose)(Object(c.connect)(v),Object(l.defaultProps)({responses:[],container:function(e){var t=e.index,n=e.children;return o.a.createElement(o.a.Fragment,null,Object(y.isArray)(n)&&n[t]||n)},header:g.a}),h,s.defaultViewerDefaultProps,s.defaultViewerHandlers,i()((function(e){return 0===e.responses.length})))(m.a);n.d(t,"IDENTIFY_POPUP",(function(){return O}));var O="identify";t.default={identify:S}},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png":function(e,t,n){e.exports=n.p+"MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAB3klEQVR42s3U4UdDURzG8czMXJnJ1Vwzc6VJZjaZJdlMlpQsKdmUFNOUspRSSqUolfQfr+fF98Vx5mwv9qbDx7LdznnO7/7Omej3+/+Ga0QMUYkhbvBgmhzCQxwxibIGrGEF8CQhU+LLtKQkQNqScUgjxRxTBIxbgfgD/BgnhM8kM5KTeclLQYqGkkMRBckzR8ic/mAgd5BAZplsUaqyIg2sDtHg2brUZJk5SmwopErJUWE8SpmTMhNvya60Zd/SNrR4bkeaskG4uiwRZk6yrJEYFibGAxn+scECHTmTnuVCzvmty3PHciB7bGKN6lQkzysPqIrHmpFhYbKUtckC1/Ioz4ZHuZdbuSLYiRxRpSZVWXZVxAzC0R4Ik5SQsu6w8yd5l2/5kg95I9SdXMoZQfYIUjeqEUrgOkXGPeN4TYRhxy8E+ZUf+eS7B7miIoeybVSjKDnm8u3+gH3pDTYwu1igATvs/pXqvBKiR4i2bNJfi1ZfUAnjgrOG8wY2quNzBKuU/ZS+uSFEl5O0xRGuUIlZCcw7xG5QPkeHYUSNV5WXGou2sC3rBC0LjenqCXGO0WEiTJa0Lr4KixdHBrDGuGGiRqCUpFk8pGIpQtCU7p4YPwxYxEMCk1aAMQZh8Ac8PfbIzYPJOwAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.Form,b=m.FormControl,g=m.FormGroup,h=m.ControlLabel,v=n("./MapStore2/web/client/utils/MapUtils.js"),S=n("./node_modules/lodash/lodash.js").isEqual,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"onComboChange",(function(t){var n=parseInt(t.nativeEvent.target.value,10);e.props.onChange(n,e.props.scales[n])})),p(c(e),"getOptions",(function(){return e.props.scales.map((function(t,n){return d.createElement("option",{value:n,key:n},e.props.template(t,n))})).filter((function(t,n){return n>=e.props.minZoom}))})),e}return t=u,(n=[{key:"shouldComponentUpdate",value:function(e){return!S(e,this.props)}},{key:"render",value:function(){var e=null;return e=this.props.readOnly?d.createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?d.createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):d.createElement(y,{inline:!0},d.createElement(g,{bsSize:"small"},d.createElement(h,null,this.props.label),d.createElement(b,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),d.createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(O,"propTypes",{id:f.string,style:f.object,scales:f.array,currentZoomLvl:f.number,minZoom:f.number,onChange:f.func,readOnly:f.bool,label:f.oneOfType([f.func,f.string,f.object]),template:f.func,useRawInput:f.bool}),p(O,"defaultProps",{id:"mapstore-scalebox",scales:v.getGoogleMercatorScales(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1}),e.exports=O},"./MapStore2/web/client/components/maps/forms/Thumbnail.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./MapStore2/web/client/components/I18N/Message.jsx"),y=n("./MapStore2/web/client/utils/ResourceUtils.js").getResourceIdFromURL,b=n("./MapStore2/web/client/components/misc/Thumbnail.jsx").default,g={FORMAT:f.createElement(m,{msgId:"map.errorFormat"}),SIZE:f.createElement(m,{msgId:"map.errorSize"})},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"state",{}),p(c(e),"getThumbnailUrl",(function(){return e.props.map&&e.props.map.newThumbnail&&"NODATA"!==e.props.map.newThumbnail?decodeURIComponent(e.props.map.newThumbnail):null})),p(c(e),"getDataUri",(function(e,t){var n=e;if(n&&n.length>0){var r=n[0],o=new FileReader;return o.onload=function(e){return t(e.target.result,r.size)},o.readAsDataURL(r)}return t(null)})),p(c(e),"getThumbnailDataUri",(function(t){e.getDataUri(e.files,t)})),p(c(e),"generateUUID",(function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))})),p(c(e),"processUpdateThumbnail",(function(t,n,r){var o=e.generateUUID();!e.props.map||r||!e.props.map.thumbnail||e.refs.imgThumbnail||n||e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!0),e.props.map&&!r&&e.props.map.newThumbnail&&!e.refs.imgThumbnail&&n&&(e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&r&&e.refs.imgThumbnail&&(e.deleteThumbnail(e.props.map.thumbnail,null,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&!r&&e.refs.imgThumbnail&&e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id),e.props.map.newThumbnail||r||e.refs.imgThumbnail||(e.props.map.thumbnail&&n&&e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id))})),p(c(e),"updateThumbnail",(function(t,n){e.props.map.errors&&e.props.map.errors.length||e.getDataUri(e.files,(function(r){return e.processUpdateThumbnail(t,n,r),r}))})),p(c(e),"deleteThumbnail",(function(t,n){if(t&&-1!==t.indexOf("geostore")){var r=y(t);r&&e.props.onDeleteThumbnail(r,n)}})),e}return t=u,(n=[{key:"renderThumbnailErrors",value:function(){return this.props.thumbnailErrors&&this.props.thumbnailErrors.length>0?f.createElement("div",{className:"dropzone-errorBox alert-danger"},f.createElement("p",null,f.createElement(m,{msgId:"map.error"})),this.props.thumbnailErrors.map((function(e){return f.createElement("div",{id:"error"+e,key:"error"+e,className:"error"+e},g[e])}))):null}},{key:"render",value:function(){var e=this;return f.createElement(b,{ref:"imgThumbnail",thumbnail:this.getThumbnailUrl(),className:null,dropZoneProps:{className:"dropzone alert alert-info",rejectClassName:"alert-danger"},loading:this.props.loading,maxFileSize:this.props.maxFileSize,style:{pointerEvents:this.props.map.saving?"none":"auto"},label:this.props.withLabel&&f.createElement("label",{className:"control-label"},f.createElement(m,{msgId:"map.thumbnail"})),"ù":!0,message:f.createElement(f.Fragment,null,this.props.message,f.createElement("br",null),this.props.suggestion),error:this.renderThumbnailErrors(),onUpdate:function(t,n){var r;e.props.onError([],e.props.map.id),e.files=n,e.props.onUpdate(t,null==n||null===(r=n[0])||void 0===r?void 0:r.preview)},onError:function(t,n){e.props.onError(t,e.props.map.id),e.files=n,e.props.onUpdate(null,null)},onRemove:function(){e.files=null,e.props.onUpdate(null,null),e.props.onRemoveThumbnail(),e.props.onError([],e.props.map.id)}})}}])&&a(t.prototype,n),r&&a(t,r),u}(f.Component);p(h,"propTypes",{glyphiconRemove:d.string,style:d.object,thumbnailErrors:d.array,loading:d.bool,withLabel:d.bool,map:d.object,maxFileSize:d.number,onDrop:d.func,onError:d.func,onUpdate:d.func,onSaveAll:d.func,onCreateThumbnail:d.func,onDeleteThumbnail:d.func,onRemoveThumbnail:d.func,message:d.oneOfType([d.string,d.element]),suggestion:d.oneOfType([d.string,d.element])}),p(h,"contextTypes",{messages:d.object}),p(h,"defaultProps",{loading:!1,withLabel:!0,glyphiconRemove:"remove-circle",maxFileSize:5e5,onDrop:function(){},onError:function(){},onUpdate:function(){},onSaveAll:function(){},onRemoveThumbnail:function(){},onCreateThumbnail:function(){},onDeleteThumbnail:function(){},message:f.createElement(m,{msgId:"map.message"}),suggestion:f.createElement(m,{msgId:"map.suggestion"}),map:{},thumbnailErrors:[]}),e.exports=h},"./MapStore2/web/client/components/misc/ConfirmDialog.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./node_modules/react-bootstrap/es/index.js"),m=d.Button,y=d.ButtonGroup,b=d.Glyphicon,g=n("./MapStore2/web/client/components/misc/Dialog.jsx"),h=n("./node_modules/object-assign/index.js"),v=n("./MapStore2/web/client/components/I18N/Message.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return f.createElement(g,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:h({},this.props.style,{display:this.props.show?"block":"none"})},f.createElement("span",{role:"header"},f.createElement("span",{className:"user-panel-title"},this.props.title),f.createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?f.createElement(b,{glyph:this.props.closeGlyph}):f.createElement("span",null,"×"))),f.createElement("div",{role:"body"},this.props.children),f.createElement("div",{role:"footer"},f.createElement(y,null,f.createElement(m,{onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),f.createElement(m,{onClick:this.props.onClose},this.props.closeText))))}}])&&a(t.prototype,n),r&&a(t,r),c}(f.Component);u(S,"propTypes",{show:p.bool,draggable:p.bool,onClose:p.func,onConfirm:p.func,onSave:p.func,modal:p.bool,closeGlyph:p.string,style:p.object,buttonSize:p.string,inputStyle:p.object,title:p.node,confirmButtonContent:p.node,confirmButtonDisabled:p.bool,closeText:p.node,confirmButtonBSStyle:p.string}),u(S,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:f.createElement(v,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:f.createElement(v,{msgId:"confirm"})||"Confirm",closeText:f.createElement(v,{msgId:"close"}),includeCloseButton:!0}),e.exports=S},"./MapStore2/web/client/components/misc/Dialog.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),y=n("./node_modules/prop-types/index.js"),b=n("./node_modules/react-draggable/dist/react-draggable.js"),g=n("./node_modules/react-spinkit/dist/index.js"),h=n("./node_modules/object-assign/index.js"),v=n("./MapStore2/web/client/components/I18N/Message.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"renderLoading",(function(){return e.props.maskLoading?m.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},m.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},m.createElement(v,{msgId:"loading"}),m.createElement(g,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),d(p(e),"renderRole",(function(t){return m.Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),d(p(e),"hasRole",(function(t){return m.Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),d(p(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=u,(n=[{key:"render",value:function(){var e=this,t=m.createElement("div",{id:this.props.id,style:a({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},m.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),m.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?m.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):m.createElement("span",null)),n=this.props.draggable?m.createElement(b,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,r=h({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?m.createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:r,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&s(t.prototype,n),r&&s(t,r),u}(m.Component);d(S,"propTypes",{id:y.string.isRequired,style:y.object,backgroundStyle:y.object,className:y.string,maskLoading:y.bool,containerClassName:y.string,headerClassName:y.string,bodyClassName:y.string,footerClassName:y.string,onClickOut:y.func,modal:y.bool,start:y.object,draggable:y.bool,bounds:y.oneOfType([y.string,y.object])}),d(S,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"}),e.exports=S},"./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),s=n("./MapStore2/web/client/utils/MapInfoUtils.js"),l=n.n(s),c=n("./node_modules/react-select/dist/react-select.es.js"),u=n("./node_modules/react-bootstrap/es/index.js"),p=n("./MapStore2/web/client/components/misc/Overlay.jsx"),f=n.n(p);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){var t=e.text,n=e.placement,a=e.bsStyle,i=e.left,s=e.top,l=e.title,c=e.glyph,p=e.id,m=Object(r.useRef)(),y=d(Object(r.useState)(!1),2),b=y[0],g=y[1];return o.a.createElement("span",{className:"mapstore-info-popover",onMouseLeave:function(){return g(!1)}},o.a.createElement(u.Glyphicon,{onMouseEnter:function(){g(!0)},ref:function(e){m.current=e},className:"text-".concat(a),glyph:c}),o.a.createElement(f.a,{placement:n,show:b,target:function(){return m.current}},o.a.createElement(u.Popover,{id:p,placement:n,positionLeft:i,positionTop:s,title:l},o.a.createElement("div",{style:{display:"flex"}},t))))};y.propTypes={id:i.a.string,title:i.a.string,text:i.a.string,glyph:i.a.string,bsStyle:i.a.string,placement:i.a.string,left:i.a.number,top:i.a.number,trigger:i.a.oneOfType([i.a.array,i.a.bool])},y.defaultProps={id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info"};var b=y,g=n("./MapStore2/web/client/components/I18N/HTML.jsx"),h=n.n(g);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=e.id,n=e.label,r=e.infoFormat,a=e.availableInfoFormat,i=e.popoverMessage,s=e.disabled,l=e.onInfoFormatChange,p=e.selectProps,f=Object.keys(a).reduce((function(e,t){return Object.keys(e).map((function(t){return e[t]})).some((function(e){return e===a[t]}))?e:O(O({},e),{},w({},t,a[t]))}),{}),d=Object.keys(f).map((function(e){return{value:f[e],label:e}})),m=o.a.createElement(o.a.Fragment,null,"   ",i&&o.a.createElement(b,{text:o.a.createElement(h.a,{msgId:i})}),o.a.createElement(c.default,v({},p,{id:t,value:r,clearable:!1,disabled:s,options:d,onChange:function(e){return l(null==e?void 0:e.value)}})));return n?o.a.createElement(u.FormGroup,{bsSize:"small"},o.a.createElement(u.ControlLabel,null,n),m):m}E.propTypes={id:i.a.string,label:i.a.oneOfType([i.a.func,i.a.string,i.a.object]),availableInfoFormat:i.a.object,infoFormat:i.a.string,popoverMessage:i.a.string,onInfoFormatChange:i.a.func,disabled:i.a.bool,selectProps:i.a.object},E.defaultProps={id:"mapstore-feature-format-selector",availableInfoFormat:l.a.getAvailableInfoFormat(),infoFormat:l.a.getDefaultInfoFormatValue(),popoverMessage:"",onInfoFormatChange:function(){},selectProps:{}};t.default=E},"./MapStore2/web/client/components/misc/FeatureInfoTriggerSelector.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,p,f,d=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),y=n("./MapStore2/web/client/plugins/locale/Message.jsx"),b=n("./node_modules/react-bootstrap/es/index.js"),g=b.FormControl,h=b.FormGroup,v=b.ControlLabel,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return d.createElement(h,{bsSize:"small"},d.createElement(v,null,d.createElement(y,{msgId:"infoTriggerLabel"})),d.createElement(g,{value:this.props.trigger,componentClass:"select",onChange:this.props.onTriggerChange},d.createElement("option",{value:"click",key:"click"},"Click"),d.createElement("option",{value:"hover",key:"hover"},"Hover")))}}])&&a(t.prototype,n),r&&a(t,r),c}(d.Component);u=S,p="propTypes",f={trigger:m.string,onTriggerChange:m.func},p in u?Object.defineProperty(u,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[p]=f,e.exports=S},"./MapStore2/web/client/components/misc/Loader.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),l=function(e){return e>100?"full":e>40?"medium":"small"},c=function(e){var t=e.size,n=e.style,r=void 0===n?{}:n,a=e.className,s=e.hidden;return i.createElement("div",{className:a,style:o({width:t,height:t,overflow:"hidden"},r)},!s&&i.createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};c.propTypes={size:s.number,className:s.string,style:s.object},e.exports=c},"./MapStore2/web/client/components/misc/LoadingSpinner.jsx":function(e,t,n){var r=n("./node_modules/react/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{display:"inline-block"}:t;return r.createElement("div",{style:n,className:"mapstore-inline-loader"})}},"./MapStore2/web/client/components/misc/LoadingView.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react/index.js"),s=n("./node_modules/react-container-dimensions/lib/index.js").default,l=n("./MapStore2/web/client/components/misc/Loader.jsx");e.exports=function(e){var t=e.width,n=e.height,r=e.className,a=void 0===r?"loader-container":r,c=e.contentStyle,u=void 0===c?{}:c;return i.createElement("div",{className:a},i.createElement(s,null,(function(e){var r=e.width,a=void 0===r?200:r,s=e.height,c=void 0===s?200:s,p=t||(c>0?Math.min(a,c):a),f=n||(c>0?Math.min(a,c):a),d=Math.min(p,f);return i.createElement(l,{size:d,style:o({padding:d/10,margin:"auto",display:"flex"},u)})})))}},"./MapStore2/web/client/components/misc/Overlay.jsx":function(e,t,n){var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=r(n("./node_modules/react-bootstrap/es/index.js").Overlay)},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,n){var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=r(n("./node_modules/react-bootstrap/es/index.js").OverlayTrigger)},"./MapStore2/web/client/components/misc/Portal.jsx":function(e,t,n){var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx");e.exports=r(n("./node_modules/react-overlays/es/index.js").Portal)},"./MapStore2/web/client/components/misc/ResizableModal.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,a=n("./MapStore2/web/client/components/misc/Dialog.jsx"),i=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=n("./node_modules/recompose/es/Recompose.js").withState,l=n("./node_modules/react-addons-css-transition-group/index.js"),c=n("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),u={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},p={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}};e.exports=s("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,n=void 0!==t&&t,s=e.loading,f=e.onClose,d=void 0===f?function(){}:f,m=e.title,y=void 0===m?"":m,b=e.clickOutEnabled,g=void 0===b||b,h=e.showClose,v=void 0===h||h,S=e.disabledClose,O=void 0!==S&&S,w=e.showFullscreen,E=void 0!==w&&w,j=e.fullscreenType,T=void 0===j?"full":j,A=e.buttons,x=void 0===A?[]:A,_=e.size,P=void 0===_?"":_,M=e.bodyClassName,C=void 0===M?"":M,L=e.children,R=e.draggable,I=void 0!==R&&R,D=e.fullscreenState,k=e.onFullscreen,N=e.fade,F=void 0!==N&&N,G=e.fitContent,U=e.modalClassName,B=void 0===U?"":U,z=e.dialogClassName,H=void 0===z?"":z,V=u[P]||"",W=E&&"expanded"===D&&p.className[T]||"",Y=n?r.createElement("div",{className:"modal-fixed ".concat(B," ")+(I?"ms-draggable":"")},r.createElement(a,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:g?d:function(){},containerClassName:"ms-resizable-modal",draggable:I,modal:!0,className:"modal-dialog modal-content"+V+W+H+(G?" ms-fit-content":"")},r.createElement("span",{role:"header"},r.createElement("h4",{className:"modal-title"},r.createElement("div",{className:"ms-title"},y),E&&p.className[T]&&r.createElement(o,{className:"ms-header-btn",onClick:function(){return k("expanded"===D?"collapsed":"expanded")},glyph:p.glyph[D][T]}),v&&d&&r.createElement(o,{glyph:"1-close",className:"ms-header-btn",onClick:d,disabled:O}))),r.createElement("div",{role:"body",className:C},L),r.createElement("div",{role:"footer"},s?r.createElement(c,{style:{position:"absolute",left:0,bottom:0,margin:18}}):null,r.createElement(i,{buttons:x})))):null;return F?r.createElement(l,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},Y):Y}))},"./MapStore2/web/client/components/misc/Thumbnail.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-dropzone/dist/index.js"),i=n.n(a),s=n("./MapStore2/web/client/components/misc/Loader.jsx"),l=n.n(s),c=function(e,t){return new Promise((function(n,r){var o=t||{},a=o.width,i=void 0===a?64:a,s=o.height,l=void 0===s?64:s,c=o.contain,u=o.type,p=void 0===u?"image/jpeg":u,f=o.quality,d=void 0===f?.5:f,m=new Image;m.crossOrigin="anonymous",m.onload=function(){var e=m.naturalWidth/m.naturalHeight,t=i,r=l,o=i/l,a=document.createElement("canvas");a.setAttribute("width",i),a.setAttribute("height",l),a.style.width=i+"px",a.style.height=l+"px";var s=a.getContext("2d"),u=!c&&e<o||c&&e>o?[t,t/e]:[r*e,r];s.save(),s.translate(t/2,r/2),s.drawImage(m,-u[0]/2,-u[1]/2,u[0],u[1]),s.restore();var f=a.toDataURL(p,d);n(f)},m.onerror=function(e){r(e)},m.src=e}))},u=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=n.n(u);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=Object(r.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"ms-thumbnail":n,s=e.label,u=e.loading,y=e.message,b=e.error,g=e.thumbnail,h=e.removeGlyph,v=void 0===h?"trash":h,S=e.removeTooltipId,O=void 0===S?"removeThumbnail":S,w=e.style,E=void 0===w?{}:w,j=e.maxFileSize,T=void 0===j?5e5:j,A=e.supportedImageTypes,x=void 0===A?["image/png","image/jpeg","image/jpg"]:A,_=e.thumbnailOptions,P=e.dropZoneProps,M=void 0===P?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:P,C=e.onUpdate,L=void 0===C?function(){}:C,R=e.onError,I=void 0===R?function(){}:R,D=e.onRemove,k=e.toolbarButtons,N=Object(r.useRef)(),F=m(Object(r.useState)(),2),G=F[0],U=F[1];Object(r.useEffect)((function(){return N.current=!0,function(){N.current=!1}}),[]);if(u||G)return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(a?" ".concat(a):""," ms-loading")},o.a.createElement(l.a,{size:70}));var B=o.a.createElement(p.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:k||[{glyph:v,visible:!(!D||!g),tooltipId:O,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==D||D()}}]});return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(a?" ".concat(a):""),style:E},s,o.a.createElement(i.a,f({},M,{multiple:!1,onDrop:function(e){var t,n=null==e||null===(t=e[0])||void 0===t?void 0:t.type,r=-1!==x.indexOf(n);U(!0),function(e,t){return new Promise((function(n){var r=e;if(null==r?void 0:r[0]){var o=r[0],a=new FileReader;return a.onload=function(e){return n(t?c(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},a.readAsDataURL(o)}return n({data:null})}))}(e,_).then((function(t){var n=t.data,o=t.size;return N.current?(U(!1),r&&n&&o<T?L(n,e):I([].concat(d(r?[]:["FORMAT"]),d(n&&o>=T?["SIZE"]:[])),e)):null})).catch((function(e){return N.current?(U(!1),I(e)):null}))}}),g?o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o.a.createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(g,")"),backgroundSize:(null==_?void 0:_.contain)?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:"dropzone-content-image-added"},y),B):o.a.createElement("div",{className:"dropzone-content-image"},y,B,b&&o.a.createElement("div",{className:"dropzone-errors"},b))))}));t.default=g},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("./node_modules/react/index.js"),a=n("./MapStore2/web/client/utils/ConfigUtils.js");e.exports=function(e){return function(t){return o.createElement(e,r({},t,{container:document.querySelector("."+(a.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx"),y=n("./MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx"),b=n("./node_modules/lodash/lodash.js").isNil,g=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/no90Lat.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,c=l(u);function u(){return a(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props.format;return"decimal"===e||b(e)?f.createElement(m,o({},this.props,{format:this.props.format||"decimal"})):f.createElement(y,this.props)}}])&&i(t.prototype,n),r&&i(t,r),u}(f.Component);p(h,"propTypes",{idx:d.number,value:d.number,constraints:d.object,format:d.string,aeronauticalOptions:d.object,coordinate:d.string,onChange:d.func,onKeyDown:d.func}),p(h,"defaultProps",{format:"decimal",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}}),e.exports=g(h)},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react-bootstrap/es/index.js"),b=y.Row,g=y.Col,h=y.Glyphicon,v=y.Button,S=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),O=n("./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx"),w=n("./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx"),E=n("./MapStore2/web/client/components/I18N/Message.jsx"),j=n("./node_modules/lodash/lodash.js"),T=j.isEqual,A=j.isNumber,x=n("./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx"),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,o=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),f(u(t=o.call(this,e)),"onChangeLatLon",(function(e,n){t.setState(a(a({},t.state),{},f({},e,parseFloat(n))),(function(){var e=parseFloat(t.state.lat)!==parseFloat(t.props.component.lat),n=parseFloat(t.state.lon)!==parseFloat(t.props.component.lon);t.setState(a(a({},t.state),{},{disabledApplyChange:!(e||n)}))}))})),f(u(t),"onSubmit",(function(){t.props.onSubmit(t.props.idx,t.state)})),t.state={lat:A(t.props.component.lat)?t.props.component.lat:"",lon:A(t.props.component.lon)?t.props.component.lon:"",disabledApplyChange:!0},t}return t=c,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!T(e.component,this.props.component)){var t=A(e.component.lat)?e.component.lat:"",n=A(e.component.lon)?e.component.lon:"";this.setState({lat:t,lon:n,disabledApplyChange:!0})}}},{key:"render",value:function(){var e=this,t=this.props.idx,n=[{visible:this.props.removeVisible,disabled:!this.props.removeEnabled,glyph:"trash",onClick:function(){e.props.onRemove(t)}},{buttonConfig:{title:d.createElement(h,{glyph:"cog"}),className:"square-button-md no-border",pullRight:!0,tooltipId:"identifyChangeCoordinateFormat"},menuOptions:[{active:"decimal"===this.props.format,onClick:function(){e.props.onChangeFormat("decimal")},text:d.createElement(E,{msgId:"search.decimal"})},{active:"aeronautical"===this.props.format,onClick:function(){e.props.onChangeFormat("aeronautical")},text:d.createElement(E,{msgId:"search.aeronautical"})}],visible:this.props.formatVisible,Element:x},{glyph:"ok",disabled:this.state.disabledApplyChange,tooltipId:"identifyCoordinateApplyChanges",onClick:this.onSubmit}],r=d.createElement("div",null,d.createElement(v,{disabled:!this.props.isDraggableEnabled,className:"square-button-md no-border btn btn-default",style:{display:"flex",cursor:this.props.isDraggableEnabled&&"grab"}},d.createElement(h,{glyph:"menu-hamburger",style:{pointerEvents:this.props.isDraggableEnabled?"auto":"none"}})));return d.createElement(b,{className:"coordinateRow ".concat(this.props.format||""," ").concat(this.props.customClassName||""),style:this.props.customClassName?{}:{marginLeft:-5,marginRight:-5},onMouseEnter:function(){e.props.onMouseEnter&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseEnter(e.props.component)},onMouseLeave:function(){e.props.onMouseLeave&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseLeave()}},d.createElement(g,{xs:!0,md:1},this.props.showDraggable?this.props.isDraggable?this.props.connectDragSource(r):r:null),d.createElement("div",{className:"coordinate lat",style:{width:"100%"}},d.createElement(g,{xs:!0,md:4},this.props.showLabels&&d.createElement("div",null,d.createElement(E,{msgId:"latitude"})),d.createElement(w,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lat",idx:t,value:this.state.lat,onChange:function(t){return e.onChangeLatLon("lat",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit}))),d.createElement("div",{className:"coordinate lon",style:{width:"100%"}},d.createElement(g,{xs:!0,md:4},this.props.showLabels&&d.createElement("div",null,d.createElement(E,{msgId:"longitude"})),d.createElement(w,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lon",idx:t,value:this.state.lon,onChange:function(t){return e.onChangeLatLon("lon",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit}))),d.createElement(g,{key:"tools",xs:!0,md:3},d.createElement(S,{btnGroupProps:{className:"tools"},btnDefaultProps:{className:"square-button-md no-border"},buttons:n})))}}])&&i(t.prototype,n),r&&i(t,r),c}(d.Component);f(_,"propTypes",{idx:m.number,component:m.object,onRemove:m.func,onSubmit:m.func,onChangeFormat:m.func,onMouseEnter:m.func,format:m.string,type:m.string,onMouseLeave:m.func,connectDragSource:m.func,aeronauticalOptions:m.object,customClassName:m.string,isDraggable:m.bool,isDraggableEnabled:m.bool,showLabels:m.bool,showDraggable:m.bool,removeVisible:m.bool,formatVisible:m.bool,removeEnabled:m.bool}),f(_,"defaultProps",{showLabels:!1,formatVisible:!1,onMouseEnter:function(){},onMouseLeave:function(){}}),e.exports=O(_)},"./MapStore2/web/client/components/misc/coordinateeditors/editors/AeronauticalCoordinateEditor.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),y=n("./node_modules/prop-types/index.js"),b=n("./node_modules/recompose/es/Recompose.js").compose,g=n("./node_modules/react-bootstrap/es/index.js"),h=g.FormGroup,v=g.FormControl,S=n("./node_modules/lodash/lodash.js").isNil,O=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js"),w=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/coordinateTypePreset.js"),E=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/tempAeronauticalValue.js"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,o=c(u);function u(){var e;i(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t,n){var r=e.getUpdatedCoordinateValue(t,n);e.props.onChange(r)})),d(p(e),"getUpdatedCoordinateValue",(function(t,n){try{var r=d({degrees:e.props.degrees,minutes:e.props.minutes,seconds:e.props.seconds,direction:e.props.direction},t,"degrees"===t?Math.min(n,e.props.maxDegrees):n),o=r.seconds,a=r.minutes+e.getSexagesimalStep(o),i=Math.min(e.props.maxDegrees,r.degrees+e.getSexagesimalStep(a)),s=r.direction;return o=e.roundToNextSexagesimalStep(o),a=e.roundToNextSexagesimalStep(a),i===e.props.maxDegrees&&(a=0,o=0),s=i<0?s===e.props.directions[0]?e.props.directions[1]:e.props.directions[0]:s,-1===i&&(r.degrees<0&&r.minutes>=0?i=r.degrees:r.minutes<0&&r.degrees<=0?(i=0,a=r.minutes):(i=0,a=0,o=1e-4)),{degrees:i,minutes:a,seconds:o,direction:s}}catch(e){return null}})),d(p(e),"getSexagesimalStep",(function(e){return e>=60?1:e<0?-1:0})),d(p(e),"getInputStyle",(function(e){return isNaN(e)||""===e?{borderColor:"#a94442"}:{}})),d(p(e),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown())})),d(p(e),"roundToNextSexagesimalStep",(function(e){return e<0?60+e:e>=60?e-60:e})),d(p(e),"isValid",(function(t){var n=t.minutes,r=t.seconds,o=t.degrees,a=t.direction;return!S(n)&&n>0&&n<60&&!S(r)&&r>0&&r<60&&!S(o)&&o>0&&o<e.props.maxDegrees&&a})),e}return t=u,(n=[{key:"render",value:function(){var e=this,t={padding:0,textAlign:"center",borderRight:"none"},n=this.getInputStyle(this.props.degrees),r=this.getInputStyle(this.props.minutes),o=this.getInputStyle(this.props.seconds),i={position:"relative",top:0,overflow:"visible",zIndex:3,left:-13,width:0,height:0},s=this.props.aeronauticalOptions.seconds.step;return m.createElement(h,{style:{display:"inline-flex"}},m.createElement("div",{className:"degrees",style:{width:40,display:"flex"}},m.createElement(v,{key:this.props.coordinate+"degree",value:this.props.degrees,placeholder:"d",onChange:function(t){return e.onChange("degrees",parseInt(t.target.value,10))},step:1,max:this.props.maxDegrees,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:a(a({width:"100%"},t),n),type:"number"}),m.createElement("span",{style:i},"°")),m.createElement("div",{className:"minutes",style:{width:40,display:"flex"}},m.createElement(v,{key:this.props.coordinate+"minutes",placeholder:"m",value:this.props.minutes,onChange:function(t){return e.onChange("minutes",parseInt(t.target.value,10))},max:60,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:a(a({width:"100%"},t),r),step:1,type:"number"}),m.createElement("span",{style:i},"′")),m.createElement("div",{className:"seconds",style:{display:"flex"}},m.createElement(v,{key:this.props.coordinate+"seconds",value:this.props.seconds,placeholder:"s",onChange:function(t){return e.onChange("seconds",parseFloat(t.target.value))},step:s,max:60,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},min:-1,style:a(a({width:"100%"},t),o),type:"number"}),m.createElement("span",{style:i},"″")),m.createElement("div",{className:"direction-select"},m.createElement(v,{componentClass:"select",placeholder:"select",value:this.props.direction,onChange:function(t){return e.onChange("direction",t.target.value)},style:{width:40,paddingLeft:4,paddingRight:4}},this.props.directions.map((function(e){return m.createElement("option",{key:e,value:e},e)})))))}}])&&s(t.prototype,n),r&&s(t,r),u}(m.Component);d(j,"propTypes",{idx:y.number,maxDegrees:y.number,degrees:y.number,minutes:y.number,seconds:y.number,directions:y.array,direction:y.string,aeronauticalOptions:y.object,coordinate:y.string,onChange:y.func,onKeyDown:y.func}),d(j,"defaultProps",{coordinate:"lat",maxDegrees:90,directions:["N","S"],aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},onKeyDown:function(){}}),e.exports=b(w,O,E)(j)},"./MapStore2/web/client/components/misc/coordinateeditors/editors/DecimalCoordinateEditor.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.FormGroup,b=m.FormControl,g=n("./node_modules/lodash/lodash.js").capitalize,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown())})),p(c(e),"validateDecimalLon",(function(t){var n=e.props.constraints[e.props.format].lon.min,r=e.props.constraints[e.props.format].lon.max,o=parseFloat(t);return isNaN(o)||o<n||o>r?"error":null})),p(c(e),"validateDecimalLat",(function(t){var n=e.props.constraints[e.props.format].lat.min,r=e.props.constraints[e.props.format].lat.max,o=parseFloat(t);return isNaN(o)||o<n||o>r?"error":null})),e}return t=u,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.coordinate,r=t.value,o=t.onChange,a="validateDecimal"+g(n);return f.createElement(y,{validationState:this[a](r)},f.createElement(b,{key:n,value:r,placeholder:n,onChange:function(t){""===t.target.value&&o(""),null===e[a](t.target.value)&&o(t.target.value)},onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},step:1,type:"number"}))}}])&&a(t.prototype,n),r&&a(t,r),u}(f.Component);p(h,"propTypes",{idx:d.number,value:d.number,constraints:d.object,format:d.string,coordinate:d.string,onChange:d.func,onKeyDown:d.func,onSubmit:d.func}),p(h,"defaultProps",{format:"decimal",coordinate:"lat",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:function(){}}),e.exports=h},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/coordinateTypePreset.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js").withProps;e.exports=r((function(e){var t=e.coordinate,n=void 0===t?"lat":t;return{maxDegrees:"lat"===n?90:180,directions:"lat"===n?["N","S"]:["E","W"]}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/recompose/es/Recompose.js"),i=a.compose,s=a.withHandlers,l=a.withProps,c=n("./node_modules/lodash/lodash.js"),u=c.round,p=c.isNaN;e.exports=i(l((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{seconds:{decimals:4}},r=n.seconds,o=e>=0?Math.floor(e):Math.ceil(e),a=Math.abs(60*(e-o)),i=Math.floor(a),s=60*(a-i),l=u(s,r.decimals);if(o=Math.abs(o),60===l&&(i++,l=0),60===i&&(o++,i=0),p(o)||""===e)return{degrees:"",minutes:"",seconds:"",direction:t?"E":"N"};var c={degrees:o,minutes:i,seconds:l,direction:e<0?t?"W":"S":t?"E":"N"};return c}(e.value,"lon"===e.coordinate,e.aeronauticalOptions))})),s({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.degrees,r=t.minutes,o=t.seconds,a=t.direction,i=0,s=0,l=0;void 0===n&&void 0===r&&void 0===o&&e.onChange(void 0),p(n)||(i=n),p(r)||(s=r),p(o)||(l=o);var c=i+s/60+l/3600;(c>0&&("S"===a||"W"===a)||c<0&&("N"===a||"E"===a))&&(c*=-1),e.onChange(c.toPrecision(12))}}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/no90Lat.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.compose,a=r.withHandlers;e.exports=o(a({onChange:function(e){var t=e.onChange,n=void 0===t?function(){}:t,r=e.maxLatitude,o=void 0===r?89.9997222222:r,a=e.coordinate;return function(e){return n(Math.abs(parseFloat(e))>o&&"lat"===a?Math.sign(e)*o:e)}}}))},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/tempAeronauticalValue.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.compose,a=r.withHandlers,i=r.withState,s=r.withProps;e.exports=o(s((function(e){return{isValid:""!==e.value}})),i("initial","setInitial",{}),s((function(e){var t=e.isValid,n=e.initial,r=e.degrees,o=e.minutes,a=e.seconds;return t||""===r&&""===o&&""===a?{}:n})),a({onChange:function(e){return function(t){var n=t.degrees,r=t.minutes,o=t.seconds,a=t.direction;isNaN(n)?e.setInitial({degrees:"",minutes:r,seconds:o,direction:a}):isNaN(r)?e.setInitial({degrees:n,minutes:"",seconds:o,direction:a}):isNaN(o)&&e.setInitial({degrees:n,minutes:r,seconds:"",direction:a}),e.onChange({degrees:n,minutes:r,seconds:o,direction:a})}}}))},"./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/recompose/es/Recompose.js").branch,a=n("./node_modules/lodash/lodash.js").omit,i=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");e.exports=o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,n=e.noTooltipWhenDisabled,r=void 0!==n&&n;return!(r&&t)}),i,(function(e){return function(t){return r.createElement(e,a(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./node_modules/react/index.js"),l=n("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.branch,p=n("./node_modules/react-dnd/lib/index.js").DragSource,f=n("./node_modules/react-dnd/lib/index.js").DropTarget,d={beginDrag:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}};e.exports=u((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDraggable;return t}),c(p("row",d,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggingItem:t.getItem()||null}})),f("row",{drop:function(e,t){var n=t.getItem();n.sortId!==e.sortId&&e.onSort(e.sortId,n.sortId,{id:e.id,containerId:e.containerId},{id:n.id,containerId:n.containerId})}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})),(function(e){return function(t){var n=t.connectDragSource,a=t.connectDragPreview,i=t.connectDropTarget,l=t.isDragging,c=t.isOver,u=o(t,["connectDragSource","connectDragPreview","connectDropTarget","isDragging","isOver"]),p=u.draggingItem&&u.draggingItem.sortId<u.sortId,f=u.draggingItem&&u.draggingItem.containerId===u.containerId,d=f&&l?" ms-dragging":"",m=f&&c?" ms-over":"",y=f&&p?" ms-above":" ms-below";return a(i(s.createElement("div",{className:"ms-dragg".concat(d).concat(m," ").concat(y)},s.createElement("div",null,s.createElement(e,r({},u,{connectDragSource:n,isDragging:l,isOver:c,onDrop:function(e){return e.stopPropagation()}}))))))}})))},"./MapStore2/web/client/components/misc/enhancers/loadingState.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("./node_modules/react/index.js"),a=n("./node_modules/recompose/es/Recompose.js").branch,i=n("./MapStore2/web/client/components/misc/LoadingView.jsx"),s=function(e){var t=e.loading,n=e.isLoading;return t||n&&("function"==typeof n?n():!0===n)};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return a(e,(function(){return function(e){var a=e.loaderProps;return o.createElement(n,r({},t,a))}}))}},"./MapStore2/web/client/components/misc/enhancers/popover.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/recompose/es/Recompose.js"),d=f.branch,m=f.toClass,y=n("./node_modules/prop-types/index.js"),b=n("./node_modules/lodash/lodash.js").omit,g=n("./node_modules/react-bootstrap/es/index.js").Popover,h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");e.exports=d((function(e){return e.popover}),(function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,t);var n,r,l,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return n=u,(r=[{key:"renderPopover",value:function(){return p.createElement(g,b(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=m(e);return p.createElement(t,b(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return p.createElement("span",null,p.createElement(h,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&a(n.prototype,r),l&&a(n,l),u}(p.Component),u(t,"propTypes",{popover:y.object}),u(t,"defaultProps",{popover:{trigger:!0}}),n}))},"./MapStore2/web/client/components/misc/enhancers/tooltip.jsx":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var o=n("./node_modules/react/index.js"),a=n("./node_modules/recompose/es/Recompose.js").branch,i=n("./node_modules/react-bootstrap/es/index.js").Tooltip,s=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),l=n("./MapStore2/web/client/components/I18N/Message.jsx"),c=n("./node_modules/lodash/lodash.js").omit;e.exports=a((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,n=e.tooltipId;return t||n}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tooltip,a=t.tooltipId,c=t.tooltipPosition,u=void 0===c?"top":c,p=t.tooltipTrigger,f=t.keyProp,d=t.idDropDown,m=t.args,y=r(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"]);return o.createElement(s,{trigger:p,id:d,key:f,placement:u,overlay:o.createElement(i,{id:"tooltip-"+{keyProp:f}},a?o.createElement(l,{msgId:a,msgParams:{data:m}}):n)},o.createElement(e,y))}}),(function(e){return function(t){return o.createElement(e,c(t,["tooltipId","tooltip"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/withMask.js":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/recompose/es/Recompose.js"),a=o.branch,i=o.nest,s=function(e,t,n){var o=n.maskContainerStyle,a=n.maskStyle,s=n.className,l=n.white;return function(n){return i((function(n){return r.createElement("div",{className:"ms2-mask-container ".concat(s||""," ").concat(e(n)?"":"ms2-mask-empty"),style:o},n.children,e(n)?r.createElement("div",{className:"ms2-mask"+(l?" white-mask":""),style:a},t(n)):null)}),n)}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.alwaysWrap,o=void 0===r||r,i=n.white,l=void 0!==i&&i,c=n.maskContainerStyle,u=void 0===c?{}:c,p=n.maskStyle,f=void 0===p?{}:p,d=n.className;return o?s(e,t,{maskContainerStyle:u,maskStyle:f,className:d,white:l}):a(e,s((function(){return!0}),t,{maskContainerStyle:u,maskStyle:f,white:l}))}},"./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),y=n("./node_modules/lodash/lodash.js").debounce,b=n("./node_modules/prop-types/index.js"),g=n("./node_modules/react-dom/index.js"),h=n("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js").default;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,n=e.querySelector,r=e.closest,a=void 0!==r&&r;return function(e){var r,l;return l=r=function(r){s(u,r);var l=c(u);function u(e){var r;return o(this,u),d(p(r=l.call(this,e)),"findDomNode",(function(){if(!r.isMounded)return null;var e=g.findDOMNode(p(r));return e&&a&&n?e.closest(n||"*"):e&&(n?e.querySelector(n):e)})),r.width=void 0,r.height=void 0,r.skipOnMount=e.skipOnMount,r.onResize=y((function(){var e;return(e=r.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),r.ro=new h((function(e){e.forEach((function(e){var t=e.contentRect,n=t.width,o=t.height,a=r.props.handleWidth&&r.width!==n,i=r.props.handleHeight&&r.height!==o;r.skipOnMount||!a&&!i||r.onResize({width:n,height:o}),r.width=n,r.height=o,r.skipOnMount=!1}))})),r}return i(u,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findDomNode();e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return m.createElement(e,this.props)}}]),u}(m.Component),d(r,"propTypes",{handleWidth:b.bool,handleHeight:b.bool,onResize:b.func}),d(r,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),l}}},"./MapStore2/web/client/components/misc/panels/DockPanel.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-dock/lib/index.js").default,a=n("./MapStore2/web/client/components/layout/BorderLayout.jsx"),i=n("./node_modules/recompose/es/Recompose.js").withState,s=n("./MapStore2/web/client/components/misc/panels/PanelHeader.jsx");e.exports=i("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,n=e.className,i=void 0===n?"":n,l=e.fullscreen,c=void 0!==l&&l,u=e.position,p=e.open,f=e.size,d=void 0===f?550:f,m=e.style,y=void 0===m?{}:m,b=e.zIndex,g=void 0===b?1030:b,h=e.onClose,v=e.bsStyle,S=e.title,O=e.showFullscreen,w=void 0!==O&&O,E=e.glyph,j=e.header,T=e.footer,A=e.children,x=e.onFullscreen,_=void 0===x?function(){}:x,P=e.fixed,M=void 0!==P&&P,C=e.resizable,L=void 0!==C&&C,R=e.hideHeader;return r.createElement("div",{className:"ms-side-panel "+(M?"":"ms-absolute-dock ")+(L?"":"react-dock-no-resize ")+i},r.createElement(o,{fluid:t||c,position:u,dimMode:"none",isVisible:p,size:c?1:d,dockStyle:y,zIndex:g},r.createElement(a,{header:!R&&p&&r.createElement(s,{position:u,onClose:h,bsStyle:v,title:S,fullscreen:c,showFullscreen:w,glyph:E,additionalRows:j,onFullscreen:_}),footer:p&&T},p&&A)))}))},"./MapStore2/web/client/components/misc/panels/DockablePanel.jsx":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var o=n("./node_modules/react/index.js"),a=n("./node_modules/recompose/es/Recompose.js"),i=a.branch,s=a.renameProps,l=n("./MapStore2/web/client/components/layout/BorderLayout.jsx"),c=n("./MapStore2/web/client/components/misc/panels/DockPanel.jsx"),u=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),p=s({open:"show"})((function(e){var t=e.children,n=e.header,a=r(e,["children","header"]);return o.createElement(u,a,o.createElement(l,{header:o.createElement("div",{className:"ms-header"},n)},t))}));e.exports=i((function(e){return!e.dock}),(function(){return function(e){return o.createElement(p,e)}}))(c)},"./MapStore2/web/client/components/misc/panels/PanelHeader.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-bootstrap/es/index.js"),a=o.Button,i=o.Glyphicon,s=o.Grid,l=o.Row,c=o.Col,u={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};e.exports=function(e){var t=e.position,n=void 0===t?"right":t,o=e.onClose,p=e.bsStyle,f=void 0===p?"default":p,d=e.title,m=void 0===d?"":d,y=e.fullscreen,b=void 0!==y&&y,g=e.showFullscreen,h=void 0!==g&&g,v=e.glyph,S=void 0===v?"info-sign":v,O=e.additionalRows,w=e.onFullscreen,E=void 0===w?function(){}:w,j=o?r.createElement(a,{key:"ms-header-close",className:"square-button ms-close",onClick:o,bsStyle:f},r.createElement(i,{glyph:"1-close"})):null,T=h?r.createElement(a,{key:"ms-header-glyph",className:"square-button",bsStyle:f,onClick:function(){return E(!b)}},r.createElement(i,{glyph:u[n]&&u[n][b]||"resize-full"})):r.createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+f),style:{display:"flex"}},r.createElement(i,{glyph:S,className:"".concat("default"===f?"text-primary":"")})),A="left"===n?[j,T]:[T,j];return r.createElement(s,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+f},r.createElement(l,null,r.createElement(c,{xs:2},A[0]),r.createElement(c,{xs:8},r.createElement("h4",null,m)),r.createElement(c,{xs:2},A[1])),O)}},"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./node_modules/react-spinkit/dist/index.js");n("./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css");var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return this.props.loading?f.createElement("div",{className:this.props.className,id:this.props.id},f.createElement(d,{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}])&&a(t.prototype,n),r&&a(t,r),c}(f.Component);u(m,"propTypes",{id:p.string,loading:p.bool,className:p.string,spinner:p.string}),u(m,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"}),e.exports=m},"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/misc/switch/SwitchButton.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/prop-types/index.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this;return p.createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},p.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),p.createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&a(t.prototype,n),r&&a(t,r),c}(p.Component);u(d,"propTypes",{className:f.string,checked:f.bool,onChange:f.func,onClick:f.func}),u(d,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}}),e.exports=d},"./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.Panel,b=m.Button,g=m.Glyphicon,h=n("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),v=n("./MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx").default,S=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),O=function(){return f.createElement(b,{className:"square-button-sm no-border switch-error"},f.createElement(g,{glyph:"exclamation-mark",className:"text-danger"}))},w=n("./MapStore2/web/client/components/misc/LoadingView.jsx"),E=function(){return f.createElement("div",{className:"switch-loading"},f.createElement(w,{size:"small"}))},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"state",{}),e}return t=u,(n=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?v:h;return f.createElement("div",null,f.createElement("div",{className:"pull-left"},this.props.title||this.props.header),f.createElement("div",{className:"pull-right"},this.props.locked?null:f.createElement(t,{checked:this.props.expanded,onClick:function(t){e.props.onSwitch(t)}}),this.props.error?f.createElement(O,null):null,this.props.loading?f.createElement(E,null):null,this.props.buttons.length>0&&this.props.expanded&&f.createElement(S,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return f.createElement(y,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&a(t.prototype,n),r&&a(t,r),u}(f.Component);p(j,"propTypes",{header:d.node,title:d.oneOfType([d.string,d.node]),defaultExpanded:d.string,expanded:d.bool,onSwitch:d.func,locked:d.bool,buttons:d.array,loading:d.bool,error:d.any,errorMsgId:d.string,transitionProps:d.object,useToolbar:d.bool}),p(j,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1}),e.exports=j},"./MapStore2/web/client/components/misc/switch/SwitchToolbar.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),s=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),l=n.n(s),c=n("./MapStore2/web/client/components/I18N/Message.jsx"),u=n.n(c);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,a=y(i);function i(){return f(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;return o.a.createElement(l.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o.a.createElement(u.a,{msgId:"collapse"}):o.a.createElement(u.a,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&d(t.prototype,n),r&&d(t,r),i}(o.a.Component);h(v,"propTypes",{checked:i.a.bool,onClick:i.a.func}),h(v,"defaultProps",{checked:!1,onClick:function(){}}),t.default=v},"./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("./node_modules/react-bootstrap/es/index.js"),a=o.Glyphicon,i=o.DropdownButton,s=o.MenuItem,l=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),c=n("./node_modules/react/index.js"),u=n("./node_modules/uuid/v1.js"),p=l(i),f={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:u()};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.menuOptions,n=void 0===t?[]:t,o=e.buttonConfig,i=void 0===o?{}:o;return c.createElement(p,r({},f,i),n.length?n.map((function(e,t){var n=e.glyph,r=e.text,o=e.onClick,i=e.active,l=void 0!==i&&i;return c.createElement(s,{active:l,eventKey:t,onClick:o,key:t},n&&c.createElement(a,{glyph:n})," ",r)})):null)}},"./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=n("./node_modules/react/index.js"),i=n("./node_modules/react-bootstrap/es/index.js").ButtonGroup,s=n("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),l=n("./node_modules/react-addons-css-transition-group/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,n=void 0===t?[]:t,c=e.btnGroupProps,u=void 0===c?{}:c,p=e.btnDefaultProps,f=void 0===p?{}:p,d=e.transitionProps,m=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,y=function(){return n.map((function(e,t){var n=e.visible,i=void 0===n||n,l=e.Element,c=e.renderButton,u=o(e,["visible","Element","renderButton"]);return i?c||(l&&a.createElement(l,r({key:u.key||t},u))||a.createElement(s,r({key:u.key||t},f,u))):null}))};return a.createElement(i,u,m?a.createElement(l,m,y()):y())}},"./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=n("./node_modules/react/index.js"),i=n("./node_modules/recompose/es/Recompose.js").compose,s=n("./MapStore2/web/client/components/I18N/Message.jsx"),l=n("./node_modules/lodash/lodash.js").omit,c=n("./node_modules/react-bootstrap/es/index.js"),u=c.Button,p=c.Glyphicon,f=n("./MapStore2/web/client/components/misc/Loader.jsx"),d=n("./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx"),m=n("./MapStore2/web/client/components/misc/enhancers/popover.js");e.exports=i(d,m)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,n=e.loading,i=e.text,c=void 0===i?"":i,d=e.textId,m=e.glyphClassName,y=void 0===m?"":m,b=e.loaderProps,g=void 0===b?{}:b,h=e.children,v=o(e,["glyph","loading","text","textId","glyphClassName","loaderProps","children"]);return a.createElement(u,l(v,["pullRight","confirmNo","confirmYes"]),t&&!n?a.createElement(p,{glyph:t,className:y}):null,d?a.createElement(s,{msgId:d}):c,n?a.createElement(f,r({className:"ms-loader".concat(v.bsStyle&&" ms-loader-"+v.bsStyle||"").concat(v.bsSize&&" ms-loader-"+v.bsSize||"")},g)):null,h)}))},"./MapStore2/web/client/components/playback/Settings.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react/index.js"),s=n("./node_modules/moment/moment.js"),l=n("./node_modules/lodash/lodash.js").isNaN,c=n("./node_modules/react-bootstrap/es/index.js"),u=c.Form,p=c.FormGroup,f=c.ControlLabel,d=c.FormControl,m=c.InputGroup,y=n("./MapStore2/web/client/components/I18N/Message.jsx"),b=n("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),g=n("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),h=n("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),v=n("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!l(parseInt(e,10))){var r=parseInt(e,10);return t(r<1?1:r)}return n()}catch(e){return n(e)}},O=function(e){var t=e.startPlaybackTime,n=e.endPlaybackTime,r=s(t).diff(n);return{startPlaybackTime:r>=0?n:t,endPlaybackTime:r>=0?t:n}};e.exports=function(e){var t=e.following,n=e.frameDuration,r=e.timeStep,a=e.stepUnit,s=e.onSettingChange,l=void 0===s?function(){}:s,c=e.toggleAnimationMode,w=void 0===c?function(){}:c,E=e.toggleAnimationRange,j=void 0===E?function(){}:E,T=e.fixedStep,A=void 0!==T&&T,x=e.playbackRange,_=void 0===x?{}:x,P=e.setPlaybackRange,M=void 0===P?function(){}:P,C=e.playbackButtons,L=e.dateSelectorStyle,R=void 0===L?{padding:0,margin:0,border:"none"}:L,I=e.style,D=void 0===I?{}:I;return i.createElement("div",{className:"ms-playback-settings",style:D},i.createElement("h4",null,i.createElement(y,{msgId:"timeline.settings.title"})),i.createElement(p,{controlId:"timelineSettings"},i.createElement(u,{componentClass:"fieldset",inline:!0},i.createElement(f,null,i.createElement(y,{msgId:"timeline.settings.snapToGuideLayer"})," ",i.createElement(b,{text:i.createElement(y,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),i.createElement("span",null,i.createElement(h,{checked:!A,onChange:function(){return w()}})))),i.createElement("h4",null,i.createElement(y,{msgId:"playback.settings.title"})),i.createElement(p,{controlId:"frameDuration"},i.createElement(f,null,i.createElement(y,{msgId:"playback.settings.frameDuration"})),i.createElement(m,null,i.createElement(d,{componentClass:"input",type:"number",value:n,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?{}:t;return S(n.value,(function(e){l("frameDuration",e)}))}}),i.createElement(m.Addon,null,"s"))),i.createElement(f,null,i.createElement(y,{msgId:"playback.settings.step.label"})," ",i.createElement(b,{text:i.createElement(y,{msgId:"playback.settings.step.tooltip"})})),i.createElement(p,{controlId:"formPlaybackStep"},i.createElement(u,{componentClass:"fieldset",inline:!0},i.createElement(d,{disabled:!A,componentClass:"input",type:"number",style:{maxWidth:120},value:r,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?{}:t;return S(n.value,(function(e){l("timeStep",e)}))}}),i.createElement(d,{disabled:!A,componentClass:"select",value:a,onChange:function(e){var t=e.target;return l("stepUnit",(void 0===t?{}:t).value)}},i.createElement(y,{msgId:"playback.settings.step.year",msgParams:{number:r||1}},(function(e){return i.createElement("option",{value:"years"},e)})),i.createElement(y,{msgId:"playback.settings.step.week",msgParams:{number:r||1}},(function(e){return i.createElement("option",{value:"weeks"},e)})),i.createElement(y,{msgId:"playback.settings.step.day",msgParams:{number:r||1}},(function(e){return i.createElement("option",{value:"days"},e)})),i.createElement(y,{msgId:"playback.settings.step.hour",msgParams:{number:r||1}},(function(e){return i.createElement("option",{value:"hour"},e)})),i.createElement(y,{msgId:"playback.settings.step.minute",msgParams:{number:r||1}},(function(e){return i.createElement("option",{value:"minutes"},e)})),i.createElement(y,{msgId:"playback.settings.step.second",msgParams:{number:r||1}},(function(e){return i.createElement("option",{value:"seconds"},e)}))))),i.createElement(v,{onSwitch:function(e){return j(e)},expanded:_.startPlaybackTime&&_.endPlaybackTime,title:i.createElement(y,{msgId:"playback.settings.range.title"}),buttons:C},i.createElement(p,{controlId:"formPlaybackMode",style:{margin:10}},i.createElement(g,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:_.startPlaybackTime,onUpdate:function(e){return M(O(o(o({},_),{},{startPlaybackTime:e})))},style:R,showButtons:!0}),i.createElement(g,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:_.endPlaybackTime,onUpdate:function(e){return M(O(o(o({},_),{},{endPlaybackTime:e})))},style:R,showButtons:!0}))),i.createElement(p,{controlId:"formPlaybackFollowingMode"},i.createElement(u,{componentClass:"fieldset",inline:!0},i.createElement(f,null,i.createElement(y,{msgId:"playback.settings.mode.following"})," ",i.createElement(b,{text:i.createElement(y,{msgId:"playback.settings.mode.followingDescription"})})),i.createElement("span",null,i.createElement(h,{checked:t,onChange:function(e){return l("following",e)}})))))}},"./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.Form,b=m.FormGroup,g=m.FormControl,h=m.Glyphicon,v=m.Button,S=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(h),O=n("./node_modules/lodash/lodash.js"),w=O.padStart,E=O.isNil,j=n("./node_modules/moment/moment.js"),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"onUpdate",(function(t,n){var r=j(e.props.date).utc(),o=n?j(r).add(1,t):j(r).subtract(1,t);o.isValid()&&!isNaN(o.toDate().getTime())&&e.props.onUpdate(o.toISOString())})),p(c(e),"onChange",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if(""!==n){var o=j(e.props.date).utc(),a=o["day"===t?"date":t]&&j(o)["day"===t?"date":t](r(n));a.isValid()&&!isNaN(a.toDate().getTime())&&e.props.onUpdate(a.toISOString())}})),p(c(e),"getForm",(function(){var t=e.props.date&&j(e.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:t&&t.date()},{name:"month",placeholder:"MM",readOnly:!0,value:t&&t.month(),format:function(e){return!E(e)&&""!==e&&j.monthsShort(e)},parseValue:function(e){return e-1}},{name:"year",placeholder:"YYYY",value:t&&t.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:t&&t.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:t&&t.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:t&&t.seconds()},{name:"separator",value:t&&t.utcOffset(),type:"separator",format:function(e){return"UTC "+(e>=0?"+":"-")+w(e/60,2,0)}}]})),e}return t=u,(n=[{key:"render",value:function(){var e=this,t=this.getForm();return f.createElement(y,{className:"ms-inline-datetime ".concat(this.props.className),style:this.props.style},f.createElement(b,{controlId:"inlineDateTime"},this.props.glyph&&f.createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return e.props.clickable&&e.props.onIconClick(e.props.date,e.props.glyph)}},f.createElement(S,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),t.map((function(t){return"icon"===t.type&&f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},f.createElement(S,{glyph:t.value}))||"separator"===t.type&&f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},t.format&&t.format(t.value)||t.value)||f.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},e.props.showButtons&&f.createElement(v,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name,!0)}},f.createElement(S,{glyph:"chevron-up"})),f.createElement(g,{type:"text",readOnly:t.readOnly,placeholder:t.placeholder||t.name,disabled:!e.props.date,value:t.format&&t.format(t.value)||t.value,onChange:function(n){return e.onChange(t.name,n.target.value,t.parseValue)}}),e.props.showButtons&&f.createElement(v,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name)}},f.createElement(S,{glyph:"chevron-down"})))}))))}}])&&a(t.prototype,n),r&&a(t,r),u}(f.Component);p(T,"propTypes",{date:d.string,clickable:d.bool,onUpdate:d.func,onIconClick:d.func,glyph:d.string,style:d.object,className:d.string,tooltip:d.string,tooltipId:d.string,showButtons:d.bool}),p(T,"defaultProps",{date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""}),e.exports=T},"./MapStore2/web/client/components/time/TimelineComponent.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/moment/moment.js"),b=n("./node_modules/vis/dist/vis-timeline-graph2d.min.js");b.timeline.components.items.BackgroundItem.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},n("./node_modules/vis/dist/vis-timeline-graph2d.min.css");var g=n("./node_modules/lodash/lodash.js"),h=g.difference,v=g.differenceBy,S=g.keys,O=g.intersection,w=g.intersectionBy,E=g.each,j=g.omit,T=g.assign,A=function(){},x=["currentTimeTick","click","contextmenu","doubleClick","groupDragged","changed","rangechange","rangechanged","select","drop","timechange","timechanged","mouseOver","mouseMove","mouseleave","itemover","itemout","mouseDown","mouseUp"],_={},P={};E(x,(function(e){return _[e]=m.func,P["".concat(e,"Handler")]=A,[_,P]}));var M={items:m.array,rangeItems:m.array,groups:m.array,options:m.object,selectionOptions:m.object,selection:m.array,customTimes:m.shape({datetime:m.instanceOf(Date),id:m.string}),animate:m.oneOfType([m.bool,m.object]),currentTime:m.oneOfType([m.string,m.instanceOf(Date),m.number])},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,a=l(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),f(u(t=a.call(this,e)),"setAllItems",(function(e){t.$el.setItems([].concat(o(e||[]),o(t.props.rangeItems||[])))})),f(u(t),"setItems",(function(e){(e.length||0)+(t.props.rangeItems&&t.props.rangeItems.length||0)>0?t.$el.initialFitDone?t.setAllItems(e):(t.setAllItems(e),t.$el.emit("changed")):t.$el.initialRangeChangeDone&&t.setAllItems(e)})),t.state={customTimes:[]},t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.refs.container;this.$el=new b.Timeline(t,void 0,this.props.options),x.forEach((function(t){return e.$el.on(t,e.props["".concat(t,"Handler")])})),this.init()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.items,r=t.groups,o=t.options,a=t.selection,i=t.customTimes,s=t.readOnly,l=t.rangeItems,c=n!==e.items,u=r!==e.groups,p=o!==e.options,f=i!==e.customTimes,d=a!==e.selection,m=s!==e.readOnly,y=l!==e.rangeItems;return c||u||p||f||d||m||y}},{key:"componentDidUpdate",value:function(e){this.init(e)}},{key:"componentWillUnmount",value:function(){this.$el.destroy()}},{key:"render",value:function(){return d.createElement("div",{ref:"container",className:this.props.readOnly?"read-only-timeline":"",onMouseOut:this.props.onMouseOutHandler})}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,r=n.items,o=n.rangeItems,a=n.groups,i=n.options,s=n.selection,l=n.selectionOptions,c=void 0===l?{}:l,u=n.customTimes,p=n.animate,f=void 0===p||p,d=n.currentTime,m=i;if(f&&(m=j(i,"start","end"),i.start&&i.end?this.$el.setWindow(i.start,i.end,{animation:f}):this.$el.setWindow(y().subtract(1,"month"),y().add(1,"month"),{animation:f})),this.$el.setOptions(m),a.length>0){var g=new b.DataSet;g.add(a),this.$el.setGroups(g)}if(r&&r!==t.items)this.setItems(r);else if(o!==t.rangeItems){var T=this.$el&&this.$el.itemsData&&this.$el.itemsData.getDataSet();if(T){var A=w(o||[],t.rangeItems||[],"id"),x=v(o||[],t.rangeItems||[],"id"),_=v(t.rangeItems||[],o||[],"id");A.map((function(e){return T.update(e)})),x.map((function(e){return T.add(e)})),_.map((function(e){var t=e.id;return T.remove(t)}))}else this.setItems(r)}this.$el.setSelection(s,c),d&&this.$el.setCurrentTime(d);var P=S(this.state.customTimes),M=S(u),C=h(M,P),L=h(P,M),R=O(P,M);E(L,(function(t){return e.$el.removeCustomTime(t)})),E(C,(function(t){var n=u[t];e.$el.addCustomTime(n,t)})),E(R,(function(t){var n=u[t];e.$el.setCustomTime(n,t)})),this.setState({customTimes:u}),(this.props.readOnly!==t.readOnly||this.props.readOnly&&C.length>0)&&E(this.$el.customTimes,(function(n){e.props.readOnly?n.hammer.off("panstart panmove panend"):!0===t.readOnly&&(n.hammer.on("panstart",n._onDragStart.bind(n)),n.hammer.on("panmove",n._onDrag.bind(n)),n.hammer.on("panend",n._onDragEnd.bind(n)))}))}}])&&i(t.prototype,n),r&&i(t,r),c}(d.Component);f(C,"propTypes",T(M,_)),f(C,"defaultProps",T({items:[],groups:[],options:{},selection:[],customTimes:{}},P)),e.exports=C},"./MapStore2/web/client/components/time/enhancers/customTimesEnhancer.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=n("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.withPropsOnChange,p=l.withHandlers,f=n("./MapStore2/web/client/utils/TimeUtils.js").getStartEnd;e.exports=c(u(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(e){var t=e.rangeItems,n=void 0===t?[]:t,r=e.playbackEnabled,a=e.playbackRange;return{rangeItems:r&&a&&void 0!==a.startPlaybackTime&&void 0!==a.endPlaybackTime?[].concat(i(n),[o(o({id:"playback-range"},f(a.startPlaybackTime,a.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(e){return e})):n}})),c(p({onUpdate:function(e){var t=e.moveCurrentRange,n=void 0===t?function(){}:t;return function(e){var t=e.id,r=e.start;"current-range"===t&&n(r.toISOString())}}}),u(["options","onUpdate"],(function(e){var t=e.options,n=void 0===t?{}:t,r=e.onUpdate,a=void 0===r?function(){}:r;return{options:o(o({},n),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;a(e),t(e)}})}})),u(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(e){var t=e.currentTimeRange,n=e.rangeItems,r=void 0===n?[]:n,a=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat(i(r),[o(o({id:"current-range",editable:{updateTime:!a,updateGroup:!1,remove:!1}},f(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(e){return e})):r}}))),u(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(e){var t=e.currentTime,n=e.playbackRange,r=e.playbackEnabled,a=e.offsetEnabled,i=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},r&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},a&&i?{offsetTime:i.end}:{}].reduce((function(e,t){return t?o(o({},e),t):o({},e)}),{})}})))},"./MapStore2/web/client/components/time/enhancers/customTimesHandlers.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/recompose/es/Recompose.js").withHandlers,s=n("./node_modules/lodash/lodash.js").trim,l=n("./node_modules/moment/moment.js"),c=function(e,t){return l(t).diff(e)>0},u=n("./MapStore2/web/client/utils/TimeUtils.js").getStartEnd;e.exports=i({clickHandler:function(e){var t=e.selectedLayer,n=e.offsetEnabled,r=e.status,o=e.setCurrentTime,a=void 0===o?function(){}:o,i=e.selectGroup,l=void 0===i?function(){}:i;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.time,i=e.group,c=e.what,u=e.event;if("PLAY"!==r)switch(c){case"group-label":i&&"PLAY"!==r&&l(i);break;default:var p=u&&u.target&&u.target.closest(".vis-custom-time"),f=p&&p.getAttribute("class"),d=f&&s(f.replace("vis-custom-time",""));o&&!n&&"startPlaybackTime"!==d&&"endPlaybackTime"!==d&&a(o.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,n=e.setOffset,r=void 0===n?function(){}:n,i=e.setCurrentTime,s=void 0===i?function(){}:i,l=e.currentTimeRange,p=void 0===l?{}:l,f=e.playbackRange,d=e.setPlaybackRange,m=void 0===d?function(){}:d,y=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.time,i=e.id;if("startPlaybackTime"!==i&&"endPlaybackTime"!==i)"currentTime"===i&&(p.end?c(n,p.end)?s(n.toISOString(),null):(s(p.end),r(n.toISOString())):s(n.toISOString(),y)),"offsetTime"===i&&(c(t,n)?r(n.toISOString()):(s(n.toISOString()),r(t)));else{var l=o(o({},f),{},a({},i,n.toISOString())),d=u(l.startPlaybackTime,l.endPlaybackTime),b=d.start,g=d.end;c(b,g)&&m({startPlaybackTime:b,endPlaybackTime:g})}}}})},"./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/react-dom/index.js"),d=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.Popover,b=m.Glyphicon,g=n("./MapStore2/web/client/components/misc/Overlay.jsx"),h=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"renderPopover",value:function(){return p.createElement(y,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return p.createElement(b,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return p.createElement("span",{className:"mapstore-info-popover"},this.props.trigger?p.createElement(h,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),p.createElement(g,{placement:this.props.placement,show:!0,target:function(){return f.findDOMNode(e.target)}},this.renderPopover())])}}])&&a(t.prototype,n),r&&a(t,r),c}(p.Component);u(v,"propTypes",{id:d.string,title:d.string,text:d.string,glyph:d.string,bsStyle:d.string,placement:d.string,left:d.number,top:d.number,trigger:d.oneOfType([d.array,d.bool])}),u(v,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]}),e.exports=v},"./MapStore2/web/client/epics/backgroundselector.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n("./node_modules/rxjs/Rx.js"),c=n("./node_modules/lodash/lodash.js").head,u=n("./MapStore2/web/client/actions/backgroundselector.js"),p=u.ADD_BACKGROUND,f=u.ADD_BACKGROUND_PROPERTIES,d=u.SET_CURRENT_BACKGROUND_LAYER,m=u.BACKGROUND_ADDED,y=u.BACKGROUND_EDITED,b=u.REMOVE_BACKGROUND,g=u.createBackgroundsList,h=u.clearModalParameters,v=u.setBackgroundModalParams,S=u.setCurrentBackgroundLayer,O=u.allowBackgroundsDeletion,w=n("./MapStore2/web/client/actions/controls.js").setControlProperty,E=n("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,j=n("./MapStore2/web/client/actions/catalog.js").changeSelectedService,T=n("./MapStore2/web/client/actions/layers.js"),A=T.changeLayerProperties,x=T.removeNode,_=n("./MapStore2/web/client/selectors/layers.js"),P=_.getLayerFromId,M=_.currentBackgroundSelector,C=n("./MapStore2/web/client/selectors/backgroundselector.js").backgroundLayersSelector,L=n("./MapStore2/web/client/observables/wms.js").getLayerCapabilities,R=n("./MapStore2/web/client/utils/LayersUtils.js").formatCapabitiliesOptions;e.exports={accessMetadataExplorer:function(e){return e.ofType(p).switchMap((function(){return l.Observable.of(w("metadataexplorer","enabled",!0),O(!1),j("default_map_backgrounds"))}))},addBackgroundPropertiesEpic:function(e){return e.ofType(f).switchMap((function(e){var t=e.modalParams,n=l.Observable.of(v(i(i({},t),{},{loading:!1})));return t.layer&&"wms"===t.layer.type?l.Observable.of(v(i(i({},t),{},{loading:!0}))).concat(L(t.layer).switchMap((function(e){return l.Observable.of(v(i(i({},t),{},{loading:!1,capabilities:R(e)})))})).catch((function(){return n}))):n}))},backgroundsListInit:function(e){return e.ofType(E).switchMap((function(e){var t,n=e.config,o=n.map&&n.map.backgrounds||[],a=(n.map&&n.map.layers||[]).filter((function(e){return"background"===e.group})),i=o.filter((function(e){return!!e.thumbnail})).map((function(e){return A(e.id,{thumbURL:function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);return URL.createObjectURL(new Blob([r],{type:n}))}(e.thumbnail)})})),s=c(a.filter((function(e){return e.visibility})));return(t=l.Observable).of.apply(t,r(i.concat(g(o))).concat(r(s?[S(s.id)]:[])))}))},setCurrentBackgroundLayerEpic:function(e,t){return e.ofType(d).switchMap((function(e){var n,o=e.layerId,a=t.getState(),i=P(a,o);return(n=l.Observable).of.apply(n,r(i&&"background"===i.group?[w("backgroundSelector","tempLayer",i),w("backgroundSelector","currentLayer",i)]:[]))}))},backgroundAddedEpic:function(e,t){return e.ofType(m).mergeMap((function(e){var n=e.layerId,r=t.getState(),o=P(r,n);return o?l.Observable.of(A(o.id,{visibility:!0}),S(o.id),h()):l.Observable.empty()}))},backgroundEditedEpic:function(e,t){return e.ofType(y).mergeMap((function(e){var n=e.layerId,r=t.getState();return P(r,n)?l.Observable.of(h()):l.Observable.empty()}))},backgroundRemovedEpic:function(e,t){return e.ofType(b).mergeMap((function(e){var n=e.backgroundId,r=t.getState(),o=P(r,n),a=C(r)||[],i=M(r)||{},s=n===i.id?c(a.filter((function(e){return e.id!==n&&!e.invalid}))):i;return o?l.Observable.of(x(n,"layers"),A(s.id,{visibility:!0}),S(s.id)):l.Observable.empty()}))}}},"./MapStore2/web/client/epics/fullscreen.js":function(e,t,n){var r=n("./node_modules/screenfull/dist/screenfull.js"),o=n("./node_modules/lodash/lodash.js"),a=o.head,i=o.last,s=n("./MapStore2/web/client/actions/controls.js").setControlProperty,l=n("./MapStore2/web/client/actions/fullscreen.js").TOGGLE_FULLSCREEN,c=n("./MapStore2/web/client/utils/ConfigUtils.js"),u=n("./node_modules/rxjs/Rx.js");e.exports={toggleFullscreenEpic:function(e){return e.ofType(l).switchMap((function(e){var t=document.querySelector(e&&e.querySelector||"."+(c.getConfigProp("themePrefix")||"ms2")+" > div");return t&&e.enable&&r.enabled?r.request(t):t&&!e.enable&&r.exit(),u.Observable.merge(u.Observable.fromEvent(document,i(a([["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter((function(e){return document[e[0]]}))))).filter((function(){return r.element!==t})).map((function(){return s("fullscreen","enabled",!1)})),u.Observable.of(s("fullscreen","enabled",e.enable)),u.Observable.fromEvent(window,"hashchange").do((function(){return r.exit()})).map((function(){return s("fullscreen","enabled",!1)})))}))}}},"./MapStore2/web/client/epics/identify.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/rxjs/Rx.js"),o=n.n(r),a=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/uuid/index.js"),s=n.n(i),l=n("./node_modules/connected-react-router/esm/actions.js"),c=n("./MapStore2/web/client/actions/mapInfo.js"),u=n("./MapStore2/web/client/actions/controls.js"),p=n("./MapStore2/web/client/actions/featuregrid.js"),f=n("./MapStore2/web/client/actions/wfsquery.js"),d=n("./MapStore2/web/client/actions/map.js"),m=n("./MapStore2/web/client/actions/layers.js"),y=n("./MapStore2/web/client/actions/annotations.js"),b=n("./MapStore2/web/client/actions/config.js"),g=n("./MapStore2/web/client/actions/mapPopups.js"),h=n("./MapStore2/web/client/selectors/mapInfo.js"),v=n("./MapStore2/web/client/selectors/layers.js"),S=n("./MapStore2/web/client/selectors/featuregrid.js"),O=n("./MapStore2/web/client/selectors/queryform.js"),w=n("./MapStore2/web/client/selectors/map.js"),E=n("./MapStore2/web/client/selectors/maplayout.js"),j=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),T=n("./MapStore2/web/client/selectors/localConfig.js"),A=n("./MapStore2/web/client/selectors/controls.js"),x=n("./MapStore2/web/client/selectors/localizedLayerStyles.js"),_=n("./MapStore2/web/client/utils/MapUtils.js"),P=n("./MapStore2/web/client/utils/MapInfoUtils.js"),M=n.n(P),C=n("./MapStore2/web/client/components/map/popups/index.js"),L=n("./MapStore2/web/client/libs/ajax.js"),R=n.n(L);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=function(e){return Object(h.stopGetFeatureInfoSelector)(e)||Object(S.isFeatureGridOpen)(e)&&(function(e){return"EDIT"===Object(S.modeSelector)(e)}(e)||function(e){return Object(a.get)(Object(a.find)(Object(S.getAttributeFilters)(e),(function(e){return"geometry"===e.type})),"enabled")}(e))},W=function(e,t){var n,r=Object(a.get)(e,"latlng.lng"),o=Object(a.get)(e,"latlng.lat"),i=Object(j.reproject)([r,o],"EPSG:4326",t),s=Object(_.getHook)(_.GET_PIXEL_FROM_COORDINATES_HOOK);if(s){var l=z(s([i.x,i.y]),2);n={x:l[0],y:l[1]}}else n=e.pixel;var c=Object(_.getHook)(_.GET_COORDINATES_FROM_PIXEL_HOOK),u=Object(j.calculateCircleRadiusFromPixel)(c,n,i,5),p={type:"geometry",enabled:!0,value:{geometry:{center:[i.x,i.y],coordinates:Object(j.calculateCircleCoordinates)(i,u,12),extent:[i.x-u,i.y-u,i.x+u,i.y+u],projection:t,radius:u,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return U(U({},e),{},{pixel:n,geometricFilter:p})};t.default={getFeatureInfoOnFeatureInfoClick:function(e,t){var n=t.getState,i=void 0===n?function(){}:n;return e.ofType(c.FEATURE_INFO_CLICK).switchMap((function(e){var t=e.point,n=e.filterNameList,l=void 0===n?[]:n,u=e.overrideParams,p=void 0===u?{}:u,f=Object(v.queryableLayersSelector)(i()),d=Object(v.queryableSelectedLayersSelector)(i());if(d.length&&(f=d),0===f.length)return o.a.Observable.of(Object(c.purgeMapInfoResults)(),Object(c.noQueryableLayers)());var m=["SLD_BODY"],y=["buffer","cql_filter","filter","propertyName"],b=o.a.Observable.from(f.filter((function(e){return!l.length||l.filter((function(t){return-1!==t.indexOf(e.name)})).length>0}))).mergeMap((function(e){var t=Object(x.localizedLayerStylesEnvSelector)(i()),n=M.a.buildIdentifyRequest(e,U(U({},Object(h.identifyOptionsSelector)(i())),{},{env:t})),l=n.url,u=n.request,f=n.metadata;if(Object(h.itemIdSelector)(i())&&Object(h.overrideParamsSelector)(i())&&(u=U(U({},u),Object(h.overrideParamsSelector)(i())[e.name])),p[e.name]&&(u=U(U({},u),p[e.name])),l){var d=l,b=u,g=f,v=M.a.filterRequestParams(e,y,m),S=Object(h.isHighlightEnabledSelector)(i()),O=Object(h.itemIdSelector)(i()),w=s.a.v1(),E=U(U({},v),b);return function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.attachJSON,s=o.itemId,l=void 0===s?null:s,c=function(t){return r.Observable.defer((function(){return R.a.get(e,{params:t})}))},u=function(t){return M.a.getIdentifyFlow(n,e,t)},p=M.a.getIdentifyFlow(n,e,t)?u:c;return i&&"application/json"!==t.info_format&&"application/json"!==t.outputFormat?r.Observable.forkJoin(p(t),p(N(N({},t),{},{info_format:"application/json"})).map((function(e){return e.data})).catch((function(){return r.Observable.of({})}))).map((function(e){var t=I(e,2),n=t[0],r=t[1];return N(N({},n),{},{features:r&&r.features&&r.features.filter((function(e){return!!Object(a.isNil)(l)||e.id===l})),featuresCrs:r&&r.crs&&Object(j.parseURN)(r.crs)})})):p(t).map((function(e){return e.data})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:Object(a.isString)(e)?e:N(N({},e),{},{features:e.features&&e.features.filter((function(e){return!l||e.id===l}))}),features:e.features&&e.features.filter((function(e){return!l||e.id===l})),featuresCrs:e&&e.crs&&Object(j.parseURN)(e.crs)}}))}(d,E,e,{attachJSON:S,itemId:O}).map((function(t){return t.data.exceptions?Object(c.exceptionsFeatureInfo)(w,t.data.exceptions,b,g):Object(c.loadFeatureInfo)(w,t.data,b,U(U({},g),{},{features:t.features,featuresCrs:t.featuresCrs}),e)})).catch((function(e){return o.a.Observable.of(Object(c.errorFeatureInfo)(w,e.data||e.statusText||e.status,b,g))})).startWith(Object(c.newMapInfoRequest)(w,E))}return o.a.Observable.of(Object(c.getVectorInfo)(e,u,f))}));return t&&t.modifiers&&!0===t.modifiers.ctrl&&t.multiSelection?b:b.startWith(Object(c.purgeMapInfoResults)())}))},handleMapInfoMarker:function(e,t){var n=t.getState;return e.ofType(c.FEATURE_INFO_CLICK).filter((function(){return!Object(h.isMapPopup)(n())})).map((function(e){return e.layer?Object(c.hideMapinfoMarker)():Object(c.showMapinfoMarker)()}))},closeFeatureGridFromIdentifyEpic:function(e){return e.ofType(c.LOAD_FEATURE_INFO,c.GET_VECTOR_INFO).switchMap((function(){return o.a.Observable.of(Object(p.closeFeatureGrid)())}))},closeFeatureAndAnnotationEditing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(c.CLOSE_IDENTIFY).switchMap((function(){return Object(a.get)(r(),"annotations.editing")?o.a.Observable.of(Object(y.closeAnnotations)()):o.a.Observable.of(Object(c.purgeMapInfoResults)())}))},hideMarkerOnIdentifyClose:function(e){return e.ofType(c.CLOSE_IDENTIFY).flatMap((function(){return o.a.Observable.of(Object(c.hideMapinfoMarker)())}))},changeMapPointer:function(e,t){return e.ofType(d.CHANGE_MOUSE_POINTER).filter((function(){return!t.getState().map})).switchMap((function(t){return e.ofType(b.MAP_CONFIG_LOADED).mapTo(t)}))},onMapClick:function(e,t){return e.ofType(d.CLICK_ON_MAP).filter((function(){var e=t.getState().mapInfo.disableAlwaysOn,n=void 0!==e&&e;return!Object(w.isMouseMoveIdentifyActiveSelector)(t.getState())&&(n||!V(t.getState()||{}))})).switchMap((function(e){var n=e.point,r=e.layer,a=Object(w.projectionSelector)(t.getState());return o.a.Observable.of(Object(c.featureInfoClick)(W(n,a),r)).merge(o.a.Observable.of(Object(g.addPopup)(s()(),{component:C.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:n?n.rawPos:[]}})).filter((function(){return Object(h.isMapPopup)(t.getState())})))}))},onUpdateFeatureInfoClickPoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(c.UPDATE_FEATURE_INFO_CLICK_POINT).map((function(e){var t=e.point,n=Object(w.projectionSelector)(r());return{point:W(t,n)}})).withLatestFrom(e.ofType(c.FEATURE_INFO_CLICK),(function(e,t){var n=e.point;return U(U({},t),{},{point:n})}))},featureInfoClickOnHighligh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(c.TOGGLE_HIGHLIGHT_FEATURE).filter((function(e){return e.enabled&&Object(h.clickPointSelector)(r())})).switchMap((function(){return o.a.Observable.from([Object(c.featureInfoClick)(Object(h.clickPointSelector)(r()),Object(h.clickLayerSelector)(r()),Object(h.filterNameListSelector)(r()),Object(h.overrideParamsSelector)(r()),Object(h.itemIdSelector)(r())),Object(c.showMapinfoMarker)()])}))},zoomToVisibleAreaEpic:function(e,t){return e.ofType(c.FEATURE_INFO_CLICK).filter((function(){return Object(v.centerToMarkerSelector)(t.getState())})).switchMap((function(n){return e.ofType(c.LOAD_FEATURE_INFO,c.ERROR_FEATURE_INFO).switchMap((function(){var r=t.getState(),i=Object(w.mapSelector)(r),s=Object(w.projectionSelector)(r),l=Object(w.projectionDefsSelector)(r),u=Object(a.find)(l,{code:s}),p=u&&u.extent,f=p&&Object(j.reprojectBbox)(p,s,"EPSG:4326"),m=Object(E.boundingMapRectSelector)(r),y=n.point&&n.point&&n.point.latlng,b=Object(_.getCurrentResolution)(Math.round(i.zoom),0,21,96),g=m&&i&&i.size&&{left:Object(_.parseLayoutValue)(m.left,i.size.width),bottom:Object(_.parseLayoutValue)(m.bottom,i.size.height),right:Object(_.parseLayoutValue)(m.right,i.size.width),top:Object(_.parseLayoutValue)(m.top,i.size.height)};if(!i||!g||!y||n.point.cartographic||Object(j.isInsideVisibleArea)(y,i,g,b)||Object(w.isMouseMoveIdentifyActiveSelector)(r))return o.a.Observable.of(Object(c.updateCenterToMarker)("disabled"));if(f&&!Object(j.isPointInsideExtent)(y,f))return o.a.Observable.empty();var h=Object(j.centerToVisibleArea)(y,i,g,b);return o.a.Observable.of(Object(c.updateCenterToMarker)("enabled"),Object(d.zoomToPoint)(h.pos,h.zoom,h.crs)).concat(e.ofType(c.CLOSE_IDENTIFY).switchMap((function(){var e=i&&Object(_.getBbox)(i.center,i.zoom);return o.a.Observable.of(Object(d.changeMapView)(i.center,i.zoom,e,i.size,null,i.projection))})).takeUntil(e.ofType(d.CHANGE_MAP_VIEW).skip(1)))}))}))},closeFeatureInfoOnCatalogOpenEpic:function(e,t){return e.ofType(u.SET_CONTROL_PROPERTIES).filter((function(e){return"metadataexplorer"===e.control&&e.properties&&e.properties.enabled})).switchMap((function(){return o.a.Observable.of(Object(c.purgeMapInfoResults)(),Object(c.hideMapinfoMarker)()).merge(o.a.Observable.of(Object(g.cleanPopups)()).filter((function(){return Object(h.isMapPopup)(t.getState())})))}))},closeFeatureInfoOnAnnotationOpenEpic:function(e,t){var n=t.getState;return e.ofType(u.TOGGLE_CONTROL).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"annotations"===t&&Object(a.get)(n(),"controls.annotations.enabled",!1)})).mapTo(Object(c.purgeMapInfoResults)())},closeFeatureInfoOnMeasureOpenEpic:function(e){return e.ofType(u.SET_CONTROL_PROPERTY).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,n=e.value;return"measure"===t&&n})).mapTo(Object(c.purgeMapInfoResults)())},cleanPopupsEpicOnPurge:function(e,t){var n=t.getState;return e.ofType(c.PURGE_MAPINFO_RESULTS).filter((function(){return Object(h.isMapPopup)(n())})).mapTo(Object(g.cleanPopups)())},identifyEditLayerFeaturesEpic:function(e,t){return e.ofType(c.EDIT_LAYER_FEATURES).exhaustMap((function(e){var n,r=e.layer;return o.a.Observable.of(Object(c.setCurrentEditFeatureQuery)(null===(n=Object(h.clickPointSelector)(t.getState()))||void 0===n?void 0:n.geometricFilter),Object(m.browseData)(r))}))},switchFeatureGridToEdit:function(e,t){return e.ofType(f.QUERY_CREATE).switchMap((function(){var e=Object(h.currentEditFeatureQuerySelector)(t.getState()),n=(Object(a.find)(Object(S.getAttributeFilters)(t.getState()),(function(e){return"geometry"===e.type}))||{}).attribute||Object(a.get)(Object(O.spatialFieldSelector)(t.getState()),"attribute");return e?o.a.Observable.of(Object(c.setCurrentEditFeatureQuery)(),Object(p.toggleEditMode)(),Object(p.updateFilter)(U(U({},e),{},{attribute:n,value:U(U({},e.value),{},{attribute:n})}))):o.a.Observable.empty()}))},resetCurrentEditFeatureQuery:function(e){return e.ofType(p.CLOSE_FEATURE_GRID,l.b).mapTo(Object(c.setCurrentEditFeatureQuery)())},mouseMoveMapEventEpic:function(e,t){var n=t.getState;return e.ofType(d.MOUSE_MOVE).debounceTime(Object(T.floatingIdentifyDelaySelector)(n())).switchMap((function(e){var t=e.position,r=e.layer,a=Object(A.createControlEnabledSelector)("annotations")(n()),i=Object(A.measureSelector)(n()),l=n().mousePosition.mouseOut;return!Object(w.isMouseMoveIdentifyActiveSelector)(n())||a||i||l?o.a.Observable.empty():o.a.Observable.of(Object(c.featureInfoClick)(t,r)).merge(o.a.Observable.of(Object(g.addPopup)(s()(),{component:C.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:t?t.rawPos:[]},autoPanMargin:70,autoPan:!0})))}))},removePopupOnUnregister:function(e,t){var n=t.getState;return e.ofType(d.UNREGISTER_EVENT_LISTENER).switchMap((function(){var e,t,r=o.a.Observable.empty(),a=(null===(e=n())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(a.length&&!Object(w.isMouseMoveIdentifyActiveSelector)(n())){var i=a[0].id;r=o.a.Observable.of(Object(g.removePopup)(i))}return r}))},removePopupOnLocationChangeEpic:function(e,t){var n=t.getState;return e.ofType(l.b,c.PURGE_MAPINFO_RESULTS).switchMap((function(){var e,t,r=o.a.Observable.empty(),a=(null===(e=n())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(a.length){var i=a[0].id;r=o.a.Observable.of(Object(g.removePopup)(i))}return r}))},removeMapInfoMarkerOnRemoveMapPopupEpic:function(e,t){var n=t.getState;return e.ofType(g.REMOVE_MAP_POPUP).switchMap((function(){return Object(w.isMouseMoveIdentifyActiveSelector)(n())?o.a.Observable.of(Object(c.hideMapinfoMarker)()):o.a.Observable.empty()}))}}},"./MapStore2/web/client/epics/map.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/rxjs/Rx.js"),s=n("./MapStore2/web/client/actions/layers.js").changeLayerProperties,l=n("./MapStore2/web/client/actions/map.js"),c=l.CREATION_ERROR_LAYER,u=l.INIT_MAP,p=l.ZOOM_TO_EXTENT,f=l.CHANGE_MAP_CRS,d=l.changeMapView,m=l.changeMapLimits,y=n("./MapStore2/web/client/selectors/map.js"),b=y.configuredExtentCrsSelector,g=y.configuredRestrictedExtentSelector,h=y.configuredMinZoomSelector,v=y.mapSelector,S=y.mapIdSelector,O=n("./MapStore2/web/client/actions/config.js").loadMapInfo,w=n("./MapStore2/web/client/actions/security.js").LOGIN_SUCCESS,E=n("./MapStore2/web/client/selectors/layers.js"),j=E.currentBackgroundLayerSelector,T=E.allBackgroundLayerSelector,A=E.getLayerFromId,x=n("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,_=n("./MapStore2/web/client/selectors/maplayout.js").mapPaddingSelector,P=n("./MapStore2/web/client/actions/controls.js").setControlProperty,M=n("./MapStore2/web/client/actions/config.js"),C=M.MAP_CONFIG_LOADED,L=M.MAP_CONFIG_LOAD_ERROR,R=n("./MapStore2/web/client/utils/LayersUtils.js").isSupportedLayer,I=n("./MapStore2/web/client/utils/MapUtils.js"),D=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),k=n("./MapStore2/web/client/actions/notifications.js").warning,N=n("./MapStore2/web/client/actions/controls.js").resetControls,F=n("./MapStore2/web/client/actions/layers.js").clearLayers,G=n("./MapStore2/web/client/actions/mapInfo.js").clearWarning,U=n("./MapStore2/web/client/actions/additionallayers.js").removeAllAdditionalLayers,B=n("./node_modules/lodash/lodash.js"),z=B.head,H=B.isArray,V=B.isObject,W=B.mapValues,Y=n("./MapStore2/web/client/selectors/security.js").isLoggedIn,q=n("./MapStore2/web/client/selectors/router.js").pathnameSelector,Z=n("./node_modules/connected-react-router/esm/index.js").push;e.exports={checkMapPermissions:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(w).filter((function(){return S(r())})).map((function(){var e=S(r());return O(e)}))},handleCreationLayerError:function(e,t){return e.ofType(c).delay(500).switchMap((function(e){var n=x(t.getState()),r=A(t.getState(),e.options.id);return r&&R(r,n)?i.Observable.from([s(e.options.id,{invalid:!0})]):i.Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(c).delay(500).filter((function(e){var n=j(t.getState());return n&&e.options.id===n.id&&"background"===e.options.group})).switchMap((function(e){var n=x(t.getState()),r=z(T(t.getState()).filter((function(t){return R(t,n)&&t.id!==e.options.id})));return r?i.Observable.from([s(r.id,{visibility:!0}),P("backgroundSelector","currentLayer",r),P("backgroundSelector","tempLayer",r),k({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):i.Observable.of(k({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(u).switchMap((function(){return i.Observable.of(U(),N(),F(),G())}))},resetLimitsOnInit:function(e,t){return e.ofType(C,f).switchMap((function(){var e=b(t.getState()),n=g(t.getState()),r=h(t.getState());return i.Observable.of(m({restrictedExtent:n,crs:e,minZoom:r}))}))},zoomToExtentEpic:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(p).switchMap((function(e){var t=function(e){if(H(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(V(e)){var t=W(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return i.Observable.empty();var n=I.getHook(I.ZOOM_TO_EXTENT_HOOK),a=_(r());return n?(n(t,{crs:e.crs,padding:a,maxZoom:e.maxZoom}),i.Observable.empty()):function(e,t){var n=0,r=e.extent,a=void 0===r?[]:r,s=D.reprojectBbox(a,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(s){var l=D.reproject(I.getCenterForExtent(a,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&a&&a[0]<=-180&&a[1]<=-90&&a[2]>=180&&a[3]>=90)n=1;else{var c=D.reprojectBbox(a,e.crs,t.projection||"EPSG:4326");n=I.getZoomForExtent(c,t.size,0,21,null)}e.maxZoom&&n>e.maxZoom&&(n=e.maxZoom);var u={minx:s[0],miny:s[1],maxx:s[2],maxy:s[3]},p=o(o({},t.bbox),{},{bounds:u});return i.Observable.of(d(l,n,p,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return i.Observable.empty()}(o(o({},e),{},{extent:t}),v(r()))}))},redirectUnauthorizedUserOnNewMap:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(L).filter((function(e){return e.error&&403===e.error.status&&-1!==q(r()).indexOf("new")})).filter((function(){return!Y(r())})).switchMap((function(){return i.Observable.of(Z("/"))}))}}},"./MapStore2/web/client/epics/maps.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=n("./node_modules/rxjs/Rx.js"),f=n("./node_modules/uuid/v1.js"),d=n("./node_modules/object-assign/index.js"),m=n("./node_modules/connected-react-router/esm/index.js").push,y=n("./MapStore2/web/client/utils/NotificationUtils.js"),b=y.basicError,g=y.basicSuccess,h=n("./MapStore2/web/client/api/GeoStoreDAO.js"),v=n("./MapStore2/web/client/actions/config.js"),S=v.MAP_INFO_LOADED,O=v.MAP_SAVED,w=v.mapSaveError,E=v.mapSaved,j=v.loadMapInfo,T=v.configureMap,A=n("./node_modules/lodash/lodash.js"),x=A.get,_=A.isNil,P=A.isArray,M=A.isEqual,C=A.find,L=A.pick,R=A.omit,I=A.keys,D=A.zip,k=n("./MapStore2/web/client/actions/maps.js"),N=k.SAVE_DETAILS,F=k.SAVE_RESOURCE_DETAILS,G=k.MAPS_GET_MAP_RESOURCES_BY_CATEGORY,U=k.DELETE_MAP,B=k.OPEN_DETAILS_PANEL,z=k.MAPS_LOAD_MAP,H=k.CLOSE_DETAILS_PANEL,V=k.NO_DETAILS_AVAILABLE,W=k.SAVE_MAP_RESOURCE,Y=k.MAP_DELETED,q=k.SEARCH_FILTER_CHANGED,Z=k.SEARCH_FILTER_CLEAR_ALL,K=k.LOAD_CONTEXTS,Q=k.setDetailsChanged,X=k.updateDetails,J=k.mapsLoading,$=k.mapsLoaded,ee=k.mapDeleting,te=k.toggleDetailsEditability,ne=k.mapDeleted,re=k.loadError,oe=k.doNothing,ae=k.detailsLoaded,ie=k.detailsSaving,se=k.onDisplayMetadataEdit,le=k.RESET_UPDATING,ce=k.resetUpdating,ue=k.toggleDetailsSheet,pe=k.getMapResourcesByCategory,fe=k.mapUpdating,de=k.savingMap,me=k.mapCreated,ye=k.loadMaps,be=k.loadContexts,ge=k.setContexts,he=k.setSearchFilter,ve=k.loading,Se=n("./MapStore2/web/client/actions/currentMap.js"),Oe=Se.resetCurrentMap,we=Se.EDIT_MAP,Ee=n("./MapStore2/web/client/actions/featuregrid.js").closeFeatureGrid,je=n("./MapStore2/web/client/actions/controls.js"),Te=je.toggleControl,Ae=je.setControlProperty,xe=n("./MapStore2/web/client/actions/contenttabs.js").setTabsHidden,_e=n("./MapStore2/web/client/selectors/maps.js"),Pe=_e.mapPermissionsFromIdSelector,Me=_e.mapThumbnailsUriFromIdSelector,Ce=_e.mapDetailsUriFromIdSelector,Le=_e.searchTextSelector,Re=_e.searchParamsSelector,Ie=_e.totalCountSelector,De=_e.contextsSelector,ke=_e.searchFilterSelector,Ne=n("./MapStore2/web/client/selectors/map.js"),Fe=Ne.mapIdSelector,Ge=Ne.mapInfoDetailsUriFromIdSelector,Ue=n("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,Be=n("./MapStore2/web/client/selectors/currentmap.js"),ze=Be.currentMapDetailsTextSelector,He=Be.currentMapIdSelector,Ve=Be.currentMapDetailsUriSelector,We=Be.currentMapSelector,Ye=Be.currentMapDetailsChangedSelector,qe=Be.currentMapOriginalDetailsTextSelector,Ze=n("./MapStore2/web/client/selectors/security.js"),Ke=Ze.userParamsSelector,Qe=Ze.userRoleSelector,Xe=n("./MapStore2/web/client/actions/security.js"),Je=Xe.LOGIN_SUCCESS,$e=Xe.LOGOUT,et=n("./MapStore2/web/client/utils/ObservableUtils.js"),tt=et.deleteResourceById,nt=et.createAssociatedResource,rt=et.deleteAssociatedResource,ot=et.updateAssociatedResource,at=n("./MapStore2/web/client/utils/MapUtils.js").getIdFromUri,it=n("./MapStore2/web/client/utils/LocaleUtils.js").getErrorMessage,st=n("./MapStore2/web/client/utils/MapInfoUtils.js").EMPTY_RESOURCE_VALUE,lt=n("./MapStore2/web/client/api/persistence/index.js"),ct=lt.createResource,ut=lt.updateResource,pt=lt.getResource,ft=lt.searchListByAttributes,dt=lt.updateResourceAttribute,mt=n("./MapStore2/web/client/observables/epics.js").wrapStartStop;e.exports={loadMapsEpic:function(e){return e.ofType(z).switchMap((function(e){var t=e.params,n=e.searchText,r=e.geoStoreUrl,o=n.replace(/[/?:;@=&\\]+/g,""),a=d({},{params:t},r?{baseURL:r}:{});return p.Observable.of(J(o,t),pe("MAP",o,a))}))},resetCurrentMapEpic:function(e){return e.ofType(le).switchMap((function(){return p.Observable.from([se(!1),Oe()])}))},storeDetailsInfoEpic:function(e,t){return e.ofType(S).switchMap((function(){var e=Fe(t.getState());return e?p.Observable.fromPromise(h.getResourceAttributes(e)).switchMap((function(t){var n=C(t,{name:"details"});return n&&n.value!==st?p.Observable.of(ae(e,n.value)):p.Observable.empty()})):p.Observable.empty()}))},closeDetailsPanelEpic:function(e){return e.ofType(H).switchMap((function(){return p.Observable.from([Te("details","enabled"),Oe()])}))},fetchDataForDetailsPanel:function(e,t){return e.ofType(B).switchMap((function(){var e=t.getState(),n=Ge(e),r=at(n);return p.Observable.fromPromise(h.getData(r).then((function(e){return e}))).switchMap((function(e){return p.Observable.from([Ee(),X(e,!0,e)])})).startWith(Te("details","enabled")).catch((function(){return p.Observable.of(b({message:"maps.feedback.errorFetchingDetailsOfMap"}),X(V,!0,V))}))}))},deleteMapAndAssociatedResourcesEpic:function(e,t){return e.ofType(U).switchMap((function(e){var n=t.getState(),r=e.resourceId,a=e.options,i=Ce(n,r),s=Me(n,r),l=at(i),c=at(s);return p.Observable.forkJoin(tt(c,a),tt(l,a),tt(r,a)).concatMap((function(e){var t=o(e,3),n=t[0],a=t[1],i=t[2],s=[];return"error"===n.resType&&s.push(b({message:"maps.feedback.errorDeletingDetailsOfMap"})),"error"===a.resType&&s.push(b({message:"maps.feedback.errorDeletingThumbnailOfMap"})),"error"===i.resType&&(s.push(b({message:"maps.feedback.errorDeletingMap"})),s.push(ne(r,"failure",i.error))),"success"===i.resType&&s.push(ne(r,"success")),"success"===i.resType&&"success"===n.resType&&"success"===a.resType&&s.push(g({message:"maps.feedback.allResDeleted"})),p.Observable.from(s)})).startWith(ee(r))}))},getMapsResourcesByCategoryEpic:function(e,t){return e.ofType(G).switchMap((function(e){var n=t.getState(),r=ke(n)||{},a=Qe(n),i=e.map,s=e.searchText,c=e.opts,f=void 0===c?{}:c,d=r.contexts&&r.contexts.length>0,m=d&&"*"===s?"":s,y=function(e){var t=e.results,n=u(e,["results"]),r=P(t)?t:""===t?[]:[t];return 0===r.length?p.Observable.of(l({results:t},n)):p.Observable.forkJoin(r.map((function(e){var t=e.context;return t?pt(t,{includeAttributes:!1,withData:!1,withPermissions:!1}).switchMap((function(e){return p.Observable.of(e.name)})).catch((function(){return p.Observable.of(null)})):p.Observable.of(null)}))).map((function(e){return l({results:D(r,e).map((function(e){var t=o(e,2),n=t[0],r=t[1];return l(l({},n),{},{contextName:r})}))},n)}))};return(d?ft({AND:{FIELD:[{field:["NAME"],operator:["ILIKE"],value:["%"+m+"%"]}],OR:d&&{ATTRIBUTE:(r.contexts||[]).map((function(e){return{name:["context"],operator:["EQUAL_TO"],type:["STRING"],value:[e.id]}}))}}},l(l({},f),{},{params:l(l({},f.params||{}),{},{includeAttributes:!0})})).switchMap((function(e){var t=e.results,n=e.totalCount,r={results:t.map((function(e){return l(l(l({},R(e,"attributes","permissions")),L(e.attributes,"thumbnail","context")),{},{canCopy:"ADMIN"===a,canEdit:"ADMIN"===a,canDelete:"ADMIN"===a})})),totalCount:n,success:!0};return y(r).switchMap((function(e){return p.Observable.of($(e,f.params,m))}))})):p.Observable.fromPromise(h.getResourcesByCategory(i,m,l(l({},f),{},{params:l(l({},f.params||{}),{},{includeAttributes:!0})})).then((function(e){return e}))).switchMap((function(e){return y(e).switchMap((function(e){var t;return p.Observable.of($(l(l({},e),{},{results:null==e||null===(t=e.results)||void 0===t?void 0:t.map((function(e){return l(l({},e),{},{category:{name:"MAP"}})}))}),f.params,s))}))}))).let(mt(ve(!0,"loadingMaps"),ve(!1,"loadingMaps"),(function(e){return p.Observable.of(re(e))})))}))},loadMapsOnSearchFilterChange:function(e,t){return e.ofType(q,Z).filter((function(e){var t=e.filter;return!t||"contexts"===t})).switchMap((function(e){var n,o=e.type,a=t.getState(),i=ke(a),s=Le(a),c=Re(a)||{},f=c.limit,d=void 0===f?12:f,m=u(c,["limit"]);return(n=p.Observable).of.apply(n,r(o===Z?[he({})]:[]).concat(r(o!==Z||i&&0!==(i.contexts||[]).length?[ye(null,s,l({start:0,limit:d},R(m,"start")))]:[])))}))},hideTabsOnSearchFilterChange:function(e){return e.ofType(q,Z).filter((function(e){var t=e.filter;return!t||"contexts"===t})).switchMap((function(e){var t=e.filterData;return p.Observable.of(xe(0===(t||[]).length?{geostories:!1,dashboards:!1}:{geostories:!0,dashboards:!0}))}))},mapsLoadContextsEpic:function(e){return e.ofType(K).distinctUntilChanged((function(e,t){return(e.searchText||"*")===(t.searchText||"*")&&M(e.options,t.options)&&!t.force})).switchMap((function(e){var t=e.searchText,n=e.options,r=void 0===n?{}:n,o=e.delayLoad,a=void 0===o?0:o,i=t||"*";return p.Observable.of(null).delay(a).switchMap((function(){return p.Observable.defer((function(){return h.getResourcesByCategory("CONTEXT",i,r)})).switchMap((function(e){return p.Observable.of(ge({results:(P(e.results)?e.results:[e.results]).filter((function(e){return!!e})),totalCount:e.totalCount,searchText:i,start:x(r,"params.start"),limit:x(r,"params.limit")}))})).let(mt(ve(!0,"loadingContexts"),ve(!1,"loadingContexts"),(function(){return p.Observable.of(b({message:"maps.feedback.errorLoadingContexts"}))})))}))}))},mapsSetupFilterOnLogin:function(e,t){return e.ofType(Je,$e).switchMap((function(){var e=t.getState(),n=De(e)||{};return p.Observable.of(Ae("advancedsearchpanel","enabled",!1),be(n.searchText,{params:{start:x(n,"start",0),limit:x(n,"limit",12)}},0,!0))}))},setDetailsChangedEpic:function(e,t){return e.ofType(N).switchMap((function(e){var n=[],r=t.getState(),o=Ve(r);if(e.detailsText.length<=5e5?n.push(ue(!0)):n.push(b({message:"maps.feedback.errorSizeExceeded"})),!o)return n.push(Q("<p><br></p>"!==e.detailsText)),p.Observable.from(n);var a=qe(r),i=ze(r);return n.push(Q(a!==i)),p.Observable.from(n)}))},fetchDetailsFromResourceEpic:function(e,t){return e.ofType(we).switchMap((function(){var e=t.getState(),n=He(e),r=Ve(e);if(!r||r===st)return p.Observable.of(X("",!0,""));var o=at(r);return p.Observable.fromPromise(h.getData(o).then((function(e){return e}))).switchMap((function(e){return p.Observable.of(X(e,!0,e))})).catch((function(){return p.Observable.of(b({message:"maps.feedback.errorFetchingDetailsOfMap"}),X(V,!0,V),te(n))}))}))},saveResourceDetailsEpic:function(e,t){return e.ofType(F).switchMap((function(){var e=t.getState(),n=He(e),r=ze(e,n),o=Ye(e),a={attribute:"details",map:We(e),resource:null,type:"STRING"};return o?(""!==r&&o?a.resource={category:"DETAILS",userParams:Ke(e),metadata:{name:f()},value:r,permissions:Pe(e,n),optionsAttr:{},optionsRes:{}}:a.optionsDel={},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.map,n=void 0===t?{}:t,r=e.attribute,o=void 0===r?"":r,a=e.resource,i=void 0===a?null:a,s=e.type,c=void 0===s?"STRING":s,u=e.optionsDel,p=void 0===u?{}:u,f=e.messages,d=void 0===f?{}:f,m=n[o],y=n.id;return!_(m)&&m!==st||_(i)?_(i)?rt({mapId:y,attribute:o,type:c,resourceId:at(m),options:p,messages:d}):ot({permissions:i.permissions,resourceId:at(m),value:i.value,attribute:o,options:i.optionsAttr,messages:d}):nt(l(l({},i),{},{attribute:o,mapId:y,type:c,messages:d}))}(l({},a)).concat([ie(!1),ce(n)]).startWith(ie(!0))):p.Observable.of(oe())}))},mapSaveMapResourceEpic:function(e,t){return e.ofType(W).exhaustMap((function(e){var n,a=e.resource,i=I(a.attributes).filter((function(e){return void 0!==a.attributes[e]&&null!==a.attributes[e]}));return p.Observable.forkJoin((n=x(a,"attributes.context"),n?pt(n,{withData:!1}):p.Observable.of(null)),a.id?ut(a):ct(a)).switchMap((function(e){var n=o(e,2),s=n[0],l=n[1];return(i.length>0?p.Observable.forkJoin(i.map((function(e){return dt({id:l,name:e,value:a.attributes[e]})}))):p.Observable.of([])).switchMap((function(){return p.Observable.from([].concat(r(a.id?[j(l)]:[]),r(a.id?[T(a.data,l)]:[]),[a.id?Te("mapSave"):Te("mapSaveAs"),E()],r(a.id?[]:[me(l,d({id:l,canDelete:!0,canEdit:!0,canCopy:!0},a.metadata),a.data),m(s?"/context/".concat(s.name,"/").concat(l):"/viewer/".concat(Ue(t.getState()),"/").concat(l))]))).merge(p.Observable.of(g({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"})))}))})).catch((function(e){var t=e.status,n=e.statusText,r=e.data,o=e.message,a=u(e,["status","statusText","data","message"]);return p.Observable.of(w(t?{status:t,statusText:n,data:r}:o||a),b(l(l({},it(e,"geostore","mapsError")),{},{autoDismiss:6,position:"tc"})))})).startWith(a.id?fe(a.metadata):de(a.metadata))}))},reloadMapsEpic:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(Y,O).delay(1e3).switchMap((function(){return p.Observable.of(ye(!1,Le(r()),(e=r(),t=Ie(e),n=Re(e)||{},o=n.start,a=n.limit,i=u(n,["start","limit"]),o===t-1?{start:Math.max(0,o-a),limit:a}:l({start:o,limit:a},i))));var e,t,n,o,a,i}))}}},"./MapStore2/web/client/epics/playback.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n("./node_modules/moment/moment.js"),p=n("./node_modules/lodash/lodash.js").get,f=n("./MapStore2/web/client/actions/playback.js"),d=f.PLAY,m=f.PAUSE,y=f.STOP,b=f.STATUS,g=f.SET_FRAMES,h=f.SET_CURRENT_FRAME,v=f.TOGGLE_ANIMATION_MODE,S=f.ANIMATION_STEP_MOVE,O=f.stop,w=f.setFrames,E=f.appendFrames,j=f.setCurrentFrame,T=f.framesLoading,A=f.updateMetadata,x=n("./MapStore2/web/client/actions/dimension.js"),_=x.moveTime,P=x.SET_CURRENT_TIME,M=x.MOVE_TIME,C=n("./MapStore2/web/client/actions/timeline.js"),L=C.selectLayer,R=C.onRangeChanged,I=C.timeDataLoading,D=C.SELECT_LAYER,k=C.SET_MAP_SYNC,N=n("./MapStore2/web/client/actions/layers.js"),F=N.changeLayerProperties,G=N.REMOVE_NODE,U=n("./MapStore2/web/client/actions/notifications.js").error,B=n("./MapStore2/web/client/selectors/dimension.js"),z=B.currentTimeSelector,H=B.layersWithTimeDataSelector,V=B.layerTimeSequenceSelectorCreator,W=n("./node_modules/connected-react-router/esm/index.js").LOCATION_CHANGE,Y=n("./MapStore2/web/client/selectors/playback.js"),q=Y.currentFrameSelector,Z=Y.currentFrameValueSelector,K=Y.lastFrameSelector,Q=Y.playbackRangeSelector,X=Y.playbackSettingsSelector,J=Y.frameDurationSelector,$=Y.statusSelector,ee=Y.playbackMetadataSelector,te=n("./MapStore2/web/client/selectors/timeline.js"),ne=te.selectedLayerSelector,re=te.selectedLayerName,oe=te.selectedLayerUrl,ae=te.selectedLayerData,ie=te.selectedLayerTimeDimensionConfiguration,se=te.rangeSelector,le=te.timelineLayersSelector,ce=te.multidimOptionsSelectorCreator,ue=n("./MapStore2/web/client/observables/pausable.js"),pe=n("./MapStore2/web/client/observables/epics.js").wrapStartStop,fe=n("./MapStore2/web/client/api/MultiDim.js").getDomainValues,de=n("./node_modules/rxjs/Rx.js"),me=function(e,t){return"".concat(e,"/").concat(t)},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ne(e()),r=re(e()),o=oe(e()),a=Q(e())||{},i=a.startPlaybackTime,s=a.endPlaybackTime,c=$(e())===b.PLAY||$(e())===b.PAUSE;return[o,r,"time",l({limit:20,time:i&&s&&c?me(i,s):void 0},t),ce(n)(e())]},be=function(e,t){if(re(e())){var n=V(ae(e()))(e()),r=ie(e());return"multidim-extension"!==p(r,"source.type")&&n&&n.length>0?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromValue,o=n.limit,a=void 0===o?20:o,i=Q(t())||{},s=i.startPlaybackTime,l=i.endPlaybackTime;return de.Observable.of(e.filter((function(e){return!s||!l||u(e).isSameOrAfter(s)&&u(e).isSameOrBefore(l)})).filter((function(e){return!r||u(e).isAfter(r)})).slice(0,a))}(n,e,t):fe.apply(void 0,o(ye(e,t))).map((function(e){return e.DomainValues.Domain.split(",")}))}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fromValue,r=t.limit,o=void 0===r?20:r,a=t.sort,i=void 0===a?"asc":a,s=X(e()),l=s.timeStep,c=s.stepUnit,p=u.duration(l,c),f=Q(e())||{},d=f.startPlaybackTime,m=f.endPlaybackTime,y=void 0!==n?n:d||z(e())||(new Date).toString(),b=[];y!==n&&b.push(u(y).toISOString());for(var g=0;g<o&&(y=u(y).add("asc"===i?p:-1*p),!m||y.isBefore(m));g++)b.push(y.toISOString());return de.Observable.of(b)}(e,t)},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var n=H(e());return de.Observable.from(n.map((function(e){return F(e.id,{singleTile:!0})}))).concat(t).concat(de.Observable.from(n.map((function(e){return F(e.id,{singleTile:e.singleTile})}))))}},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=t.end;return n&&r&&(u(e).isBefore(n)||u(e).isAfter(r))};e.exports={retrieveFramesForPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(d).exhaustMap((function(){return be(r,{fromValue:Q(r())&&Q(r()).startPlaybackTime&&Q(r()).endPlaybackTime?void 0:z(r())}).map((function(e){return w(e)})).let(pe(T(!0),T(!1)),(function(){return de.Observable.of(U({title:"There was an error retrieving animation",message:"Please contact the administrator"}),O())})).let(pe(I(!1,!0),I(!1,!1))).concat(e.ofType(h).filter((function(e){return e.frame%20==10})).switchMap((function(){return be(r,{fromValue:K(r())}).map(E).let(pe(T(!0),T(!1)))}))).takeUntil(e.ofType(y,W)).concat(de.Observable.of(I(!1,!1))).let(ge(r))}))},updateCurrentTimeFromAnimation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(h).map((function(){return Z(r())})).map((function(e){return e?_(e):O()}))},timeDimensionPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(g).exhaustMap((function(){return de.Observable.interval(1e3*J(r())).startWith(0).let(ue(e.ofType(d,m).map((function(e){return e.type===d})))).map((function(){return j(q(r())+1)})).merge(e.ofType(S).map((function(e){var t=e.direction;return j(Math.max(0,q(r())+t))}))).concat(de.Observable.of(O())).takeUntil(e.ofType(y,W))}))},playbackToggleGuideLayerToFixedStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(v).exhaustMap((function(){return re(r())?de.Observable.of(L(void 0)):de.Observable.of(L(p(le(r()),"[0].id")))}))},playbackMoveStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,o=void 0===n?function(){}:n;return e.ofType(S).filter((function(){return $(o())!==b.PLAY})).switchMap((function(e){var t=e.direction,n=void 0===t?1:t,a=ee(o())||{},i=z(o());return i&&a.forTime===i?de.Observable.of(n>0?a.next:a.previous):be(o,{limit:1,sort:n>0?"asc":"desc",fromValue:z(o())}).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r(e,1),n=t[0];return n}))})).filter((function(e){return!!e})).map((function(e){return _(e)}))},playbackCacheNextPreviousTimes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,a=void 0===n?function(){}:n;return e.ofType(P,M,D,y,k).filter((function(){return $(a())!==b.PLAY&&$(a())!==b.PAUSE})).filter((function(){return ne(a())})).filter((function(e){return!!e})).switchMap((function(e){var t=e.time||z(a());return de.Observable.forkJoin(fe.apply(void 0,o(ye(a,{sort:"asc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return r(e,1)[0]})).catch((function(e){return e&&de.Observable.of(null)})),fe.apply(void 0,o(ye(a,{sort:"desc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return r(e,1)[0]})).catch((function(e){return e&&de.Observable.of(null)}))).map((function(e){var n=r(e,2),o=n[0],a=n[1];return A({forTime:t,next:o,previous:a})}))}))},playbackFollowCursor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(M).filter((function(e){return(e.type===M||$(r())===b.PLAY)&&he(z(r()),se(r()))})).filter((function(){return p(X(r()),"following")})).switchMap((function(){return de.Observable.of(R((e=z(r()),t=se(r()),n=t.start,o=t.end,a=u(o).diff(u(n)),{start:e,end:u(e).add(a).toISOString()})));var e,t,n,o,a}))},playbackStopWhenDeleteLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(G).filter((function(){return!ne(r())&&"PLAY"===$(r())})).switchMap((function(){return de.Observable.of(O())}))}}},"./MapStore2/web/client/epics/timeline.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n("./node_modules/rxjs/Rx.js"),p=n("./node_modules/lodash/lodash.js"),f=p.isString,d=p.get,m=p.head,y=p.castArray,b=n("./node_modules/moment/moment.js"),g=n("./MapStore2/web/client/observables/epics.js").wrapStartStop,h=n("./MapStore2/web/client/actions/map.js").CHANGE_MAP_VIEW,v=n("./MapStore2/web/client/actions/timeline.js"),S=v.SELECT_TIME,O=v.RANGE_CHANGED,w=v.ENABLE_OFFSET,E=v.SET_MAP_SYNC,j=v.AUTOSELECT,T=v.timeDataLoading,A=v.rangeDataLoaded,x=v.onRangeChanged,_=v.selectLayer,P=n("./MapStore2/web/client/actions/dimension.js"),M=P.setCurrentTime,C=P.UPDATE_LAYER_DIMENSION_DATA,L=P.setCurrentOffset,R=n("./MapStore2/web/client/actions/layers.js").REMOVE_NODE,I=n("./MapStore2/web/client/actions/notifications.js").error,D=n("./MapStore2/web/client/selectors/layers.js").getLayerFromId,k=n("./MapStore2/web/client/selectors/timeline.js"),N=k.rangeSelector,F=k.selectedLayerName,G=k.selectedLayerUrl,U=k.isAutoSelectEnabled,B=k.selectedLayerSelector,z=k.timelineLayersSelector,H=k.multidimOptionsSelectorCreator,V=k.isMapSync,W=n("./MapStore2/web/client/selectors/dimension.js"),Y=W.layerTimeSequenceSelectorCreator,q=W.timeDataSelector,Z=W.offsetTimeSelector,K=W.currentTimeSelector,Q=n("./MapStore2/web/client/utils/TimeUtils.js"),X=Q.getNearestDate,J=Q.roundRangeResolution,$=Q.isTimeDomainInterval,ee=n("./MapStore2/web/client/api/MultiDim.js"),te=ee.getHistogram,ne=ee.describeDomains,re=ee.getDomainValues,oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=B(e),r=F(e),o=G(e),a=H(n)(e);return[o,r,"time",l({limit:1},t),a]},ae=function(e,t,n){if(F(e))return u.Observable.forkJoin(re.apply(void 0,o(oe(e,{sort:"asc",fromValue:n}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return r(e,1)[0]})).catch((function(e){return e&&u.Observable.of(null)})),re.apply(void 0,o(oe(e,{sort:"desc",fromValue:n}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return r(e,1)[0]})).catch((function(e){return e&&u.Observable.of(null)}))).map((function(e){return X(e.filter((function(e){return!!e})),n)||n}));var a=Y(D(e,t))(e);return u.Observable.of(X(a,n)||n)},ie=function(e){return f(e)?e:e.toISOString()},se=function(e,t,n){var r=t.domain.split("--"),o=N(n())||{start:new Date(r[0]),end:new Date(r[1])},a=J(o,20),i=a.range,s=a.resolution,p=D(n(),e).name,f=c({},"time","".concat(ie(i.start),"/").concat(ie(i.end)));return te(t.source.url,p,"time",c({},"time","".concat(ie(i.start),"/").concat(ie(i.end))),s,H(e)(n())).merge(ne(t.source.url,p,f,l(l({},H(e)(n())),{},{expandLimit:20}))).scan((function(e,t){return l(l({},e),t)}),{}).switchMap((function(e){var t,n=e.Histogram,r=e.Domains,o=d(m(y(d(r,"DimensionDomain")||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Identifier;return"time"===t}))),"Domain");try{t=n&&n.Values&&n.Values.split(",").map((function(e){return parseInt(e,10)}))||[]}catch(e){t=[]}var a=o&&o.indexOf("--")<0&&o.split(",");return u.Observable.of({range:i,histogram:n&&n.Domain?{values:t,domain:n.Domain}:void 0,domain:o?{values:a}:void 0})}))};e.exports={setTimelineCurrentTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(S).throttleTime(100).switchMap((function(e){var t=e.time,n=e.group,a=r();return n?ae(a,n,t).switchMap((function(e){var t=N(a)||{},n=t.start,r=t.end,i=[];if(n&&r&&(b(e).isBefore(n)||b(e).isAfter(r))){var s=b(r).diff(n);i=[x({start:b(e).subtract(s/2),end:b(e).add(s/2)})]}return u.Observable.from([].concat(o(i),[M(e)]))})).let(g(T(!1,!0),T(!1,!1))):u.Observable.of(M(t))}))},setupTimelineExistingSettings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(R,j).exhaustMap((function(){return U(r())&&d(z(r()),"[0].id")&&!B(r())?u.Observable.of(_(d(z(r()),"[0].id"))).concat(u.Observable.of(1).switchMap((function(){return ae(r(),d(z(r()),"[0].id"),K(r)||(new Date).toISOString()).filter((function(e){return e})).map((function(e){return M(e)}))}))):u.Observable.empty()}))},settingInitialOffsetValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(w).switchMap((function(e){var t=r(),n=K(t),o=N(t);if(e.enabled){var a=o||{},i=a.start,s=void 0===i?0:i,l=a.end,c=void 0===l?432e6:l,p=Z(t),f=b(c).diff(s),d=o?b(s).add(f/2).toISOString():b(new Date).toISOString(),m=b(n||d).add(f/5),y=e.enabled&&!n?u.Observable.of(M(d)):u.Observable.empty(),g=e.enabled&&!p||e.enabled&&b(p).diff(n)<0?u.Observable.of(L(m.toISOString())):u.Observable.empty(),h=o?u.Observable.empty():u.Observable.of(x({start:b(d).add(-1*f/2),end:b(d).add(f/2)}));return y.concat(g).concat(h)}return u.Observable.of(L())}))},updateRangeDataOnRangeChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(O).merge(e.ofType(h).filter((function(){return V(r())})),e.ofType(E)).debounceTime(400).merge(e.ofType(C).debounceTime(50)).switchMap((function(){var e,t=q(r())||{},n=Object.keys(t).filter((function(e){return t[e]&&t[e].domain&&$(t[e].domain)||V(r())}));return(e=u.Observable).merge.apply(e,o(n.map((function(e){return se(e,t[e],r).map((function(t){var n=t.range,r=t.histogram,o=t.domain;return A(e,n,r,o)})).startWith(T(e,!0)).catch((function(){return u.Observable.of(I({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(u.Observable.of(T(e,!1)))}))))}))}}},"./MapStore2/web/client/libs/cesium.js":function(e,t){e.exports=window.Cesium},"./MapStore2/web/client/libs/mapquest.js":function(e,t){e.exports=window.MQ},"./MapStore2/web/client/observables/epics.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=n("./node_modules/rxjs/Rx.js"),i=n("./node_modules/lodash/lodash.js").castArray,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.startWith.apply(e,r(t))};e.exports={wrapStartStop:function(e,t,n){return function(r){return(n?s(r,i(e)).catch(n):s(r,i(e))).concat(a.Observable.from(i(t)))}}}},"./MapStore2/web/client/observables/pausable.js":function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(o){return o.withLatestFrom(e.startWith(t)).filter((function(e){var t=n(e,2)[1];return r(t)})).map((function(e){return n(e,1)[0]}))}}},"./MapStore2/web/client/observables/wms.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/rxjs/Rx.js").Observable,s=n("./MapStore2/web/client/libs/ajax.js"),l=n("./MapStore2/web/client/api/WMS.js"),c=n("./MapStore2/web/client/utils/LayersUtils.js"),u=n("./MapStore2/web/client/utils/SecurityUtils.js"),p=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),f=n("./node_modules/url/url.js"),d=n("./MapStore2/web/client/utils/ObservableUtils.js").interceptOGCError,m=n("./node_modules/lodash/lodash.js").head,y=n("./MapStore2/web/client/libs/proj4.js").default,b=function(e){return i.defer((function(){return s.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.search,r=void 0===n?{}:n,a=e.url,i=f.parse(r.url||a,!0);return f.format(o(o({},i),{},{search:void 0,query:o(o({},i.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(d)},g=function(e){return i.defer((function(){return l.getCapabilities(c.getCapabilitiesUrl(e))})).let(d).map((function(t){return l.parseLayerCapabilities(t,e)}))};e.exports={getLayerCapabilities:g,describeLayer:b,addSearch:function(e){return b(e).map((function(e){var t=e.data,n=void 0===t?{}:t;return n&&n.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.owsURL;return o(o({},e),{},{params:{},search:n?{type:"wfs",url:u.cleanAuthParamsFromURL(n)}:void 0})}))},getNativeCrs:function(e){return i.of(e).filter((function(e){return!e.nativeCrs})).switchMap((function(e){return g(e).switchMap((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=m(e.crs)||"EPSG:3587";if(!p.determineCrs(t)){var n=2===t.split(":").length?t.split(":")[1]:"3857";return i.fromPromise(p.fetchProjRemotely(t,p.getProjUrl(n)).then((function(e){return y.defs(t,e.data),t})))}return i.of(t)}))}))}}},"./MapStore2/web/client/plugins/BackgroundSelector.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react-redux/es/index.js").connect,s=n("./node_modules/recompose/es/Recompose.js"),l=s.compose,c=s.withProps,u=n("./node_modules/lodash/lodash.js").find,p=n("./MapStore2/web/client/actions/controls.js"),f=p.toggleControl,d=p.setControlProperty,m=n("./MapStore2/web/client/actions/layers.js"),y=m.changeLayerProperties,b=m.removeNode,g=m.updateNode,h=m.addLayer,v=n("./MapStore2/web/client/actions/backgroundselector.js"),S=v.addBackground,O=v.addBackgroundProperties,w=v.confirmDeleteBackgroundModal,E=v.backgroundAdded,j=v.updateThumbnail,T=v.removeBackground,A=v.clearModalParameters,x=v.backgroundEdited,_=v.setCurrentBackgroundLayer,P=n("./node_modules/reselect/es/index.js").createSelector,M=n("./MapStore2/web/client/selectors/layers.js"),C=M.allBackgroundLayerSelector,L=M.backgroundControlsSelector,R=M.currentBackgroundSelector,I=M.tempBackgroundSelector,D=n("./MapStore2/web/client/selectors/map.js"),k=D.mapSelector,N=D.mapIsEditableSelector,F=D.projectionSelector,G=n("./MapStore2/web/client/selectors/backgroundselector.js"),U=G.modalParamsSelector,B=G.isDeletedIdSelector,z=G.backgroundListSelector,H=G.backgroundLayersSelector,V=G.confirmDeleteBackgroundModalSelector,W=G.allowBackgroundsDeletionSelector,Y=n("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,q=n("./MapStore2/web/client/plugins/background/DefaultThumbs.js"),Z=l(i(P([F,U,z,B,C,k,N,H,L,R,I,function(e){return Y(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},V,W],(function(e,t,n,r,o,a,i,s,l,c,u,p,f,d,m,y){return{mode:d,modalParams:t,backgroundList:n,deletedId:r,backgrounds:o,size:a&&a.size||{width:0,height:0},mapIsEditable:i,layers:s,tempLayer:u,currentLayer:c,start:l.start||0,enabled:l.enabled,style:p,enabledCatalog:f,confirmDeleteBackgroundModal:m,allowDeletion:y,projection:e}})),{onPropertiesChange:y,onToggle:f.bind(null,"backgroundSelector",null),onLayerChange:d.bind(null,"backgroundSelector"),onStartChange:d.bind(null,"backgroundSelector","start"),onAdd:S,addLayer:h,backgroundAdded:E,onRemove:b,onBackgroundEdit:x,updateNode:g,onUpdateThumbnail:j,removeBackground:T,clearModal:A,addBackgroundProperties:O,onRemoveBackground:w,setCurrentBackgroundLayer:_},(function(e,t,n){return o(o(o(o({},e),t),n),{},{thumbs:o(o({},q),n.thumbs)})})),c((function(e){var t=e.items;return{hasCatalog:!!u(void 0===t?[]:t,{name:"MetadataExplorer"})}})))(n("./MapStore2/web/client/components/background/BackgroundSelector.jsx"));e.exports={BackgroundSelectorPlugin:Z,reducers:{controls:n("./MapStore2/web/client/reducers/controls.js"),backgroundSelector:n("./MapStore2/web/client/reducers/backgroundselector.js")},epics:n("./MapStore2/web/client/epics/backgroundselector.js")}},"./MapStore2/web/client/plugins/BurgerMenu.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var g=n("./node_modules/react/index.js"),h=n("./node_modules/prop-types/index.js"),v=n("./node_modules/react-redux/es/index.js").connect,S=n("./node_modules/object-assign/index.js"),O=n("./node_modules/react-bootstrap/es/index.js"),w=O.DropdownButton,E=O.Glyphicon,j=O.MenuItem,T=v((function(){return{noCaret:!0,pullRight:!0,bsStyle:"primary",title:g.createElement(E,{glyph:"menu-hamburger"})}}))(w),A=function(e){var t=e.children,n=b(e,["children"]);return g.createElement("div",n,t)},x=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),_=n("./MapStore2/web/client/plugins/locale/Message.jsx"),P=n("./MapStore2/web/client/utils/PluginsUtils.js").createPlugin;n("./MapStore2/web/client/plugins/burgermenu/burgermenu.css");var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,r,a=p(i);function i(){var e;l(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(d(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(e){return e.filter((function(e){return e.panel})).map((function(e){return S({},e,{panel:!0===e.panel?e.plugin:e.panel})})).concat(e.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[]))})),y(d(e),"getTools",(function(){return[{element:g.createElement("span",{key:"burger-menu-title"},e.props.title)}].concat(o(e.props.items.map((function(t){return s(s({},t),function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=n.map((function(e){return s(s({},e),t(e.children))})).sort((function(e,t){return e.position-t.position})),o={container:A,containerWrapperStyle:{position:"static"},className:"burger-menu-submenu",toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:j,panelStyle:e.props.panelStyle,panelClassName:e.props.panelClassName};return n.length>0?{containerWrapperStyle:{position:"static"},style:{position:"relative"},childTools:r,childPanels:e.getPanels(n),innerProps:o}:{}}(t.children))})).sort((function(e,t){return e.position-t.position}))))})),e}return t=i,(n=[{key:"render",value:function(){return g.createElement(x,{id:this.props.id,className:"square-button",container:T,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:j,tools:this.getTools(),panels:this.getPanels(this.props.items),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}])&&c(t.prototype,n),r&&c(t,r),i}(g.Component);y(M,"propTypes",{id:h.string,dispatch:h.func,items:h.array,title:h.node,onItemClick:h.func,controls:h.object,mapType:h.string,panelStyle:h.object,panelClassName:h.string}),y(M,"contextTypes",{messages:h.object,router:h.object}),y(M,"defaultProps",{id:"mapstore-burger-menu",items:[],onItemClick:function(){},title:g.createElement(j,{header:!0},g.createElement(_,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel"}),e.exports=P("BurgerMenu",{component:v((function(e){return{controls:e.controls}}))(M),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})},"./MapStore2/web/client/plugins/Expander.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,a=n("./node_modules/object-assign/index.js"),i=n("./MapStore2/web/client/components/buttons/ToggleButton.jsx");e.exports={ExpanderPlugin:a(i,{Toolbar:{name:"expand",position:1e4,alwaysVisible:!0,tooltip:"expandtoolbar.tooltip",showWhen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,n=void 0===t?[]:t;return n.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"expand"!==!e.name&&!e.alwaysVisible})).length>1},icon:r.createElement(o,{glyph:"option-horizontal"}),toggle:!0,toggleControl:"toolbar",toggleProperty:"expanded",priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/FullScreen.jsx":function(e,t,n){var r=n("./node_modules/react-redux/es/index.js").connect,o=n("./MapStore2/web/client/actions/fullscreen.js").toggleFullscreen,a=n("./MapStore2/web/client/epics/fullscreen.js").toggleFullscreenEpic,i=n("./node_modules/object-assign/index.js"),s=n("./MapStore2/web/client/components/buttons/FullScreenButton.jsx"),l=r((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.controls,n=void 0===t?{}:t;return{active:n.fullscreen&&n.fullscreen.enabled}}),{onClick:function(e,t){return o(e,t.querySelector)}})(s);e.exports={FullScreenPlugin:i(l,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:a}}},"./MapStore2/web/client/plugins/Identify.jsx":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./node_modules/react/index.js"),l=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,c=n("./node_modules/react-redux/es/index.js").connect,u=n("./node_modules/reselect/es/index.js"),p=u.createSelector,f=u.createStructuredSelector,d=n("./node_modules/object-assign/index.js"),m=n("./MapStore2/web/client/selectors/map.js"),y=m.mapSelector,b=m.isMouseMoveIdentifyActiveSelector,g=n("./MapStore2/web/client/selectors/layers.js").layersSelector,h=n("./MapStore2/web/client/selectors/maptype.js"),v=h.mapTypeSelector,S=h.isCesium,O=n("./MapStore2/web/client/selectors/mapInfo.js"),w=O.generalInfoFormatSelector,E=O.clickPointSelector,j=O.indexSelector,T=O.responsesSelector,A=O.validResponsesSelector,x=O.showEmptyMessageGFISelector,_=O.isHighlightEnabledSelector,P=O.currentFeatureSelector,M=O.currentFeatureCrsSelector,C=n("./MapStore2/web/client/selectors/featuregrid.js").isEditingAllowedSelector,L=n("./MapStore2/web/client/actions/mapInfo.js"),R=L.hideMapinfoMarker,I=L.showMapinfoRevGeocode,D=L.hideMapinfoRevGeocode,k=L.clearWarning,N=L.toggleMapInfoState,F=L.changeMapInfoFormat,G=L.updateCenterToMarker,U=L.closeIdentify,B=L.purgeMapInfoResults,z=L.updateFeatureInfoClickPoint,H=L.changeFormat,V=L.toggleShowCoordinateEditor,W=L.changePage,Y=L.toggleHighlightFeature,q=L.editLayerFeatures,Z=n("./MapStore2/web/client/actions/map.js"),K=Z.changeMousePointer,Q=Z.zoomToExtent,X=Z.registerEventListener,J=Z.unRegisterEventListener,$=n("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,ee=n("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,te=n("./node_modules/recompose/es/Recompose.js"),ne=te.compose,re=te.defaultProps,oe=n("./MapStore2/web/client/utils/MapInfoUtils.js"),ae=n("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),ie=n("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),se=ie.defaultViewerHandlers,le=ie.defaultViewerDefaultProps,ce=n("./MapStore2/web/client/components/data/identify/enhancers/identify.js").identifyLifecycle,ue=n("./MapStore2/web/client/components/data/identify/enhancers/zoomToFeatureHandler.js"),pe=n("./MapStore2/web/client/plugins/identify/toolButtons.js"),fe=n("./MapStore2/web/client/plugins/identify/navigationButtons.js"),de=n("./MapStore2/web/client/plugins/locale/Message.jsx");n("./MapStore2/web/client/plugins/identify/identify.css");var me=f({enabled:function(e){return e.mapInfo&&e.mapInfo.enabled||e.controls&&e.controls.info&&e.controls.info.enabled||!1},responses:T,validResponses:A,requests:function(e){return e.mapInfo&&e.mapInfo.requests||[]},format:w,map:y,layers:g,point:E,showModalReverse:function(e){return e.mapInfo&&e.mapInfo.showModalReverse},reverseGeocodeData:function(e){return e.mapInfo&&e.mapInfo.reverseGeocodeData},warning:function(e){return e.mapInfo&&e.mapInfo.warning},currentLocale:$,dockStyle:function(e){return ee(e,{height:!0})},formatCoord:function(e){return e.mapInfo&&e.mapInfo.formatCoord},showCoordinateEditor:function(e){return e.mapInfo&&e.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(e){return x(e)},isEditingAllowed:C,isCesium:S,floatingIdentifyEnabled:function(e){return b(e)}}),ye=ne(c(p(j,(function(e){return{index:e}})),{setIndex:W}),re({index:0})),be=ne(ye,le,se,ae((function(e){return 0===e.responses.length})))(n("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx")),ge=re({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:oe.getDefaultInfoFormatValue(),requests:[],responses:[],viewerOptions:{},viewer:be,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showEdit:!1,position:"right",size:660,getToolButtons:pe,getNavigationButtons:fe,showFullscreen:!1,validResponses:[],validator:oe.getValidator,zIndex:1050}),he=ne(c(me,{purgeResults:B,closeIdentify:U,onSubmitClickPoint:z,onToggleShowCoordinateEditor:V,onChangeFormat:H,changeMousePointer:K,clearWarning:k,hideMarker:R,showRevGeocode:I,hideRevGeocode:D,onEnableCenterToMarker:G.bind(null,"enabled"),onEdit:q},(function(e,t,n){return a(a(a(a({},n),e),t),{},{enabled:e.enabled&&(e.isCesium||!n.showInMapPopup)&&!e.floatingIdentifyEnabled})})),ne(c(f({highlight:_,currentFeature:P,currentFeatureCrs:M}),{toggleHighlightFeature:Y,zoomToExtent:Q}),ue),c(p(v,(function(e){return{mapType:e}})),{},(function(e,t,n){var o=e.mapType,i=n.showHighlightFeatureButton;return a(a({},r(n,["showHighlightFeatureButton"])),{},{showHighlightFeatureButton:"openlayers"===o&&i})})),ge,ye,se,ce)(n("./MapStore2/web/client/components/data/identify/IdentifyContainer.jsx")),ve=c((function(e){return{infoFormat:w(e)}}),{onInfoFormatChange:F})(n("./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx").default),Se=c((function(e){return{trigger:b(e)?"hover":"click"}}),{onTriggerChange:function(e){return"hover"===e.target.value?X("mousemove","identifyFloatingTool"):J("mousemove","identifyFloatingTool")}})(n("./MapStore2/web/client/components/misc/FeatureInfoTriggerSelector.jsx"));e.exports={IdentifyPlugin:d(he,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:s.createElement(l,{glyph:"map-marker"}),help:s.createElement(de,{msgId:"helptexts.infoButton"}),action:N,selector:function(e){return{bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)}}},Settings:{tool:[s.createElement(ve,{key:"featureinfoformat",label:s.createElement(de,{msgId:"infoFormatLbl"})}),s.createElement(Se,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:n("./MapStore2/web/client/reducers/mapInfo.js")},epics:n("./MapStore2/web/client/epics/identify.js").default}},"./MapStore2/web/client/plugins/Map.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n("./node_modules/prop-types/index.js"),b=n("./node_modules/react/index.js"),g=n("./MapStore2/web/client/utils/PluginsUtils.js").connect,h=n("./MapStore2/web/client/utils/AgentUtils.js").loadFont,v=n("./node_modules/object-assign/index.js"),S=n("./node_modules/react-spinkit/dist/index.js");n("./MapStore2/web/client/plugins/map/css/map.css");var O,w=n("./MapStore2/web/client/components/I18N/Message.jsx"),E=n("./MapStore2/web/client/utils/ConfigUtils.js"),j=n("./MapStore2/web/client/actions/map.js"),T=j.errorLoadingFont,A=j.setMapResolutions,x=n("./node_modules/lodash/lodash.js").isString,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,r,i,p=u(d);function d(){var e;s(this,d);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return m(f(e=p.call.apply(p,[this].concat(r))),"state",{canRender:!0}),m(f(e),"getHighlightLayer",(function(t,n,r){return b.createElement(O.Layer,{type:"vector",srs:t,position:n,key:"highlight",options:{name:"highlight"},env:r},e.props.features.map((function(e){return b.createElement(O.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),m(f(e),"getTool",(function(t){return x(t)?{name:t,impl:O.tools[t]}:t[e.props.mapType]||t})),m(f(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||E.getConfigProp("defaultMapOptions")&&E.getConfigProp("defaultMapOptions")[e.props.mapType]})),m(f(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",n=[];return e.props.isLocalizedLayerStylesEnabled&&n.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage}),[].concat(a(e.props.layers),a(e.props.additionalLayers)).filter(e.filterLayer).map((function(r,o){return b.createElement(O.Layer,{type:r.type,srs:t,position:o,key:r.id||r.name,options:r,securityToken:e.props.securityToken,env:n},e.renderLayerContent(r,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,n)||[])})),m(f(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(n){return b.createElement(O.Feature,{key:n.id,msId:n.id,type:n.type,crs:t,geometry:n.geometry,features:n.features,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:n.style||e.style||null,properties:n.properties})})):null})),m(f(e),"renderSupportTools",(function(){return e.props.tools.map((function(t){var n=e.getTool(t),r=e.props.toolsOptions[n.name]&&e.props.toolsOptions[n.name][e.props.mapType]||e.props.toolsOptions[n.name]||{};return b.createElement(n.impl,o({key:n.name},r))}))})),m(f(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),m(f(e),"updatePlugins",(function(e){O=n("./MapStore2/web/client/plugins/map/index.js")(e.mapType,e.actions)})),e}return t=d,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.shouldLoadFont,r=t.fonts;n&&r&&(this.setState({canRender:!1}),Promise.all(r.map((function(t){return h(t,{timeoutAfter:5e3}).catch((function(){e.props.onFontError({family:t})}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return b.createElement(O.Map,o({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:v({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?b.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},b.createElement(w,{msgId:"map.loadingerror"}),":",this.props.loadingError):b.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?b.createElement(S,{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,b.createElement(w,{msgId:this.props.mapLoadingMessage}))}}])&&l(t.prototype,r),i&&l(t,i),d}(b.Component);m(_,"propTypes",{mapType:y.string,map:y.object,layers:y.array,additionalLayers:y.array,zoomControl:y.bool,mapLoadingMessage:y.string,loadingSpinner:y.bool,loadingError:y.string,tools:y.array,fonts:y.array,options:y.object,mapOptions:y.object,projectionDefs:y.array,toolsOptions:y.object,onFontError:y.func,onResolutionsChange:y.func,actions:y.object,features:y.array,securityToken:y.string,shouldLoadFont:y.bool,elevationEnabled:y.bool,isLocalizedLayerStylesEnabled:y.bool,localizedLayerStylesName:y.string,currentLocaleLanguage:y.string}),m(_,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","locate","scalebar","draw","highlight","popup"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){}});var P=n("./MapStore2/web/client/plugins/map/selector.js").default;e.exports={MapPlugin:g(P,{onFontError:T,onResolutionsChange:A})(_),reducers:{map:n("./MapStore2/web/client/reducers/map.js"),layers:n("./MapStore2/web/client/reducers/layers.js"),draw:n("./MapStore2/web/client/reducers/draw.js"),highlight:n("./MapStore2/web/client/reducers/highlight.js"),maptype:n("./MapStore2/web/client/reducers/maptype.js"),additionallayers:n("./MapStore2/web/client/reducers/additionallayers.js")},epics:n("./MapStore2/web/client/epics/map.js")}},"./MapStore2/web/client/plugins/MapFooter.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),y=n("./node_modules/prop-types/index.js"),b=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),g=n("./node_modules/recompose/es/Recompose.js").lifecycle,h={},v=g({componentDidMount:function(){if(h[this.props.id]){var e=document.getElementById(this.props.id);e&&e.parentNode&&!e.hasChildNodes()&&e.parentNode.replaceChild(h[this.props.id],e)}},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){h[this.props.id]=document.getElementById(this.props.id)}})((function(e){var t=e.id;return m.createElement("div",{id:t})})),S=[{element:m.createElement(v,{key:"attribution",id:"footer-attribution-container"})},{element:m.createElement(v,{key:"scalebar",id:"footer-scalebar-container"})}],O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,r,a=c(u);function u(){var e;i(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[])})),d(p(e),"getTools",(function(){return[S[0]].concat(o(e.props.items.sort((function(e,t){return t.position-e.position}))),[S[1]])})),e}return t=u,(n=[{key:"render",value:function(){return m.createElement(b,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return m.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:function(e){return m.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&s(t.prototype,n),r&&s(t,r),u}(m.Component);d(O,"propTypes",{className:y.string,style:y.object,items:y.array,id:y.string,mapType:y.string}),d(O,"defaultProps",{items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"}),e.exports={MapFooterPlugin:O,reducers:{}}},"./MapStore2/web/client/plugins/MapLoading.jsx":function(e,t,n){var r=n("./node_modules/react-redux/es/index.js").connect,o=n("./node_modules/reselect/es/index.js").createSelector,a=n("./MapStore2/web/client/selectors/layers.js").layersSelector,i=n("./node_modules/object-assign/index.js"),s=o([a],(function(e){return{loading:e&&e.some((function(e){return e.loading}))}}));n("./MapStore2/web/client/plugins/maploading/maploading.css");var l=r(s)(n("./MapStore2/web/client/components/misc/spinners/GlobalSpinner/GlobalSpinner.jsx"));e.exports={MapLoadingPlugin:i(l,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/OmniBar.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js");n("./MapStore2/web/client/plugins/omnibar/omnibar.css");var m=n("./node_modules/object-assign/index.js"),y=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,e);var t,n,r,l=s(u);function u(){var e;o(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=l.call.apply(l,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){var r,o;return{name:t.name+n,panel:e,cfg:(null==t||null===(r=t.cfg)||void 0===r||null===(o=r.toolsCfg)||void 0===o?void 0:o[n])||{}}})))}),[])})),p(c(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=u,(n=[{key:"render",value:function(){return d.createElement(y,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return d.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return d.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&a(t.prototype,n),r&&a(t,r),u}(d.Component);p(b,"propTypes",{className:f.string,style:f.object,items:f.array,id:f.string,mapType:f.string}),p(b,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"}),e.exports={OmniBarPlugin:m(b,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},"./MapStore2/web/client/plugins/Playback.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./node_modules/react/index.js"),p=n("./node_modules/object-assign/index.js"),f=n("./node_modules/recompose/es/Recompose.js"),d=f.defaultProps,m=f.compose,y=n("./node_modules/reselect/es/index.js").createSelector,b=n("./MapStore2/web/client/actions/playback.js"),g=b.play,h=b.pause,v=b.stop,S=b.STATUS,O=n("./MapStore2/web/client/selectors/dimension.js").currentTimeSelector,w=n("./MapStore2/web/client/selectors/playback.js"),E=w.statusSelector,j=w.loadingSelector,T=n("./node_modules/react-redux/es/index.js").connect,A=m(d({statusMap:S}),T(y(E,O,j,(function(e,t,n){return{loading:n,currentTime:t,status:e}})),{play:g,pause:h,stop:v}))(n("./MapStore2/web/client/plugins/playback/Playback.jsx")),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,r,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return u.createElement("div",{className:"playback-plugin"},u.createElement(A,this.props))}}])&&a(t.prototype,n),r&&a(t,r),c}(u.Component);e.exports={PlaybackPlugin:p(x,{noRoot:!0,disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:n("./MapStore2/web/client/epics/playback.js"),reducers:{playback:n("./MapStore2/web/client/reducers/playback.js"),dimension:n("./MapStore2/web/client/reducers/dimension.js")}}},"./MapStore2/web/client/plugins/Print.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=n("./node_modules/react/index.js"),h=n("./node_modules/prop-types/index.js"),v=n("./node_modules/react-redux/es/index.js").connect,S=n("./MapStore2/web/client/utils/LocaleUtils.js"),O=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),w=n("./MapStore2/web/client/utils/MapUtils.js"),E=n("./MapStore2/web/client/components/misc/Dialog.jsx"),j=n("./node_modules/react-bootstrap/es/index.js"),T=j.Grid,A=j.Row,x=j.Col,_=j.Panel,P=j.Accordion,M=j.Glyphicon,C=n("./MapStore2/web/client/actions/controls.js"),L=C.toggleControl,R=C.setControlProperty,I=n("./MapStore2/web/client/actions/print.js"),D=I.printSubmit,k=I.printError,N=I.printSubmitting,F=I.configurePrintMap,G=n("./MapStore2/web/client/selectors/map.js").mapSelector,U=n("./MapStore2/web/client/selectors/layers.js").layersSelector,B=n("./node_modules/reselect/es/index.js").createSelector,z=n("./node_modules/object-assign/index.js"),H=n("./node_modules/lodash/lodash.js").head,V=n("./MapStore2/web/client/selectors/map.js").scalesSelector,W=n("./MapStore2/web/client/selectors/locale.js"),Y=W.currentLocaleSelector,q=W.currentLocaleLanguageSelector,Z=n("./MapStore2/web/client/selectors/localizedLayerStyles.js"),K=Z.isLocalizedLayerStylesEnabledSelector,Q=Z.localizedLayerStylesEnvSelector,X=n("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector,J=n("./MapStore2/web/client/components/I18N/Message.jsx");n("./MapStore2/web/client/plugins/print/print.css"),e.exports={PrintPlugin:z({loadPlugin:function(e){Promise.all([n.e(8),n.e(9)]).then(function(){var t=n("./MapStore2/web/client/plugins/print/index.js"),r=t.Name,o=t.Description,s=t.Resolution,d=t.DefaultBackgroundOption,y=t.Sheet,j=t.LegendOption,C=t.MultiPageOption,I=t.LandscapeOption,W=t.ForceLabelsOption,Z=t.AntiAliasingOption,$=t.IconSizeOption,ee=t.LegendDpiOption,te=t.Font,ne=t.MapPreview,re=t.PrintSubmit,oe=t.PrintPreview,ae=n("./MapStore2/web/client/utils/PrintUtils.js"),ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(j,e);var t,n,h,v=f(j);function j(){var e;c(this,j);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return b(m(e=v.call.apply(v,[this].concat(n))),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),b(m(e),"getLayout",(function(){var t=e.props.getLayoutName(e.props.printSpec);return H(e.props.capabilities.layouts.filter((function(e){return e.name===t})))})),b(m(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return g.createElement(t.component,{key:"printoption_"+t.name,label:S.getMessageById(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),b(m(e),"renderPreviewPanel",(function(){return g.createElement(oe,l({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),b(m(e),"renderError",(function(){return e.props.error?g.createElement(A,null,g.createElement(x,{xs:12},g.createElement("div",{className:"print-error"},g.createElement("span",null,e.props.error)))):null})),b(m(e),"renderWarning",(function(e){return e?null:g.createElement(A,null,g.createElement(x,{xs:12},g.createElement("div",{className:"print-warning"},g.createElement("span",null,g.createElement(J,{msgId:"print.layoutWarning"})))))})),b(m(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.props.getLayoutName(e.props.printSpec),a=e.getMapSize(t);return g.createElement(T,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),g.createElement(A,null,g.createElement(x,{xs:12,md:6},g.createElement(r,{label:S.getMessageById(e.context.messages,"print.title"),placeholder:S.getMessageById(e.context.messages,"print.titleplaceholder")}),g.createElement(o,{label:S.getMessageById(e.context.messages,"print.description"),placeholder:S.getMessageById(e.context.messages,"print.descriptionplaceholder")}),g.createElement(P,{defaultActiveKey:"1"},g.createElement(_,{className:"print-layout",header:S.getMessageById(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},g.createElement(y,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:S.getMessageById(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),g.createElement(_,{className:"print-legend-options",header:S.getMessageById(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},g.createElement(te,{label:S.getMessageById(e.context.messages,"print.legend.font")}),g.createElement(W,{label:S.getMessageById(e.context.messages,"print.legend.forceLabels")}),g.createElement(Z,{label:S.getMessageById(e.context.messages,"print.legend.antiAliasing")}),g.createElement($,{label:S.getMessageById(e.context.messages,"print.legend.iconsSize")}),g.createElement(ee,{label:S.getMessageById(e.context.messages,"print.legend.dpi")})))),g.createElement(x,{xs:12,md:6,style:{textAlign:"center"}},g.createElement(s,{label:S.getMessageById(e.context.messages,"print.resolution")}),g.createElement(ne,l({width:a.width,height:a.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:n,layoutSize:t&&t.map||{width:10,height:10},resolutions:w.getResolutions(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?g.createElement(d,{label:S.getMessageById(e.context.messages,"print.defaultBackground")}):null,g.createElement(re,l({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),b(m(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?g.createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),b(m(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),b(m(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),b(m(e),"isBackgroundIgnored",(function(){return e.props.layers.filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),b(m(e),"filterLayers",(function(t){var n=e.props.layers.filter((function(t){return t.visibility&&e.isAllowed(t)}));if(e.isBackgroundIgnored()&&e.props.defaultBackground&&t.defaultBackground){var r=e.props.layers.filter((function(t){return t.type===e.props.defaultBackground}))[0];return[z({},r,{visibility:!0})].concat(i(n))}return n})),b(m(e),"configurePrintMap",(function(t,n){var r=t||e.props.map,o=n||e.props.printSpec;if(r&&r.bbox&&e.props.capabilities){var a=O.reprojectBbox([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),i=e.getMapSize();if(e.props.useFixedScales){var s=e.props.getZoomForExtent(a,i,e.props.minZoom,e.props.maxZoom),l=ae.getPrintScales(e.props.capabilities),c=ae.getNearestZoom(r.zoom,l);e.props.configurePrintMap(r.center,s,c,l[c],e.filterLayers(o),r.projection,e.props.currentLocale)}else e.props.configurePrintMap(r.center,r.zoom,r.zoom,e.props.scales[r.zoom],e.filterLayers(o),r.projection,e.props.currentLocale)}})),b(m(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=a(a({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var n=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,a(a({},n),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=j,(n=[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.usePreview&&!window.PDFJS){var e=document.createElement("script");e.type="text/javascript",e.src="https://unpkg.com/pdfjs-dist@1.4.79/build/pdf.combined.js",document.head.appendChild(e)}this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&w.mapUpdated(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e.map,e.printSpec)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?g.createElement(_,{className:"mapstore-print-panel",header:g.createElement("span",null,g.createElement("span",{className:"print-panel-title"},g.createElement(J,{msgId:"print.paneltitle"})),g.createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):g.createElement(E,{id:"mapstore-print-panel",style:a({left:"17%",top:"50px",zIndex:1990},this.props.style)},g.createElement("span",{role:"header"},g.createElement("span",{className:"print-panel-title"},g.createElement(J,{msgId:"print.paneltitle"})),g.createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?g.createElement(M,{glyph:this.props.closeGlyph}):g.createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&u(t.prototype,n),h&&u(t,h),j}(g.Component);b(ie,"propTypes",{map:h.object,layers:h.array,capabilities:h.object,printSpec:h.object,printSpecTemplate:h.object,withContainer:h.bool,withPanelAsContainer:h.bool,open:h.bool,pdfUrl:h.string,title:h.string,style:h.object,mapWidth:h.number,mapType:h.string,alternatives:h.array,toggleControl:h.func,onBeforePrint:h.func,setPage:h.func,onPrint:h.func,printError:h.func,configurePrintMap:h.func,preloadData:h.func,getPrintSpecification:h.func,getLayoutName:h.func,error:h.string,getZoomForExtent:h.func,minZoom:h.number,maxZoom:h.number,usePreview:h.bool,mapPreviewOptions:h.object,syncMapPreview:h.bool,useFixedScales:h.bool,scales:h.array,ignoreLayers:h.array,defaultBackground:h.string,closeGlyph:h.string,submitConfig:h.object,previewOptions:h.object,currentLocale:h.string,currentLocaleLanguage:h.string,overrideOptions:h.object,isLocalizedLayerStylesEnabled:h.bool,localizedLayerStylesEnv:h.object}),b(ie,"contextTypes",{messages:h.object}),b(ie,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:ae.preloadData,getPrintSpecification:ae.getMapfishPrintSpecification,getLayoutName:ae.getLayoutName,getZoomForExtent:w.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:j,regex:/legend/},{name:"2pages",component:C,regex:/2_pages/},{name:"landscape",component:I,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var se=B([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&z({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},G,U,V,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},Y,q,X,K,Q],(function(e,t,n,r,o,a,i,s,l,c,u,p,f,d){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:a,layers:i.filter((function(e){return!e.loadingError})),scales:s,usePreview:l,currentLocale:c,currentLocaleLanguage:u,mapType:p,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:d}})),le=v(se,{toggleControl:L.bind(null,"print",null),onPrint:D,printError:k,onBeforePrint:N,setPage:R.bind(null,"print","currentPage"),configurePrintMap:F})(ie);e(le)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:g.createElement(J,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:g.createElement(M,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:g.createElement(J,{msgId:"printbutton"}),icon:g.createElement(M,{glyph:"print"}),action:L.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:n("./MapStore2/web/client/reducers/print.js")}}},"./MapStore2/web/client/plugins/ScaleBox.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./node_modules/react/index.js"),f=n("./MapStore2/web/client/utils/PluginsUtils.js").connect,d=n("./node_modules/reselect/es/index.js").createSelector,m=n("./MapStore2/web/client/selectors/map.js"),y=m.mapSelector,b=m.minZoomSelector,g=n("./MapStore2/web/client/actions/map.js").changeZoomLevel,h=n("./MapStore2/web/client/plugins/help/HelpWrapper.jsx"),v=n("./MapStore2/web/client/plugins/locale/Message.jsx"),S=n("./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx"),O=n("./MapStore2/web/client/utils/MapUtils.js"),w=n("./node_modules/object-assign/index.js"),E=d([y,b],(function(e,t){return{minZoom:t,currentZoomLvl:e&&e.zoom,scales:O.getScales(e&&e.projection||"EPSG:3857",e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null)}}));n("./MapStore2/web/client/plugins/scalebox/scalebox.css");var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,c=l(u);function u(){return a(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return p.createElement(h,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:p.createElement(v,{msgId:"helptexts.scaleBox"})},p.createElement(S,o({key:"scaleBox",label:p.createElement(v,{msgId:"mapScale"})},this.props)))}}])&&i(t.prototype,n),r&&i(t,r),u}(p.Component),T=f(E,{onChange:g})(j);e.exports={ScaleBoxPlugin:w(T,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/Timeline.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js").connect,c=n("./node_modules/reselect/es/index.js").createSelector,u=n("./MapStore2/web/client/plugins/timeline/Timeline.jsx"),p=n("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),f=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),d=n("./MapStore2/web/client/selectors/dimension.js"),m=d.offsetEnabledSelector,y=d.currentTimeSelector,b=n("./MapStore2/web/client/selectors/timeline.js"),g=b.currentTimeRangeSelector,h=b.isVisible,v=b.rangeSelector,S=b.timelineLayersSelector,O=b.isMapSync,w=n("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,E=n("./node_modules/recompose/es/Recompose.js"),j=E.withState,T=E.compose,A=E.branch,x=E.renderNothing,_=E.withStateHandlers,P=E.withProps,M=E.defaultProps,C=E.setDisplayName,L=n("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js"),R=n("./MapStore2/web/client/actions/timeline.js"),I=R.selectTime,D=R.enableOffset,k=R.onRangeChanged,N=R.setMapSync,F=n("./MapStore2/web/client/actions/dimension.js").setCurrentOffset,G=n("./MapStore2/web/client/components/I18N/Message.jsx"),U=n("./MapStore2/web/client/actions/playback.js").selectPlaybackRange,B=n("./MapStore2/web/client/selectors/playback.js"),z=B.playbackRangeSelector,H=B.statusSelector,V=n("./node_modules/react-bootstrap/es/index.js"),W=V.Button,Y=V.Glyphicon,q=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(W),Z=n("./node_modules/lodash/lodash.js"),K=Z.head,Q=Z.isString,X=n("./node_modules/moment/moment.js"),J=function(e){return Q(e)&&-1!==e.indexOf("%")},$=function(e){return parseInt(e,10)/100},ee=function(e,t){return X(t).diff(e)>0},te=T(l(c(h,S,y,g,m,z,H,v,(function(e,t,n,r,o,a,i,s){return{visible:e,layers:t,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:a,status:i,viewRange:s}})),{setCurrentTime:I,onOffsetEnabled:D,setOffset:F,setPlaybackRange:U,moveRangeTo:k}),A((function(e){var t=e.visible,n=void 0===t||t,r=e.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length}),x),j("options","setOptions",{collapsed:!0}),l(c(O,(function(e){return{mapSync:e}})),{toggleMapSync:N}),T(T(_((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),L({querySelector:".ms2",closest:!0,debounceTime:100})),M({style:{marginBottom:35,marginLeft:100,marginRight:80}}),l(c((function(e){return w(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),P((function(e){var t=e.containerWidth,n=e.style,r=e.mapLayoutStyle,o=n||{},i=o.marginLeft,s=o.marginRight,l=r.left,c=void 0===l?0:l,u=r.right,p=void 0===u?0:u;p=J(p)&&$(p)*t||p,c=J(c)&&$(c)*t||c;if(t){var f=t-p-c-i-s;return{hide:f<410,compactToolbar:f<880,style:a(a(a({},n),r),{},{minWidth:410})}}return{style:a(a(a({},n),r),{},{minWidth:410})}})),A((function(e){return e.hide}),x),C("TimelinePlugin")))((function(e){var t=e.items,n=e.options,o=e.setOptions,i=e.mapSync,l=e.toggleMapSync,c=void 0===l?function(){}:l,d=e.currentTime,m=e.setCurrentTime,y=e.offsetEnabled,b=e.onOffsetEnabled,g=e.currentTimeRange,h=e.setOffset,v=e.style,S=e.status,O=e.viewRange,w=e.moveRangeTo,E=e.compactToolbar,j=n.hideLayersName,T=n.collapsed,A=K(t&&t.filter((function(e){return"playback"===e.name}))),x=A&&A.plugin,_=function(e,t,n,r){var o=X(n.end).diff(n.start)/2;if("time-current"===t&&n&&n.start.toString()!==X(e).add(-1*o).toString()&&n.end.toString()!==X(e).add(o).toString()&&w({start:X(e).add(-1*o),end:X(e).add(o)}),"range-start"===t||"range-end"===t){var a=X(r.end).diff(r.start),i=X(r.start).add(a/2);w(a/2<=o?{start:X(i).add(-1*o),end:X(i).add(o)}:{start:X(i).add(-1*a*5/2),end:X(i).add(5*a/2)})}};return s.createElement("div",{style:a(a({position:"absolute",marginBottom:35,marginLeft:100,background:"transparent"},v),{},{right:T?"auto":v.right||0}),className:"timeline-plugin".concat(j?" hide-layers-name":"").concat(y?" with-time-offset":"")},y&&s.createElement(p,{clickable:!T,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==S&&_(e,t,O,g)},tooltip:s.createElement(G,{msgId:"timeline.rangeStart"}),showButtons:!0,date:d||g&&g.start,onUpdate:function(e){return(g&&ee(e,g.end)||!g)&&"PLAY"!==S&&m(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),s.createElement("div",{className:"timeline-plugin-toolbar".concat(E?" ms-collapsed":"")},y&&g?s.createElement(p,{clickable:!T,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==S&&_(e,t,O,g)},tooltip:s.createElement(G,{msgId:"timeline.rangeEnd"}),date:g.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==S&&ee(d,e)&&h(e)}}):s.createElement(p,{clickable:!T,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==S&&_(e,t,O)},tooltip:s.createElement(G,{msgId:"timeline.currentTime"}),date:d||g&&g.start,onUpdate:function(e){return(g&&ee(e,g.end)||!g)&&"PLAY"!==S&&m(e)}}),s.createElement("div",{className:"timeline-plugin-btn-group"},s.createElement(f,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:s.createElement(G,{msgId:j?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:j?"primary":"success",visible:!T,active:!j,onClick:function(){return o(a(a({},n),{},{hideLayersName:!j}))}},{glyph:"time-offset",bsStyle:y?"success":"primary",active:y,disabled:"PLAY"===S,tooltip:s.createElement(G,{msgId:y?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==S&&b(!y)}},{glyph:"map-synch",tooltip:s.createElement(G,{msgId:i?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:i?"success":"primary",active:i,onClick:function(){return c(!i)}}]}),x&&s.createElement(x,r({},A,{settingsStyle:{right:T||E?40:"unset"}}))),s.createElement(q,{onClick:function(){return o(a(a({},n),{},{collapsed:!T}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:s.createElement(G,{msgId:T?"timeline.expand":"timeline.collapse"})},s.createElement(Y,{glyph:T?"chevron-up":"chevron-down"}))),!T&&s.createElement(u,{offsetEnabled:y,playbackEnabled:!0,hideLayersName:j}))})),ne=n("./node_modules/object-assign/index.js"),re=n("./MapStore2/web/client/plugins/timeline/TimelineToggle.jsx");e.exports={TimelinePlugin:ne(te,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:s.createElement(re,null),position:0}}),reducers:{dimension:n("./MapStore2/web/client/reducers/dimension.js"),timeline:n("./MapStore2/web/client/reducers/timeline.js")},epics:n("./MapStore2/web/client/epics/timeline.js")}},"./MapStore2/web/client/plugins/Toolbar.jsx":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=n("./node_modules/react/index.js"),g=n("./node_modules/prop-types/index.js"),h=n("./node_modules/react-redux/es/index.js").connect;n("./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");var v=n("./node_modules/react-transition-group/index.js").CSSTransitionGroup,S=n("./MapStore2/web/client/selectors/featuregrid.js").isFeatureGridOpen,O=n("./MapStore2/web/client/selectors/maplayout.js").mapLayoutValuesSelector,w=n("./node_modules/reselect/es/index.js").createSelector,E=n("./node_modules/object-assign/index.js"),j=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),T=function(e){u(n,e);var t=f(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=i(e,["children"]);return b.createElement(v,a({},n,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),t)}}]),n}(b.Component),A=function(e){u(n,e);var t=f(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=i(e,["children"]);return b.createElement("div",n,t)}}]),n}(b.Component),x=function(e){u(n,e);var t=f(n);function n(){var e;s(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r(m(e=t.call.apply(t,[this].concat(a))),"getPanel",(function(e){return!0===e.panel?e.plugin:e.panel})),r(m(e),"getPanels",(function(){return e.getTools().filter((function(e){return e.panel})).map((function(t){return{name:t.name,title:t.title,cfg:t.cfg,panel:e.getPanel(t),items:t.items,wrap:t.wrap||!1}}))})),r(m(e),"getTools",(function(){var t=e.props.items.filter((function(e){return!e.alwaysVisible}))||[];return e.props.items.filter((function(n){return n.alwaysVisible||1===t.length||e.props.allVisible})).filter((function(t){return!t.showWhen||t.showWhen(e.props)})).map((function(e,t){return E({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),e}return c(n,[{key:"render",value:function(){var e=this.props.disableAnimation?A:T;return b.createElement(j,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:e,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),n}(b.Component);r(x,"propTypes",{id:g.string,tools:g.array,mapType:g.string,style:g.object,panelStyle:g.object,panelClassName:g.string,disableAnimation:g.bool,active:g.string,items:g.array,allVisible:g.bool,layout:g.string,stateSelector:g.string,buttonStyle:g.string,buttonSize:g.string,pressedButtonStyle:g.string,btnConfig:g.object}),r(x,"contextTypes",{messages:g.object,router:g.object}),r(x,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});var _=function(e){return w([function(t){return t.controls&&t.controls[e]&&t.controls[e].active},function(t){return t.controls&&t.controls[e]&&t.controls[e].expanded},S,function(e){return O(e,{right:!0,bottom:!0})}],(function(t,n,r,o){return{active:t,allVisible:n,stateSelector:e,layout:r?"horizontal":"vertical",style:o}}))};e.exports={ToolbarPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return h(_(e))(x)},reducers:{controls:n("./MapStore2/web/client/reducers/controls.js")}}},"./MapStore2/web/client/plugins/ZoomAll.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./node_modules/react/index.js"),f=n("./node_modules/react-redux/es/index.js").connect,d=n("./node_modules/reselect/es/index.js").createSelector,m=n("./MapStore2/web/client/selectors/map.js").mapSelector,y=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,b=f(d([m,function(e){return e.mapInitialConfig}],(function(e,t){return{mapConfig:e,mapInitialConfig:t}})),{changeMapView:n("./MapStore2/web/client/actions/map.js").changeMapView})(n("./MapStore2/web/client/components/buttons/ZoomToMaxExtentButton.jsx")),g=n("./MapStore2/web/client/components/I18N/Message.jsx");n("./MapStore2/web/client/plugins/zoomall/zoomall.css");var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,c=l(u);function u(){return a(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return p.createElement(b,o({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}])&&i(t.prototype,n),r&&i(t,r),u}(p.Component),v=n("./node_modules/object-assign/index.js");e.exports={ZoomAllPlugin:v(h,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:p.createElement(y,{glyph:"resize-full"}),help:p.createElement(g,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomIn.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js").connect,a=(0,n("./node_modules/reselect/es/index.js").createSelector)([n("./MapStore2/web/client/selectors/map.js").mapSelector],(function(e){return{currentZoom:e&&e.zoom,id:"zoomin-btn",step:1,glyphicon:"plus"}})),i=n("./MapStore2/web/client/actions/map.js").changeZoomLevel,s=n("./MapStore2/web/client/components/I18N/Message.jsx"),l=o(a,{onZoom:i})(n("./MapStore2/web/client/components/buttons/ZoomButton.jsx"));n("./MapStore2/web/client/plugins/zoom/zoom.css");var c=n("./node_modules/object-assign/index.js");e.exports={ZoomInPlugin:c(l,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomIn",position:3,tooltip:"zoombuttons.zoomInTooltip",help:r.createElement(s,{msgId:"helptexts.zoomIn"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomOut.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react/index.js"),s=n("./node_modules/react-redux/es/index.js").connect,l=n("./node_modules/reselect/es/index.js").createSelector,c=n("./MapStore2/web/client/selectors/map.js"),u=l([c.mapSelector,c.minZoomSelector],(function(e,t){return{currentZoom:e&&e.zoom,id:"zoomout-btn",step:-1,glyphicon:"minus",minZoom:t}})),p=n("./MapStore2/web/client/actions/map.js").changeZoomLevel,f=n("./MapStore2/web/client/components/I18N/Message.jsx"),d=s(u,{onZoom:p},(function(e,t,n){return o(o(o({},e),t),n)}))(n("./MapStore2/web/client/components/buttons/ZoomButton.jsx"));n("./MapStore2/web/client/plugins/zoom/zoom.css");var m=n("./node_modules/object-assign/index.js");e.exports={ZoomOutPlugin:m(d,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomOut",position:4,tooltip:"zoombuttons.zoomOutTooltip",help:i.createElement(f,{msgId:"helptexts.zoomOut"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/background/DefaultThumbs.js":function(e,t,n){var r=n("./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"),o=n("./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"),a=n("./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"),i=n("./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"),s=n("./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"),l=n("./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"),c=n("./MapStore2/web/client/plugins/background/assets/img/none.jpg"),u=n("./MapStore2/web/client/plugins/background/assets/img/dafault.jpg"),p=n("./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"),f=n("./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"),d=n("./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"),m={google:{HYBRID:n("./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"),ROADMAP:r,TERRAIN:o,SATELLITE:a},bing:{Aerial:i,AerialWithLabels:f},osm:{mapnik:s},mapquest:{osm:n("./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg")},ol:{undefined:c},nasagibs:{Night2012:p},OpenTopoMap:{OpenTopoMap:d},unknown:u,s2cloudless:{"s2cloudless:s2cloudless":l}};e.exports=m},"./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},"./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},"./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},"./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},"./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},"./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},"./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},"./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},"./MapStore2/web/client/plugins/background/assets/img/dafault.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},"./MapStore2/web/client/plugins/background/assets/img/none.jpg":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},"./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"},"./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/containers/ToolsContainer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n("./node_modules/react/index.js"),b=n("./node_modules/prop-types/index.js"),g=n("./node_modules/react-redux/es/index.js").connect,h=n("./node_modules/redux/es/index.js").compose,v=n("./MapStore2/web/client/actions/help.js"),S=v.changeHelpText,O=v.changeHelpwinVisibility,w=g((function(e){return{isVisible:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:S,changeHelpwinVisibility:O})(n("./MapStore2/web/client/components/help/HelpBadge.jsx")),E=n("./MapStore2/web/client/components/I18N/Message.jsx"),j=n("./node_modules/react-bootstrap/es/index.js"),T=j.Button,A=j.Tooltip,x=j.Panel,_=j.Collapse,P=j.Glyphicon,M=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),C=n("./MapStore2/web/client/actions/controls.js"),L=C.setControlProperty,R=C.toggleControl,I=n("./node_modules/lodash/lodash.js").partial,D=n("./node_modules/object-assign/index.js"),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,n,r,a=u(p);function p(){var e;s(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(f(e=a.call.apply(a,[this].concat(n))),"getToolConfig",(function(t){return t.tool?{}:e.props.toolCfg})),m(f(e),"getTool",(function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var n=function(){return{}},r={};return t.exclusive?(n=function(n){return{active:n.controls&&n.controls[e.props.stateSelector]&&n.controls[e.props.stateSelector].active===t.name}},r[e.props.eventSelector]=L.bind(null,e.props.stateSelector,"active",t.name,!0)):t.toggle?(n=function(n){return{bsStyle:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?e.props.activeStyle:e.props.toolStyle,active:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},r[e.props.eventSelector]=R.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(r[e.props.eventSelector]=I(t.action,e.context),n=t.selector||n),g(n,r,(function(t,n,r){return e.mergeHandlers(i(i({},r),t),n)}))(e.props.tool)})),m(f(e),"renderTool",(function(t,n){if(t.element)return t.element;var r=t.help?y.createElement(w,{className:"mapstore-helpbadge",helpText:t.help}):y.createElement("span",null),a=t.tooltip?y.createElement(E,{msgId:t.tooltip}):null,i=e.getTool(t),s=e.getToolConfig(t),l=t.childTools||[];return e.addTooltip(y.createElement(i,o({},s,{pluginCfg:t.cfg,tooltip:a,style:t.style,btnSize:e.props.toolSize,bsStyle:e.props.toolStyle,help:r,key:t.name||"tool"+n,mapType:e.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?y.createElement(P,{glyph:t.cfg.glyph}):t.icon,r," ",t.text,l.length>0&&y.createElement(p,o({},t.innerProps,{mapType:e.props.mapType,tools:l,panels:t.childPanels}))),t)})),m(f(e),"renderTools",(function(){return e.props.tools.map(e.renderTool)})),m(f(e),"renderPanels",(function(){return e.props.panels.filter((function(e){return!e.panel.loadPlugin})).map((function(t){var n=t.panel,r=y.createElement(n,o({key:t.name,mapType:e.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),a=t.title?y.createElement(E,{msgId:t.title}):null;return t.wrap?y.createElement(_,{key:"mapToolBar-item-collapse-"+t.name,in:e.props.activePanel===t.name},y.createElement(x,{header:a,style:e.props.panelStyle,className:e.props.panelClassName},r)):r}))})),m(f(e),"mergeHandlers",(function(e,t){return Object.keys(t).reduce((function(n,r){return D(n,m({},r,e[r]?h(e[r],t[r]):t[r]))}),e)})),m(f(e),"addTooltip",(function(t,n){if(n.tooltip){var r=y.createElement(A,{id:e.props.id+"-"+n.name+"-tooltip"},y.createElement(E,{msgId:n.tooltip}));return y.createElement(M,{key:e.props.id+"-"+n.name+"-overlay",rootClose:!0,placement:"left",overlay:r},t)}return t})),e}return t=p,(n=[{key:"render",value:function(){var e=this.props.container;return y.createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},y.createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}])&&l(t.prototype,n),r&&l(t,r),p}(y.Component);m(k,"propTypes",{id:b.string.isRequired,container:b.func,containerWrapperStyle:b.object,tool:b.func,className:b.string,style:b.object,tools:b.array,panels:b.array,mapType:b.string,toolStyle:b.string,activeStyle:b.string,toolSize:b.string,stateSelector:b.string.isRequired,eventSelector:b.string,panelStyle:b.object,panelClassName:b.string,activePanel:b.string,toolCfg:b.object}),m(k,"contextTypes",{messages:b.object,router:b.object}),m(k,"defaultProps",{container:x,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:T,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}}),e.exports=k},"./MapStore2/web/client/plugins/help/HelpWrapper.jsx":function(e,t,n){var r=n("./node_modules/react-redux/es/index.js").connect,o=n("./MapStore2/web/client/actions/help.js"),a=o.changeHelpwinVisibility,i=o.changeHelpText;e.exports=r((function(e){return{helpEnabled:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:i,changeHelpwinVisibility:a})(n("./MapStore2/web/client/components/help/HelpWrapper.jsx"))},"./MapStore2/web/client/plugins/identify/identify.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/identify/navigationButtons.js":function(e,t){var n=function(e){return!e.viewerOptions.header&&e.validResponses.length>1},r=function(e){return e.index>=e.validResponses.length-1},o=function(e){return e.index<=0};e.exports=function(e){return[{keyProp:"back",glyph:"arrow-left",tooltipId:o(e)?void 0:"wizard.prev",disabled:o(e),visible:n(e),onClick:function(){e.onPrevious()}},{keyProp:"forward",glyph:"arrow-right",tooltipId:r(e)?void 0:"wizard.next",disabled:r(e),visible:n(e),onClick:function(){e.onNext()}}].filter((function(e){return e&&e.visible}))}},"./MapStore2/web/client/plugins/identify/toolButtons.js":function(e,t){function n(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}e.exports=function(e){var t=e.showHighlightFeatureButton,r=e.currentFeature,o=e.highlight,a=e.toggleHighlightFeature,i=void 0===a?function(){}:a,s=e.zoomToFeature,l=void 0===s?function(){}:s,c=e.onEdit,u=void 0===c?function(){}:c,p=n(e,["showHighlightFeatureButton","currentFeature","highlight","toggleHighlightFeature","zoomToFeature","onEdit"]);return[{glyph:"info-sign",tooltipId:"identifyRevGeocodeSubmitText",visible:p.latlng&&p.enableRevGeocode&&p.lngCorrected,onClick:function(){p.showRevGeocode({lat:p.latlng.lat,lng:p.lngCorrected})}},{glyph:"search-coords",tooltipId:p.showCoordinateEditor?"identifyHideCoordinateEditor":"identifyShowCoordinateEditor",visible:p.enabledCoordEditorButton,bsStyle:p.showCoordinateEditor?"success":"primary",onClick:function(){p.onToggleShowCoordinateEditor(p.showCoordinateEditor)}},{glyph:"map-filter",visible:t,tooltipId:o?"identifyStopHighlightingFeatures":"identifyHighlightFeatures",bsStyle:o?"success":"primary",onClick:function(){return i(!o)}},{glyph:"zoom-to",visible:o&&!!r&&r.length>0&&r.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.geometry;return e||!!n}),!1),tooltipId:"identifyZoomToFeature",onClick:l},{glyph:"pencil",visible:p.showEdit,tooltipId:"identifyEdit",onClick:function(){return u()}}].filter((function(e){return e&&e.visible}))}},"./MapStore2/web/client/plugins/locale/Message.jsx":function(e,t,n){var r=n("./node_modules/react-redux/es/index.js").connect;e.exports=r((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(n("./MapStore2/web/client/components/I18N/Message.jsx"))},"./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$":function(e,t,n){var r={"./cesium/index":"./MapStore2/web/client/plugins/map/cesium/index.js","./leaflet/index":"./MapStore2/web/client/plugins/map/leaflet/index.js","./openlayers/index":"./MapStore2/web/client/plugins/map/openlayers/index.js"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$"},"./MapStore2/web/client/plugins/map/cesium/index.js":function(e,t,n){e.exports={LMap:n("./MapStore2/web/client/components/map/cesium/Map.jsx"),Layer:n("./MapStore2/web/client/components/map/cesium/Layer.jsx")}},"./MapStore2/web/client/plugins/map/css/map.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/map/index.js":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/reselect/es/index.js").createSelector,a=n("./MapStore2/web/client/actions/map.js"),i=a.creationError,s=a.changeMapView,l=a.clickOnMap,c=a.mouseMove,u=a.mouseOut,p=n("./MapStore2/web/client/actions/mapPopups.js").removePopup,f=n("./MapStore2/web/client/actions/layers.js"),d=f.layerLoading,m=f.layerLoad,y=f.layerError,b=n("./MapStore2/web/client/actions/measurement.js"),g=b.changeMeasurementState,h=b.changeGeometry,v=b.resetGeometry,S=b.updateMeasures,O=b.setTextLabels,w=n("./MapStore2/web/client/selectors/measurement.js").measurementSelector,E=n("./MapStore2/web/client/actions/selection.js").changeSelectionState,j=n("./MapStore2/web/client/actions/locate.js"),T=j.changeLocateState,A=j.onLocateError,x=n("./MapStore2/web/client/actions/draw.js"),_=x.changeDrawingStatus,P=x.endDrawing,M=x.setCurrentStyle,C=x.geometryChanged,L=x.drawStopped,R=x.selectFeatures,I=x.drawingFeatures,D=n("./MapStore2/web/client/actions/highlight.js").updateHighlighted,k=n("./MapStore2/web/client/actions/notifications.js").warning,N=n("./node_modules/react-redux/es/index.js").connect,F=n("./node_modules/object-assign/index.js"),G=n("./MapStore2/web/client/selectors/map.js"),U=G.projectionDefsSelector,B=G.isMouseMoveActiveSelector,z=function(){return r.createElement("span",null)};e.exports=function(e,t){var r=n("./MapStore2/web/client/plugins/map sync recursive ^\\.\\/.*\\/index$")("./"+e+"/index"),a=N((function(e){return{projectionDefs:U(e),mousePosition:B(e)}}),F({},{onCreationError:i,onMapViewChanges:s,onClick:l,onMouseMove:c,onLayerLoading:d,onLayerLoad:m,onLayerError:y,onWarning:k,onMouseOut:u},t),(function(e,t,n){return F({},n,e,F({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(r.LMap),f=N((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:w(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}}}),{changeMeasurementState:g,updateMeasures:S,resetGeometry:v,changeGeometry:h,setTextLabels:O})(r.MeasurementSupport||z),b=N((function(e){return{status:e.locate&&e.locate.state,messages:e.locale&&e.locale.messages?e.locale.messages.locate:void 0}}),{changeLocateState:T,onLocateError:A})(r.Locate||z),j=N((function(e){return e.draw||{}}),{onChangeDrawingStatus:_,onEndDrawing:P,onGeometryChanged:C,onSelectFeatures:R,onDrawingFeatures:I,onDrawStopped:L,setCurrentStyle:M})(r.DrawSupport||z),x=N((function(e){return e.highlight||{}}),{updateHighlighted:D})(r.HighlightFeatureSupport||z),G=N((function(e){return{selection:e.selection||{}}}),{changeSelectionState:E})(r.SelectionSupport||z);n("./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$")("./"+e+"/plugins/index");var H=N(null,{onWarning:k})(r.Layer||z),V=[],W=N(o((function(e){return e.mapPopups&&e.mapPopups.popups||V}),(function(e){return{popups:e}})),{onPopupClose:p})(r.PopupSupport||z);return{Map:a,Layer:H,Feature:r.Feature||z,tools:{measurement:f,locate:b,overview:r.Overview||z,scalebar:r.ScaleBar||z,draw:j,highlight:x,selection:G,popup:W}}}},"./MapStore2/web/client/plugins/map/leaflet/index.js":function(e,t,n){e.exports={LMap:n("./MapStore2/web/client/components/map/leaflet/Map.jsx"),Layer:n("./MapStore2/web/client/components/map/leaflet/Layer.jsx"),Feature:n("./MapStore2/web/client/components/map/leaflet/Feature.jsx"),Locate:n("./MapStore2/web/client/components/map/leaflet/Locate.jsx"),MeasurementSupport:n("./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx"),Overview:n("./MapStore2/web/client/components/map/leaflet/Overview.jsx"),ScaleBar:n("./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx"),DrawSupport:n("./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx"),HighlightFeatureSupport:n("./MapStore2/web/client/components/map/leaflet/HighlightFeatureSupport.jsx"),PopupSupport:n("./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx").default}},"./MapStore2/web/client/plugins/map/openlayers/index.js":function(e,t,n){var r=n("./MapStore2/web/client/components/I18N/enhancers/addI18NProps.js")(["formatNumber"]);e.exports={LMap:n("./MapStore2/web/client/components/map/openlayers/Map.jsx").default,Layer:n("./MapStore2/web/client/components/map/openlayers/Layer.jsx").default,Feature:n("./MapStore2/web/client/components/map/openlayers/Feature.jsx").default,Locate:n("./MapStore2/web/client/components/map/openlayers/Locate.jsx").default,MeasurementSupport:r(n("./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx").default),Overview:n("./MapStore2/web/client/components/map/openlayers/Overview.jsx").default,ScaleBar:n("./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx").default,DrawSupport:n("./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx").default,HighlightFeatureSupport:n("./MapStore2/web/client/components/map/openlayers/HighlightFeatureSupport.jsx").default,SelectionSupport:n("./MapStore2/web/client/components/map/openlayers/SelectionSupport.jsx").default,PopupSupport:n("./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx").default}},"./MapStore2/web/client/plugins/map/selector.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/reselect/es/index.js"),o=n("./MapStore2/web/client/selectors/map.js"),a=n("./MapStore2/web/client/selectors/maptype.js"),i=n("./MapStore2/web/client/selectors/layers.js"),s=n("./MapStore2/web/client/selectors/highlight.js"),l=n("./MapStore2/web/client/selectors/security.js"),c=n("./MapStore2/web/client/selectors/locale.js"),u=n("./MapStore2/web/client/selectors/localizedLayerStyles.js");t.default=Object(r.createStructuredSelector)({projectionDefs:o.projectionDefsSelector,map:o.mapSelector,mapType:a.mapTypeSelector,layers:i.layerSelectorWithMarkers,features:s.highlighedFeatures,loadingError:function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data},securityToken:l.securityTokenSelector,elevationEnabled:o.isMouseMoveCoordinatesActiveSelector,shouldLoadFont:a.isOpenlayers,isLocalizedLayerStylesEnabled:u.isLocalizedLayerStylesEnabledSelector,localizedLayerStylesName:u.localizedLayerStylesNameSelector,currentLocaleLanguage:c.currentLocaleLanguageSelector})},"./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/playback/Playback.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js").connect,a=n("./node_modules/reselect/es/index.js").createSelector,i=n("./node_modules/recompose/es/Recompose.js"),s=i.compose,l=i.withState,c=i.withProps,u=i.withHandlers,p=n("./MapStore2/web/client/selectors/timeline.js").selectedLayerSelector,f=n("./MapStore2/web/client/selectors/playback.js"),d=f.statusSelector,m=f.hasPrevNextAnimationSteps,y=f.playbackMetadataSelector,b=n("./MapStore2/web/client/actions/playback.js"),g=b.animationStepMove,h=b.STATUS,v=n("./MapStore2/web/client/components/I18N/Message.jsx"),S=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),O=n("./MapStore2/web/client/plugins/playback/Settings.jsx"),w=s(l("showSettings","onShowSettings",!1),l("collapsed","setCollapsed",!0),c((function(e){var t=e.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return t(!0)}}]}}))),E=s(o(a(d,p,y,m,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return t?e===h.PLAY||e===h.PAUSE?r:{hasNext:!!n.next,hasPrevious:!!n.previous}:{hasNext:!0,hasPrevious:!0}})),{stepMove:g}),u({forward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(1)}},backward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(-1)}}})),j=s(w,E);e.exports=j((function(e){var t=e.status,n=e.statusMap,o=e.play,a=void 0===o?function(){}:o,i=e.forward,s=void 0===i?function(){}:i,l=e.backward,c=void 0===l?function(){}:l,u=e.pause,p=void 0===u?function(){}:u,f=e.stop,d=void 0===f?function(){}:f,m=e.hasPrevious,y=e.hasNext,b=e.showSettings,g=e.onShowSettings,h=void 0===g?function(){}:g,w=e.settingsStyle,E=void 0===w?{}:w;return r.createElement("div",{style:{display:"flex"}},t!==n.PLAY&&t!==n.PAUSE&&b&&r.createElement(O,{style:E}),r.createElement(S,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:c,disabled:!m,tooltip:r.createElement(v,{msgId:"playback.backwardStep"})},{glyph:t===n.PLAY?"pause":"play",key:"play",active:t===n.PLAY||t===n.PAUSE,disabled:!y,bsStyle:t===n.PLAY||t===n.PAUSE?"success":"primary",onClick:function(){return t===n.PLAY?p():a()},tooltipId:y&&(t===n.PLAY?"playback.pause":t===n.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:t!==n.PLAY&&t!==n.PAUSE,onClick:d,tooltip:!(t!==n.PLAY&&t!==n.PAUSE)&&r.createElement(v,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:s,disabled:!y,tooltip:y&&r.createElement(v,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:t!==n.PLAY&&t!==n.PAUSE&&b?"success":"primary",active:(t!==n.PLAY||t!==n.PAUSE)&&!!b,disabled:t===n.PLAY||t===n.PAUSE,onClick:function(){return t!==n.PLAY&&h(!b)},tooltip:!(t===n.PLAY||t===n.PAUSE)&&r.createElement(v,{msgId:"playback.settings.tooltip"})}]}))}))},"./MapStore2/web/client/plugins/playback/Settings.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react-redux/es/index.js").connect,i=n("./node_modules/reselect/es/index.js").createSelector,s=n("./node_modules/moment/moment.js"),l=n("./node_modules/recompose/es/Recompose.js"),c=l.compose,u=l.withProps,p=l.withHandlers,f=n("./MapStore2/web/client/selectors/playback.js"),d=f.playbackSettingsSelector,m=f.playbackRangeSelector,y=n("./MapStore2/web/client/selectors/timeline.js"),b=y.selectedLayerSelector,g=y.rangeSelector,h=y.selectedLayerDataRangeSelector,v=n("./MapStore2/web/client/actions/playback.js"),S=v.selectPlaybackRange,O=v.changeSetting,w=v.toggleAnimationMode,E=n("./MapStore2/web/client/actions/timeline.js").onRangeChanged;e.exports=c(a(i(d,b,m,(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fixedStep:!t,playbackRange:n},e)})),{setPlaybackRange:S,onSettingChange:O,toggleAnimationMode:w}),c(a(i(g,h,(function(e,t){return{layerRange:t,viewRange:e}})),{moveTo:E}),p({toggleAnimationRange:function(e){var t=e.fixedStep,n=e.layerRange,r=e.viewRange,o=void 0===r?{}:r,a=e.setPlaybackRange,i=void 0===a?function(){}:a;return function(e){var r=t?o:n;r={startPlaybackTime:s(r&&r.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:s(r&&r.end||new Date).add(1,"days").toISOString()},i(e?r:void 0)}},setPlaybackToCurrentViewRange:function(e){var t=e.viewRange,n=void 0===t?{}:t,r=e.setPlaybackRange,o=void 0===r?function(){}:r;return function(){n.start&&n.end&&o({startPlaybackTime:s(n.start).toISOString(),endPlaybackTime:s(n.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(e){var t=e.setPlaybackRange,n=void 0===t?function(){}:t,r=e.layerRange;return function(){return r&&n({startPlaybackTime:r.start,endPlaybackTime:r.end})}}}),u((function(e){var t=e.playbackRange,n=e.fixedStep,r=e.moveTo,o=void 0===r?function(){}:r,a=e.setPlaybackToCurrentViewRange,i=void 0===a?function(){}:a,s=e.setPlaybackToCurrentLayerDataRange,l=void 0===s?function(){}:s;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:t.startPlaybackTime,end:t.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return i()}},{glyph:"1-layer",visible:!n,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return l()}}]}}))))(n("./MapStore2/web/client/components/playback/Settings.jsx"))},"./MapStore2/web/client/plugins/print/print.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/timeline/Timeline.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/react/index.js"),s=n("./node_modules/react-redux/es/index.js").connect,l=n("./node_modules/lodash/lodash.js"),c=l.isString,u=l.differenceBy,p=l.isNil,f=n("./MapStore2/web/client/selectors/dimension.js").currentTimeSelector,d=n("./MapStore2/web/client/actions/timeline.js"),m=d.selectTime,y=d.selectLayer,b=d.onRangeChanged,g=n("./MapStore2/web/client/selectors/timeline.js"),h=g.itemsSelector,v=g.loadingSelector,S=g.selectedLayerSelector,O=g.currentTimeRangeSelector,w=g.rangeSelector,E=g.timelineLayersSelector,j=n("./MapStore2/web/client/actions/dimension.js"),T=j.moveTime,A=j.setCurrentOffset,x=n("./MapStore2/web/client/actions/playback.js").selectPlaybackRange,_=n("./MapStore2/web/client/selectors/playback.js"),P=_.playbackRangeSelector,M=_.statusSelector,C=n("./node_modules/reselect/es/index.js"),L=C.createStructuredSelector,R=C.createSelector,I=n("./MapStore2/web/client/utils/ReselectUtils.js").createShallowSelectorCreator,D=n("./node_modules/recompose/es/Recompose.js"),k=D.compose,N=D.withPropsOnChange,F=D.defaultProps,G=n("./MapStore2/web/client/components/misc/enhancers/withMask.js"),U=n("./MapStore2/web/client/components/I18N/Message.jsx"),B=n("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),z=n("./MapStore2/web/client/components/time/enhancers/customTimesHandlers.js"),H=n("./MapStore2/web/client/components/time/enhancers/customTimesEnhancer.js"),V=n("./node_modules/moment/moment.js"),W=k(s(R(w,h,I((function(e,t){return e===t||!p(e)&&!p(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name}))(E,(function(e){return e})),v,(function(e,t,n,r){return{viewRange:e,items:t,layers:n,loading:r}}))),N((function(e,t){var n=e.layers,r=void 0===n?[]:n,o=e.loading,a=e.selectedLayer,i=t.layers,s=t.loading,l=t.selectedLayer,c=e.hideLayersName!==t.hideLayersName;return o!==s||a!==l||c||r&&i&&r.length!==i.length||u(r,i||[],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.title,r=e.name;return t+n+r})).length>0}),(function(e){var t=e.layers,n=void 0===t?[]:t,r=e.loading,o=void 0===r?{}:r,a=e.selectedLayer;return{groups:n.map((function(e){return{id:e.id,className:(o[e.id]?"loading":"")+(e.id&&e.id===a?" selected":""),content:'<div class="timeline-layer-label-container">'+(o[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===a?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(c(e.title)?e.title:e.name,"</div>")+"</div>"}}))}}))),Y=k(s(R(f,O,(function(e,t){return{currentTime:e,currentTimeRange:t}})),{setCurrentTime:m,moveCurrentRange:T,setOffset:A})),q=k(s(L({playbackRange:P,status:M}),{setPlaybackRange:x})),Z=k(s(R(S,(function(e){return{selectedLayer:e}})),{selectGroup:y})),K=k(s((function(){return{}}),{rangechangedHandler:b})),Q=k(Y,q,Z,z,K,W,F({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return V(e).utc()}}}),N(["viewRange","options"],(function(e){var t=e.viewRange,n=void 0===t?{}:t;return{options:o(o({},e.options),n)}})),N(["status"],(function(e){return{readOnly:"PLAY"===e.status}})),H,G((function(e){var t=e.loading;return t&&t.timeline}),(function(){return i.createElement("div",{style:{margin:"auto",fontWeight:"bold"}},i.createElement(B,{style:{display:"inline-block",verticalAlign:"middle"}}),i.createElement(U,{msgId:"loading"}))}),{white:!0})),X=n("./MapStore2/web/client/components/time/TimelineComponent.jsx");e.exports=Q(X)},"./MapStore2/web/client/plugins/timeline/TimelineToggle.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./node_modules/react/index.js"),l=n("./node_modules/rxjs/Rx.js"),c=n("./MapStore2/web/client/components/I18N/Message.jsx"),u=n("./node_modules/react-bootstrap/es/index.js"),p=u.Button,f=u.Glyphicon,d=n("./MapStore2/web/client/actions/timeline.js").setCollapsed,m=n("./MapStore2/web/client/selectors/timeline.js"),y=m.isCollapsed,b=m.hasLayers,g=n("./node_modules/recompose/es/Recompose.js"),h=g.compose,v=g.withHandlers,S=g.withProps,O=g.renderNothing,w=g.branch,E=g.mapPropsStream,j=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),T=n("./node_modules/reselect/es/index.js").createSelector,A=n("./node_modules/react-redux/es/index.js").connect,x=n("./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js"),_=h(S({collapseHintPopoverOptions:{placement:"top",props:{title:s.createElement("span",null,s.createElement(f,{glyph:"time"})," ",s.createElement("strong",null,s.createElement(c,{msgId:"timeline.collapsed.title"})))},content:s.createElement(c,{msgId:"timeline.collapsed.tooltip"})}}),E((function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter((function(e){return e.collapsed})).take(1).switchMap((function(e){var t=e.collapseHintPopoverOptions;return l.Observable.timer(5e3).startWith({popoverOptions:t}).concat(l.Observable.of({}))})).startWith({})}(e),(function(e,t){return a(a({},e),t)}))})),w((function(e){return e.popoverOptions}),x,j))(p);e.exports=h(A(T(y,b,(function(e,t){return{collapsed:e,visible:t}})),{setCollapsed:d}),w((function(e){return!e.visible}),O),v({onClick:function(e){var t=e.collapsed,n=e.setCollapsed;return function(){return n(!t)}}}),S((function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}})))((function(e){return s.createElement(_,r({},e,{bsSize:"xsmall"}),s.createElement(f,{glyph:"time"}))}))},"./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/product/assets/symbols/symbolMissing.svg":function(e,t,n){e.exports=n.p+"symbolMissing.svg"},"./MapStore2/web/client/reducers/additionallayers.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n("./MapStore2/web/client/actions/additionallayers.js"),c=l.UPDATE_ADDITIONAL_LAYER,u=l.REMOVE_ADDITIONAL_LAYER,p=l.UPDATE_OPTIONS_BY_OWNER,f=l.REMOVE_ALL_ADDITIONAL_LAYERS,d=n("./node_modules/lodash/lodash.js"),m=d.head,y=d.pickBy,b=d.identity,g=d.isObject,h=d.isArray;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=y({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},b),o=m(e.filter((function(e){return e.id===n.id})));return o?e.map((function(e){return e.id===n.id?i(i({},o),n):i({},e)})):[].concat(r(e),[n]);case p:var a=t.options,s=t.owner;return e.map((function(e,t){return e.owner===s?i(i({},e),{},{options:g(a)&&a[e.id]||h(a)&&a[t]||{}}):i({},e)}));case u:var l=t.id,d=t.owner;return d?e.filter((function(e){return e.owner!==d})):e.filter((function(e){return e.id!==l}));case f:return[];default:return e}}},"./MapStore2/web/client/reducers/backgroundselector.js":function(e,t,n){var r=n("./MapStore2/web/client/actions/backgroundselector.js"),o=r.ADD_BACKGROUND,a=r.SET_BACKGROUND_MODAL_PARAMS,i=r.UPDATE_BACKGROUND_THUMBNAIL,s=r.BACKGROUNDS_CLEAR,l=r.ALLOW_BACKGROUNDS_DELETION,c=r.REMOVE_BACKGROUND,u=r.CREATE_BACKGROUNDS_LIST,p=r.CLEAR_MODAL_PARAMETERS,f=r.CONFIRM_DELETE_BACKGROUND_MODAL,d=n("./MapStore2/web/client/actions/catalog.js").RESET_CATALOG,m=n("./node_modules/object-assign/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return m({},e,{source:t.source});case d:return m({},e,{source:"metadataExplorer"});case a:return m({},e,{modalParams:t.modalParams});case s:return m({},e,{backgrounds:[],removedBackgroundsThumbIds:[],modalParams:{},lastRemovedId:void 0});case i:if(t.id){var n=e.backgrounds||[],r=-1===n.findIndex((function(e){return e.id===t.id})),y=r?n.concat({id:t.id}):n,b=y.map((function(e){return e.id===t.id?m({},e,{id:t.id,thumbnail:t.thumbnailData}):m({},e)}));return m({},e,{backgrounds:b})}return e;case p:return m({},e,{modalParams:void 0});case c:var g=e.backgrounds||[],h=e.removedBackgroundsThumbIds||[],v=g.filter((function(e){return e.id!==t.backgroundId})),S=g.filter((function(e){return e.id===t.backgroundId&&!!e.thumbId})).map((function(e){return e.thumbId}));return m({},e,{backgrounds:v,removedBackgroundsThumbIds:h.concat(S),lastRemovedId:t.backgroundId});case u:return m({},e,{backgrounds:t.backgrounds});case f:return m({},e,{confirmDeleteBackgroundModal:{show:t.show,layerTitle:t.layerTitle,layerId:t.layerId}});case l:return m({},e,{allowDeletion:t.allow||!1});default:return e}}},"./MapStore2/web/client/reducers/currentMap.js":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("./MapStore2/web/client/actions/currentMap.js"),a=o.EDIT_MAP,i=o.UPDATE_CURRENT_MAP,s=o.ERROR_CURRENT_MAP,l=o.UPDATE_CURRENT_MAP_PERMISSIONS,c=o.UPDATE_CURRENT_MAP_GROUPS,u=o.RESET_CURRENT_MAP,p=o.ADD_CURRENT_MAP_PERMISSION,f=n("./MapStore2/web/client/actions/maps.js"),d=f.THUMBNAIL_ERROR,m=f.MAP_UPDATING,y=f.SAVE_MAP,b=f.DISPLAY_METADATA_EDIT,g=f.RESET_UPDATING,h=f.MAP_ERROR,v=f.MAP_CREATED,S=f.PERMISSIONS_LIST_LOADING,O=f.PERMISSIONS_LIST_LOADED,w=f.TOGGLE_DETAILS_SHEET,E=f.UPDATE_DETAILS,j=f.SAVE_DETAILS,T=f.DELETE_DETAILS,A=f.BACK_DETAILS,x=f.UNDO_DETAILS,_=f.TOGGLE_GROUP_PROPERTIES,P=f.TOGGLE_UNSAVED_CHANGES,M=f.SET_DETAILS_CHANGED,C=f.SET_UNSAVED_CHANGES,L=f.METADATA_CHANGED,R=f.DETAILS_SAVING,I=f.TOGGLE_DETAILS_EDITABILITY,D=n("./node_modules/object-assign/index.js"),k=n("./node_modules/lodash/lodash.js").isArray;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:return D({},e,t.map,{newThumbnail:t.map&&t.map.thumbnail?t.map.thumbnail:null,displayMetadataEdit:t.openModalProperties,thumbnailError:null,errors:[],metadata:{name:t.map.name,description:t.map.description},hideGroupProperties:!1,detailsSheetReadOnly:!0});case I:return D({},e,{editDetailsDisabled:!e.editDetailsDisabled});case i:return D({},e,{newThumbnail:t.thumbnail,thumbnailData:t.thumbnailData,unsavedChanges:!0});case m:return D({},e,{updating:!0});case l:var n=[];return t.permissions&&t.permissions.SecurityRuleList&&t.permissions.SecurityRuleList.SecurityRule&&(k(t.permissions.SecurityRuleList.SecurityRule)?n=t.permissions.SecurityRuleList.SecurityRule:n.push(t.permissions.SecurityRuleList.SecurityRule)),D({},e,{permissions:{SecurityRuleList:{SecurityRule:n}}});case c:return D({},e,{availableGroups:t.groups});case p:var o={SecurityRuleList:{SecurityRule:e.permissions&&e.permissions.SecurityRuleList&&e.permissions.SecurityRuleList.SecurityRule?e.permissions.SecurityRuleList.SecurityRule.slice():[]}};return t.rule&&o.SecurityRuleList.SecurityRule.push(t.rule),D({},e,{permissions:o});case s:return D({},e,{thumbnailError:null,mapError:null,errors:t.errors});case d:return D({},e,{thumbnailError:t.error,errors:[],updating:!1});case h:return D({},e,{mapError:t.error,errors:[],updating:!1});case y:return D({},e,{thumbnailError:null});case b:return D({},e,{displayMetadataEdit:t.displayMetadataEditValue});case g:return D({},e,{updating:!1});case v:return D({},e,{mapId:t.resourceId});case S:return D({},e,{permissionLoading:!0});case O:return D({},e,{permissionLoading:!1});case u:return{};case w:return D({},e,{showDetailEditor:!e.showDetailEditor,detailsBackup:e.showDetailEditor||e.detailsDeleted?e.detailsBackup:"",detailsSheetReadOnly:t.detailsSheetReadOnly});case L:var f=t.prop;return D({},e,{metadata:D({},e.metadata,r({},t.prop,t.value)),unsavedChanges:("name"===f?t.value:e.metadata.name)!==e.name||("description"===f?t.value:e.metadata.description)!==e.description});case E:return D({},e,{detailsText:t.detailsText,originalDetails:t.originalDetails||e.originalDetails,detailsBackup:t.doBackup?e.detailsText:e.detailsBackup});case A:return D({},e,{detailsText:e.detailsDeleted?"":t.backupDetails,detailsBackup:e.detailsDeleted?e.detailsBackup:"",showDetailEditor:!1});case x:return D({},e,{detailsText:e.detailsBackup,detailsBackup:"",detailsDeleted:!1});case j:return t.detailsText.length<=5e5?D({},e,{detailsText:t.detailsText,detailsBackup:"",detailsDeleted:!1}):e;case R:return D({},e,{saving:t.saving});case T:return D({},e,{detailsText:"",detailsBackup:e.detailsText,detailsChanged:!0,unsavedChanges:!0,detailsDeleted:!0});case C:return D({},e,{unsavedChanges:t.value});case _:return D({},e,{hideGroupProperties:!e.hideGroupProperties});case P:return D({},e,{showUnsavedChanges:!e.showUnsavedChanges});case M:return D({},e,{unsavedChanges:t.detailsChanged?t.detailsChanged:e.unsavedChanges,detailsChanged:t.detailsChanged});default:return e}}},"./MapStore2/web/client/reducers/dimension.js":function(e,t,n){var r=n("./MapStore2/web/client/actions/dimension.js"),o=r.UPDATE_LAYER_DIMENSION_DATA,a=r.SET_CURRENT_TIME,i=r.SET_OFFSET_TIME,s=r.MOVE_TIME,l=n("./MapStore2/web/client/actions/layers.js").REMOVE_NODE,c=n("./MapStore2/web/client/actions/controls.js").RESET_CONTROLS,u=n("./MapStore2/web/client/utils/ImmutableUtils.js").set,p=n("./node_modules/moment/moment.js"),f=n("./node_modules/lodash/lodash.js"),d=f.mapValues,m=f.pickBy;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return u("data[".concat(t.dimension,"][").concat(t.layerId,"]"),t.data,e);case a:return u("currentTime",t.time,e);case i:return u("offsetTime",t.offsetTime,e);case s:if(e.offsetTime&&e.currentTime){var n=p(e.offsetTime).diff(e.currentTime),r=p(t.time).add(n);return u("currentTime",t.time,u("offsetTime",r.toISOString(),e))}return u("currentTime",t.time,e);case l:var f=d(e.data,(function(e){return m(e,(function(e,n){return n!==t.node}))}));return u("data",f,e);case c:return u("data",void 0,u("currentTime",void 0,u("offsetTime",void 0,e)));default:return e}}},"./MapStore2/web/client/reducers/draw.js":function(e,t,n){var r=n("./MapStore2/web/client/actions/draw.js"),o=r.CHANGE_DRAWING_STATUS,a=r.SET_CURRENT_STYLE,i=r.GEOMETRY_CHANGED,s=r.DRAW_SUPPORT_STOPPED,l=n("./node_modules/object-assign/index.js"),c={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return l({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case a:return l({},e,{currentStyle:t.currentStyle});case i:return l({},e,{tempFeatures:t.features});case s:return l({},e,{tempFeatures:[]});default:return e}}},"./MapStore2/web/client/reducers/highlight.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./MapStore2/web/client/actions/highlight.js"),s=i.HIGHLIGHT_STATUS,l=i.UPDATE_HIGHLIGHTED,c=i.SET_HIGHLIGHT_FEATURES_PATH,u=n("./node_modules/object-assign/index.js"),p={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return u({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case s:return o(o({},e),{},{status:t.status});case l:return o(o({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}}},"./MapStore2/web/client/reducers/mapInfo.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=n("./MapStore2/web/client/actions/mapInfo.js"),c=l.ERROR_FEATURE_INFO,u=l.EXCEPTIONS_FEATURE_INFO,p=l.LOAD_FEATURE_INFO,f=l.CHANGE_MAPINFO_STATE,d=l.NEW_MAPINFO_REQUEST,m=l.PURGE_MAPINFO_RESULTS,y=l.CHANGE_MAPINFO_FORMAT,b=l.SHOW_MAPINFO_MARKER,g=l.HIDE_MAPINFO_MARKER,h=l.SHOW_REVERSE_GEOCODE,v=l.HIDE_REVERSE_GEOCODE,S=l.GET_VECTOR_INFO,O=l.NO_QUERYABLE_LAYERS,w=l.CLEAR_WARNING,E=l.FEATURE_INFO_CLICK,j=l.TOGGLE_HIGHLIGHT_FEATURE,T=l.CHANGE_PAGE,A=l.TOGGLE_MAPINFO_STATE,x=l.UPDATE_CENTER_TO_MARKER,_=l.TOGGLE_EMPTY_MESSAGE_GFI,P=l.CHANGE_FORMAT,M=l.TOGGLE_SHOW_COORD_EDITOR,C=l.SET_CURRENT_EDIT_FEATURE_QUERY,L=n("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,R=n("./MapStore2/web/client/actions/controls.js").RESET_CONTROLS,I=n("./node_modules/object-assign/index.js"),D=n("./node_modules/lodash/lodash.js").head;function k(e,t,n){if(D((e.requests||[]).filter((function(e){return e.reqId===t.reqId})))){var r=e.responses||[];return I({},e,{responses:[].concat(i(r),[{response:t[n],queryParams:t.requestParams,layerMetadata:t.layerMetadata,layer:t.layer}])})}return e}var N={enabled:!0,configuration:{}};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return I({},e,{warning:"NO_QUERYABLE_LAYERS"});case w:return I({},e,{warning:null});case f:return I({},e,{enabled:t.enabled});case A:return I({},e,{enabled:!e.enabled});case T:return I({},e,{index:t.index});case j:return I({},e,{highlight:t.enabled});case d:var r=t.reqId,a=t.request,s=e.requests||[];return I({},e,{requests:[].concat(i(s),[{request:a,reqId:r}])});case m:return I({},e,{responses:[],requests:[]});case p:return k(e,t,"data");case u:return k(e,t,"exceptions");case c:return k(e,t,"error");case E:return I({},e,{clickPoint:t.point,clickLayer:t.layer||null,itemId:t.itemId||null,overrideParams:t.overrideParams||null,filterNameList:t.filterNameList||null});case y:return o(o({},e),{},{configuration:o(o({},e.configuration),{},{infoFormat:t.infoFormat})});case b:return I({},e,{showMarker:!0});case g:return I({},e,{showMarker:!1});case h:return I({},e,{showModalReverse:!0,reverseGeocodeData:t.reverseGeocodeData});case v:return I({},e,{showModalReverse:!1,reverseGeocodeData:void 0});case R:return I({},e,{showMarker:!1,responses:[],requests:[]});case S:var l=n("./node_modules/turf-buffer/index.js"),D=n("./node_modules/turf-intersect/index.js"),F={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.request.lng,t.request.lat]}},G=t.metadata&&t.metadata.units;switch(G){case"m":G="meters";break;case"deg":G="degrees";break;case"mi":G="miles";break;default:G="meters"}var U=t.metadata&&t.metadata.resolution||1,B=l(F,(t.metadata.buffer||1)*U,G),z=(t.layer.features||[]).filter((function(e){try{return"FeatureCollection"===e.type&&e.features&&e.features.length?e.features.reduce((function(e,n){var r=n.properties.useGeodesicLines&&n.properties.geometryGeodesic?o(o({},n),{},{geometry:n.properties.geometryGeodesic}):n;return e||D(B,U&&t.metadata.buffer&&G?l(r,1,"meters"):r)}),!1):D(B,U&&t.metadata.buffer&&G?l(e,1,"meters"):e)}catch(e){return!1}})),H=e.responses||[];return I({},e,{requests:[].concat(i(e.requests),[{}]),responses:[].concat(i(H),[{response:{crs:null,features:z,totalFeatures:"unknown",type:"FeatureCollection"},queryParams:t.request,layerMetadata:t.metadata,format:"JSON"}])});case x:return I({},e,{centerToMarker:t.status});case _:return o(o({},e),{},{configuration:o(o({},e.configuration),{},{showEmptyMessageGFI:!e.configuration.showEmptyMessageGFI})});case L:return o(o({},e),{},{configuration:t.config.mapInfoConfiguration||e.configuration||{}});case P:return o(o({},e),{},{formatCoord:t.format});case M:return o(o({},e),{},{showCoordinateEditor:!t.showCoordinateEditor});case C:return o(o({},e),{},{currentEditFeatureQuery:t.query});default:return e}}},"./MapStore2/web/client/reducers/maplayout.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=n("./MapStore2/web/client/actions/maplayout.js").UPDATE_MAP_LAYOUT,l=n("./node_modules/object-assign/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{layout:{},boundingMapRect:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=t.layout,r=n.boundingMapRect,a=void 0===r?{}:r,c=i(n,["boundingMapRect"]);return l({},e,{layout:l({},c,c),boundingMapRect:o({},a)});default:return e}}},"./MapStore2/web/client/reducers/maps.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n("./MapStore2/web/client/actions/maps.js"),c=l.MAPS_LIST_LOADED,u=l.MAPS_LIST_LOADING,p=l.MAPS_LIST_LOAD_ERROR,f=l.MAP_CREATED,d=l.MAP_ERROR,m=l.MAP_UPDATING,y=l.MAP_METADATA_UPDATED,b=l.MAP_DELETING,g=l.ATTRIBUTE_UPDATED,h=l.PERMISSIONS_LIST_LOADING,v=l.PERMISSIONS_LIST_LOADED,S=l.SAVE_MAP,O=l.PERMISSIONS_UPDATED,w=l.THUMBNAIL_ERROR,E=l.RESET_UPDATING,j=l.MAPS_SEARCH_TEXT_CHANGED,T=l.SEARCH_FILTER_CHANGED,A=l.SET_SEARCH_FILTER,x=l.SET_CONTEXTS,_=l.LOADING,P=l.METADATA_CHANGED,M=l.SHOW_DETAILS,C=n("./MapStore2/web/client/actions/currentMap.js"),L=C.EDIT_MAP,R=C.RESET_CURRENT_MAP,I=n("./node_modules/object-assign/index.js"),D=n("./node_modules/lodash/lodash.js"),k=D.isArray,N=D.isNil;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,showMapDetails:!0,errors:[],searchFilter:{},searchText:"",results:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return I({},e,{searchText:t.text});case T:return I({},e,{searchFilter:i(i({},e.searchFilter),{},s({},t.filter,t.filterData))});case A:return I({},e,{searchFilter:t.searchFilter});case x:return I({},e,{contexts:t.contexts});case _:return I({},e,{loading:t.value,loadFlags:i(i({},e.loadFlags||{}),"loading"!==t.name?s({},t.name,t.value):{})});case P:return I({},e,{metadata:I({},e.metadata,s({},t.prop,t.value))});case M:return I({},e,{showMapDetails:t.showMapDetails});case L:return I({},e,{metadata:{name:t.map&&t.map.name||e&&e.metadata&&e.metadata.name||"",description:t.map&&t.map.description||e&&e.metadata&&e.metadata.description||""}});case R:return I({},e,{metadata:{name:"",description:""}});case u:return I({},e,{loading:!0,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});case c:if(t.maps&&t.maps.results&&Array.isArray(t.maps.results))return I({},e,t.maps,{loading:!1,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});var n=""!==t.maps.results?[t.maps.results]:[];return I({},e,t.maps,{results:n,loading:!1});case p:return{loadingError:t.error};case m:for(var o=""===e.results||N(e.results)?[]:r(e.results),a=0;a<o.length;a++)o[a].id&&o[a].id===t.resourceId&&(o[a]=I({},o[a],{updating:!0}));return I({},e,{results:o});case y:for(var l=""===e.results?[]:r(e.results),C=0;C<l.length;C++)l[C].id&&l[C].id===t.resourceId&&(l[C]=I({},l[C],{description:t.newDescription,name:t.newName,updating:!1}));return I({},e,{results:l});case g:for(var D=""===e.results?[]:r(e.results),F=0;F<D.length;F++){var G;if(D[F].id&&D[F].id===t.resourceId)D[F]=I({},D[F],(s(G={},t.name,decodeURIComponent(t.value)),s(G,"updating",!1),s(G,"loadingError",t.error?t.error:null),G))}return I({},e,{results:D});case O:for(var U=""===e.results?[]:r(e.results),B=0;B<U.length;B++)U[B].id&&U[B].id===t.resourceId&&(U[B]=I({},U[B],{loadingError:t.error?t.error:null}));return I({},e,{results:U});case b:for(var z=""===e.results?[]:r(e.results),H=0;H<z.length;H++)z[H].id&&z[H].id===t.resourceId&&(z[H]=I({},z[H],{deleting:!0}));return I({},e,{results:z});case f:var V=""===e.results?[]:r(e.results),W={results:[].concat(r(V),[t.metadata]),totalCount:e.totalCount+1};return I({},e,W);case S:for(var Y=""===e.results?[]:r(e.results),q=0;q<Y.length;q++)Y[q].id&&Y[q].id===t.resourceId&&(Y[q]=I({},Y[q],{files:t.map&&t.map.files,errors:t.map&&t.map.errors,newThumbnail:t.map&&t.map.newThumbnail,thumbnailError:t.map&&t.map.thumbnailError,thumbnail:t.map&&t.map.thumbnail}));return I({},e,{results:Y});case w:case d:case E:for(var Z=""===e.results?[]:r(e.results),K=0;K<Z.length;K++)Z[K].id&&Z[K].id===t.resourceId&&(Z[K]=I({},Z[K],{updating:!1}));return I({},e,{results:Z});case h:var Q=""===e.results?[]:r(e.results),X=I({},e,{results:Q.map((function(e){return e.id===t.mapId?I({},e,{permissionLoading:!0}):e}))});return X;case v:var J=""===e.results?[]:r(e.results||[]),$=I({},e,{results:J.map((function(e){if(e.id===t.mapId){var n=[];return t.permissions&&t.permissions.SecurityRuleList&&t.permissions.SecurityRuleList.SecurityRule&&(k(t.permissions.SecurityRuleList.SecurityRule)?n=t.permissions.SecurityRuleList.SecurityRule:n.push(t.permissions.SecurityRuleList.SecurityRule)),I({},e,{permissionLoading:!1,permissions:{SecurityRuleList:{SecurityRule:n}}})}return e}))});return $;default:return e}}},"./MapStore2/web/client/reducers/maptype.js":function(e,t,n){var r=n("./MapStore2/web/client/actions/maptype.js").MAP_TYPE_CHANGED;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return{mapType:t.mapType};default:return e}}},"./MapStore2/web/client/reducers/playback.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=n("./MapStore2/web/client/actions/playback.js"),i=a.PLAY,s=a.PAUSE,l=a.STOP,c=a.STATUS,u=a.SET_FRAMES,p=a.APPEND_FRAMES,f=a.FRAMES_LOADING,d=a.SET_CURRENT_FRAME,m=a.SELECT_PLAYBACK_RANGE,y=a.CHANGE_SETTING,b=a.UPDATE_METADATA,g=n("./MapStore2/web/client/actions/controls.js").RESET_CONTROLS,h=n("./MapStore2/web/client/utils/ImmutableUtils.js").set,v={timeStep:1,stepUnit:"days",frameDuration:2,following:!0};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:c.STOP,currentFrame:-1,settings:v},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return h("status",c.PLAY,e);case s:return h("status",c.PAUSE,e);case l:return h("status",c.STOP,h("currentFrame",-1,e));case u:return h("frames",t.frames,h("currentFrame",-1,e));case f:return h("framesLoading",t.loading,e);case p:return h("frames",[].concat(r(e.frames||[]),r(t.frames)),e);case d:return h("currentFrame",t.frame,e);case m:return h("playbackRange",t.range,e);case y:return h("settings[".concat(t.name,"]"),t.value,e);case b:return h("metadata",{next:t.next,previous:t.previous,forTime:t.forTime},e);case g:return h("metadata",void 0,h("framesLoading",void 0,h("playbackRange",void 0,h("frames",void 0,h("currentFrame",-1,h("status","STOP",h("settings",v,e)))))));default:return e}}},"./MapStore2/web/client/reducers/print.js":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("./MapStore2/web/client/actions/print.js"),a=o.SET_PRINT_PARAMETER,i=o.PRINT_CAPABILITIES_LOADED,s=o.PRINT_CAPABILITIES_ERROR,l=o.CONFIGURE_PRINT_MAP,c=o.CHANGE_PRINT_ZOOM_LEVEL,u=o.CHANGE_MAP_PRINT_PREVIEW,p=o.PRINT_SUBMITTING,f=o.PRINT_CREATED,d=o.PRINT_ERROR,m=o.PRINT_CANCEL,y=n("./MapStore2/web/client/actions/controls.js").TOGGLE_CONTROL,b=n("./node_modules/lodash/lodash.js"),g=b.isObject,h=b.get,v=n("./node_modules/object-assign/index.js"),S={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("_")[0]};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:S,capabilities:null,map:null,isLoading:!1,pdfUrl:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return"print"===t.control?v({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case i:var n=h(t,"capabilities.layouts",[{name:"A4"}]),o=n.filter((function(t){return O(t.name)===e.spec.sheet})).length?e.spec.sheet:O(n[0].name);return v({},e,{capabilities:t.capabilities,spec:v({},e.spec||{},{sheet:o,resolution:t.capabilities&&t.capabilities.dpis&&t.capabilities.dpis.length&&t.capabilities.dpis[0].value})});case a:return v({},e,{spec:v({},e.spec,r({},t.name,t.value))});case l:var b=t.layers.map((function(e){return e.title?v({},e,{title:g(e.title)&&t.currentLocale&&e.title[t.currentLocale]||g(e.title)&&e.title.default||e.title}):e}));return v({},e,{map:{center:t.center,zoom:t.zoom,scaleZoom:t.scaleZoom,scale:t.scale,layers:b,projection:t.projection},error:null});case c:var w=t.zoom-e.map.scaleZoom;return v({},e,{map:v({},e.map,{scaleZoom:t.zoom,zoom:e.map.zoom+w,scale:t.scale})});case u:return v({},e,{map:v({},e.map,{size:t.size})});case p:return v({},e,{isLoading:!0,pdfUrl:null,error:null});case f:return v({},e,{isLoading:!1,pdfUrl:t.url,error:null});case d:case s:return v({},e,{isLoading:!1,pdfUrl:null,error:t.error});case m:return v({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}}},"./MapStore2/web/client/reducers/timeline.js":function(e,t,n){var r=n("./MapStore2/web/client/actions/timeline.js").RANGE_CHANGED,o=n("./MapStore2/web/client/actions/layers.js").REMOVE_NODE,a=n("./MapStore2/web/client/actions/controls.js").RESET_CONTROLS,i=n("./MapStore2/web/client/actions/timeline.js"),s=i.RANGE_DATA_LOADED,l=i.LOADING,c=i.SELECT_LAYER,u=i.SET_COLLAPSED,p=i.SET_MAP_SYNC,f=n("./MapStore2/web/client/utils/ImmutableUtils.js").set,d=n("./node_modules/lodash/lodash.js"),m=d.assign,y=d.pickBy,b=d.has;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return f("settings.collapsed",t.collapsed,e);case p:return f("settings.mapSync",t.mapSync,e);case r:return f("range",{start:t.start,end:t.end},e);case s:return f("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case l:return t.layerId?f("loading[".concat(t.layerId,"]"),t.loading,e):f("loading.timeline",t.loading,e);case c:return f("selectedLayer",t.layerId,e);case o:var n=e;return m({},e,{rangeData:b(n.rangeData,t.node)?y(n.rangeData,(function(e,n){return n!==t.node})):n.rangeData,loading:b(n.rangeData,t.node)?y(n.loading,(function(e,n){return n!==t.node})):n.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case a:return m({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0});default:return e}}},"./MapStore2/web/client/selectors/backgroundselector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"metadataSourceSelector",(function(){return s})),n.d(t,"modalParamsSelector",(function(){return l})),n.d(t,"backgroundListSelector",(function(){return c})),n.d(t,"isDeletedIdSelector",(function(){return u})),n.d(t,"removedBackgroundsThumbIdsSelector",(function(){return p})),n.d(t,"confirmDeleteBackgroundModalSelector",(function(){return f})),n.d(t,"backgroundControlsSelector",(function(){return d})),n.d(t,"allowBackgroundsDeletionSelector",(function(){return m})),n.d(t,"backgroundLayersSelector",(function(){return y}));var r=n("./node_modules/reselect/es/index.js"),o=n("./MapStore2/web/client/selectors/layers.js"),a=n("./MapStore2/web/client/selectors/maptype.js"),i=n("./MapStore2/web/client/utils/LayersUtils.js"),s=function(e){return e.backgroundSelector&&e.backgroundSelector.source},l=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},c=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},u=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},p=function(e){return e.backgroundSelector&&e.backgroundSelector.removedBackgroundsThumbIds},f=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},d=function(e){return e.controls&&e.controls.backgroundSelector||{}},m=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},y=Object(r.createSelector)(o.layersSelector,a.mapTypeSelector,(function(e,t){return e.filter((function(e){return e&&"background"===e.group})).map((function(e){return Object(i.invalidateUnsupportedLayer)(e,t)}))||[]}))},"./MapStore2/web/client/selectors/catalog.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/reselect/es/index.js"),s=i.createSelector,l=i.createStructuredSelector,c=n("./node_modules/lodash/lodash.js"),u=c.get,p=c.pick,f=function(e){return u(e,"catalog.default.staticServices")},d=function(e){return u(e,"catalog.services")},m=s(f,d,(function(e,t){return o(o({},t),p(e,"default_map_backgrounds"))})),y=function(e){return u(e,'catalog.default.staticServices["'.concat(u(e,"catalog.selectedService"),'"].type'),"csw")},b=n("./MapStore2/web/client/selectors/map.js").projectionSelector;e.exports={groupSelector:function(e){return u(e,"controls.metadataexplorer.group")},savingSelector:function(e){return u(e,"catalog.saving")},resultSelector:function(e){return u(e,"catalog.result")},serviceListOpenSelector:function(e){return u(e,"catalog.openCatalogServiceList")},newServiceSelector:function(e){return u(e,"catalog.newService")},staticServicesSelector:f,servicesSelector:d,servicesSelectorWithBackgrounds:m,newServiceTypeSelector:function(e){return u(e,"catalog.newService.type","csw")},selectedCatalogSelector:function(e){return u(e,'catalog.services["'.concat(u(e,"catalog.selectedService"),'"]'))},selectedStaticServiceTypeSelector:y,selectedServiceTypeSelector:function(e){return u(e,'catalog.services["'.concat(u(e,"catalog.selectedService"),'"].type'),y(e))},selectedServiceLayerOptionsSelector:function(e){return u(e,'catalog.services["'.concat(u(e,"catalog.selectedService"),'"].layerOptions'),{})},searchOptionsSelector:function(e){return u(e,"catalog.searchOptions")},loadingErrorSelector:function(e){return u(e,"catalog.loadingError")},loadingSelector:function(e){return u(e,"catalog.loading",!1)},selectedServiceSelector:function(e){return u(e,"catalog.selectedService")},modeSelector:function(e){return u(e,"catalog.mode","view")},layerErrorSelector:function(e){return u(e,"catalog.layerError")},searchTextSelector:function(e){return u(e,"catalog.searchOptions.text","")},activeSelector:function(e){return"metadataexplorer"===u(e,"controls.toolbar.active")||u(e,"controls.metadataexplorer.enabled")},authkeyParamNameSelector:function(e){return(u(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},pageSizeSelector:function(e){return u(e,"catalog.pageSize",4)},delayAutoSearchSelector:function(e){return u(e,"catalog.delayAutoSearch",1e3)},catalogSearchInfoSelector:l({projection:b})}},"./MapStore2/web/client/selectors/featuregrid.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/lodash/lodash.js"),s=i.head,l=i.get,c=i.isObject,u=n("./MapStore2/web/client/selectors/layers.js").getLayerFromId,p=n("./MapStore2/web/client/utils/ogc/WFS/base.js").findGeometryProperty,f=n("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,d=n("./MapStore2/web/client/utils/MapUtils.js").isSimpleGeomType,m=n("./MapStore2/web/client/utils/FeatureGridUtils.js").toChangesMap,y=n("./MapStore2/web/client/selectors/dimension.js").layerDimensionSelectorCreator,b=n("./MapStore2/web/client/selectors/security.js").userRoleSelector,g=n("./MapStore2/web/client/selectors/maptype.js").isCesium,h=u,v=function(e){return l(e,"featuregrid.selectedLayer")},S=function(e,t){return l(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))},O=n("./MapStore2/web/client/selectors/query.js"),w=O.attributesSelector,E=O.describeSelector,j=function(e){return e&&e.featuregrid&&e.featuregrid.select},T=function(e){return e&&e.featuregrid&&e.featuregrid.changes},A=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},x=function(e){return s(j(e))},_=function(e){var t=E(e);if(t){var n=p(t);return n&&n.localType}return null},P=["Geometry","GeometryCollection"],M=function(e){return T(e)&&T(e).length>0},C=function(e){return A(e)&&A(e).length>0},L=function(e){return e&&e.featuregrid&&e.featuregrid.filters},R=function(e){return l(e,"featuregrid.editingAllowedRoles",["ADMIN"])},I=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit};e.exports={isFeatureGridOpen:function(e){return e&&e.featuregrid&&e.featuregrid.open},getAttributeFilters:L,getAttributeFilter:function(e,t){return l(L(e),t)},selectedLayerIdSelector:v,getCustomAttributeSettings:S,getTitleSelector:function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(h(e,v(e)));return c(t)?t[f(e)]||t.default||"":t},getCustomizedAttributes:function(e){return(w(e)||[]).map((function(t){var n=S(e,t);return n?o(o({},t),n):t}))},modeSelector:function(e){return e&&e.featuregrid&&e.featuregrid.mode},selectedFeaturesSelector:j,selectedFeatureSelector:x,selectedFeaturesCount:function(e){return(j(e)||[]).length},changesSelector:T,toChangesMap:m,changesMapSelector:function(e){return m(T(e))},hasChangesSelector:M,hasGeometrySelector:function(e){return function(e){var t=x(e);if(t){var n=m(T(e));return!(!n[t.id]||null===n[t.id].geometry)||(!n[t.id]||null!==n[t.id].geometry)&&((!t._new||!s(A(e))||null!==s(A(e)).geometry)&&(!(!t._new||!s(A(e))||null===s(A(e)).geometry)||null!==t.geometry))}return!1}(e)},newFeaturesSelector:A,hasNewFeaturesSelector:C,showAgainSelector:function(e){return l(e,"featuregrid.showAgain",!1)},showTimeSync:function(e){if(l(e,"featuregrid.showTimeSync",!1)){var t=v(e);return y({id:t},"time")(e)}return null},timeSyncActive:function(e){return l(e,"featuregrid.timeSync",!1)},showPopoverSyncSelector:function(e){return l(e,"featuregrid.showPopoverSync",!0)},isSavingSelector:function(e){return e&&e.featuregrid&&e.featuregrid.saving},editingAllowedRolesSelector:R,isSavedSelector:function(e){return e&&e.featuregrid&&e.featuregrid.saved},isDrawingSelector:function(e){return e&&e.featuregrid&&e.featuregrid.drawing},geomTypeSelectedFeatureSelector:_,chartDisabledSelector:function(e){return l(e,"featuregrid.chartDisabled",!1)},hasNewFeaturesOrChanges:function(e){return C(e)||M(e)},isSimpleGeomSelector:function(e){return d(_(e))},canEditSelector:I,hasSupportedGeometry:function(e){return!s(P.filter((function(t){return _(e)===t})))},getDockSize:function(e){return e.featuregrid&&e.featuregrid.dockSize},selectedLayerNameSelector:function(e){var t=h(e,v(e));return t&&t.name||""},queryOptionsSelector:function(e){var t=function(e){return l(h(e,v(e)),"params")}(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},isEditingAllowedSelector:function(e){var t=b(e),n=R(e)||["ADMIN"],r=I(e);return(-1!==n.indexOf(t)||r)&&!g(e)},selectedLayerSelector:function(e){return h(e,v(e))}}},"./MapStore2/web/client/selectors/highlight.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=n("./node_modules/lodash/lodash.js").get,i=n("./node_modules/reselect/es/index.js").createSelector,s=n("./MapStore2/web/client/utils/CoordinatesUtils.js").reprojectGeoJson,l=function(e){return a(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]},c=function(e){return a(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},u=function(e){return c(e)&&c(e).geometry},p=function(e){return u(e)&&u(e).type||"Polygon"},f=function(e){return u(e)&&u(e).coordinates||[]},d=function(e){return u(e)&&u(e).projection||"EPSG:3857"},m=function(e){return u(e)&&u(e).id||"spatial_object"},y=i([f,p,m,d],(function(e,t,n,r){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:n}]};return e.length>0&&t?s(o,r,"EPSG:4326").features:[]})),b=i([y,l],(function(e,t){return[].concat(r(t),r(e))}));e.exports={selectedFeatures:l,filteredFeatures:y,filteredSpatialObjectId:m,filteredSpatialObjectCrs:d,filteredspatialObjectCoord:f,filteredspatialObjectType:p,filteredGeometry:u,filteredspatialObject:c,highlighedFeatures:b}},"./MapStore2/web/client/selectors/localizedLayerStyles.js":function(e,t,n){var r=n("./node_modules/lodash/lodash.js"),o=r.has,a=r.get,i=r.find,s=function(e){return o(e,"localConfig.localizedLayerStyles")},l=function(e){return a(e,"localConfig.localizedLayerStyles.name","mapstore_language")},c=(0,n("./node_modules/reselect/es/index.js").createSelector)(s,l,n("./MapStore2/web/client/selectors/locale.js").currentLocaleLanguageSelector,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}));e.exports={isLocalizedLayerStylesEnabledSelector:s,localizedLayerStylesNameSelector:l,localizedLayerStylesEnvSelector:c,isLocalizedLayerStylesEnabledDashboardsSelector:function(e){var t=a(e,"localConfig.plugins.dashboard",[]),n=i(t,(function(e){return"DashboardEditor"===e.name}))||{};return a(n,"cfg.catalog.localizedLayerStyles",!1)}}},"./MapStore2/web/client/selectors/maplayout.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/lodash/lodash.js").head,s=n("./MapStore2/web/client/selectors/map.js").mapSelector,l=n("./MapStore2/web/client/utils/MapUtils.js").parseLayoutValue,c=function(e){return e.maplayout&&e.maplayout.layout||{}},u=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c(e),r=!!i(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})));return r};e.exports={mapLayoutSelector:c,mapLayoutValuesSelector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){return o(o({},e),{},a({},t,n[t]))}),{})||{}},checkConditionsSelector:p,rightPanelOpenSelector:function(e){return p(e,[{key:"right",value:658}])},bottomPanelOpenSelector:function(e){return p(e,[{key:"bottom",value:30,type:"not"}])},boundingMapRectSelector:u,mapPaddingSelector:function(e){var t=s(e),n=u(e);return n&&t&&t.size&&{left:l(n.left,t.size.width),bottom:l(n.bottom,t.size.height),right:l(n.right,t.size.width),top:l(n.top,t.size.height)}}}},"./MapStore2/web/client/selectors/maps.js":function(e,t,n){var r=n("./node_modules/lodash/lodash.js"),o=r.find,a=r.get,i=function(e){return a(e,"maps.results",[])},s=function(e,t){return o(i(e),(function(e){return e.id===t}))};e.exports={mapNameSelector:function(e,t){return s(e,t)&&s(e,t).name||""},mapFromIdSelector:s,showMapDetailsSelector:function(e){return a(e,"maps.showMapDetails")},mapsResultsSelector:i,totalCountSelector:function(e){return a(e,"maps.totalCount")},mapMetadataSelector:function(e){return a(e,"maps.metadata",{})},isMapsLastPageSelector:function(e){return e&&e.maps&&e.maps.totalCount===e.maps.start},mapDescriptionSelector:function(e,t){return s(e,t)&&s(e,t).description||""},mapDetailsUriFromIdSelector:function(e,t){return s(e,t)&&s(e,t).details||""},mapPermissionsFromIdSelector:function(e,t){return s(e,t)&&s(e,t).permissions||""},mapThumbnailsUriFromIdSelector:function(e,t){return s(e,t)&&s(e,t).thumbnail||""},searchTextSelector:function(e){return e&&e.maps&&e.maps.searchText},searchParamsSelector:function(e){return{start:a(e,"maps.start"),limit:a(e,"maps.limit")}},searchFilterSelector:function(e){return e&&e.maps&&e.maps.searchFilter},contextsSelector:function(e){return e&&e.maps&&e.maps.contexts},loadingSelector:function(e){return e&&e.maps&&e.maps.loading},loadFlagsSelector:function(e){return e&&e.maps&&e.maps.loadFlags}}},"./MapStore2/web/client/selectors/measurement.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./MapStore2/web/client/selectors/maptype.js").isOpenlayers,s=n("./MapStore2/web/client/selectors/controls.js").showCoordinateEditorSelector,l=n("./MapStore2/web/client/utils/ImmutableUtils.js").set,c=n("./MapStore2/web/client/utils/MeasureUtils.js").validateFeatureCoordinates,u=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=l("geometry.coordinates",c(t.geometry||{}),t)),t};e.exports={measurementSelector:function(e){return e.measurement&&o(o({},e.measurement),{},{feature:u(e)})||{}},getValidFeatureSelector:u,isCoordinateEditorEnabledSelector:function(e){return s(e)&&!e.measurement.isDrawing&&i(e)},showAddAsAnnotationSelector:function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},isTrueBearingEnabledSelector:function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing}}},"./MapStore2/web/client/selectors/playback.js":function(e,t,n){var r=n("./node_modules/reselect/es/index.js").createSelector,o=function(e){return e&&e.playback&&e.playback.settings},a=function(e){return e&&e.playback&&e.playback.frames},i=function(e){return e&&e.playback&&e.playback.currentFrame},s=r(a,i,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{hasNext:e[t+1],hasPrevious:e[t-1]}}));e.exports={playbackSettingsSelector:o,frameDurationSelector:function(e){return(o(e)||{}).frameDuration||5},statusSelector:function(e){return e&&e.playback&&e.playback.status},loadingSelector:function(e){return e&&e.playback&&e.playback.framesLoading},lastFrameSelector:function(e){var t=a(e)||[];return t[t.length-1]},framesSelector:a,currentFrameSelector:i,currentFrameValueSelector:function(e){return(a(e)||[])[i(e)]},playbackRangeSelector:function(e){return function(e){return e&&e.playback&&e.playback.playbackRange}(e)},playbackMetadataSelector:function(e){return e&&e.playback&&e.playback.metadata},hasPrevNextAnimationSteps:s}},"./MapStore2/web/client/selectors/query.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/lodash/lodash.js"),s=i.isNil,l=i.get,c=i.head,u=i.isArray,p=i.findIndex,f=function(e){return l(e,"query.filterObj.featureTypeName")},d=function(e){return function(t){return l(t,'query.featureTypes["'.concat(e,'"]'))}},m=function(e,t){return l(d(t)(e),"original")};e.exports={wfsURL:function(e){return e&&e.query&&e.query.searchUrl},wfsURLSelector:function(e){return e&&e.query&&e.query.url},wfsFilter:function(e){return e&&e.query&&e.query.filterObj},attributesSelector:function(e){return l(d(f(e))(e),"attributes")},typeNameSelector:function(e){return l(e,"query.typeName")},resultsSelector:function(e){return l(e,"query.result.features")},featureCollectionResultSelector:function(e){var t=l(e,"query.result");return o(o({},t),{},{features:(t&&t.features||[]).filter((function(e){return!s(e.geometry)}))})},getFeatureById:function(e,t){var n=e&&e.query&&e.query.result&&e.query.result.features;return c(n.filter((function(e){return e.id===t})))},paginationInfo:{startIndex:function(e){return l(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return l(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return l(e,"query.result.features.length")},totalFeatures:function(e){return l(e,"query.result.totalFeatures")}},isDescribeLoaded:function(e,t){var n=d(t)(e);return!!(n&&n.attributes&&n.geometry&&n.original)},describeSelector:function(e){return m(e,f(e))},featureTypeSelectorCreator:d,layerDescribeSelector:m,featureLoadingSelector:function(e){return l(e,"query.featureLoading")},isSyncWmsActive:function(e){return l(e,"query.syncWmsFilter",!1)},isFilterActive:function(e){var t=l(e,"query.filterObj.crossLayerFilter"),n=l(e,"query.filterObj.spatialField"),r=l(e,"query.filterObj.filterFields");return!!(r&&c(r)||n&&(n.method&&n.operation&&n.geometry||u(n)&&p(n,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}}},"./MapStore2/web/client/selectors/queryform.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=n("./node_modules/lodash/lodash.js").get,l=n("./node_modules/reselect/es/index.js").createSelector,c=n("./MapStore2/web/client/selectors/layers.js").layersSelector,u=n("./MapStore2/web/client/selectors/locale.js").currentLocaleSelector,p=n("./MapStore2/web/client/utils/LocaleUtils.js").getLocalizedProp,f=function(e){return s(e,"queryform.spatialField.geometry")},d=l((function(e){return s(e,"queryform.attributePanelExpanded")}),(function(e){return s(e,"queryform.spatialPanelExpanded")}),(function(e){return s(e,"queryform.crossLayerExpanded")}),(function(e,t,n){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:n}}));e.exports={spatialFieldSelector:function(e){return s(e,"queryform.spatialField")},spatialFieldMethodSelector:function(e){return s(e,"queryform.spatialField.method")},spatialFieldGeomSelector:f,maxFeaturesWPSSelector:function(e){return s(e,"queryform.maxFeaturesWPS")},spatialFieldGeomTypeSelector:function(e){return f(e)&&f(e).type||"Polygon"},spatialFieldGeomProjSelector:function(e){return f(e)&&f(e).projection||"EPSG:4326"},spatialFieldGeomCoordSelector:function(e){return f(e)&&f(e).coordinates||[]},crossLayerFilterSelector:function(e){return s(e,"queryform.crossLayerFilter")},availableCrossLayerFilterLayersSelector:function(e){return(c(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.group;return"wms"===t&&"background"!==n})).map((function(t){var n=t.title;return o(o({},i(t,["title"])),{},{title:p(u(e),n)})}))},queryFormUiStateSelector:d,storedFilterSelector:function(e){return s(e,"layerFilter.persisted")},appliedFilterSelector:function(e){return s(e,"layerFilter.applied")}}},"./MapStore2/web/client/selectors/router.js":function(e,t,n){var r=n("./node_modules/lodash/lodash.js").get;e.exports={pathnameSelector:function(e){return r(e,"router.location.pathname")||"/"},searchSelector:function(e){return r(e,"router.location.search")||""}}},"./MapStore2/web/client/selectors/timeline.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=n("./node_modules/lodash/lodash.js"),p=u.get,f=u.head,d=n("./node_modules/reselect/es/index.js").createSelector,m=n("./MapStore2/web/client/utils/ReselectUtils.js").createShallowSelector,y=n("./MapStore2/web/client/utils/CoordinatesUtils.js").reprojectBbox,b=n("./MapStore2/web/client/utils/TimeUtils.js"),g=b.timeIntervalToSequence,h=b.timeIntervalToIntervalSequence,v=b.analyzeIntervalInRange,S=b.isTimeDomainInterval,O=n("./MapStore2/web/client/selectors/dimension.js"),w=O.timeDataSelector,E=O.currentTimeSelector,j=O.offsetTimeSelector,T=O.layerDimensionRangeSelector,A=O.layersWithTimeDataSelector,x=O.layerDimensionDataSelectorCreator,_=n("./MapStore2/web/client/selectors/map.js"),P=_.mapSelector,M=_.projectionSelector,C=n("./MapStore2/web/client/selectors/layers.js").getLayerFromId,L=function(e){return p(e,"timeline.range")},R=function(e){return p(e,"timeline.rangeData")},I=function(e){return p(e,"timeline.settings.collapsed")},D=function(e){return p(e,"timeline.settings.mapSync")},k=function(e,t){return(e||[]).reduce((function(e,n){return[].concat(i(e),i(function(e,t){var n=s(e.split("/"),3),r=n[0],o=n[1],a=n[2];if(a&&"0"!==a){var i=v({start:r,end:o,duration:a},t),l=i.count,c=i.start,u=i.end;return l>50?[{start:r,end:o,duration:a,type:"range",content:"".concat(l," items")}]:g({start:c,end:u,duration:a}).map((function(e){return{start:new Date(e),end:new Date(e),type:"point"}}))}return isNaN(new Date(r).getTime())?null:[{start:new Date(r),end:new Date(o||r),type:o?"range":"point"}]}(n,t)))}),[]).filter((function(e){return e&&e.start}))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.domain&&e.domain.values)return k(e.domain.values,t);if(e.histogram&&e.histogram.domain&&e.histogram.values){var n=e.histogram.domain.split("/"),r=s(n,3),a=r[0],l=r[1],c=r[2],u=Math.max.apply(Math,i(e.histogram.values)),p=h({start:a,end:l,duration:c});return e.histogram.values.map((function(e,t){return o(o({},p[t]),{},{type:"range",itemType:"histogram",count:e,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*e/u,'%"></div> <span class="histogram-count">').concat(e,"</span></div>")})}))}return[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e&&e.values||e&&e.domain&&!S(e.domain)?k(e.values||e.domain.split(","),t):n&&n.histogram?N(n,t):[]},G=m(w,L,R,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(Object.keys(e).map((function(r){return F(e[r],t,n[r]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(o({content:" "},e),{},{group:r})}))})).reduce((function(e,t){return[].concat(i(e),i(t))}),[]))})),U=function(e){return p(e,"timeline.selectedLayer")},B=function(e){return C(e,U(e))},z=function(e){return B(e)&&B(e).dimensions&&f(B(e).dimensions.filter((function(e){return"time"===e.name})))},H=d(E,j,(function(e,t){return{start:e,end:t}})),V=A,W=d(V,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0}));e.exports={isVisible:function(e){return!I(e)&&W(e)},isCollapsed:I,currentTimeRangeSelector:H,timelineLayersSelector:V,hasLayers:W,itemsSelector:G,rangeSelector:L,isAutoSelectEnabled:function(e){return p(e,"timeline.settings.autoSelect")},loadingSelector:function(e){return p(e,"timeline.loading")},selectedLayerSelector:U,selectedLayerData:B,selectedLayerTimeDimensionConfiguration:z,selectedLayerDataRangeSelector:function(e){return T(e,U(e))},selectedLayerName:function(e){return B(e)&&B(e).name},selectedLayerUrl:function(e){return p(z(e),"source.url")},rangeDataSelector:R,isMapSync:D,multidimOptionsSelectorCreator:function(e){return function(t){var n=(P(t)||{}).bbox;if(!n)return{};var r=x(e,"time")(t),i=p(r,"source.version"),l=Object.keys(n.bounds).reduce((function(e,t){return o(o({},e),{},a({},t,parseFloat(n.bounds[t])))}),{});if(!l||!D(t))return{};if("1.1"!==i){var c=x(e,"space")(t),u=p(c,"domain.CRS");if(!u||!l||!D(t))return{};var f=s(y(l,M(t),u),4),d=f[0],m=f[1],b=f[2],g=f[3];return b<d&&"EPSG:4326"===u&&(b+=360),{bbox:"".concat(d,",").concat(m,",").concat(b,",").concat(g),crs:u}}var h=l.minx,v=l.miny,S=l.maxx,O=l.maxy,w=n.crs;return{bbox:"".concat(h,",").concat(v,",").concat(S,",").concat(O,",").concat(w)}}}}},"./MapStore2/web/client/utils/AgentUtils.js":function(e,t){var n={getWindowSize:function(){return{maxWidth:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,maxHeight:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},onfontready:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=e,i=r,s=o,l=a;if(Object({NODE_ENV:"production"}).isTest){var c={},u=function(e){return c[e]=c[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},c[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){u(e).rootCount+=t},iframesCreated:function(e){u(e).iframesCreated=!0},timedOut:function(e){u(e).timedOut=!0},fontLoaded:function(e){u(e).fontLoaded=!0},requiredExtraTimeout:function(e){u(e).requiredExtraTimeout=!0},getTests:function(){return c}}}n.timeoutAfter&&setTimeout((function(){i&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,-1),document.body.removeChild(i),i=0,n.onTimeout&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.timedOut(l),n.onTimeout()))}),n.timeoutAfter),s=function(){i&&i.firstChild.clientWidth===i.lastChild.clientWidth&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,-1),document.body.removeChild(i),i=0,Object({NODE_ENV:"production"}).isTest&&window.reporter.fontLoaded(l),t())},Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(l,1),Object({NODE_ENV:"production"}).isLegacy||s(document.body.appendChild(i=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+a+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+a+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</div>"),Object({NODE_ENV:"production"}).isLegacy&&s(document.body.appendChild(i=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+a+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+a+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</span>.</table>"),i&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.iframesCreated(l),Object({NODE_ENV:"production"}).isLegacy||(i.firstChild.appendChild(a=document.createElement("iframe")).style.width="999%",a.contentWindow.onresize=s,i.lastChild.appendChild(a=document.createElement("iframe")).style.width="999%",a.contentWindow.onresize=s),Object({NODE_ENV:"production"}).isLegacy&&(i.firstChild.firstChild.firstChild.firstChild.appendChild(a=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",a.attachEvent?a.contentWindow.attachEvent("onresize",s):a.contentWindow.onresize=s,i.lastChild.firstChild.firstChild.firstChild.appendChild(a=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",a.attachEvent?a.contentWindow.attachEvent("onresize",s):a.contentWindow.onresize=s),Object({NODE_ENV:"production"}).isTest||(a=setTimeout(s)),Object({NODE_ENV:"production"}).isTest&&(a=setTimeout((function(){i&&(window.reporter.requiredExtraTimeout(l),s())}))))},loadFont:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,o){n.onfontready(e,r,{timeoutAfter:t.timeoutAfter,onTimeout:o,sampleText:t.sampleText,generic:t.generic})}))}};e.exports=n},"./MapStore2/web/client/utils/AnnotationsUtils.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n("./node_modules/uuid/v1.js"),c=n("./MapStore2/web/client/utils/LocaleUtils.js"),u=n("./MapStore2/web/client/utils/MarkerUtils.js").extraMarkers,p=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),f=p.geometryFunctions,d=p.fetchStyle,m=p.hashAndStringify,y=n("./MapStore2/web/client/utils/ImmutableUtils.js").set,b=n("./node_modules/lodash/lodash.js"),g=b.values,h=b.isNil,v=b.slice,S=b.head,O=b.castArray,w=b.last,E=b.isArray,j=b.findIndex,T=b.isString,A=n("./node_modules/uuid/index.js"),x=n("./node_modules/@turf/center/main.es.js").default,_=n("./node_modules/object-assign/index.js"),P={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},M={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},C={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},L={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},R={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},I={Text:C,Point:M,Circle:P,MultiPoint:M,LineString:L,MultiLineString:L,Polygon:R,MultiPolygon:R},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},k=function(e){return("start"===e?"lm":"end"===e&&"rm")||"cm"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.features,o=void 0===r?[]:r;return"FeatureCollection"===n?o.reduce((function(e,t){return e[t.geometry.type]=I[t.geometry.type],e}),{type:"FeatureCollection"}):i({},I[n])},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i({title:"annotations.defaulttitle"!==c.getMessageById(t,"annotations.defaulttitle")?c.getMessageById(t,"annotations.defaulttitle"):"Default title",id:l()},e)},G=function(e){return T(e)&&e||E(e)&&e.join(" ")},U=function(e){return e.color&&e.opacity&&e.weight},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t&&t[e]?t[e]:t,o=r,a=o.dashArray?G(o.dashArray):"solid";switch(e){case"MultiPolygon":case"Polygon":case"Circle":return{strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,fillColor:D(o.fillColor),fillOpacity:o.fillOpacity,strokeDashstyle:a};case"LineString":case"MultiLineString":return{strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:a};case"Text":var s=U(o)?{labelOutlineColor:D(o.color),labelOutlineOpacity:o.opacity,labelOutlineWidth:o.weight}:{};return i({fontStyle:o.fontStyle,fontSize:o.fontSize,fontFamily:o.fontFamily,fontWeight:o.fontWeight,labelAlign:k(o.textAlign),fontColor:D(o.fillColor),fontOpacity:o.fillOpacity,label:n,stroke:!0,strokeColor:D(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:a},s);case"Point":case"MultiPoint":var l=o.symbolUrl&&d(m(o),"base64")||u.markerToDataUrl(o),c=-18,p=-46;return o.iconAnchor&&E(o.iconAnchor)&&o.size&&(c="pixels"===o.anchorXUnits?-1*o.iconAnchor[0]:-1*o.size*o.iconAnchor[0],p="pixels"===o.anchorYUnits?-1*o.iconAnchor[1]:-1*o.size*o.iconAnchor[1]),l?{graphicWidth:o.size||36,graphicHeight:o.size||46,externalGraphic:l,graphicXOffset:c,graphicYOffset:p,display:!1===o.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===o.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:a,strokeWidth:1}}},z={ANNOTATION_TYPE:"ms2-annotations",convertGeoJSONToInternalModel:function(e){var t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,a=e.features,i=void 0===a?[]:a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(n){case"Point":case"MultiPoint":return{type:1===s.length?"Text":n};case"Polygon":return{type:1===l.length?"Circle":n};case"GeometryCollection":var c=o.filter((function(e){return"Point"===e.type||"MultiPoint"===e.type})),u=o.filter((function(e){return"Polygon"===e.type})),p=0,f=0;return{type:"GeometryCollection",geometries:o.map((function(e){if("Point"===e.type||"MultiPoint"===e.type){if(c.length===s.length)return{type:"Text"};if(0===s.length)return{type:e.type};if(0===p)return p++,{type:"Text"}}if("Polygon"===e.type){if(u.length===l.length)return{type:"Circle"};if(0===l.length)return{type:e.type};if(0===f)return f++,{type:"Circle"}}return{type:e.type}}))};case"FeatureCollection":var d=i.map((function(e){return e.properties&&e.properties.isCircle?{type:"Circle"}:e.properties&&e.properties.isText?{type:"Text"}:{type:e.geometry.type}}));return{type:"FeatureCollection",features:d};default:return{type:n}}},getAvailableStyler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,a=e.features,i=void 0===a?[]:a;switch(n){case"Point":case"MultiPoint":case"Symbol":return[z.getRelativeStyler(n)];case"LineString":case"MultiLineString":return[z.getRelativeStyler(n)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[z.getRelativeStyler(n)];case"GeometryCollection":return o.reduce((function(e,t){return-1!==e.indexOf(z.getRelativeStyler(t.type))?e:e.concat(z.getAvailableStyler(t))}),[]);case"FeatureCollection":return i.reduce((function(e,t){return-1!==e.indexOf(z.getRelativeStyler(t.type))?e:e.concat(z.getAvailableStyler(t))}),[]);default:return[]}},getRelativeStyler:function(e){switch(e){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},createFont:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,n=void 0===t?"14":t,r=e.fontSizeUom,o=void 0===r?"px":r,a=e.fontFamily,i=void 0===a?"Arial":a,s=e.fontStyle,l=void 0===s?"normal":s,c=e.fontWeight,u=void 0===c?"normal":c;return"".concat(l," ").concat(u," ").concat(n).concat(o," ").concat(i)},DEFAULT_ANNOTATIONS_STYLES:I,STYLE_CIRCLE:P,STYLE_POINT:M,STYLE_TEXT:C,STYLE_LINE:L,STYLE_POLYGON:R,normalizeAnnotation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="FeatureCollection"===e.type?i({},e):{type:"Feature",geometry:e},r=N(n),o=F(n.properties,t);return i({style:r,properties:o},n)},removeDuplicate:function(e){return g(e.reduce((function(e,t){return i(i({},e),{},s({},t.properties.id,t))}),{}))},circlesToMultiPolygon:function(e,t){var n=e.geometries,r=void 0===n?[]:n,o=t.circles,a=void 0===o?[]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P,s=a.reduce((function(e,t){return e.concat([r[t].coordinates])}),[]);return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:s},properties:{id:l(),ms_style:B("Circle",i)}}},fromCircleToPolygon:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return{type:"Feature",geometry:t.polygonGeom||e,properties:{id:t.id||l(),ms_style:B("Circle",n)}}},fromTextToPoint:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return{type:"Feature",geometry:e,properties:{id:t.id||l(),ms_style:B("Text",n,t.valueText)}}},fromLineStringToGeodesicLineString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;return{type:"Feature",geometry:e.geometryGeodesic,properties:{id:e.id||l(),ms_style:B(e.geometryGeodesic.type,t)}}},textToPoint:function(e,t){var n=e.geometries,r=void 0===n?[]:n,o=t.textGeometriesIndexes,a=void 0===o?[]:o,i=t.textValues,s=void 0===i?[]:i,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return a.map((function(e,t){return{type:"Feature",geometry:r[e],properties:{id:l(),ms_style:B("Text",c,s[t])}}}))},flattenGeometryCollection:function(e){var t=e.geometry,n=e.properties,r=e.style,o=n.circles&&z.circlesToMultiPolygon(t,n,r.Circle)||[],a=n.textGeometriesIndexes&&z.textToPoint(t,n,r.Text)||[],i=(n.circles||[]).concat(n.textGeometriesIndexes||[]);return t.geometries.filter((function(e,t){return-1===i.indexOf(t)})).map((function(e){return{type:"Feature",geometry:e,properties:{id:l(),ms_style:B(e.type,r[e.type])}}})).concat(o,a)},createGeometryFromGeomFunction:function(e){var t=f[e.style.geometry]&&f[e.style.geometry].type||e.geometry.type,n=e.geometry.coordinates||[];switch(e.style.geometry){case"startPoint":n=S(n);break;case"endPoint":n=w(n);break;case"centerPoint":n=x(e).geometry.coordinates}return{type:t,coordinates:n}},fromAnnotationToGeoJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geometry,n=e.properties,r=void 0===n?{}:n,o=e.style,a=void 0===o?{}:o,i=a.geometry?z.createGeometryFromGeomFunction({geometry:t,properties:r,style:a,type:"Feature"}):t;return r.isCircle&&"Polygon"===i.type?z.fromCircleToPolygon(i,r,a):r.isText?z.fromTextToPoint(i,r,a):"LineString"===i.type&&r.useGeodesicLines&&a.filtering?z.fromLineStringToGeodesicLineString(r,a):{type:"Feature",geometry:i,properties:{id:r.id||l(),ms_style:B(i.type,a)}}},annotationsToPrint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return"FeatureCollection"===t.type?e.concat(t.features.map((function(e){return O(e.style||t.style||{}).filter((function(e){return!!h(e.filtering)||e.filtering})).map((function(t){return z.fromAnnotationToGeoJson(i(i({},e),{},{style:t}))}))})).reduce((function(e,t){return e.concat(t)}),[])):t.geometry&&"GeometryCollection"===t.geometry.type?e.concat(z.flattenGeometryCollection(t)):e.concat({type:"Feature",geometry:t.geometry,properties:i(i({},t.properties),{},{ms_style:B(t.geometry.type,t.style)})})}),[])},formatCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]];return e.map((function(e){return{lat:e&&e[1],lon:e&&e[0]}}))},getBaseCoord:function(e){switch(e){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},getComponents:function(e){var t=e.type,n=e.coordinates;switch(t){case"Polygon":return z.isCompletePolygon(n)?z.formatCoordinates(v(n[0],0,n[0].length-1)):z.formatCoordinates(n[0]);case"LineString":case"MultiPoint":return z.formatCoordinates(n);default:return z.formatCoordinates([n])}},addIds:function(e){return e.map((function(e){return e.properties&&e.properties.id?e:y("properties.id",A.v1(),e)}))},COMPONENTS_VALIDATION:{Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},validateCoords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lat,n=e.lon;return!isNaN(parseFloat(t))&&!isNaN(parseFloat(n))},validateCoordsArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r(e,2),n=t[0],o=t[1];return!isNaN(parseFloat(o))&&!isNaN(parseFloat(n))},validateCoord:function(e){return!isNaN(parseFloat(e))},coordToArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.lon,e.lat]},validateCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.remove,o=void 0!==r&&r,a=e.type;if(n&&n.length){var i=n.filter(z.validateCoords);return o?i.length>z.COMPONENTS_VALIDATION[a].min&&i.length===n.length:i.length>=z.COMPONENTS_VALIDATION[a].min&&i.length===n.length}return!1},validateCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{radius:0}:r;if(n&&n.length){var a=S(n);return!isNaN(parseFloat(o.radius))&&z.validateCoords(a)}return!1},validateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{valueText:""}:r;if(n&&n.length){var a=S(n);return o&&!!o.valueText&&z.validateCoords(a)}return!1},validateFeature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[[]]:t,r=e.type,o=e.remove,a=void 0!==o&&o,i=e.properties,s=void 0===i?{}:i;return!h(r)&&("Text"===r?z.validateText({components:n,properties:s}):"Circle"===r?z.validateCircle({components:n,properties:s}):z.validateCoordinates({components:n,remove:a,type:r}))},updateAllStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.features&&e.features.length?i(i({},e),{},{features:e.features.map((function(e){return _({},e,{style:O(e.style).map((function(e){return _({},e,t)}))})}))}):e},getStartEndPointsForLinestring:function(){return[i(i({},I.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:l()}),i(i({},I.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:l()})]},DEFAULT_SHAPE:"triangle",DEFAULT_PATH:"product/assets/symbols/",checkSymbolsError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return e.length&&-1!==j(e,(function(e){return e===t}))},isAMissingSymbol:function(e){return e.symbolUrlCustomized===n("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")},isCompletePolygon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],t=e[0].filter(z.validateCoordsArray);return t.length>3&&S(t)[0]===w(t)[0]&&S(t)[1]===w(t)[1]},getDashArrayFromStyle:G,isAnnotation:function(e){return"ms2-annotations"===(null==e?void 0:e.type)||"Annotations"===(null==e?void 0:e.name)}};e.exports=z},"./MapStore2/web/client/utils/ColorUtils.js":function(e,t,n){var r=n("./node_modules/tinycolor2/tinycolor.js"),o=n("./node_modules/lodash/lodash.js").toNumber,a={decToHex:function(e){var t=parseInt(e,10);return t=isNaN(t)?0:t,"0123456789ABCDEF".charAt(((t=t>255||t<0?0:t)-t%16)/16)+"0123456789ABCDEF".charAt(t%16)},rgbToHex:function(e,t,n){return e instanceof Array?a.rgbToHex(e[0],e[1],e[2]):"#"+a.decToHex(e)+a.decToHex(t)+a.decToHex(n)},realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,n){if(e instanceof Array)return a.rgbToHsv(e[0],e[1],e[2]);var r,o,i,s,l,c=e/255,u=t/255,p=n/255;switch(r=Math.min(Math.min(c,u),p),i=(o=Math.max(Math.max(c,u),p))-r,o){case r:s=0;break;case c:s=60*(u-p)/i,u<p&&(s+=360);break;case u:s=60*(p-c)/i+120;break;case p:s=60*(c-u)/i+240}return l=0===o?0:1-r/o,[Math.round(s),l,o]},distributedColorsHEX:function(e){for(var t=360/(e-1),n=[],r=function e(t,n,r){var o=e(t,n,r);return a.rgbToHex(o)},o=0;o<e;o++)n.push(r(t*o,.57,.63));return n},sameToneRangeColors:function(e,t,n,r){var o=e;isNaN(parseFloat(e))&&(o=a.hexToHsv(e)[0]);var i=.5/(n-1),s=t/(n-1),l=[];1===n&&(i=.5,s=t/2);for(var c=0;c<n;c++){var u=o+c*s-t/2,p=i*c+.3,f=p;r&&(u=r.h||u,p=r.s||p,f=r.v||f),l.push(a.hsvToHex(u,p,f,c))}return l},hsvToRgb:function(e,t,n){if(e instanceof Array)return a.hsvToRgb(e[0],e[1],e[2]);var r,o,i,s=Math.floor(e/60%6),l=e/60-s,c=n*(1-t),u=n*(1-l*t),p=n*(1-(1-l)*t);switch(s){case 0:r=n,o=p,i=c;break;case 1:r=u,o=n,i=c;break;case 2:r=c,o=n,i=p;break;case 3:r=c,o=u,i=n;break;case 4:r=p,o=c,i=n;break;case 5:r=n,o=c,i=u}return[a.realToDec(r),a.realToDec(o),a.realToDec(i)]},hsvToHex:function(e,t,n){var r=a.hsvToRgb(e,t,n);return a.rgbToHex(r)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var n=a.hexToRgb(t);return a.rgbToHsv(n)}return null},hexToRgb:function(e){var t,n,r,o=e;return"#"===o.charAt(0)&&(o=e.substring(1)),t=o.charAt(0)+o.charAt(1),n=o.charAt(2)+o.charAt(3),r=o.charAt(4)+o.charAt(5),[parseInt(t,16),parseInt(n,16),parseInt(r,16)]},colorToHexStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return r(e).toHexString()},colorToRgbaStr:function(e,t,n){var a=r(e);return e&&a.setAlpha(o(void 0!==t?t:a.getAlpha())).toRgbString()||n}};e.exports=a},"./MapStore2/web/client/utils/ConfigProvider.js":function(e,t,n){"use strict";t.a={OpenStreetMap:{url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,credits:{text:"© OpenStreetMap, Open Street Map and contributors, CC-BY-SA",link:"http://www.openstreetmap.org/copyright"},attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},France:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors',credits:{text:"Map data: © OpenSeaMap contributors",link:"http://www.openseamap.org"}}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},CyclOSM:{url:"https://dev.{s}.tile.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},OpenMapSurfer:{url:"https://maps.heigit.org/openmapsurfer/tiles/{variant}/webmercator/{z}/{x}/{y}.png",options:{maxZoom:19,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> | Map data '},variants:{Roads:{options:{variant:"roads",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},Hybrid:{options:{variant:"hybrid",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},AdminBounds:{options:{variant:"adminb",maxZoom:18,attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},ContourLines:{options:{variant:"asterc",maxZoom:18,minZoom:13,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>'}},Hillshade:{options:{variant:"asterh",maxZoom:18,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>, <a href="http://srtm.csi.cgiar.org/">SRTM</a>'}},ElementsAtRisk:{options:{variant:"elements_at_risk",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Thunderforest:{url:"//{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',credits:{text:"Map data: OpenCycleMap contributors",link:"http://www.opencyclemap.org"},variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19,maxNativeZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19,maxNativeZoom:19}},Landscape:"landscape",Outdoors:"outdoors"}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}",options:{maxNativeZoom:18,type:"map",ext:"jpg",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["1","2","3","4"]},variants:{OSM:{},Aerial:{options:{type:"sat",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}},HybridOverlay:{options:{type:"hyb",ext:"png",opacity:.9}}}},MapBox:{url:"//api.tiles.mapbox.com/v4/{source}/{z}/{x}/{y}.png?access_token={accessToken}",options:{maxNativeZoom:18,attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["a","b","c","d"]}},MapBoxStyle:{url:"https://api.mapbox.com/styles/v1/mapbox/{source}/tiles/{z}/{x}/{y}?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a>',subdomains:["a","b","c","d"]}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}}}},Esri:{url:"//server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{maxNativeZoom:18,variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,maxNativeZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,maxNativeZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"//{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:["1","2","3","4"],mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,maxNativeZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:["0","1","2","3"],minZoom:2,maxZoom:18,maxNativeZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,maxNativeZoom:16,subdomains:["1","2","3","4"],bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"//{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:["a","b","c","d"],maxZoom:19,maxNativeZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,maxNativeZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"//maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,maxNativeZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}9/{z}/{y}/{x}.{format}",options:{attribution:'<span>Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.</span>',credits:{text:"Black Marble imagery courtesy NASA Earth Observatory"},bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,maxNativeZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"VIIRS_CityLights_2012",maxZoom:8,maxNativeZoom:8}},ModisTerraLSTDay:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}},ModisTerraSnowCover:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,maxNativeZoom:8,opacity:.75}},ModisTerraAOD:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}6/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,maxNativeZoom:6,opacity:.75}},ModisTerraChlorophyll:{url:"//map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}}}},NLS:{url:"//nls-{s}.tileserver.com/{variant}/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,maxNativeZoom:18,subdomains:["0","1","2","3"]},variants:{OS_1900:"NLS_API",OS_1920:"nls",OS_opendata:{url:"http://geo.nls.uk/maps/opendata/{z}/{x}/{y}.png",options:{maxZoom:16,maxNativeZoom:16}},OS_6inch_1st:{url:"http://geo.nls.uk/maps/os/six_inch/{z}/{x}/{y}.png",options:{tms:!0,minZoom:6,maxZoom:16,maxNativeZoom:16,bounds:[[49.86261,-8.66444],[60.89421,1.7785]]}},OS_6inch:"os_6_inch_gb",OS_25k:"25k",OS_npe:{url:"http://geo.nls.uk/maps/os/newpopular/{z}/{x}/{y}.png",options:{tms:!0,minZoom:3,maxZoom:15,maxNativeZoom:15}},OS_7th:"os7gb",OS_London:{options:{variant:"London_1056",minZoom:9,maxNativeZoom:9,bounds:[[51.177621,-.708618],[51.618016,.355682]]}},GSGS_Ireland:{url:"http://geo.nls.uk/maps/ireland/gsgs4136/{z}/{x}/{y}.png",options:{tms:!0,minZoom:5,maxZoom:15,maxNativeZoom:15,bounds:[[51.37178,-10.810546],[55.422779,-5.262451]]}}}},LINZ:{url:"http://tiles-{s}.data-cdn.linz.govt.nz/services;key={linzAPIkey}/tiles/v4/{variant}/{tilematrixset}/{z}/{x}/{y}.png",options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',subdomains:["a","b","c","d"],linzAPIkey:"<insert your LINZ API Key here>",variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22},variants:{nz_aerial_imagery:{options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50767",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52343",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52324",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50798",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_parcel_boundaries_wireframe:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"set=4769",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}}}},PDOK:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{attribution:'<a href="https://www.pdok.nl/introductie?articleid=1949876">BRT Achtergrondkaart</a> by <a href="https://www.kadaster.nl/">Kadaster</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>',format:"png",bounds:[[48.0405018704,-1.65729160235],[56.1105896442,12.4317272654]],minZoom:6,maxZoom:19,maxNativeZoom:19},variants:{brtachtergrondkaart:"brtachtergrondkaart",brtachtergrondkaartgrijs:"brtachtergrondkaartgrijs",brtachtergrondkaartpastel:"brtachtergrondkaartpastel",brtachtergrondkaartwater:"brtachtergrondkaartwater",luchtfotoRGB:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm RGB</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}},luchtfotoIR:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25IR",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm Infrarood</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}}}}}},"./MapStore2/web/client/utils/ElevationUtils.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/ajax.js"),o=n("./node_modules/lrucache/index.js"),a=n("./node_modules/es6-promise/dist/es6-promise.js").Promise,i=new o(100),s=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,a=r*e+n;try{var i=t.dataView.getInt16(2*a,!1);if(i!==o&&32767!==i&&-32768!==i)return i}catch(e){}return null};e.exports={loadTile:function(e,t,n){return i.has(n)?null:new a((function(o,a){r.get(e,{responseType:"arraybuffer"}).then((function(e){!function(e,t,n){i.set(n,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})}(e.data,t,n),o()})).catch((function(e){!function(e,t,n){i.set(n,{coords:t,current:!0,status:"error: "+e})}(e.message,t,n),a(e)}))}))},getElevation:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,o=i.get(e);return o&&"success"===o.status?{available:!0,value:s(n,o,t.x,t.y,r)}:o&&"loading"===o.status?{available:!1,message:"elevationLoading"}:o&&"error"===o.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i=new o(e.max||100)}}},"./MapStore2/web/client/utils/FeatureGridUtils.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n("./node_modules/lodash/lodash.js"),c=l.get,u=l.findIndex,p=l.isNil,f=l.fill,d=l.isArray,m=n("./MapStore2/web/client/utils/ogc/WFS/base.js"),y=m.getFeatureTypeProperties,b=m.isGeometryType,g=m.isValid,h=m.isValidValueForPropertyName,v=m.findGeometryProperty,S=m.getPropertyDesciptor,O=function(e,t){return"geometry"===e?function(e){return c(v(e),"name")}(t):e},w=function(e,t,n){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return u(e,(function(e){return e<=n&&n<e+t}))}(t,n,e);return-1===r?r:r*n+e-t[r]},E={id:"empty_row",get:function(){}},j=function(e,t){var n=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,n){return i(i({},e),{},s({},n,t[n]))}),{}),r=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,n){return i(i({},e),{},s({},n,t[n]))}),{});return i(i(i({},e),r),{},{properties:i(i({},e&&e.properties||{}),n)})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=u(e,t);return o>=0?e.map((function(e,t){return t===o?n:e})):[].concat(r(e),[n])},A=function(e){return(y(e)||[]).filter((function(e){return!b(e)}))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return n<=t&&t<=r?0:Math.abs(t-e)})).reduce((function(e,t,n,r){return t>r[e]&&n||e}),0)},_=function(e,t){return t.filter((function(t,n){return n!==e}))},P=function(e,t,n){return e.filter((function(e,r){return r<t||r>=t+n}))},M=function(e,t,n,r){for(var o,a,i=e;i<=t&&void 0===o;i++)-1===w(i*r,n,r)&&(o=i);for(var s=t;s>=e&&void 0===a;s--)-1===w(s*r,n,r)&&(a=s);return[o,a].filter((function(e){return void 0!==e}))};e.exports={getAttributeFields:A,featureTypeToGridColumns:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.editable,o=void 0!==r&&r,a=n.sortable,i=void 0===a||a,s=n.resizable,l=void 0===s||s,c=n.filterable,u=void 0===c||c,p=n.defaultSize,f=void 0===p?200:p,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=d.getEditor,y=void 0===m?function(){}:m,b=d.getFilterRenderer,g=void 0===b?function(){}:b,h=d.getFormatter,v=void 0===h?function(){}:h;return A(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:i,key:e.name,width:t[e.name]&&t[e.name].width||f||void 0,name:e.name,resizable:l,editable:o,filterable:u,editor:y(e),formatter:v(e),filterRenderer:g(e,e.name)}}))},getRow:function(e,t){return t[e]},getRowVirtual:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return t[w(e,n,r)]||i({},E)},getToolColumns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=v(n);return e.map((function(e){return i(i({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,a){return i(i({},o),{},s({},a,(function(o,i){return e.events[a](t(i.rowIdx),i,n,r)})))}),{})},"geometry"===e.key&&a?{filterRenderer:o(i(i({},a),{},{localType:"geometry"}),a.name),filterable:!0,geometryPropName:a.name}:{})}))},getGridEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(a,l){return i(i({},a),{},s({},l,(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return e[l].apply(e,i.concat([t,n,r,o]))})))}),{})},isProperty:function(e,t){return!!S(e,t)},isValidValueForPropertyName:function(e,t,n){return h(e,O(t,n),n)},getDefaultFeatureProjection:function(){return"EPSG:4326"},toChangesMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return d(e)?e.reduce((function(e,t){return i(i({},e),{},s({},t.id,i(i({},e[t.id]),t.updated)))}),{}):{}},createNewAndEditingFilter:function(e,t,n){return function(r){return t.length>0?r._new:!e||e&&!!n[r.id]}},hasValidNewFeatures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e){return g(e,t)})).reduce((function(e,t){return t&&e}),!0)},applyAllChanges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(e,t[e.id]||{})},applyChanges:j,gridUpdateToQueryUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attribute,n=e.operator,r=e.value,o=e.type,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(i({},a),{},{groupFields:[{id:1,logic:"AND",index:0}],filterFields:"geometry"===o?a.filterFields:p(r)?(a.filterFields||[]).filter((function(e){return e.attribute!==t})):T(a.filterFields||[],{attribute:t},{attribute:t,rowId:Date.now(),type:o,groupId:1,operator:n,value:r}),spatialField:"geometry"===o?r:a.spatialField})},toPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,n=void 0===t?0:t,r=e.maxFeatures,o=void 0===r?1:r,a=e.totalFeatures,i=void 0===a?0:a,s=e.resultSize;return{page:Math.ceil(n/o),resultSize:s,size:o,total:i,maxPages:Math.ceil(i/o)-1}},getCurrentPaginationOptions:function(e,t,n){var r=e.startPage,o=e.endPage,a=M(r,o,t,n),i=a[1]-a[0]+1;return{startIndex:a[0]*n,maxFeatures:i*n}},updatePages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endPage,r=t.startPage,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.pages,i=o.features,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=s.size,u=s.maxStoredPages,p=s.startIndex,d=M(r,n,a,l),m=d[1]-d[0]+1,y=c(e,"features",[]);y.length!==m*l&&(y=y.concat(f(Array(m*l-y.length>0?m*l-y.length:y.length),!1)));var b=a,g=i,h=b.length+m-Math.max(u,n-r+1);if(h>0)for(var v=r*l,S=n*l,O=v+(S-v)/2,w=0;w<h;w++){var E=x(O,a,v,S),j=E*l;b=_(E,b),g=P(i,j,l)}for(var T=[],A=0;A<m;A++)T.push(p+l*A);return{pages:b.concat(T),features:g.concat(y)}},getRowIdx:w,getPagesToLoad:M}},"./MapStore2/web/client/utils/IdentifyUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFormatForResponse",(function(){return i})),n.d(t,"responseValidForEdit",(function(){return s}));var r=n("./node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/FeatureInfoUtils.js"),a=n.n(o),i=function(e,t){var n=e.format,r=e.queryParams,o=void 0===r?{}:r;return o.info_format||o.outputFormat||n&&a.a.INFO_FORMATS[n]||t.format},s=function(e){return!!Object(r.get)(e,"layer.search.url")}},"./MapStore2/web/client/utils/MarkerUtils.js":function(module,exports,__webpack_require__){function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var csstree=__webpack_require__("./node_modules/css-tree/lib/index.js"),assign=__webpack_require__("./node_modules/object-assign/index.js"),css={fontawesome:__webpack_require__("./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt")},baseImageUrl=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"),shadowImageUrl=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png"),baseImage=new Image,shadowImage=new Image;baseImage.src=baseImageUrl,shadowImage.src=shadowImageUrl;var getNodeOfType=function e(t,n){return n(t)?t:t.children?t.children.reduce((function(t,r){return e(r,n)||t}),null):null},glyphs={},loadGlyphs=function loadGlyphs(font){var parsedCss=csstree.toPlainObject(csstree.parse(css[font]));return parsedCss.children.reduce((function(previous,rule){if(rule.prelude){var classSelector=getNodeOfType(rule.prelude,(function(e){return"ClassSelector"===e.type})),pseudoClassSelector=getNodeOfType(rule.prelude,(function(e){return"PseudoClassSelector"===e.type}));if(classSelector&&classSelector.name&&0===classSelector.name.indexOf("fa-")&&pseudoClassSelector&&"before"===pseudoClassSelector.name){var text=getNodeOfType(getNodeOfType(rule.block,(function(e){return"Declaration"===e.type&&"content"===e.property})).value,(function(e){return"String"===e.type})).value;return assign(previous,_defineProperty({},classSelector.name.substring(3),eval("'\\u"+text.substring(2,text.length-1)+"'")))}}return previous}),{})},extraMarkers={size:[36,46],colors:["red","orange-dark","orange","yellow","blue-dark","blue","cyan","purple","violet","pink","green-dark","green","green-light","black"],shapes:["circle","square","star","penta"],icons:[baseImageUrl,shadowImageUrl],images:[shadowImage,baseImage]},getOffsets=function(e,t){return[-extraMarkers.colors.indexOf(e)*extraMarkers.size[0]-2,-extraMarkers.shapes.indexOf(t)*extraMarkers.size[1]]},MarkerUtils={extraMarkers:assign({},extraMarkers,{getOffsets:getOffsets,markerToDataUrl:function(e){var t=e.iconColor,n=e.iconShape,r=e.iconGlyph;if(MarkerUtils.extraMarkers.images){var o=document.createElement("canvas"),a=extraMarkers.size;o.width=a[0],o.height=a[1];var i=o.getContext("2d"),s=getOffsets(t,n);i.drawImage(extraMarkers.images[0],4,31,35,16),i.drawImage(extraMarkers.images[1],Math.abs(s[0]),Math.abs(s[1]),a[0],a[1],0,0,a[0],a[1]),i.font="14px FontAwesome",i.fillStyle="rgb(255,255,255)",i.textBaseline="middle",i.textAlign="center",i.fillText(MarkerUtils.getGlyphs("fontawesome")[r]||"",a[0]/2-2,a[1]/2-7);var l=o.toDataURL("image/png");return o=null,l}return null},matches:function(e,t){return e.iconColor===t.color&&e.iconShape===t.shape},getStyle:function(e){return{iconColor:e.color,iconShape:e.shape}},getGrid:function(){return extraMarkers.shapes.map((function(e){return{name:e,markers:extraMarkers.colors.map((function(t){return{name:t,width:extraMarkers.size[0],height:extraMarkers.size[1],offsets:getOffsets(t,e),style:{color:t,shape:e},thumbnailStyle:{backgroundImage:"url("+extraMarkers.icons[0]+")",width:extraMarkers.size[0]+"px",height:extraMarkers.size[1]+"px",backgroundPositionX:getOffsets(t,e)[0],backgroundPositionY:getOffsets(t,e)[1],cursor:"pointer"}}}))}}))}}),getGlyphs:function(e){return glyphs[e]||(glyphs[e]=loadGlyphs(e)),glyphs[e]}};MarkerUtils.markers={extra:MarkerUtils.extraMarkers},module.exports=MarkerUtils},"./MapStore2/web/client/utils/MeasureUtils.js":function(e,t,n){var r=n("./node_modules/lodash/lodash.js"),o=r.isArray,a=r.head,i=r.isNaN;function s(e){var t=Math.floor(e),n=60*(e-t),r=Math.floor(n),o=60*(n-r);return t+"° "+r+"' "+Math.floor(o)+"'' "}var l={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};var c=function(e){return!i(parseFloat(e[0]))&&!i(parseFloat(e[1]))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type,r=t;if("LineString"===n){if((r=t.filter(c)).length<2)return[]}else if("Polygon"===n){if((r=a(t).filter(c)).length<3)return[[]];r=[r.concat([a(r)])]}return r};e.exports={validateFeatureCoordinates:u,isValidGeometry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type;if(!n||!t||t&&o(t)&&0===t.length)return!1;var r=u({coordinates:t,type:n});return(r="Polygon"===n?a(r):r).length>0},convertUom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return l[t]&&l[t][n]?e*l[t][n]:e},getFormattedBearingValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.measureTrueBearing,r=void 0!==n&&n,o=t.fractionDigits,a=void 0===o?0:o,i="";if(r){var l="";e>=0&&e<10?l="00":e>10&&e<100&&(l="0");var c=a>0?e.toFixed(a):Math.floor(e);i=l+c+"° T"}else e>=0&&e<90?i="N "+s(e)+"E":e>90&&e<=180?i="S "+s(180-e)+"E":e>180&&e<270?i="S "+s(e-180)+"W":e>=270&&e<=360&&(i="N "+s(360-e)+"W");return i},degToDms:s}},"./MapStore2/web/client/utils/PopupUtils.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n("./node_modules/uuid/index.js"),o=n.n(r),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms-map-popup",n=document.createElement("div");return n.setAttribute("id",e+"-map-popup"),n.setAttribute("class",t),n},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("<")},s=function(e,t){if(!t)return e;if(t instanceof Node){var n=document.createDocumentFragment();n.appendChild(t),e.appendChild(n)}else i(t)?e.innerHTML=t:e.append(document.createTextNode(String(t)));return e}},"./MapStore2/web/client/utils/ProxyUtils.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/ConfigUtils.js"),o=n("./node_modules/lodash/lodash.js"),a=o.isArray,i=o.isObject,s={needProxy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(e))return e.reduce((function(e,t){return s.needProxy(t)&&e}),!0);var n=!1,o=!(0===e.indexOf("http")),l=!o&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(l){var c=window.location;o=l[1]===c.protocol&&l[3]===c.hostname;var u=l[4],p=c.port;(80!==u&&""!==u||"80"!==p&&""!==p)&&(o=o&&u===p)}if(!o){var f=r.getProxyUrl(t);if(f){var d=[];i(f)&&(d=f.useCORS||[],f=f.url);var m=d.reduce((function(t,n){return t||0===e.indexOf(n)}),!1);m||(n=!0)}}return n},getProxyUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.getProxyUrl(e);return t&&i(t)&&(t=t.url),t}};e.exports=s},"./MapStore2/web/client/utils/ReselectUtils.js":function(e,t,n){var r=n("./node_modules/lodash/lodash.js"),o=r.isEqualWith,a=r.isObject,i=n("./node_modules/reselect/es/index.js"),s=i.defaultMemoize,l=i.createSelectorCreator,c=function(e,t){return e===t},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(t,n){return Array.isArray(t)&&Array.isArray(n)?t===n||t.length===n.length&&t.reduce((function(t,r,o){return t&&e(r,n[o])}),!0):a(t)&&a(n)?t===n||Object.keys(t).length===Object.keys(n).length&&Object.keys(t).reduce((function(r,o){return r&&e(t[o],n[o])}),!0):t===n}},p=l(s,(function(e,t){return o(e,t,u())}));e.exports={createShallowSelector:p,createShallowSelectorCreator:function(e){return l(s,(function(t,n){return o(t,n,u(e))}))}}},"./MapStore2/web/client/utils/TileConfigProvider.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/ConfigProvider.js"),a=n("./MapStore2/web/client/utils/ConfigUtils.js"),i=n.n(a);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={getLayerConfig:function(e,t){var n,a,s,c,u=o.a;if("custom"===e)n=t;else if(s=(c=e.split("."))[0],a=c[1],!(n=u[s]))throw new Error("No such provider ("+s+")");var p={url:n.url,options:n.options||{}};if(a&&"variants"in n){if(!(a in n.variants))throw new Error("No such variant of "+(s||n.url)+" ("+a+")");var f,d=n.variants[a];f="string"==typeof d?{variant:d}:d.options,p={url:d.url||p.url,options:l(l({},p.options||{}),f)}}else"function"==typeof p.url&&(p.url=p.url(c.splice(1,c.length-1).join(".")));var m="file:"===window.location.protocol||p.options.forceHTTP;0===p.url.indexOf("//")&&m&&(p.url="http:"+p.url),p.options.retina&&(t.detectRetina&&i.a.getBrowserProperties().retina?t.detectRetina=!1:p.options.retina="");p.options.attribution&&(p.options.attribution=function e(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,(function(t,n){return e(u[n].options.attribution)}))}(p.options.attribution));var y=l(l({},p.options),Object(r.pickBy)(t,(function(e){return void 0!==e})));return[p.url,y]}}},"./MapStore2/web/client/utils/TileProviderUtils.js":function(e,t,n){var r=n("./node_modules/lodash/lodash.js").isArray;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/(?!(\{?[zyx]?\}))\{*([\w_]+)*\}/g,(function(){var e=arguments[0],n=arguments[1]?arguments[1]:arguments[2],r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r}))}e.exports={getUrls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||"",n=e.subdomains||"";return n&&("string"==typeof n&&(n=n.split("")),r(n))?n.map((function(n){return o(t.replace("{s}",n),e)})):["a","b","c"].map((function(n){return o(t.replace("{s}",n),e)}))},template:o}},"./MapStore2/web/client/utils/VectorStyleUtils.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/lodash/lodash.js").isNil,s=n("./MapStore2/web/client/utils/ImmutableUtils.js").set,l=n("./MapStore2/web/client/utils/ColorUtils.js").colorToRgbaStr,c=n("./node_modules/axios/index.js"),u=n("./node_modules/geostyler-sld-parser/build/dist/SldStyleParser.js").default,p=n("./node_modules/geostyler-geocss-parser/build/dist/GeoCSSStyleParser.js").default,f={sld:new u,css:new p},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.filter((function(t){return!i(e[t])})).length>0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return d(e,t)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return d(e,t)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign","textRotationDeg"];return d(e,t)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return d(e,t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return d(e,t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return d(e,t)},S={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},O=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},w={},E=function(e,t){if(!e||!t)throw new Error("specify all the params: sha, style");w[e]=t},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return w[e]&&w[e][t]},T=function(e){if(e)return O(JSON.stringify(e));throw new Error("hashAndStringify: specify mandatory params: style")},A=function(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return v(e)&&e.symbolUrl?c.get(t,{"Content-Type":"image/svg+xml;charset=utf-8"}).then((function(t){var n=window.URL||window.webkitURL||window,r=(new DOMParser).parseFromString(t.data,"image/svg+xml").firstElementChild;r.setAttribute("fill",e.fillColor||"#FFCC33"),r.setAttribute("fill-opacity",i(e.fillOpacity)?.2:e.fillOpacity),r.setAttribute("stroke",l(e.color||"#FFCC33",i(e.opacity)?1:e.opacity)),r.setAttribute("stroke-opacity",i(e.opacity)?1:e.opacity),r.setAttribute("stroke-width",e.weight||1),r.setAttribute("width",e.size||32),r.setAttribute("height",e.size||32),r.setAttribute("stroke-dasharray",e.dashArray||"none");var a=new Blob([A(r)],{type:"image/svg+xml;charset=utf-8"}),s=n.createObjectURL(a),c=document.createElement("canvas");c.width=e.size,c.height=e.size;var u=c.getContext("2d"),p=new Image;p.src=s;var f="",d=T(e);return p.onload=function(){try{u.drawImage(p,c.width/2-p.width/2,c.height/2-p.height/2),f=c.toDataURL("image/png"),c=null,E(d,{style:o(o({},e),{},{symbolUrlCustomized:s}),base64:f})}catch(e){return}},E(d,{style:o(o({},e),{},{symbolUrlCustomized:s}),svg:r,base64:f}),s})).catch((function(){return n("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})):new Promise((function(e){e(null)}))};e.exports={getGeometryFunction:function(e,t){return S[e]&&S[e][t]},SymbolsStyles:w,registerStyle:E,fetchStyle:j,hashCode:O,hashAndStringify:T,domNodeToString:A,createSvgUrl:x,registerGeometryFunctions:function(e,t,n){if(!(e&&t&&n))throw new Error("specify all the params: functionName, func, type");S[e]={func:t,type:n}},geometryFunctions:S,getStylerTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(e)?"Marker":v(e)?"Symbol":b(e)?"Text":g(e)||"Circle Style"===e.title?"Circle":y(e)?"Polygon":m(e)?"Polyline":""},isAttrPresent:d,addOpacityToColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return s("a",t,e)},isMarkerStyle:h,isSymbolStyle:v,isTextStyle:b,isCircleStyle:g,isStrokeStyle:m,isFillStyle:y,getSymbolsStyles:function(){return w},setSymbolsStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w=e},createStylesAsync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return v(e)&&!j(T(e))?x(e,e.symbolUrl||e.symbolUrlCustomized).then((function(t){return t?o(o({},e),{},{symbolUrlCustomized:t}):j(T(e))})).catch((function(){return o(o({},e),{},{symbolUrlCustomized:n("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})})):new Promise((function(t){t(v(e)?j(T(e)):e)}))}))},getStyleParser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sld";return f[e]}}},"./MapStore2/web/client/utils/VectorTileUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"VECTOR_FORMATS",(function(){return r})),n.d(t,"isVectorFormat",(function(){return o}));var r=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(e){return-1!==r.indexOf(e)}},"./MapStore2/web/client/utils/cesium/BILTerrainProvider.js":function(e,t){e.exports=function(e){var t={};t.CRS=[{name:"CRS:84",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:e.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],t.FormatImage=[{format:"image/png",extension:"png"},{format:"image/jpeg",extension:"jpg"},{format:"image/jpeg",extension:"jpeg"},{format:"image/gif",extension:"gif"},{format:"image/png; mode=8bit",extension:"png"}],t.FormatArray=[{format:"image/bil",postProcessArray:function(e,t,n,r,o){var a,i=new DataView(e),s=new ArrayBuffer(t.height*t.width*2),l=new DataView(s);if(s.byteLength===e.byteLength){for(var c,u=0;u<s.byteLength;u+=2)(c=i.getInt16(u,!1)-o)>r&&c<n?(l.setInt16(u,c,!0),c):l.setInt16(u,0,!0);a=new Int16Array(s)}return a}}],t.WMSParser={},t.TMSParser={},t.WMTSParser={},t.parser=function(n){var r;switch((n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).service){case"TMS":r=t.TMSParser.generate(n);break;case"WMTS":r=t.WMTSParser.generate(n);break;default:r=t.WMSParser.generate(n)}return r},t.WMSParser.generate=function(n){var r;if(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT),e.defined(n.url)){var o=n.url,a=o.lastIndexOf("?");a>-1&&(o=o.substring(0,a));var i=o+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";e.defined(n.proxy)&&(i=n.proxy.getURL(i)),r=e.when(e.loadXML(i),(function(e){return t.WMSParser.getMetaDatafromXML(e,n)}))}else{if(!e.defined(n.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.WMSParser.getMetaDatafromXML(n.xml,n)}return r},t.WMSParser.getMetaDatafromXML=function(n,r){if(!(n instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");if(!e.defined(r.layerName))throw new e.DeveloperError("description.layerName is required.");var o={},a=r.layerName,i=(e.defaultValue(r.maxLevel,11),void 0);o.heightMapWidth=e.defaultValue(r.heightMapWidth,65),o.heightMapHeight=e.defaultValue(r.heightMapHeight,o.heightMapWidth);var s={width:65,height:65},l=void 0;o.formatImage=r.formatImage,o.formatArray=r.formatArray,o.tilingScheme=void 0;var c=void 0,u=void 0;o.ready=!1,o.levelZeroMaximumGeometricError=void 0,o.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(r.offset,0),o.highest=e.defaultValue(r.highest,12e3),o.lowest=e.defaultValue(r.lowest,-500);var p=r.styleName;o.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName);var f=n.querySelector("[version]");null!==f&&(i=f.getAttribute("version"),u=/^1\.[3-9]\./.test(i));var d=n.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),m=d.indexOf("?");m>-1&&(d=d.substring(0,m)),e.defined(r.proxy)&&(d=r.proxy.getURL(d));var y=n.querySelectorAll("Request>GetMap>Format");if(!e.defined(o.formatImage))for(var b=0;b<y.length&&!e.defined(o.formatArray);b++){(g=t.FormatArray.filter((function(e){return e.format===y[b].textContent}))).length>0&&(o.formatArray=g[0])}e.defined(o.formatArray)&&"string"==typeof o.formatArray.format&&"function"==typeof o.formatArray.postProcessArray?o.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}:o.formatArray=void 0;for(b=0;b<y.length&&!e.defined(o.formatImage);b++){var g;(g=t.FormatImage.filter((function(e){return e.format===y[b].textContent}))).length>0&&(o.formatImage=g[0])}e.defined(o.formatImage)&&"string"==typeof o.formatImage.format?o.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0}:o.formatImage=void 0;for(var h,v=n.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),S=0;S<v.length&&!e.defined(h);S++)if(v[S].querySelector("Name").textContent===a){var O=(h=v[S]).getAttribute("fixedHeight"),w=h.getAttribute("fixedWidth");e.defined(O)&&(O=parseInt(O),o.heightMapHeight=O>0&&O<o.heightMapHeight?O:o.heightMapHeight,s.height=O>0?O:s.height),e.defined(w)&&(w=parseInt(w),o.heightMapWidth=w>0&&w<o.heightMapWidth?w:o.heightMapWidth,s.width=w>0?w:s.width)}if(e.defined(h)&&e.defined(i)){for(var E=!1,j=0;j<t.CRS.length&&!E;j++){var T=t.CRS[j],A=T.name,x=h.querySelector("BoundingBox[SRS='"+A+"'],BoundingBox[CRS='"+A+"']");if(null!==x){var _,P,M,C;l=A,c=T.firstAxeIsLatitude,o.tilingScheme=new T.tilingScheme({ellipsoid:T.ellipsoid}),c&&u?(_=parseFloat(x.getAttribute("miny")),P=parseFloat(x.getAttribute("maxy")),M=parseFloat(x.getAttribute("minx")),C=parseFloat(x.getAttribute("maxx"))):(_=parseFloat(x.getAttribute("minx")),P=parseFloat(x.getAttribute("maxx")),M=parseFloat(x.getAttribute("miny")),C=parseFloat(x.getAttribute("maxy")));new e.Rectangle(_,M,P,C);o.getTileDataAvailable=function(e,t,n){return!0},E=!0}}if(e.defined(p)){for(var L=h.querySelectorAll("Style>Name"),R=!1,I=0;I<L.length&&!R;I++)p===L[I].textContent&&(R=!0);R||(p=void 0)}for(var D=n.querySelectorAll("VendorSpecificCapabilities>TileSet"),k=!1,N=0;N<D.length&&!k;N++){var F=null!==D[N].querySelector("BoundingBox[SRS='"+l+"'],BoundingBox[CRS='"+l+"']");D[N].querySelector("Layers").textContent===a&&F&&(s.width=parseInt(D[N].querySelector("Width").textContent),s.height=parseInt(D[N].querySelector("Height").textContent),k=!0)}o.ready=E&&(e.defined(o.formatImage)||e.defined(o.formatArray))&&e.defined(i)}if(o.ready){var G=d+"?SERVICE=WMS&REQUEST=GetMap&layers="+a+"&version="+i+"&bbox=";if(G+=u&&c?"{south},{west},{north},{east}":"{west},{south},{east},{north}",G+="&crs="+l+"&srs="+l,o.formatImage){var U=G+"&format="+o.formatImage.format+"&width="+s.width+"&height="+s.height;e.defined(p)&&(U+="&styles="+p+"&style="+p),o.URLtemplateImage=function(){return U},o.imageSize=s}if(o.formatArray){var B=G+"&format="+o.formatArray.format+"&width="+o.heightMapWidth+"&height="+o.heightMapHeight;o.URLtemplateArray=function(){return B}}}return o},t.TMSParser.generate=function(n){var r;if(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT),e.defined(n.url))r=e.loadXML(n.url).then((function(e){return t.TMSParser.parseXML(e,n)}));else{if(!e.defined(n.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.TMSParser.parseXML(n.xml,n)}return r},t.TMSParser.parseXML=function(n,r){if(!(n instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o;if(null!=n.querySelector("TileMapService")){if(!e.defined(r.layerName))throw new e.DeveloperError("layerName is required.");var a=[].slice.apply(n.querySelectorAll("TileMap[title='"+r.layerName+"']")).map((function(n){var o=n.getAttribute("href");return e.defined(r.proxy)&&(o=r.proxy.getURL(o)),e.when(e.loadXML(o),(function(e){return t.TMSParser.getMetaDatafromXML(e,r)}))}));o=e.when.all(a).then((function(t){for(var n,r=0;r<t.length&&!e.defined(n);r++)e.defined(t[r])&&(n=t[r]);return n})).then((function(e){return e}))}else o=t.TMSParser.getMetaDatafromXML(n,r);return o},t.TMSParser.getMetaDatafromXML=function(n,r){var o={ready:!1};o.heightMapWidth=e.defaultValue(r.heightMapWidth,65),o.heightMapHeight=e.defaultValue(r.heightMapHeight,o.heightMapWidth);var a=e.defaultValue(r.maxLevel,11),i=r.proxy;o.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName),o.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(r.offset,0),o.highest=e.defaultValue(r.highest,12e3),o.lowest=e.defaultValue(r.lowest,-500);var s=n.querySelector("SRS").textContent,l=t.CRS.filter((function(e){return e.name===s}));l.length>0&&(o.tilingScheme=new l[0].tilingScheme({ellipsoid:l[0].ellipsoid}));var c=n.querySelector("TileFormat"),u=t.FormatImage.filter((function(e){return e.extension==c.getAttribute("extension")}));u.length>0&&(o.formatImage=u[0],o.imageSize={},o.imageSize.width=parseInt(c.getAttribute("width")),o.imageSize.height=parseInt(c.getAttribute("height")));var p=[].slice.call(n.querySelectorAll("TileSets>TileSet")),f=[];if(e.defined(o.formatImage)&&((f=p.map((function(t){var n=t.getAttribute("href")+"/{x}/{tmsY}."+o.formatImage.extension;return e.defined(i)&&(n=i.getURL(n)),{url:n,level:parseInt(t.getAttribute("order"))}}))).sort((function(e,t){return e.level-t.level})),f.length>0&&(o.tileSets=f)),e.defined(o.tileSets)&&e.defined(o.formatImage)&&e.defined(o.tilingScheme)){o.URLtemplateImage=function(e,t,n){var r="";return n<f.length&&(r=f[n].url),r};var d=n.querySelector("BoundingBox"),m=parseFloat(d.getAttribute("miny")),y=parseFloat(d.getAttribute("maxy")),b=parseFloat(d.getAttribute("minx")),g=parseFloat(d.getAttribute("maxx")),h=new e.Rectangle(b,m,g,y);o.getTileDataAvailable=function(t,n,r){var i,s,l,c,u,p,d=o.tilingScheme.tileXYToNativeRectangle(t,n,r),m=(i=h,s=d,l=Math.max(i.west,s.west),c=Math.min(i.east,s.east),u=Math.max(i.south,s.south),p=Math.min(i.north,s.north),c<=l||u>=p?void 0:new e.Rectangle(l,u,c,p));return e.defined(m)&&r<a&&r<f.length},o.ready=!0}else o=void 0;return o},t.WMTSParser.generate=function(n){var r;if(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT),e.defined(n.url)){var o=n.url,a=o.lastIndexOf("?");a>-1&&(o=o.substring(0,a));var i=o+"?REQUEST=GetCapabilities";e.defined(n.proxy)&&(i=n.proxy.getURL(i)),r=e.loadXML(i).then((function(e){return t.WMTSParser.getMetaDatafromXML(e,n)}))}else{if(!e.defined(n.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.WMTSParser.getMetaDatafromXML(n.xml,n)}return r},t.WMTSParser.getMetaDatafromXML=function(n,r){if(!(n instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o={},a=r.layerName;o.ready=!1,o.heightMapWidth=e.defaultValue(r.heightMapWidth,65),o.heightMapHeight=e.defaultValue(r.heightMapHeight,o.heightMapWidth);var i,s=e.defaultValue(r.maxLevel,12),l=r.proxy,c=r.styleName;o.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName),o.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(r.offset,0),o.highest=e.defaultValue(r.highest,12e3),o.lowest=e.defaultValue(r.lowest,-500);for(var u,p,f,d=[],m=[].slice.call(n.querySelectorAll('Operation[name="GetTile"] HTTP Get')).map((function(e){var t,n=e.querySelector("Value").textContent;return"KVP"===n&&(t={node:e,type:"KVP"}),"RESTful"===n&&(t={node:e,type:"RESTful"}),t})).filter((function(t){return e.defined(t)})),y=0;y<m.length;y++){var b=m[y];"RESTful"!==b.type||e.defined(p)||(p=b.node.getAttribute("xlink:href"),e.defined(l)&&(p=l.getURL(p))),"KVP"!==b.type||e.defined(u)||(u=b.node.getAttribute("xlink:href"),e.defined(l)&&(u=l.getURL(u)))}var g,h=n.querySelectorAll("Contents>Layer>Identifier");for(y=0;y<h.length&&!e.defined(g);y++)a===h[y].textContent&&(g=h[y].parentNode);if(e.defined(g)){var v,S,O=g.querySelectorAll("Style");for(y=0;y<O.length;y++){var w=O[y].querySelector("Identifier").textContent;null!=O[y].getAttribute("isDefault")&&(v=w),w===c&&(S=w)}e.defined(c)&&c==S||(c=e.defaultValue(v,""));for(var E=[].slice.call(g.querySelectorAll("Format")),j=0;j<t.FormatImage.length&&!e.defined(f);j++){E.filter((function(e){return e.textContent===t.FormatImage[j].format})).length>0&&(f=t.FormatImage[j])}d=g.querySelectorAll("TileMatrixSetLink")}for(var T=[].slice.call(n.querySelectorAll("TileMatrixSet>Identifier")),A=0;A<d.length&&!o.ready;A++){var x,_,P=d[A],M=P.querySelector("TileMatrixSet").textContent;for(y=0;y<T.length&&!e.defined(x);y++)T[y].textContent===M&&(x=T[y].parentNode);for(var C=x.querySelector("SupportedCRS").textContent,L=0;L<t.CRS.length&&!e.defined(_);L++)t.CRS[L].SupportedCRS===C&&(_=t.CRS[L]);if(e.defined(_)){var R,I=[].slice.call(x.querySelectorAll("TileMatrix"));(R=I.map((function(e){var t=e.querySelector("Identifier").textContent,n=parseInt(e.querySelector("MatrixWidth").textContent),r=parseInt(e.querySelector("MatrixHeight").textContent),o=parseInt(e.querySelector("TileWidth").textContent),a=parseInt(e.querySelector("TileHeight").textContent);return{id:t,maxWidth:n,maxHeight:r,scaleDenominator:parseFloat(e.querySelector("ScaleDenominator").textContent),complete:!1,tileWidth:o,tileHeight:a}}))).sort((function(e,t){return t.scaleDenominator-e.scaleDenominator})),listTileMatrixLimits=P.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var D=0;D<R.length;D++)for(var k=R[D],N=0;N<listTileMatrixLimits.length;N++){var F=listTileMatrixLimits[N];k.id===F.querySelector("TileMatrix").textContent&&(k.minTileRow=parseInt(F.querySelector("MinTileRow").textContent),k.maxTileRow=parseInt(F.querySelector("MaxTileRow").textContent),k.minTileCol=parseInt(F.querySelector("MinTileCol").textContent),k.maxTileCol=parseInt(F.querySelector("MaxTileCol").textContent),k.complete=!0,R[D]=k)}if(R.length>0){o.tilingScheme=new _.tilingScheme({ellipsoid:_.ellipsoid,numberOfLevelZeroTilesX:R[0].maxWidth,numberOfLevelZeroTilesY:R[0].maxHeight});var G=g.querySelector("ResourceURL[format='"+f.format+"']");if(null!=G?i=G.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",c).replace("{TileMatrixSet}",M).replace("{layer}",a).replace("{infoFormatExtension}",f.extension):e.defined(u)&&(i=u+"service=WMTS&request=GetTile&version=1.0.0&layer="+a+"&style=&"+c+"format="+f.format+"&TileMatrixSet="+M+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),e.defined(i)){o.getTileDataAvailable=function(e,t,n){var r=!1;if(n<s&&n<R.length){var o=R[n];r=o.complete?t<=o.maxTileRow&&t>=o.minTileRow&&e<=o.maxTileCol&&e>=o.minTileCol:e<o.maxWidth&&t<o.maxHeight}return r},o.URLtemplateImage=function(e,t,n){var r="";if(o.getTileDataAvailable(e,t,n)){var a=R[n];r=i.replace("{TileMatrix}",a.id)}return r};var U={width:R[0].tileWidth,height:R[0].tileHeight};0==R.filter((function(e){return e.tileWidth!=U.width||e.tileHeight!=U.height})).length&&(o.imageSize=U),o.ready=!0}}}}return o};var n=function(n){if(!e.defined(n))throw new e.DeveloperError("description is required.");var o=new e.Event,a=n.credit;"string"==typeof a&&(a=new e.Credit(a)),this.ready=!1,e.defineProperties(this,{errorEvent:{get:function(){return o}},credit:{get:function(){return a}},hasVertexNormals:{get:function(){return!1}}}),r(t.parser(n),this)};function r(t,r){e.when(t,(function(t){e.defined(t)&&t.ready&&(t.levelZeroMaximumGeometricError=e.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(t.tilingScheme.ellipsoid,t.heightMapWidth,t.tilingScheme.getNumberOfXTilesAtLevel(0)),e.defined(t.URLtemplateImage)&&(t.getHeightmapTerrainDataImage=function(i,s,l){var c;if(!isNaN(i+s+l)){var u=o(t.URLtemplateImage(i,s,l),i,s,l,r),p={highest:t.highest,lowest:t.lowest,offset:t.offset},f=a(i,s,l,r),d=e.throttleRequestByServer(u,e.loadImage);e.defined(d)&&(c=e.when(d,(function(e){return n.imageToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.waterMask,f,t.hasStyledImage)})).otherwise((function(){return new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return c}),e.defined(t.URLtemplateArray)&&(t.getHeightmapTerrainDataArray=function(i,s,l){var c;if(!isNaN(i+s+l)){var u=o(t.URLtemplateArray(i,s,l),i,s,l,r),p={highest:t.highest,lowest:t.lowest,offset:t.offset},f=a(i,s,l,r),d=e.throttleRequestByServer(u,e.loadArrayBuffer);e.defined(d)&&(c=e.when(d,(function(e){return n.arrayToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.formatArray,t.waterMask,f)})).otherwise((function(){return e.defined(t.getHeightmapTerrainDataImage)?t.getHeightmapTerrainDataImage(i,s,l):new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return c}),r.getLevelMaximumGeometricError=function(e){return t.levelZeroMaximumGeometricError/(1<<e)},r.requestTileGeometry=function(n,r,o){var a;return e.defined(t.getHeightmapTerrainDataArray)?a=t.getHeightmapTerrainDataArray(n,r,o):e.defined(t.getHeightmapTerrainDataImage)&&(a=t.getHeightmapTerrainDataImage(n,r,o)),a},e.defineProperties(r,{tilingScheme:{get:function(){return t.tilingScheme}},ready:{get:function(){return t.ready}},hasWaterMask:{get:function(){return t.waterMask}},heightMapHeight:{get:function(){return t.heightMapHeight}},heightMapWidth:{get:function(){return t.heightMapWidth}},getTileDataAvailable:{get:function(){return t.getTileDataAvailable}}}))}))}function o(e,t,n,r,o){var a=o.tilingScheme.tileXYToNativeRectangle(t,n,r),i=(a.east-a.west)/(o.heightMapWidth-1),s=(a.north-a.south)/(o.heightMapHeight-1);a.west-=.5*i,a.east+=.5*i,a.south-=.5*s,a.north+=.5*s;var l=o.tilingScheme.getNumberOfYTilesAtLevel(r)-n-1;return e.replace("{south}",a.south).replace("{north}",a.north).replace("{west}",a.west).replace("{east}",a.east).replace("{x}",t).replace("{y}",n).replace("{tmsY}",l)}function a(e,t,n,r){var o=0,a=n+1;return o|=r.getTileDataAvailable(2*e,2*t,a)?1:0,o|=r.getTileDataAvailable(2*e+1,2*t,a)?2:0,o|=r.getTileDataAvailable(2*e,2*t+1,a)?4:0,o|=r.getTileDataAvailable(2*e+1,2*t+1,a)?8:0}return n.arrayToHeightmapTerrainData=function(t,n,r,o,a,i){"number"==typeof r&&(r={width:r,height:r});var s=o.postProcessArray(t,r,n.highest,n.lowest,n.offset);if(!e.defined(s))throw new e.DeveloperError("no good size");var l={buffer:s,width:r.width,height:r.height,childTileMask:i,structure:o.terrainDataStructure};if(a){for(var c=new Uint8Array(s.length),u=0;u<s.length;u++)s[u]<=0&&(c[u]=255);l.waterMask=c}return new e.HeightmapTerrainData(l)},n.imageToHeightmapTerrainData=function(t,n,r,o,a,i){"number"==typeof r&&(r={width:r,height:r});for(var s=e.getImagePixels(t,r.width,r.height),l=new Uint8Array(s.length/4),c=new Int16Array(s.length/4),u=0,p=0,f=0;f<s.length;f+=4){var d=s[f],m=s[f+1],y=s[f+2]>128,b=(d<<8|m)-n.offset-32768;b>n.lowest&&b<n.highest&&(y||i)?(c[f/4]=b,p+=b,u++):c[f/4]=0==u?0:p/u}var g={buffer:c,width:r.width,height:r.height,childTileMask:a,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(o){for(l=new Uint8Array(heightBuffer.length),f=0;f<heightBuffer.length;f++)heightBuffer[f]<=0&&(l[f]=255);g.waterMask=l}return new e.HeightmapTerrainData(g)},n}},"./MapStore2/web/client/utils/cesium/ClickUtils.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/cesium.js");e.exports={getMouseXYZ:function(e,t){var n=e.scene,o=t.position||t.endPosition;if(!o)return null;var a=e.camera.getPickRay(o),i=e.scene.globe.pick(a,e.scene),s=n._globe.ellipsoid;if(r.defined(i)){var l=s.cartesianToCartographic(i),c=function(e,t){if(null!==t.position){var n=e.scene,r=n._globe.ellipsoid;return n._camera.pickEllipsoid(t.position||t.endPosition,r)}return null}(e,t);return c&&(l.height=n._globe.getHeight(l),l.cartesian=c,l.position=i),l}return null},getMouseTile:function(e,t){var n=e.scene;if(!t.position)return null;var r=e.camera.getPickRay(t.position);return e.scene.globe.pickTile(r,n)}}},"./MapStore2/web/client/utils/cesium/WMSUtils.js":function(e,t){e.exports={PARAM_OPTIONS:["layers","styles","style","format","transparent","version","tiled","opacity","zindex","srs","singletile","_v_","filterobj"]}},"./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"boundsToOLExtent",(function(){return r})),n.d(t,"fromLeafletFeatureToQueryform",(function(){return o}));var r=function(e){return[e.getWest(),e.getSouth(),e.getEast(),e.getNorth()]},o=function(e){var t=e.toGeoJSON(),n=e.getBounds(),o=r(n),a=n.getCenter(),i=e.getRadius?e.getRadius():0,s=t.features[0].geometry.coordinates;return{type:t.features[0].geometry.type,extent:o,center:a,coordinates:s,radius:i,projection:"EPSG:4326"}}},"./MapStore2/web/client/utils/leaflet/Icons.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js"),o=n("./node_modules/lodash/lodash.js").isFunction;n("./node_modules/leaflet-extra-markers/src/assets/js/leaflet.extra-markers.js"),n("./node_modules/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css"),e.exports={extra:{getIcon:function(e){var t=e.iconPrefix||"fa";return r.ExtraMarkers.icon({icon:t+"-"+e.iconGlyph,markerColor:e.iconColor||"blue",shape:e.iconShape||"square",prefix:t,extraClasses:e.highlight?"marker-selected":""})}},standard:{getIcon:function(e){return r.icon({iconUrl:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl,shadowUrl:e.shadowUrl,iconSize:e.iconSize,shadowSize:e.shadowSize,iconAnchor:e.iconAnchor,shadowAnchor:e.shadowAnchor,popupAnchor:e.popupAnchor})}},html:{getIcon:function(e,t){return r.divIcon(o(e.html)?e.html(t):e.html)}}}},"./MapStore2/web/client/utils/leaflet/Vector.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./MapStore2/web/client/libs/leaflet.js"),s=n("./MapStore2/web/client/utils/leaflet/Icons.js"),l=n("./node_modules/object-assign/index.js"),c=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),u=c.isMarkerStyle,p=c.isSymbolStyle,f=function e(t,n,r){for(var o,a=[],i=t.length,s=0;s<i;s++)o=n?e(t[s],n-1,r):(r||this.coordsToLatLng)(t[s]),a.push(o);return a},d=function(e){if("GeometryCollection"===e.geometry.type)return!1;var t=e.style;return t&&(u(t)||p(t)||t.iconUrl||t.iconGlyph)},m={coordsToLatLngF:function(e){return new i.LatLng(e[1],e[0],e[2])},coordsToLatLngs:f,isMarker:d,getPointLayer:function(e,t,n,r){return e?e(t,n):m.pointToLayer(n,t,o(o({},r.style),{},{styleName:r.styleName,highlight:r.highlight}))},pointToLayer:function(e,t,n){var r=n.Point||n.MultiPoint||n,o=function(e,t){if(e&&e.iconGlyph){var n=e.iconLibrary||"extra";if(s[n])return s[n].getIcon(e)}return e&&e.html&&t?s.html.getIcon(e,t):e&&e.iconUrl||e.symbolUrlCustomized||e.symbolUrl?s.standard.getIcon(e):null}(r,t);return o?i.marker(e,{icon:o,opacity:r&&r.opacity||1}):i.marker(e,{opacity:r&&r.opacity||1})},toValidGeoJSON:function(){},createTextPointMarkerLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointToLayer,n=e.geojson,r=e.latlng,a=e.options,s=e.style,l=void 0===s?{}:s,c=e.highlight,u=void 0!==c&&c;if(n.properties&&n.properties.isText){var p=i.divIcon({html:'<span style="\n                font:'.concat(l.font,";\n                color:").concat(l.fillColor,";\n                -webkit-text-stroke-width:",1,"px;\n                -webkit-text-stroke-color:").concat(l.color,';">').concat(n.properties.valueText,"</span>"),className:""});return new i.Marker(r,{icon:p})}return m.getPointLayer(t,n,r,o(o({},a),{},{style:l,highlight:u}))},createPolygonCircleLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geojson,n=e.style,r=void 0===n?{}:n,a=e.latlngs,s=void 0===a?[]:a,l=e.coordsToLatLng,c=void 0===l?function(){}:l;if(t.properties&&t.properties.isCircle){var u=c(t.properties.center);return i.circle(u,o(o({},r),{},{radius:t.properties.radius}))}return new i.Polygon(s,r)},geometryToLayer:function(e,t){var n,r="Feature"===e.type?e.geometry:e,a=r?r.coordinates:null,s=[],c=o({styleName:t.styleName,style:t.style&&t.style[0]||t.style},e),u=t&&!d(c)?function(e,t){return"marker"===c.styleName?i.marker(t,c.style):i.circleMarker(t,c.style&&c.style[0]||c.style)}:null,p=t&&t.coordsToLatLng||m.coordsToLatLngF;if(!a&&!r)return null;var y,b,g,h,v=c.style||l({},t.style&&t.style[r.type]||t.style,{highlight:t.style&&t.style.highlight});switch(r.type){case"Point":return y=p(a),n=m.createTextPointMarkerLayer({pointToLayer:u,geojson:e,latlng:y,options:t,style:v,highlight:v&&v.highlight});case"MultiPoint":for(g=0,h=a.length;g<h;g++)y=p(a[g]),(n=m.createTextPointMarkerLayer({pointToLayer:u,geojson:e,latlng:y,options:t,style:v,highlight:v&&v.highlight})).msId=e.id,s.push(n);return new i.FeatureGroup(s);case"LineString":return v=m.updateHighlightStyle(v),b=f(a,"LineString"===r.type?0:1,p),(n=new i.Polyline(b,v)).msId=e.id,n;case"MultiLineString":for(v=m.updateHighlightStyle(v),g=0,h=(b=f(a,"LineString"===r.type?0:1,p)).length;g<h;g++)(n=new i.Polyline(b[g],v)).msId=e.id,n&&s.push(n);return new i.FeatureGroup(s);case"Polygon":return v=m.updateHighlightStyle(v),b=f(a,"Polygon"===r.type?1:2,p),(n=m.createPolygonCircleLayer({geojson:e,style:v,latlngs:b,coordsToLatLng:p})).msId=e.id,n;case"MultiPolygon":for(v=m.updateHighlightStyle(v),g=0,h=(b=f(a,"Polygon"===r.type?1:2,p)).length;g<h;g++)(n=m.createPolygonCircleLayer({geojson:e,style:v,latlngs:b,coordsToLatLng:p})).msId=e.id,n&&s.push(n);return new i.FeatureGroup(s);case"GeometryCollection":for(g=0,h=r.geometries.length;g<h;g++)(n=m.geometryToLayer({geometry:r.geometries[g],type:"Feature",properties:e.properties},t))&&s.push(n);return new i.FeatureGroup(s);default:throw new Error("Invalid GeoJSON object.")}},updateHighlightStyle:function(e){var t=e.highlight;return t?l({},e,{dashArray:t?"10":null}):e}};e.exports=m},"./MapStore2/web/client/utils/leaflet/WMSUtils.js":function(e,t,n){var r=n("./node_modules/object-assign/index.js"),o={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return r({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(n){n&&n.toLowerCase&&o.PARAM_OPTIONS.indexOf(n.toLowerCase())>=0&&(t[n]=e[n])})),t}};e.exports=o},"./MapStore2/web/client/utils/leaflet/WMTS.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=n("./MapStore2/web/client/libs/leaflet.js"),i=n("./MapStore2/web/client/utils/MapUtils.js"),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=n("./node_modules/lodash/lodash.js"),c=l.head,u=l.isNumber,p=a.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,n){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=a.extend({},this.defaultWmtsParams),o=t.tileSize||this.options.tileSize;for(var i in t.detectRetina&&a.Browser.retina?r.width=r.height=2*o:r.width=r.height=o,t)this.options.hasOwnProperty(i)||"crs"===i||(r[i]=t[i]);this.wmtsParams=r,this.matrixIds=n.matrixIds&&this.getMatrix(n.matrixIds,n)||this.getDefaultMatrix(n),this.matrixSet=n.matrixSet&&n.matrixSet.TileMatrix||[],this.ignoreErrors=n.ignoreErrors||!1,a.setOptions(this,t)},getWMTSParams:function(e,t,n,r,o){var a=i.getScales()[n],l=c(e.map((function(t,n){if(n===e.length-1)return null;var r=parseFloat(t.ScaleDenominator),o=parseFloat(e[n+1].ScaleDenominator);return r>=a&&o<a?a-o>(r-o)/2?{id:n,data:t}:{id:n+1,data:e[n+1]}:null})).filter((function(e){return e}))),p=l&&u(l.id)&&l.id+""||0===e.length&&n||null;if(!t[p])return null;var f=t[p].identifier,d=l.data&&l.data.TopLeftCorner&&s.parseString(l.data.TopLeftCorner)||t[p].topLeftCorner,m=d.lng||d.x,y=d.lat||d.y,b=Math.round((r.x-m)/o),g=-Math.round((r.y-y)/o),h=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},v=t[p].ranges||h;return v&&!function(e,t,n){return!(e<n.cols.min||e>n.cols.max)&&!(t<n.rows.min||t>n.rows.max)}(b,g,v)?null:{ident:f,tilecol:b,tilerow:g}},getTileUrl:function(e){var t=this._map,n=t.options.crs,o=this.options.tileSize,i=e.multiplyBy(o);i.x+=1,i.y-=1;var s=i.add([o,o]),l=n.project(t.unproject(i,e.z)),c=n.project(t.unproject(s,e.z)).x-l.x,u=this.getWMTSParams(r(this.matrixSet),r(this.matrixIds),e.z,l,c);if(!u)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=a.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:u.tilerow,TileCol:u.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:u.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+a.Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+u.ident+"&tilerow="+u.tilerow+"&tilecol="+u.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new a.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),n=0;n<22;n++)t[n]={identifier:e.tileMatrixPrefix+n,topLeftCorner:new a.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=p},"./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/lodash/isArray.js"),o=n.n(r),a=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=n("./node_modules/ol/extent.js"),s=n("./node_modules/ol/geom/Circle.js"),l=function(e,t,n,r){if(o()(t)&&o()(t[0])&&o()(t[0][0])){var i=Object(a.reproject)(t[0][0],r,n);return Math.sqrt(Math.pow(e[0]-i.x,2)+Math.pow(e[1]-i.y,2))}return 100},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(!e.getGeometry()||"Polygon"!==e.getGeometry().getType()||e.getProperties().center&&0===e.getProperties().center.length)return e;if(e.getProperties()&&e.getProperties().isCircle&&e.getProperties().center&&e.getProperties().center[0]&&e.getProperties().center[1]){var r,o=e.getGeometry().getExtent();r=e.getProperties().center?[(r=Object(a.reproject)(e.getProperties().center,"EPSG:4326",t)).x,r.y]:Object(i.x)(o);var c=e.getProperties().crs===t?e.getProperties().radius:l(r,e.getGeometry().getCoordinates(),t,n);return e.setGeometry(new s.a(r,c)),e}return e}},"./MapStore2/web/client/utils/openlayers/DrawUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"createOLGeometry",(function(){return v})),n.d(t,"isPolygon",(function(){return S})),n.d(t,"DEFAULT_INTERACTION_OPTIONS",(function(){return O}));var r=n("./node_modules/ol/interaction/DragPan.js"),o=n("./node_modules/ol/interaction/KeyboardPan.js"),a=n("./node_modules/ol/interaction/MouseWheelZoom.js"),i=n("./node_modules/ol/interaction/DoubleClickZoom.js"),s=n("./node_modules/ol/interaction/DragZoom.js"),l=n("./node_modules/ol/interaction/KeyboardZoom.js"),c=n("./node_modules/ol/interaction/PinchZoom.js"),u=n("./node_modules/ol/interaction/PinchRotate.js"),p=n("./node_modules/ol/interaction/DragRotate.js"),f=n("./node_modules/ol/geom/Point.js"),d=n("./node_modules/ol/geom/LineString.js"),m=n("./node_modules/ol/geom/MultiPoint.js"),y=n("./node_modules/ol/geom/MultiLineString.js"),b=n("./node_modules/ol/geom/MultiPolygon.js"),g=n("./node_modules/ol/geom/Circle.js"),h=n("./node_modules/ol/geom/Polygon.js"),v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,r=t.coordinates,o=t.radius,a=t.center;switch(n){case"Point":e=new f.a(r||[]);break;case"LineString":e=new d.a(r||[]);break;case"MultiPoint":e=new m.a(r||[]);break;case"MultiLineString":e=new y.a(r||[]);break;case"MultiPolygon":e=new b.a(r||[]);break;default:e=o&&a?Object(h.c)(new g.a([a.x,a.y],o),100):new h.b(r||[])}return e},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.geometry&&"Polygon"===e.geometry.type},O={dragPan:{options:{kinetic:!1},Instance:r.a},keyboardPan:{options:{kinetic:!1},Instance:o.a},mouseWheelZoom:{options:{duration:0},Instance:a.a},doubleClickZoom:{options:{duration:0},Instance:i.a},shiftDragZoom:{options:{duration:0},Instance:s.a},keyboardZoom:{options:{},Instance:l.a},pinchZoom:{options:{duration:0},Instance:c.a},pinchRotate:{options:{},Instance:u.a},altShiftDragRotate:{options:{},Instance:p.a}}},"./MapStore2/web/client/utils/openlayers/VectorTileUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/ol/format/MVT.js"),o=n("./node_modules/ol/format/GeoJSON.js"),a=n("./node_modules/ol/format/TopoJSON.js"),i=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),s={"application/vnd.mapbox-vector-tile":r.a,"application/json;type=geojson":o.a,"application/json;type=topojson":a.a},l=function(e,t){Object(i.d)({asPromise:!0,style:e}).then((function(e){t.setStyle(e)})).catch((function(){}))}},"./MapStore2/web/client/utils/openlayers/highlight.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAABIUlEQVRIS+3UsYoCMRDG8f8q+EBid5WNnc019la2Vr6Ala1g4SvY+RTXiVdcJQgHV9jJIdhKZCNx2GwyibCNW4bd+X47k6Sg4adoOJ83wNcBsz4CvoGfF4zpEzgCO1mrCmDWpsAC+Af6wD4DMQGWwBUYAF9uLQlww1vli+cMhA1vl7UuEuECqsItNgUhw22tJ4QLGANrwP657LoG4Qt3EV3g4ALMfLZAp2beMYhQuCn/B/SAk9wDQ2CTgYgN/wB+jaTqFKQi1OE+gFnXIpLC6wAaxAqYAfaoVW0hM/NH2+vuAflxTCdCd5Q3PNQBWzgHURseC4gdh+xEMFwD0CKiwrWAWER0eAoghFCFpwJ8CHV4DkAiksJzARYxL2/O+92ufW42SVMYbhcsEwAAAABJRU5ErkJgggAA"},"./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./js/epics/index.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./node_modules/rxjs/Rx.js"),s=n("./MapStore2/web/client/actions/layers.js").SELECT_NODE,l=n("./MapStore2/web/client/actions/featuregrid.js").setPermission,c=n("./MapStore2/web/client/actions/styleeditor.js"),u=c.setEditPermissionStyleEditor,p=c.INIT_STYLE_SERVICE,f=n("./js/api/geonode.js"),d=f.layerEditPermissions,m=f.styleEditPermissions,y=f.updateThumb,b=n("./MapStore2/web/client/selectors/layers.js"),g=b.getSelectedLayer,h=b.layersSelector,v=n("./MapStore2/web/client/selectors/map.js").mapSelector,S=n("./MapStore2/web/client/utils/ConfigUtils.js"),O=n("./MapStore2/web/client/actions/maplayout.js").updateMapLayout,w=n("./MapStore2/web/client/actions/controls.js"),E=w.TOGGLE_CONTROL,j=w.SET_CONTROL_PROPERTY,T=w.SET_CONTROL_PROPERTIES,A=n("./MapStore2/web/client/actions/config.js").MAP_CONFIG_LOADED,x=n("./MapStore2/web/client/actions/featuregrid.js"),_=x.SIZE_CHANGE,P=x.CLOSE_FEATURE_GRID,M=x.OPEN_FEATURE_GRID,C=n("./MapStore2/web/client/actions/mapInfo.js"),L=C.CLOSE_IDENTIFY,R=C.ERROR_FEATURE_INFO,I=C.TOGGLE_MAPINFO_STATE,D=C.LOAD_FEATURE_INFO,k=C.EXCEPTIONS_FEATURE_INFO,N=C.NO_QUERYABLE_LAYER,F=n("./MapStore2/web/client/actions/layers.js"),G=F.SHOW_SETTINGS,U=F.HIDE_SETTINGS,B=n("./MapStore2/web/client/actions/mapInfo.js").PURGE_MAPINFO_RESULTS,z=n("./MapStore2/web/client/selectors/mapInfo.js").isMapInfoOpen,H=n("./MapStore2/web/client/selectors/featuregrid.js"),V=H.isFeatureGridOpen,W=H.getDockSize,Y=n("./node_modules/lodash/lodash.js"),q=Y.head,Z=Y.get,K=n("./MapStore2/web/client/epics/maps.js").mapSaveMapResourceEpic,Q=n("./MapStore2/web/client/selectors/controls.js").showCoordinateEditorSelector;e.exports={mapSaveMapResourceEpic:K,_setFeatureEditPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(s).filter((function(e){return"layer"===e.nodeType&&!S.getConfigProp("disableCheckEditPermissions")})).switchMap((function(){var e=g(n()||{});return e?d(e).map((function(e){return l(e)})).startWith(l({canEdit:!1})).catch((function(){return i.Observable.empty()})):i.Observable.of(l({canEdit:!1}))}))},_setThumbnail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType("GEONODE:CREATE_MAP_THUMBNAIL","GEONODE:CREATE_LAYER_THUMBNAIL").do((function(){try{$("#_thumbnail_processing").modal("show")}catch(e){console.log(e)}})).exhaustMap((function(e){var t=e.type,r=n(),o=h(r),a=v(r),s="GEONODE:CREATE_MAP_THUMBNAIL"===t,l=s?Z(a,"info.id"):o[o.length-1].name,c=s?"maps":"layers",u=a.size,p=u.width,f=u.height,d=a.bbox.bounds,m=d.maxx,b=d.minx,g=d.maxy,S={bbox:[b,m,d.miny,g],srid:a.bbox.crs,center:a.center,zoom:a.zoom,width:p,height:f,layers:o.filter((function(e){return"background"!==e.group&&e.visibility})).map((function(e){return e.name})).join(",")};return y(c,l,S).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.status;try{$("#_thumbnail_feedbacks").find(".modal-title").text(n),$("#_thumbnail_feedbacks").find(".modal-body").text(t),$("#_thumbnail_feedbacks").modal("show")}catch(e){console.log(e)}})).mapTo({type:"THUMBNAIL_UPDATE"}).catch((function(e){var t=e.code,n=e.message;try{"ECONNABORTED"===t?($("#_thumbnail_feedbacks").find(".modal-title").text("Timeout"),$("#_thumbnail_feedbacks").find(".modal-body").text("Failed from timeout: Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show")):($("#_thumbnail_feedbacks").find(".modal-title").text("Error: "+n),$("#_thumbnail_feedbacks").find(".modal-body").text("Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show"))}catch(e){console.log(e)}finally{return i.Observable.of({type:"THUMBNAIL_UPDATE_ERROR"})}})).do((function(){try{$("#_thumbnail_processing").modal("hide")}catch(e){console.log(e)}}))}))},_setStyleEditorPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(p,s).filter((function(e){var t=e.nodeType;return t&&"layer"===t&&!S.getConfigProp("disableCheckEditPermissions")||!t&&!S.getConfigProp("disableCheckEditPermissions")})).switchMap((function(e){var t=g(n()||{});return t?m(t).map((function(e){var t=e.canEdit;return u(t)})).startWith(u(e.canEdit)).catch((function(){return i.Observable.empty()})):i.Observable.of(u(!1))}))},updateMapLayoutEpic:function(e,t){return e.ofType(A,_,N,T,P,M,L,I,D,k,E,j,G,U,R,B).switchMap((function(){var e=t.getState();if(Z(e,"browser.mobile")){var n=o({},z(e)?{bottom:"50%"}:{bottom:void 0});return i.Observable.of(O({boundingMapRect:n}))}var r=S.getConfigProp("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}};if("embedded"===Z(e,"mode")){var a={height:"calc(100% - "+r.bottom.sm+"px)"},s=o({},z(e)?{bottom:"50%"}:{bottom:void 0});return i.Observable.of(O(o(o({},a),{},{boundingMapRect:s})))}var l=Z(e,"controls.drawer.resizedWidth"),c=q([Z(e,"controls.queryPanel.enabled")&&{left:r.left.lg}||null,Z(e,"controls.widgetBuilder.enabled")&&{left:r.left.md}||null,Z(e,"layers.settings.expanded")&&{left:r.left.md}||null,Z(e,"controls.drawer.enabled")&&{left:l||r.left.sm}||null].filter((function(e){return e})))||{left:0},u=q([Z(e,"controls.details.enabled")&&{right:r.right.md}||null,Z(e,"controls.annotations.enabled")&&{right:r.right.md}||null,Z(e,"controls.metadataexplorer.enabled")&&{right:r.right.md}||null,Z(e,"controls.measure.enabled")&&Q(e)&&{right:r.right.md}||null,Z(e,"mapInfo.enabled")&&z(e)&&{right:r.right.md}||null].filter((function(e){return e})))||{right:0},p=100*W(e),f=V(e)&&{bottom:p+"%",dockSize:p}||{bottom:r.bottom.sm},d=V(e)&&{transform:"translate(0, -"+r.bottom.sm+"px)"}||{transform:"none"},m={height:"calc(100% - "+r.bottom.sm+"px)"},y=o(o(o({},f),c),u);return i.Observable.of(O(o(o(o(o(o(o({},c),u),f),d),m),{},{boundingMapRect:y})))}))}}},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\n.msgapi .background-preview-button-label {\n    position: absolute;\n    overflow: hidden;\n    font-weight: bold;\n    font-size: 12px;\n    text-align: center;\n    -webkit-transition: all 0.0s;\n    -moz-transition: all 0.0s;\n    -o-transition: all 0.0s;\n    transition: all 0.0s;\n\n}\n\n.msgapi .background-preview-button-label div {\n    overflow: hidden;\n    opacity: 0.8;\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\n}\n\n.msgapi .background-preview-button-container {\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-button-frame {\n    overflow: hidden;\n    -webkit-transition: all 0.3s;\n    -moz-transition: all 0.3s;\n    -o-transition: all 0.3s;\n    transition: all 0.3s;\n}\n\n.msgapi .background-preview-button-frame img{\n    width: 100%;\n    height: 100%;\n}\n\n.msgapi .background-preview-button-container:hover {\n    cursor: pointer;\n    box-shadow: none;\n}\n\n.msgapi .background-preview-button-container:active {\n    opacity: 0.6;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\n.msgapi .background-preview-icon-frame {\n    overflow: hidden;\n}\n\n.msgapi .background-preview-icon-frame img{\n    width: 100%;\n    height: 100%;\n}\n\n.msgapi .background-preview-icon-container-horizontal {\n    cursor: pointer;\n    float: left;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-horizontal:hover {\n    cursor: pointer;\n    box-shadow: none;\n    opacity: 0.9;\n}\n\n.msgapi .background-preview-icon-container-horizontal:active {\n    opacity: 0.6;\n}\n\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\n    cursor: not-allowed;\n    float: left;\n    opacity: 0.5;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-vertical {\n    cursor: pointer;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n\n.msgapi .background-preview-icon-container-vertical:hover {\n    cursor: pointer;\n    box-shadow: none;\n    opacity: 0.9;\n}\n\n.msgapi .background-preview-icon-container-vertical:active {\n    opacity: 0.6;\n}\n\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\n    cursor: not-allowed;\n    opacity: 0.5;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar .mapstore-tb-helpbadge {\n    display: block;\n    background-color: #777;\n    position: absolute;\n    z-index: 1000;\n    top : -10px;\n    left: -10px;\n}\n\n\n.msgapi #helpbadge-zoomToMaxExtent {\n    display: inline;\n    position: absolute;\n    left: 34px;\n    top: 72px;\n    z-index: 100000\n}\n\n.msgapi #helpbadge-scaleBox {\n    display: inline;\n    position: absolute;\n    left: 116px;\n    bottom: 48px;\n    z-index: 100000\n}\n\n.msgapi #helpbadge-seachBar {\n    display: inline;\n    position: absolute;\n    left: 46px;\n    top: 10px;\n    z-index: 100000\n}\n\n\n.msgapi .btn .badge {\n    position: absolute;\n    top: -10px;\n    left: -10px;\n}\n\n.msgapi .themed .btn .badge {\n    top: -35px;\n    left: -50px;\n}\n\n.msgapi .badge {\n    cursor: pointer;\n}\n\n.msgapi #helpbadge-scaleBox {\n    left: 0 !important;\n}\n\n.msgapi #mapstore-navbar #helpbadge-search-help {\n    position: absolute;\n    left: -10px;\n    bottom: -8px;\n    z-index: 1;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .leaflet-control-minimap {\n    border:solid rgba(255, 255, 255, 1.0) 4px;\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n    border-radius: 3px;\n    background: #f8f8f9;\n    transition: all .2s;\n}\n.msgapi .leafletbottom.leafletright, .msgapi .leaflet-control-minimap{\n    position:relative;\n    bottom:5px;\n}\n.msgapi .leaflet-control-minimap a {\n    background-color: rgba(255, 255, 255, 1.0);\n    background-repeat: no-repeat;\n    z-index: 99999;\n    transition: all .2s;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-bottomright {\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n    border-radius: 0px;\n    bottom: -3px;\n    right: -3px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-topleft {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-bottomleft {\n    -webkit-transform: rotate(270deg);\n    transform: rotate(270deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap a.minimized-topright {\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n    border-radius: 0px;\n}\n\n.msgapi .leaflet-control-minimap-toggle-display{\n    background-image: url("+n("./MapStore2/web/client/components/map/leaflet/img/toggle.svg")+");\n    background-size: cover;\n    position: absolute;\n    border-radius: 3px 0px 0px 0px;\n}\n\n.msgapi .leaflet-oldie .leaflet-control-minimap-toggle-display{\n    background-image: url("+n("./MapStore2/web/client/components/map/leaflet/img/toggle.png")+");\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-bottomright {\n    bottom: 0;\n    right: 0;\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-topleft{\n    top: 0;\n    left: 0;\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-bottomleft{\n    bottom: 0;\n    left: 0;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.msgapi .leaflet-control-minimap-toggle-display-topright{\n    top: 0;\n    right: 0;\n    -webkit-transform: rotate(270deg);\n    transform: rotate(270deg);\n}\n\n/* Old IE */\n.msgapi .leaflet-oldie .leaflet-control-minimap {\n    border: 1px solid #999;\n}\n\n.msgapi .leaflet-oldie .leaflet-control-minimap a {\n    background-color: #fff;\n}\n\n.msgapi .leaflet-oldie .leaflet-control-minimap a.minimized {\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-control button:hover, .msgapi .ol-control button:focus {\n    background-color: #f4f4f4;\n}\n.msgapi .ol-zoom .ol-zoom-out, .msgapi .ol-zoom .ol-zoom-in{\n    width: 26px;\n    height: 26px;\n    line-height: 26px;\n    display: block;\n\n    color: black;\n    background-color: #fff;\n    border-width: 0;\n    margin:0;\n}\n.msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-in, .msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-out {\n    font-family: 'Lucida Console', Monaco, monospace;\n    text-align: center;\n    text-decoration: none;\n    font-weight: bold;\n}\n\n.msgapi .ol-zoom .ol-zoom-out{\n    font-size: 18px;\n    border-radius: 0 0 4px 4px;\n}\n.msgapi .ol-zoom .ol-zoom-in{\n    border-bottom: 1px solid #ccc;\n    border-radius: 4px 4px 0 0;\n    font-size: 20px;\n}\n.msgapi .ol-zoom.ol-unselectable.ol-control{\n    top:10px;\n    left:10px;\n    padding:0;\n    box-shadow: rgba(0, 0, 0, 0.65098) 0px 1px 5px 0px;\n    border-radius: 4px;\n}\n\n.msgapi .ol-scale-line.ol-unselectable{\n    background-color: rgba(255, 255, 255, 0.8);\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-custom-overviewmap,\n       .msgapi .ol-custom-overviewmap.ol-uncollapsible {\n          bottom: 20px;\n          left: auto;\n          right: 10px;\n          top: auto;\n\n      }\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed)  {\n\n           box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n           border-radius: 1px;\n           transition: all .2s;\n      }\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-map {\n          border: none;\n          width: 300px;\n          height: 150px;\n\n      }\n\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-box {\n          border: 1px solid black;\n          cursor: pointer;\n          border-radius: 5px;\n      }\n\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed) button{\n          bottom: auto;\n          left: auto;\n          right: 2px;\n          bottom: 2px;\n      }\n\n      .msgapi .ol-rotate {\n          top: 170px;\n          right: 0;\n      }\n      .msgapi .ol-overview-dargbox{\n           border: 1px solid black;\n           background-color: rgba(125,125,0,.5);\n           border-radius: 5px;\n      }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\n    margin: 0 !important;\n    width: 40px !important;\n    position:static !important;\n    border-radius: 0 !important;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-burger-menu {\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.msgapi .burger-menu-submenu {\n    display: none;\n    position: absolute;\n    left: -160px;\n    top: 0px;\n    background-color: white;\n    width: 160px;\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\n}\n\n.msgapi .burger-menu-submenu li:hover {\n    background-color: #dddddd;\n}\n\n.msgapi .burger-menu-submenu li a {\n    display: block;\n    padding: 10px 15px;\n}\n\n.msgapi .burger-menu-submenu li a:hover {\n    text-decoration: none;\n    background-color: #dddddd;\n}\n\n.msgapi #mapstore-burger-menu .dropdown-menu > li > a:hover > span > .burger-menu-submenu,\n.msgapi .burger-menu-submenu > li > a:hover > span > .burger-menu-submenu {\n    display: block;\n}\n\n.msgapi .burger-menu-submenu span {\n    overflow: hidden;\n}\n\n.msgapi #mapstore-navbar #mapstore-burger-menu {\n    position: relative;\n    float: right;\n    left: 0;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .swipe-header-left-button {\n    float: left;\n}\n\n.msgapi .swipe-header-right-button {\n    float: right;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapErrorMessage {\n    font-size: 16px;\n    color: red;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\n    width: 28px;\n    height: 28px;\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\n    background-color: white;\n    background-size: 80px 80px;\n    background-repeat: no-repeat;\n    border-radius: 4px;\n    border: 1px solid #999;\n    z-index: 10;\n    top: 90px;\n    left: 2px;\n    position: absolute;\n    margin: 8px;\n}\n\n.msgapi #mapstore-globalspinner .circle-wrapper {\n    margin-left: 2px;\n    margin-top: 1px;\n}\n\n.msgapi #mapstore-toolbar #mapstore-globalspinner {\n    position: static;\n    width: 42px;\n    margin: 0;\n    margin-top: 0;\n    height: 35px;\n    box-shadow: none;\n}\n\n.msgapi .ms2-loading .sk-circle-wrapper {\n     width: 30px;\n     height: 30px;\n     margin-left: 10px !important;\n     margin-top: 10px !important;\n }\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/*viewer navbar */\n.msgapi .navbar-dx{\n\tposition:absolute;\n\tright:0;\n\ttop:0;\n}\n\n.msgapi .navbar-dx > ul{\n\tpadding:0;\n}\n\n.msgapi .navbar-dx > ul > li{\n\tfloat: left;\n\tlist-style:none;\n}\n\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\n    right: 0;\n    top: 0;\n    left: 0;\n}\n\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\n    border-color: #fff;\n    border-right: 0;\n    webkit-box-shadow: none;\n    box-shadow: none;\n}\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\n    border: 0;\n}\n.msgapi .navbar-dx .search-result-list{\n    left: 0;\n    max-height: none;\n}\n\n.msgapi .navbar-dx .dropdown-menu {\n\tmargin:0;\n\tpadding-top: 0;\n}\n\n@media (min-width: 1200px) {\n    .msgapi .navbar-dx .search-wrap {\n       width: 500px;\n       height: 50px;\n    }\n}\n\n.msgapi .navbar-dx > * {\n\tdisplay: inline-block;\n}\n/* Page Navbar */\n.msgapi .navbar-home .dropdown {\n\tfloat: right;\n}\n.msgapi .navbar-home .navbar-header {\n\tmargin-top: 7px;\n\tmargin-left: 10px;\n\tmargin-right: 10px;\n\tdisplay: inline-block;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mappreview-scalebox {\n    position: relative;\n    top: -36px;\n    width: 150px;\n    left: 10px;\n}\n\n.msgapi .print-error {\n    height: 100px;\n    color: #600;\n    background-color: #E8BABA;\n    border: solid #600 1px;\n    border-radius: 10px;\n    padding: 10px;\n}\n.msgapi .print-error span, .msgapi .print-warning span {\n    display: inline-block;\n    max-height: 80px;\n    overflow: auto;\n    width: 100%;\n}\n.msgapi .print-warning {\n    height: 50px;\n    color: #660;\n    background-color: #E6E8BA;\n    border: solid #660 1px;\n    border-radius: 10px;\n    padding: 10px;\n}\n.msgapi .print-preview-panel .spinner {\n    display: inline-block;\n}\n\n.msgapi .print-mappreview-refresh {\n    position: relative;\n    top: -83px;\n    right: -155px;\n    z-index: 1000;\n}\n.msgapi #mapstore-print-panel.modal-dialog {\n    z-index: 2000;\n}\n\n.msgapi #mapstore-print-panel .modal-body {\n    max-height: calc(100vh - 190px);\n    overflow-y: auto;\n}\n\n.msgapi .mapstore-print-panel {\n    width: 850px;\n    position: absolute;\n    top: 50px;\n    right: 60px;\n    zIndex: 100;\n}\n\n.msgapi .mapstore-print-panel .form-inline label {\n    margin-right: 20px;\n}\n\n.msgapi .mapstore-print-panel .print-download {\n    margin-right: 10px;\n    display: inline-block;\n    width: 30px;\n    height: 34px;\n    border: solid 1px #CCC;\n    padding: 7px;\n    border-radius: 4px;\n    padding-right: 25px;\n    padding-left: 11px;\n    top: 2px;\n    position: relative;\n}\n\n.msgapi .print-layout .panel-title {\n    padding-left: 10px;\n}\n\n.msgapi .print-layout .panel-title a{\n    text-decoration: none;\n}\n\n.msgapi .print-layout .panel-title a:hover{\n    color: #d6d6d6;\n}\n\n.msgapi .print-legend-options .panel-title {\n    padding-left: 10px;\n}\n\n.msgapi .print-legend-options .panel-title a{\n    text-decoration: none;\n}\n\n.msgapi .print-legend-options .panel-title a:hover{\n    color: #d6d6d6;\n}\n\n\n@media (min-width: 992px) {\n    .msgapi #mapstore-print-panel {\n        width: 825px;\n    }\n}\n\n@media (max-width: 991px) {\n    .msgapi #mapstore-print-panel {\n        width: 700px;\n    }\n}\n\n@media (max-width: 767px) {\n    .msgapi #mapstore-print-panel {\n        width: 98%;\n    }\n}\n\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\n    top: -96px;\n}\n\n.msgapi #mapstore-print-panel .print-submit {\n    float: right;\n}\n\n@media (min-width: 768px) {\n    .msgapi #mapstore-print-panel input[type=radio] {\n        margin: 0 8px 0 20px;\n    }\n}\n\n.msgapi #mapstore-print-panel .print-map-preview {\n    margin-bottom: 15px;\n}\n\n.msgapi #mapstore-print-panel .panel-default {\n    border: none;\n}\n\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\n    font-weight: bold;\n}\n\n.msgapi #mapstore-print-panel .panel-heading {\n    padding-left: 0;\n    background-color: transparent;\n}\n\n.msgapi #mapstore-print-panel .panel-body {\n    padding: 10px;\n}\n\n.msgapi #mapstore-print-panel .form-control {\n    padding: 0 10px;\n    height: 25px;\n}\n\n.msgapi #mapstore-print-panel .print-download {\n    margin-right: 10px;\n}\n\n.msgapi #mapstore-print-panel .print-download a {\n    color: white;\n}\n\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\n    padding-left: 0;\n    padding-right: 0;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-scalebox {\n    /*z-index: 10;\n    bottom: 6px;\n    left: -2px;\n    position: absolute;\n    margin: 8px;\n    width: 148px;*/\n}\n\n.msgapi #mapstore-scalebox-container {\n    /*z-index: 10;\n    bottom: -16px;\n    right: 55px;\n    left: auto;\n    position: absolute;\n    margin: 8px;\n    width: 148px;*/\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar {\n    position: absolute;\n    bottom: 5px;\n    right: 0;\n    z-index: 1000;\n    margin-bottom: 35px;\n    margin-right: 5px;\n}\n\n.msgapi .toolbarexpand-enter {\n  opacity: 0.01;\n}\n\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\n  opacity: 1;\n  transition: opacity 500ms ease-in;\n}\n\n.msgapi .toolbarexpand-leave {\n  opacity: 1;\n}\n\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\n  opacity: 0.01;\n  transition: opacity 300ms ease-in;\n}\n\n.msgapi #navigationBar .toolbar-panel {\n    bottom: 80px !important;\n}\n\n.msgapi #identifyBar .mapToolbar {\n    top: auto !important;\n    bottom: 5px;\n    right: 212px !important;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #zoomin-btn, .msgapi #zoomout-btn {\n    z-index: 1;\n    position: relative;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-zoomtomaxextent {\n    z-index: 1;\n    position: relative;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,'.msgapi .ol-popup {\n    position: absolute;\n    text-align: center;\n    font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n    -ms-transform: translate(-50%,-100%); /* IE 9 */\n    -webkit-transform: translate(-50%,-100%); /* Safari */\n    transform: translate(-50%,-100%);\n}\n.msgapi a.ol-popup-close-btn {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 4px 4px 0 0;\n  text-align: center;\n  width: 18px;\n  height: 14px;\n  font: 16px/14px Tahoma, Verdana, sans-serif;\n  color: #c3c3c3;\n  text-decoration: none;\n  font-weight: bold;\n  background: transparent;\n}\n.msgapi .ol-popup-cnt-wrapper {\n  padding: 1px;\n  text-align: left;\n  border-radius: 12px;\n}\n.msgapi .ol-popup-cnt-wrapper, .msgapi .ol-popup-tip {\n  background: white;\n  box-shadow: 0 3px 14px rgba(0,0,0,0.4);\n}\n.msgapi .ol-popup-cnt {\n  margin: 13px 19px;\n  line-height: 1.4;\n   white-space: nowrap;\n\n}\n.msgapi .ol-popup-tip-wrapper {\n  margin: 0 auto;\n  width: 40px;\n  height: 20px;\n  position: relative;\n  overflow: hidden;\n\n}\n.msgapi .ol-popup-tip {\n  width: 17px;\n  height: 17px;\n  padding: 1px;\n  margin: -10px auto 0;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n',""])},"./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt":function(e,t){e.exports='.fa-glass:before {\n  content: "\\f000";\n}\n.fa-music:before {\n  content: "\\f001";\n}\n.fa-search:before {\n  content: "\\f002";\n}\n.fa-envelope-o:before {\n  content: "\\f003";\n}\n.fa-heart:before {\n  content: "\\f004";\n}\n.fa-star:before {\n  content: "\\f005";\n}\n.fa-star-o:before {\n  content: "\\f006";\n}\n.fa-user:before {\n  content: "\\f007";\n}\n.fa-film:before {\n  content: "\\f008";\n}\n.fa-th-large:before {\n  content: "\\f009";\n}\n.fa-th:before {\n  content: "\\f00a";\n}\n.fa-th-list:before {\n  content: "\\f00b";\n}\n.fa-check:before {\n  content: "\\f00c";\n}\n.fa-remove:before,\n.fa-close:before,\n.fa-times:before {\n  content: "\\f00d";\n}\n.fa-search-plus:before {\n  content: "\\f00e";\n}\n.fa-search-minus:before {\n  content: "\\f010";\n}\n.fa-power-off:before {\n  content: "\\f011";\n}\n.fa-signal:before {\n  content: "\\f012";\n}\n.fa-gear:before,\n.fa-cog:before {\n  content: "\\f013";\n}\n.fa-trash-o:before {\n  content: "\\f014";\n}\n.fa-home:before {\n  content: "\\f015";\n}\n.fa-file-o:before {\n  content: "\\f016";\n}\n.fa-clock-o:before {\n  content: "\\f017";\n}\n.fa-road:before {\n  content: "\\f018";\n}\n.fa-download:before {\n  content: "\\f019";\n}\n.fa-arrow-circle-o-down:before {\n  content: "\\f01a";\n}\n.fa-arrow-circle-o-up:before {\n  content: "\\f01b";\n}\n.fa-inbox:before {\n  content: "\\f01c";\n}\n.fa-play-circle-o:before {\n  content: "\\f01d";\n}\n.fa-rotate-right:before,\n.fa-repeat:before {\n  content: "\\f01e";\n}\n.fa-refresh:before {\n  content: "\\f021";\n}\n.fa-list-alt:before {\n  content: "\\f022";\n}\n.fa-lock:before {\n  content: "\\f023";\n}\n.fa-flag:before {\n  content: "\\f024";\n}\n.fa-headphones:before {\n  content: "\\f025";\n}\n.fa-volume-off:before {\n  content: "\\f026";\n}\n.fa-volume-down:before {\n  content: "\\f027";\n}\n.fa-volume-up:before {\n  content: "\\f028";\n}\n.fa-qrcode:before {\n  content: "\\f029";\n}\n.fa-barcode:before {\n  content: "\\f02a";\n}\n.fa-tag:before {\n  content: "\\f02b";\n}\n.fa-tags:before {\n  content: "\\f02c";\n}\n.fa-book:before {\n  content: "\\f02d";\n}\n.fa-bookmark:before {\n  content: "\\f02e";\n}\n.fa-print:before {\n  content: "\\f02f";\n}\n.fa-camera:before {\n  content: "\\f030";\n}\n.fa-font:before {\n  content: "\\f031";\n}\n.fa-bold:before {\n  content: "\\f032";\n}\n.fa-italic:before {\n  content: "\\f033";\n}\n.fa-text-height:before {\n  content: "\\f034";\n}\n.fa-text-width:before {\n  content: "\\f035";\n}\n.fa-align-left:before {\n  content: "\\f036";\n}\n.fa-align-center:before {\n  content: "\\f037";\n}\n.fa-align-right:before {\n  content: "\\f038";\n}\n.fa-align-justify:before {\n  content: "\\f039";\n}\n.fa-list:before {\n  content: "\\f03a";\n}\n.fa-dedent:before,\n.fa-outdent:before {\n  content: "\\f03b";\n}\n.fa-indent:before {\n  content: "\\f03c";\n}\n.fa-video-camera:before {\n  content: "\\f03d";\n}\n.fa-photo:before,\n.fa-image:before,\n.fa-picture-o:before {\n  content: "\\f03e";\n}\n.fa-pencil:before {\n  content: "\\f040";\n}\n.fa-map-marker:before {\n  content: "\\f041";\n}\n.fa-adjust:before {\n  content: "\\f042";\n}\n.fa-tint:before {\n  content: "\\f043";\n}\n.fa-edit:before,\n.fa-pencil-square-o:before {\n  content: "\\f044";\n}\n.fa-share-square-o:before {\n  content: "\\f045";\n}\n.fa-check-square-o:before {\n  content: "\\f046";\n}\n.fa-arrows:before {\n  content: "\\f047";\n}\n.fa-step-backward:before {\n  content: "\\f048";\n}\n.fa-fast-backward:before {\n  content: "\\f049";\n}\n.fa-backward:before {\n  content: "\\f04a";\n}\n.fa-play:before {\n  content: "\\f04b";\n}\n.fa-pause:before {\n  content: "\\f04c";\n}\n.fa-stop:before {\n  content: "\\f04d";\n}\n.fa-forward:before {\n  content: "\\f04e";\n}\n.fa-fast-forward:before {\n  content: "\\f050";\n}\n.fa-step-forward:before {\n  content: "\\f051";\n}\n.fa-eject:before {\n  content: "\\f052";\n}\n.fa-chevron-left:before {\n  content: "\\f053";\n}\n.fa-chevron-right:before {\n  content: "\\f054";\n}\n.fa-plus-circle:before {\n  content: "\\f055";\n}\n.fa-minus-circle:before {\n  content: "\\f056";\n}\n.fa-times-circle:before {\n  content: "\\f057";\n}\n.fa-check-circle:before {\n  content: "\\f058";\n}\n.fa-question-circle:before {\n  content: "\\f059";\n}\n.fa-info-circle:before {\n  content: "\\f05a";\n}\n.fa-crosshairs:before {\n  content: "\\f05b";\n}\n.fa-times-circle-o:before {\n  content: "\\f05c";\n}\n.fa-check-circle-o:before {\n  content: "\\f05d";\n}\n.fa-ban:before {\n  content: "\\f05e";\n}\n.fa-arrow-left:before {\n  content: "\\f060";\n}\n.fa-arrow-right:before {\n  content: "\\f061";\n}\n.fa-arrow-up:before {\n  content: "\\f062";\n}\n.fa-arrow-down:before {\n  content: "\\f063";\n}\n.fa-mail-forward:before,\n.fa-share:before {\n  content: "\\f064";\n}\n.fa-expand:before {\n  content: "\\f065";\n}\n.fa-compress:before {\n  content: "\\f066";\n}\n.fa-plus:before {\n  content: "\\f067";\n}\n.fa-minus:before {\n  content: "\\f068";\n}\n.fa-asterisk:before {\n  content: "\\f069";\n}\n.fa-exclamation-circle:before {\n  content: "\\f06a";\n}\n.fa-gift:before {\n  content: "\\f06b";\n}\n.fa-leaf:before {\n  content: "\\f06c";\n}\n.fa-fire:before {\n  content: "\\f06d";\n}\n.fa-eye:before {\n  content: "\\f06e";\n}\n.fa-eye-slash:before {\n  content: "\\f070";\n}\n.fa-warning:before,\n.fa-exclamation-triangle:before {\n  content: "\\f071";\n}\n.fa-plane:before {\n  content: "\\f072";\n}\n.fa-calendar:before {\n  content: "\\f073";\n}\n.fa-random:before {\n  content: "\\f074";\n}\n.fa-comment:before {\n  content: "\\f075";\n}\n.fa-magnet:before {\n  content: "\\f076";\n}\n.fa-chevron-up:before {\n  content: "\\f077";\n}\n.fa-chevron-down:before {\n  content: "\\f078";\n}\n.fa-retweet:before {\n  content: "\\f079";\n}\n.fa-shopping-cart:before {\n  content: "\\f07a";\n}\n.fa-folder:before {\n  content: "\\f07b";\n}\n.fa-folder-open:before {\n  content: "\\f07c";\n}\n.fa-arrows-v:before {\n  content: "\\f07d";\n}\n.fa-arrows-h:before {\n  content: "\\f07e";\n}\n.fa-bar-chart-o:before,\n.fa-bar-chart:before {\n  content: "\\f080";\n}\n.fa-twitter-square:before {\n  content: "\\f081";\n}\n.fa-facebook-square:before {\n  content: "\\f082";\n}\n.fa-camera-retro:before {\n  content: "\\f083";\n}\n.fa-key:before {\n  content: "\\f084";\n}\n.fa-gears:before,\n.fa-cogs:before {\n  content: "\\f085";\n}\n.fa-comments:before {\n  content: "\\f086";\n}\n.fa-thumbs-o-up:before {\n  content: "\\f087";\n}\n.fa-thumbs-o-down:before {\n  content: "\\f088";\n}\n.fa-star-half:before {\n  content: "\\f089";\n}\n.fa-heart-o:before {\n  content: "\\f08a";\n}\n.fa-sign-out:before {\n  content: "\\f08b";\n}\n.fa-linkedin-square:before {\n  content: "\\f08c";\n}\n.fa-thumb-tack:before {\n  content: "\\f08d";\n}\n.fa-external-link:before {\n  content: "\\f08e";\n}\n.fa-sign-in:before {\n  content: "\\f090";\n}\n.fa-trophy:before {\n  content: "\\f091";\n}\n.fa-github-square:before {\n  content: "\\f092";\n}\n.fa-upload:before {\n  content: "\\f093";\n}\n.fa-lemon-o:before {\n  content: "\\f094";\n}\n.fa-phone:before {\n  content: "\\f095";\n}\n.fa-square-o:before {\n  content: "\\f096";\n}\n.fa-bookmark-o:before {\n  content: "\\f097";\n}\n.fa-phone-square:before {\n  content: "\\f098";\n}\n.fa-twitter:before {\n  content: "\\f099";\n}\n.fa-facebook-f:before,\n.fa-facebook:before {\n  content: "\\f09a";\n}\n.fa-github:before {\n  content: "\\f09b";\n}\n.fa-unlock:before {\n  content: "\\f09c";\n}\n.fa-credit-card:before {\n  content: "\\f09d";\n}\n.fa-feed:before,\n.fa-rss:before {\n  content: "\\f09e";\n}\n.fa-hdd-o:before {\n  content: "\\f0a0";\n}\n.fa-bullhorn:before {\n  content: "\\f0a1";\n}\n.fa-bell:before {\n  content: "\\f0f3";\n}\n.fa-certificate:before {\n  content: "\\f0a3";\n}\n.fa-hand-o-right:before {\n  content: "\\f0a4";\n}\n.fa-hand-o-left:before {\n  content: "\\f0a5";\n}\n.fa-hand-o-up:before {\n  content: "\\f0a6";\n}\n.fa-hand-o-down:before {\n  content: "\\f0a7";\n}\n.fa-arrow-circle-left:before {\n  content: "\\f0a8";\n}\n.fa-arrow-circle-right:before {\n  content: "\\f0a9";\n}\n.fa-arrow-circle-up:before {\n  content: "\\f0aa";\n}\n.fa-arrow-circle-down:before {\n  content: "\\f0ab";\n}\n.fa-globe:before {\n  content: "\\f0ac";\n}\n.fa-wrench:before {\n  content: "\\f0ad";\n}\n.fa-tasks:before {\n  content: "\\f0ae";\n}\n.fa-filter:before {\n  content: "\\f0b0";\n}\n.fa-briefcase:before {\n  content: "\\f0b1";\n}\n.fa-arrows-alt:before {\n  content: "\\f0b2";\n}\n.fa-group:before,\n.fa-users:before {\n  content: "\\f0c0";\n}\n.fa-chain:before,\n.fa-link:before {\n  content: "\\f0c1";\n}\n.fa-cloud:before {\n  content: "\\f0c2";\n}\n.fa-flask:before {\n  content: "\\f0c3";\n}\n.fa-cut:before,\n.fa-scissors:before {\n  content: "\\f0c4";\n}\n.fa-copy:before,\n.fa-files-o:before {\n  content: "\\f0c5";\n}\n.fa-paperclip:before {\n  content: "\\f0c6";\n}\n.fa-save:before,\n.fa-floppy-o:before {\n  content: "\\f0c7";\n}\n.fa-square:before {\n  content: "\\f0c8";\n}\n.fa-navicon:before,\n.fa-reorder:before,\n.fa-bars:before {\n  content: "\\f0c9";\n}\n.fa-list-ul:before {\n  content: "\\f0ca";\n}\n.fa-list-ol:before {\n  content: "\\f0cb";\n}\n.fa-strikethrough:before {\n  content: "\\f0cc";\n}\n.fa-underline:before {\n  content: "\\f0cd";\n}\n.fa-table:before {\n  content: "\\f0ce";\n}\n.fa-magic:before {\n  content: "\\f0d0";\n}\n.fa-truck:before {\n  content: "\\f0d1";\n}\n.fa-pinterest:before {\n  content: "\\f0d2";\n}\n.fa-pinterest-square:before {\n  content: "\\f0d3";\n}\n.fa-google-plus-square:before {\n  content: "\\f0d4";\n}\n.fa-google-plus:before {\n  content: "\\f0d5";\n}\n.fa-money:before {\n  content: "\\f0d6";\n}\n.fa-caret-down:before {\n  content: "\\f0d7";\n}\n.fa-caret-up:before {\n  content: "\\f0d8";\n}\n.fa-caret-left:before {\n  content: "\\f0d9";\n}\n.fa-caret-right:before {\n  content: "\\f0da";\n}\n.fa-columns:before {\n  content: "\\f0db";\n}\n.fa-unsorted:before,\n.fa-sort:before {\n  content: "\\f0dc";\n}\n.fa-sort-down:before,\n.fa-sort-desc:before {\n  content: "\\f0dd";\n}\n.fa-sort-up:before,\n.fa-sort-asc:before {\n  content: "\\f0de";\n}\n.fa-envelope:before {\n  content: "\\f0e0";\n}\n.fa-linkedin:before {\n  content: "\\f0e1";\n}\n.fa-rotate-left:before,\n.fa-undo:before {\n  content: "\\f0e2";\n}\n.fa-legal:before,\n.fa-gavel:before {\n  content: "\\f0e3";\n}\n.fa-dashboard:before,\n.fa-tachometer:before {\n  content: "\\f0e4";\n}\n.fa-comment-o:before {\n  content: "\\f0e5";\n}\n.fa-comments-o:before {\n  content: "\\f0e6";\n}\n.fa-flash:before,\n.fa-bolt:before {\n  content: "\\f0e7";\n}\n.fa-sitemap:before {\n  content: "\\f0e8";\n}\n.fa-umbrella:before {\n  content: "\\f0e9";\n}\n.fa-paste:before,\n.fa-clipboard:before {\n  content: "\\f0ea";\n}\n.fa-lightbulb-o:before {\n  content: "\\f0eb";\n}\n.fa-exchange:before {\n  content: "\\f0ec";\n}\n.fa-cloud-download:before {\n  content: "\\f0ed";\n}\n.fa-cloud-upload:before {\n  content: "\\f0ee";\n}\n.fa-user-md:before {\n  content: "\\f0f0";\n}\n.fa-stethoscope:before {\n  content: "\\f0f1";\n}\n.fa-suitcase:before {\n  content: "\\f0f2";\n}\n.fa-bell-o:before {\n  content: "\\f0a2";\n}\n.fa-coffee:before {\n  content: "\\f0f4";\n}\n.fa-cutlery:before {\n  content: "\\f0f5";\n}\n.fa-file-text-o:before {\n  content: "\\f0f6";\n}\n.fa-building-o:before {\n  content: "\\f0f7";\n}\n.fa-hospital-o:before {\n  content: "\\f0f8";\n}\n.fa-ambulance:before {\n  content: "\\f0f9";\n}\n.fa-medkit:before {\n  content: "\\f0fa";\n}\n.fa-fighter-jet:before {\n  content: "\\f0fb";\n}\n.fa-beer:before {\n  content: "\\f0fc";\n}\n.fa-h-square:before {\n  content: "\\f0fd";\n}\n.fa-plus-square:before {\n  content: "\\f0fe";\n}\n.fa-angle-double-left:before {\n  content: "\\f100";\n}\n.fa-angle-double-right:before {\n  content: "\\f101";\n}\n.fa-angle-double-up:before {\n  content: "\\f102";\n}\n.fa-angle-double-down:before {\n  content: "\\f103";\n}\n.fa-angle-left:before {\n  content: "\\f104";\n}\n.fa-angle-right:before {\n  content: "\\f105";\n}\n.fa-angle-up:before {\n  content: "\\f106";\n}\n.fa-angle-down:before {\n  content: "\\f107";\n}\n.fa-desktop:before {\n  content: "\\f108";\n}\n.fa-laptop:before {\n  content: "\\f109";\n}\n.fa-tablet:before {\n  content: "\\f10a";\n}\n.fa-mobile-phone:before,\n.fa-mobile:before {\n  content: "\\f10b";\n}\n.fa-circle-o:before {\n  content: "\\f10c";\n}\n.fa-quote-left:before {\n  content: "\\f10d";\n}\n.fa-quote-right:before {\n  content: "\\f10e";\n}\n.fa-spinner:before {\n  content: "\\f110";\n}\n.fa-circle:before {\n  content: "\\f111";\n}\n.fa-mail-reply:before,\n.fa-reply:before {\n  content: "\\f112";\n}\n.fa-github-alt:before {\n  content: "\\f113";\n}\n.fa-folder-o:before {\n  content: "\\f114";\n}\n.fa-folder-open-o:before {\n  content: "\\f115";\n}\n.fa-smile-o:before {\n  content: "\\f118";\n}\n.fa-frown-o:before {\n  content: "\\f119";\n}\n.fa-meh-o:before {\n  content: "\\f11a";\n}\n.fa-gamepad:before {\n  content: "\\f11b";\n}\n.fa-keyboard-o:before {\n  content: "\\f11c";\n}\n.fa-flag-o:before {\n  content: "\\f11d";\n}\n.fa-flag-checkered:before {\n  content: "\\f11e";\n}\n.fa-terminal:before {\n  content: "\\f120";\n}\n.fa-code:before {\n  content: "\\f121";\n}\n.fa-mail-reply-all:before,\n.fa-reply-all:before {\n  content: "\\f122";\n}\n.fa-star-half-empty:before,\n.fa-star-half-full:before,\n.fa-star-half-o:before {\n  content: "\\f123";\n}\n.fa-location-arrow:before {\n  content: "\\f124";\n}\n.fa-crop:before {\n  content: "\\f125";\n}\n.fa-code-fork:before {\n  content: "\\f126";\n}\n.fa-unlink:before,\n.fa-chain-broken:before {\n  content: "\\f127";\n}\n.fa-question:before {\n  content: "\\f128";\n}\n.fa-info:before {\n  content: "\\f129";\n}\n.fa-exclamation:before {\n  content: "\\f12a";\n}\n.fa-superscript:before {\n  content: "\\f12b";\n}\n.fa-subscript:before {\n  content: "\\f12c";\n}\n.fa-eraser:before {\n  content: "\\f12d";\n}\n.fa-puzzle-piece:before {\n  content: "\\f12e";\n}\n.fa-microphone:before {\n  content: "\\f130";\n}\n.fa-microphone-slash:before {\n  content: "\\f131";\n}\n.fa-shield:before {\n  content: "\\f132";\n}\n.fa-calendar-o:before {\n  content: "\\f133";\n}\n.fa-fire-extinguisher:before {\n  content: "\\f134";\n}\n.fa-rocket:before {\n  content: "\\f135";\n}\n.fa-maxcdn:before {\n  content: "\\f136";\n}\n.fa-chevron-circle-left:before {\n  content: "\\f137";\n}\n.fa-chevron-circle-right:before {\n  content: "\\f138";\n}\n.fa-chevron-circle-up:before {\n  content: "\\f139";\n}\n.fa-chevron-circle-down:before {\n  content: "\\f13a";\n}\n.fa-html5:before {\n  content: "\\f13b";\n}\n.fa-css3:before {\n  content: "\\f13c";\n}\n.fa-anchor:before {\n  content: "\\f13d";\n}\n.fa-unlock-alt:before {\n  content: "\\f13e";\n}\n.fa-bullseye:before {\n  content: "\\f140";\n}\n.fa-ellipsis-h:before {\n  content: "\\f141";\n}\n.fa-ellipsis-v:before {\n  content: "\\f142";\n}\n.fa-rss-square:before {\n  content: "\\f143";\n}\n.fa-play-circle:before {\n  content: "\\f144";\n}\n.fa-ticket:before {\n  content: "\\f145";\n}\n.fa-minus-square:before {\n  content: "\\f146";\n}\n.fa-minus-square-o:before {\n  content: "\\f147";\n}\n.fa-level-up:before {\n  content: "\\f148";\n}\n.fa-level-down:before {\n  content: "\\f149";\n}\n.fa-check-square:before {\n  content: "\\f14a";\n}\n.fa-pencil-square:before {\n  content: "\\f14b";\n}\n.fa-external-link-square:before {\n  content: "\\f14c";\n}\n.fa-share-square:before {\n  content: "\\f14d";\n}\n.fa-compass:before {\n  content: "\\f14e";\n}\n.fa-toggle-down:before,\n.fa-caret-square-o-down:before {\n  content: "\\f150";\n}\n.fa-toggle-up:before,\n.fa-caret-square-o-up:before {\n  content: "\\f151";\n}\n.fa-toggle-right:before,\n.fa-caret-square-o-right:before {\n  content: "\\f152";\n}\n.fa-euro:before,\n.fa-eur:before {\n  content: "\\f153";\n}\n.fa-gbp:before {\n  content: "\\f154";\n}\n.fa-dollar:before,\n.fa-usd:before {\n  content: "\\f155";\n}\n.fa-rupee:before,\n.fa-inr:before {\n  content: "\\f156";\n}\n.fa-cny:before,\n.fa-rmb:before,\n.fa-yen:before,\n.fa-jpy:before {\n  content: "\\f157";\n}\n.fa-ruble:before,\n.fa-rouble:before,\n.fa-rub:before {\n  content: "\\f158";\n}\n.fa-won:before,\n.fa-krw:before {\n  content: "\\f159";\n}\n.fa-bitcoin:before,\n.fa-btc:before {\n  content: "\\f15a";\n}\n.fa-file:before {\n  content: "\\f15b";\n}\n.fa-file-text:before {\n  content: "\\f15c";\n}\n.fa-sort-alpha-asc:before {\n  content: "\\f15d";\n}\n.fa-sort-alpha-desc:before {\n  content: "\\f15e";\n}\n.fa-sort-amount-asc:before {\n  content: "\\f160";\n}\n.fa-sort-amount-desc:before {\n  content: "\\f161";\n}\n.fa-sort-numeric-asc:before {\n  content: "\\f162";\n}\n.fa-sort-numeric-desc:before {\n  content: "\\f163";\n}\n.fa-thumbs-up:before {\n  content: "\\f164";\n}\n.fa-thumbs-down:before {\n  content: "\\f165";\n}\n.fa-youtube-square:before {\n  content: "\\f166";\n}\n.fa-youtube:before {\n  content: "\\f167";\n}\n.fa-xing:before {\n  content: "\\f168";\n}\n.fa-xing-square:before {\n  content: "\\f169";\n}\n.fa-youtube-play:before {\n  content: "\\f16a";\n}\n.fa-dropbox:before {\n  content: "\\f16b";\n}\n.fa-stack-overflow:before {\n  content: "\\f16c";\n}\n.fa-instagram:before {\n  content: "\\f16d";\n}\n.fa-flickr:before {\n  content: "\\f16e";\n}\n.fa-adn:before {\n  content: "\\f170";\n}\n.fa-bitbucket:before {\n  content: "\\f171";\n}\n.fa-bitbucket-square:before {\n  content: "\\f172";\n}\n.fa-tumblr:before {\n  content: "\\f173";\n}\n.fa-tumblr-square:before {\n  content: "\\f174";\n}\n.fa-long-arrow-down:before {\n  content: "\\f175";\n}\n.fa-long-arrow-up:before {\n  content: "\\f176";\n}\n.fa-long-arrow-left:before {\n  content: "\\f177";\n}\n.fa-long-arrow-right:before {\n  content: "\\f178";\n}\n.fa-apple:before {\n  content: "\\f179";\n}\n.fa-windows:before {\n  content: "\\f17a";\n}\n.fa-android:before {\n  content: "\\f17b";\n}\n.fa-linux:before {\n  content: "\\f17c";\n}\n.fa-dribbble:before {\n  content: "\\f17d";\n}\n.fa-skype:before {\n  content: "\\f17e";\n}\n.fa-foursquare:before {\n  content: "\\f180";\n}\n.fa-trello:before {\n  content: "\\f181";\n}\n.fa-female:before {\n  content: "\\f182";\n}\n.fa-male:before {\n  content: "\\f183";\n}\n.fa-gittip:before,\n.fa-gratipay:before {\n  content: "\\f184";\n}\n.fa-sun-o:before {\n  content: "\\f185";\n}\n.fa-moon-o:before {\n  content: "\\f186";\n}\n.fa-archive:before {\n  content: "\\f187";\n}\n.fa-bug:before {\n  content: "\\f188";\n}\n.fa-vk:before {\n  content: "\\f189";\n}\n.fa-weibo:before {\n  content: "\\f18a";\n}\n.fa-renren:before {\n  content: "\\f18b";\n}\n.fa-pagelines:before {\n  content: "\\f18c";\n}\n.fa-stack-exchange:before {\n  content: "\\f18d";\n}\n.fa-arrow-circle-o-right:before {\n  content: "\\f18e";\n}\n.fa-arrow-circle-o-left:before {\n  content: "\\f190";\n}\n.fa-toggle-left:before,\n.fa-caret-square-o-left:before {\n  content: "\\f191";\n}\n.fa-dot-circle-o:before {\n  content: "\\f192";\n}\n.fa-wheelchair:before {\n  content: "\\f193";\n}\n.fa-vimeo-square:before {\n  content: "\\f194";\n}\n.fa-turkish-lira:before,\n.fa-try:before {\n  content: "\\f195";\n}\n.fa-plus-square-o:before {\n  content: "\\f196";\n}\n.fa-space-shuttle:before {\n  content: "\\f197";\n}\n.fa-slack:before {\n  content: "\\f198";\n}\n.fa-envelope-square:before {\n  content: "\\f199";\n}\n.fa-wordpress:before {\n  content: "\\f19a";\n}\n.fa-openid:before {\n  content: "\\f19b";\n}\n.fa-institution:before,\n.fa-bank:before,\n.fa-university:before {\n  content: "\\f19c";\n}\n.fa-mortar-board:before,\n.fa-graduation-cap:before {\n  content: "\\f19d";\n}\n.fa-yahoo:before {\n  content: "\\f19e";\n}\n.fa-google:before {\n  content: "\\f1a0";\n}\n.fa-reddit:before {\n  content: "\\f1a1";\n}\n.fa-reddit-square:before {\n  content: "\\f1a2";\n}\n.fa-stumbleupon-circle:before {\n  content: "\\f1a3";\n}\n.fa-stumbleupon:before {\n  content: "\\f1a4";\n}\n.fa-delicious:before {\n  content: "\\f1a5";\n}\n.fa-digg:before {\n  content: "\\f1a6";\n}\n.fa-pied-piper-pp:before {\n  content: "\\f1a7";\n}\n.fa-pied-piper-alt:before {\n  content: "\\f1a8";\n}\n.fa-drupal:before {\n  content: "\\f1a9";\n}\n.fa-joomla:before {\n  content: "\\f1aa";\n}\n.fa-language:before {\n  content: "\\f1ab";\n}\n.fa-fax:before {\n  content: "\\f1ac";\n}\n.fa-building:before {\n  content: "\\f1ad";\n}\n.fa-child:before {\n  content: "\\f1ae";\n}\n.fa-paw:before {\n  content: "\\f1b0";\n}\n.fa-spoon:before {\n  content: "\\f1b1";\n}\n.fa-cube:before {\n  content: "\\f1b2";\n}\n.fa-cubes:before {\n  content: "\\f1b3";\n}\n.fa-behance:before {\n  content: "\\f1b4";\n}\n.fa-behance-square:before {\n  content: "\\f1b5";\n}\n.fa-steam:before {\n  content: "\\f1b6";\n}\n.fa-steam-square:before {\n  content: "\\f1b7";\n}\n.fa-recycle:before {\n  content: "\\f1b8";\n}\n.fa-automobile:before,\n.fa-car:before {\n  content: "\\f1b9";\n}\n.fa-cab:before,\n.fa-taxi:before {\n  content: "\\f1ba";\n}\n.fa-tree:before {\n  content: "\\f1bb";\n}\n.fa-spotify:before {\n  content: "\\f1bc";\n}\n.fa-deviantart:before {\n  content: "\\f1bd";\n}\n.fa-soundcloud:before {\n  content: "\\f1be";\n}\n.fa-database:before {\n  content: "\\f1c0";\n}\n.fa-file-pdf-o:before {\n  content: "\\f1c1";\n}\n.fa-file-word-o:before {\n  content: "\\f1c2";\n}\n.fa-file-excel-o:before {\n  content: "\\f1c3";\n}\n.fa-file-powerpoint-o:before {\n  content: "\\f1c4";\n}\n.fa-file-photo-o:before,\n.fa-file-picture-o:before,\n.fa-file-image-o:before {\n  content: "\\f1c5";\n}\n.fa-file-zip-o:before,\n.fa-file-archive-o:before {\n  content: "\\f1c6";\n}\n.fa-file-sound-o:before,\n.fa-file-audio-o:before {\n  content: "\\f1c7";\n}\n.fa-file-movie-o:before,\n.fa-file-video-o:before {\n  content: "\\f1c8";\n}\n.fa-file-code-o:before {\n  content: "\\f1c9";\n}\n.fa-vine:before {\n  content: "\\f1ca";\n}\n.fa-codepen:before {\n  content: "\\f1cb";\n}\n.fa-jsfiddle:before {\n  content: "\\f1cc";\n}\n.fa-life-bouy:before,\n.fa-life-buoy:before,\n.fa-life-saver:before,\n.fa-support:before,\n.fa-life-ring:before {\n  content: "\\f1cd";\n}\n.fa-circle-o-notch:before {\n  content: "\\f1ce";\n}\n.fa-ra:before,\n.fa-resistance:before,\n.fa-rebel:before {\n  content: "\\f1d0";\n}\n.fa-ge:before,\n.fa-empire:before {\n  content: "\\f1d1";\n}\n.fa-git-square:before {\n  content: "\\f1d2";\n}\n.fa-git:before {\n  content: "\\f1d3";\n}\n.fa-y-combinator-square:before,\n.fa-yc-square:before,\n.fa-hacker-news:before {\n  content: "\\f1d4";\n}\n.fa-tencent-weibo:before {\n  content: "\\f1d5";\n}\n.fa-qq:before {\n  content: "\\f1d6";\n}\n.fa-wechat:before,\n.fa-weixin:before {\n  content: "\\f1d7";\n}\n.fa-send:before,\n.fa-paper-plane:before {\n  content: "\\f1d8";\n}\n.fa-send-o:before,\n.fa-paper-plane-o:before {\n  content: "\\f1d9";\n}\n.fa-history:before {\n  content: "\\f1da";\n}\n.fa-circle-thin:before {\n  content: "\\f1db";\n}\n.fa-header:before {\n  content: "\\f1dc";\n}\n.fa-paragraph:before {\n  content: "\\f1dd";\n}\n.fa-sliders:before {\n  content: "\\f1de";\n}\n.fa-share-alt:before {\n  content: "\\f1e0";\n}\n.fa-share-alt-square:before {\n  content: "\\f1e1";\n}\n.fa-bomb:before {\n  content: "\\f1e2";\n}\n.fa-soccer-ball-o:before,\n.fa-futbol-o:before {\n  content: "\\f1e3";\n}\n.fa-tty:before {\n  content: "\\f1e4";\n}\n.fa-binoculars:before {\n  content: "\\f1e5";\n}\n.fa-plug:before {\n  content: "\\f1e6";\n}\n.fa-slideshare:before {\n  content: "\\f1e7";\n}\n.fa-twitch:before {\n  content: "\\f1e8";\n}\n.fa-yelp:before {\n  content: "\\f1e9";\n}\n.fa-newspaper-o:before {\n  content: "\\f1ea";\n}\n.fa-wifi:before {\n  content: "\\f1eb";\n}\n.fa-calculator:before {\n  content: "\\f1ec";\n}\n.fa-paypal:before {\n  content: "\\f1ed";\n}\n.fa-google-wallet:before {\n  content: "\\f1ee";\n}\n.fa-cc-visa:before {\n  content: "\\f1f0";\n}\n.fa-cc-mastercard:before {\n  content: "\\f1f1";\n}\n.fa-cc-discover:before {\n  content: "\\f1f2";\n}\n.fa-cc-amex:before {\n  content: "\\f1f3";\n}\n.fa-cc-paypal:before {\n  content: "\\f1f4";\n}\n.fa-cc-stripe:before {\n  content: "\\f1f5";\n}\n.fa-bell-slash:before {\n  content: "\\f1f6";\n}\n.fa-bell-slash-o:before {\n  content: "\\f1f7";\n}\n.fa-trash:before {\n  content: "\\f1f8";\n}\n.fa-copyright:before {\n  content: "\\f1f9";\n}\n.fa-at:before {\n  content: "\\f1fa";\n}\n.fa-eyedropper:before {\n  content: "\\f1fb";\n}\n.fa-paint-brush:before {\n  content: "\\f1fc";\n}\n.fa-birthday-cake:before {\n  content: "\\f1fd";\n}\n.fa-area-chart:before {\n  content: "\\f1fe";\n}\n.fa-pie-chart:before {\n  content: "\\f200";\n}\n.fa-line-chart:before {\n  content: "\\f201";\n}\n.fa-lastfm:before {\n  content: "\\f202";\n}\n.fa-lastfm-square:before {\n  content: "\\f203";\n}\n.fa-toggle-off:before {\n  content: "\\f204";\n}\n.fa-toggle-on:before {\n  content: "\\f205";\n}\n.fa-bicycle:before {\n  content: "\\f206";\n}\n.fa-bus:before {\n  content: "\\f207";\n}\n.fa-ioxhost:before {\n  content: "\\f208";\n}\n.fa-angellist:before {\n  content: "\\f209";\n}\n.fa-cc:before {\n  content: "\\f20a";\n}\n.fa-shekel:before,\n.fa-sheqel:before,\n.fa-ils:before {\n  content: "\\f20b";\n}\n.fa-meanpath:before {\n  content: "\\f20c";\n}\n.fa-buysellads:before {\n  content: "\\f20d";\n}\n.fa-connectdevelop:before {\n  content: "\\f20e";\n}\n.fa-dashcube:before {\n  content: "\\f210";\n}\n.fa-forumbee:before {\n  content: "\\f211";\n}\n.fa-leanpub:before {\n  content: "\\f212";\n}\n.fa-sellsy:before {\n  content: "\\f213";\n}\n.fa-shirtsinbulk:before {\n  content: "\\f214";\n}\n.fa-simplybuilt:before {\n  content: "\\f215";\n}\n.fa-skyatlas:before {\n  content: "\\f216";\n}\n.fa-cart-plus:before {\n  content: "\\f217";\n}\n.fa-cart-arrow-down:before {\n  content: "\\f218";\n}\n.fa-diamond:before {\n  content: "\\f219";\n}\n.fa-ship:before {\n  content: "\\f21a";\n}\n.fa-user-secret:before {\n  content: "\\f21b";\n}\n.fa-motorcycle:before {\n  content: "\\f21c";\n}\n.fa-street-view:before {\n  content: "\\f21d";\n}\n.fa-heartbeat:before {\n  content: "\\f21e";\n}\n.fa-venus:before {\n  content: "\\f221";\n}\n.fa-mars:before {\n  content: "\\f222";\n}\n.fa-mercury:before {\n  content: "\\f223";\n}\n.fa-intersex:before,\n.fa-transgender:before {\n  content: "\\f224";\n}\n.fa-transgender-alt:before {\n  content: "\\f225";\n}\n.fa-venus-double:before {\n  content: "\\f226";\n}\n.fa-mars-double:before {\n  content: "\\f227";\n}\n.fa-venus-mars:before {\n  content: "\\f228";\n}\n.fa-mars-stroke:before {\n  content: "\\f229";\n}\n.fa-mars-stroke-v:before {\n  content: "\\f22a";\n}\n.fa-mars-stroke-h:before {\n  content: "\\f22b";\n}\n.fa-neuter:before {\n  content: "\\f22c";\n}\n.fa-genderless:before {\n  content: "\\f22d";\n}\n.fa-facebook-official:before {\n  content: "\\f230";\n}\n.fa-pinterest-p:before {\n  content: "\\f231";\n}\n.fa-whatsapp:before {\n  content: "\\f232";\n}\n.fa-server:before {\n  content: "\\f233";\n}\n.fa-user-plus:before {\n  content: "\\f234";\n}\n.fa-user-times:before {\n  content: "\\f235";\n}\n.fa-hotel:before,\n.fa-bed:before {\n  content: "\\f236";\n}\n.fa-viacoin:before {\n  content: "\\f237";\n}\n.fa-train:before {\n  content: "\\f238";\n}\n.fa-subway:before {\n  content: "\\f239";\n}\n.fa-medium:before {\n  content: "\\f23a";\n}\n.fa-yc:before,\n.fa-y-combinator:before {\n  content: "\\f23b";\n}\n.fa-optin-monster:before {\n  content: "\\f23c";\n}\n.fa-opencart:before {\n  content: "\\f23d";\n}\n.fa-expeditedssl:before {\n  content: "\\f23e";\n}\n.fa-battery-4:before,\n.fa-battery:before,\n.fa-battery-full:before {\n  content: "\\f240";\n}\n.fa-battery-3:before,\n.fa-battery-three-quarters:before {\n  content: "\\f241";\n}\n.fa-battery-2:before,\n.fa-battery-half:before {\n  content: "\\f242";\n}\n.fa-battery-1:before,\n.fa-battery-quarter:before {\n  content: "\\f243";\n}\n.fa-battery-0:before,\n.fa-battery-empty:before {\n  content: "\\f244";\n}\n.fa-mouse-pointer:before {\n  content: "\\f245";\n}\n.fa-i-cursor:before {\n  content: "\\f246";\n}\n.fa-object-group:before {\n  content: "\\f247";\n}\n.fa-object-ungroup:before {\n  content: "\\f248";\n}\n.fa-sticky-note:before {\n  content: "\\f249";\n}\n.fa-sticky-note-o:before {\n  content: "\\f24a";\n}\n.fa-cc-jcb:before {\n  content: "\\f24b";\n}\n.fa-cc-diners-club:before {\n  content: "\\f24c";\n}\n.fa-clone:before {\n  content: "\\f24d";\n}\n.fa-balance-scale:before {\n  content: "\\f24e";\n}\n.fa-hourglass-o:before {\n  content: "\\f250";\n}\n.fa-hourglass-1:before,\n.fa-hourglass-start:before {\n  content: "\\f251";\n}\n.fa-hourglass-2:before,\n.fa-hourglass-half:before {\n  content: "\\f252";\n}\n.fa-hourglass-3:before,\n.fa-hourglass-end:before {\n  content: "\\f253";\n}\n.fa-hourglass:before {\n  content: "\\f254";\n}\n.fa-hand-grab-o:before,\n.fa-hand-rock-o:before {\n  content: "\\f255";\n}\n.fa-hand-stop-o:before,\n.fa-hand-paper-o:before {\n  content: "\\f256";\n}\n.fa-hand-scissors-o:before {\n  content: "\\f257";\n}\n.fa-hand-lizard-o:before {\n  content: "\\f258";\n}\n.fa-hand-spock-o:before {\n  content: "\\f259";\n}\n.fa-hand-pointer-o:before {\n  content: "\\f25a";\n}\n.fa-hand-peace-o:before {\n  content: "\\f25b";\n}\n.fa-trademark:before {\n  content: "\\f25c";\n}\n.fa-registered:before {\n  content: "\\f25d";\n}\n.fa-creative-commons:before {\n  content: "\\f25e";\n}\n.fa-gg:before {\n  content: "\\f260";\n}\n.fa-gg-circle:before {\n  content: "\\f261";\n}\n.fa-tripadvisor:before {\n  content: "\\f262";\n}\n.fa-odnoklassniki:before {\n  content: "\\f263";\n}\n.fa-odnoklassniki-square:before {\n  content: "\\f264";\n}\n.fa-get-pocket:before {\n  content: "\\f265";\n}\n.fa-wikipedia-w:before {\n  content: "\\f266";\n}\n.fa-safari:before {\n  content: "\\f267";\n}\n.fa-chrome:before {\n  content: "\\f268";\n}\n.fa-firefox:before {\n  content: "\\f269";\n}\n.fa-opera:before {\n  content: "\\f26a";\n}\n.fa-internet-explorer:before {\n  content: "\\f26b";\n}\n.fa-tv:before,\n.fa-television:before {\n  content: "\\f26c";\n}\n.fa-contao:before {\n  content: "\\f26d";\n}\n.fa-500px:before {\n  content: "\\f26e";\n}\n.fa-amazon:before {\n  content: "\\f270";\n}\n.fa-calendar-plus-o:before {\n  content: "\\f271";\n}\n.fa-calendar-minus-o:before {\n  content: "\\f272";\n}\n.fa-calendar-times-o:before {\n  content: "\\f273";\n}\n.fa-calendar-check-o:before {\n  content: "\\f274";\n}\n.fa-industry:before {\n  content: "\\f275";\n}\n.fa-map-pin:before {\n  content: "\\f276";\n}\n.fa-map-signs:before {\n  content: "\\f277";\n}\n.fa-map-o:before {\n  content: "\\f278";\n}\n.fa-map:before {\n  content: "\\f279";\n}\n.fa-commenting:before {\n  content: "\\f27a";\n}\n.fa-commenting-o:before {\n  content: "\\f27b";\n}\n.fa-houzz:before {\n  content: "\\f27c";\n}\n.fa-vimeo:before {\n  content: "\\f27d";\n}\n.fa-black-tie:before {\n  content: "\\f27e";\n}\n.fa-fonticons:before {\n  content: "\\f280";\n}\n.fa-reddit-alien:before {\n  content: "\\f281";\n}\n.fa-edge:before {\n  content: "\\f282";\n}\n.fa-credit-card-alt:before {\n  content: "\\f283";\n}\n.fa-codiepie:before {\n  content: "\\f284";\n}\n.fa-modx:before {\n  content: "\\f285";\n}\n.fa-fort-awesome:before {\n  content: "\\f286";\n}\n.fa-usb:before {\n  content: "\\f287";\n}\n.fa-product-hunt:before {\n  content: "\\f288";\n}\n.fa-mixcloud:before {\n  content: "\\f289";\n}\n.fa-scribd:before {\n  content: "\\f28a";\n}\n.fa-pause-circle:before {\n  content: "\\f28b";\n}\n.fa-pause-circle-o:before {\n  content: "\\f28c";\n}\n.fa-stop-circle:before {\n  content: "\\f28d";\n}\n.fa-stop-circle-o:before {\n  content: "\\f28e";\n}\n.fa-shopping-bag:before {\n  content: "\\f290";\n}\n.fa-shopping-basket:before {\n  content: "\\f291";\n}\n.fa-hashtag:before {\n  content: "\\f292";\n}\n.fa-bluetooth:before {\n  content: "\\f293";\n}\n.fa-bluetooth-b:before {\n  content: "\\f294";\n}\n.fa-percent:before {\n  content: "\\f295";\n}\n.fa-gitlab:before {\n  content: "\\f296";\n}\n.fa-wpbeginner:before {\n  content: "\\f297";\n}\n.fa-wpforms:before {\n  content: "\\f298";\n}\n.fa-envira:before {\n  content: "\\f299";\n}\n.fa-universal-access:before {\n  content: "\\f29a";\n}\n.fa-wheelchair-alt:before {\n  content: "\\f29b";\n}\n.fa-question-circle-o:before {\n  content: "\\f29c";\n}\n.fa-blind:before {\n  content: "\\f29d";\n}\n.fa-audio-description:before {\n  content: "\\f29e";\n}\n.fa-volume-control-phone:before {\n  content: "\\f2a0";\n}\n.fa-braille:before {\n  content: "\\f2a1";\n}\n.fa-assistive-listening-systems:before {\n  content: "\\f2a2";\n}\n.fa-asl-interpreting:before,\n.fa-american-sign-language-interpreting:before {\n  content: "\\f2a3";\n}\n.fa-deafness:before,\n.fa-hard-of-hearing:before,\n.fa-deaf:before {\n  content: "\\f2a4";\n}\n.fa-glide:before {\n  content: "\\f2a5";\n}\n.fa-glide-g:before {\n  content: "\\f2a6";\n}\n.fa-signing:before,\n.fa-sign-language:before {\n  content: "\\f2a7";\n}\n.fa-low-vision:before {\n  content: "\\f2a8";\n}\n.fa-viadeo:before {\n  content: "\\f2a9";\n}\n.fa-viadeo-square:before {\n  content: "\\f2aa";\n}\n.fa-snapchat:before {\n  content: "\\f2ab";\n}\n.fa-snapchat-ghost:before {\n  content: "\\f2ac";\n}\n.fa-snapchat-square:before {\n  content: "\\f2ad";\n}\n.fa-pied-piper:before {\n  content: "\\f2ae";\n}\n.fa-first-order:before {\n  content: "\\f2b0";\n}\n.fa-yoast:before {\n  content: "\\f2b1";\n}\n.fa-themeisle:before {\n  content: "\\f2b2";\n}\n.fa-google-plus-circle:before,\n.fa-google-plus-official:before {\n  content: "\\f2b3";\n}\n.fa-fa:before,\n.fa-font-awesome:before {\n  content: "\\f2b4";\n}\n.fa-handshake-o:before {\n  content: "\\f2b5";\n}\n.fa-envelope-open:before {\n  content: "\\f2b6";\n}\n.fa-envelope-open-o:before {\n  content: "\\f2b7";\n}\n.fa-linode:before {\n  content: "\\f2b8";\n}\n.fa-address-book:before {\n  content: "\\f2b9";\n}\n.fa-address-book-o:before {\n  content: "\\f2ba";\n}\n.fa-vcard:before,\n.fa-address-card:before {\n  content: "\\f2bb";\n}\n.fa-vcard-o:before,\n.fa-address-card-o:before {\n  content: "\\f2bc";\n}\n.fa-user-circle:before {\n  content: "\\f2bd";\n}\n.fa-user-circle-o:before {\n  content: "\\f2be";\n}\n.fa-user-o:before {\n  content: "\\f2c0";\n}\n.fa-id-badge:before {\n  content: "\\f2c1";\n}\n.fa-drivers-license:before,\n.fa-id-card:before {\n  content: "\\f2c2";\n}\n.fa-drivers-license-o:before,\n.fa-id-card-o:before {\n  content: "\\f2c3";\n}\n.fa-quora:before {\n  content: "\\f2c4";\n}\n.fa-free-code-camp:before {\n  content: "\\f2c5";\n}\n.fa-telegram:before {\n  content: "\\f2c6";\n}\n.fa-thermometer-4:before,\n.fa-thermometer:before,\n.fa-thermometer-full:before {\n  content: "\\f2c7";\n}\n.fa-thermometer-3:before,\n.fa-thermometer-three-quarters:before {\n  content: "\\f2c8";\n}\n.fa-thermometer-2:before,\n.fa-thermometer-half:before {\n  content: "\\f2c9";\n}\n.fa-thermometer-1:before,\n.fa-thermometer-quarter:before {\n  content: "\\f2ca";\n}\n.fa-thermometer-0:before,\n.fa-thermometer-empty:before {\n  content: "\\f2cb";\n}\n.fa-shower:before {\n  content: "\\f2cc";\n}\n.fa-bathtub:before,\n.fa-s15:before,\n.fa-bath:before {\n  content: "\\f2cd";\n}\n.fa-podcast:before {\n  content: "\\f2ce";\n}\n.fa-window-maximize:before {\n  content: "\\f2d0";\n}\n.fa-window-minimize:before {\n  content: "\\f2d1";\n}\n.fa-window-restore:before {\n  content: "\\f2d2";\n}\n.fa-times-rectangle:before,\n.fa-window-close:before {\n  content: "\\f2d3";\n}\n.fa-times-rectangle-o:before,\n.fa-window-close-o:before {\n  content: "\\f2d4";\n}\n.fa-bandcamp:before {\n  content: "\\f2d5";\n}\n.fa-grav:before {\n  content: "\\f2d6";\n}\n.fa-etsy:before {\n  content: "\\f2d7";\n}\n.fa-imdb:before {\n  content: "\\f2d8";\n}\n.fa-ravelry:before {\n  content: "\\f2d9";\n}\n.fa-eercast:before {\n  content: "\\f2da";\n}\n.fa-microchip:before {\n  content: "\\f2db";\n}\n.fa-snowflake-o:before {\n  content: "\\f2dc";\n}\n.fa-superpowers:before {\n  content: "\\f2dd";\n}\n.fa-wpexplorer:before {\n  content: "\\f2de";\n}\n.fa-meetup:before {\n  content: "\\f2e0";\n}\n'}}]);