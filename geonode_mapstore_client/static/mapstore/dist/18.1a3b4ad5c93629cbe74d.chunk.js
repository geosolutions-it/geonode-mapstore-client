(window.webpackJsonp=window.webpackJsonp||[]).push([[18,"plugins/geostory-navigation-plugin~plugins/share-plugin"],{"./MapStore2/web/client/actions/additionallayers.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l}));var r="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",o="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",a="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",o=arguments.length>3?arguments[3]:void 0;return{type:r,id:e,owner:t,actionType:n,options:o}},s=function(e,t){return{type:o,owner:e,options:t}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.owner;return{type:a,id:t,owner:n}},l=function(){return{type:i}}},"./MapStore2/web/client/actions/annotations.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c}));n("./MapStore2/node_modules/lodash/lodash.js");var r=function(e){return{type:"ANNOTATIONS:HIGHLIGHT_POINT",point:e}},o=function(){return{type:"ANNOTATIONS:NEW"}},a=function(){return{type:"ANNOTATIONS:CLEAN_HIGHLIGHT"}},i=function(){return{type:"ANNOTATIONS:CLOSE"}},c=function(e){return{type:"ANNOTATIONS:SET_EDITING_FEATURE",feature:e}}},"./MapStore2/web/client/actions/backgroundselector.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"l",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"u",(function(){return y})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return h})),n.d(t,"w",(function(){return v})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return j})),n.d(t,"x",(function(){return S})),n.d(t,"p",(function(){return w})),n.d(t,"y",(function(){return E})),n.d(t,"v",(function(){return A})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return P}));var r="BACKGROUND_SELECTOR:ADD_BACKGROUND",o="BACKGROUND_SELECTOR:REMOVE_BACKGROUND",a="BACKGROUND_SELECTOR:SET_CURRENT_BACKGROUND_LAYER",i="BACKGROUND_SELECTOR:BACKGROUND_ADDED",c="BACKGROUND_SELECTOR:BACKGROUND_EDITED",s="BACKGROUND_SELECTOR:ADD_BACKGROUND_PROPERTIES",u="BACKGROUND_SELECTOR:SET_BACKGROUND_MODAL_PARAMS",l="BACKGROUND_SELECTOR:UPDATE_BACKGROUND_THUMBNAIL",p="BACKGROUND_SELECTOR:BACKGROUNDS_CLEAR",f="BACKGROUND_SELECTOR:CREATE_BACKGROUNDS_LIST",d="BACKGROUND_SELECTOR:CLEAR_MODAL_PARAMETERS",b="BACKGROUND_SELECTOR:CONFIRM_DELETE_BACKGROUND_MODAL",m="BACKGROUND_SELECTOR:ALLOW_BACKGROUNDS_DELETION";function y(e){return{type:f,backgrounds:e}}function g(e){return{type:r,source:e}}function h(e){return{type:s,modalParams:e}}function v(e){return{type:u,modalParams:e}}function O(e){return{type:i,layerId:e}}function j(e){return{type:c,layerId:e}}function S(e){return{type:a,layerId:e}}function w(e){return{type:m,allow:e}}function E(e,t){return{type:l,thumbnailData:e,id:t}}function A(e){return{type:o,backgroundId:e}}function x(){return{type:d}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:b,show:e,layerTitle:t,layerId:n}}},"./MapStore2/web/client/actions/box.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i}));var r="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function a(e){return{type:r,boxEndInfo:e}}function i(e){return{type:o,status:e}}},"./MapStore2/web/client/actions/catalog.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"y",(function(){return O})),n.d(t,"t",(function(){return j})),n.d(t,"v",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"u",(function(){return E})),n.d(t,"f",(function(){return A})),n.d(t,"c",(function(){return x})),n.d(t,"i",(function(){return P})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return _})),n.d(t,"m",(function(){return M})),n.d(t,"l",(function(){return R})),n.d(t,"n",(function(){return C})),n.d(t,"k",(function(){return k})),n.d(t,"j",(function(){return I})),n.d(t,"r",(function(){return D})),n.d(t,"o",(function(){return N})),n.d(t,"a",(function(){return L})),n.d(t,"p",(function(){return F})),n.d(t,"d",(function(){return U})),n.d(t,"q",(function(){return G})),n.d(t,"w",(function(){return B})),n.d(t,"s",(function(){return z})),n.d(t,"x",(function(){return q})),n.d(t,"A",(function(){return H})),n.d(t,"B",(function(){return Y})),n.d(t,"z",(function(){return V})),n.d(t,"bb",(function(){return W})),n.d(t,"W",(function(){return Q})),n.d(t,"H",(function(){return Z})),n.d(t,"Z",(function(){return K})),n.d(t,"ab",(function(){return $})),n.d(t,"K",(function(){return X})),n.d(t,"T",(function(){return J})),n.d(t,"I",(function(){return ee})),n.d(t,"O",(function(){return te})),n.d(t,"N",(function(){return ne})),n.d(t,"M",(function(){return re})),n.d(t,"L",(function(){return oe})),n.d(t,"P",(function(){return ae})),n.d(t,"Q",(function(){return ie})),n.d(t,"F",(function(){return ce})),n.d(t,"C",(function(){return se})),n.d(t,"R",(function(){return ue})),n.d(t,"S",(function(){return le})),n.d(t,"Y",(function(){return pe})),n.d(t,"V",(function(){return fe})),n.d(t,"G",(function(){return de})),n.d(t,"D",(function(){return me})),n.d(t,"E",(function(){return ye})),n.d(t,"U",(function(){return ge})),n.d(t,"J",(function(){return he})),n.d(t,"cb",(function(){return ve})),n.d(t,"db",(function(){return Oe})),n.d(t,"eb",(function(){return je})),n.d(t,"X",(function(){return Se}));var r=n("./MapStore2/web/client/api/CSW.js"),o=n("./MapStore2/web/client/api/WMS.js"),a=n("./MapStore2/web/client/api/WMTS.js"),i=n("./MapStore2/web/client/api/mapBackground.js"),c=n("./MapStore2/web/client/actions/layers.js"),s=n("./MapStore2/web/client/actions/map.js"),u=n("./MapStore2/web/client/utils/LayersUtils.js"),l=n("./MapStore2/web/client/utils/ConfigUtils.js"),p=n("./MapStore2/node_modules/lodash/lodash.js"),f=n("./MapStore2/web/client/selectors/catalog.js"),d=n("./MapStore2/web/client/selectors/layers.js"),b=n("./MapStore2/web/client/actions/notifications.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={csw:r.a,wms:o.a,wmts:a.a,backgrounds:i.a},v="CATALOG:ADD_LAYERS_FROM_CATALOGS",O="CATALOG:TEXT_SEARCH",j="CATALOG:RECORD_LIST_LOADED",S="CATALOG:RESET_CATALOG",w="CATALOG:CATALOG_CLOSE",E="CATALOG:RECORD_LIST_LOAD_ERROR",A="CATALOG:CHANGE_CATALOG_FORMAT",x="CATALOG:ADD_LAYER_ERROR",P="CATALOG:CHANGE_SELECTED_SERVICE",T="CATALOG:CHANGE_CATALOG_MODE",_="CATALOG:CHANGE_METADATA_TEMPLATE",M="CATALOG:CHANGE_TITLE",R="CATALOG:CHANGE_TEXT",C="CATALOG:CHANGE_TYPE",k="CATALOG:CHANGE_SERVICE_PROPERTY",I="CATALOG:CHANGE_SERVICE_FORMAT",D="CATALOG:FOCUS_SERVICES_LIST",N="CATALOG:CHANGE_URL",L="CATALOG:ADD_CATALOG_SERVICE",F="CATALOG:DELETE_CATALOG_SERVICE",U="CATALOG:ADD_SERVICE",G="CATALOG:DELETE_SERVICE",B="CATALOG:SAVING_SERVICE",z="CATALOG:GET_METADATA_RECORD_BY_ID",q="CATALOG:SET_LOADING",H="CATALOG:TOGGLE_TEMPLATE",Y="CATALOG:TOGGLE_THUMBNAIL",V="CATALOG:TOGGLE_ADVANCED_SETTINGS";function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=e.url,r=e.startPosition,o=e.maxRecords,a=e.text,i=e.options,c=void 0===i?{}:i;return{type:O,format:t,url:n,startPosition:r,maxRecords:o,text:a,options:c}}function Q(e,t){return{type:j,searchOptions:e,result:t}}function Z(e){return{type:A,format:e}}function K(e){return{type:B,status:e}}function $(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:q,loading:e}}function X(e){return{type:P,service:e}}function J(e){return{type:D,status:e}}function ee(e,t){return{type:T,mode:e,isNew:t}}function te(e){return{type:M,title:e}}function ne(e){return{type:R,text:e}}function re(e,t){return{type:k,property:e,value:t}}function oe(e){return{type:I,format:e}}function ae(e){return{type:C,newType:e}}function ie(e){return{type:N,url:e}}function ce(){return{type:U}}function se(e){return{type:L,service:e}}function ue(e){return{type:F,service:e}}function le(){return{type:G}}function pe(){return{type:S}}function fe(e){return{type:E,error:e}}function de(){return{type:w}}function be(e,t){return{type:"CATALOG:DESCRIBE_ERROR",layer:e,error:t}}var me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoomToLayer,r=void 0!==n&&n;return function(t,n){var o=n(),a=Object(d.p)(o),i=Object(u.getLayerId)(e,a||[]);return t(Object(c.D)(y(y({},e),{},{id:i}))),r&&e.bbox&&t(Object(s.I)(e.bbox.bounds,e.bbox.crs)),"wms"===e.type?h.wms.describeLayers(Object(u.getLayerUrl)(e),e.name).then((function(n){if(n){var r=Object(p.find)(n,(function(t){return t.name===e.name}));if(r&&"WFS"===r.owsType){var a=l.filterUrlParams(l.cleanDuplicatedQuestionMarks(r.owsURL),Object(f.b)(o));t(Object(c.H)(i,{search:{url:a,type:"wfs"}}))}}})).catch((function(n){return t(be(e,n))})):null}};function ye(e){return{type:x,error:e}}function ge(e){return{type:z,metadataOptions:e}}var he=function(e){return{type:_,metadataTemplate:e}},ve=function(){return{type:V}},Oe=function(){return{type:H}},je=function(){return{type:Y}};function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(b.f)({title:"catalog.notification.errorTitle",message:"catalog.notification.errorSearchingRecords",values:{records:e}})}},"./MapStore2/web/client/actions/draw.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"h",(function(){return m}));var r="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",a="DRAW:SET_CURRENT_STYLE",i="DRAW:GEOMETRY_CHANGED",c="DRAW:DRAW_SUPPORT_STOPPED";function s(e,t,n,r,o){return{type:i,features:e,owner:t,enableEdit:n,textChanged:r,circleChanged:o}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"DRAW:FEATURES_SELECTED",features:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"DRAW:DRAWING_FEATURES",features:e}}function p(){return{type:c}}function f(e,t,n,o,a,i){return{type:r,status:e,method:t,owner:n,features:o,options:a,style:i}}function d(e,t){return{type:o,geometry:e,owner:t}}function b(e){return{type:a,currentStyle:e}}var m=function(e){return f("clean","",e,[],{})}},"./MapStore2/web/client/actions/featuregrid.js":function(e,t,n){"use strict";n.d(t,"L",(function(){return r})),n.d(t,"E",(function(){return o})),n.d(t,"n",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"J",(function(){return c})),n.d(t,"U",(function(){return s})),n.d(t,"T",(function(){return u})),n.d(t,"q",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"A",(function(){return f})),n.d(t,"D",(function(){return d})),n.d(t,"P",(function(){return b})),n.d(t,"O",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return g})),n.d(t,"C",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"B",(function(){return O})),n.d(t,"m",(function(){return j})),n.d(t,"F",(function(){return S})),n.d(t,"N",(function(){return w})),n.d(t,"G",(function(){return E})),n.d(t,"Y",(function(){return A})),n.d(t,"b",(function(){return x})),n.d(t,"s",(function(){return P})),n.d(t,"p",(function(){return T})),n.d(t,"W",(function(){return _})),n.d(t,"i",(function(){return M})),n.d(t,"g",(function(){return R})),n.d(t,"z",(function(){return C})),n.d(t,"f",(function(){return k})),n.d(t,"d",(function(){return I})),n.d(t,"r",(function(){return D})),n.d(t,"I",(function(){return N})),n.d(t,"o",(function(){return L})),n.d(t,"a",(function(){return F})),n.d(t,"j",(function(){return U})),n.d(t,"y",(function(){return G})),n.d(t,"Z",(function(){return B})),n.d(t,"v",(function(){return z})),n.d(t,"M",(function(){return q})),n.d(t,"V",(function(){return H})),n.d(t,"u",(function(){return Y})),n.d(t,"X",(function(){return V})),n.d(t,"x",(function(){return W})),n.d(t,"Q",(function(){return Q})),n.d(t,"R",(function(){return Z})),n.d(t,"S",(function(){return K})),n.d(t,"w",(function(){return $})),n.d(t,"t",(function(){return X})),n.d(t,"K",(function(){return J})),n.d(t,"H",(function(){return ee})),n.d(t,"Qb",(function(){return te})),n.d(t,"ub",(function(){return ne})),n.d(t,"qb",(function(){return re})),n.d(t,"Ob",(function(){return oe})),n.d(t,"vb",(function(){return ae})),n.d(t,"cb",(function(){return ie})),n.d(t,"hb",(function(){return ce})),n.d(t,"Cb",(function(){return se})),n.d(t,"Ib",(function(){return ue})),n.d(t,"tb",(function(){return le})),n.d(t,"Mb",(function(){return pe})),n.d(t,"Lb",(function(){return fe})),n.d(t,"ob",(function(){return de})),n.d(t,"mb",(function(){return be})),n.d(t,"nb",(function(){return me})),n.d(t,"eb",(function(){return ye})),n.d(t,"Gb",(function(){return ge})),n.d(t,"Kb",(function(){return he})),n.d(t,"bb",(function(){return ve})),n.d(t,"Db",(function(){return Oe})),n.d(t,"Tb",(function(){return je})),n.d(t,"Rb",(function(){return Se})),n.d(t,"jb",(function(){return we})),n.d(t,"Pb",(function(){return Ee})),n.d(t,"Sb",(function(){return Ae})),n.d(t,"rb",(function(){return xe})),n.d(t,"ib",(function(){return Pe})),n.d(t,"zb",(function(){return Te})),n.d(t,"Bb",(function(){return _e})),n.d(t,"lb",(function(){return Me})),n.d(t,"sb",(function(){return Re})),n.d(t,"db",(function(){return Ce})),n.d(t,"Ab",(function(){return ke})),n.d(t,"gb",(function(){return Ie})),n.d(t,"fb",(function(){return De})),n.d(t,"yb",(function(){return Ne})),n.d(t,"pb",(function(){return Le})),n.d(t,"Fb",(function(){return Fe})),n.d(t,"xb",(function(){return Ue})),n.d(t,"Ub",(function(){return Ge})),n.d(t,"Nb",(function(){return Be})),n.d(t,"Jb",(function(){return ze})),n.d(t,"wb",(function(){return qe})),n.d(t,"ab",(function(){return He})),n.d(t,"kb",(function(){return Ye})),n.d(t,"Hb",(function(){return Ve})),n.d(t,"Eb",(function(){return We}));var r="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",a="FEATUREGRID:DESELECT_FEATURES",i="FEATUREGRID:CLEAR_SELECTION",c="FEATUREGRID:SET_SELECTION_OPTIONS",s="FEATUREGRID:TOGGLE_MODE",u="FEATUREGRID:TOGGLE_FEATURES_SELECTION",l="FEATUREGRID:FEATURES_MODIFIED",p="FEATUREGRID:NEW_FEATURE",f="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",b="FEATUREGRID:START_EDITING_FEATURE",m="FEATUREGRID:START_DRAWING_FEATURE",y="FEATUREGRID:DELETE_GEOMETRY",g="FEATUREGRID:DELETE_GEOMETRY_FEATURE",h="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",O="FEATUREGRID:SAVE_ERROR",j="FEATUREGRID:DELETE_SELECTED_FEATURES",S="SET_FEATURES",w="FEATUREGRID:SORT_BY",E="FEATUREGRID:SET_LAYER",A="QUERY:UPDATE_FILTER",x="FEATUREGRID:CHANGE_PAGE",P="FEATUREGRID:GEOMETRY_CHANGED",T="DOCK_SIZE_FEATURES",_="FEATUREGRID:TOGGLE_TOOL",M="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",R="ASK_CLOSE_FEATURE_GRID_CONFIRM",C="FEATUREGRID:OPEN_GRID",k="FEATUREGRID:CLOSE_GRID",I="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",D="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",N="FEATUREGRID:SET_PERMISSION",L="FEATUREGRID:DISABLE_TOOLBAR",F="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",U="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",G="FEATUREGRID:ADVANCED_SEARCH",B="FEATUREGRID:ZOOM_ALL",z="FEATUREGRID:INIT_PLUGIN",q="FEATUREGRID:SIZE_CHANGE",H="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",Y="FEATUREGRID:HIDE_SYNC_POPOVER",V="FEATUREGRID:UPDATE_EDITORS_OPTIONS",W={EDIT:"EDIT",VIEW:"VIEW"},Q="FEATUREGRID:START_SYNC_WMS",Z="FEATUREGRID:STOP_SYNC_WMS",K="STORE_ADVANCED_SEARCH_FILTER",$="LOAD_MORE_FEATURES",X="FEATUREGRID:QUERY_RESULT",J="FEATUREGRID:SET_TIME_SYNC",ee="FEATUREGRID:SET_PAGINATION";function te(){return{type:H}}function ne(){return{type:Y}}function re(e,t){return{type:X,features:e,pages:t}}function oe(e){return{type:K,filterObj:e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:z,options:e}}function ie(){return{type:I}}function ce(){return{type:D}}function se(e,t){return{type:o,features:e,append:t}}function ue(e){return{type:r,options:e}}function le(e){return{type:P,features:e}}function pe(){return{type:b}}function fe(){return{type:m}}function de(e){return{type:a,features:e}}function be(){return{type:y}}function me(e){return{type:g,features:e}}function ye(){return{type:i}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,n=void 0!==t&&t;return{type:c,multiselect:n}}function he(e,t){return{type:w,sortBy:e,sortOrder:t}}function ve(e,t){return{type:x,page:e,size:t}}function Oe(e){return{type:E,id:e}}function je(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:A,update:e,append:t}}function Se(e,t){return{type:_,tool:e,value:t}}function we(e,t,n){return{type:M,name:e,key:t,value:n}}function Ee(){return{type:s,mode:W.EDIT}}function Ae(){return{type:s,mode:W.VIEW}}function xe(e,t){return{type:l,features:e,updated:t}}function Pe(e){return{type:p,features:e}}function Te(){return{type:f}}function _e(){return{type:h}}function Me(){return{type:j}}function Re(){return{type:d}}function Ce(){return{type:v}}function ke(){return{type:O}}function Ie(){return{type:R}}function De(){return{type:k}}function Ne(){return{type:C}}function Le(e){return{type:L,disabled:e}}function Fe(e){return{type:N,permission:e}}function Ue(){return{type:G}}function Ge(){return{type:B}}function Be(){return{type:Q}}function ze(e,t){return{type:q,size:e,dockProps:t}}var qe=function(e){return{type:$,pages:e}},He=function(e){return{type:F,activated:e}},Ye=function(e){return{type:U,deactivated:e}},Ve=function(e){return{type:J,value:e}},We=function(e){return{type:ee,size:e}}},"./MapStore2/web/client/actions/highlight.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c}));var r="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",a="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function i(e){return{type:a,featuresPath:e}}function c(e,t){return{type:o,features:e,status:t}}},"./MapStore2/web/client/actions/locate.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i}));var r="CHANGE_LOCATE_STATE",o="LOCATE_ERROR";function a(e){return{type:r,state:e}}function i(e){return{type:o,error:e}}},"./MapStore2/web/client/actions/mapInfo.js":function(e,t,n){"use strict";n.d(t,"n",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"o",(function(){return s})),n.d(t,"q",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"t",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"u",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"k",(function(){return m})),n.d(t,"p",(function(){return y})),n.d(t,"e",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"A",(function(){return v})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return j})),n.d(t,"z",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"f",(function(){return E})),n.d(t,"a",(function(){return A})),n.d(t,"y",(function(){return x})),n.d(t,"g",(function(){return P})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return _})),n.d(t,"v",(function(){return M})),n.d(t,"N",(function(){return R})),n.d(t,"H",(function(){return C})),n.d(t,"I",(function(){return k})),n.d(t,"P",(function(){return I})),n.d(t,"E",(function(){return D})),n.d(t,"O",(function(){return N})),n.d(t,"K",(function(){return L})),n.d(t,"Q",(function(){return F})),n.d(t,"C",(function(){return U})),n.d(t,"T",(function(){return G})),n.d(t,"L",(function(){return B})),n.d(t,"U",(function(){return q})),n.d(t,"M",(function(){return H})),n.d(t,"W",(function(){return Y})),n.d(t,"Y",(function(){return V})),n.d(t,"J",(function(){return W})),n.d(t,"Z",(function(){return Q})),n.d(t,"V",(function(){return Z})),n.d(t,"D",(function(){return K})),n.d(t,"F",(function(){return $})),n.d(t,"B",(function(){return X})),n.d(t,"X",(function(){return J})),n.d(t,"G",(function(){return ee})),n.d(t,"R",(function(){return te})),n.d(t,"S",(function(){return ne}));var r=n("./MapStore2/web/client/api/Nominatim.js"),o="LOAD_FEATURE_INFO",a="ERROR_FEATURE_INFO",i="EXCEPTIONS_FEATURE_INFO",c="CHANGE_MAPINFO_STATE",s="NEW_MAPINFO_REQUEST",u="PURGE_MAPINFO_RESULTS",l="CHANGE_MAPINFO_FORMAT",p="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",b="HIDE_REVERSE_GEOCODE",m="GET_VECTOR_INFO",y="NO_QUERYABLE_LAYERS",g="CLEAR_WARNING",h="FEATURE_INFO_CLICK",v="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",O="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",j="TOGGLE_MAPINFO_STATE",S="UPDATE_CENTER_TO_MARKER",w="IDENTIFY:CHANGE_PAGE",E="IDENTIFY:CLOSE_IDENTIFY",A="IDENTIFY:CHANGE_FORMAT",x="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",P="IDENTIFY:EDIT_LAYER_FEATURES",T="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",_="IDENTIFY:SET_MAP_TRIGGER",M="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI";function R(e,t,n,r,a){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:a}}function C(e,t,n,r){return{type:a,error:t,reqId:e,requestParams:n,layerMetadata:r}}function k(e,t,n,r){return{type:i,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function I(){return{type:y}}function D(){return{type:g}}function N(e,t){return{type:s,reqId:e,request:t}}function L(e,t,n,r){return{type:m,layer:e,request:t,metadata:n,queryableLayers:r}}function F(){return{type:u}}function U(e){return{type:l,infoFormat:e}}function G(){return{type:p}}function B(){return{type:f}}function z(e){return{type:d,reverseGeocodeData:e.data}}function q(e){return function(t){r.default.reverseGeocode(e).then((function(e){t(z(e))})).catch((function(e){t(z(e))}))}}function H(){return{type:b}}function Y(){return{type:j}}function V(e){return{type:S,status:e}}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:h,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function Q(e){return{type:v,point:e}}function Z(e){return{type:O,enabled:e}}function K(e){return{type:w,index:e}}var $=function(){return{type:E}},X=function(e){return{type:A,format:e}},J=function(e){return{type:x,showCoordinateEditor:e}},ee=function(e){return{type:P,layer:e}},te=function(e){return{type:T,query:e}},ne=function(e){return{type:_,trigger:e}}},"./MapStore2/web/client/actions/mapPopups.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u}));var i="MAP:REMOVE_POPUP",c=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:"MAP:ADD_POPUP",id:e,popup:o({id:e},t),single:n}},s=function(e){return{type:i,id:e}},u=function(){return{type:"MAP:CLEAN_POPUPS"}}},"./MapStore2/web/client/actions/maplayout.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="MAP_LAYOUT:UPDATE_MAP_LAYOUT";function o(e){return{type:r,layout:e}}},"./MapStore2/web/client/actions/measurement.js":function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"n",(function(){return u})),n.d(t,"l",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"o",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"m",(function(){return h})),n.d(t,"k",(function(){return v})),n.d(t,"p",(function(){return O})),n.d(t,"u",(function(){return S})),n.d(t,"w",(function(){return w})),n.d(t,"t",(function(){return E})),n.d(t,"A",(function(){return A})),n.d(t,"B",(function(){return x})),n.d(t,"z",(function(){return P})),n.d(t,"q",(function(){return T})),n.d(t,"s",(function(){return _})),n.d(t,"r",(function(){return M})),n.d(t,"y",(function(){return R})),n.d(t,"C",(function(){return C})),n.d(t,"v",(function(){return k})),n.d(t,"x",(function(){return I}));var a="CHANGE_MEASUREMENT_TOOL",i="CHANGE_MEASUREMENT_STATE",c="MEASUREMENT:CHANGE_UOM",s="MEASUREMENT:CHANGED_GEOMETRY",u="MEASUREMENT:SET_TEXT_LABELS",l="MEASUREMENT:SET_CURRENT_FEATURE",p="MEASUREMENT:ADD_AS_LAYER",f="MEASUREMENT:RESET_GEOMETRY",d="MEASUREMENT:CHANGE_FORMAT",b="MEASUREMENT:CHANGE_COORDINATES",m="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",y="MEASUREMENT:UPDATE_MEASURES",g="MEASUREMENT:INIT",h="MEASUREMENT:SET_MEASUREMENT_CONFIG",v="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function O(e,t,n,r,o){return{type:m,features:e,textLabels:t,uom:n,save:r,id:o}}function j(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:a},e)}function S(e){return function(t){t(j(e))}}function w(e,t,n){return{type:c,uom:e,value:t,previousUom:n}}function E(e){return{type:s,features:e}}function A(e,t){return{type:h,property:e,value:t}}function x(e){return{type:u,textLabels:e}}function P(e){return{type:l,featureIndex:e}}function T(e,t,n){return{type:p,features:e,textLabels:t,uom:n}}function _(e){return{type:d,format:e}}function M(e){return{type:b,coordinates:e}}function R(){return{type:f}}function C(e){return{type:y,measures:e}}function k(e){return{type:i,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:g,defaultOptions:e}}},"./MapStore2/web/client/actions/playback.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"k",(function(){return a})),n.d(t,"i",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"j",(function(){return m})),n.d(t,"s",(function(){return y})),n.d(t,"r",(function(){return g})),n.d(t,"w",(function(){return h})),n.d(t,"v",(function(){return v})),n.d(t,"u",(function(){return O})),n.d(t,"o",(function(){return j})),n.d(t,"q",(function(){return S})),n.d(t,"t",(function(){return w})),n.d(t,"p",(function(){return E})),n.d(t,"x",(function(){return A})),n.d(t,"n",(function(){return x})),n.d(t,"y",(function(){return P}));var r="PLAYBACK:START",o="PLAYBACK:PAUSE",a="PLAYBACK:STOP",i="PLAYBACK:SET_FRAMES",c="PLAYBACK:APPEND_FRAMES",s="PLAYBACK:FRAMES_LOADING",u="PLAYBACK:SET_CURRENT_FRAME",l="PLAYBACK:SELECT_PLAYBACK_RANGE",p="PLAYBACK:SETTINGS_CHANGE",f="PLAYBACK:TOGGLE_ANIMATION_MODE",d="PLAYBACK:ANIMATION_STEP_MOVE",b="PLAYBACK:UPDATE_METADATA",m={PLAY:"PLAY",STOP:"STOP",PAUSE:"PAUSE"},y=function(){return{type:r}},g=function(){return{type:o}},h=function(){return{type:a}},v=function(e){return{type:i,frames:e}},O=function(e){return{type:u,frame:e}},j=function(e){return{type:c,frames:e}},S=function(e){return{type:s,loading:e}},w=function(e){return{type:l,range:e}},E=function(e,t){return{type:p,name:e,value:t}},A=function(){return{type:f}},x=function(e){return{type:d,direction:e}},P=function(e){var t=e.next,n=e.previous,r=e.forTime;return{type:b,forTime:r,next:t,previous:n}}},"./MapStore2/web/client/actions/search.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"p",(function(){return a})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"q",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"o",(function(){return y})),n.d(t,"n",(function(){return g})),n.d(t,"r",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"s",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return S})),n.d(t,"x",(function(){return w})),n.d(t,"L",(function(){return E})),n.d(t,"v",(function(){return A})),n.d(t,"C",(function(){return x})),n.d(t,"D",(function(){return P})),n.d(t,"E",(function(){return T})),n.d(t,"B",(function(){return _})),n.d(t,"A",(function(){return M})),n.d(t,"z",(function(){return R})),n.d(t,"t",(function(){return C})),n.d(t,"J",(function(){return k})),n.d(t,"G",(function(){return I})),n.d(t,"I",(function(){return D})),n.d(t,"F",(function(){return N})),n.d(t,"u",(function(){return L})),n.d(t,"K",(function(){return F})),n.d(t,"w",(function(){return U})),n.d(t,"y",(function(){return G})),n.d(t,"H",(function(){return B}));var r=n("./MapStore2/web/client/actions/notifications.js"),o="SEARCH:SEARCH_WITH_FILTER",a="TEXT_SEARCH_STARTED",i="TEXT_SEARCH_RESULTS_LOADED",c="TEXT_SEARCH_RESULTS_PURGE",s="TEXT_SEARCH_RESET",u="TEXT_SEARCH_ADD_MARKER",l="TEXT_SEARCH_TEXT_CHANGE",p="TEXT_SEARCH_LOADING",f="TEXT_SEARCH_NESTED_SERVICE_SELECTED",d="TEXT_SEARCH_ERROR",b="TEXT_SEARCH_CANCEL_ITEM",m="TEXT_SEARCH_ITEM_SELECTED",y="TEXT_SEARCH_SHOW_GFI",g="TEXT_SEARCH_SET_HIGHLIGHTED_FEATURE",h="UPDATE_RESULTS_STYLE",v="CHANGE_SEARCH_TOOL",O="SEARCH:ZOOM_ADD_POINT",j="SEARCH:CHANGE_FORMAT",S="SEARCH:CHANGE_COORD";function w(e){return{type:j,format:e}}function E(e,t,n){return{type:O,pos:e,zoom:t,crs:n}}function A(e){return{type:v,activeSearchTool:e}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return{type:i,results:e,append:t,services:n}}function P(e){return{type:l,searchText:e}}function T(e){return{type:p,loading:e}}function _(e){return{type:d,error:e}}function M(){return{type:c}}function R(){return{type:s}}function C(e,t){return{type:u,markerPosition:e,markerLabel:t}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.services,r=void 0===n?null:n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return{type:a,searchText:e,services:r,maxResults:o}}function I(e,t,n){return{type:m,item:e,mapConfig:t,resultsStyle:n}}var D=function(e){return{type:y,item:e}};function N(e,t,n){return{type:f,searchText:n,services:e,items:t}}function L(e){return{type:b,item:e}}function F(e){return{type:h,style:e}}function U(e,t){return{type:S,coord:e,val:t}}function G(){return Object(r.f)({title:"Error",position:"tc",message:"search.errors.nonQueriableLayers",autoDismiss:10})}function B(){return Object(r.f)({title:"Error",position:"tc",message:"search.errors.serverError",autoDismiss:10})}},"./MapStore2/web/client/actions/styleeditor.js":function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"q",(function(){return a})),n.d(t,"o",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"p",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return h})),n.d(t,"n",(function(){return v})),n.d(t,"D",(function(){return O})),n.d(t,"F",(function(){return j})),n.d(t,"A",(function(){return S})),n.d(t,"H",(function(){return w})),n.d(t,"y",(function(){return E})),n.d(t,"x",(function(){return A})),n.d(t,"s",(function(){return x})),n.d(t,"z",(function(){return P})),n.d(t,"r",(function(){return T})),n.d(t,"v",(function(){return _})),n.d(t,"G",(function(){return M})),n.d(t,"u",(function(){return R})),n.d(t,"t",(function(){return C})),n.d(t,"w",(function(){return k})),n.d(t,"C",(function(){return I})),n.d(t,"B",(function(){return D})),n.d(t,"E",(function(){return N}));var r="STYLEEDITOR:TOGGLE_STYLE_EDITOR",o="STYLEEDITOR:SELECT_STYLE_TEMPLATE",a="STYLEEDITOR:UPDATE_TEMPORARY_STYLE",i="STYLEEDITOR:UPDATE_STATUS",c="STYLEEDITOR:RESET_STYLE_EDITOR",s="STYLEEDITOR:ADD_STYLE",u="STYLEEDITOR:CREATE_STYLE",l="STYLEEDITOR:LOADING_STYLE",p="STYLEEDITOR:LOADED_STYLE",f="STYLEEDITOR:ERROR_STYLE",d="STYLEEDITOR:UPDATE_STYLE_CODE",b="STYLEEDITOR:EDIT_STYLE_CODE",m="STYLEEDITOR:DELETE_STYLE",y="STYLEEDITOR:INIT_STYLE_SERVICE",g="STYLEEDITOR:SET_EDIT_PERMISSION",h="STYLEEDITOR:SET_DEFAULT_STYLE",v="STYLEEDITOR:UPDATE_EDITOR_METADATA";function O(e,t){return{type:r,layer:e,enabled:t}}function j(e){return{type:i,status:e}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,n=e.templateId,r=e.format,a=e.languageVersion,i=e.init;return{type:o,code:t,templateId:n,format:r,init:i,languageVersion:a}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.temporaryId,n=e.templateId,r=e.code,o=e.format,i=e.languageVersion,c=e.init;return{type:a,temporaryId:t,templateId:n,code:r,format:o,init:c,languageVersion:i}}function E(e){return{type:l,status:e}}function A(){return{type:p}}function x(e){return{type:u,settings:e}}function P(){return{type:c}}function T(e){return{type:s,add:e}}function _(e,t){return{type:f,status:e,error:t}}function M(){return{type:d}}function R(e){return{type:b,code:e}}function C(e){return{type:m,styleName:e}}function k(e,t){return{type:y,service:e,canEdit:t}}function I(e){return{type:g,canEdit:e}}function D(){return{type:h}}function N(e){return{type:v,metadata:e}}},"./MapStore2/web/client/actions/wfsquery.js":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"p",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"o",(function(){return g})),n.d(t,"n",(function(){return h})),n.d(t,"A",(function(){return v})),n.d(t,"z",(function(){return O})),n.d(t,"v",(function(){return j})),n.d(t,"u",(function(){return S})),n.d(t,"t",(function(){return w})),n.d(t,"s",(function(){return E})),n.d(t,"r",(function(){return A})),n.d(t,"y",(function(){return x})),n.d(t,"x",(function(){return P})),n.d(t,"B",(function(){return T})),n.d(t,"q",(function(){return _})),n.d(t,"w",(function(){return M}));n("./MapStore2/web/client/libs/ajax.js");var r="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",a="FEATURE_TYPE_LOADED",i="FEATURE_LOADED",c="FEATURE_LOADING",s="FEATURE_TYPE_ERROR",u="FEATURE_ERROR",l="QUERY_CREATE",p="QUERY:UPDATE_QUERY",f="QUERY_RESULT",d="QUERY_ERROR",b="RESET_QUERY",m="QUERY",y="INIT_QUERY_PANEL",g="QUERY:TOGGLE_SYNC_WMS",h="QUERY:TOGGLE_LAYER_FILTER";function v(){return{type:g}}function O(){return{type:h}}function j(){return{type:y}}function S(e,t){return{type:o,url:e,typeName:t}}function w(e,t){return{type:a,typeName:e,featureType:t}}function E(e,t){return{type:s,typeName:e,error:t}}function A(e){return{type:c,isLoading:e}}function x(e,t,n,r,o){return{type:f,searchUrl:t,filterObj:n,result:e,queryOptions:r,reason:o}}function P(e){return{type:d,error:e}}function T(e,t){return{type:p,updates:e,reason:t}}function _(e,t){return{type:l,searchUrl:e,filterObj:t}}function M(e,t,n,r){return{type:m,searchUrl:e,filterObj:t,queryOptions:n,reason:r}}},"./MapStore2/web/client/api/CSW.js":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),o=n.n(r),a=n("./MapStore2/node_modules/lodash/lodash.js"),i=n.n(a),c=n("./node_modules/object-assign/index.js"),s=n.n(c),u=n("./MapStore2/web/client/libs/ajax.js"),l=n.n(u),p=n("./MapStore2/web/client/utils/ConfigUtils.js"),f=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),d=function(e){var t=o.a.parse(e,!0);return o.a.format(s()({},t,{search:null},{query:s()({service:"CSW",version:"2.0.2"},t.query,{request:void 0})}))},b={parseUrl:d,getRecordById:function(e){return new Promise((function(t){Promise.all([n.e(2),n.e(27)]).then(function(){t(l.a.get(e).then((function(e){if(e){var t=n("./MapStore2/web/client/utils/ogc/CSW.js").unmarshaller.unmarshalString(e.data);if(t&&t.name&&"GetRecordByIdResponse"===t.name.localPart&&t.value&&t.value.abstractRecord){var r=t.value.abstractRecord[0].value.dcElement;if(r){for(var o={references:[]},a=0;a<r.length;a++){var i=r[a],c=i.name.localPart,s={};if("references"===c&&i.value)s={value:i.value.content&&Object(p.cleanDuplicatedQuestionMarks)(i.value.content[0])||i.value.content||i.value,scheme:i.value.scheme};else s=i.value.content&&i.value.content[0]||i.value.content||i.value;o[c]&&Array.isArray(o[c])?o[c].push(s):o[c]?o[c]=[o[c],s]:o[c]=s}return{dc:o}}}else if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"};return null}return null})))}.bind(null,n)).catch(n.oe)}))},getRecords:function(e,t,r,o){return new Promise((function(a){Promise.all([n.e(2),n.e(8)]).then(function(){var c=n("./MapStore2/web/client/utils/ogc/CSW.js"),s=c.CSW,u=c.marshaller,b=c.unmarshaller,m=u.marshalString({name:"csw:GetRecords",value:s.getRecords(t,r,o)});a(l.a.post(d(e),m,{headers:{"Content-Type":"application/xml"}}).then((function(e){if(e){var t=b.unmarshalString(e.data);if(t&&t.name&&"GetRecordsResponse"===t.name.localPart&&t.value&&t.value.searchResults){var n=t.value,r=n.searchResults.abstractRecord||n.searchResults.any,o={numberOfRecordsMatched:n.searchResults.numberOfRecordsMatched,numberOfRecordsReturned:n.searchResults.numberOfRecordsReturned,nextRecord:n.searchResults.nextRecord},a=[];if(r)for(var c=0;c<r.length;c++){var s=r[c].value,u={dateStamp:s.dateStamp&&s.dateStamp.date,fileIdentifier:s.fileIdentifier&&s.fileIdentifier.characterString&&s.fileIdentifier.characterString.value,identificationInfo:s.abstractMDIdentification&&s.abstractMDIdentification.value};if(s.boundingBox){var l=void 0,d=void 0,m=void 0;if((m=Array.isArray(s.boundingBox)?i.a.head(s.boundingBox):s.boundingBox)&&m.value){var y,g,h,v,O=null!==(y=null===(g=m.value)||void 0===g?void 0:g.crs)&&void 0!==y?y:"",j=null===(h=O.match(/[\w-]*:[\w-]*:[\w-]*:[\w-]*:[\w-]*:[^:]*:(([\w-]+\s[\w-]+)|[\w-]*)/))||void 0===h?void 0:h[0],S=Object(f.makeNumericEPSG)(null===(v=O.match(/EPSG:[0-9]+/))||void 0===v?void 0:v[0]),w=m.value.lowerCorner,E=m.value.upperCorner,A=S||Object(f.extractCrsFromURN)(j)||i.a.last(O.split(":"));if(A){if("EPSG:"===A.slice(0,5)){if(!(d=Object(f.makeNumericEPSG)(A)))throw new Error('No suitable EPSG numeric conversion found for "'.concat(A,'"'))}else if(!(d=Object(f.makeNumericEPSG)("EPSG:".concat(A))))throw new Error('No suitable EPSG numeric conversion found for "'.concat(A,'"'))}else d="EPSG:4326";"EPSG:4326"===d&&"CRS84"!==A&&"OGC:CRS84"!==A&&(w=[w[1],w[0]],E=[E[1],E[0]]),l=Object(f.makeBboxFromOWS)(w,E)}u.boundingBox={extent:l,crs:d}}var x=s.dcElement;if(x){for(var P={references:[]},T=0;T<x.length;T++){var _=x[T],M=_.name.localPart,R={};if("references"===M&&_.value)R={value:_.value.content&&Object(p.cleanDuplicatedQuestionMarks)(_.value.content[0])||_.value.content||_.value,scheme:_.value.scheme};else R=_.value.content&&_.value.content[0]||_.value.content||_.value;P[M]&&Array.isArray(P[M])?P[M].push(R):P[M]?P[M]=[P[M],R]:P[M]=R}u.dc=P}a.push(u)}return o.records=a,o}if(t&&t.name&&"ExceptionReport"===t.name.localPart)return{error:t.value.exception&&t.value.exception.length&&t.value.exception[0].exceptionText||"GenericError"}}return null})))}.bind(null,n)).catch(n.oe)}))},textSearch:function(e,t,r,o){return new Promise((function(a){Promise.all([n.e(2),n.e(8)]).then(function(){var i=n("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,c=null;if(o){var s=i.propertyIsLike("csw:AnyText","%"+o+"%");c=i.filter(s)}a(b.getRecords(e,t,r,c))}.bind(null,n)).catch(n.oe)}))},workspaceSearch:function(e,t,r,o,a){return new Promise((function(i){Promise.all([n.e(2),n.e(8)]).then(function(){var c=n("./MapStore2/web/client/utils/ogc/Filter/index.js").Filter,s=a||"%",u=o&&"%"+o+"%"||"%",l=c.propertyIsLike("identifier",s+":"+u),p=c.filter(l);i(b.getRecords(e,t,r,p))}.bind(null,n)).catch(n.oe)}))},reset:function(){}};t.a=b},"./MapStore2/web/client/api/Nominatim.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/libs/ajax.js"),o=n.n(r),a=n("./node_modules/url/url.js"),i=n.n(a),c=n("./node_modules/object-assign/index.js"),s=n.n(c),u={format:"json",bounded:0,polygon_geojson:1,priority:5},l={geocode:function(e,t){var n=s()({q:e},u,t||{}),r=i.a.format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o.a.get(r)},reverseGeocode:function(e,t){var n=s()({lat:e.lat,lon:e.lng},t||{},u),r=i.a.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o.a.get(r)}};t.default=l},"./MapStore2/web/client/api/WMTS.js":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/libs/ajax.js"),o=n.n(r),a=n("./MapStore2/web/client/utils/ConfigUtils.js"),i=n("./node_modules/url/url.js"),c=n.n(i),s=n("./node_modules/object-assign/index.js"),u=n.n(s),l=n("./node_modules/xml2js/lib/xml2js.js"),p=n.n(l),f=n("./MapStore2/node_modules/lodash/lodash.js"),d=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),b=n("./MapStore2/web/client/utils/WMTSUtils.js"),m={},y=function(e){var t=c.a.parse(e,!0);return c.a.format(u()({},t,{search:null},{query:u()({SERVICE:"WMTS",VERSION:"1.0.0",REQUEST:"GetCapabilities"},t.query)}))},g=function(e,t,n,r,o){for(var a=e.Capabilities.Contents,i=Object(b.getOperations)(e),c=Object(b.getRequestEncoding)(e),s=a.TileMatrixSet&&Object(f.castArray)(a.TileMatrixSet)||[],l=[],p=s.length,m=0;m<p;m++)l.push(Object(d.getEPSGCode)(s[m]["ows:SupportedCRS"]));var y=a.Layer,g=Object(f.castArray)(y).filter((function(e){return!r||-1!==e["ows:Identifier"].toLowerCase().indexOf(r.toLowerCase())||e["ows:Title"]&&-1!==e["ows:Title"].toLowerCase().indexOf(r.toLowerCase())}));return{numberOfRecordsMatched:g.length,numberOfRecordsReturned:Math.min(n,g.length),nextRecord:t+Math.min(n,g.length)+1,records:g.filter((function(e,r){return r>=t-1&&r<t-1+n})).map((function(e){return u()({},e,{SRS:l,TileMatrixSet:s,queryable:!!Object(b.getOperation)(i,"GetFeatureInfo","KVP"),requestEncoding:c,style:Object(b.getDefaultStyleIdentifier)(e),format:Object(b.getDefaultFormat)(e),GetTileURL:Object(b.getOperation)(i,"GetTile",c),capabilitiesURL:o})}))}},h={parseUrl:y,getRecords:function(e,t,n,r){var i=m[e];return i&&(new Date).getTime()<i.timestamp+1e3*(Object(a.getConfigProp)("cacheExpire")||60)?new Promise((function(o){o(g(i.data,t,n,r,e))})):o.a.get(y(e)).then((function(o){var a;return p.a.parseString(o.data,{explicitArray:!1},(function(e,t){a=t})),m[e]={timestamp:(new Date).getTime(),data:a},g(a,t,n,r,e)}))},getCapabilities:function(e){var t=m[e];return t&&(new Date).getTime()<t.timestamp+1e3*(Object(a.getConfigProp)("cacheExpire")||60)?new Promise((function(e){e(t.data)})):o.a.get(y(e)).then((function(t){var n;return p.a.parseString(t.data,{explicitArray:!1},(function(e,t){n=t})),m[e]={timestamp:(new Date).getTime(),data:n},n}))},textSearch:function(e,t,n,r){return h.getRecords(e,t,n,r)},reset:function(){Object.keys(m).forEach((function(e){delete m[e]}))}};t.a=h},"./MapStore2/web/client/api/identify.jsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/rxjs/Rx.js"),a=n("./MapStore2/web/client/utils/MapInfoUtils.js"),i=n("./MapStore2/web/client/libs/ajax.js"),c=n.n(i),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=i.attachJSON,p=i.itemId,d=void 0===p?null:p,b=function(t){return o.Observable.defer((function(){return c.a.get(e,{params:t})}))},m=function(t){return Object(a.h)(n,e,t)},y=Object(a.h)(n,e,t)?m:b;return l&&"application/json"!==t.info_format&&"application/json"!==t.outputFormat?o.Observable.forkJoin(y(t),y(f(f({},t),{},{info_format:"application/json"})).map((function(e){return e.data})).catch((function(){return o.Observable.of({})}))).map((function(e){var t=u(e,2),n=t[0],o=t[1];return f(f({},n),{},{features:o&&o.features&&o.features.filter((function(e){return!!Object(r.isNil)(d)||e.id===d})),featuresCrs:o&&o.crs&&Object(s.parseURN)(o.crs)})})):y(t).map((function(e){return e.data})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:Object(r.isString)(e)?e:f(f({},e),{},{features:e.features&&e.features.filter((function(e){return!d||e.id===d}))}),features:e.features&&e.features.filter((function(e){return!d||e.id===d})),featuresCrs:e&&e.crs&&Object(s.parseURN)(e.crs)}}))}},"./MapStore2/web/client/api/mapBackground.js":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/ConfigUtils.js"),a=function(e,t,n,a){var i=Object(r.get)(o.default.getDefaults(),"initialState.defaultState.catalog.default.staticServices.default_map_backgrounds.backgrounds").filter((function(e){return!a||e.title.indexOf(a)>-1})),c=i.filter((function(e,r){return r>=t-1&&r<n+t-1}));return new Promise((function(e){return e({numberOfRecordsMatched:i.length,numberOfRecordsReturned:c.length,records:c,service:{Name:"Background Provider"}})}))};t.a={getRecords:a,reset:function(){},textSearch:function(e,t,n,r){return a(0,t,n,r)}}},"./MapStore2/web/client/components/I18N/HTML.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react-intl/lib/index.es.js").FormattedHTMLMessage,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,r,o=p(a);function a(){return s(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return this.context.intl?i.a.createElement(m,{id:this.props.msgId,values:this.props.msgParams}):i.a.createElement("span",null,this.props.msgId||"")}}])&&u(t.prototype,n),r&&u(t,r),a}(i.a.Component);b(y,"propTypes",{msgId:o.a.string.isRequired,msgParams:o.a.object}),b(y,"contextTypes",{intl:o.a.object}),t.a=y},"./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=(n("./MapStore2/web/client/components/I18N/css/formControlIntl.css"),n("./node_modules/react-numeric-input/index.js")),s=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o=m(a);function a(){var e;f(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=o.call.apply(o,[this].concat(n))),"parse",(function(t){var n=t;if(NaN!==n&&"NaN"!==n){var r=e.context&&e.context.intl&&e.context.intl.locale||"en-US",o=new Intl.NumberFormat(r),a=o.formatToParts(12345.6),i=Array.from({length:10}).map((function(e,t){return o.format(t)})),c=new Map(i.map((function(e,t){return[e,t]}))),s=new RegExp("[".concat(a.find((function(e){return"group"===e.type})).value,"]"),"g"),u=new RegExp("[".concat(a.find((function(e){return"decimal"===e.type})).value,"]")),l=new RegExp("[".concat(i.join(""),"]"),"g");return(n=n.trim().replace(s,"").replace(u,".").replace(l,(function(e){return c.get(e)})))?+n:NaN}return""})),v(g(e),"format",(function(t){if(!isNaN(t)&&"NaN"!==t){var n=e.context&&e.context.intl&&e.context.intl.locale||"en-US";return new Intl.NumberFormat(n,{minimumFractionDigits:0,maximumFractionDigits:20}).format(t)}return""})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=(t.onChange,t.onBlur),r=t.disabled,o=(t.type,t.step),a=t.value,c=t.defaultValue,u=p(t,["onChange","onBlur","disabled","type","step","value","defaultValue"]);return i.a.createElement(s.a,l({id:"intl-numeric",step:o},u,void 0!==a?{value:this.format(a)}:{defaultValue:this.format(c)},{format:this.format,onKeyUp:function(e){e.target.setSelectionRange(-1,-1)},onChange:function(t){null===t?e.props.onChange(""):e.props.onChange(t.toString())},onBlur:function(t){n&&(t.target.value=e.parse(t.target.value),n(t))},disabled:r||!1,parse:this.parse,onKeyPress:function(e){null!==e.key.match(/^[a-zA-Z]*$/)&&e.preventDefault()},componentClass:"input",className:"form-control"}))}}])&&d(t.prototype,n),r&&d(t,r),a}(i.a.Component);v(O,"propTypes",{type:o.a.oneOfType([o.a.string,o.a.number]),value:o.a.oneOfType([o.a.string,o.a.number]),defaultValue:o.a.oneOfType([o.a.string,o.a.number]),onChange:o.a.func,step:o.a.number,locale:o.a.string,disabled:o.a.bool,onBlur:o.a.func}),v(O,"contextTypes",{intl:o.a.object}),t.a=O},"./MapStore2/web/client/components/I18N/Message.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-intl/lib/index.es.js"),i=n("./node_modules/prop-types/index.js"),c=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=a.FormattedMessage,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,n,r,a=f(i);function i(){var e;u(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(b(e=a.call.apply(a,[this].concat(n))),"renderFormattedMsg",(function(e){var t=e.msgId,n=e.msgParams,r=e.children;return r&&"function"==typeof r?o.a.createElement(g,{id:t,values:n},(function(e){return r(e)})):o.a.createElement(g,{id:t,values:n})})),y(b(e),"renderMsg",(function(e){var t=e.msgId,n=e.children;return n&&"function"==typeof n?n(t):o.a.createElement("span",null,t||"")})),e}return t=i,(n=[{key:"render",value:function(){return this.context.intl?this.renderFormattedMsg(this.props):this.renderMsg(this.props)}}])&&l(t.prototype,n),r&&l(t,r),i}(o.a.Component);y(h,"propTypes",{msgId:c.a.string.isRequired,msgParams:c.a.object}),y(h,"contextTypes",{intl:c.a.object}),t.default=h},"./MapStore2/web/client/components/I18N/Number.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./MapStore2/node_modules/lodash/lodash.js"),s=n("./node_modules/react-intl/lib/index.es.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,r,o=b(a);function a(){return p(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return this.context.intl?i.a.createElement(s.FormattedNumber,l({value:this.props.value},this.props.numberParams)):i.a.createElement("span",null,!Object(c.isNil)(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&f(t.prototype,n),r&&f(t,r),a}(i.a.Component);g(h,"propTypes",{value:o.a.oneOfType([o.a.object,o.a.number]),numberParams:o.a.object}),g(h,"contextTypes",{intl:o.a.object}),t.a=h},"./MapStore2/web/client/components/I18N/css/formControlIntl.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/I18N/css/formControlIntl.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/background/img/default.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/components/background/img/default.jpg"},"./MapStore2/web/client/components/buttons/ToggleButton.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react-bootstrap/es/index.js"),s=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),u=n("./node_modules/object-assign/index.js"),l=n.n(u);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,a=m(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=a.call.apply(a,[this].concat(n))),"getStyle",(function(){var t={cursor:e.props.disabled?"not-allowed":"pointer",margin:0,padding:0,display:"inline-block"};return e.props.image?l()(t,{overflow:"hidden"}):l()(t,{height:"48px",width:"48px",border:"1px solid grey",borderRadius:"4px",backgroundColor:"rgb(250, 250, 250)"}),l()(t,e.props.style),t})),e}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("img",{className:this.props.className,id:this.props.id,title:this.props.tooltip,style:this.getStyle(),src:this.props.image,onClick:this.props.disabled?null:this.props.onClick})}}])&&d(t.prototype,n),r&&d(t,r),i}(o.a.Component);v(O,"propTypes",{id:i.a.string,image:i.a.string,onClick:i.a.func,style:i.a.object,disabled:i.a.bool,tooltip:i.a.string,className:i.a.string}),v(O,"defaultProps",{disabled:!1,tooltip:null,className:void 0});var j=O;function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,r,a=P(i);function i(){var e;E(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(_(e=a.call.apply(a,[this].concat(n))),"onClick",(function(){e.props.onClick(!e.props.pressed,e.props.options)})),R(_(e),"renderNormalButton",(function(){return o.a.createElement(c.Button,w({id:e.props.id},e.props.btnConfig,{onClick:e.onClick,bsStyle:e.props.pressed?e.props.pressedStyle:e.props.defaultStyle,style:e.props.style}),e.props.glyphicon?o.a.createElement(c.Glyphicon,{glyph:e.props.glyphicon}):null,e.props.glyphicon&&e.props.text&&!o.a.isValidElement(e.props.text)?"":null,e.props.text,e.props.help)})),R(_(e),"renderImageButton",(function(){return o.a.createElement(j,{id:e.props.id,image:e.props.image,onClick:e.onClick,style:e.props.style})})),R(_(e),"addTooltip",(function(t){return o.a.createElement(s.a,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:e.props.tooltip},t)})),e}return t=i,(n=[{key:"render",value:function(){var e="normal"===this.props.btnType?this.renderNormalButton():this.renderImageButton();return this.props.tooltip?this.addTooltip(e):e}}])&&A(t.prototype,n),r&&A(t,r),i}(o.a.Component);R(C,"propTypes",{id:i.a.string,btnConfig:i.a.object,options:i.a.object,text:i.a.oneOfType([i.a.string,i.a.element]),help:i.a.oneOfType([i.a.string,i.a.element]),glyphicon:i.a.string,pressed:i.a.bool,onClick:i.a.func,tooltip:i.a.element,tooltipPlace:i.a.string,style:i.a.object,btnType:i.a.oneOf(["normal","image"]),image:i.a.string,pressedStyle:i.a.string,defaultStyle:i.a.string}),R(C,"defaultProps",{onClick:function(){},options:{},pressed:!1,tooltipPlace:"top",style:{},btnType:"normal",pressedStyle:"primary",defaultStyle:"default"});t.a=C},"./MapStore2/web/client/components/buttons/ZoomButton.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./node_modules/react-bootstrap/es/index.js"),s=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o=d(a);function a(){var e;l(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(m(e=o.call.apply(o,[this].concat(n))),"addTooltip",(function(t){if(!e.props.tooltip)return t;var n=i.a.createElement(c.Tooltip,{id:"locate-tooltip"},e.props.tooltip);return i.a.createElement(s.a,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),e}return t=a,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(i.a.createElement(c.Button,{id:this.props.id,style:this.props.style,onClick:function(){return e.props.onZoom(e.props.currentZoom+e.props.step)},className:this.props.className,disabled:this.props.currentZoom+this.props.step>this.props.maxZoom||this.props.currentZoom+this.props.step<this.props.minZoom,bsStyle:this.props.bsStyle},this.props.glyphicon?i.a.createElement(c.Glyphicon,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?"":null,this.props.text,this.props.help))}}])&&p(t.prototype,n),r&&p(t,r),a}(i.a.Component);g(h,"propTypes",{id:o.a.string,style:o.a.object,glyphicon:o.a.string,text:o.a.string,btnSize:o.a.oneOf(["large","small","xsmall"]),className:o.a.string,help:o.a.oneOfType([o.a.string,o.a.element]),step:o.a.number,currentZoom:o.a.number,minZoom:o.a.number,maxZoom:o.a.number,onZoom:o.a.func,tooltip:o.a.element,tooltipPlace:o.a.string,bsStyle:o.a.string}),g(h,"defaultProps",{id:"mapstore-zoom",className:"square-button",glyphicon:"plus",btnSize:"xsmall",tooltipPlace:"left",step:1,currentZoom:3,minZoom:0,maxZoom:28,onZoom:function(){},bsStyle:"default",style:{}}),t.a=h},"./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/web/client/components/misc/Overlay.jsx"),i=n("./node_modules/react-bootstrap/es/index.js"),c=n("./MapStore2/node_modules/lodash/lodash.js"),s=n("./node_modules/react-dom/index.js"),u=n.n(s);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.a=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(g,t);var n,r,s,l=y(g);function g(){return d(this,g),l.apply(this,arguments)}return n=g,(r=[{key:"render",value:function(){var t=null,n=this.props,r=n.popoverOptions,s=n.keyProp,l=f(n,["popoverOptions","keyProp"]);return o.a.createElement("span",{className:"mapstore-info-popover"},o.a.createElement(e,p({},Object(c.omit)(l,["renderPopover","tooltipId"]),{key:s,ref:function(e){t=e}})),o.a.createElement(a.a,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return u.a.findDOMNode(t)}},o.a.createElement(i.Popover,r.props,r.content)))}}])&&b(n.prototype,r),s&&b(n,s),g}(o.a.Component)}},"./MapStore2/web/client/components/data/identify/DefaultViewer.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./MapStore2/web/client/utils/MapInfoUtils.js"),s=n("./MapStore2/web/client/components/I18N/HTML.jsx"),u=n("./MapStore2/web/client/components/I18N/Message.jsx"),l=n("./node_modules/react-bootstrap/es/index.js");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,a=m(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=a.call.apply(a,[this].concat(n))),"onTouchStart",(function(t){var n=t.touches[0];e.startX=n.pageX,e.startY=n.pageY,e.setState({scrolling:!1})})),v(g(e),"onTouchMove",(function(t){var n=t.touches[0],r=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-n.pageY)>Math.abs(e.startX-n.pageX))t.stopPropagation();else{var o=e.startX<n.pageX?"left":"right";(r&&"left"===o&&r.clientWidth<r.scrollWidth&&0!==r.scrollLeft||r&&"right"===o&&r.clientWidth+r.scrollLeft!==r.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),v(g(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),v(g(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?o.a.createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100%",height:"100%",overflowX:"auto"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&d(t.prototype,n),r&&d(t,r),i}(o.a.Component);v(O,"propTypes",{format:i.a.string,viewers:i.a.oneOfType([i.a.func,i.a.object]),response:i.a.oneOfType([i.a.string,i.a.object,i.a.node]),layer:i.a.object});var j=n("./MapStore2/node_modules/lodash/lodash.js"),S=n("./MapStore2/web/client/utils/IdentifyUtils.js");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,n,r,a=T(i);function i(){var e;A(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(M(e=a.call.apply(a,[this].concat(n))),"getResponseProperties",(function(){var t=e.props.validator(e.props.format),n=e.props.responses.map((function(e){return void 0===e?{}:e})),r=e.props.renderEmpty?t.getValidResponses(n,e.props.renderEmpty):n,o=t.getNoValidResponses(e.props.responses),a=e.props.requests.length===o.length;return{validResponses:r,currResponse:e.getCurrentResponse(r[e.props.index]),emptyResponses:a,invalidResponses:o}})),C(M(e),"getCurrentResponse",(function(t){return e.props.validator(e.props.format).getValidResponses([t],!0)})),C(M(e),"renderEmptyLayers",(function(){var t=e.getResponseProperties(),n=t.invalidResponses,r=t.emptyResponses;if(0===e.props.missingResponses&&r)return null;var a=0!==n.length;if(e.props.renderEmpty||(a=a&&0===e.props.missingResponses),a){var i=n.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI?o.a.createElement(l.Alert,{bsStyle:"info"},o.a.createElement(u.default,{msgId:"noInfoForLayers"}),o.a.createElement("b",null,i.join(", "))):null}return null})),C(M(e),"renderPage",(function(t){var n=e.props.viewers[e.props.format];return n?o.a.createElement(n,{response:t}):null})),C(M(e),"renderEmptyPages",(function(){var t=e.getResponseProperties().emptyResponses;return 0===e.props.missingResponses&&t?o.a.createElement(l.Alert,{bsStyle:"danger"},o.a.createElement("h4",null,o.a.createElement(s.a,{msgId:"noFeatureInfo"}))):null})),C(M(e),"renderPages",(function(){var t=e.getResponseProperties().validResponses;return t.map((function(n,r){var a,i,s=n.response,u=n.layerMetadata,p=Object(S.a)(n,e.props),f=e.props.header;return null!=u&&null!==(a=u.viewer)&&void 0!==a&&a.type&&(i=Object(c.k)(u.viewer.type)),o.a.createElement(l.Panel,{eventKey:r,key:r,collapsible:e.props.collapsible,header:f?o.a.createElement("span",null,o.a.createElement(f,E({size:t.length},e.props.headerOptions,u,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},o.a.createElement(O,{response:s,format:p,viewers:i||e.props.viewers,layer:u}))}))})),C(M(e),"containerStyle",(function(t){return Object(j.isEmpty)(t)&&e.props.isMobile?{height:"100%"}:{display:Object(j.isEmpty)(t)?"none":"block"}})),e}return t=i,(n=[{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,n=this.getResponseProperties(),r=n.currResponse,a=n.emptyResponses,i=[this.renderEmptyLayers(),o.a.createElement(t,E({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",style:this.containerStyle(r),className:"swipeable-view"}),this.renderPages())];return i=this.props.isMobile?i:Object(j.reverse)(i),o.a.createElement("div",{className:"mapstore-identify-viewer"},a?this.renderEmptyPages():i.map((function(e){return e})))}}])&&x(t.prototype,n),r&&x(t,r),i}(o.a.Component);C(k,"propTypes",{format:i.a.string,collapsible:i.a.bool,requests:i.a.array,responses:i.a.array,missingResponses:i.a.number,container:i.a.oneOfType([i.a.object,i.a.func]),header:i.a.oneOfType([i.a.object,i.a.func]),headerOptions:i.a.object,validator:i.a.func,viewers:i.a.object,style:i.a.object,containerProps:i.a.object,index:i.a.number,onNext:i.a.func,onPrevious:i.a.func,onUpdateIndex:i.a.func,setIndex:i.a.func,showEmptyMessageGFI:i.a.bool,renderEmpty:i.a.bool,loaded:i.a.bool,isMobile:i.a.bool}),C(k,"defaultProps",{format:Object(c.g)(),responses:[],requests:[],missingResponses:0,collapsible:!1,headerOptions:{},container:l.Accordion,validator:c.j,viewers:Object(c.l)(),style:{position:"relative",marginBottom:0},containerProps:{},showEmptyMessageGFI:!0,renderEmpty:!1,onNext:function(){},onPrevious:function(){},setIndex:function(){},isMobile:!1});t.a=k},"./MapStore2/web/client/components/data/identify/SwipeHeader.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./node_modules/react-bootstrap/es/index.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o=f(a);function a(){var e;u(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(b(e=o.call.apply(o,[this].concat(n))),"renderLeftButton",(function(){var t=0===e.props.index;return e.props.useButtons?i.a.createElement(c.Button,{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onPrevious()}},i.a.createElement(c.Glyphicon,{glyph:"back"})):i.a.createElement("a",{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onPrevious()}},i.a.createElement(c.Glyphicon,{glyph:"back"}))})),y(b(e),"renderRightButton",(function(){var t=e.props.index===e.props.size-1;return e.props.useButtons?i.a.createElement(c.Button,{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onNext()}},i.a.createElement(c.Glyphicon,{glyph:"next"})):i.a.createElement("a",{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onNext()}},i.a.createElement(c.Glyphicon,{glyph:"next"}))})),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return i.a.createElement("div",{className:"ms-identify-swipe-header"},this.props.size>1&&i.a.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderLeftButton()),i.a.createElement("div",{className:"ms-identify-swipe-header-title"},this.props.title),this.props.size>1&&i.a.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderRightButton()))}}])&&l(t.prototype,n),r&&l(t,r),a}(i.a.Component);y(g,"propTypes",{title:o.a.string,index:o.a.number,size:o.a.number,container:o.a.oneOfType([o.a.object,o.a.func]),useButtons:o.a.bool,onPrevious:o.a.func,onNext:o.a.func,btnClassName:o.a.string}),y(g,"defaultProps",{useButtons:!0}),t.a=g},"./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n("./node_modules/recompose/es/Recompose.js"),o=n("./MapStore2/web/client/utils/MapInfoUtils.js"),a=Object(r.withHandlers)({onNext:function(e){var t=e.index,n=void 0===t?0:t,r=e.setIndex,o=void 0===r?function(){}:r,a=e.validResponses,i=void 0===a?[]:a;return function(){o(Math.min(i.length-1,n+1))}},onPrevious:function(e){var t=e.index,n=e.setIndex,r=void 0===n?function(){}:n;return function(){r(Math.max(0,t-1))}}}),i=Object(r.defaultProps)({format:Object(o.g)(),validator:o.j})},"./MapStore2/web/client/components/help/HelpBadge.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/prop-types/index.js"),a=n.n(o),i=n("./node_modules/react/index.js"),c=n.n(i),s=n("./node_modules/react-bootstrap/es/index.js"),u=n("./MapStore2/web/client/utils/LocaleUtils.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,o,a=b(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return h(y(e=a.call.apply(a,[this].concat(n))),"onMouseOver",(function(){var t=Object(r.isString)(e.props.helpText)?e.props.helpText:Object(u.f)(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=i,(n=[{key:"render",value:function(){return c.a.createElement(s.Badge,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&f(t.prototype,n),o&&f(t,o),i}(c.a.Component);h(v,"propTypes",{id:a.a.string,helpText:a.a.oneOfType([a.a.string,a.a.element]),isVisible:a.a.bool,changeHelpText:a.a.func,changeHelpwinVisibility:a.a.func,className:a.a.string}),h(v,"contextTypes",{messages:a.a.object}),h(v,"defaultProps",{helpText:"",isVisible:!1}),t.a=v},"./MapStore2/web/client/components/help/help.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/layout/BorderLayout.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=e.id,n=e.children,r=e.header,a=e.footer,c=e.columns,s=e.height,u=e.style,l=void 0===u?{}:u,p=e.className,f=e.bodyClassName,d=void 0===f?"ms2-border-layout-body":f;return o.a.createElement("div",{id:t,className:p,style:i({display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"hidden"},l)},r,o.a.createElement("div",{className:d,style:{display:"flex",flex:1,overflowY:"auto"}},o.a.createElement("main",{className:"ms2-border-layout-content",style:{flex:1}},s?o.a.createElement("div",{style:{height:s}},n):n),s?o.a.createElement("div",{style:{height:s}},c):c),a)}},"./MapStore2/web/client/components/map lazy recursive ^\\.\\/.*\\/plugins\\/index$":function(e,t,n){var r={"./cesium/plugins/index":["./MapStore2/web/client/components/map/cesium/plugins/index.js",9,7,22],"./leaflet/plugins/index":["./MapStore2/web/client/components/map/leaflet/plugins/index.js",7,0,24,7,21],"./openlayers/plugins/index":["./MapStore2/web/client/components/map/openlayers/plugins/index.js",9,0,3,4,5,17]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(o,t[1])}))}o.keys=function(){return Object.keys(r)},o.id="./MapStore2/web/client/components/map lazy recursive ^\\.\\/.*\\/plugins\\/index$",e.exports=o},"./MapStore2/web/client/components/map/popups/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),i=n("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),c=n("./node_modules/recompose/es/Recompose.js"),s=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/reselect/es/index.js"),l=n("./MapStore2/web/client/selectors/mapInfo.js"),p=n("./MapStore2/web/client/actions/mapInfo.js"),f=n("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx"),d=n("./MapStore2/node_modules/lodash/lodash.js"),b=n("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx"),m=n("./MapStore2/web/client/selectors/map.js"),y=Object(c.compose)(Object(s.connect)(Object(u.a)(l.j,(function(e){return{index:e}})),{setIndex:p.D}),Object(c.defaultProps)({index:0,responses:[]})),g=Object(u.a)([l.t,l.w,l.s,l.h,l.u,m.f,l.l],(function(e,t,n,r,o,a,i){return{responses:e,validResponses:t,requests:n,format:r,showEmptyMessageGFI:o,missingResponses:(n||[]).length-(e||[]).length,renderEmpty:a,loaded:i}})),h=Object(c.compose)(Object(s.connect)(g),Object(c.defaultProps)({responses:[],container:function(e){var t=e.index,n=e.children;return o.a.createElement(o.a.Fragment,null,Object(d.isArray)(n)&&n[t]||n)},header:b.a}),y,i.a,i.b,Object(a.a)((function(e){var t=e.loaded;return Object(d.isUndefined)(t)})))(f.a);n.d(t,"IDENTIFY_POPUP",(function(){return v}));var v="identify";t.default={identify:h}},"./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/prop-types/index.js"),a=n.n(o),i=n("./node_modules/react/index.js"),c=n.n(i),s=n("./node_modules/react-bootstrap/es/index.js"),u=n("./MapStore2/web/client/utils/MapUtils.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,o,a=b(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(y(e=a.call.apply(a,[this].concat(n))),"onComboChange",(function(t){var n=parseInt(t.nativeEvent.target.value,10);e.props.onChange(n,e.props.scales[n])})),h(y(e),"getOptions",(function(){return e.props.scales.map((function(t,n){return c.a.createElement("option",{value:n,key:n},e.props.template(t,n))})).filter((function(t,n){return n>=e.props.minZoom}))})),e}return t=i,(n=[{key:"shouldComponentUpdate",value:function(e){return!Object(r.isEqual)(e,this.props)}},{key:"render",value:function(){var e=null;return e=this.props.readOnly?c.a.createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?c.a.createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):c.a.createElement(s.Form,{inline:!0},c.a.createElement(s.FormGroup,{bsSize:"small"},c.a.createElement(s.ControlLabel,null,this.props.label),c.a.createElement(s.FormControl,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),c.a.createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&f(t.prototype,n),o&&f(t,o),i}(c.a.Component);h(v,"propTypes",{id:a.a.string,style:a.a.object,scales:a.a.array,currentZoomLvl:a.a.number,minZoom:a.a.number,onChange:a.a.func,readOnly:a.a.bool,label:a.a.oneOfType([a.a.func,a.a.string,a.a.object]),template:a.a.func,useRawInput:a.a.bool}),h(v,"defaultProps",{id:"mapstore-scalebox",scales:Object(u.getGoogleMercatorScales)(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1}),t.a=v},"./MapStore2/web/client/components/misc/ConfirmDialog.jsx":function(e,t,n){"use strict";var r=n("./node_modules/object-assign/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react/index.js"),s=n.n(c),u=n("./node_modules/react-bootstrap/es/index.js"),l=n("./MapStore2/web/client/components/I18N/Message.jsx"),p=n("./MapStore2/web/client/components/misc/Dialog.jsx");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,a=y(i);function i(){return d(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return s.a.createElement(p.a,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},s.a.createElement("span",{role:"header"},s.a.createElement("span",{className:"user-panel-title"},this.props.title),s.a.createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?s.a.createElement(u.Glyphicon,{glyph:this.props.closeGlyph}):s.a.createElement("span",null,""))),s.a.createElement("div",{role:"body"},this.props.children),s.a.createElement("div",{role:"footer"},s.a.createElement(u.ButtonGroup,null,s.a.createElement(u.Button,{onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),s.a.createElement(u.Button,{onClick:this.props.onClose},this.props.closeText))))}}])&&b(t.prototype,n),r&&b(t,r),i}(s.a.Component);v(O,"propTypes",{show:i.a.bool,draggable:i.a.bool,onClose:i.a.func,onConfirm:i.a.func,onSave:i.a.func,modal:i.a.bool,closeGlyph:i.a.string,style:i.a.object,buttonSize:i.a.string,inputStyle:i.a.object,title:i.a.node,confirmButtonContent:i.a.node,confirmButtonDisabled:i.a.bool,closeText:i.a.node,confirmButtonBSStyle:i.a.string}),v(O,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:s.a.createElement(l.default,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:s.a.createElement(l.default,{msgId:"confirm"})||"Confirm",closeText:s.a.createElement(l.default,{msgId:"close"}),includeCloseButton:!0}),t.a=O},"./MapStore2/web/client/components/misc/Dialog.jsx":function(e,t,n){"use strict";var r=n("./node_modules/object-assign/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react/index.js"),s=n.n(c),u=n("./node_modules/react-draggable/dist/react-draggable.js"),l=n.n(u),p=n("./node_modules/react-spinkit/dist/index.js"),f=n.n(p),d=n("./MapStore2/web/client/components/I18N/Message.jsx");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,a=O(i);function i(){var e;g(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(S(e=a.call.apply(a,[this].concat(n))),"renderLoading",(function(){return e.props.maskLoading?s.a.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},s.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},s.a.createElement(d.default,{msgId:"loading"}),s.a.createElement(f.a,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),E(S(e),"renderRole",(function(t){return s.a.Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),E(S(e),"hasRole",(function(t){return s.a.Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),E(S(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=s.a.createElement("div",{id:this.props.id,style:y({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},s.a.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),s.a.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?s.a.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):s.a.createElement("span",null)),n=this.props.draggable?s.a.createElement(l.a,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,r=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?s.a.createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:r,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&h(t.prototype,n),r&&h(t,r),i}(s.a.Component);E(A,"propTypes",{id:i.a.string.isRequired,style:i.a.object,backgroundStyle:i.a.object,className:i.a.string,maskLoading:i.a.bool,containerClassName:i.a.string,headerClassName:i.a.string,bodyClassName:i.a.string,footerClassName:i.a.string,onClickOut:i.a.func,modal:i.a.bool,start:i.a.object,draggable:i.a.bool,bounds:i.a.oneOfType([i.a.string,i.a.object])}),E(A,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"}),t.a=A},"./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./MapStore2/web/client/utils/MapInfoUtils.js"),s=n("./node_modules/react-select/dist/react-select.es.js"),u=n("./node_modules/react-bootstrap/es/index.js"),l=n("./MapStore2/web/client/components/misc/Overlay.jsx");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.text,n=e.placement,a=e.bsStyle,i=e.left,c=e.top,s=e.title,f=e.glyph,d=e.id,b=Object(r.useRef)(),m=p(Object(r.useState)(!1),2),y=m[0],g=m[1];return o.a.createElement("span",{className:"mapstore-info-popover",onMouseLeave:function(){return g(!1)}},o.a.createElement(u.Glyphicon,{onMouseEnter:function(){g(!0)},ref:function(e){b.current=e},className:"text-".concat(a),glyph:f}),o.a.createElement(l.a,{placement:n,show:y,target:function(){return b.current}},o.a.createElement(u.Popover,{id:d,placement:n,positionLeft:i,positionTop:c,title:s},o.a.createElement("div",{style:{display:"flex"}},t))))};d.propTypes={id:i.a.string,title:i.a.string,text:i.a.string,glyph:i.a.string,bsStyle:i.a.string,placement:i.a.string,left:i.a.number,top:i.a.number,trigger:i.a.oneOfType([i.a.array,i.a.bool])},d.defaultProps={id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info"};var b=d,m=n("./MapStore2/web/client/components/I18N/HTML.jsx");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=e.id,n=e.label,r=e.infoFormat,a=e.availableInfoFormat,i=e.popoverMessage,c=e.disabled,l=e.onInfoFormatChange,p=e.selectProps,f=Object.keys(a).reduce((function(e,t){return Object.keys(e).map((function(t){return e[t]})).some((function(e){return e===a[t]}))?e:h(h({},e),{},v({},t,a[t]))}),{}),d=Object.keys(f).map((function(e){return{value:f[e],label:e}})),g=o.a.createElement(o.a.Fragment,null,"  ",i&&o.a.createElement(b,{text:o.a.createElement(m.a,{msgId:i})}),o.a.createElement(s.default,y({},p,{id:t,value:r,clearable:!1,disabled:c,options:d,onChange:function(e){return l(null==e?void 0:e.value)}})));return n?o.a.createElement(u.FormGroup,{bsSize:"small"},o.a.createElement(u.ControlLabel,null,n),g):g}O.propTypes={id:i.a.string,label:i.a.oneOfType([i.a.func,i.a.string,i.a.object]),availableInfoFormat:i.a.object,infoFormat:i.a.string,popoverMessage:i.a.string,onInfoFormatChange:i.a.func,disabled:i.a.bool,selectProps:i.a.object},O.defaultProps={id:"mapstore-feature-format-selector",availableInfoFormat:Object(c.e)(),infoFormat:Object(c.g)(),popoverMessage:"",onInfoFormatChange:function(){},selectProps:{}};t.a=O},"./MapStore2/web/client/components/misc/Loader.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,n=e.style,r=void 0===n?{}:n,o=e.className,a=e.hidden;return i.a.createElement("div",{className:o,style:s({width:t,height:t,overflow:"hidden"},r)},!a&&i.a.createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};p.propTypes={size:o.a.number,className:o.a.string,style:o.a.object},t.a=p},"./MapStore2/web/client/components/misc/LoadingSpinner.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{display:"inline-block"}:t;return o.a.createElement("div",{style:n,className:"mapstore-inline-loader"})}},"./MapStore2/web/client/components/misc/LoadingView.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-container-dimensions/lib/index.js"),i=n.n(a),c=n("./MapStore2/web/client/components/misc/Loader.jsx");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=e.width,n=e.height,r=e.className,a=void 0===r?"loader-container":r,s=e.contentStyle,l=void 0===s?{}:s;return o.a.createElement("div",{className:a},o.a.createElement(i.a,null,(function(e){var r=e.width,a=void 0===r?200:r,i=e.height,s=void 0===i?200:i,p=t||(s>0?Math.min(a,s):a),f=n||(s>0?Math.min(a,s):a),d=Math.min(p,f);return o.a.createElement(c.a,{size:d,style:u({padding:d/10,margin:"auto",display:"flex"},l)})})))}},"./MapStore2/web/client/components/misc/Overlay.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx");t.a=Object(r.a)(n("./node_modules/react-bootstrap/es/index.js").Overlay)},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx"),o=n("./node_modules/react-bootstrap/es/index.js");t.a=Object(r.a)(o.OverlayTrigger)},"./MapStore2/web/client/components/misc/OverlayTriggerCustom.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-dom/index.js"),i=n.n(a),c=n("./node_modules/prop-types/index.js"),s=n.n(c),u=n("./node_modules/react-bootstrap/es/index.js"),l=n("./MapStore2/web/client/components/misc/WithContainer.jsx");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,r,a=b(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).state={show:!1},t.target=o.a.createRef(),t}return t=c,(n=[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{ref:this.target,onMouseOver:function(){return e.setState({show:!0})},onMouseOut:function(){return e.setState({show:!1})}},o.a.Children.only(this.props.children)),o.a.createElement(u.Overlay,{show:this.state.show,onHide:function(){return e.setState({show:!1})},placement:this.props.placement,container:this.props.container,target:function(){return e.target&&e.target.current&&i.a.findDOMNode(e.target.current)}},this.props.overlay))}}])&&f(t.prototype,n),r&&f(t,r),c}(o.a.Component);g(h,"propTypes",{overlay:s.a.element,placement:s.a.string,container:s.a.element}),g(h,"defaultProps",{placement:"right"}),t.a=Object(l.a)(h)},"./MapStore2/web/client/components/misc/Portal.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx"),o=n("./node_modules/react-overlays/es/index.js"),a=Object(r.a)(o.a);t.a=a},"./MapStore2/web/client/components/misc/ResizableModal.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-bootstrap/es/index.js"),i=n("./MapStore2/web/client/components/misc/Dialog.jsx"),c=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),s=n("./node_modules/recompose/es/Recompose.js"),u=n("./node_modules/react-addons-css-transition-group/index.js"),l=n.n(u),p=n("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),f={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},d={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}},b=Object(s.withState)("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,n=void 0!==t&&t,r=e.loading,s=e.loadingText,u=e.onClose,b=void 0===u?function(){}:u,m=e.title,y=void 0===m?"":m,g=e.clickOutEnabled,h=void 0===g||g,v=e.showClose,O=void 0===v||v,j=e.disabledClose,S=void 0!==j&&j,w=e.showFullscreen,E=void 0!==w&&w,A=e.fullscreenType,x=void 0===A?"full":A,P=e.buttons,T=void 0===P?[]:P,_=e.size,M=void 0===_?"":_,R=e.bodyClassName,C=void 0===R?"":R,k=e.children,I=e.draggable,D=void 0!==I&&I,N=e.fullscreenState,L=e.onFullscreen,F=e.fade,U=void 0!==F&&F,G=e.fitContent,B=e.modalClassName,z=void 0===B?"":B,q=e.dialogClassName,H=void 0===q?"":q,Y=e.enableFooter,V=void 0===Y||Y,W=f[M]||"",Q=E&&"expanded"===N&&d.className[x]||"",Z=n?o.a.createElement("div",{className:"modal-fixed ".concat(z," ")+(D?"ms-draggable":"")},o.a.createElement(i.a,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:h?b:function(){},containerClassName:"ms-resizable-modal",draggable:D,modal:!0,className:"modal-dialog modal-content"+W+Q+H+(G?" ms-fit-content":"")},o.a.createElement("span",{role:"header"},o.a.createElement("h4",{className:"modal-title"},o.a.createElement("div",{className:"ms-title"},y),E&&d.className[x]&&o.a.createElement(a.Glyphicon,{className:"ms-header-btn",onClick:function(){return L("expanded"===N?"collapsed":"expanded")},glyph:d.glyph[N][x]}),O&&b&&o.a.createElement(a.Glyphicon,{glyph:"1-close",className:"ms-header-btn",onClick:b,disabled:S}))),o.a.createElement("div",{role:"body",className:C},k),V&&o.a.createElement("div",{style:{display:"flex"},role:"footer"},o.a.createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},r?o.a.createElement(p.a,null):null),o.a.createElement("div",{className:"ms-resizable-modal-loading-text"},r?s:null),o.a.createElement(c.a,{buttons:T})))):null;return U?o.a.createElement(l.a,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},Z):Z}));t.a=b},"./MapStore2/web/client/components/misc/Thumbnail.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-dropzone/dist/index.js"),i=n.n(a),c=n("./MapStore2/web/client/components/misc/Loader.jsx"),s=n("./MapStore2/web/client/utils/ThumbnailUtils.js"),u=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=Object(r.forwardRef)((function(e,t){var n=e.className,a=void 0===n?"ms-thumbnail":n,d=e.label,b=e.loading,m=e.message,y=e.error,g=e.thumbnail,h=e.removeGlyph,v=void 0===h?"trash":h,O=e.removeTooltipId,j=void 0===O?"removeThumbnail":O,S=e.style,w=void 0===S?{}:S,E=e.maxFileSize,A=void 0===E?5e5:E,x=e.supportedImageTypes,P=void 0===x?["image/png","image/jpeg","image/jpg"]:x,T=e.thumbnailOptions,_=e.dropZoneProps,M=void 0===_?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:_,R=e.onUpdate,C=void 0===R?function(){}:R,k=e.onError,I=void 0===k?function(){}:k,D=e.onRemove,N=e.toolbarButtons,L=Object(r.useRef)(),F=f(Object(r.useState)(),2),U=F[0],G=F[1];Object(r.useEffect)((function(){return L.current=!0,function(){L.current=!1}}),[]);if(b||U)return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(a?" ".concat(a):""," ms-loading")},o.a.createElement(c.a,{size:70}));var B=o.a.createElement(u.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:N||[{glyph:v,visible:!(!D||!g),tooltipId:j,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==D||D()}}]});return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(a?" ".concat(a):""),style:w},d,o.a.createElement(i.a,l({},M,{multiple:!1,onDrop:function(e){var t,n=null==e||null===(t=e[0])||void 0===t?void 0:t.type,r=-1!==P.indexOf(n);G(!0),function(e,t){return new Promise((function(n){var r=e;if(null!=r&&r[0]){var o=r[0],a=new FileReader;return a.onload=function(e){return n(t?Object(s.a)(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},a.readAsDataURL(o)}return n({data:null})}))}(e,T).then((function(t){var n=t.data,o=t.size;return L.current?(G(!1),r&&n&&o<A?C(n,e):I([].concat(p(r?[]:["FORMAT"]),p(n&&o>=A?["SIZE"]:[])),e)):null})).catch((function(e){return L.current?(G(!1),I(e)):null}))}}),g?o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o.a.createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(g,")"),backgroundSize:null!=T&&T.contain?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:"dropzone-content-image-added"},m),B):o.a.createElement("div",{className:"dropzone-content-image"},m,B,y&&o.a.createElement("div",{className:"dropzone-errors"},y))))}));t.a=m},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/web/client/utils/ConfigUtils.js");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return function(t){return o.a.createElement(e,i({},t,{container:document.querySelector("."+(a.default.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./MapStore2/node_modules/lodash/lodash.js"),s=n("./node_modules/react-bootstrap/es/index.js"),u=n("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,a=b(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(y(e=a.call.apply(a,[this].concat(n))),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown(t))})),h(y(e),"validateDecimalLon",(function(t){var n=e.props.constraints[e.props.format].lon.min,r=e.props.constraints[e.props.format].lon.max,o=parseFloat(t);return isNaN(o)||o<n||o>r?"error":null})),h(y(e),"validateDecimalLat",(function(t){var n=e.props.constraints[e.props.format].lat.min,r=e.props.constraints[e.props.format].lat.max,o=parseFloat(t);return isNaN(o)||o<n||o>r?"error":null})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.coordinate,r=t.value,a=t.onChange,i="validateDecimal"+Object(c.capitalize)(n);return o.a.createElement(s.FormGroup,{validationState:this[i](r)},o.a.createElement(u.a,{key:n,value:r,placeholder:n,onChange:function(t){""===t&&a(""),null===e[i](t)&&a(t)},onKeyDown:this.verifyOnKeyDownEvent,step:1,validateNameFunc:this[i],type:"number"}))}}])&&f(t.prototype,n),r&&f(t,r),i}(o.a.Component);h(v,"propTypes",{idx:i.a.number,value:i.a.number,constraints:i.a.object,format:i.a.string,coordinate:i.a.string,onChange:i.a.func,onKeyDown:i.a.func,onSubmit:i.a.func}),h(v,"defaultProps",{format:"decimal",coordinate:"lat",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:function(){}});var O=v,j=n("./node_modules/recompose/es/Recompose.js"),S=Object(j.withProps)((function(e){var t=e.coordinate,n=void 0===t?"lat":t;return{maxDegrees:"lat"===n?90:180,directions:"lat"===n?["N","S"]:["E","W"]}})),w=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js"),E=Object(j.compose)(Object(j.withProps)((function(e){return{isValid:""!==e.value}})),Object(j.withState)("initial","setInitial",{}),Object(j.withProps)((function(e){var t=e.isValid,n=e.initial,r=e.degrees,o=e.minutes,a=e.seconds;return t||""===r&&""===o&&""===a?{}:n})),Object(j.withHandlers)({onChange:function(e){return function(t){var n=t.degrees,r=t.minutes,o=t.seconds,a=t.direction;isNaN(n)?e.setInitial({degrees:"",minutes:r,seconds:o,direction:a}):isNaN(r)?e.setInitial({degrees:n,minutes:"",seconds:o,direction:a}):isNaN(o)&&e.setInitial({degrees:n,minutes:r,seconds:"",direction:a}),e.onChange({degrees:n,minutes:r,seconds:o,direction:a})}}}));function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,r,a=R(i);function i(){var e;T(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return D(k(e=a.call.apply(a,[this].concat(n))),"onChange",(function(t,n){var r=e.getUpdatedCoordinateValue(t,n);e.props.onChange(r)})),D(k(e),"getUpdatedCoordinateValue",(function(t,n){try{var r=D({degrees:e.props.degrees,minutes:e.props.minutes,seconds:e.props.seconds,direction:e.props.direction},t,"degrees"===t?Math.min(n,e.props.maxDegrees):n),o=r.seconds,a=r.minutes+e.getSexagesimalStep(o),i=Math.min(e.props.maxDegrees,r.degrees+e.getSexagesimalStep(a)),c=r.direction;return o=e.roundToNextSexagesimalStep(o),a=e.roundToNextSexagesimalStep(a),i===e.props.maxDegrees&&(a=0,o=0),c=i<0?c===e.props.directions[0]?e.props.directions[1]:e.props.directions[0]:c,-1===i&&(r.degrees<0&&r.minutes>=0?i=r.degrees:r.minutes<0&&r.degrees<=0?(i=0,a=r.minutes):(i=0,a=0,o=1e-4)),{degrees:i,minutes:a,seconds:o,direction:c}}catch(e){return null}})),D(k(e),"getSexagesimalStep",(function(e){return e>=60?1:e<0?-1:0})),D(k(e),"getInputStyle",(function(e){return isNaN(e)||""===e?{borderColor:"#a94442"}:{}})),D(k(e),"verifyOnKeyDownEvent",(function(t){69===t.keyCode&&t.preventDefault(),13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.props.onKeyDown())})),D(k(e),"roundToNextSexagesimalStep",(function(e){return e<0?60+e:e>=60?e-60:e})),D(k(e),"isValid",(function(t){var n=t.minutes,r=t.seconds,o=t.degrees,a=t.direction;return!Object(c.isNil)(n)&&n>0&&n<60&&!Object(c.isNil)(r)&&r>0&&r<60&&!Object(c.isNil)(o)&&o>0&&o<e.props.maxDegrees&&a})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t={padding:0,textAlign:"center",borderRight:"none"},n=this.getInputStyle(this.props.degrees),r=this.getInputStyle(this.props.minutes),a=this.getInputStyle(this.props.seconds),i={position:"relative",top:0,overflow:"visible",zIndex:3,left:-25,width:0,height:0},c=this.props.aeronauticalOptions.seconds.step;return o.a.createElement(s.FormGroup,{style:{display:"inline-flex"}},o.a.createElement("div",{className:"degrees",style:{width:40,display:"flex"}},o.a.createElement(u.a,{key:this.props.coordinate+"degree",value:this.props.degrees,placeholder:"d",onChange:function(t){return e.onChange("degrees",parseInt(t,10))},step:1,size:3,max:this.props.maxDegrees,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:P(P({width:"100%"},t),n),type:"number"}),o.a.createElement("span",{style:i},"")),o.a.createElement("div",{className:"minutes",style:{width:40,display:"flex"}},o.a.createElement(u.a,{key:this.props.coordinate+"minutes",placeholder:"m",size:3,value:this.props.minutes,onChange:function(t){e.onChange("minutes",parseInt(t,10))},max:60,min:-1,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},style:P(P({width:"100%"},t),r),step:1,type:"number"}),o.a.createElement("span",{style:i},"")),o.a.createElement("div",{className:"seconds",style:{display:"flex"}},o.a.createElement(u.a,{key:this.props.coordinate+"seconds",value:this.props.seconds,placeholder:"s",onChange:function(t){return e.onChange("seconds",parseFloat(t))},step:c,max:60,onKeyDown:function(t){e.verifyOnKeyDownEvent(t)},min:-1,style:P(P({width:"100%"},t),a),type:"number"}),o.a.createElement("span",{style:i},"")),o.a.createElement("div",{className:"direction-select"},o.a.createElement(s.FormControl,{componentClass:"select",placeholder:"select",value:this.props.direction,onChange:function(t){return e.onChange("direction",t.target.value)},style:{paddingLeft:4,paddingRight:4,flex:"1 1 0%"}},this.props.directions.map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))))}}])&&_(t.prototype,n),r&&_(t,r),i}(o.a.Component);D(N,"propTypes",{idx:i.a.number,maxDegrees:i.a.number,degrees:i.a.number,minutes:i.a.number,seconds:i.a.number,directions:i.a.array,direction:i.a.string,aeronauticalOptions:i.a.object,coordinate:i.a.string,onChange:i.a.func,onKeyDown:i.a.func}),D(N,"defaultProps",{coordinate:"lat",maxDegrees:90,directions:["N","S"],aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},onKeyDown:function(){}});var L=Object(j.compose)(S,w.a,E)(N),F=Object(j.compose)(Object(j.withHandlers)({onChange:function(e){var t=e.onChange,n=void 0===t?function(){}:t,r=e.maxLatitude,o=void 0===r?89.9997222222:r,a=e.coordinate;return function(e){return n(Math.abs(parseFloat(e))>o&&"lat"===a?Math.sign(e)*o:e)}}}));function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,a=H(i);function i(){return B(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.format;return"decimal"===e||Object(c.isNil)(e)?o.a.createElement(O,G({},this.props,{format:this.props.format||"decimal"})):o.a.createElement(L,this.props)}}])&&z(t.prototype,n),r&&z(t,r),i}(o.a.Component);W(Q,"propTypes",{idx:i.a.number,value:i.a.number,constraints:i.a.object,format:i.a.string,aeronauticalOptions:i.a.object,coordinate:i.a.string,onChange:i.a.func,onKeyDown:i.a.func}),W(Q,"defaultProps",{format:"decimal",constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}}});t.a=F(Q)},"./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react-bootstrap/es/index.js"),s=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),u=n("./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx"),l=n("./MapStore2/web/client/components/misc/coordinateeditors/CoordinateEntry.jsx"),p=n("./MapStore2/web/client/components/I18N/Message.jsx"),f=n("./MapStore2/node_modules/lodash/lodash.js"),d=n("./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx"),b=n("./MapStore2/web/client/components/misc/OverlayTriggerCustom.jsx");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,a=O(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),E(S(t=a.call(this,e)),"onChangeLatLon",(function(e,n){t.setState(g(g({},t.state),{},E({},e,parseFloat(n))),(function(){var e=parseFloat(t.state.lat)!==parseFloat(t.props.component.lat),n=parseFloat(t.state.lon)!==parseFloat(t.props.component.lon);t.setState(g(g({},t.state),{},{disabledApplyChange:!(e||n)}),(function(){"annotations"===t.props.renderer&&t.props.onSubmit(t.props.idx,t.state)}))}))})),E(S(t),"onSubmit",(function(){t.props.onSubmit(t.props.idx,t.state)})),t.state={lat:Object(f.isNumber)(t.props.component.lat)?t.props.component.lat:"",lon:Object(f.isNumber)(t.props.component.lon)?t.props.component.lon:"",disabledApplyChange:!0},t}return t=i,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!Object(f.isEqual)(e.component,this.props.component)){var t=Object(f.isNumber)(e.component.lat)?e.component.lat:"",n=Object(f.isNumber)(e.component.lon)?e.component.lon:"";this.setState({lat:t,lon:n,disabledApplyChange:!0})}}},{key:"render",value:function(){var e=this,t=this.props.idx,n=[{visible:this.props.removeVisible,disabled:!this.props.removeEnabled,glyph:"trash",onClick:function(){e.props.onRemove(t)},customOverlayTrigger:b.a},{buttonConfig:{title:o.a.createElement(c.Glyphicon,{glyph:"cog"}),className:"square-button-md no-border",pullRight:!0,tooltipId:"identifyChangeCoordinateFormat"},menuOptions:[{active:"decimal"===this.props.format,onClick:function(){e.props.onChangeFormat("decimal")},text:o.a.createElement(p.default,{msgId:"search.decimal"})},{active:"aeronautical"===this.props.format,onClick:function(){e.props.onChangeFormat("aeronautical")},text:o.a.createElement(p.default,{msgId:"search.aeronautical"})}],visible:this.props.formatVisible,Element:d.a},{glyph:"ok",disabled:this.state.disabledApplyChange,tooltipId:"identifyCoordinateApplyChanges",onClick:this.onSubmit,visible:"annotations"!==this.props.renderer,customOverlayTrigger:b.a}],r=o.a.createElement("div",{role:"button",className:"square-button-md no-border btn btn-default",style:{display:"table",color:!this.props.isDraggableEnabled&&"#999999",pointerEvents:this.props.isDraggableEnabled?"auto":"none",cursor:this.props.isDraggableEnabled&&"grab"}},o.a.createElement(c.Glyphicon,{glyph:"menu-hamburger"}));return o.a.createElement("div",{className:"coordinateRow ".concat(this.props.format||""," ").concat(this.props.customClassName||""),onMouseEnter:function(){e.props.onMouseEnter&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseEnter(e.props.component)},onMouseLeave:function(){e.props.onMouseLeave&&e.props.component.lat&&e.props.component.lon&&e.props.onMouseLeave()}},o.a.createElement("div",{style:{cursor:this.props.isDraggableEnabled?"grab":"not-allowed"}},this.props.showDraggable?this.props.isDraggable?this.props.connectDragSource(r):r:null),o.a.createElement("div",{className:"coordinate lat"},o.a.createElement(c.InputGroup,null,o.a.createElement(c.InputGroup.Addon,null,o.a.createElement(p.default,{msgId:"latitude"})),o.a.createElement(l.a,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lat",idx:t,value:this.state.lat,onChange:function(t){return e.onChangeLatLon("lat",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit})),o.a.createElement(c.InputGroup,null,o.a.createElement(c.InputGroup.Addon,null,o.a.createElement(p.default,{msgId:"longitude"})),o.a.createElement(l.a,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,coordinate:"lon",idx:t,value:this.state.lon,onChange:function(t){return e.onChangeLatLon("lon",t)},constraints:{decimal:{lat:{min:-90,max:90},lon:{min:-180,max:180}}},onKeyDown:this.onSubmit}))),this.props.showToolButtons&&o.a.createElement("div",{key:"tools"},o.a.createElement(s.a,{btnGroupProps:{className:"tools"},btnDefaultProps:{className:"square-button-md no-border"},buttons:n})))}}])&&h(t.prototype,n),r&&h(t,r),i}(o.a.Component);E(A,"propTypes",{idx:i.a.number,component:i.a.object,onRemove:i.a.func,onSubmit:i.a.func,onChangeFormat:i.a.func,onMouseEnter:i.a.func,format:i.a.string,type:i.a.string,onMouseLeave:i.a.func,connectDragSource:i.a.func,aeronauticalOptions:i.a.object,customClassName:i.a.string,isDraggable:i.a.bool,isDraggableEnabled:i.a.bool,showLabels:i.a.bool,showDraggable:i.a.bool,showToolButtons:i.a.bool,removeVisible:i.a.bool,formatVisible:i.a.bool,removeEnabled:i.a.bool,renderer:i.a.string}),E(A,"defaultProps",{showLabels:!1,formatVisible:!1,onMouseEnter:function(){},onMouseLeave:function(){},showToolButtons:!0}),t.a=Object(u.a)(A)},"./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/recompose/es/Recompose.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(o.compose)(Object(o.withProps)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{seconds:{decimals:4}},o=n.seconds,a=e>=0?Math.floor(e):Math.ceil(e),i=Math.abs(60*(e-a)),c=Math.floor(i),s=60*(i-c),u=Object(r.round)(s,o.decimals);if(a=Math.abs(a),60===u&&(c++,u=0),60===c&&(a++,c=0),Object(r.isNaN)(a)||""===e)return{degrees:"",minutes:"",seconds:"",direction:t?"E":"N"};var l={degrees:a,minutes:c,seconds:u,direction:e<0?t?"W":"S":t?"E":"N"};return l}(e.value,"lon"===e.coordinate,e.aeronauticalOptions))})),Object(o.withHandlers)({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.degrees,o=t.minutes,a=t.seconds,i=t.direction,c=0,s=0,u=0;void 0===n&&void 0===o&&void 0===a&&e.onChange(void 0),Object(r.isNaN)(n)||(c=n),Object(r.isNaN)(o)||(s=o),Object(r.isNaN)(a)||(u=a);var l=c+s/60+u/3600;(l>0&&("S"===i||"W"===i)||l<0&&("N"===i||"E"===i))&&(l*=-1),e.onChange(l.toPrecision(12))}}}))},"./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/recompose/es/Recompose.js"),i=n("./MapStore2/node_modules/lodash/lodash.js"),c=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");t.a=Object(a.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,n=e.noTooltipWhenDisabled,r=void 0!==n&&n;return!(r&&t)}),c.a,(function(e){return function(t){return o.a.createElement(e,Object(i.omit)(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/draggableComponent.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-dnd/lib/index.js"),i=n("./node_modules/recompose/es/Recompose.js");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={beginDrag:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}};t.a=Object(i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDraggable;return t}),Object(i.compose)(Object(a.DragSource)("row",p,(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),draggingItem:t.getItem()||null}})),Object(a.DropTarget)("row",{drop:function(e,t){var n=t.getItem();n.sortId!==e.sortId&&e.onSort(e.sortId,n.sortId,{id:e.id,containerId:e.containerId},{id:n.id,containerId:n.containerId})}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})),(function(e){return function(t){var n=t.connectDragSource,r=t.connectDragPreview,a=t.connectDropTarget,i=t.isDragging,u=t.isOver,l=s(t,["connectDragSource","connectDragPreview","connectDropTarget","isDragging","isOver"]),p=l.draggingItem&&l.draggingItem.sortId<l.sortId,f=l.draggingItem&&l.draggingItem.containerId===l.containerId,d=f&&i?" ms-dragging":"",b=f&&u?" ms-over":"",m=f&&p?" ms-above":" ms-below";return r(a(o.a.createElement("div",{className:"ms-dragg".concat(d).concat(b," ").concat(m)},o.a.createElement("div",null,o.a.createElement(e,c({},l,{connectDragSource:n,isDragging:i,isOver:u,onDrop:function(e){return e.stopPropagation()}}))))))}})))},"./MapStore2/web/client/components/misc/enhancers/loadingState.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/recompose/es/Recompose.js"),i=n("./MapStore2/web/client/components/misc/LoadingView.jsx");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){var t=e.loading,n=e.isLoading;return t||n&&("function"==typeof n?n():!0===n)};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return Object(a.branch)(e,(function(){return function(e){var r=e.loaderProps;return o.a.createElement(n,c({},t,r))}}))}},"./MapStore2/web/client/components/misc/enhancers/localizedProps.js":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/utils/LocaleUtils.js"),o=n("./node_modules/prop-types/index.js"),a=n.n(o),i=n("./MapStore2/node_modules/lodash/lodash.js"),c=n("./node_modules/recompose/es/Recompose.js");function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(Object(i.isArray)(t))return t.map((function(o){var a=Object(r.f)(e,o[n]||Object(i.isString)(o)&&o||"");return l(l({},o),{},p({},n,Object(i.isNil)(a)?t:a))}));var o=Object(r.f)(e,t);return Object(i.isNil)(o)?t:o},d=function(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return l(l({},r),{},p({},o,e[o]&&f(t,e[o],n)))}};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return Object(c.compose)(Object(c.getContext)({messages:a.a.object}),Object(c.mapProps)((function(n){var r=n.messages,o=s(n,["messages"]);return l(l({},o),Object(i.castArray)(e).reduce(d(o,r,t),{}))})))}},"./MapStore2/web/client/components/misc/enhancers/popover.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/recompose/es/Recompose.js"),i=n("./node_modules/prop-types/index.js"),c=n.n(i),s=n("./MapStore2/node_modules/lodash/lodash.js"),u=n("./node_modules/react-bootstrap/es/index.js"),l=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(a.branch)((function(e){return e.popover}),(function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(p,t);var n,r,i,c=m(p);function p(){return f(this,p),c.apply(this,arguments)}return n=p,(r=[{key:"renderPopover",value:function(){return o.a.createElement(u.Popover,Object(s.omit)(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=Object(a.toClass)(e);return o.a.createElement(t,Object(s.omit)(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return o.a.createElement("span",null,o.a.createElement(l.a,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&d(n.prototype,r),i&&d(n,i),p}(o.a.Component),h(t,"propTypes",{popover:c.a.object}),h(t,"defaultProps",{popover:{trigger:!0}}),n}))},"./MapStore2/web/client/components/misc/enhancers/tooltip.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/recompose/es/Recompose.js"),i=n("./node_modules/react-bootstrap/es/index.js"),c=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),s=n("./MapStore2/web/client/components/I18N/Message.jsx"),u=n("./MapStore2/node_modules/lodash/lodash.js");function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=Object(a.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,n=e.tooltipId;return t||n}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tooltip,r=t.tooltipId,a=t.tooltipPosition,u=void 0===a?"top":a,p=t.tooltipTrigger,f=t.keyProp,d=t.idDropDown,b=t.args,m=t.customOverlayTrigger,y=void 0===m?c.a:m,g=l(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args","customOverlayTrigger"]);return o.a.createElement(y,{trigger:p,id:d,key:f,placement:u,overlay:o.a.createElement(i.Tooltip,{id:"tooltip-"+f},r?o.a.createElement(s.default,{msgId:r,msgParams:{data:b}}):n)},o.a.createElement(e,g))}}),(function(e){return function(t){return o.a.createElement(e,Object(u.omit)(t,["tooltipId","tooltip"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/withMask.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/recompose/es/Recompose.js"),i=function(e,t,n){var r=n.maskContainerStyle,i=n.maskStyle,c=n.className,s=n.white;return function(n){return Object(a.nest)((function(n){return o.a.createElement("div",{className:"ms2-mask-container ".concat(c||""," ").concat(e(n)?"":"ms2-mask-empty"),style:r},n.children,e(n)?o.a.createElement("div",{className:"ms2-mask"+(s?" white-mask":""),style:i},t(n)):null)}),n)}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.alwaysWrap,o=void 0===r||r,c=n.white,s=void 0!==c&&c,u=n.maskContainerStyle,l=void 0===u?{}:u,p=n.maskStyle,f=void 0===p?{}:p,d=n.className;return o?i(e,t,{maskContainerStyle:l,maskStyle:f,className:d,white:s}):Object(a.branch)(e,i((function(){return!0}),t,{maskContainerStyle:l,maskStyle:f,white:s}))}},"./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/node_modules/lodash/lodash.js"),i=n("./node_modules/prop-types/index.js"),c=n.n(i),s=n("./node_modules/react-dom/index.js"),u=n.n(s),l=n("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,n=e.querySelector,r=e.closest,i=void 0!==r&&r;return function(e){var r,s;return s=r=function(r){m(s,r);var c=g(s);function s(e){var r;return f(this,s),j(v(r=c.call(this,e)),"findDomNode",(function(){if(!r.isMounded)return null;var e=u.a.findDOMNode(v(r));return e&&i&&n?e.closest(n||"*"):e&&(n?e.querySelector(n):e)})),r.width=void 0,r.height=void 0,r.skipOnMount=e.skipOnMount,r.onResize=Object(a.debounce)((function(){var e;return(e=r.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),r.ro=new l.a((function(e){e.forEach((function(e){var t=e.contentRect,n=t.width,o=t.height,a=r.props.handleWidth&&r.width!==n,i=r.props.handleHeight&&r.height!==o;r.skipOnMount||!a&&!i||r.onResize({width:n,height:o}),r.width=n,r.height=o,r.skipOnMount=!1}))})),r}return b(s,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findDomNode();e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),s}(o.a.Component),j(r,"propTypes",{handleWidth:c.a.bool,handleHeight:c.a.bool,onResize:c.a.func}),j(r,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),s}}},"./MapStore2/web/client/components/misc/panels/DockPanel.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-dock/lib/index.js"),i=n.n(a),c=n("./MapStore2/web/client/components/layout/BorderLayout.jsx"),s=n("./node_modules/recompose/es/Recompose.js"),u=n("./node_modules/react-bootstrap/es/index.js"),l={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}},p=function(e){var t=e.position,n=void 0===t?"right":t,r=e.onClose,a=e.bsStyle,i=void 0===a?"default":a,c=e.title,s=void 0===c?"":c,p=e.fullscreen,f=void 0!==p&&p,d=e.showFullscreen,b=void 0!==d&&d,m=e.glyph,y=void 0===m?"info-sign":m,g=e.additionalRows,h=e.onFullscreen,v=void 0===h?function(){}:h,O=r?o.a.createElement(u.Button,{key:"ms-header-close",className:"square-button ms-close",onClick:r,bsStyle:i},o.a.createElement(u.Glyphicon,{glyph:"1-close"})):null,j=b?o.a.createElement(u.Button,{key:"ms-header-glyph",className:"square-button",bsStyle:i,onClick:function(){return v(!f)}},o.a.createElement(u.Glyphicon,{glyph:l[n]&&l[n][f]||"resize-full"})):o.a.createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+i),style:{display:"flex"}},o.a.createElement(u.Glyphicon,{glyph:y,className:"".concat("default"===i?"text-primary":"")})),S="left"===n?[O,j]:[j,O];return o.a.createElement(u.Grid,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+i},o.a.createElement(u.Row,null,o.a.createElement(u.Col,{xs:2},S[0]),o.a.createElement(u.Col,{xs:8},o.a.createElement("h4",null,s)),o.a.createElement(u.Col,{xs:2},S[1])),g)};t.a=Object(s.withState)("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,n=e.className,r=void 0===n?"":n,a=e.fullscreen,s=void 0!==a&&a,u=e.position,l=e.open,f=e.size,d=void 0===f?550:f,b=e.style,m=void 0===b?{}:b,y=e.zIndex,g=void 0===y?1030:y,h=e.onClose,v=e.bsStyle,O=e.title,j=e.showFullscreen,S=void 0!==j&&j,w=e.glyph,E=e.header,A=e.footer,x=e.children,P=e.onFullscreen,T=void 0===P?function(){}:P,_=e.fixed,M=void 0!==_&&_,R=e.resizable,C=void 0!==R&&R,k=e.hideHeader;return o.a.createElement("div",{className:"ms-side-panel "+(M?"":"ms-absolute-dock ")+(C?"":"react-dock-no-resize ")+r},o.a.createElement(i.a,{fluid:t||s,position:u,dimMode:"none",isVisible:l,size:s?1:d,dockStyle:m,zIndex:g},o.a.createElement(c.a,{header:!k&&l&&o.a.createElement(p,{position:u,onClose:h,bsStyle:v,title:O,fullscreen:s,showFullscreen:S,glyph:w,additionalRows:E,onFullscreen:T}),footer:l&&A},l&&x)))}))},"./MapStore2/web/client/components/misc/panels/DockablePanel.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/recompose/es/Recompose.js"),i=n("./MapStore2/web/client/components/layout/BorderLayout.jsx"),c=n("./MapStore2/web/client/components/misc/panels/DockPanel.jsx"),s=n("./MapStore2/web/client/components/misc/ResizableModal.jsx");function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=Object(a.renameProps)({open:"show"})((function(e){var t=e.children,n=e.header,r=u(e,["children","header"]);return o.a.createElement(s.a,r,o.a.createElement(i.a,{header:o.a.createElement("div",{className:"ms-header"},n)},t))}));t.a=Object(a.branch)((function(e){return!e.dock}),(function(){return function(e){return o.a.createElement(l,e)}}))(c.a)},"./MapStore2/web/client/components/misc/switch/SwitchButton.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,a=p(i);function i(){return s(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;return o.a.createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},o.a.createElement("input",{type:"checkbox",disabled:this.props.disabled,checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),o.a.createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&u(t.prototype,n),r&&u(t,r),i}(o.a.Component);b(m,"propTypes",{disabled:i.a.bool,className:i.a.string,checked:i.a.bool,onChange:i.a.func,onClick:i.a.func}),b(m,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}}),t.a=m},"./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react-bootstrap/es/index.js"),s=n("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),u=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),l=n("./MapStore2/web/client/components/I18N/Message.jsx");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,a=m(i);function i(){return f(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this;return o.a.createElement(u.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:10}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,tooltip:this.props.checked?o.a.createElement(l.default,{msgId:"collapse"}):o.a.createElement(l.default,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&d(t.prototype,n),r&&d(t,r),i}(o.a.Component);h(v,"propTypes",{checked:i.a.bool,onClick:i.a.func}),h(v,"defaultProps",{checked:!1,onClick:function(){}});var O=v,j=n("./MapStore2/web/client/components/misc/LoadingView.jsx");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(){return o.a.createElement(c.Button,{className:"square-button-sm no-border switch-error"},o.a.createElement(c.Glyphicon,{glyph:"exclamation-mark",className:"text-danger"}))},C=function(){return o.a.createElement("div",{className:"switch-loading"},o.a.createElement(j.a,{size:"small"}))},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,r,a=x(i);function i(){var e;w(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(T(e=a.call.apply(a,[this].concat(n))),"state",{}),e}return t=i,(n=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?O:s.a;return o.a.createElement("div",null,o.a.createElement("div",{className:"pull-left"},this.props.title||this.props.header),o.a.createElement("div",{className:"pull-right"},this.props.locked?null:o.a.createElement(t,{checked:this.props.expanded,onClick:function(t){e.props.onSwitch(t)}}),this.props.error?o.a.createElement(R,null):null,this.props.loading?o.a.createElement(C,null):null,this.props.buttons.length>0&&this.props.expanded&&o.a.createElement(u.a,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return o.a.createElement(c.Panel,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&E(t.prototype,n),r&&E(t,r),i}(o.a.Component);M(k,"propTypes",{header:i.a.node,title:i.a.oneOfType([i.a.string,i.a.node]),defaultExpanded:i.a.string,expanded:i.a.bool,onSwitch:i.a.func,locked:i.a.bool,buttons:i.a.array,loading:i.a.bool,error:i.a.any,errorMsgId:i.a.string,transitionProps:i.a.object,useToolbar:i.a.bool}),M(k,"defaultProps",{title:"",expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1});t.a=k},"./MapStore2/web/client/components/misc/toolbar/DropdownToolbarOptions.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react-bootstrap/es/index.js"),o=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./node_modules/uuid/v1.js"),s=n.n(c);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=Object(o.a)(r.DropdownButton),p={disabled:!1,className:"square-button-md",noCaret:!0,idDropDown:s()()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.menuOptions,n=void 0===t?[]:t,o=e.buttonConfig,a=void 0===o?{}:o;return i.a.createElement(l,u({},p,a),n.length?n.map((function(e,t){var n=e.glyph,o=e.text,a=e.onClick,c=e.active,s=void 0!==c&&c;return i.a.createElement(r.MenuItem,{active:s,eventKey:t,onClick:a,key:t},n&&i.a.createElement(r.Glyphicon,{glyph:n})," ",o)})):null)}},"./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-addons-css-transition-group/index.js"),i=n.n(a),c=n("./node_modules/react-bootstrap/es/index.js"),s=n("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,n=void 0===t?[]:t,r=e.btnGroupProps,a=void 0===r?{}:r,p=e.btnDefaultProps,f=void 0===p?{}:p,d=e.transitionProps,b=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,m=function(){return n.map((function(e,t){var n=e.visible,r=void 0===n||n,a=e.Element,i=e.renderButton,c=l(e,["visible","Element","renderButton"]);return r?i||(a&&o.a.createElement(a,u({key:c.key||t},c))||o.a.createElement(s.a,u({key:c.key||t},f,c))):null}))};return o.a.createElement(c.ButtonGroup,a,b?o.a.createElement(i.a,b,m()):m())}},"./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/recompose/es/Recompose.js"),i=n("./MapStore2/web/client/components/I18N/Message.jsx"),c=n("./MapStore2/node_modules/lodash/lodash.js"),s=n("./node_modules/react-bootstrap/es/index.js"),u=n("./MapStore2/web/client/components/misc/Loader.jsx"),l=n("./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx"),p=n("./MapStore2/web/client/components/misc/enhancers/popover.js");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=Object(a.compose)(l.a,p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,n=e.loading,r=e.text,a=void 0===r?"":r,l=e.textId,p=e.glyphClassName,b=void 0===p?"":p,m=e.loaderProps,y=void 0===m?{}:m,g=e.children,h=d(e,["glyph","loading","text","textId","glyphClassName","loaderProps","children"]);return o.a.createElement(s.Button,Object(c.omit)(h,["pullRight","confirmNo","confirmYes"]),t&&!n?o.a.createElement(s.Glyphicon,{glyph:t,className:b}):null,l?o.a.createElement(i.default,{msgId:l}):a,n?o.a.createElement(u.a,f({className:"ms-loader".concat(h.bsStyle&&" ms-loader-"+h.bsStyle||"").concat(h.bsSize&&" ms-loader-"+h.bsSize||"")},y)):null,g)}))},"./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react-bootstrap/es/index.js"),s=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),u=n("./MapStore2/node_modules/lodash/lodash.js"),l=n("./node_modules/moment/moment.js"),p=n.n(l);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=Object(s.a)(c.Glyphicon),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,r,a=y(i);function i(){var e;d(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(h(e=a.call.apply(a,[this].concat(n))),"onUpdate",(function(t,n){var r=p()(e.props.date).utc(),o=n?p()(r).add(1,t):p()(r).subtract(1,t);o.isValid()&&!isNaN(o.toDate().getTime())&&e.props.onUpdate(o.toISOString())})),O(h(e),"onChange",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if(""!==n){var o=p()(e.props.date).utc(),a=o["day"===t?"date":t]&&p()(o)["day"===t?"date":t](r(n));a.isValid()&&!isNaN(a.toDate().getTime())&&e.props.onUpdate(a.toISOString())}})),O(h(e),"getForm",(function(){var t=e.props.date&&p()(e.props.date).utc();return[{name:"icon",value:"calendar",type:"icon"},{name:"day",placeholder:"DD",value:t&&t.date()},{name:"month",placeholder:"MM",readOnly:!0,value:t&&t.month(),format:function(e){return!Object(u.isNil)(e)&&""!==e&&p.a.monthsShort(e)},parseValue:function(e){return e-1}},{name:"year",placeholder:"YYYY",value:t&&t.year()},{name:"icon",value:"time",type:"icon"},{name:"hours",placeholder:"hh",value:t&&t.hours()},{name:"separator",value:":",type:"separator"},{name:"minutes",placeholder:"mm",value:t&&t.minutes()},{name:"separator",value:":",type:"separator"},{name:"seconds",placeholder:"ss",value:t&&t.seconds()},{name:"separator",value:t&&t.utcOffset(),type:"separator",format:function(e){return"UTC "+(e>=0?"+":"-")+Object(u.padStart)(e/60,2,0)}}]})),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.getForm();return o.a.createElement(c.Form,{className:"ms-inline-datetime ".concat(this.props.className),style:this.props.style},o.a.createElement(c.FormGroup,{controlId:"inlineDateTime"},this.props.glyph&&o.a.createElement("div",{style:this.props.clickable?{cursor:"pointer"}:{},onClick:function(){return e.props.clickable&&e.props.onIconClick(e.props.date,e.props.glyph)}},o.a.createElement(j,{tooltip:this.props.clickable?this.props.tooltip:void 0,tooltipId:this.props.clickable?this.props.tooltipId:void 0,className:"ms-inline-datetime-icon",glyph:this.props.glyph})),t.map((function(t){return"icon"===t.type&&o.a.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},o.a.createElement(j,{glyph:t.value}))||"separator"===t.type&&o.a.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},t.format&&t.format(t.value)||t.value)||o.a.createElement("div",{className:"ms-inline-datetime-input ms-dt-".concat(t.name)},e.props.showButtons&&o.a.createElement(c.Button,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name,!0)}},o.a.createElement(j,{glyph:"chevron-up"})),o.a.createElement(c.FormControl,{type:"text",readOnly:t.readOnly,placeholder:t.placeholder||t.name,disabled:!e.props.date,value:t.format&&t.format(t.value)||t.value,onChange:function(n){return e.onChange(t.name,n.target.value,t.parseValue)}}),e.props.showButtons&&o.a.createElement(c.Button,{bsSize:"xs",disabled:!e.props.date,onClick:function(){return e.onUpdate(t.name)}},o.a.createElement(j,{glyph:"chevron-down"})))}))))}}])&&b(t.prototype,n),r&&b(t,r),i}(o.a.Component);O(S,"propTypes",{date:i.a.string,clickable:i.a.bool,onUpdate:i.a.func,onIconClick:i.a.func,glyph:i.a.string,style:i.a.object,className:i.a.string,tooltip:i.a.string,tooltipId:i.a.string,showButtons:i.a.bool}),O(S,"defaultProps",{date:"",onIconClick:function(){},clickable:!1,onUpdate:function(){},glyph:"time",style:{},className:"",tooltip:""}),t.a=S},"./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-dom/index.js"),i=n.n(a),c=n("./node_modules/prop-types/index.js"),s=n.n(c),u=n("./node_modules/react-bootstrap/es/index.js"),l=n("./MapStore2/web/client/components/misc/Overlay.jsx"),p=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,r,a=y(c);function c(){return d(this,c),a.apply(this,arguments)}return t=c,(n=[{key:"renderPopover",value:function(){return o.a.createElement(u.Popover,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return o.a.createElement(u.Glyphicon,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return o.a.createElement("span",{className:"mapstore-info-popover"},this.props.trigger?o.a.createElement(p.a,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),o.a.createElement(l.a,{placement:this.props.placement,show:!0,target:function(){return i.a.findDOMNode(e.target)}},this.renderPopover())])}}])&&b(t.prototype,n),r&&b(t,r),c}(o.a.Component);v(O,"propTypes",{id:s.a.string,title:s.a.string,text:s.a.string,glyph:s.a.string,bsStyle:s.a.string,placement:s.a.string,left:s.a.number,top:s.a.number,trigger:s.a.oneOfType([s.a.array,s.a.bool])}),v(O,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]}),t.a=O},"./MapStore2/web/client/epics/timeline.js":function(e,t,n){"use strict";n.r(t),n.d(t,"setTimelineCurrentTime",(function(){return M})),n.d(t,"setupTimelineExistingSettings",(function(){return R})),n.d(t,"settingInitialOffsetValue",(function(){return C})),n.d(t,"updateRangeDataOnRangeChange",(function(){return k}));var r=n("./node_modules/rxjs/Rx.js"),o=n.n(r),a=n("./MapStore2/node_modules/lodash/lodash.js"),i=n("./node_modules/moment/moment.js"),c=n.n(i),s=n("./MapStore2/web/client/observables/epics.js"),u=n("./MapStore2/web/client/actions/map.js"),l=n("./MapStore2/web/client/actions/timeline.js"),p=n("./MapStore2/web/client/actions/dimension.js"),f=n("./MapStore2/web/client/actions/layers.js"),d=n("./MapStore2/web/client/actions/notifications.js"),b=n("./MapStore2/web/client/selectors/layers.js"),m=n("./MapStore2/web/client/selectors/timeline.js"),y=n("./MapStore2/web/client/selectors/dimension.js"),g=n("./MapStore2/web/client/utils/TimeUtils.js"),h=n("./MapStore2/web/client/api/MultiDim.js");function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(m.n)(e),r=Object(m.m)(e),o=Object(m.p)(e),a=Object(m.i)(n)(e);return[o,r,"time",E({limit:1},t),a]},P=function(e,t,n){if(Object(m.m)(e))return o.a.Observable.forkJoin(h.b.apply(void 0,O(x(e,{sort:"asc",fromValue:n}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return v(e,1)[0]})).catch((function(e){return e&&o.a.Observable.of(null)})),h.b.apply(void 0,O(x(e,{sort:"desc",fromValue:n}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return v(e,1)[0]})).catch((function(e){return e&&o.a.Observable.of(null)}))).map((function(e){return Object(g.d)(e.filter((function(e){return!!e})),n)||n}));var r=Object(y.e)(Object(b.g)(e,t))(e);return o.a.Observable.of(Object(g.d)(r,n)||n)},T=function(e){return Object(a.isString)(e)?e:e.toISOString()},_=function(e,t,n){var r=t.domain.split("--"),i=Object(m.j)(n())||{start:new Date(r[0]),end:new Date(r[1])},c=Object(g.j)(i,20),s=c.range,u=c.resolution,l=Object(b.g)(n(),e).name,p=A({},"time","".concat(T(s.start),"/").concat(T(s.end)));return Object(h.c)(t.source.url,l,"time",A({},"time","".concat(T(s.start),"/").concat(T(s.end))),u,Object(m.i)(e)(n())).merge(Object(h.a)(t.source.url,l,p,E(E({},Object(m.i)(e)(n())),{},{expandLimit:20}))).scan((function(e,t){return E(E({},e),t)}),{}).switchMap((function(e){var t,n=e.Histogram,r=e.Domains,i=Object(a.get)(Object(a.head)(Object(a.castArray)(Object(a.get)(r,"DimensionDomain")||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Identifier;return"time"===t}))),"Domain");try{t=n&&n.Values&&n.Values.split(",").map((function(e){return parseInt(e,10)}))||[]}catch(e){t=[]}var c=i&&i.indexOf("--")<0&&i.split(",");return o.a.Observable.of({range:s,histogram:n&&n.Domain?{values:t,domain:n.Domain}:void 0,domain:i?{values:c}:void 0})}))},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(l.g).throttleTime(100).switchMap((function(e){var t=e.time,n=e.group,a=r();return n?P(a,n,t).switchMap((function(e){var t=Object(m.j)(a)||{},n=t.start,r=t.end,i=[];if(n&&r&&(c()(e).isBefore(n)||c()(e).isAfter(r))){var s=c()(r).diff(n);i=[Object(l.l)({start:c()(e).subtract(s/2),end:c()(e).add(s/2)})]}return o.a.Observable.from([].concat(O(i),[Object(p.g)(e)]))})).let(Object(s.a)(Object(l.r)(!1,!0),Object(l.r)(!1,!1))):o.a.Observable.of(Object(p.g)(t))}))},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(f.s,l.a).exhaustMap((function(){return Object(m.c)(r())&&Object(a.get)(Object(m.q)(r()),"[0].id")&&!Object(m.n)(r())?o.a.Observable.of(Object(l.n)(Object(a.get)(Object(m.q)(r()),"[0].id"))).concat(o.a.Observable.of(1).switchMap((function(){return P(r(),Object(a.get)(Object(m.q)(r()),"[0].id"),Object(y.a)(r)||(new Date).toISOString()).filter((function(e){return e})).map((function(e){return Object(p.g)(e)}))}))):o.a.Observable.empty()}))},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(l.b).switchMap((function(e){var t=r(),n=Object(y.a)(t),a=Object(m.j)(t);if(e.enabled){var i=a||{},s=i.start,u=void 0===s?0:s,f=i.end,d=void 0===f?432e6:f,b=Object(y.h)(t),g=c()(d).diff(u),h=a?c()(u).add(g/2).toISOString():c()(new Date).toISOString(),v=c()(n||h).add(g/5),O=e.enabled&&!n?o.a.Observable.of(Object(p.g)(h)):o.a.Observable.empty(),j=e.enabled&&!b||e.enabled&&c()(b).diff(n)<0?o.a.Observable.of(Object(p.f)(v.toISOString())):o.a.Observable.empty(),S=a?o.a.Observable.empty():o.a.Observable.of(Object(l.l)({start:c()(h).add(-1*g/2),end:c()(h).add(g/2)}));return O.concat(j).concat(S)}return o.a.Observable.of(Object(p.f)())}))},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(l.d).merge(e.ofType(u.e).filter((function(){return Object(m.e)(r())})),e.ofType(l.i)).debounceTime(400).merge(e.ofType(p.d).debounceTime(50)).switchMap((function(){var e,t=Object(y.i)(r())||{},n=Object.keys(t).filter((function(e){return t[e]&&t[e].domain&&Object(g.i)(t[e].domain)||Object(m.e)(r())}));return(e=o.a.Observable).merge.apply(e,O(n.map((function(e){return _(e,t[e],r).map((function(t){var n=t.range,r=t.histogram,o=t.domain;return Object(l.m)(e,n,r,o)})).startWith(Object(l.r)(e,!0)).catch((function(){return o.a.Observable.of(Object(d.f)({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(o.a.Observable.of(Object(l.r)(e,!1)))}))))}))};t.default={setTimelineCurrentTime:M,setupTimelineExistingSettings:R,settingInitialOffsetValue:C,updateRangeDataOnRangeChange:k}},"./MapStore2/web/client/observables/epics.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/rxjs/Rx.js"),a=n.n(o);function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.startWith.apply(e,i(t))},u=function(e,t,n){return function(o){return(n?s(o,Object(r.castArray)(e)).catch(n):s(o,Object(r.castArray)(e))).concat(a.a.Observable.from(Object(r.castArray)(t)))}}},"./MapStore2/web/client/observables/wms.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v}));var r=n("./node_modules/url/url.js"),o=n.n(r),a=(n("./MapStore2/node_modules/lodash/lodash.js"),n("./MapStore2/web/client/libs/proj4.js")),i=n.n(a),c=n("./node_modules/rxjs/Rx.js"),s=n("./MapStore2/web/client/api/WMS.js"),u=n("./MapStore2/web/client/libs/ajax.js"),l=n.n(u),p=(n("./MapStore2/web/client/utils/CoordinatesUtils.js"),n("./MapStore2/web/client/utils/LayersUtils.js")),f=n("./MapStore2/web/client/utils/ObservableUtils.js"),d=n("./MapStore2/web/client/utils/SecurityUtils.js");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.a;var g=function(e){return c.Observable.defer((function(){return l.a.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.search,r=void 0===n?{}:n,a=e.url,i=o.a.parse(r.url||a,!0);return o.a.format(m(m({},i),{},{search:void 0,query:m(m({},i.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(f.b)},h=function(e){return c.Observable.defer((function(){return s.a.getCapabilities(Object(p.getCapabilitiesUrl)(e))})).let(f.b).map((function(t){return s.a.parseLayerCapabilities(t,e)}))},v=function(e){return g(e).map((function(e){var t=e.data,n=void 0===t?{}:t;return n&&n.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.owsURL;return m(m({},e),{},{params:{},search:n?{type:"wfs",url:Object(d.cleanAuthParamsFromURL)(n)}:void 0})}))}},"./MapStore2/web/client/plugins/BackgroundSelector.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/recompose/es/Recompose.js"),a=n("./MapStore2/node_modules/lodash/lodash.js"),i=n("./MapStore2/web/client/actions/controls.js"),c=n("./MapStore2/web/client/actions/layers.js"),s=n("./MapStore2/web/client/actions/backgroundselector.js"),u=n("./node_modules/reselect/es/index.js"),l=n("./MapStore2/web/client/selectors/layers.js"),p=n("./MapStore2/web/client/selectors/map.js"),f=n("./MapStore2/web/client/selectors/backgroundselector.js"),d=n("./MapStore2/web/client/selectors/maplayout.js"),b=n("./MapStore2/web/client/plugins/background/DefaultThumbs.js"),m=n("./MapStore2/web/client/utils/PluginsUtils.js"),y=n("./MapStore2/web/client/reducers/controls.js"),g=n("./MapStore2/web/client/actions/catalog.js"),h=n("./node_modules/object-assign/index.js"),v=n.n(h);var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.a:return v()({},e,{source:t.source});case g.v:return v()({},e,{source:"metadataExplorer"});case s.k:return v()({},e,{modalParams:t.modalParams});case s.d:return v()({},e,{backgrounds:[],removedBackgroundsThumbIds:[],modalParams:{},lastRemovedId:void 0});case s.m:if(t.id){var n=e.backgrounds||[],r=-1===n.findIndex((function(e){return e.id===t.id})),o=r?n.concat({id:t.id}):n,a=o.map((function(e){return e.id===t.id?v()({},e,{id:t.id,thumbnail:t.thumbnailData}):v()({},e)}));return v()({},e,{backgrounds:a})}return e;case s.g:return v()({},e,{modalParams:void 0});case s.j:var i=e.backgrounds||[],c=e.removedBackgroundsThumbIds||[],u=i.filter((function(e){return e.id!==t.backgroundId})),l=i.filter((function(e){return e.id===t.backgroundId&&!!e.thumbId})).map((function(e){return e.thumbId}));return v()({},e,{backgrounds:u,removedBackgroundsThumbIds:c.concat(l),lastRemovedId:t.backgroundId});case s.i:return v()({},e,{backgrounds:t.backgrounds});case s.h:return v()({},e,{confirmDeleteBackgroundModal:{show:t.show,layerTitle:t.layerTitle,layerId:t.layerId}});case s.c:return v()({},e,{allowDeletion:t.allow||!1});default:return e}},j=n("./node_modules/rxjs/Rx.js"),S=n.n(j),w=n("./MapStore2/web/client/actions/config.js"),E=n("./MapStore2/web/client/observables/wms.js"),A=n("./MapStore2/web/client/utils/LayersUtils.js");function x(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={accessMetadataExplorer:function(e){return e.ofType(s.a).switchMap((function(){return S.a.Observable.of(Object(i.g)("metadataexplorer","enabled",!0),Object(s.p)(!1),Object(g.K)("default_map_backgrounds"))}))},addBackgroundPropertiesEpic:function(e){return e.ofType(s.b).switchMap((function(e){var t=e.modalParams,n=S.a.Observable.of(Object(s.w)(_(_({},t),{},{loading:!1})));return t.layer&&"wms"===t.layer.type?S.a.Observable.of(Object(s.w)(_(_({},t),{},{loading:!0}))).concat(Object(E.b)(t.layer).switchMap((function(e){return S.a.Observable.of(Object(s.w)(_(_({},t),{},{loading:!1,capabilities:Object(A.formatCapabitiliesOptions)(e)})))})).catch((function(){return n}))):n}))},backgroundsListInit:function(e){return e.ofType(w.d).switchMap((function(e){var t,n=e.config,r=n.map&&n.map.backgrounds||[],o=(n.map&&n.map.layers||[]).filter((function(e){return"background"===e.group})),i=r.filter((function(e){return!!e.thumbnail})).map((function(e){return Object(c.H)(e.id,{thumbURL:function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);return URL.createObjectURL(new Blob([r],{type:n}))}(e.thumbnail)})})),u=Object(a.head)(o.filter((function(e){return e.visibility})));return(t=S.a.Observable).of.apply(t,x(i.concat(Object(s.u)(r))).concat(x(u?[Object(s.x)(u.id)]:[])))}))},setCurrentBackgroundLayerEpic:function(e,t){return e.ofType(s.l).switchMap((function(e){var n,r=e.layerId,o=t.getState(),a=Object(l.g)(o,r);return(n=S.a.Observable).of.apply(n,x(a&&"background"===a.group?[Object(i.g)("backgroundSelector","tempLayer",a),Object(i.g)("backgroundSelector","currentLayer",a)]:[]))}))},backgroundAddedEpic:function(e,t){return e.ofType(s.e).mergeMap((function(e){var n=e.layerId,r=t.getState(),o=Object(l.g)(r,n);return o?S.a.Observable.of(Object(c.H)(o.id,{visibility:!0}),Object(s.x)(o.id),Object(s.s)()):S.a.Observable.empty()}))},backgroundEditedEpic:function(e,t){return e.ofType(s.f).mergeMap((function(e){var n=e.layerId,r=t.getState();return Object(l.g)(r,n)?S.a.Observable.of(Object(s.s)()):S.a.Observable.empty()}))},backgroundRemovedEpic:function(e,t){return e.ofType(s.j).mergeMap((function(e){var n=e.backgroundId,r=t.getState(),o=Object(l.g)(r,n),i=Object(f.b)(r)||[],u=Object(l.e)(r)||{},p=n===u.id?Object(a.head)(i.filter((function(e){return e.id!==n&&!e.invalid}))):u;return o?S.a.Observable.of(Object(c.V)(n,"layers"),Object(c.H)(p.id,{visibility:!0}),Object(s.x)(p.id)):S.a.Observable.empty()}))}},C=n("./node_modules/react/index.js"),k=n.n(C),I=n("./MapStore2/web/client/components/I18N/Message.jsx"),D=n("./node_modules/prop-types/index.js"),N=n.n(D),L=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx");n("./MapStore2/web/client/components/background/css/previewbutton.css");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(a,e);var t,n,r,o=z(a);function a(){return U(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return k.a.createElement("div",{className:"background-preview-button",style:{margin:this.props.margin}},k.a.createElement("div",{className:"background-preview-button-container bg-body",onClick:this.props.onToggle,style:{padding:this.props.frame/2,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},this.props.showLabel?k.a.createElement("div",{className:"background-preview-button-label",style:{width:this.props.side,height:this.props.labelHeight,marginTop:0,padding:0}},k.a.createElement("div",{className:"bg-body bg-text",style:{padding:this.props.frame}},this.props.label)):null,k.a.createElement("div",{className:"background-preview-button-frame",style:{width:this.props.side,height:this.props.side}},k.a.createElement("img",{src:this.props.src}))),this.props.labelHeight>0?k.a.createElement(L.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:this.props.showAdd?[{glyph:"plus",tooltipId:"backgroundSelector.addTooltip",onClick:function(){return e.props.onAdd()}}]:[]}):null)}}])&&G(t.prototype,n),r&&G(t,r),a}(k.a.Component);Y(V,"propTypes",{src:N.a.string,side:N.a.number,frame:N.a.number,margin:N.a.number,labelHeight:N.a.number,label:N.a.string,showLabel:N.a.bool,onToggle:N.a.func,onAdd:N.a.func,showAdd:N.a.bool}),Y(V,"defaultProps",{src:"./images/mapthumbs/none.jpg",side:50,frame:4,margin:5,labelHeight:29,label:"",showLabel:!0,onToggle:function(){},onAdd:function(){}});var W=V,Q=n("./node_modules/react-bootstrap/es/index.js");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,e);var t,n,r,o=J(a);function a(){return K(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.glyphs[this.props.vertical?"vertical":"horizontal"][this.props.direction?"next":"back"],t=this.props.vertical?"background-plugin-pagination-btn-vertical text-center":"background-plugin-pagination-btn-horizontal",n=this.props.vertical?{width:this.props.side}:{height:this.props.side};return k.a.createElement("div",{className:t+" text-primary",style:n,onClick:this.props.onClick},k.a.createElement(Q.Glyphicon,{glyph:e}))}}])&&$(t.prototype,n),r&&$(t,r),a}(k.a.Component);ne(re,"propTypes",{side:N.a.number,direction:N.a.bool,vertical:N.a.bool,glyphs:N.a.object,onClick:N.a.func}),ne(re,"defaultProps",{side:0,direction:!0,vertical:!1,glyphs:{horizontal:{next:"chevron-right",back:"chevron-left"},vertical:{next:"chevron-down",back:"chevron-up"}},onClick:function(){}});var oe=re;function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(a,e);var t,n,r,o=ue(a);function a(){return ie(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=[].concat(this.props.icons);t=this.props.pagination?t.slice(this.props.start,this.props.start+this.props.length):t,this.props.vertical&&t.unshift(k.a.createElement("div",{className:"background-list-arrow-placeholder"})),this.props.pagination&&(0!==this.props.start&&(this.props.vertical&&t.shift(),t.unshift(k.a.createElement(oe,{key:"pagination_0",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,direction:!1,onClick:function(){e.props.onStartChange(e.props.start-1)}}))),this.props.start+this.props.length<this.props.icons.length&&t.push(k.a.createElement(oe,{key:"pagination_1",vertical:this.props.vertical,side:this.props.vertical?this.props.width:this.props.height,onClick:function(){e.props.onStartChange(e.props.start+1)}})));var n=this.props.vertical?{height:this.props.pagination?this.props.height+50:this.props.height,width:this.props.width,bottom:this.props.bottom}:{height:this.props.height,width:this.props.pagination?this.props.width+50:this.props.width,bottom:this.props.bottom};return k.a.createElement("div",{style:n},t)}}])&&ce(t.prototype,n),r&&ce(t,r),a}(k.a.Component);fe(de,"propTypes",{bottom:N.a.number,width:N.a.number,height:N.a.number,length:N.a.number,start:N.a.number,pagination:N.a.bool,vertical:N.a.bool,icons:N.a.array,onStartChange:N.a.func}),fe(de,"defaultProps",{bottom:0,width:0,height:0,length:0,start:0,pagination:!1,vertical:!1,icons:[],onStartChange:function(){}});var be=de;n("./MapStore2/web/client/components/background/css/previewicon.css");function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=je(e);if(t){var o=je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(i,e);var t,n,r,o=ve(i);function i(){return ye(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=Object(a.indexOf)(["EPSG:4326","EPSG:3857","EPSG:900913"],this.props.projection)>-1,n="wmts"===this.props.layer.type&&Object(a.has)(this.props.layer.allowedSRS,this.props.projection),r=this.props.vertical?"background-preview-icon-container-vertical":"background-preview-icon-container-horizontal",o=this.props.layer.visibility?" bg-primary":" bg-body",i=(t||n||Object(a.includes)(["wms","empty","osm"],this.props.layer.type))&&!this.props.layer.invalid,c=i?function(){e.props.onToggle(),e.props.onPropertiesChange(e.props.layer.id,{visibility:!0}),e.props.setCurrentBackgroundLayer(e.props.layer.id)}:function(){};return k.a.createElement("div",{className:r+o+(i?"":" disabled-icon"),style:{padding:this.props.frame/2,marginLeft:this.props.vertical?this.props.margin:0,marginRight:this.props.vertical?0:this.props.margin,marginBottom:this.props.margin,width:this.props.side+this.props.frame,height:this.props.side+this.props.frame}},k.a.createElement("div",{className:"background-preview-icon-frame",style:{width:this.props.side,height:this.props.side}},k.a.createElement("img",{onMouseOver:function(){e.props.onLayerChange("tempLayer",e.props.layer)},onMouseOut:function(){e.props.onLayerChange("tempLayer",e.props.currentLayer)},onClick:c,src:this.props.src})))}}])&&ge(t.prototype,n),r&&ge(t,r),i}(k.a.Component);Se(we,"propTypes",{side:N.a.number,frame:N.a.number,margin:N.a.number,src:N.a.string,vertical:N.a.bool,layer:N.a.object,currentLayer:N.a.object,onPropertiesChange:N.a.func,onToggle:N.a.func,onLayerChange:N.a.func,setCurrentBackgroundLayer:N.a.func,projection:N.a.string}),Se(we,"defaultProps",{side:50,frame:4,margin:5,src:"",vertical:!1,layer:{},currentLayer:{},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){}});var Ee=we,Ae=n("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),xe=n("./node_modules/react-select/dist/react-select.es.js"),Pe=n("./node_modules/uuid/v1.js"),Te=n.n(Pe),_e=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),Me=n("./MapStore2/web/client/utils/ResourceUtils.js"),Re=n("./MapStore2/web/client/components/misc/Thumbnail.jsx");function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?Fe(e):t}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be={FORMAT:k.a.createElement(I.default,{msgId:"map.errorFormat"}),SIZE:k.a.createElement(I.default,{msgId:"map.errorSize"})},ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(a,e);var t,n,r,o=Ne(a);function a(){var e;ke(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ge(Fe(e=o.call.apply(o,[this].concat(n))),"state",{}),Ge(Fe(e),"getThumbnailUrl",(function(){return e.props.map&&e.props.map.newThumbnail&&"NODATA"!==e.props.map.newThumbnail?decodeURIComponent(e.props.map.newThumbnail):null})),Ge(Fe(e),"getDataUri",(function(e,t){var n=e;if(n&&n.length>0){var r=n[0],o=new FileReader;return o.onload=function(e){return t(e.target.result,r.size)},o.readAsDataURL(r)}return t(null)})),Ge(Fe(e),"getThumbnailDataUri",(function(t){e.getDataUri(e.files,t)})),Ge(Fe(e),"generateUUID",(function(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))})),Ge(Fe(e),"processUpdateThumbnail",(function(t,n,r){var o=e.generateUUID();!e.props.map||r||!e.props.map.thumbnail||e.refs.imgThumbnail||n||e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!0),e.props.map&&!r&&e.props.map.newThumbnail&&!e.refs.imgThumbnail&&n&&(e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&r&&e.refs.imgThumbnail&&(e.deleteThumbnail(e.props.map.thumbnail,null,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id)),e.props.map.newThumbnail&&!r&&e.refs.imgThumbnail&&e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id),e.props.map.newThumbnail||r||e.refs.imgThumbnail||(e.props.map.thumbnail&&n&&e.deleteThumbnail(e.props.map.thumbnail,e.props.map.id,!1),e.props.onSaveAll(t,n,o,r,"THUMBNAIL",e.props.map.id))})),Ge(Fe(e),"updateThumbnail",(function(t,n){e.props.map.errors&&e.props.map.errors.length||e.getDataUri(e.files,(function(r){return e.processUpdateThumbnail(t,n,r),r}))})),Ge(Fe(e),"deleteThumbnail",(function(t,n){if(t&&-1!==t.indexOf("geostore")){var r=Object(Me.a)(t);r&&e.props.onDeleteThumbnail(r,n)}})),e}return t=a,(n=[{key:"renderThumbnailErrors",value:function(){return this.props.thumbnailErrors&&this.props.thumbnailErrors.length>0?k.a.createElement("div",{className:"dropzone-errorBox alert-danger"},k.a.createElement("p",null,k.a.createElement(I.default,{msgId:"map.error"})),this.props.thumbnailErrors.map((function(e){return k.a.createElement("div",{id:"error"+e,key:"error"+e,className:"error"+e},Be[e])}))):null}},{key:"render",value:function(){var e=this;return k.a.createElement(Re.a,{ref:"imgThumbnail",thumbnail:this.getThumbnailUrl(),className:null,dropZoneProps:{className:"dropzone alert alert-info",rejectClassName:"alert-danger"},loading:this.props.loading,maxFileSize:this.props.maxFileSize,style:{pointerEvents:this.props.map.saving?"none":"auto"},label:this.props.withLabel&&k.a.createElement("label",{className:"control-label"},k.a.createElement(I.default,{msgId:"map.thumbnail"})),"":!0,message:k.a.createElement(k.a.Fragment,null,this.props.message,k.a.createElement("br",null),this.props.suggestion),error:this.renderThumbnailErrors(),onUpdate:function(t,n){var r;e.props.onError([],e.props.map.id),e.files=n,e.props.onUpdate(t,null==n||null===(r=n[0])||void 0===r?void 0:r.preview)},onError:function(t,n){e.props.onError(t,e.props.map.id),e.files=n,e.props.onUpdate(null,null)},onRemove:function(){e.files=null,e.props.onUpdate(null,null),e.props.onRemoveThumbnail(),e.props.onError([],e.props.map.id)}})}}])&&Ie(t.prototype,n),r&&Ie(t,r),a}(k.a.Component);Ge(ze,"propTypes",{glyphiconRemove:N.a.string,style:N.a.object,thumbnailErrors:N.a.array,loading:N.a.bool,withLabel:N.a.bool,map:N.a.object,maxFileSize:N.a.number,onDrop:N.a.func,onError:N.a.func,onUpdate:N.a.func,onSaveAll:N.a.func,onCreateThumbnail:N.a.func,onDeleteThumbnail:N.a.func,onRemoveThumbnail:N.a.func,message:N.a.oneOfType([N.a.string,N.a.element]),suggestion:N.a.oneOfType([N.a.string,N.a.element])}),Ge(ze,"contextTypes",{messages:N.a.object}),Ge(ze,"defaultProps",{loading:!1,withLabel:!0,glyphiconRemove:"remove-circle",maxFileSize:5e5,onDrop:function(){},onError:function(){},onUpdate:function(){},onSaveAll:function(){},onRemoveThumbnail:function(){},onCreateThumbnail:function(){},onDeleteThumbnail:function(){},message:k.a.createElement(I.default,{msgId:"map.message"}),suggestion:k.a.createElement(I.default,{msgId:"map.suggestion"}),map:{},thumbnailErrors:[]});var qe=ze,He=n("./MapStore2/web/client/utils/LocaleUtils.js"),Ye=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ke(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?nt(e):t}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=Object(Ye.a)(Q.Button),it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(i,e);var t,n,r,o=et(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ot(nt(t=o.call(this,e)),"state",{title:"",format:"image/png",thumbnail:{},additionalParameters:[]}),ot(nt(t),"assignParameters",(function(e){return Object(a.keys)(e).map((function(t,n){var r=e[t],o=Object(a.isNumber)(r)?"number":Object(a.isBoolean)(r)?"boolean":"string";return{id:n,param:t,type:o,val:"string"===o?r.toString():r}}))})),ot(nt(t),"addAdditionalParameter",(function(e,n,r,o){t.setState({additionalParameters:t.state.additionalParameters.map((function(t){if(t.id===r){var i,c;if("val"===n)switch(o){case"number":(c=Number(e))&&!isNaN(c)||(c=0);break;case"boolean":c=!Object(a.isBoolean)(e)||e;break;default:c=e?e.toString():""}else c=e;return v()({},t,(ot(i={},n,c),ot(i,"type",o),i))}return t}))})})),ot(nt(t),"resetParameters",(function(){return t.setState({additionalParameters:[]})}));var n=Object(a.pick)(t.props,"title","format","style","thumbnail"),r=v()({},n,{additionalParameters:t.assignParameters(t.props.additionalParameters)});return t.state=r,t}return t=i,(n=[{key:"renderStyleSelector",value:function(){var e=this;return this.props.capabilities?k.a.createElement(Q.FormGroup,null,k.a.createElement(Q.ControlLabel,null,k.a.createElement(I.default,{msgId:"layerProperties.style"})),k.a.createElement(xe.default,{onChange:function(t){return e.setState({style:t?t.value:void 0})},clearable:!0,value:this.state.style,options:(this.props.capabilities.availableStyles||[]).map((function(e){var t=e.name;return{label:t,value:t}}))})):null}},{key:"renderThumbnailErrors",value:function(){var e={FORMAT:k.a.createElement(I.default,{msgId:"map.errorFormat"}),SIZE:k.a.createElement(I.default,{msgId:"map.errorSize"})};return this.state.thumbnailErrors&&this.state.thumbnailErrors.length>0?k.a.createElement("div",{className:"dropzone-errorBox alert-danger"},k.a.createElement("p",null,k.a.createElement(I.default,{msgId:"map.error"})),this.state.thumbnailErrors.map((function(t){return k.a.createElement("div",{id:"error"+t,key:"error"+t,className:"error"+t},e[t])}))):null}},{key:"renderSpecificTypeForm",value:function(){var e=this;return"wms"===this.props.layer.type?k.a.createElement(k.a.Fragment,null,k.a.createElement(Q.FormGroup,{controlId:"formControlsSelect"},k.a.createElement(Q.ControlLabel,null,k.a.createElement(I.default,{msgId:"layerProperties.format"})),k.a.createElement(xe.default,{onChange:function(t){return e.setState({format:t&&t.value})},value:this.state.format||this.props.defaultFormat,clearable:!0,options:this.props.formatOptions})),this.renderStyleSelector(),k.a.createElement(at,null,k.a.createElement("div",{style:{display:"flex",alignItems:"center"}},k.a.createElement(Q.ControlLabel,{style:{flex:1}},k.a.createElement(I.default,{msgId:"backgroundDialog.additionalParameters"})),k.a.createElement(at,{className:"square-button-md",tooltipId:"backgroundDialog.addAdditionalParameterTooltip",style:{borderColor:"transparent"},onClick:function(){var t=Math.max.apply(Math,Ke(e.state.additionalParameters.length>0?e.state.additionalParameters.map((function(e){return e.id})):[-1]))+1;e.setState({additionalParameters:[].concat(Ke(e.state.additionalParameters),[{id:t,type:"string",param:"",val:""}])})}},k.a.createElement(Q.Glyphicon,{glyph:"plus"}))),this.state.additionalParameters.map((function(t){return k.a.createElement("div",{key:"val:"+t.id,style:{display:"flex",marginTop:8}},k.a.createElement("div",{style:{display:"flex",flex:1,marginRight:8}},k.a.createElement(Q.FormControl,{style:{width:"50%",marginRight:8,minWidth:0},placeholder:Object(He.f)(e.context.messages,"backgroundDialog.parameter"),value:t.param,onChange:function(n){return e.addAdditionalParameter(n.target.value,"param",t.id,t.type)}}),"boolean"===t.type?k.a.createElement("div",{style:{width:"50%"}},k.a.createElement(xe.default,{onChange:function(n){return e.addAdditionalParameter(n.value,"val",t.id,t.type)},clearable:!1,value:t.val,options:e.props.booleanOptions})):k.a.createElement(Q.FormControl,{style:{width:"50%",minWidth:0},placeholder:Object(He.f)(e.context.messages,"backgroundDialog.value"),value:t.val.toString(),onChange:function(n){return e.addAdditionalParameter(n.target.value,"val",t.id,t.type)}})),k.a.createElement(xe.default,{style:{flex:1,width:90},onChange:function(n){return e.addAdditionalParameter(t.val,"val",t.id,n.value)},clearable:!1,value:t.type,options:e.props.parameterTypeOptions.map((function(t){var n=t.label;return Qe(Qe({},Ze(t,["label"])),{},{label:Object(He.f)(e.context.messages,n)})}))}),k.a.createElement(at,{onClick:function(){return e.setState({additionalParameters:e.state.additionalParameters.filter((function(e){return t.id!==e.id}))})},tooltipId:"backgroundDialog.removeAdditionalParameterTooltip",className:"square-button-md",style:{borderColor:"transparent"}},k.a.createElement(Q.Glyphicon,{glyph:"trash"})))})))):null}},{key:"render",value:function(){var e=this;return k.a.createElement(_e.a,{fitContent:!0,title:k.a.createElement(I.default,{msgId:this.props.editing?"backgroundDialog.editTitle":"backgroundDialog.addTitle"}),show:!0,fade:!0,clickOutEnabled:!1,bodyClassName:"ms-flex modal-properties-container background-dialog",loading:this.props.loading,onClose:function(){e.props.onClose(),e.resetParameters()},buttons:this.props.loading?[]:[{text:k.a.createElement(I.default,{msgId:this.props.editing?"save":"backgroundDialog.add"}),bsStyle:"primary",onClick:function(){var t=e.props.editing?e.props.layer.id:Te()(),n=e.props.layer.thumbURL||"",r=e.state.format||e.props.defaultFormat;e.props.updateThumbnail(e.state.thumbnail.data,t),e.props.onSave(v()({},e.props.layer,Object(a.omit)(e.state,"thumbnail"),e.props.editing?{}:{id:t},{params:Object(a.omit)(e.state.additionalParameters.reduce((function(e,t){return v()(e,ot({},t.param,t.val))}),{}),["source","title"]),format:r,group:"background"},n||e.state.thumbnail.data?{thumbURL:e.state.thumbnail.url}:{})),e.resetParameters()}}]},k.a.createElement(Q.Form,{style:{width:"100%"}},this.renderThumbnailErrors(),k.a.createElement(qe,{onUpdate:function(t,n){return e.setState({thumbnail:{data:t,url:n}})},onError:function(t){return e.setState({thumbnailErrors:t})},message:k.a.createElement(I.default,{msgId:"backgroundDialog.thumbnailMessage"}),suggestion:"",map:{newThumbnail:Object(a.get)(this.state.thumbnail,"url")||"NODATA"}}),k.a.createElement(Q.FormGroup,null,k.a.createElement(Q.ControlLabel,null,k.a.createElement(I.default,{msgId:"layerProperties.title"})),k.a.createElement(Q.FormControl,{value:this.state.title,placeholder:Object(He.f)(this.context.messages,"backgroundDialog.titlePlaceholder"),onChange:function(t){return e.setState({title:t.target.value})}})),this.renderSpecificTypeForm()))}}])&&Xe(t.prototype,n),r&&Xe(t,r),i}(k.a.Component);ot(it,"propTypes",{loading:N.a.bool,editing:N.a.bool,layer:N.a.object,capabilities:N.a.object,onAdd:N.a.func,onClose:N.a.func,source:N.a.string,onSave:N.a.func,addParameters:N.a.func,updateThumbnail:N.a.func,thumbURL:N.a.string,title:N.a.string,format:N.a.string,style:N.a.string,thumbnail:N.a.object,additionalParameters:N.a.object,addParameter:N.a.func,defaultFormat:N.a.string,formatOptions:N.a.array,parameterTypeOptions:N.a.array,booleanOptions:N.a.array}),ot(it,"contextTypes",{messages:N.a.object}),ot(it,"defaultProps",{updateThumbnail:function(){},onClose:function(){},onSave:function(){},addParameters:function(){},addParameter:function(){},loading:!1,editing:!1,layer:{},capabilities:{},title:"",thumbnail:{},additionalParameters:{},formatOptions:[{label:"image/png",value:"image/png"},{label:"image/png8",value:"image/png8"},{label:"image/jpeg",value:"image/jpeg"},{label:"image/vnd.jpeg-png",value:"image/vnd.jpeg-png"},{label:"image/gif",value:"image/gif"}],parameterTypeOptions:[{label:"backgroundDialog.string",value:"string"},{label:"backgroundDialog.number",value:"number"},{label:"backgroundDialog.boolean",value:"boolean"}],booleanOptions:[{label:"True",value:!0},{label:"False",value:!1}]});var ct=n("./MapStore2/web/client/components/misc/ConfirmDialog.jsx");function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bt(this,n)}}function bt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?mt(e):t}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(a,e);var t,n,r,o=dt(a);function a(){var e;lt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gt(mt(e=o.call.apply(o,[this].concat(n))),"getThumb",(function(t){return t.thumbURL||e.props.thumbs[t.source]&&e.props.thumbs[t.source][t.name]||e.props.thumbs.unknown})),gt(mt(e),"getIcons",(function(t,n,r,o){return e.props.enabled?e.props.layers.map((function(a,i){var c=e.getThumb(a);return k.a.createElement("div",{style:{width:(o?r:0)+(o?0:r)+t+n,height:r+t+n},className:"background-preview-container"},"mobile"!==e.props.mode&&k.a.createElement("div",{style:{width:(o?r:0)+t+n},className:"background-tool-buttons"},e.props.mapIsEditable&&e.props.allowDeletion&&e.props.layers.length>1&&k.a.createElement(Ae.a,{glyph:"trash",className:"square-button-md background-tool-button delete-button",bsStyle:"primary",onClick:function(){e.props.onRemoveBackground(!0,a.title||a.name||"",a.id)}}),e.props.mapIsEditable&&!e.props.enabledCatalog&&!("wms"!==a.type&&"wmts"!==a.type&&"tms"!==a.type&&"tileprovider"!==a.type)&&k.a.createElement(Ae.a,{glyph:"wrench",className:"square-button-md background-tool-button edit-button",bsStyle:"primary",onClick:function(){e.props.addBackgroundProperties({layer:a,editing:!0})}})),k.a.createElement(Ee,{projection:e.props.projection,vertical:o,key:i,src:c,currentLayer:e.props.currentLayer,margin:r,side:t,frame:n,layer:a,onToggle:e.props.onToggle,onPropertiesChange:e.props.onPropertiesChange,onLayerChange:e.props.onLayerChange,setCurrentBackgroundLayer:e.props.setCurrentBackgroundLayer}))})):[]})),gt(mt(e),"getDimensions",(function(t,n,r,o,a,i){var c=a/2-(t+2*n+2*r)-o,s=t+2*n+2*r+(t+2*n+r)*i+o>a/2,u=Math.floor(c/(t+2*n+r));return u=u>i?i:u,{pagination:s,listSize:e.props.enabled?(t+n+r)*u+52:0,visibleIconsLength:u}})),gt(mt(e),"renderBackgroundSelector",(function(){var t=v()({side:78,sidePreview:104,frame:3,margin:5,label:!0,vertical:!1},e.props.dimensions),n=2*t.frame,r=t.side-n,o=e.props.enabled?t.sidePreview-n:r,a=t.margin,i=e.props.enabled?o-2*n:0,c=e.props.enabled?e.props.tempLayer:e.props.currentLayer,s=e.getIcons(r,n,a,t.vertical),u=e.getDimensions(r,n,a,0,t.vertical?e.props.size.height:e.props.size.width,s.length),l=u.pagination,p=u.listSize,f=u.visibleIconsLength,d=r+n+a,b=r+n+2*a,m=t.vertical?{bottom:b,left:0,width:b,height:p}:{left:o+2*a+n,width:p,height:d},y=t.vertical?{height:d*f,width:d}:{height:d,width:d*f},g=e.props.modalParams&&e.props.modalParams.layer||{},h=(e.props.backgroundList||[]).find((function(e){return e.id===g.id})),O={title:g.title,format:g.format,style:g.style,additionalParameters:g.params,thumbnail:{data:h&&h.thumbnail,url:e.getThumb(g)}},j=e.props.confirmDeleteBackgroundModal||{show:!1},S=j.show,w=j.layerId,E=j.layerTitle;return f<=0&&!e.props.alwaysVisible&&e.props.enabled?null:k.a.createElement("span",null,k.a.createElement(ct.a,{draggable:!1,modal:!0,show:S,onClose:function(){return e.props.onRemoveBackground(!1)},onConfirm:function(){e.props.removeBackground(w),e.props.onRemoveBackground(!1)},confirmButtonBSStyle:"default",confirmButtonContent:k.a.createElement(I.default,{msgId:"confirm"}),closeText:k.a.createElement(I.default,{msgId:"cancel"}),closeGlyph:"1-close"},k.a.createElement(I.default,{msgId:"backgroundSelector.confirmDelete",msgParams:{title:E}})),e.props.modalParams&&k.a.createElement(it,ut({onClose:e.props.clearModal,onSave:function(t){e.props.modalParams.editing?(e.props.updateNode(t.id,"layers",t),e.props.onBackgroundEdit(t.id)):(e.props.addLayer(t),e.props.backgroundAdded(t.id))},updateThumbnail:e.props.onUpdateThumbnail},O,e.props.modalParams)),k.a.createElement("div",{className:"background-plugin-position",style:e.props.style},k.a.createElement(W,{layers:e.props.layers,showAdd:"mobile"!==e.props.mode&&e.props.mapIsEditable&&e.props.hasCatalog&&!e.props.enabledCatalog,onAdd:function(){return e.props.onAdd(e.props.source||"backgroundSelector")},showLabel:t.label,src:e.getThumb(c),side:o,frame:n,margin:a,labelHeight:i,label:c.title,onToggle:e.props.onToggle}),k.a.createElement("div",{className:"background-list-container",style:m},k.a.createElement(be,{vertical:t.vertical,start:e.props.start,bottom:0,height:y.height,width:y.width,icons:s,pagination:l,length:f,onStartChange:e.props.onStartChange}))))})),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.props.onLayerChange("currentLayer",{}),this.props.onLayerChange("tempLayer",{}),this.props.onStartChange(0)}},{key:"render",value:function(){return this.props.layers.length>0?this.renderBackgroundSelector():null}}])&&pt(t.prototype,n),r&&pt(t,r),a}(k.a.Component);gt(ht,"propTypes",{mode:N.a.string,backgroundList:N.a.array,backgrounds:N.a.array,start:N.a.number,style:N.a.object,enabled:N.a.bool,layers:N.a.array,currentLayer:N.a.object,tempLayer:N.a.object,size:N.a.object,dimensions:N.a.object,thumbs:N.a.object,mapIsEditable:N.a.bool,onPropertiesChange:N.a.func,onToggle:N.a.func,onLayerChange:N.a.func,onStartChange:N.a.func,onAdd:N.a.func,hasCatalog:N.a.bool,alwaysVisible:N.a.bool,enabledCatalog:N.a.bool,onRemove:N.a.func,onBackgroundEdit:N.a.func,source:N.a.string,addBackgroundProperties:N.a.func,onUpdateThumbnail:N.a.func,removeBackground:N.a.func,onRemoveBackground:N.a.func,setCurrentBackgroundLayer:N.a.func,confirmDeleteBackgroundModal:N.a.object,deletedId:N.a.string,modalParams:N.a.object,updateNode:N.a.func,clearModal:N.a.func,allowDeletion:N.a.bool,projection:N.a.string}),gt(ht,"defaultProps",{mode:"desktop",addBackgroundProperties:function(){},onBackgroundEdit:function(){},setCurrentBackgroundLayer:function(){},source:"backgroundSelector",start:0,style:{},enabled:!1,layers:[],currentLayer:{},tempLayer:{},size:{width:0,height:0},dimensions:{},allowDeletion:!0,thumbs:{unknown:n("./MapStore2/web/client/components/background/img/default.jpg")},mapIsEditable:!0,onRemoveBackground:function(){},onPropertiesChange:function(){},onToggle:function(){},onLayerChange:function(){},onStartChange:function(){},onAdd:function(){},onRemove:function(){},clearModal:function(){}});var vt=ht;function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=Object(u.a)([p.o,f.g,f.c,f.e,l.a,p.l,p.j,f.b,l.b,l.e,l.v,function(e){return Object(d.c)(e,{left:!0,bottom:!0})},function(e){return e.controls&&e.controls.metadataexplorer&&e.controls.metadataexplorer.enabled},function(e){return e.browser&&e.browser.mobile?"mobile":"desktop"},f.d,f.a],(function(e,t,n,r,o,a,i,c,s,u,l,p,f,d,b,m){return{mode:d,modalParams:t,backgroundList:n,deletedId:r,backgrounds:o,size:a&&a.size||{width:0,height:0},mapIsEditable:i,layers:c,tempLayer:l,currentLayer:u,start:s.start||0,enabled:s.enabled,style:p,enabledCatalog:f,confirmDeleteBackgroundModal:b,allowDeletion:m,projection:e}})),Et=Object(o.compose)(Object(r.connect)(wt,{onPropertiesChange:c.H,onToggle:i.h.bind(null,"backgroundSelector",null),onLayerChange:i.g.bind(null,"backgroundSelector"),onStartChange:i.g.bind(null,"backgroundSelector","start"),onAdd:s.n,addLayer:c.D,backgroundAdded:s.q,onRemove:c.V,onBackgroundEdit:s.r,updateNode:c.cb,onUpdateThumbnail:s.y,removeBackground:s.v,clearModal:s.s,addBackgroundProperties:s.o,onRemoveBackground:s.t,setCurrentBackgroundLayer:s.x},(function(e,t,n){return jt(jt(jt(jt({},e),t),n),{},{thumbs:jt(jt({},b.a),n.thumbs)})})),Object(o.withProps)((function(e){var t=e.items,n=void 0===t?[]:t;return{hasCatalog:!!Object(a.find)(n,{name:"MetadataExplorer"})}})))(vt);t.a=Object(m.d)("BackgroundSelector",{component:Et,reducers:{controls:y.default,backgroundSelector:O},epics:R})},"./MapStore2/web/client/plugins/BurgerMenu.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/object-assign/index.js"),u=n.n(s),l=n("./node_modules/react-bootstrap/es/index.js"),p=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),f=n("./MapStore2/web/client/plugins/locale/Message.jsx"),d=n("./MapStore2/web/client/utils/PluginsUtils.js");n("./MapStore2/web/client/plugins/burgermenu/burgermenu.css");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var T=Object(c.connect)((function(){return{noCaret:!0,pullRight:!0,bsStyle:"primary",title:o.a.createElement(l.Glyphicon,{glyph:"menu-hamburger"})}}))(l.DropdownButton),_=function(e){var t=e.children,n=P(e,["children"]);return o.a.createElement("div",n,t)},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,a=S(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(E(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(e){return e.filter((function(e){return e.panel})).map((function(e){return u()({},e,{panel:!0===e.panel?e.plugin:e.panel})})).concat(e.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[]))})),x(E(e),"getTools",(function(){return[{element:o.a.createElement("span",{key:"burger-menu-title"},e.props.title)}].concat(m(e.props.items.map((function(t){return h(h({},t),function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=n.map((function(e){return h(h({},e),t(e.children))})).sort((function(e,t){return e.position-t.position})),o={container:_,containerWrapperStyle:{position:"static"},className:"burger-menu-submenu",toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:l.MenuItem,panelStyle:e.props.panelStyle,panelClassName:e.props.panelClassName};return n.length>0?{containerWrapperStyle:{position:"static"},style:{position:"relative"},childTools:r,childPanels:e.getPanels(n),innerProps:o}:{}}(t.children))})).sort((function(e,t){return e.position-t.position}))))})),e}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(p.a,{id:this.props.id,className:"square-button",container:T,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:l.MenuItem,tools:this.getTools(),panels:this.getPanels(this.props.items),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}])&&O(t.prototype,n),r&&O(t,r),i}(o.a.Component);x(M,"propTypes",{id:i.a.string,dispatch:i.a.func,items:i.a.array,title:i.a.node,onItemClick:i.a.func,controls:i.a.object,mapType:i.a.string,panelStyle:i.a.object,panelClassName:i.a.string}),x(M,"contextTypes",{messages:i.a.object,router:i.a.object}),x(M,"defaultProps",{id:"mapstore-burger-menu",items:[],onItemClick:function(){},title:o.a.createElement(l.MenuItem,{header:!0},o.a.createElement(f.a,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel"}),t.default=Object(d.d)("BurgerMenu",{component:Object(c.connect)((function(e){return{controls:e.controls}}))(M),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})},"./MapStore2/web/client/plugins/Expander.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-bootstrap/es/index.js"),i=n("./node_modules/object-assign/index.js"),c=n.n(i),s=n("./MapStore2/web/client/components/buttons/ToggleButton.jsx");t.a={ExpanderPlugin:c()(s.a,{Toolbar:{name:"expand",position:1e4,alwaysVisible:!0,tooltip:"expandtoolbar.tooltip",showWhen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,n=void 0===t?[]:t;return n.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"expand"!==!e.name&&!e.alwaysVisible})).length>1},icon:o.a.createElement(a.Glyphicon,{glyph:"option-horizontal"}),toggle:!0,toggleControl:"toolbar",toggleProperty:"expanded",priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/FullScreen.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js");var o=n("./node_modules/screenfull/dist/screenfull.js"),a=n.n(o),i=n("./MapStore2/node_modules/lodash/lodash.js"),c=n("./MapStore2/web/client/actions/controls.js"),s=n("./MapStore2/web/client/utils/ConfigUtils.js"),u=n("./node_modules/rxjs/Rx.js"),l=n.n(u),p=function(e){return e.ofType("TOGGLE_FULLSCREEN").switchMap((function(e){var t=document.querySelector(e&&e.querySelector||"."+(s.default.getConfigProp("themePrefix")||"ms2")+" > div");return t&&e.enable&&a.a.enabled?a.a.request(t):t&&!e.enable&&a.a.exit(),l.a.Observable.merge(l.a.Observable.fromEvent(document,Object(i.last)(Object(i.head)([["exitFullscreen","fullscreenchange"],["webkitExitFullscreen","webkitfullscreenchange"],["webkitCancelFullScreen","webkitfullscreenchange"],["mozCancelFullScreen","mozfullscreenchange"],["msExitFullscreen","MSFullscreenChange"]].filter((function(e){return document[e[0]]}))))).filter((function(){return a.a.element!==t})).map((function(){return Object(c.g)("fullscreen","enabled",!1)})),l.a.Observable.of(Object(c.g)("fullscreen","enabled",e.enable)),l.a.Observable.fromEvent(window,"hashchange").do((function(){return a.a.exit()})).map((function(){return Object(c.g)("fullscreen","enabled",!1)})))}))},f=n("./node_modules/object-assign/index.js"),d=n.n(f),b=n("./node_modules/prop-types/index.js"),m=n.n(b),y=n("./node_modules/react/index.js"),g=n.n(y),h=n("./MapStore2/web/client/components/buttons/ToggleButton.jsx"),v=n("./node_modules/react-bootstrap/es/index.js"),O=n("./MapStore2/web/client/components/I18N/Message.jsx");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,e);var t,n,r,o=x(a);function a(){var e;w(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(T(e=o.call.apply(o,[this].concat(n))),"getButtonProperties",(function(){return["id","btnConfig","options","text","glyphicon","onClick","tooltipPlace","style","btnType","image","pressedStyle","defaultStyle"].reduce((function(t,n){return t[n]=e.props[n],t}),{})})),e}return t=a,(n=[{key:"render",value:function(){return g.a.createElement(h.a,S({},this.getButtonProperties(),{pressed:this.props.active,tooltip:g.a.createElement(v.Tooltip,{id:"full-screen-button-tip"},g.a.createElement(O.default,{msgId:this.props.active?this.props.activeTooltip:this.props.notActiveTooltip}))}))}}])&&E(t.prototype,n),r&&E(t,r),a}(g.a.Component);M(R,"propTypes",{id:m.a.string,btnConfig:m.a.object,options:m.a.object,text:m.a.oneOfType([m.a.string,m.a.element]),help:m.a.oneOfType([m.a.string,m.a.element]),glyphicon:m.a.string,active:m.a.bool,onClick:m.a.func,activeTooltip:m.a.string,notActiveTooltip:m.a.string,tooltipPlace:m.a.string,style:m.a.object,btnType:m.a.oneOf(["normal","image"]),image:m.a.string,pressedStyle:m.a.string,defaultStyle:m.a.string}),M(R,"defaultProps",{id:"fullscreen-btn",activeTooltip:"fullscreen.tooltipDeactivate",notActiveTooltip:"fullscreen.tooltipActivate",tooltipPlace:"left",defaultStyle:"primary",pressedStyle:"success active",glyphicon:"1-full-screen",btnConfig:{className:"square-button"}});var C=R,k=Object(r.connect)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.controls,n=void 0===t?{}:t;return{active:n.fullscreen&&n.fullscreen.enabled}}),{onClick:function(e,t){return n=e,r=t.querySelector,{type:"TOGGLE_FULLSCREEN",enable:n,elementSelector:r};var n,r}})(C);t.a={FullScreenPlugin:d()(k,{disablePluginIf:"{state('browser') && state('browser').safari}",Toolbar:{name:"fullscreen",position:5,alwaysVisible:!0,tool:!0,priority:1}}),reducers:{},epics:{toggleFullscreenEpic:p}}},"./MapStore2/web/client/plugins/Identify.jsx":function(e,t,n){"use strict";n("./MapStore2/web/client/plugins/identify/identify.css");var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/object-assign/index.js"),a=n.n(o),i=n("./node_modules/react/index.js"),c=n.n(i),s=n("./node_modules/react-bootstrap/es/index.js"),u=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/recompose/es/Recompose.js"),p=n("./node_modules/reselect/es/index.js"),f=n("./MapStore2/web/client/actions/map.js"),d=n("./MapStore2/web/client/actions/mapInfo.js"),b=n("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx"),m=n("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),y=n("./MapStore2/web/client/utils/ImmutableUtils.js"),g=Object(l.withHandlers)({needsRefresh:function(){return function(e,t){if(t.enabled&&t.point&&t.point.pixel){if(!e.point||!e.point.pixel||e.point.pixel.x!==t.point.pixel.x||e.point.latlng!==t.point.latlng||e.point.pixel.y!==t.point.pixel.y)return!0;if(!e.point||!e.point.pixel||t.point.pixel&&e.format!==t.format)return!0}return!1}},onClose:function(e){var t=e.purgeResults,n=void 0===t?function(){}:t,r=e.closeIdentify,o=void 0===r?function(){}:r;return function(){n(),o()}},onSubmitClickPoint:function(e){var t=e.onSubmitClickPoint,n=void 0===t?function(){}:t,o=e.point;return function(e){var t=Object(r.isNil)(e.lat)||Object(r.isNaN)(e.lat)?0:parseFloat(e.lat),a=Object(r.isNil)(e.lon)||Object(r.isNaN)(e.lon)?0:parseFloat(e.lon),i=Object(y.e)("latlng.lng",a,Object(y.e)("latlng.lat",t,o));n(i)}},onChangeFormat:function(e){var t=e.onChangeFormat,n=void 0===t?function(){}:t;return function(e){n(e)}}}),h=Object(l.compose)(g,Object(l.lifecycle)({componentDidMount:function(){var e=this.props,t=e.enabled,n=e.changeMousePointer,r=void 0===n?function(){}:n,o=e.disableCenterToMarker,a=e.onEnableCenterToMarker,i=void 0===a?function(){}:a;t&&r("pointer"),o||i()},componentWillUnmount:function(){var e=this.props,t=e.hideMarker,n=void 0===t?function(){}:t,r=e.purgeResults,o=void 0===r?function(){}:r,a=e.changeMousePointer;(void 0===a?function(){}:a)("auto"),n(),o()},componentWillReceiveProps:function(e){var t=this.props,n=t.hideMarker,r=void 0===n?function(){}:n,o=t.purgeResults,a=void 0===o?function(){}:o,i=t.changeMousePointer,c=void 0===i?function(){}:i,s=t.enabled;e.enabled&&!s?c("pointer"):!e.enabled&&s&&(c("auto"),r(),a())}})),v=n("./node_modules/@turf/bbox/index.js"),O=n.n(v),j=Object(l.withHandlers)({zoomToFeature:function(e){var t=e.zoomToExtent,n=void 0===t?function(){}:t,r=e.currentFeature,o=void 0===r?[]:r,a=e.currentFeatureCrs;return function(){var e=o.filter((function(e){return!!e.geometry}));if(e.length>0){var t=O()({type:"FeatureCollection",features:e});t&&n(t,a)}}}}),S=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),w=n("./MapStore2/web/client/components/I18N/Message.jsx"),E=n("./MapStore2/web/client/components/misc/panels/DockablePanel.jsx"),A=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),x=n("./MapStore2/web/client/components/misc/Portal.jsx"),P=function(e){var t=e.latlng,n=e.enableRevGeocode,r=e.hideRevGeocode,o=void 0===r?function(){}:r,a=e.showModalReverse,i=e.revGeocodeDisplayName;return n&&t?c.a.createElement(x.a,null,c.a.createElement(A.a,{fade:!0,title:c.a.createElement("span",null,c.a.createElement(s.Glyphicon,{glyph:"map-marker"}),"",c.a.createElement(w.default,{msgId:"identifyRevGeocodeModalTitle"})),size:"xs",show:a,onClose:o,buttons:[{text:c.a.createElement(w.default,{msgId:"close"}),onClick:o,bsStyle:"primary"}]},c.a.createElement("div",{className:"ms-alert",style:{padding:15}},c.a.createElement("div",{className:"ms-alert-center text-center"},c.a.createElement("div",null,i))))):null},T=n("./MapStore2/web/client/components/misc/coordinateeditors/CoordinatesRow.jsx"),_=function(e){return c.a.createElement(T.a,{format:e.formatCoord||"decimal",aeronauticalOptions:{seconds:{decimals:4,step:1e-4}},idx:1,onSubmit:function(t,n){e.onSubmit(Object(r.isEmpty)(n)?void 0:n)},onChangeFormat:function(t){e.onChangeFormat(t)},key:"GFI row coord editor",component:e.coordinate||{},customClassName:"coord-editor",isDraggable:!1,showDraggable:!1,formatVisible:!0,showLabels:!0,removeVisible:!1})},M=n("./MapStore2/web/client/components/I18N/Number.jsx"),R=n("./MapStore2/web/client/components/misc/coordinateeditors/enhancers/decimalToAeronautical.js"),C=Object(R.a)((function(e){var t=e.degrees,n=void 0===t?0:t,r=e.minutes,o=void 0===r?0:r,a=e.seconds,i=void 0===a?0:a,s=e.direction,u=e.integerFormat,l=e.decimalFormat;return c.a.createElement("span",{className:"coordinate-dms"},c.a.createElement(M.a,{key:"latD",numberParams:u,value:n}),c.a.createElement("span",null,""),c.a.createElement(M.a,{key:"latM",numberParams:u,value:o}),c.a.createElement("span",null,"'"),c.a.createElement(M.a,{key:"latS",numberParams:l,value:i}),c.a.createElement("span",null,"''"),"",c.a.createElement("span",null,s))})),k=function(e){var t=e.integerFormat,n=void 0===t?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:0}:t,o=e.decimalFormat,a=void 0===o?{style:"decimal",minimumIntegerDigits:2,maximumFractionDigits:4,minimumFractionDigits:4}:o,i=e.coordinate,u=void 0===i?{}:i,l=e.formatCoord,p=void 0===l?"decimal":l,f=e.className;return c.a.createElement(s.Row,{className:f},c.a.createElement(s.Col,{xs:12},Object(r.isNil)(u.lat)||Object(r.isNil)(u.lon)?null:"decimal"===p?c.a.createElement("div",{className:"ms-coordinates-decimal"},"Lat: ",c.a.createElement(M.a,{value:Math.round(1e5*u.lat)/1e5})," - Long: ",c.a.createElement(M.a,{value:u.lon})):c.a.createElement("div",{className:"ms-coordinates-aeronautical"},c.a.createElement("span",null,"Lat: ",c.a.createElement(C,{integerFormat:n,decimalFormat:a,value:u.lat})),c.a.createElement("span",null," - "),c.a.createElement("span",null," Long: ",c.a.createElement(C,{coordinate:"lon",integerFormat:n,decimalFormat:a,value:u.lon})))))},I=function(e){var t=e.coordinate,n=void 0===t?{}:t,r=e.formatCoord,o=e.edit,a=e.onSubmit,i=void 0===a?function(){}:a,s=e.onChangeFormat,u=void 0===s?function(){}:s;return o?c.a.createElement(_,{removeVisible:!1,formatCoord:r,coordinate:n||{lat:"",lon:""},onSubmit:i,onChangeFormat:u}):c.a.createElement(k,{className:"coordinates-text",formatCoord:r,coordinate:n||{lat:"",lon:""}})},D=n("./MapStore2/web/client/utils/IdentifyUtils.js"),N=n("./node_modules/prop-types/index.js"),L=n.n(N),F=n("./node_modules/react-select/dist/react-select.es.js"),U=n("./MapStore2/web/client/components/misc/enhancers/localizedProps.js");function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=Object(U.a)(["placeholder","clearValueText","noResultsText"])(F.default),H=function(e){var t=e.responses,n=void 0===t?[]:t,o=e.index,a=void 0===o?0:o,s=e.loaded,u=e.setIndex,l=e.missingResponses,p=void 0===l?0:l,f=e.emptyResponses,d=void 0!==f&&f,b=B(Object(i.useState)([]),2),m=b[0],y=b[1],g=B(Object(i.useState)(""),2),h=g[0],v=g[1];Object(i.useEffect)((function(){Object(r.isEmpty)(n)||y(n.map((function(e){var t;return null==e||null===(t=e.layerMetadata)||void 0===t?void 0:t.title})))}),[n]),Object(i.useEffect)((function(){var e,t;s&&v((null===(e=n[a])||void 0===e||null===(t=e.layerMetadata)||void 0===t?void 0:t.title)||"")}),[n,a,s]);return c.a.createElement("div",{id:"identify-layer-select",style:{flex:"1 1 0%",padding:"0px 4px"}},c.a.createElement(q,G({},{clearable:!1,isSearchable:!0},{onChange:function(e){var t=(null==e?void 0:e.idx)||0;u(t)},value:h||"",options:m.map((function(e,t){return{label:e,value:e,idx:t}})),disabled:0!==p||0===n.length||d,noResultsText:"identifyLayerSelectNoResult"})))};H.propTypes={responses:L.a.array,setIndex:L.a.func,index:L.a.number,emptyResponses:L.a.bool};var Y=H;function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=n("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),$=n("./MapStore2/web/client/components/misc/FeatureInfoFormatSelector.jsx"),X=n("./MapStore2/web/client/plugins/locale/Message.jsx");function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(a,e);var t,n,r,o=re(a);function a(){var e;ee(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ce(ae(e=o.call.apply(o,[this].concat(n))),"onChange",(function(t){e.props.onSetMapTrigger(t.target.value)})),e}return t=a,(n=[{key:"render",value:function(){return c.a.createElement(s.FormGroup,{bsSize:"small"},c.a.createElement(s.ControlLabel,null,c.a.createElement(X.a,{msgId:"infoTriggerLabel"})),c.a.createElement(s.FormControl,{value:this.props.trigger,componentClass:"select",onChange:this.onChange},c.a.createElement("option",{value:"click",key:"click"},"Click"),c.a.createElement("option",{value:"hover",key:"hover"},"Hover")))}}])&&te(t.prototype,n),r&&te(t,r),a}(c.a.Component);ce(se,"propTypes",{trigger:L.a.string,onSetMapTrigger:L.a.func});var ue=se,le=n("./node_modules/rxjs/Rx.js"),pe=n.n(le),fe=n("./node_modules/uuid/index.js"),de=n.n(fe),be=n("./node_modules/connected-react-router/esm/actions.js"),me=n("./MapStore2/web/client/actions/controls.js"),ye=n("./MapStore2/web/client/actions/featuregrid.js"),ge=n("./MapStore2/web/client/actions/wfsquery.js"),he=n("./MapStore2/web/client/actions/layers.js"),ve=n("./MapStore2/web/client/actions/annotations.js"),Oe=n("./MapStore2/web/client/actions/config.js"),je=n("./MapStore2/web/client/actions/mapPopups.js"),Se=n("./MapStore2/web/client/actions/search.js"),we=n("./MapStore2/web/client/selectors/mapInfo.js"),Ee=n("./MapStore2/web/client/selectors/layers.js"),Ae=n("./MapStore2/web/client/selectors/featuregrid.js"),xe=n("./MapStore2/web/client/selectors/queryform.js"),Pe=n("./MapStore2/web/client/selectors/map.js"),Te=n("./MapStore2/web/client/selectors/maplayout.js"),_e=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),Me=n("./MapStore2/web/client/selectors/localConfig.js"),Re=n("./MapStore2/web/client/selectors/controls.js"),Ce=n("./MapStore2/web/client/selectors/localizedLayerStyles.js"),ke=n("./MapStore2/web/client/utils/MapUtils.js"),Ie=n("./MapStore2/web/client/utils/MapInfoUtils.js"),De=n("./MapStore2/web/client/components/map/popups/index.js"),Ne=n("./MapStore2/web/client/api/identify.jsx");function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=function(e){return Object(we.v)(e)||Object(Ae.o)(e)&&(function(e){return"EDIT"===Object(Ae.s)(e)}(e)||function(e){return Object(r.get)(Object(r.find)(Object(Ae.e)(e),(function(e){return"geometry"===e.type})),"enabled")}(e))},qe=function(e,t){var n,o=Object(r.get)(e,"latlng.lng"),a=Object(r.get)(e,"latlng.lat"),i=Object(_e.reproject)([o,a],"EPSG:4326",t),c=Object(ke.getHook)(ke.GET_PIXEL_FROM_COORDINATES_HOOK);if(c){var s=Ge(c([i.x,i.y]),2);n={x:s[0],y:s[1]}}else n=e.pixel;var u=Object(ke.getHook)(ke.GET_COORDINATES_FROM_PIXEL_HOOK),l=Object(_e.calculateCircleRadiusFromPixel)(u,n,i,5),p={type:"geometry",enabled:!0,value:{geometry:{center:[i.x,i.y],coordinates:Object(_e.calculateCircleCoordinates)(i,l,12),extent:[i.x-l,i.y-l,i.x+l,i.y+l],projection:t,radius:l,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}};return Fe(Fe({},e),{},{pixel:n,geometricFilter:p})},He={getFeatureInfoOnFeatureInfoClick:function(e,t){var n=t.getState,o=void 0===n?function(){}:n;return e.ofType(d.j).switchMap((function(e){var t=e.point,n=e.filterNameList,a=void 0===n?[]:n,i=e.overrideParams,c=void 0===i?{}:i,s=Object(r.reverse)(Object(Ee.q)(o())),u=Object(Ee.r)(o());u.length&&(s=u);var l=Object(Ee.u)(o());if(0===s.length||0===u.length&&0!==l.length)return pe.a.Observable.of(Object(d.Q)(),Object(d.P)());var p=["SLD_BODY"],f=["buffer","cql_filter","filter","propertyName"],b=pe.a.Observable.from(s.filter((function(e){return!a.length||a.filter((function(t){return-1!==t.indexOf(e.name)})).length>0}))).mergeMap((function(e){var t=Object(Ce.c)(o()),n=Object(Ie.b)(e,Fe(Fe({},Object(we.i)(o())),{},{env:t})),r=n.url,a=n.request,i=n.metadata;if(Object(we.o)(o())&&Object(we.r)(o())&&(a=Fe(Fe({},a),Object(we.r)(o())[e.name])),c[e.name]&&(a=Fe(Fe({},a),c[e.name])),r){var u=r,l=a,b=i,m=Object(Ie.d)(e,f,p),y=Object(we.k)(o()),g=Object(we.o)(o()),h=de.a.v1(),v=Fe(Fe({},m),l);return Object(Ne.a)(u,v,e,{attachJSON:y,itemId:g}).map((function(t){return t.data.exceptions?Object(d.I)(h,t.data.exceptions,l,b):Object(d.N)(h,t.data,l,Fe(Fe({},b),{},{features:t.features,featuresCrs:t.featuresCrs}),e)})).catch((function(e){return pe.a.Observable.of(Object(d.H)(h,e.data||e.statusText||e.status,l,b))})).startWith(Object(d.O)(h,v))}return pe.a.Observable.of(Object(d.K)(e,a,i,s))}));return t&&t.modifiers&&!0===t.modifiers.ctrl&&t.multiSelection?b:b.startWith(Object(d.Q)())}))},handleMapInfoMarker:function(e,t){var n=t.getState;return e.ofType(d.j).filter((function(){return!Object(we.n)(n())})).map((function(e){return e.layer?Object(d.L)():Object(d.T)()}))},closeFeatureGridFromIdentifyEpic:function(e){return e.ofType(d.n,d.k).switchMap((function(){return pe.a.Observable.of(Object(ye.fb)())}))},closeFeatureAndAnnotationEditing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,o=void 0===n?function(){}:n;return e.ofType(d.f).switchMap((function(){return Object(r.get)(o(),"annotations.editing")?pe.a.Observable.of(Object(ve.b)()):pe.a.Observable.of(Object(d.Q)())}))},hideMarkerOnIdentifyCloseOrClearWarning:function(e){return e.ofType(d.f,d.e).flatMap((function(){return pe.a.Observable.of(Object(d.L)())}))},changeMapPointer:function(e,t){return e.ofType(f.f).filter((function(){return!t.getState().map})).switchMap((function(t){return e.ofType(Oe.d).mapTo(t)}))},onMapClick:function(e,t){return e.ofType(f.i).filter((function(){var e=t.getState().mapInfo.disableAlwaysOn,n=void 0!==e&&e;return!Object(Pe.f)(t.getState())&&(n||!ze(t.getState()||{}))})).switchMap((function(e){var n=e.point,r=e.layer,o=Object(Pe.o)(t.getState());return pe.a.Observable.of(Object(d.J)(qe(n,o),r),Object(Se.u)()).merge(pe.a.Observable.of(Object(je.b)(de()(),{component:De.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:n?n.rawPos:[]}})).filter((function(){return Object(we.n)(t.getState())})))}))},onUpdateFeatureInfoClickPoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(d.A).map((function(e){var t=e.point,n=Object(Pe.o)(r());return{point:qe(t,n)}})).withLatestFrom(e.ofType(d.j),(function(e,t){var n=e.point;return Fe(Fe({},t),{},{point:n})}))},featureInfoClickOnHighligh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(d.w).filter((function(e){return e.enabled&&Object(we.b)(r())})).switchMap((function(){return pe.a.Observable.from([Object(d.J)(Object(we.b)(r()),Object(we.a)(r()),Object(we.g)(r()),Object(we.r)(r()),Object(we.o)(r())),Object(d.T)()])}))},zoomToVisibleAreaEpic:function(e,t){return e.ofType(d.j).filter((function(){return Object(Ee.c)(t.getState())})).switchMap((function(n){return e.ofType(d.n,d.h).switchMap((function(){var o=t.getState(),a=Object(Pe.l)(o),i=Object(Pe.o)(o),c=Object(Pe.n)(o),s=Object(r.find)(c,{code:i}),u=s&&s.extent,l=u&&Object(_e.reprojectBbox)(u,i,"EPSG:4326"),p=Object(Te.b)(o),b=n.point&&n.point&&n.point.latlng,m=Object(ke.getCurrentResolution)(Math.round(a.zoom),0,21,96),y=p&&a&&a.size&&{left:Object(ke.parseLayoutValue)(p.left,a.size.width),bottom:Object(ke.parseLayoutValue)(p.bottom,a.size.height),right:Object(ke.parseLayoutValue)(p.right,a.size.width),top:Object(ke.parseLayoutValue)(p.top,a.size.height)};if(!a||!y||!b||n.point.cartographic||Object(_e.isInsideVisibleArea)(b,a,y,m)||Object(Pe.f)(o))return pe.a.Observable.of(Object(d.Y)("disabled"));if(l&&!Object(_e.isPointInsideExtent)(b,l))return pe.a.Observable.empty();var g=Object(_e.centerToVisibleArea)(b,a,y,m);return pe.a.Observable.of(Object(d.Y)("enabled"),Object(f.J)(g.pos,g.zoom,g.crs)).concat(e.ofType(d.f).switchMap((function(){var e=a&&Object(ke.getBbox)(a.center,a.zoom);return pe.a.Observable.of(Object(f.x)(a.center,a.zoom,e,a.size,null,a.projection))})).takeUntil(e.ofType(f.e).skip(1)))}))}))},closeFeatureInfoOnCatalogOpenEpic:function(e,t){return e.ofType(me.b).filter((function(e){return"metadataexplorer"===e.control&&e.properties&&e.properties.enabled})).switchMap((function(){return pe.a.Observable.of(Object(d.Q)(),Object(d.L)()).merge(pe.a.Observable.of(Object(je.c)()).filter((function(){return Object(we.n)(t.getState())})))}))},closeFeatureInfoOnAnnotationOpenEpic:function(e,t){var n=t.getState;return e.ofType(me.d).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"annotations"===t&&Object(r.get)(n(),"controls.annotations.enabled",!1)})).mapTo(Object(d.Q)())},closeFeatureInfoOnMeasureOpenEpic:function(e){return e.ofType(me.c).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,n=e.value;return"measure"===t&&n})).mapTo(Object(d.Q)())},cleanPopupsEpicOnPurge:function(e,t){var n=t.getState;return e.ofType(d.q).filter((function(){return Object(we.n)(n())})).mapTo(Object(je.c)())},identifyEditLayerFeaturesEpic:function(e,t){return e.ofType(d.g).exhaustMap((function(e){var n,r=e.layer;return pe.a.Observable.of(Object(d.R)(null===(n=Object(we.b)(t.getState()))||void 0===n?void 0:n.geometricFilter),Object(he.E)(r))}))},switchFeatureGridToEdit:function(e,t){return e.ofType(ge.j).switchMap((function(){var e=Object(we.d)(t.getState()),n=(Object(r.find)(Object(Ae.e)(t.getState()),(function(e){return"geometry"===e.type}))||{}).attribute||Object(r.get)(Object(xe.k)(t.getState()),"attribute");return e?pe.a.Observable.of(Object(d.R)(),Object(ye.Pb)(),Object(ye.Tb)(Fe(Fe({},e),{},{attribute:n,value:Fe(Fe({},e.value),{},{attribute:n})}))):pe.a.Observable.empty()}))},resetCurrentEditFeatureQuery:function(e){return e.ofType(ye.f,be.b).mapTo(Object(d.R)())},mouseMoveMapEventEpic:function(e,t){var n=t.getState;return e.ofType(f.l).debounceTime(Object(Me.a)(n())).switchMap((function(e){var t=e.position,r=e.layer,o=Object(Re.b)("annotations")(n()),a=Object(Re.e)(n()),i=n().mousePosition.mouseOut;return!Object(Pe.f)(n())||o||a||i?pe.a.Observable.empty():pe.a.Observable.of(Object(d.J)(t,r)).merge(pe.a.Observable.of(Object(je.b)(de()(),{component:De.IDENTIFY_POPUP,maxWidth:600,position:{coordinates:t?t.rawPos:[]},autoPanMargin:70,autoPan:!0})))}))},removePopupOnUnregister:function(e,t){var n=t.getState;return e.ofType(f.r).switchMap((function(){var e,t,r=pe.a.Observable.empty(),o=(null===(e=n())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(o.length&&!Object(Pe.f)(n())){var a=o[0].id;r=pe.a.Observable.of(Object(je.d)(a))}return r}))},removePopupOnLocationChangeEpic:function(e,t){var n=t.getState;return e.ofType(be.b,d.q,d.e).switchMap((function(){var e,t,r=pe.a.Observable.empty(),o=(null===(e=n())||void 0===e||null===(t=e.mapPopups)||void 0===t?void 0:t.popups)||[];if(o.length){var a=o[0].id;r=pe.a.Observable.of(Object(je.d)(a))}return r}))},removeMapInfoMarkerOnRemoveMapPopupEpic:function(e,t){var n=t.getState;return e.ofType(je.a).switchMap((function(){return Object(Pe.f)(n())?pe.a.Observable.of(Object(d.L)()):pe.a.Observable.empty()}))},setMapTriggerEpic:function(e,t){return e.ofType(d.s,Oe.d).switchMap((function(){return pe.a.Observable.of("hover"===Object(we.q)(t.getState())?Object(f.F)("mousemove","identifyFloatingTool"):Object(f.H)("mousemove","identifyFloatingTool"))}))}},Ye=n("./MapStore2/web/client/reducers/mapInfo.js"),Ve=n("./MapStore2/web/client/selectors/locale.js"),We=n("./MapStore2/web/client/selectors/maptype.js"),Qe=n("./MapStore2/web/client/utils/ConfigUtils.js");function Ze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ke(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=Object(p.c)({enabled:function(e){return e.mapInfo&&e.mapInfo.enabled||e.controls&&e.controls.info&&e.controls.info.enabled||!1},responses:we.t,validResponses:we.w,requests:we.s,format:we.h,map:Pe.l,layers:Ee.p,point:we.b,showModalReverse:function(e){return e.mapInfo&&e.mapInfo.showModalReverse},reverseGeocodeData:function(e){return e.mapInfo&&e.mapInfo.reverseGeocodeData},warning:function(e){return e.mapInfo&&e.mapInfo.warning},currentLocale:Ve.b,dockStyle:function(e){return Object(Te.c)(e,{height:!0})},formatCoord:function(e){return e.mapInfo&&e.mapInfo.formatCoord||Qe.default.getConfigProp("defaultCoordinateFormat")},showCoordinateEditor:function(e){return e.mapInfo&&e.mapInfo.showCoordinateEditor},showEmptyMessageGFI:function(e){return Object(we.u)(e)},isEditingAllowed:Ae.n,isCesium:We.a,floatingIdentifyEnabled:function(e){return Object(Pe.f)(e)}}),tt=Object(l.compose)(Object(u.connect)(Object(p.a)(we.j,we.l,(function(e){return e.browser&&e.browser.mobile}),(function(e,t,n){return{index:e,loaded:t,isMobile:n}})),{setIndex:d.D})),nt=Object(l.compose)(tt,m.a,m.b,Object(K.a)((function(e){var t=e.loaded;return Object(r.isUndefined)(t)})))(b.a),rt=Object(l.defaultProps)({formatCoord:"decimal",enabled:!1,draggable:!0,collapsible:!1,format:Object(Ie.g)(),requests:[],responses:[],viewerOptions:{},viewer:nt,purgeResults:function(){},hideMarker:function(){},clearWarning:function(){},changeMousePointer:function(){},showRevGeocode:function(){},hideRevGeocode:function(){},containerProps:{continuous:!1},enabledCoordEditorButton:!0,showCoordinateEditor:!1,showModalReverse:!1,reverseGeocodeData:{},enableRevGeocode:!0,wrapRevGeocode:!1,style:{},point:{},layer:null,map:{},layers:[],panelClassName:"modal-dialog info-panel modal-content",headerClassName:"modal-header",bodyClassName:"modal-body info-wrap",dock:!0,headerGlyph:"",closeGlyph:"1-close",className:"square-button",currentLocale:"en-US",fullscreen:!1,showTabs:!0,showCoords:!0,showLayerTitle:!0,showMoreInfo:!0,showEdit:!1,position:"right",size:660,getToolButtons:function(e){e.showHighlightFeatureButton,e.currentFeature,e.highlight;var t=e.onEdit,n=void 0===t?function(){}:t,r=Ze(e,["showHighlightFeatureButton","currentFeature","highlight","onEdit"]);return[{glyph:"info-sign",tooltipId:"identifyRevGeocodeSubmitText",visible:r.latlng&&r.enableRevGeocode&&r.lngCorrected&&r.showMoreInfo,onClick:function(){r.showRevGeocode({lat:r.latlng.lat,lng:r.lngCorrected})}},{glyph:"search-coords",tooltipId:r.showCoordinateEditor?"identifyHideCoordinateEditor":"identifyShowCoordinateEditor",visible:r.enabledCoordEditorButton,bsStyle:r.showCoordinateEditor?"success":"primary",onClick:function(){r.onToggleShowCoordinateEditor(r.showCoordinateEditor)}},{glyph:"pencil",visible:r.showEdit,tooltipId:"identifyEdit",onClick:function(){return n()}}].filter((function(e){return e&&e.visible}))},getFeatureButtons:function(e){var t=e.showHighlightFeatureButton,n=e.currentFeature,r=e.highlight,o=e.toggleHighlightFeature,a=void 0===o?function(){}:o,i=e.zoomToFeature,c=void 0===i?function(){}:i;return[{glyph:"map-filter",visible:t,tooltipId:r?"identifyStopHighlightingFeatures":"identifyHighlightFeatures",bsStyle:r?"success":"primary",onClick:function(){return a(!r)}},{glyph:"zoom-to",visible:r&&!!n&&n.length>0&&n.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.geometry;return e||!!n}),!1)||!1,tooltipId:"identifyZoomToFeature",onClick:c}]},showFullscreen:!1,validResponses:[],validator:Ie.j,zIndex:1050}),ot=Object(l.compose)(Object(u.connect)(et,{purgeResults:d.Q,closeIdentify:d.F,onSubmitClickPoint:d.Z,onToggleShowCoordinateEditor:d.X,onChangeFormat:d.B,changeMousePointer:f.y,clearWarning:d.E,hideMarker:d.L,showRevGeocode:d.U,hideRevGeocode:d.M,onEnableCenterToMarker:d.Y.bind(null,"enabled"),onEdit:d.G},(function(e,t,n){return Xe(Xe(Xe(Xe({},n),e),t),{},{enabled:e.enabled&&(e.isCesium||!n.showInMapPopup)&&!e.floatingIdentifyEnabled})})),Object(l.compose)(Object(u.connect)(Object(p.c)({highlight:we.k,currentFeature:we.f,currentFeatureCrs:we.e}),{toggleHighlightFeature:d.V,zoomToExtent:f.I}),j),Object(u.connect)(Object(p.a)(We.c,(function(e){return{mapType:e}})),{},(function(e,t,n){var r=e.mapType,o=n.showHighlightFeatureButton;return Xe(Xe({},Ke(n,["showHighlightFeatureButton"])),{},{showHighlightFeatureButton:"openlayers"===r&&o})})),rt,tt,m.b,h)((function(e){var t,n,o=e.enabled,a=e.requests,i=void 0===a?[]:a,u=e.onClose,l=e.responses,p=void 0===l?[]:l,f=e.index,d=e.viewerOptions,b=void 0===d?{}:d,m=e.format,y=e.dock,g=void 0===y||y,h=e.position,v=e.size,O=e.fluid,j=e.validResponses,T=void 0===j?[]:j,_=e.viewer,M=void 0===_?function(){return null}:_,R=e.getToolButtons,C=void 0===R?function(){return[]}:R,k=e.getFeatureButtons,N=void 0===k?function(){return[]}:k,L=e.showFullscreen,F=e.reverseGeocodeData,U=void 0===F?{}:F,G=e.point,B=e.dockStyle,z=void 0===B?{}:B,q=e.draggable,H=e.setIndex,W=e.warning,Z=e.clearWarning,K=e.zIndex,$=e.showEmptyMessageGFI,X=e.showEdit,J=e.isEditingAllowed,ee=e.onEdit,te=void 0===ee?function(){}:ee,ne=e.enabledCoordEditorButton,re=e.showCoordinateEditor,oe=e.onSubmitClickPoint,ae=e.onChangeFormat,ie=e.formatCoord,ce=e.loaded,se=e.validator,ue=void 0===se?function(){return null}:se,le=G&&G.latlng||null,pe=T[f],fe=(pe||{}).layer,de=null;le&&(de=le&&Math.round(1e17*le.lng)/1e17,de-=360*Math.floor(de/360+.5));var be=M,me=C(Q(Q({},e),{},{lngCorrected:de,validResponses:T,latlng:le,showEdit:X&&J&&!!pe&&Object(D.b)(pe),onEdit:te.bind(null,fe&&{id:fe.id,name:fe.name,url:Object(r.get)(fe,"search.url")})})),ye=i.length===(null===(t=ue(m))||void 0===t||null===(n=t.getNoValidResponses(p))||void 0===n?void 0:n.length)||0,ge=i.length-p.length,he=U.error?c.a.createElement(w.default,{msgId:"identifyRevGeocodeError"}):U.display_name;return c.a.createElement("div",{id:"identify-container",className:o&&0!==i.length?"identify-active":""},c.a.createElement(E.a,{bsStyle:"primary",glyph:"map-marker",open:o&&0!==i.length,size:v,fluid:O,position:h,draggable:q,onClose:u,dock:g,style:z,showFullscreen:L,zIndex:K,header:[c.a.createElement(s.Row,{className:"layer-select-row"},c.a.createElement("div",{className:"layer-col"},c.a.createElement("span",{className:"identify-icon glyphicon glyphicon-1-layer"}),c.a.createElement(Y,{responses:p,index:f,loaded:ce,setIndex:H,missingResponses:ge,emptyResponses:ye}),c.a.createElement(S.a,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:N(e),transitionProps:null}))),c.a.createElement(s.Row,{className:"coordinates-edit-row"},c.a.createElement("span",{className:"identify-icon glyphicon glyphicon-point"}),c.a.createElement("div",{className:"coordinate-editor"},c.a.createElement(I,{key:"coordinate-editor",formatCoord:ie,enabledCoordEditorButton:ne,onSubmit:oe,onChangeFormat:ae,edit:re,coordinate:{lat:le&&le.lat,lon:de}})),c.a.createElement(P,V({latlng:le,revGeocodeDisplayName:he},e)),c.a.createElement(S.a,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:me,transitionProps:null}))].filter((function(e){return e}))},c.a.createElement(be,V({index:f,setIndex:H,format:m,missingResponses:ge,responses:p,requests:i,showEmptyMessageGFI:$},b))),c.a.createElement(x.a,null,c.a.createElement(A.a,{fade:!0,title:c.a.createElement(w.default,{msgId:"warning"}),size:"xs",show:W,onClose:Z,buttons:[{text:c.a.createElement(w.default,{msgId:"close"}),onClick:Z,bsStyle:"primary"}]},c.a.createElement("div",{className:"ms-alert",style:{padding:15}},c.a.createElement("div",{className:"ms-alert-center text-center"},c.a.createElement(w.default,{msgId:"identifyNoQueryableLayers"}))))))})),at=Object(u.connect)((function(e){return{infoFormat:Object(we.h)(e)}}),{onInfoFormatChange:d.C})($.a),it=Object(u.connect)((function(e){return{trigger:Object(Pe.f)(e)?"hover":"click"}}),{onSetMapTrigger:d.S})(ue);t.a={IdentifyPlugin:a()(ot,{Toolbar:{name:"info",position:6,tooltip:"info.tooltip",icon:c.a.createElement(s.Glyphicon,{glyph:"map-marker"}),help:c.a.createElement(X.a,{msgId:"helptexts.infoButton"}),action:d.W,selector:function(e){return{bsStyle:e.mapInfo&&e.mapInfo.enabled?"success":"primary",active:!(!e.mapInfo||!e.mapInfo.enabled)}}},Settings:{tool:[c.a.createElement(at,{key:"featureinfoformat",label:c.a.createElement(X.a,{msgId:"infoFormatLbl"})}),c.a.createElement(it,{key:"featureinfotrigger"})],position:3}}),reducers:{mapInfo:Ye.a},epics:He}},"./MapStore2/web/client/plugins/Map.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./MapStore2/web/client/utils/PluginsUtils.js"),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=e,i=r,c=o,s=a;if(Object({NODE_ENV:"production"}).isTest){var u={},l=function(e){return u[e]=u[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},u[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){l(e).rootCount+=t},iframesCreated:function(e){l(e).iframesCreated=!0},timedOut:function(e){l(e).timedOut=!0},fontLoaded:function(e){l(e).fontLoaded=!0},requiredExtraTimeout:function(e){l(e).requiredExtraTimeout=!0},getTests:function(){return u}}}n.timeoutAfter&&setTimeout((function(){i&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(s,-1),document.body.removeChild(i),i=0,n.onTimeout&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.timedOut(s),n.onTimeout()))}),n.timeoutAfter),c=function(){i&&i.firstChild.clientWidth===i.lastChild.clientWidth&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(s,-1),document.body.removeChild(i),i=0,Object({NODE_ENV:"production"}).isTest&&window.reporter.fontLoaded(s),t())},Object({NODE_ENV:"production"}).isTest&&window.reporter.modifyRootCount(s,1),Object({NODE_ENV:"production"}).isLegacy||c(document.body.appendChild(i=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+a+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+a+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</div>"),Object({NODE_ENV:"production"}).isLegacy&&c(document.body.appendChild(i=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+a+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+a+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</span>.</table>"),i&&(Object({NODE_ENV:"production"}).isTest&&window.reporter.iframesCreated(s),Object({NODE_ENV:"production"}).isLegacy||(i.firstChild.appendChild(a=document.createElement("iframe")).style.width="999%",a.contentWindow.onresize=c,i.lastChild.appendChild(a=document.createElement("iframe")).style.width="999%",a.contentWindow.onresize=c),Object({NODE_ENV:"production"}).isLegacy&&(i.firstChild.firstChild.firstChild.firstChild.appendChild(a=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",a.attachEvent?a.contentWindow.attachEvent("onresize",c):a.contentWindow.onresize=c,i.lastChild.firstChild.firstChild.firstChild.appendChild(a=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",a.attachEvent?a.contentWindow.attachEvent("onresize",c):a.contentWindow.onresize=c),Object({NODE_ENV:"production"}).isTest||(a=setTimeout(c)),Object({NODE_ENV:"production"}).isTest&&(a=setTimeout((function(){i&&(window.reporter.requiredExtraTimeout(s),c())}))))},u=n("./node_modules/object-assign/index.js"),l=n.n(u),p=n("./node_modules/react-spinkit/dist/index.js"),f=n.n(p),d=(n("./MapStore2/web/client/plugins/map/css/map.css"),n("./MapStore2/web/client/components/I18N/Message.jsx")),b=n("./MapStore2/web/client/utils/ConfigUtils.js"),m=n("./MapStore2/web/client/actions/map.js"),y=n("./MapStore2/node_modules/lodash/lodash.js"),g=n("./node_modules/reselect/es/index.js"),h=n("./MapStore2/web/client/selectors/map.js"),v=n("./MapStore2/web/client/selectors/maptype.js"),O=n("./MapStore2/web/client/selectors/layers.js"),j=n("./MapStore2/web/client/utils/CoordinatesUtils.js");function S(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){return Object(y.get)(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},A=function(e){return E(e)&&E(e).geometry},x=Object(g.a)([function(e){return A(e)&&A(e).coordinates||[]},function(e){return A(e)&&A(e).type||"Polygon"},function(e){return A(e)&&A(e).id||"spatial_object"},function(e){return A(e)&&A(e).projection||"EPSG:3857"}],(function(e,t,n,r){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:n}]};return e.length>0&&t?Object(j.reprojectGeoJson)(o,r,"EPSG:4326").features:[]})),P=Object(g.a)([x,function(e){return Object(y.get)(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(S(t),S(e))})),T=n("./MapStore2/web/client/selectors/security.js"),_=n("./MapStore2/web/client/selectors/locale.js"),M=n("./MapStore2/web/client/selectors/localizedLayerStyles.js"),R=Object(g.c)({projectionDefs:h.n,map:h.l,mapType:v.c,layers:O.n,features:P,loadingError:function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data},securityToken:T.c,elevationEnabled:h.e,shouldLoadFont:v.b,isLocalizedLayerStylesEnabled:M.b,localizedLayerStylesName:M.d,currentLocaleLanguage:_.a}),C=n("./MapStore2/web/client/reducers/map.js"),k=n("./MapStore2/web/client/reducers/layers.js"),I=n("./MapStore2/web/client/actions/draw.js"),D={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[]};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.a:return l()({},e,{drawStatus:t.status,drawOwner:t.owner,drawMethod:t.method,options:t.options,features:t.features,style:t.style});case I.e:return l()({},e,{currentStyle:t.currentStyle});case I.d:return l()({},e,{tempFeatures:t.features});case I.b:return l()({},e,{tempFeatures:[]});default:return e}},L=n("./MapStore2/web/client/actions/box.js"),F={status:null};var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.b:return l()({},e,{status:t.status});default:return e}},G=n("./MapStore2/web/client/actions/highlight.js");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.b:return l()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case G.a:return z(z({},e),{},{status:t.status});case G.c:return z(z({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}},V=n("./MapStore2/web/client/reducers/maptype.js"),W=n("./MapStore2/web/client/actions/additionallayers.js");function Q(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.c:var n=Object(y.pickBy)({id:t.id,owner:t.owner,actionType:t.actionType,options:t.options},y.identity),r=Object(y.head)(e.filter((function(e){return e.id===n.id})));return r?e.map((function(e){return e.id===n.id?$($({},r),n):$({},e)})):[].concat(Q(e),[n]);case W.d:var o=t.options,a=t.owner;return e.map((function(e,t){return e.owner===a?$($({},e),{},{options:Object(y.isObject)(o)&&o[e.id]||Object(y.isArray)(o)&&o[t]||{}}):$({},e)}));case W.a:var i=t.id,c=t.owner;return c?e.filter((function(e){return e.owner!==c})):e.filter((function(e){return e.id!==i}));case W.b:return[];default:return e}},ee=n("./node_modules/rxjs/Rx.js"),te=n.n(ee),ne=n("./MapStore2/web/client/actions/layers.js"),re=n("./MapStore2/web/client/actions/config.js"),oe=n("./MapStore2/web/client/actions/security.js"),ae=n("./MapStore2/web/client/selectors/maplayout.js"),ie=n("./MapStore2/web/client/actions/controls.js"),ce=n("./MapStore2/web/client/utils/LayersUtils.js"),se=n("./MapStore2/web/client/utils/MapUtils.js"),ue=n("./MapStore2/web/client/actions/notifications.js"),le=n("./MapStore2/web/client/actions/mapInfo.js");function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be={checkMapPermissions:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(oe.d).filter((function(){return Object(h.g)(r())})).map((function(){var e=Object(h.g)(r());return Object(re.o)(e)}))},handleCreationLayerError:function(e,t){return e.ofType(m.j).delay(500).switchMap((function(e){var n=Object(v.c)(t.getState()),r=Object(O.g)(t.getState(),e.options.id);return r&&Object(ce.isSupportedLayer)(r,n)?te.a.Observable.from([Object(ne.H)(e.options.id,{invalid:!0})]):te.a.Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(m.j).delay(500).filter((function(e){var n=Object(O.d)(t.getState());return n&&e.options.id===n.id&&"background"===e.options.group})).switchMap((function(e){var n=Object(v.c)(t.getState()),r=Object(y.head)(Object(O.a)(t.getState()).filter((function(t){return Object(ce.isSupportedLayer)(t,n)&&t.id!==e.options.id})));return r?te.a.Observable.from([Object(ne.H)(r.id,{visibility:!0}),Object(ie.g)("backgroundSelector","currentLayer",r),Object(ie.g)("backgroundSelector","tempLayer",r),Object(ue.k)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):te.a.Observable.of(Object(ue.k)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(m.k).switchMap((function(){return te.a.Observable.of(Object(W.f)(),Object(ie.e)(),Object(ne.I)(),Object(le.E)())}))},resetLimitsOnInit:function(e,t){return e.ofType(re.d,m.a).switchMap((function(){var e=Object(h.a)(t.getState()),n=Object(h.c)(t.getState()),r=Object(h.b)(t.getState());return te.a.Observable.of(Object(m.v)({restrictedExtent:n,crs:e,minZoom:r}))}))},zoomToExtentEpic:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(m.t).switchMap((function(e){var t=function(e){if(Object(y.isArray)(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(Object(y.isObject)(e)){var t=Object(y.mapValues)(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return te.a.Observable.empty();var n=se.default.getHook(se.default.ZOOM_TO_EXTENT_HOOK),o=Object(ae.d)(r());return n?(n(t,{crs:e.crs,padding:o,maxZoom:e.maxZoom}),te.a.Observable.empty()):function(e,t){var n=0,r=e.extent,o=void 0===r?[]:r,a=j.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(a){var i=j.default.reproject(se.default.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)n=1;else{var c=j.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");n=se.default.getZoomForExtent(c,t.size,0,21,null)}e.maxZoom&&n>e.maxZoom&&(n=e.maxZoom);var s={minx:a[0],miny:a[1],maxx:a[2],maxy:a[3]},u=fe(fe({},t.bbox),{},{bounds:s});return te.a.Observable.of(Object(m.x)(i,n,u,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return te.a.Observable.empty()}(fe(fe({},e),{},{extent:t}),Object(h.l)(r()))}))}},me=n("./MapStore2/web/client/actions/mapPopups.js"),ye=n("./MapStore2/web/client/actions/measurement.js"),ge=n("./MapStore2/web/client/selectors/measurement.js");function he(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var ve=n("./MapStore2/web/client/actions/locate.js"),Oe=n("./node_modules/react-redux/es/index.js");function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we=function(){return i.a.createElement("span",null)},Ee=function(e,t){return Promise.all([n("./MapStore2/web/client/plugins/map lazy recursive ^\\.\\/.*\\/index$")("./"+e+"/index"),n("./MapStore2/web/client/components/map lazy recursive ^\\.\\/.*\\/plugins\\/index$")("./"+e+"/plugins/index")]).then((function(e){var n=je(e,1)[0].default,r=Object(Oe.connect)((function(e){return{projectionDefs:Object(h.n)(e),mousePosition:Object(h.d)(e)}}),l()({},{onMapViewChanges:m.x,onClick:m.A,onMouseMove:m.D,onLayerLoading:ne.Q,onLayerLoad:ne.P,onLayerError:ne.O,onWarning:ue.k,onMouseOut:m.E},t),(function(e,t,n){return l()({},n,e,l()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(n.LMap),o=Object(Oe.connect)((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:Object(ge.d)(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m"}}}}),{changeMeasurementState:ye.v,updateMeasures:ye.C,resetGeometry:ye.y,changeGeometry:ye.t,setTextLabels:ye.B,changeMeasurement:ye.u})(n.MeasurementSupport||we),a=Object(Oe.connect)((function(e){return{status:e.locate&&e.locate.state,messages:e.locale&&e.locale.messages?e.locale.messages.locate:void 0}}),{changeLocateState:ve.c,onLocateError:ve.d})(n.Locate||we),i=Object(Oe.connect)((function(e){return e.draw||{}}),{onChangeDrawingStatus:I.f,onEndDrawing:I.j,onGeometryChanged:I.k,onSelectFeatures:I.l,onDrawingFeatures:I.i,onDrawStopped:I.g,setCurrentStyle:I.m})(n.DrawSupport||we),c=Object(Oe.connect)(Object(g.a)((function(e){return function(e){return e&&e.box&&e.box.status}(e)}),(function(e){return{status:e}})),{onBoxEnd:L.c})(n.BoxSelectionSupport||we),s=Object(Oe.connect)((function(e){return e.highlight||{}}),{updateHighlighted:G.e})(n.HighlightFeatureSupport||we),u=Object(Oe.connect)((function(e){return{selection:e.selection||{}}}),{changeSelectionState:he})(n.SelectionSupport||we),p=Object(Oe.connect)(null,{onWarning:ue.k})(n.Layer||we),f=[],d=Object(Oe.connect)(Object(g.a)((function(e){return e.mapPopups&&e.mapPopups.popups||f}),(function(e){return{popups:e}})),{onPopupClose:me.d})(n.PopupSupport||we);return{Map:r,Layer:p,Feature:n.Feature||we,tools:{measurement:o,locate:a,overview:n.Overview||we,scalebar:n.ScaleBar||we,draw:i,highlight:s,selection:u,popup:d,box:c}}}))};function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pe(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,n,r,o=Ce(a);function a(){var e;_e(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ne(Ie(e=o.call.apply(o,[this].concat(n))),"state",{canRender:!0}),Ne(Ie(e),"getHighlightLayer",(function(t,n,r){var o=e.state.plugins;return i.a.createElement(o.Layer,{type:"vector",srs:t,position:n,key:"highlight",options:{name:"highlight"},env:r},e.props.features.map((function(e){return i.a.createElement(o.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),Ne(Ie(e),"getTool",(function(t){return Object(y.isString)(t)?{name:t,impl:e.state.plugins.tools[t]}:t[e.props.mapType]||t})),Ne(Ie(e),"getMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||b.default.getConfigProp("defaultMapOptions")&&b.default.getConfigProp("defaultMapOptions")[e.props.mapType]})),Ne(Ie(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",n=[];e.props.isLocalizedLayerStylesEnabled&&n.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage});var r=e.state.plugins;return[].concat(Pe(e.props.layers),Pe(e.props.additionalLayers)).filter(e.filterLayer).map((function(o,a){return i.a.createElement(r.Layer,{type:o.type,srs:t,position:a,key:o.id||o.name,options:o,securityToken:e.props.securityToken,env:n},e.renderLayerContent(o,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,n)||[])})),Ne(Ie(e),"renderLayerContent",(function(t,n){var r=e.state.plugins;return t.features&&"vector"===t.type?t.features.map((function(e){return i.a.createElement(r.Feature,{key:e.id,msId:e.id,type:e.type,crs:n,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})})):null})),Ne(Ie(e),"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(e){var t=e.Tool,n=e.name;return i.a.createElement(t,{key:n})}));return e.props.tools.map((function(t){var n=e.getTool(t),r=e.props.toolsOptions[n.name]&&e.props.toolsOptions[n.name][e.props.mapType]||e.props.toolsOptions[n.name]||{};return i.a.createElement(n.impl,xe({key:n.name},r))})).concat(t)})),Ne(Ie(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),Ne(Ie(e),"updatePlugins",(function(t){t.onLoadingMapPlugins(!0),Ee(t.mapType,t.actions).then((function(n){e.setState({plugins:n}),t.onLoadingMapPlugins(!1,t.mapType)}))})),e}return t=a,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.shouldLoadFont,r=t.fonts;n&&r&&(this.setState({canRender:!1}),Promise.all(r.map((function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){s(e,n,{timeoutAfter:t.timeoutAfter,onTimeout:r,sampleText:t.sampleText,generic:t.generic})}))}(t,{timeoutAfter:5e3}).catch((function(){e.props.onFontError({family:t})}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"render",value:function(){if(this.props.map&&this.state.canRender&&this.state.plugins){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return i.a.createElement(this.state.plugins.Map,xe({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:l()({},t,this.getMapOptions()),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?i.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},i.a.createElement(d.default,{msgId:"map.loadingerror"}),":",this.props.loadingError):i.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?i.a.createElement(f.a,{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,i.a.createElement(d.default,{msgId:this.props.mapLoadingMessage}))}}])&&Me(t.prototype,n),r&&Me(t,r),a}(i.a.Component);Ne(Le,"propTypes",{mapType:o.a.string,map:o.a.object,layers:o.a.array,additionalLayers:o.a.array,zoomControl:o.a.bool,mapLoadingMessage:o.a.string,loadingSpinner:o.a.bool,loadingError:o.a.string,tools:o.a.array,fonts:o.a.array,options:o.a.object,mapOptions:o.a.object,projectionDefs:o.a.array,toolsOptions:o.a.object,onFontError:o.a.func,onResolutionsChange:o.a.func,actions:o.a.object,features:o.a.array,securityToken:o.a.string,shouldLoadFont:o.a.bool,elevationEnabled:o.a.bool,isLocalizedLayerStylesEnabled:o.a.bool,localizedLayerStylesName:o.a.string,currentLocaleLanguage:o.a.string,items:o.a.array,onLoadingMapPlugins:o.a.func}),Ne(Le,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","locate","scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onFontError:function(){},onResolutionsChange:function(){},items:[],onLoadingMapPlugins:function(){}});t.a=Object(c.d)("Map",{component:Object(c.c)(R,{onFontError:m.B,onResolutionsChange:m.G})(Le),reducers:{map:C.a,layers:k.a,draw:N,box:U,highlight:Y,maptype:V.a,additionallayers:J},epics:be})},"./MapStore2/web/client/plugins/MapFooter.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),s=n("./node_modules/recompose/es/Recompose.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={},j=Object(s.lifecycle)({componentDidMount:function(){if(O[this.props.id]){var e=document.getElementById(this.props.id);e&&e.parentNode&&!e.hasChildNodes()&&e.parentNode.replaceChild(O[this.props.id],e)}},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){O[this.props.id]=document.getElementById(this.props.id)}})((function(e){var t=e.id;return o.a.createElement("div",{id:t})})),S=[{element:o.a.createElement(j,{key:"attribution",id:"footer-attribution-container"})},{element:o.a.createElement(j,{key:"scalebar",id:"footer-scalebar-container"})}],w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,a=m(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){return{name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}})))}),[])})),v(g(e),"getTools",(function(){return[S[0]].concat(l(e.props.items.sort((function(e,t){return t.position-e.position}))),[S[1]])})),e}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(c.a,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return o.a.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"mapFooter",tool:function(e){return o.a.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&d(t.prototype,n),r&&d(t,r),i}(o.a.Component);v(w,"propTypes",{className:i.a.string,style:i.a.object,items:i.a.array,id:i.a.string,mapType:i.a.string}),v(w,"defaultProps",{items:[],className:"mapstore-map-footer",style:{},id:"mapstore-map-footer",mapType:"leaflet"}),t.a={MapFooterPlugin:w,reducers:{}}},"./MapStore2/web/client/plugins/MapLoading.jsx":function(e,t,n){"use strict";n("./MapStore2/web/client/plugins/maploading/maploading.css");var r=n("./node_modules/object-assign/index.js"),o=n.n(r),a=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./node_modules/prop-types/index.js"),s=n.n(c),u=n("./node_modules/react/index.js"),l=n.n(u),p=n("./node_modules/react-spinkit/dist/index.js"),f=n.n(p);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.e(30).then(n.t.bind(null,"./MapStore2/web/client/components/misc/spinners/GlobalSpinner/css/GlobalSpinner.css",7));var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,o=g(a);function a(){return b(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return this.props.loading?l.a.createElement("div",{className:this.props.className,id:this.props.id},l.a.createElement(f.a,{noFadeIn:!0,overrideSpinnerClassName:"spinner",spinnerName:this.props.spinner})):null}}])&&m(t.prototype,n),r&&m(t,r),a}(l.a.Component);O(j,"propTypes",{id:s.a.string,loading:s.a.bool,className:s.a.string,spinner:s.a.string}),O(j,"defaultProps",{id:"mapstore-globalspinner",loading:!1,className:"ms2-loading",spinner:"circle"});var S=j,w=n("./MapStore2/web/client/selectors/layers.js"),E=Object(i.a)([w.p],(function(e){return{loading:e&&e.some((function(e){return e.loading}))}})),A=Object(a.connect)(E)(S);t.a={MapLoadingPlugin:o()(A,{Toolbar:{name:"maploading",position:1,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/OmniBar.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=(n("./MapStore2/web/client/plugins/omnibar/omnibar.css"),n("./node_modules/object-assign/index.js")),s=n.n(c),u=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,a=b(i);function i(){var e;p(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(y(e=a.call.apply(a,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){var r,o;return{name:t.name+n,panel:e,cfg:(null==t||null===(r=t.cfg)||void 0===r||null===(o=r.toolsCfg)||void 0===o?void 0:o[n])||{}}})))}),[])})),h(y(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(u.a,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return o.a.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return o.a.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&f(t.prototype,n),r&&f(t,r),i}(o.a.Component);h(v,"propTypes",{className:i.a.string,style:i.a.object,items:i.a.array,id:i.a.string,mapType:i.a.string}),h(v,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"}),t.default={OmniBarPlugin:s()(v,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},"./MapStore2/web/client/plugins/Playback.jsx":function(e,t,n){"use strict";var r=n("./node_modules/object-assign/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/recompose/es/Recompose.js"),u=n("./node_modules/reselect/es/index.js"),l=n("./MapStore2/web/client/actions/playback.js"),p=n("./node_modules/moment/moment.js"),f=n.n(p),d=n("./MapStore2/node_modules/lodash/lodash.js"),b=n("./MapStore2/web/client/actions/dimension.js"),m=n("./MapStore2/web/client/actions/timeline.js"),y=n("./MapStore2/web/client/actions/layers.js"),g=n("./MapStore2/web/client/actions/notifications.js"),h=n("./MapStore2/web/client/selectors/dimension.js"),v=n("./node_modules/connected-react-router/esm/actions.js"),O=n("./MapStore2/web/client/selectors/playback.js"),j=n("./MapStore2/web/client/selectors/timeline.js");function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(r){return r.withLatestFrom(e.startWith(t)).filter((function(e){var t=S(e,2)[1];return n(t)})).map((function(e){return S(e,1)[0]}))}},A=n("./MapStore2/web/client/observables/epics.js"),x=n("./MapStore2/web/client/api/MultiDim.js"),P=n("./node_modules/rxjs/Rx.js"),T=n.n(P);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e,t){return"".concat(e,"/").concat(t)},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(j.n)(e()),r=Object(j.m)(e()),o=Object(j.p)(e()),a=Object(O.h)(e())||{},i=a.startPlaybackTime,c=a.endPlaybackTime,s=Object(O.j)(e())===l.j.PLAY||Object(O.j)(e())===l.j.PAUSE;return[o,r,"time",I({limit:20,time:i&&c&&s?N(i,c):void 0},t),Object(j.i)(n)(e())]},F=function(e,t){if(Object(j.m)(e())){var n=Object(h.e)(Object(j.k)(e()))(e()),r=Object(j.o)(e());return"multidim-extension"!==Object(d.get)(r,"source.type")&&n&&n.length>0?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromValue,o=n.limit,a=void 0===o?20:o,i=Object(O.h)(t())||{},c=i.startPlaybackTime,s=i.endPlaybackTime;return T.a.Observable.of(e.filter((function(e){return!c||!s||f()(e).isSameOrAfter(c)&&f()(e).isSameOrBefore(s)})).filter((function(e){return!r||f()(e).isAfter(r)})).slice(0,a))}(n,e,t):x.b.apply(void 0,M(L(e,t))).map((function(e){return e.DomainValues.Domain.split(",")}))}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fromValue,r=t.limit,o=void 0===r?20:r,a=t.sort,i=void 0===a?"asc":a,c=Object(O.i)(e()),s=c.timeStep,u=c.stepUnit,l=f.a.duration(s,u),p=Object(O.h)(e())||{},d=p.startPlaybackTime,b=p.endPlaybackTime,m=void 0!==n?n:d||Object(h.a)(e())||(new Date).toString(),y=[];m!==n&&y.push(f()(m).toISOString());for(var g=0;g<o&&(m=f()(m).add("asc"===i?l:-1*l),!b||m.isBefore(b));g++)y.push(m.toISOString());return T.a.Observable.of(y)}(e,t)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var n=Object(h.f)(e());return T.a.Observable.from(n.map((function(e){return Object(y.H)(e.id,{singleTile:!0})}))).concat(t).concat(T.a.Observable.from(n.map((function(e){return Object(y.H)(e.id,{singleTile:e.singleTile})}))))}},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=t.end;return n&&r&&(f()(e).isBefore(n)||f()(e).isAfter(r))},B={retrieveFramesForPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(l.f).exhaustMap((function(){return F(r,{fromValue:Object(O.h)(r())&&Object(O.h)(r()).startPlaybackTime&&Object(O.h)(r()).endPlaybackTime?void 0:Object(h.a)(r())}).map((function(e){return Object(l.v)(e)})).let(Object(A.a)(Object(l.q)(!0),Object(l.q)(!1)),(function(){return T.a.Observable.of(Object(g.f)({title:"There was an error retrieving animation",message:"Please contact the administrator"}),Object(l.w)())})).let(Object(A.a)(Object(m.r)(!1,!0),Object(m.r)(!1,!1))).concat(e.ofType(l.h).filter((function(e){return e.frame%20==10})).switchMap((function(){return F(r,{fromValue:Object(O.e)(r())}).map(l.o).let(Object(A.a)(Object(l.q)(!0),Object(l.q)(!1)))}))).takeUntil(e.ofType(l.k,v.b)).concat(T.a.Observable.of(Object(m.r)(!1,!1))).let(U(r))}))},updateCurrentTimeFromAnimation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(l.h).map((function(){return Object(O.b)(r())})).map((function(e){return e?Object(b.e)(e):Object(l.w)()}))},timeDimensionPlayback:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(l.i).exhaustMap((function(){return T.a.Observable.interval(1e3*Object(O.c)(r())).startWith(0).let(E(e.ofType(l.f,l.e).map((function(e){return e.type===l.f})))).map((function(){return Object(l.u)(Object(O.a)(r())+1)})).merge(e.ofType(l.a).map((function(e){var t=e.direction;return Object(l.u)(Math.max(0,Object(O.a)(r())+t))}))).concat(T.a.Observable.of(Object(l.w)())).takeUntil(e.ofType(l.k,v.b))}))},playbackToggleGuideLayerToFixedStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(l.l).exhaustMap((function(){return Object(j.m)(r())?T.a.Observable.of(Object(m.n)(void 0)):T.a.Observable.of(Object(m.n)(Object(d.get)(Object(j.q)(r()),"[0].id")))}))},playbackMoveStep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(l.a).filter((function(){return Object(O.j)(r())!==l.j.PLAY})).switchMap((function(e){var t=e.direction,n=void 0===t?1:t,o=Object(O.g)(r())||{},a=Object(h.a)(r());return a&&o.forTime===a?T.a.Observable.of(n>0?o.next:o.previous):F(r,{limit:1,sort:n>0?"asc":"desc",fromValue:Object(h.a)(r())}).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=_(e,1),n=t[0];return n}))})).filter((function(e){return!!e})).map((function(e){return Object(b.e)(e)}))},playbackCacheNextPreviousTimes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(b.b,b.a,m.f,l.k,m.i).filter((function(){return Object(O.j)(r())!==l.j.PLAY&&Object(O.j)(r())!==l.j.PAUSE})).filter((function(){return Object(j.n)(r())})).filter((function(e){return!!e})).switchMap((function(e){var t=e.time||Object(h.a)(r());return T.a.Observable.forkJoin(x.b.apply(void 0,M(L(r,{sort:"asc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return _(e,1)[0]})).catch((function(e){return e&&T.a.Observable.of(null)})),x.b.apply(void 0,M(L(r,{sort:"desc",limit:1,fromValue:t}))).map((function(e){return e.DomainValues.Domain.split(",")})).map((function(e){return _(e,1)[0]})).catch((function(e){return e&&T.a.Observable.of(null)}))).map((function(e){var n=_(e,2),r=n[0],o=n[1];return Object(l.y)({forTime:t,next:r,previous:o})}))}))},playbackFollowCursor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(b.a).filter((function(e){return(e.type===b.a||Object(O.j)(r())===l.j.PLAY)&&G(Object(h.a)(r()),Object(j.j)(r()))})).filter((function(){return Object(d.get)(Object(O.i)(r()),"following")})).switchMap((function(){return T.a.Observable.of(Object(m.l)((e=Object(h.a)(r()),t=Object(j.j)(r()),n=t.start,o=t.end,a=f()(o).diff(f()(n)),{start:e,end:f()(e).add(a).toISOString()})));var e,t,n,o,a}))},playbackStopWhenDeleteLayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState,r=void 0===n?function(){}:n;return e.ofType(y.s).filter((function(){return!Object(j.n)(r())&&"PLAY"===Object(O.j)(r())})).switchMap((function(){return T.a.Observable.of(Object(l.w)())}))}},z=n("./MapStore2/web/client/reducers/dimension.js"),q=n("./MapStore2/web/client/actions/controls.js"),H=n("./MapStore2/web/client/utils/ImmutableUtils.js");function Y(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W={timeStep:1,stepUnit:"days",frameDuration:2,following:!0},Q=n("./MapStore2/web/client/components/I18N/Message.jsx"),Z=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),K=n("./node_modules/react-bootstrap/es/index.js"),$=n("./MapStore2/web/client/components/widgets/widget/InfoPopover.jsx"),X=n("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),J=n("./MapStore2/web/client/components/misc/switch/SwitchButton.jsx"),ee=n("./MapStore2/web/client/components/misc/switch/SwitchPanel.jsx"),te=n("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx");function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!Object(d.isNaN)(parseInt(e,10))){var r=parseInt(e,10);return t(r<1?1:r)}return n()}catch(e){return n(e)}},ie=function(e){var t=e.startPlaybackTime,n=e.endPlaybackTime,r=f()(t).diff(n);return{startPlaybackTime:r>=0?n:t,endPlaybackTime:r>=0?t:n}};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=Object(s.compose)(Object(c.connect)(Object(u.a)(O.i,j.n,O.h,(function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fixedStep:!t,playbackRange:n},e)})),{setPlaybackRange:l.t,onSettingChange:l.p,toggleAnimationMode:l.x}),Object(s.compose)(Object(c.connect)(Object(u.a)(j.j,j.l,(function(e,t){return{layerRange:t,viewRange:e}})),{moveTo:m.l}),Object(s.withHandlers)({toggleAnimationRange:function(e){var t=e.fixedStep,n=e.layerRange,r=e.viewRange,o=void 0===r?{}:r,a=e.setPlaybackRange,i=void 0===a?function(){}:a;return function(e){var r=t?o:n;r={startPlaybackTime:f()(r&&r.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:f()(r&&r.end||new Date).add(1,"days").toISOString()},i(e?r:void 0)}},setPlaybackToCurrentViewRange:function(e){var t=e.viewRange,n=void 0===t?{}:t,r=e.setPlaybackRange,o=void 0===r?function(){}:r;return function(){n.start&&n.end&&o({startPlaybackTime:f()(n.start).toISOString(),endPlaybackTime:f()(n.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(e){var t=e.setPlaybackRange,n=void 0===t?function(){}:t,r=e.layerRange;return function(){return r&&n({startPlaybackTime:r.start,endPlaybackTime:r.end})}}}),Object(s.withProps)((function(e){var t=e.playbackRange,n=e.fixedStep,r=e.moveTo,o=void 0===r?function(){}:r,a=e.setPlaybackToCurrentViewRange,i=void 0===a?function(){}:a,c=e.setPlaybackToCurrentLayerDataRange,s=void 0===c?function(){}:c;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:t.startPlaybackTime,end:t.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return i()}},{glyph:"1-layer",visible:!n,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return s()}}]}}))))((function(e){var t=e.following,n=e.frameDuration,r=e.timeStep,o=e.stepUnit,a=e.onSettingChange,c=void 0===a?function(){}:a,s=e.toggleAnimationMode,u=void 0===s?function(){}:s,l=e.toggleAnimationRange,p=void 0===l?function(){}:l,f=e.fixedStep,d=void 0!==f&&f,b=e.playbackRange,m=void 0===b?{}:b,y=e.setPlaybackRange,g=void 0===y?function(){}:y,h=e.playbackButtons,v=e.dateSelectorStyle,O=void 0===v?{padding:0,margin:0,border:"none"}:v,j=e.style,S=void 0===j?{}:j;return i.a.createElement("div",{className:"ms-playback-settings",style:S},i.a.createElement("h4",null,i.a.createElement(Q.default,{msgId:"timeline.settings.title"})),i.a.createElement(K.FormGroup,{controlId:"timelineSettings"},i.a.createElement(K.Form,{componentClass:"fieldset",inline:!0},i.a.createElement(K.ControlLabel,null,i.a.createElement(Q.default,{msgId:"timeline.settings.snapToGuideLayer"}),"",i.a.createElement($.a,{text:i.a.createElement(Q.default,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),i.a.createElement("span",null,i.a.createElement(J.a,{checked:!d,onChange:function(){return u()}})))),i.a.createElement("h4",null,i.a.createElement(Q.default,{msgId:"playback.settings.title"})),i.a.createElement(K.FormGroup,{controlId:"frameDuration"},i.a.createElement(K.ControlLabel,null,i.a.createElement(Q.default,{msgId:"playback.settings.frameDuration"})),i.a.createElement(K.InputGroup,null,i.a.createElement(te.a,{componentClass:"input",type:"number",value:n,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ae(e,(function(e){c("frameDuration",e)}))}}),i.a.createElement(K.InputGroup.Addon,null,"s"))),i.a.createElement(K.ControlLabel,null,i.a.createElement(Q.default,{msgId:"playback.settings.step.label"}),"",i.a.createElement($.a,{text:i.a.createElement(Q.default,{msgId:"playback.settings.step.tooltip"})})),i.a.createElement(K.FormGroup,{controlId:"formPlaybackStep"},i.a.createElement(K.Form,{componentClass:"fieldset",inline:!0},i.a.createElement(te.a,{disabled:!d,componentClass:"input",type:"number",style:{input:{maxWidth:120}},value:r,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ae(e,(function(e){c("timeStep",e)}))}}),i.a.createElement(K.FormControl,{disabled:!d,componentClass:"select",value:o,onChange:function(e){var t=e.target;return c("stepUnit",(void 0===t?{}:t).value)}},i.a.createElement(Q.default,{msgId:"playback.settings.step.year",msgParams:{number:r||1}},(function(e){return i.a.createElement("option",{value:"years"},e)})),i.a.createElement(Q.default,{msgId:"playback.settings.step.week",msgParams:{number:r||1}},(function(e){return i.a.createElement("option",{value:"weeks"},e)})),i.a.createElement(Q.default,{msgId:"playback.settings.step.day",msgParams:{number:r||1}},(function(e){return i.a.createElement("option",{value:"days"},e)})),i.a.createElement(Q.default,{msgId:"playback.settings.step.hour",msgParams:{number:r||1}},(function(e){return i.a.createElement("option",{value:"hour"},e)})),i.a.createElement(Q.default,{msgId:"playback.settings.step.minute",msgParams:{number:r||1}},(function(e){return i.a.createElement("option",{value:"minutes"},e)})),i.a.createElement(Q.default,{msgId:"playback.settings.step.second",msgParams:{number:r||1}},(function(e){return i.a.createElement("option",{value:"seconds"},e)}))))),i.a.createElement(ee.a,{onSwitch:function(e){return p(e)},expanded:m.startPlaybackTime&&m.endPlaybackTime,title:i.a.createElement(Q.default,{msgId:"playback.settings.range.title"}),buttons:h},i.a.createElement(K.FormGroup,{controlId:"formPlaybackMode",style:{margin:10}},i.a.createElement(X.a,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:m.startPlaybackTime,onUpdate:function(e){return g(ie(re(re({},m),{},{startPlaybackTime:e})))},style:O,showButtons:!0}),i.a.createElement(X.a,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:m.endPlaybackTime,onUpdate:function(e){return g(ie(re(re({},m),{},{endPlaybackTime:e})))},style:O,showButtons:!0}))),i.a.createElement(K.FormGroup,{controlId:"formPlaybackFollowingMode"},i.a.createElement(K.Form,{componentClass:"fieldset",inline:!0},i.a.createElement(K.ControlLabel,null,i.a.createElement(Q.default,{msgId:"playback.settings.mode.following"}),"",i.a.createElement($.a,{text:i.a.createElement(Q.default,{msgId:"playback.settings.mode.followingDescription"})})),i.a.createElement("span",null,i.a.createElement(J.a,{checked:t,onChange:function(e){return c("following",e)}})))))})),le=Object(s.compose)(Object(s.withState)("showSettings","onShowSettings",!1),Object(s.withState)("collapsed","setCollapsed",!0),Object(s.withProps)((function(e){var t=e.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return t(!0)}}]}}))),pe=Object(u.a)(O.j,j.n,O.g,O.d,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return t?e===l.j.PLAY||e===l.j.PAUSE?r:{hasNext:!!n.next,hasPrevious:!!n.previous}:{hasNext:!0,hasPrevious:!0}})),fe=Object(s.compose)(Object(c.connect)(pe,{stepMove:l.n}),Object(s.withHandlers)({forward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(1)}},backward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(-1)}}})),de=Object(s.compose)(le,fe)((function(e){var t=e.status,n=e.statusMap,r=e.play,o=void 0===r?function(){}:r,a=e.forward,c=void 0===a?function(){}:a,s=e.backward,u=void 0===s?function(){}:s,l=e.pause,p=void 0===l?function(){}:l,f=e.stop,d=void 0===f?function(){}:f,b=e.hasPrevious,m=e.hasNext,y=e.showSettings,g=e.onShowSettings,h=void 0===g?function(){}:g,v=e.settingsStyle,O=void 0===v?{}:v;return i.a.createElement("div",{style:{display:"flex"}},t!==n.PLAY&&t!==n.PAUSE&&y&&i.a.createElement(ue,{style:O}),i.a.createElement(Z.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:u,disabled:!b,tooltip:i.a.createElement(Q.default,{msgId:"playback.backwardStep"})},{glyph:t===n.PLAY?"pause":"play",key:"play",active:t===n.PLAY||t===n.PAUSE,disabled:!m,bsStyle:t===n.PLAY||t===n.PAUSE?"success":"primary",onClick:function(){return t===n.PLAY?p():o()},tooltipId:m&&(t===n.PLAY?"playback.pause":t===n.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:t!==n.PLAY&&t!==n.PAUSE,onClick:d,tooltip:!(t!==n.PLAY&&t!==n.PAUSE)&&i.a.createElement(Q.default,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:c,disabled:!m,tooltip:m&&i.a.createElement(Q.default,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:t!==n.PLAY&&t!==n.PAUSE&&y?"success":"primary",active:(t!==n.PLAY||t!==n.PAUSE)&&!!y,disabled:t===n.PLAY||t===n.PAUSE,onClick:function(){return t!==n.PLAY&&h(!y)},tooltip:!(t===n.PLAY||t===n.PAUSE)&&i.a.createElement(Q.default,{msgId:"playback.settings.tooltip"})}]}))}));function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=Object(s.compose)(Object(s.defaultProps)({statusMap:l.j}),Object(c.connect)(Object(u.a)(O.j,h.a,O.f,(function(e,t,n){return{loading:n,currentTime:t,status:e}})),{play:l.s,pause:l.r,stop:l.w}))(de),Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,e);var t,n,r,o=he(a);function a(){return me(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return i.a.createElement("div",{className:"playback-plugin"},i.a.createElement(je,this.props))}}])&&ye(t.prototype,n),r&&ye(t,r),a}(i.a.Component);t.a={PlaybackPlugin:o()(Se,{noRoot:!0,disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:B,reducers:{playback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:l.j.STOP,currentFrame:-1,settings:W},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.f:return Object(H.e)("status",l.j.PLAY,e);case l.e:return Object(H.e)("status",l.j.PAUSE,e);case l.k:return Object(H.e)("status",l.j.STOP,Object(H.e)("currentFrame",-1,e));case l.i:return Object(H.e)("frames",t.frames,Object(H.e)("currentFrame",-1,e));case l.d:return Object(H.e)("framesLoading",t.loading,e);case l.b:return Object(H.e)("frames",[].concat(Y(e.frames||[]),Y(t.frames)),e);case l.h:return Object(H.e)("currentFrame",t.frame,e);case l.g:return Object(H.e)("playbackRange",t.range,e);case l.c:return Object(H.e)("settings[".concat(t.name,"]"),t.value,e);case l.m:return Object(H.e)("metadata",{next:t.next,previous:t.previous,forTime:t.forTime},e);case q.a:return Object(H.e)("metadata",void 0,Object(H.e)("framesLoading",void 0,Object(H.e)("playbackRange",void 0,Object(H.e)("frames",void 0,Object(H.e)("currentFrame",-1,Object(H.e)("status","STOP",Object(H.e)("settings",W,e)))))));default:return e}},dimension:z.default}}},"./MapStore2/web/client/plugins/Print.jsx":function(e,t,n){"use strict";n("./MapStore2/web/client/plugins/print/print.css");var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/object-assign/index.js"),a=n.n(o),i=n("./node_modules/prop-types/index.js"),c=n.n(i),s=n("./node_modules/react/index.js"),u=n.n(s),l=n("./node_modules/react-bootstrap/es/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/reselect/es/index.js"),d=n("./MapStore2/web/client/actions/controls.js"),b=n("./MapStore2/web/client/actions/print.js"),m=n("./MapStore2/web/client/components/I18N/Message.jsx"),y=n("./MapStore2/web/client/components/misc/Dialog.jsx");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("_")[0]};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:h,capabilities:null,map:null,isLoading:!1,pdfUrl:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.d:return"print"===t.control?a()({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case b.f:var n=Object(r.get)(t,"capabilities.layouts",[{name:"A4"}]),o=n.filter((function(t){return v(t.name)===e.spec.sheet})).length?e.spec.sheet:v(n[0].name);return a()({},e,{capabilities:t.capabilities,spec:a()({},e.spec||{},{sheet:o,resolution:t.capabilities&&t.capabilities.dpis&&t.capabilities.dpis.length&&t.capabilities.dpis[0].value})});case b.j:return a()({},e,{spec:a()({},e.spec,g({},t.name,t.value))});case b.c:var i=t.layers.map((function(e){return e.title?a()({},e,{title:Object(r.isObject)(e.title)&&t.currentLocale&&e.title[t.currentLocale]||Object(r.isObject)(e.title)&&e.title.default||e.title}):e}));return a()({},e,{map:{center:t.center,zoom:t.zoom,scaleZoom:t.scaleZoom,scale:t.scale,layers:i,projection:t.projection},error:null});case b.b:var c=t.zoom-e.map.scaleZoom;return a()({},e,{map:a()({},e.map,{scaleZoom:t.zoom,zoom:e.map.zoom+c,scale:t.scale})});case b.a:return a()({},e,{map:a()({},e.map,{size:t.size})});case b.i:return a()({},e,{isLoading:!0,pdfUrl:null,error:null});case b.g:return a()({},e,{isLoading:!1,pdfUrl:t.url,error:null});case b.h:case b.e:return a()({},e,{isLoading:!1,pdfUrl:null,error:t.error});case b.d:return a()({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}},j=n("./MapStore2/web/client/selectors/layers.js"),S=n("./MapStore2/web/client/selectors/locale.js"),w=n("./MapStore2/web/client/selectors/localizedLayerStyles.js"),E=n("./MapStore2/web/client/selectors/map.js"),A=n("./MapStore2/web/client/selectors/maptype.js"),x=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),P=n("./MapStore2/web/client/utils/LocaleUtils.js"),T=n("./MapStore2/web/client/utils/MapUtils.js");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={PrintPlugin:a()({loadPlugin:function(e){Promise.all([n.e(0),n.e(3),n.e(4),n.e(5),n.e(15)]).then(function(){var t=n("./MapStore2/web/client/plugins/print/index.js").default,o=t.Name,i=t.Description,s=t.Resolution,g=t.DefaultBackgroundOption,h=t.Sheet,v=t.LegendOption,O=t.MultiPageOption,_=t.LandscapeOption,M=t.ForceLabelsOption,k=t.AntiAliasingOption,U=t.IconSizeOption,B=t.LegendDpiOption,q=t.Font,H=t.MapPreview,Y=t.PrintSubmit,V=t.PrintPreview,W=n("./MapStore2/web/client/utils/PrintUtils.js"),Q=W.preloadData,Z=W.getMapfishPrintSpecification,K=W.getLayoutName,$=W.getPrintScales,X=W.getNearestZoom,J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(f,e);var t,n,c,p=F(f);function f(){var e;D(this,f);for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return z(G(e=p.call.apply(p,[this].concat(n))),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),z(G(e),"getLayout",(function(){var t=e.props.getLayoutName(e.props.printSpec);return Object(r.head)(e.props.capabilities.layouts.filter((function(e){return e.name===t})))})),z(G(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return u.a.createElement(t.component,{key:"printoption_"+t.name,label:Object(P.f)(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),z(G(e),"renderPreviewPanel",(function(){return u.a.createElement(V,I({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),z(G(e),"renderError",(function(){return e.props.error?u.a.createElement(l.Row,null,u.a.createElement(l.Col,{xs:12},u.a.createElement("div",{className:"print-error"},u.a.createElement("span",null,e.props.error)))):null})),z(G(e),"renderWarning",(function(e){return e?null:u.a.createElement(l.Row,null,u.a.createElement(l.Col,{xs:12},u.a.createElement("div",{className:"print-warning"},u.a.createElement("span",null,u.a.createElement(m.default,{msgId:"print.layoutWarning"})))))})),z(G(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.props.getLayoutName(e.props.printSpec),r=e.getMapSize(t);return u.a.createElement(l.Grid,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),u.a.createElement(l.Row,null,u.a.createElement(l.Col,{xs:12,md:6},u.a.createElement(o,{label:Object(P.f)(e.context.messages,"print.title"),placeholder:Object(P.f)(e.context.messages,"print.titleplaceholder")}),u.a.createElement(i,{label:Object(P.f)(e.context.messages,"print.description"),placeholder:Object(P.f)(e.context.messages,"print.descriptionplaceholder")}),u.a.createElement(l.Accordion,{defaultActiveKey:"1"},u.a.createElement(l.Panel,{className:"print-layout",header:Object(P.f)(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},u.a.createElement(h,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:Object(P.f)(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),u.a.createElement(l.Panel,{className:"print-legend-options",header:Object(P.f)(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},u.a.createElement(q,{label:Object(P.f)(e.context.messages,"print.legend.font")}),u.a.createElement(M,{label:Object(P.f)(e.context.messages,"print.legend.forceLabels")}),u.a.createElement(k,{label:Object(P.f)(e.context.messages,"print.legend.antiAliasing")}),u.a.createElement(U,{label:Object(P.f)(e.context.messages,"print.legend.iconsSize")}),u.a.createElement(B,{label:Object(P.f)(e.context.messages,"print.legend.dpi")})))),u.a.createElement(l.Col,{xs:12,md:6,style:{textAlign:"center"}},u.a.createElement(s,{label:Object(P.f)(e.context.messages,"print.resolution")}),u.a.createElement(H,I({width:r.width,height:r.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:n,layoutSize:t&&t.map||{width:10,height:10},resolutions:Object(T.getResolutions)(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?u.a.createElement(g,{label:Object(P.f)(e.context.messages,"print.defaultBackground")}):null,u.a.createElement(Y,I({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),z(G(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?u.a.createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),z(G(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),z(G(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),z(G(e),"isBackgroundIgnored",(function(){return e.props.layers.filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),z(G(e),"filterLayers",(function(t){var n=e.props.layers.filter((function(t){return t.visibility&&e.isAllowed(t)}));if(e.isBackgroundIgnored()&&e.props.defaultBackground&&t.defaultBackground){var r=e.props.layers.filter((function(t){return t.type===e.props.defaultBackground}))[0];return[a()({},r,{visibility:!0})].concat(C(n))}return n})),z(G(e),"configurePrintMap",(function(t,n){var r=t||e.props.map,o=n||e.props.printSpec;if(r&&r.bbox&&e.props.capabilities){var a=Object(x.reprojectBbox)([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),i=e.getMapSize();if(e.props.useFixedScales){var c=e.props.getZoomForExtent(a,i,e.props.minZoom,e.props.maxZoom),s=$(e.props.capabilities),u=X(r.zoom,s);e.props.configurePrintMap(r.center,c,u,s[u],e.filterLayers(o),r.projection,e.props.currentLocale)}else e.props.configurePrintMap(r.center,r.zoom,r.zoom,e.props.scales[r.zoom],e.filterLayers(o),r.projection,e.props.currentLocale)}})),z(G(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=R(R({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var n=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,R(R({},n),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=f,(n=[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.usePreview&&!window.PDFJS){var e=document.createElement("script");e.type="text/javascript",e.src="https://unpkg.com/pdfjs-dist@1.4.79/build/pdf.combined.js",document.head.appendChild(e)}this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&Object(T.mapUpdated)(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e.map,e.printSpec)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?u.a.createElement(l.Panel,{className:"mapstore-print-panel",header:u.a.createElement("span",null,u.a.createElement("span",{className:"print-panel-title"},u.a.createElement(m.default,{msgId:"print.paneltitle"})),u.a.createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):u.a.createElement(y.a,{id:"mapstore-print-panel",style:R({left:"17%",top:"50px",zIndex:1990},this.props.style)},u.a.createElement("span",{role:"header"},u.a.createElement("span",{className:"print-panel-title"},u.a.createElement(m.default,{msgId:"print.paneltitle"})),u.a.createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?u.a.createElement(l.Glyphicon,{glyph:this.props.closeGlyph}):u.a.createElement("span",null,""))),this.renderBody()):this.renderBody():null}}])&&N(t.prototype,n),c&&N(t,c),f}(u.a.Component);z(J,"propTypes",{map:c.a.object,layers:c.a.array,capabilities:c.a.object,printSpec:c.a.object,printSpecTemplate:c.a.object,withContainer:c.a.bool,withPanelAsContainer:c.a.bool,open:c.a.bool,pdfUrl:c.a.string,title:c.a.string,style:c.a.object,mapWidth:c.a.number,mapType:c.a.string,alternatives:c.a.array,toggleControl:c.a.func,onBeforePrint:c.a.func,setPage:c.a.func,onPrint:c.a.func,printError:c.a.func,configurePrintMap:c.a.func,preloadData:c.a.func,getPrintSpecification:c.a.func,getLayoutName:c.a.func,error:c.a.string,getZoomForExtent:c.a.func,minZoom:c.a.number,maxZoom:c.a.number,usePreview:c.a.bool,mapPreviewOptions:c.a.object,syncMapPreview:c.a.bool,useFixedScales:c.a.bool,scales:c.a.array,ignoreLayers:c.a.array,defaultBackground:c.a.string,closeGlyph:c.a.string,submitConfig:c.a.object,previewOptions:c.a.object,currentLocale:c.a.string,currentLocaleLanguage:c.a.string,overrideOptions:c.a.object,isLocalizedLayerStylesEnabled:c.a.bool,localizedLayerStylesEnv:c.a.object}),z(J,"contextTypes",{messages:c.a.object}),z(J,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:Q,getPrintSpecification:Z,getLayoutName:K,getZoomForExtent:T.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:v,regex:/legend/},{name:"2pages",component:O,regex:/2_pages/},{name:"landscape",component:_,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var ee=Object(f.a)([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&a()({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},E.l,j.p,E.p,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},S.b,S.a,A.c,w.b,w.c],(function(e,t,n,r,o,a,i,c,s,u,l,p,f,d){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:a,layers:i.filter((function(e){return!e.loadingError})),scales:c,usePreview:s,currentLocale:u,currentLocaleLanguage:l,mapType:p,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:d}})),te=Object(p.connect)(ee,{toggleControl:d.h.bind(null,"print",null),onPrint:b.q,printError:b.p,onBeforePrint:b.r,setPage:d.g.bind(null,"print","currentPage"),configurePrintMap:b.m})(J);e(te)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:u.a.createElement(m.default,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:u.a.createElement(l.Glyphicon,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:u.a.createElement(m.default,{msgId:"printbutton"}),icon:u.a.createElement(l.Glyphicon,{glyph:"print"}),action:d.h.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:O}}},"./MapStore2/web/client/plugins/ScaleBox.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./MapStore2/web/client/utils/PluginsUtils.js"),i=n("./node_modules/reselect/es/index.js"),c=n("./MapStore2/web/client/selectors/map.js"),s=n("./MapStore2/web/client/actions/map.js"),u=n("./node_modules/react-redux/es/index.js"),l=n("./MapStore2/web/client/actions/help.js"),p=n("./node_modules/prop-types/index.js"),f=n.n(p),d=n("./MapStore2/web/client/components/help/HelpBadge.jsx");n("./MapStore2/web/client/components/help/help.css");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j,S,w,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(i,e);var t,n,r,a=h(i);function i(){return m(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{id:this.props.id},o.a.createElement(d.a,{id:"helpbadge-"+(this.props.children.key||this.props.id),isVisible:this.props.helpEnabled,helpText:this.props.helpText,changeHelpText:this.props.changeHelpText,changeHelpwinVisibility:this.props.changeHelpwinVisibility}),this.props.children)}}])&&y(t.prototype,n),r&&y(t,r),i}(o.a.Component);j=E,S="propTypes",w={id:f.a.string,helpText:f.a.oneOfType([f.a.string,f.a.element]),helpEnabled:f.a.bool,changeHelpText:f.a.func,changeHelpwinVisibility:f.a.func},S in j?Object.defineProperty(j,S,{value:w,enumerable:!0,configurable:!0,writable:!0}):j[S]=w;var A=E,x=Object(u.connect)((function(e){return{helpEnabled:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:l.d,changeHelpwinVisibility:l.e})(A),P=n("./MapStore2/web/client/plugins/locale/Message.jsx"),T=n("./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx"),_=n("./MapStore2/web/client/utils/MapUtils.js"),M=n("./node_modules/object-assign/index.js"),R=n.n(M);n("./MapStore2/web/client/plugins/scalebox/scalebox.css");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=Object(i.a)([c.l,c.m],(function(e,t){return{minZoom:t,currentZoomLvl:e&&e.zoom,scales:Object(_.getScales)(e&&e.projection||"EPSG:3857",e&&e.mapOptions&&e.mapOptions.view&&e.mapOptions.view.DPI||null)}})),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(i,e);var t,n,r,a=L(i);function i(){return I(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(x,{id:"mapstore-scalebox-container",key:"scalebox-help",helpText:o.a.createElement(P.a,{msgId:"helptexts.scaleBox"})},o.a.createElement(T.a,k({key:"scaleBox",label:o.a.createElement(P.a,{msgId:"mapScale"})},this.props)))}}])&&D(t.prototype,n),r&&D(t,r),i}(o.a.Component),z=Object(a.c)(G,{onChange:s.z})(B);t.a={ScaleBoxPlugin:R()(z,{disablePluginIf:"{state('mapType') === 'cesium'}"},{MapFooter:{name:"scale",position:2,tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/Timeline.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/moment/moment.js"),a=n.n(o),i=n("./node_modules/object-assign/index.js"),c=n.n(i),s=n("./node_modules/react/index.js"),u=n.n(s),l=n("./node_modules/react-bootstrap/es/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/recompose/es/Recompose.js"),d=n("./node_modules/reselect/es/index.js"),b=n("./MapStore2/web/client/actions/dimension.js"),m=n("./MapStore2/web/client/actions/playback.js"),y=n("./MapStore2/web/client/actions/timeline.js"),g=n("./MapStore2/web/client/components/I18N/Message.jsx"),h=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx"),v=n("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js"),O=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),j=n("./MapStore2/web/client/components/time/InlineDateTimeSelector.jsx"),S=n("./MapStore2/web/client/selectors/dimension.js"),w=n("./MapStore2/web/client/selectors/maplayout.js"),E=n("./MapStore2/web/client/selectors/playback.js"),A=n("./MapStore2/web/client/selectors/timeline.js"),x=n("./MapStore2/web/client/utils/ReselectUtils.js"),P=n("./MapStore2/web/client/components/misc/enhancers/withMask.js"),T=n("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),_=n("./MapStore2/web/client/utils/TimeUtils.js");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e,t){return a()(t).diff(e)>0},I=Object(f.withHandlers)({clickHandler:function(e){var t=e.selectedLayer,n=e.offsetEnabled,o=e.status,a=e.setCurrentTime,i=void 0===a?function(){}:a,c=e.selectGroup,s=void 0===c?function(){}:c;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.time,c=e.group,u=e.what,l=e.event;if("PLAY"!==o)switch(u){case"group-label":c&&"PLAY"!==o&&s(c);break;default:var p=l&&l.target&&l.target.closest(".vis-custom-time"),f=p&&p.getAttribute("class"),d=f&&Object(r.trim)(f.replace("vis-custom-time",""));a&&!n&&"startPlaybackTime"!==d&&"endPlaybackTime"!==d&&i(a.toISOString(),t)}}},timechangedHandler:function(e){var t=e.currentTime,n=e.setOffset,r=void 0===n?function(){}:n,o=e.setCurrentTime,a=void 0===o?function(){}:o,i=e.currentTimeRange,c=void 0===i?{}:i,s=e.playbackRange,u=e.setPlaybackRange,l=void 0===u?function(){}:u,p=e.selectedLayer;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.time,o=e.id;if("startPlaybackTime"!==o&&"endPlaybackTime"!==o)"currentTime"===o&&(c.end?k(n,c.end)?a(n.toISOString(),null):(a(c.end),r(n.toISOString())):a(n.toISOString(),p)),"offsetTime"===o&&(k(t,n)?r(n.toISOString()):(a(n.toISOString()),r(t)));else{var i=R(R({},s),{},C({},o,n.toISOString())),u=Object(_.e)(i.startPlaybackTime,i.endPlaybackTime),f=u.start,d=u.end;k(f,d)&&l({startPlaybackTime:f,endPlaybackTime:d})}}}});function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=Object(f.compose)(Object(f.withPropsOnChange)(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(e){var t=e.rangeItems,n=void 0===t?[]:t,r=e.playbackEnabled,o=e.playbackRange;return{rangeItems:r&&o&&void 0!==o.startPlaybackTime&&void 0!==o.endPlaybackTime?[].concat(F(n),[N(N({id:"playback-range"},Object(_.e)(o.startPlaybackTime,o.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(e){return e})):n}})),Object(f.compose)(Object(f.withHandlers)({onUpdate:function(e){var t=e.moveCurrentRange,n=void 0===t?function(){}:t;return function(e){var t=e.id,r=e.start;"current-range"===t&&n(r.toISOString())}}}),Object(f.withPropsOnChange)(["options","onUpdate"],(function(e){var t=e.options,n=void 0===t?{}:t,r=e.onUpdate,o=void 0===r?function(){}:r;return{options:N(N({},n),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;o(e),t(e)}})}})),Object(f.withPropsOnChange)(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(e){var t=e.currentTimeRange,n=e.rangeItems,r=void 0===n?[]:n,o=e.readOnly;return{rangeItems:e.offsetEnabled&&void 0!==t.start&&void 0!==t.end?[].concat(F(r),[N(N({id:"current-range",editable:{updateTime:!o,updateGroup:!1,remove:!1}},Object(_.e)(t.start,t.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(e){return e})):r}}))),Object(f.withPropsOnChange)(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(e){var t=e.currentTime,n=e.playbackRange,r=e.playbackEnabled,o=e.offsetEnabled,a=e.currentTimeRange;return{customTimes:[t?{currentTime:t}:{},r&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},o&&a?{offsetTime:a.end}:{}].reduce((function(e,t){return t?N(N({},e),t):N({},e)}),{})}}))),B=n("./node_modules/prop-types/index.js"),z=n.n(B),q=n("./node_modules/vis/dist/vis-timeline-graph2d.min.js"),H=n.n(q);n("./node_modules/vis/dist/vis-timeline-graph2d.min.css");function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var o=J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}H.a.timeline.components.items.BackgroundItem.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)};var te=function(){},ne=["currentTimeTick","click","contextmenu","doubleClick","groupDragged","changed","rangechange","rangechanged","select","drop","timechange","timechanged","mouseOver","mouseMove","mouseleave","itemover","itemout","mouseDown","mouseUp"],re={},oe={};Object(r.each)(ne,(function(e){return re[e]=z.a.func,oe["".concat(e,"Handler")]=te,[re,oe]}));var ae={items:z.a.array,rangeItems:z.a.array,groups:z.a.array,options:z.a.object,selectionOptions:z.a.object,selection:z.a.array,customTimes:z.a.shape({datetime:z.a.instanceOf(Date),id:z.a.string}),animate:z.a.oneOfType([z.a.bool,z.a.object]),currentTime:z.a.oneOfType([z.a.string,z.a.instanceOf(Date),z.a.number])},ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(c,e);var t,n,o,i=K(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),ee(X(t=i.call(this,e)),"setAllItems",(function(e){t.$el.setItems([].concat(V(e||[]),V(t.props.rangeItems||[])))})),ee(X(t),"setItems",(function(e){(e.length||0)+(t.props.rangeItems&&t.props.rangeItems.length||0)>0?t.$el.initialFitDone?t.setAllItems(e):(t.setAllItems(e),t.$el.emit("changed")):t.$el.initialRangeChangeDone&&t.setAllItems(e)})),t.state={customTimes:[]},t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.refs.container;this.$el=new H.a.Timeline(t,void 0,this.props.options),ne.forEach((function(t){return e.$el.on(t,e.props["".concat(t,"Handler")])})),this.init()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.items,r=t.groups,o=t.options,a=t.selection,i=t.customTimes,c=t.readOnly,s=t.rangeItems,u=n!==e.items,l=r!==e.groups,p=o!==e.options,f=i!==e.customTimes,d=a!==e.selection,b=c!==e.readOnly,m=s!==e.rangeItems;return u||l||p||f||d||b||m}},{key:"componentDidUpdate",value:function(e){this.init(e)}},{key:"componentWillUnmount",value:function(){this.$el.destroy()}},{key:"render",value:function(){return u.a.createElement("div",{ref:"container",className:this.props.readOnly?"read-only-timeline":"",onMouseOut:this.props.onMouseOutHandler})}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,o=n.items,i=n.rangeItems,c=n.groups,s=n.options,u=n.selection,l=n.selectionOptions,p=void 0===l?{}:l,f=n.customTimes,d=n.animate,b=void 0===d||d,m=n.currentTime,y=s;if(b&&(y=Object(r.omit)(s,"start","end"),s.start&&s.end?this.$el.setWindow(s.start,s.end,{animation:b}):this.$el.setWindow(a()().subtract(1,"month"),a()().add(1,"month"),{animation:b})),this.$el.setOptions(y),c.length>0){var g=new H.a.DataSet;g.add(c),this.$el.setGroups(g)}if(o&&o!==t.items)this.setItems(o);else if(i!==t.rangeItems){var h=this.$el&&this.$el.itemsData&&this.$el.itemsData.getDataSet();if(h){var v=Object(r.intersectionBy)(i||[],t.rangeItems||[],"id"),O=Object(r.differenceBy)(i||[],t.rangeItems||[],"id"),j=Object(r.differenceBy)(t.rangeItems||[],i||[],"id");v.map((function(e){return h.update(e)})),O.map((function(e){return h.add(e)})),j.map((function(e){var t=e.id;return h.remove(t)}))}else this.setItems(o)}this.$el.setSelection(u,p),m&&this.$el.setCurrentTime(m);var S=Object(r.keys)(this.state.customTimes),w=Object(r.keys)(f),E=Object(r.difference)(w,S),A=Object(r.difference)(S,w),x=Object(r.intersection)(S,w);Object(r.each)(A,(function(t){return e.$el.removeCustomTime(t)})),Object(r.each)(E,(function(t){var n=f[t];e.$el.addCustomTime(n,t)})),Object(r.each)(x,(function(t){var n=f[t];e.$el.setCustomTime(n,t)})),this.setState({customTimes:f}),(this.props.readOnly!==t.readOnly||this.props.readOnly&&E.length>0)&&Object(r.each)(this.$el.customTimes,(function(n){e.props.readOnly?n.hammer.off("panstart panmove panend"):!0===t.readOnly&&(n.hammer.on("panstart",n._onDragStart.bind(n)),n.hammer.on("panmove",n._onDrag.bind(n)),n.hammer.on("panend",n._onDragEnd.bind(n)))}))}}])&&Q(t.prototype,n),o&&Q(t,o),c}(u.a.Component);ee(ie,"propTypes",Object(r.assign)(ae,re)),ee(ie,"defaultProps",Object(r.assign)({items:[],groups:[],options:{},selection:[],customTimes:{}},oe));var ce=ie;function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=Object(x.b)((function(e,t){return e===t||!Object(r.isNil)(e)&&!Object(r.isNil)(t)&&e.id===t.id&&e.title===t.title&&e.name===t.name}))(A.q,(function(e){return e})),fe=Object(f.compose)(Object(p.connect)(Object(d.a)(A.j,A.g,pe,A.h,(function(e,t,n,r){return{viewRange:e,items:t,layers:n,loading:r}}))),Object(f.withPropsOnChange)((function(e,t){var n=e.layers,o=void 0===n?[]:n,a=e.loading,i=e.selectedLayer,c=t.layers,s=t.loading,u=t.selectedLayer,l=e.hideLayersName!==t.hideLayersName;return a!==s||i!==u||l||o&&c&&o.length!==c.length||Object(r.differenceBy)(o,c||[],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.title,r=e.name;return t+n+r})).length>0}),(function(e){var t=e.layers,n=void 0===t?[]:t,o=e.loading,a=void 0===o?{}:o,i=e.selectedLayer;return{groups:n.map((function(e){return{id:e.id,className:(a[e.id]?"loading":"")+(e.id&&e.id===i?" selected":""),content:'<div class="timeline-layer-label-container">'+(a[e.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(e.id&&e.id===i?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(Object(r.isString)(e.title)?e.title:e.name,"</div>")+"</div>"}}))}}))),de=Object(f.compose)(Object(p.connect)(Object(d.a)(S.a,A.a,(function(e,t){return{currentTime:e,currentTimeRange:t}})),{setCurrentTime:y.o,moveCurrentRange:b.e,setOffset:b.f})),be=Object(f.compose)(Object(p.connect)(Object(d.c)({playbackRange:E.h,status:E.j}),{setPlaybackRange:m.t})),me=Object(f.compose)(Object(p.connect)(Object(d.a)(A.n,(function(e){return{selectedLayer:e}})),{selectGroup:y.n})),ye=Object(f.compose)(Object(p.connect)((function(){return{}}),{rangechangedHandler:y.l})),ge=Object(f.compose)(de,be,me,I,ye,fe,Object(f.defaultProps)({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(e){return a()(e).utc()}}}),Object(f.withPropsOnChange)(["viewRange","options"],(function(e){var t=e.viewRange,n=void 0===t?{}:t;return{options:ue(ue({},e.options),n)}})),Object(f.withPropsOnChange)(["status"],(function(e){return{readOnly:"PLAY"===e.status}})),G,Object(P.a)((function(e){var t=e.loading;return t&&t.timeline}),(function(){return u.a.createElement("div",{style:{margin:"auto",fontWeight:"bold"}},u.a.createElement(T.a,{style:{display:"inline-block",verticalAlign:"middle"}}),u.a.createElement(g.default,{msgId:"loading"}))}),{white:!0}))(ce),he=n("./node_modules/rxjs/Rx.js"),ve=n.n(he),Oe=n("./MapStore2/web/client/components/data/featuregrid/enhancers/withPopover.js");function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=Object(f.compose)(Object(f.withProps)({collapseHintPopoverOptions:{placement:"top",props:{title:u.a.createElement("span",null,u.a.createElement(l.Glyphicon,{glyph:"time"})," ",u.a.createElement("strong",null,u.a.createElement(g.default,{msgId:"timeline.collapsed.title"})))},content:u.a.createElement(g.default,{msgId:"timeline.collapsed.tooltip"})}}),Object(f.mapPropsStream)((function(e){return e.combineLatest(function(e){return e.distinctUntilKeyChanged("collapsed").filter((function(e){return e.collapsed})).take(1).switchMap((function(e){var t=e.collapseHintPopoverOptions;return ve.a.Observable.timer(5e3).startWith({popoverOptions:t}).concat(ve.a.Observable.of({}))})).startWith({})}(e),(function(e,t){return we(we({},e),t)}))})),Object(f.branch)((function(e){return e.popoverOptions}),Oe.a,h.a))(l.Button),xe=Object(f.compose)(Object(p.connect)(Object(d.a)(A.d,A.b,(function(e,t){return{collapsed:e,visible:t}})),{setCollapsed:y.p}),Object(f.branch)((function(e){return!e.visible}),f.renderNothing),Object(f.withHandlers)({onClick:function(e){var t=e.collapsed,n=e.setCollapsed;return function(){return n(!t)}}}),Object(f.withProps)((function(e){var t=e.collapsed;return{bsStyle:t?"primary":"success",tooltipId:t?"timeline.show":"timeline.hide"}})))((function(e){return u.a.createElement(Ae,je({},e,{bsSize:"xsmall"}),u.a.createElement(l.Glyphicon,{glyph:"time"}))}));function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=Object(h.a)(l.Button),Ce=function(e){return Object(r.isString)(e)&&-1!==e.indexOf("%")},ke=function(e){return parseInt(e,10)/100},Ie=function(e,t){return a()(t).diff(e)>0},De=Object(f.compose)(Object(p.connect)(Object(d.a)(A.f,A.q,S.a,A.a,S.g,E.h,E.j,A.j,(function(e,t,n,r,o,a,i,c){return{visible:e,layers:t,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:a,status:i,viewRange:c}})),{setCurrentTime:y.o,onOffsetEnabled:y.k,setOffset:b.f,setPlaybackRange:m.t,moveRangeTo:y.l}),Object(f.branch)((function(e){var t=e.visible,n=void 0===t||t,r=e.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length}),f.renderNothing),Object(f.withState)("options","setOptions",{collapsed:!0}),Object(p.connect)(Object(d.a)(A.e,(function(e){return{mapSync:e}})),{toggleMapSync:y.q}),Object(f.compose)(Object(f.compose)(Object(f.withStateHandlers)((function(){return{}}),{onResize:function(){return function(e){return{containerWidth:e.width}}}}),Object(v.a)({querySelector:".ms2",closest:!0,debounceTime:100})),Object(f.defaultProps)({style:{marginBottom:35,marginLeft:100,marginRight:80}}),Object(p.connect)(Object(d.a)((function(e){return Object(w.c)(e,{right:!0,bottom:!0,left:!0})}),(function(e){return{mapLayoutStyle:e}}))),Object(f.withProps)((function(e){var t=e.containerWidth,n=e.style,r=e.mapLayoutStyle,o=n||{},a=o.marginLeft,i=o.marginRight,c=r.left,s=void 0===c?0:c,u=r.right,l=void 0===u?0:u;l=Ce(l)&&ke(l)*t||l,s=Ce(s)&&ke(s)*t||s;if(t){var p=t-l-s-a-i;return{hide:p<410,compactToolbar:p<880,style:_e(_e(_e({},n),r),{},{minWidth:410})}}return{style:_e(_e(_e({},n),r),{},{minWidth:410})}})),Object(f.branch)((function(e){return e.hide}),f.renderNothing),Object(f.setDisplayName)("TimelinePlugin")))((function(e){var t=e.items,n=e.options,o=e.setOptions,i=e.mapSync,c=e.toggleMapSync,s=void 0===c?function(){}:c,p=e.currentTime,f=e.setCurrentTime,d=e.offsetEnabled,b=e.onOffsetEnabled,m=e.currentTimeRange,y=e.setOffset,h=e.style,v=e.status,S=e.viewRange,w=e.moveRangeTo,E=e.compactToolbar,A=n.hideLayersName,x=n.collapsed,P=Object(r.head)(t&&t.filter((function(e){return"playback"===e.name}))),T=P&&P.plugin,_=function(e,t,n,r){var o=a()(n.end).diff(n.start)/2;if("time-current"===t&&n&&n.start.toString()!==a()(e).add(-1*o).toString()&&n.end.toString()!==a()(e).add(o).toString()&&w({start:a()(e).add(-1*o),end:a()(e).add(o)}),"range-start"===t||"range-end"===t){var i=a()(r.end).diff(r.start),c=a()(r.start).add(i/2);w(i/2<=o?{start:a()(c).add(-1*o),end:a()(c).add(o)}:{start:a()(c).add(-1*i*5/2),end:a()(c).add(5*i/2)})}};return u.a.createElement("div",{style:_e(_e({position:"absolute",marginBottom:35,marginLeft:100,background:"transparent"},h),{},{right:x?"auto":h.right||0}),className:"timeline-plugin".concat(A?" hide-layers-name":"").concat(d?" with-time-offset":"")},d&&u.a.createElement(j.a,{clickable:!x,glyph:"range-start",onIconClick:function(e,t){return"PLAY"!==v&&_(e,t,S,m)},tooltip:u.a.createElement(g.default,{msgId:"timeline.rangeStart"}),showButtons:!0,date:p||m&&m.start,onUpdate:function(e){return(m&&Ie(e,m.end)||!m)&&"PLAY"!==v&&f(e)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),u.a.createElement("div",{className:"timeline-plugin-toolbar".concat(E?" ms-collapsed":"")},d&&m?u.a.createElement(j.a,{clickable:!x,glyph:"range-end",onIconClick:function(e,t){return"PLAY"!==v&&_(e,t,S,m)},tooltip:u.a.createElement(g.default,{msgId:"timeline.rangeEnd"}),date:m.end,showButtons:!0,onUpdate:function(e){return"PLAY"!==v&&Ie(p,e)&&y(e)}}):u.a.createElement(j.a,{clickable:!x,glyph:"time-current",showButtons:!0,onIconClick:function(e,t){return"PLAY"!==v&&_(e,t,S)},tooltip:u.a.createElement(g.default,{msgId:"timeline.currentTime"}),date:p||m&&m.start,onUpdate:function(e){return(m&&Ie(e,m.end)||!m)&&"PLAY"!==v&&f(e)}}),u.a.createElement("div",{className:"timeline-plugin-btn-group"},u.a.createElement(O.a,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:u.a.createElement(g.default,{msgId:A?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:A?"primary":"success",visible:!x,active:!A,onClick:function(){return o(_e(_e({},n),{},{hideLayersName:!A}))}},{glyph:"time-offset",bsStyle:d?"success":"primary",active:d,disabled:"PLAY"===v,tooltip:u.a.createElement(g.default,{msgId:d?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==v&&b(!d)}},{glyph:"map-synch",tooltip:u.a.createElement(g.default,{msgId:i?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:i?"success":"primary",active:i,onClick:function(){return s(!i)}}]}),T&&u.a.createElement(T,Pe({},P,{settingsStyle:{right:x||E?40:"unset"}}))),u.a.createElement(Re,{onClick:function(){return o(_e(_e({},n),{},{collapsed:!x}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:u.a.createElement(g.default,{msgId:x?"timeline.expand":"timeline.collapse"})},u.a.createElement(l.Glyphicon,{glyph:x?"chevron-up":"chevron-down"}))),!x&&u.a.createElement(ge,{offsetEnabled:d,playbackEnabled:!0,hideLayersName:A}))}));t.a={TimelinePlugin:c()(De,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:u.a.createElement(xe,null),position:0}}),reducers:{dimension:n("./MapStore2/web/client/reducers/dimension.js").default,timeline:n("./MapStore2/web/client/reducers/timeline.js").default},epics:n("./MapStore2/web/client/epics/timeline.js").default}},"./MapStore2/web/client/plugins/Toolbar.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),i=n.n(a),c=n("./node_modules/react-redux/es/index.js"),s=(n("./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css"),n("./node_modules/react-transition-group/index.js")),u=n("./MapStore2/web/client/selectors/featuregrid.js"),l=n("./MapStore2/web/client/selectors/maplayout.js"),p=n("./node_modules/reselect/es/index.js"),f=n("./node_modules/object-assign/index.js"),d=n.n(f),b=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return j(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=h(e,["children"]);return o.a.createElement(s.CSSTransitionGroup,g({},n,{transitionName:"toolbarexpand",transitionEnterTimeout:500,transitionLeaveTimeout:300}),t)}}]),n}(o.a.Component),_=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return j(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=h(e,["children"]);return o.a.createElement("div",n,t)}}]),n}(o.a.Component),M=function(e){S(n,e);var t=E(n);function n(){var e;v(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return y(x(e=t.call.apply(t,[this].concat(o))),"getPanel",(function(e){return!0===e.panel?e.plugin:e.panel})),y(x(e),"getPanels",(function(){return e.getTools().filter((function(e){return e.panel})).map((function(t){return{name:t.name,title:t.title,cfg:t.cfg,panel:e.getPanel(t),items:t.items,wrap:t.wrap||!1}}))})),y(x(e),"getTools",(function(){var t=e.props.items.filter((function(e){return!e.alwaysVisible}))||[];return e.props.items.filter((function(n){return n.alwaysVisible||1===t.length||e.props.allVisible})).filter((function(t){return!t.showWhen||t.showWhen(e.props)})).map((function(e,t){return d()({},e,{position:e.position||t})})).sort((function(e,t){return e.position-t.position}))})),e}return j(n,[{key:"render",value:function(){var e=this.props.disableAnimation?_:T;return o.a.createElement(b.a,{id:this.props.id,className:"mapToolbar btn-group-"+this.props.layout,toolCfg:this.props.btnConfig,container:e,mapType:this.props.mapType,toolStyle:this.props.buttonStyle,activeStyle:this.props.pressedButtonStyle,toolSize:this.props.buttonSize,stateSelector:this.props.stateSelector,tools:this.getTools(),panels:this.getPanels(),activePanel:this.props.active,style:this.props.style,panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}]),n}(o.a.Component);y(M,"propTypes",{id:i.a.string,tools:i.a.array,mapType:i.a.string,style:i.a.object,panelStyle:i.a.object,panelClassName:i.a.string,disableAnimation:i.a.bool,active:i.a.string,items:i.a.array,allVisible:i.a.bool,layout:i.a.string,stateSelector:i.a.string,buttonStyle:i.a.string,buttonSize:i.a.string,pressedButtonStyle:i.a.string,btnConfig:i.a.object}),y(M,"contextTypes",{messages:i.a.object,router:i.a.object}),y(M,"defaultProps",{id:"mapstore-toolbar",style:{},panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto",left:"450px"},panelClassName:"toolbar-panel",disableAnimation:!1,items:[],allVisible:!0,layout:"vertical",stateSelector:"toolbar",buttonStyle:"primary",buttonSize:null,pressedButtonStyle:"success",btnConfig:{className:"square-button"}});var R=function(e){return Object(p.a)([function(t){return t.controls&&t.controls[e]&&t.controls[e].active},function(t){return t.controls&&t.controls[e]&&t.controls[e].expanded},u.o,function(e){return Object(l.c)(e,{right:!0,bottom:!0})}],(function(t,n,r,o){return{active:t,allVisible:n,stateSelector:e,layout:r?"horizontal":"vertical",style:o}}))};t.a={ToolbarPlugin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toolbar";return Object(c.connect)(R(e))(M)},reducers:{controls:n("./MapStore2/web/client/reducers/controls.js").default}}},"./MapStore2/web/client/plugins/ZoomAll.jsx":function(e,t,n){"use strict";n("./MapStore2/web/client/plugins/zoomall/zoomall.css");var r=n("./node_modules/object-assign/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./node_modules/react-bootstrap/es/index.js"),s=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/reselect/es/index.js"),l=n("./MapStore2/web/client/actions/map.js"),p=n("./node_modules/prop-types/index.js"),f=n.n(p),d=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),b=n("./MapStore2/web/client/utils/MapUtils.js"),m=n("./MapStore2/web/client/utils/ConfigUtils.js");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,o=O(a);function a(){var e;g(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(S(e=o.call.apply(o,[this].concat(n))),"addTooltip",(function(t){var n=i.a.createElement(c.Tooltip,{id:"locate-tooltip"},e.props.tooltip);return i.a.createElement(d.a,{placement:e.props.tooltipPlace,key:"overlay-trigger."+e.props.id,overlay:n},t)})),E(S(e),"zoomToMaxExtent",(function(){var t=e.props.mapConfig.maxExtent,n=e.props.mapConfig.size,r=1,o=e.props.mapConfig.center,a=e.props.mapConfig.projection||"EPSG:3857";t&&"[object Array]"===Object.prototype.toString.call(t)&&(r=Object(b.getZoomForExtent)(t,n,0,21),0===(o=Object(b.getCenterForExtent)(t,a)).x&&0===o.y||(o=Object(m.getCenter)(o,"EPSG:4326")));var i=Object(b.getBbox)(o,r,n);e.props.changeMapView(o,r,i,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),E(S(e),"zoomToInitialExtent",(function(){var t=e.props.mapInitialConfig,n=Object(b.getBbox)(t.center,t.zoom,e.props.mapConfig.size);e.props.changeMapView(t.center,t.zoom,n,e.props.mapConfig.size,null,e.props.mapConfig.projection)})),e}return t=a,(n=[{key:"render",value:function(){var e=this;return this.addTooltip(i.a.createElement(c.Button,{id:this.props.id,style:this.props.style,bsSize:this.props.btnSize,onClick:function(){return e.props.useInitialExtent?e.zoomToInitialExtent():e.zoomToMaxExtent()},className:this.props.className,bsStyle:this.props.bsStyle},this.props.glyphicon?i.a.createElement(c.Glyphicon,{glyph:this.props.glyphicon}):null,this.props.glyphicon&&this.props.text?"":null,this.props.text,this.props.help))}}])&&h(t.prototype,n),r&&h(t,r),a}(i.a.Component);E(A,"propTypes",{id:f.a.string,image:f.a.string,glyphicon:f.a.string,text:f.a.string,btnSize:f.a.oneOf(["large","small","xsmall"]),mapConfig:f.a.object,mapInitialConfig:f.a.object,changeMapView:f.a.func,btnType:f.a.oneOf(["normal","image"]),help:f.a.oneOfType([f.a.string,f.a.element]),tooltip:f.a.element,tooltipPlace:f.a.string,className:f.a.string,useInitialExtent:f.a.bool,bsStyle:f.a.string,style:f.a.object}),E(A,"defaultProps",{id:"mapstore-zoomtomaxextent",glyphicon:"resize-full",text:void 0,btnSize:"xsmall",btnType:"normal",useInitialExtent:!1,tooltipPlace:"left",bsStyle:"default",className:"square-button"});var x=A,P=n("./MapStore2/web/client/components/I18N/Message.jsx"),T=n("./MapStore2/web/client/selectors/map.js");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=Object(u.a)([T.l,function(e){return e.mapInitialConfig}],(function(e,t){return{mapConfig:e,mapInitialConfig:t}})),F=Object(s.connect)(L,{changeMapView:l.x})(x),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,r,o=I(a);function a(){return R(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return i.a.createElement(F,M({key:"zoomToMaxExtent"},this.props,{useInitialExtent:!0}))}}])&&C(t.prototype,n),r&&C(t,r),a}(i.a.Component);t.a={ZoomAllPlugin:o()(U,{Toolbar:{name:"ZoomAll",position:7,tooltip:"zoombuttons.zoomAllTooltip",icon:i.a.createElement(c.Glyphicon,{glyph:"resize-full"}),help:i.a.createElement(P.default,{msgId:"helptexts.zoomToMaxExtentButton"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomIn.jsx":function(e,t,n){"use strict";n("./MapStore2/web/client/plugins/zoom/zoom.css");var r=n("./node_modules/object-assign/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/reselect/es/index.js"),u=n("./MapStore2/web/client/actions/map.js"),l=n("./MapStore2/web/client/components/buttons/ZoomButton.jsx"),p=n("./MapStore2/web/client/components/I18N/Message.jsx"),f=n("./MapStore2/web/client/selectors/map.js"),d=Object(s.a)([f.l],(function(e){return{currentZoom:e&&e.zoom,id:"zoomin-btn",step:1,glyphicon:"plus"}})),b=Object(c.connect)(d,{onZoom:u.z})(l.a);t.a={ZoomInPlugin:o()(b,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomIn",position:3,tooltip:"zoombuttons.zoomInTooltip",help:i.a.createElement(p.default,{msgId:"helptexts.zoomIn"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/ZoomOut.jsx":function(e,t,n){"use strict";n("./MapStore2/web/client/plugins/zoom/zoom.css");var r=n("./node_modules/object-assign/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n.n(a),c=n("./node_modules/react-redux/es/index.js"),s=n("./node_modules/reselect/es/index.js"),u=n("./MapStore2/web/client/actions/map.js"),l=n("./MapStore2/web/client/components/buttons/ZoomButton.jsx"),p=n("./MapStore2/web/client/components/I18N/Message.jsx"),f=n("./MapStore2/web/client/selectors/map.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Object(s.a)([f.l,f.m],(function(e,t){return{currentZoom:e&&e.zoom,id:"zoomout-btn",step:-1,glyphicon:"minus",minZoom:t}})),g=Object(c.connect)(y,{onZoom:u.z},(function(e,t,n){return b(b(b({},e),t),n)}))(l.a);t.a={ZoomOutPlugin:o()(g,{disablePluginIf:"{state('mapType') === 'cesium'}",Toolbar:{name:"ZoomOut",position:4,tooltip:"zoombuttons.zoomOutTooltip",help:i.a.createElement(p.default,{msgId:"helptexts.zoomOut"}),tool:!0,priority:1}}),reducers:{}}},"./MapStore2/web/client/plugins/background/DefaultThumbs.js":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"),o=n.n(r),a=n("./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"),i=n.n(a),c=n("./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"),s=n.n(c),u=n("./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"),l=n.n(u),p=n("./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"),f=n.n(p),d=n("./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"),b=n.n(d),m=n("./MapStore2/web/client/plugins/background/assets/img/none.jpg"),y=n.n(m),g=n("./MapStore2/web/client/plugins/background/assets/img/dafault.jpg"),h=n.n(g),v=n("./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"),O=n.n(v),j=n("./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"),S=n.n(j),w=n("./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"),E=n.n(w),A=n("./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"),x=n.n(A),P=n("./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"),T=n.n(P),_={google:{HYBRID:x.a,ROADMAP:o.a,TERRAIN:i.a,SATELLITE:s.a},bing:{Aerial:l.a,AerialWithLabels:S.a},osm:{mapnik:f.a},mapquest:{osm:T.a},ol:{undefined:y.a},nasagibs:{Night2012:O.a},OpenTopoMap:{OpenTopoMap:E.a},unknown:h.a,s2cloudless:{"s2cloudless:s2cloudless":b.a}};t.a=_},"./MapStore2/web/client/plugins/background/assets/img/Aerial.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/Aerial.jpg"},"./MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/AerialWithLabels.jpg"},"./MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/HYBRID.jpg"},"./MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/NASA_NIGHT.jpg"},"./MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/OpenTopoMap.jpg"},"./MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/ROADMAP.jpg"},"./MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/SATELLITE.jpg"},"./MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/TERRAIN.jpg"},"./MapStore2/web/client/plugins/background/assets/img/dafault.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/dafault.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapnik.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapnik.jpg"},"./MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/mapquest-osm.jpg"},"./MapStore2/web/client/plugins/background/assets/img/none.jpg":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAD1APUDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCcH//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AXB//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFwf//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IXB//9oADAMBAAIAAwAAABCSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSf/8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAwEBPxBwf//EABQRAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQIBAT8QcH//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/EHB//9k="},"./MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg":function(e,t,n){e.exports=n.p+"MapStore2/web/client/plugins/background/assets/img/s2cloudless.jpg"},"./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/containers/ToolsContainer.jsx":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/object-assign/index.js"),a=n.n(o),i=n("./node_modules/prop-types/index.js"),c=n.n(i),s=n("./node_modules/react/index.js"),u=n.n(s),l=n("./node_modules/react-bootstrap/es/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./node_modules/redux/es/index.js"),d=n("./MapStore2/web/client/actions/controls.js"),b=n("./MapStore2/web/client/actions/help.js"),m=n("./MapStore2/web/client/components/help/HelpBadge.jsx"),y=n("./MapStore2/web/client/components/I18N/Message.jsx"),g=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=Object(p.connect)((function(e){return{isVisible:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:b.d,changeHelpwinVisibility:b.e})(m.a),R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,e);var t,n,o,i=A(c);function c(){var e;S(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _(P(e=i.call.apply(i,[this].concat(n))),"getToolConfig",(function(t){return t.tool?{}:e.props.toolCfg})),_(P(e),"getTool",(function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var n=function(){return{}},o={};return t.exclusive?(n=function(n){return{active:n.controls&&n.controls[e.props.stateSelector]&&n.controls[e.props.stateSelector].active===t.name}},o[e.props.eventSelector]=d.g.bind(null,e.props.stateSelector,"active",t.name,!0)):t.toggle?(n=function(n){return{bsStyle:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?e.props.activeStyle:e.props.toolStyle,active:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},o[e.props.eventSelector]=d.h.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(o[e.props.eventSelector]=Object(r.partial)(t.action,e.context),n=t.selector||n),Object(p.connect)(n,o,(function(t,n,r){return e.mergeHandlers(j(j({},r),t),n)}))(e.props.tool)})),_(P(e),"renderTool",(function(t,n){if(t.element)return t.element;var r=t.help?u.a.createElement(M,{className:"mapstore-helpbadge",helpText:t.help}):u.a.createElement("span",null),o=t.tooltip?u.a.createElement(y.default,{msgId:t.tooltip}):null,a=e.getTool(t),i=e.getToolConfig(t),s=t.childTools||[];return e.addTooltip(u.a.createElement(a,v({},i,{pluginCfg:t.cfg,tooltip:o,style:t.style,btnSize:e.props.toolSize,bsStyle:e.props.toolStyle,help:r,key:t.name||"tool"+n,mapType:e.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?u.a.createElement(l.Glyphicon,{glyph:t.cfg.glyph}):t.icon,r," ",t.text,s.length>0&&u.a.createElement(c,v({},t.innerProps,{mapType:e.props.mapType,tools:s,panels:t.childPanels}))),t)})),_(P(e),"renderTools",(function(){return e.props.tools.map(e.renderTool)})),_(P(e),"renderPanels",(function(){return e.props.panels.filter((function(e){return!e.panel.loadPlugin})).map((function(t){var n=t.panel,r=u.a.createElement(n,v({key:t.name,mapType:e.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),o=t.title?u.a.createElement(y.default,{msgId:t.title}):null;return t.wrap?u.a.createElement(l.Collapse,{key:"mapToolBar-item-collapse-"+t.name,in:e.props.activePanel===t.name},u.a.createElement(l.Panel,{header:o,style:e.props.panelStyle,className:e.props.panelClassName},r)):r}))})),_(P(e),"mergeHandlers",(function(e,t){return Object.keys(t).reduce((function(n,r){return a()(n,_({},r,e[r]?Object(f.d)(e[r],t[r]):t[r]))}),e)})),_(P(e),"addTooltip",(function(t,n){if(n.tooltip){var r=u.a.createElement(l.Tooltip,{id:e.props.id+"-"+n.name+"-tooltip"},u.a.createElement(y.default,{msgId:n.tooltip}));return u.a.createElement(g.a,{key:e.props.id+"-"+n.name+"-overlay",rootClose:!0,placement:"left",overlay:r},t)}return t})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props.container;return u.a.createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},u.a.createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}])&&w(t.prototype,n),o&&w(t,o),c}(u.a.Component);_(R,"propTypes",{id:c.a.string.isRequired,container:c.a.func,containerWrapperStyle:c.a.object,tool:c.a.func,className:c.a.string,style:c.a.object,tools:c.a.array,panels:c.a.array,mapType:c.a.string,toolStyle:c.a.string,activeStyle:c.a.string,toolSize:c.a.string,stateSelector:c.a.string.isRequired,eventSelector:c.a.string,panelStyle:c.a.object,panelClassName:c.a.string,activePanel:c.a.string,toolCfg:c.a.object}),_(R,"contextTypes",{messages:c.a.object,router:c.a.object}),_(R,"defaultProps",{container:l.Panel,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:l.Button,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}}),t.a=R},"./MapStore2/web/client/plugins/identify/identify.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/locale/Message.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),o=n("./MapStore2/web/client/components/I18N/Message.jsx");t.a=Object(r.connect)((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(o.default)},"./MapStore2/web/client/plugins/map lazy recursive ^\\.\\/.*\\/index$":function(e,t,n){var r={"./cesium/index":["./MapStore2/web/client/plugins/map/cesium/index.js",11,31],"./leaflet/index":["./MapStore2/web/client/plugins/map/leaflet/index.js",0,3,10,20],"./openlayers/index":["./MapStore2/web/client/plugins/map/openlayers/index.js",0,3,4,5,16]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id="./MapStore2/web/client/plugins/map lazy recursive ^\\.\\/.*\\/index$",e.exports=o},"./MapStore2/web/client/plugins/map/css/map.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/print/print.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/reducers/dimension.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/dimension.js"),o=n("./MapStore2/web/client/actions/layers.js"),a=n("./MapStore2/web/client/actions/controls.js"),i=n("./MapStore2/web/client/utils/ImmutableUtils.js"),c=n("./node_modules/moment/moment.js"),s=n.n(c),u=n("./MapStore2/node_modules/lodash/lodash.js");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.d:return Object(i.e)("data[".concat(t.dimension,"][").concat(t.layerId,"]"),t.data,e);case r.b:return Object(i.e)("currentTime",t.time,e);case r.c:return Object(i.e)("offsetTime",t.offsetTime,e);case r.a:if(e.offsetTime&&e.currentTime){var n=s()(e.offsetTime).diff(e.currentTime),c=s()(t.time).add(n);return Object(i.e)("currentTime",t.time,Object(i.e)("offsetTime",c.toISOString(),e))}return Object(i.e)("currentTime",t.time,e);case o.s:var l=Object(u.mapValues)(e.data,(function(e){return Object(u.pickBy)(e,(function(e,n){return n!==t.node}))}));return Object(i.e)("data",l,e);case a.a:return Object(i.e)("data",void 0,Object(i.e)("currentTime",void 0,Object(i.e)("offsetTime",void 0,e)));default:return e}}},"./MapStore2/web/client/reducers/mapInfo.js":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/actions/mapInfo.js"),o=n("./MapStore2/web/client/actions/config.js"),a=n("./MapStore2/web/client/actions/controls.js"),i=n("./node_modules/object-assign/index.js"),c=n.n(i),s=n("./MapStore2/node_modules/lodash/lodash.js"),u=n("./MapStore2/web/client/utils/MapInfoUtils.js");function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n){var r="vector"===n,o=r?t.reqId:Object(s.findIndex)(e.requests||[],(function(e){return e.reqId===t.reqId}));if(-1!==o){if(["exceptions","error"].includes(n)){var a=e.requests.filter((function(e,t){return t!==o})),i=e.responses.filter((function(e,t){return t!==o}));return b(b({},e),{},{responses:i,requests:a})}var l,f=e.configuration,d=e.requests,m=e.responses||[],y="hover"===(null==f?void 0:f.trigger);if(!r){var g={response:t[n],queryParams:t.requestParams,layerMetadata:t.layerMetadata,layer:t.layer};y?m=[].concat(p(m),[g]):m[o]=g}return y?l={loaded:!0,index:0}:!y&&function(e,t,n,r){var o,a,i=e.configuration,c=e.requests,l=e.queryableLayers,p=e.index,f=(i||{}).infoFormat,d=null===(o=Object(u.j)(f))||void 0===o?void 0:o.getValidResponses([t[n]],!0),b=null===(a=Object(u.j)(f))||void 0===a?void 0:a.getNoValidResponses(t,!0);return Object(s.isUndefined)(p)&&!!d.length||!r&&c.length===b.filter((function(e){return e})).length||Object(s.isUndefined)(p)&&r&&c.filter((function(e){return Object(s.isEmpty)(e)})).length===l.length}(e,m,o,r)&&(l={loaded:!0,index:o}),c()({},e,b(b(b({},r&&{requests:d}),!Object(s.isUndefined)(l)&&l),{},{responses:p(m)}))}return e}var g={enabled:!0,configuration:{}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.p:return c()({},e,{warning:"NO_QUERYABLE_LAYERS"});case r.e:return c()({},e,{warning:null});case r.c:return c()({},e,{enabled:t.enabled});case r.x:return c()({},e,{enabled:!e.enabled});case r.d:return c()({},e,{index:t.index});case r.w:return c()({},e,{highlight:t.enabled});case r.o:var i=t.reqId,s=t.request,u=e.requests||[];return c()({},e,{requests:[].concat(p(u),[{request:s,reqId:i}])});case r.q:e.index,e.loaded;var f=l(e,["index","loaded"]);return b(b({},f),{},{queryableLayers:[],responses:[],requests:[]});case r.n:return y(e,t,"data");case r.i:return y(e,t,"exceptions");case r.h:return y(e,t,"error");case r.j:return c()({},e,{clickPoint:t.point,clickLayer:t.layer||null,itemId:t.itemId||null,overrideParams:t.overrideParams||null,filterNameList:t.filterNameList||null});case r.b:return b(b({},e),{},{configuration:b(b({},e.configuration),{},{infoFormat:t.infoFormat})});case r.t:return c()({},e,{showMarker:!0});case r.l:return c()({},e,{showMarker:!1});case r.u:return c()({},e,{showModalReverse:!0,reverseGeocodeData:t.reverseGeocodeData});case r.m:return c()({},e,{showModalReverse:!1,reverseGeocodeData:void 0});case a.a:return c()({},e,{showMarker:!1,responses:[],requests:[]});case r.k:var d,m=n("./node_modules/turf-buffer/index.js"),h=n("./node_modules/turf-intersect/index.js"),v={type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.request.lng,t.request.lat]}},O=t.metadata&&t.metadata.units;switch(O){case"m":O="meters";break;case"deg":O="degrees";break;case"mi":O="miles";break;default:O="meters"}var j,S=t.metadata&&t.metadata.resolution||1,w=m(v,(t.metadata.buffer||1)*S,O),E=(t.layer.features||[]).filter((function(e){try{return"FeatureCollection"===e.type&&e.features&&e.features.length?e.features.reduce((function(e,n){var r=n.properties.useGeodesicLines&&n.properties.geometryGeodesic?b(b({},n),{},{geometry:n.properties.geometryGeodesic}):n;return e||h(w,S&&t.metadata.buffer&&O?m(r,1,"meters"):r)}),!1):h(w,S&&t.metadata.buffer&&O?m(e,1,"meters"):e)}catch(e){return!1}})),A=e.responses||[],x="hover"===(null==e||null===(d=e.configuration)||void 0===d?void 0:d.trigger)||!1,P={response:{crs:null,features:E,totalFeatures:"unknown",type:"FeatureCollection"},queryParams:t.request,layerMetadata:t.metadata,format:"JSON"};x?(A=[].concat(p(A),[P]),j={reqId:0}):(A[e.requests.length]=P,j={reqId:e.requests.length});var T=[].concat(p(e.requests),[{}]);return y(c()({},e,{requests:T,queryableLayers:t.queryableLayers,responses:p(A)}),j,"vector");case r.z:return c()({},e,{centerToMarker:t.status});case r.v:return b(b({},e),{},{configuration:b(b({},e.configuration),{},{showEmptyMessageGFI:!e.configuration.showEmptyMessageGFI})});case o.d:return b(b({},e),{},{configuration:t.config.mapInfoConfiguration||e.configuration||{}});case r.a:return b(b({},e),{},{formatCoord:t.format});case r.y:return b(b({},e),{},{showCoordinateEditor:!t.showCoordinateEditor});case r.r:return b(b({},e),{},{currentEditFeatureQuery:t.query});case r.s:return b(b({},e),{},{configuration:b(b({},e.configuration),{},{trigger:t.trigger})});default:return e}}},"./MapStore2/web/client/reducers/maplayout.js":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/actions/maplayout.js"),o=n("./node_modules/object-assign/index.js"),a=n.n(o);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{layout:{},boundingMapRect:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:var n=t.layout,o=n.boundingMapRect,i=void 0===o?{}:o,s=u(n,["boundingMapRect"]);return a()({},e,{layout:a()({},s,s),boundingMapRect:c({},i)});default:return e}}},"./MapStore2/web/client/reducers/maps.js":function(e,t,n){"use strict";var r=n("./MapStore2/web/client/actions/maps.js"),o=n("./node_modules/object-assign/index.js"),a=n.n(o),i=n("./MapStore2/node_modules/lodash/lodash.js");function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1,showMapDetails:!0,errors:[],searchFilter:{},searchText:"",results:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.l:return a()({},e,{searchText:t.text});case r.y:return a()({},e,{searchFilter:l(l({},e.searchFilter),{},p({},t.filter,t.filterData))});case r.B:return a()({},e,{searchFilter:t.searchFilter});case r.A:return a()({},e,{contexts:t.contexts});case r.e:return a()({},e,{loading:t.value,loadFlags:l(l({},e.loadFlags||{}),"loading"!==t.name?p({},t.name,t.value):{})});case r.r:return a()({},e,{metadata:a()({},e.metadata,p({},t.prop,t.value))});case r.C:return a()({},e,{showMapDetails:t.showMapDetails});case r.i:return a()({},e,{loading:!0,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});case r.h:if(t.maps&&t.maps.results&&Array.isArray(t.maps.results))return a()({},e,t.maps,{loading:!1,start:t.params&&t.params.start,limit:t.params&&t.params.limit,searchText:t.searchText});var n=""!==t.maps.results?[t.maps.results]:[];return a()({},e,t.maps,{results:n,loading:!1});case r.j:return{loadingError:t.error};case r.q:for(var o=""===e.results||Object(i.isNil)(e.results)?[]:c(e.results),s=0;s<o.length;s++)o[s].id&&o[s].id===t.resourceId&&(o[s]=a()({},o[s],{updating:!0}));return a()({},e,{results:o});case r.a:for(var u=""===e.results?[]:c(e.results),f=0;f<u.length;f++){var d;if(u[f].id&&u[f].id===t.resourceId)u[f]=a()({},u[f],(p(d={},t.name,decodeURIComponent(t.value)),p(d,"updating",!1),p(d,"loadingError",t.error?t.error:null),d))}return a()({},e,{results:u});case r.o:for(var b=""===e.results?[]:c(e.results),m=0;m<b.length;m++)b[m].id&&b[m].id===t.resourceId&&(b[m]=a()({},b[m],{deleting:!0}));return a()({},e,{results:b});case r.m:var y=""===e.results?[]:c(e.results),g={results:[].concat(c(y),[t.metadata]),totalCount:e.totalCount+1};return a()({},e,g);case r.D:case r.p:for(var h=""===e.results?[]:c(e.results),v=0;v<h.length;v++)h[v].id&&h[v].id===t.resourceId&&(h[v]=a()({},h[v],{updating:!1}));return a()({},e,{results:h});case r.u:var O=""===e.results?[]:c(e.results),j=a()({},e,{results:O.map((function(e){return e.id===t.mapId?a()({},e,{permissionLoading:!0}):e}))});return j;case r.E:return l(l({},e),{},{detailsText:t.detailsText});default:return e}}},"./MapStore2/web/client/reducers/maptype.js":function(e,t,n){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAP_TYPE_CHANGED":return{mapType:t.mapType};default:return e}}},"./MapStore2/web/client/reducers/timeline.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/actions/layers.js"),o=n("./MapStore2/web/client/actions/controls.js"),a=n("./MapStore2/web/client/actions/timeline.js"),i=n("./MapStore2/web/client/utils/ImmutableUtils.js"),c=n("./MapStore2/node_modules/lodash/lodash.js");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.h:return Object(i.e)("settings.collapsed",t.collapsed,e);case a.i:return Object(i.e)("settings.mapSync",t.mapSync,e);case a.d:return Object(i.e)("range",{start:t.start,end:t.end},e);case a.e:return Object(i.e)("rangeData[".concat(t.layerId,"]"),{range:t.range,histogram:t.histogram,domain:t.domain},e);case a.c:return t.layerId?Object(i.e)("loading[".concat(t.layerId,"]"),t.loading,e):Object(i.e)("loading.timeline",t.loading,e);case a.f:return Object(i.e)("selectedLayer",t.layerId,e);case r.s:var n=e;return Object(c.assign)({},e,{rangeData:Object(c.has)(n.rangeData,t.node)?Object(c.pickBy)(n.rangeData,(function(e,n){return n!==t.node})):n.rangeData,loading:Object(c.has)(n.rangeData,t.node)?Object(c.pickBy)(n.loading,(function(e,n){return n!==t.node})):n.loading,selectedLayer:e.selectedLayer===t.node?void 0:e.selectedLayer});case o.a:return Object(c.assign)({},e,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0});default:return e}}},"./MapStore2/web/client/selectors/backgroundselector.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n("./node_modules/reselect/es/index.js"),o=n("./MapStore2/web/client/selectors/layers.js"),a=n("./MapStore2/web/client/selectors/maptype.js"),i=n("./MapStore2/web/client/utils/LayersUtils.js"),c=function(e){return e.backgroundSelector&&e.backgroundSelector.source},s=function(e){return e.backgroundSelector&&e.backgroundSelector.modalParams},u=function(e){return e.backgroundSelector&&e.backgroundSelector.backgrounds||[]},l=function(e){return e.backgroundSelector&&e.backgroundSelector.lastRemovedId},p=function(e){return e.backgroundSelector&&e.backgroundSelector.confirmDeleteBackgroundModal},f=function(e){return e.backgroundSelector&&e.backgroundSelector.allowDeletion},d=Object(r.a)(o.p,a.c,(function(e,t){return e.filter((function(e){return e&&"background"===e.group})).map((function(e){return Object(i.invalidateUnsupportedLayer)(e,t)}))||[]}))},"./MapStore2/web/client/selectors/catalog.js":function(e,t,n){"use strict";n.d(t,"v",(function(){return u})),n.d(t,"w",(function(){return l})),n.d(t,"x",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return b})),n.d(t,"u",(function(){return m})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return g})),n.d(t,"q",(function(){return h})),n.d(t,"t",(function(){return v})),n.d(t,"r",(function(){return O})),n.d(t,"o",(function(){return j})),n.d(t,"g",(function(){return S})),n.d(t,"h",(function(){return w})),n.d(t,"s",(function(){return E})),n.d(t,"i",(function(){return A})),n.d(t,"f",(function(){return x})),n.d(t,"p",(function(){return P})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return _})),n.d(t,"l",(function(){return M})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return C}));var r=n("./node_modules/reselect/es/index.js"),o=n("./MapStore2/node_modules/lodash/lodash.js"),a=n("./MapStore2/web/client/selectors/map.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return Object(o.get)(e,"catalog.services")},l=Object(r.a)((function(e){return Object(o.get)(e,"catalog.default.staticServices")}),u,(function(e,t){return c(c({},t),Object(o.pick)(e,"default_map_backgrounds"))})),p=function(e){return Object(o.get)(e,"catalog.default.tileSizes",[256,512])},f=function(e){return Object(o.get)(e,"controls.metadataexplorer.group")},d=function(e){return Object(o.get)(e,"catalog.saving")},b=function(e){return Object(o.get)(e,"catalog.result")},m=function(e){return Object(o.get)(e,"catalog.openCatalogServiceList")},y=function(e){return Object(o.get)(e,"catalog.newService")},g=function(e){return Object(o.get)(e,"catalog.newService.type","csw")},h=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"]'))},v=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].type'),function(e){return Object(o.get)(e,'catalog.default.staticServices["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].type'),"csw")}(e))},O=function(e){return Object(o.get)(e,'catalog.services["'.concat(Object(o.get)(e,"catalog.selectedService"),'"].layerOptions'),{})},j=function(e){return Object(o.get)(e,"catalog.searchOptions")},S=function(e){return Object(o.get)(e,"catalog.loadingError")},w=function(e){return Object(o.get)(e,"catalog.loading",!1)},E=function(e){return Object(o.get)(e,"catalog.selectedService")},A=function(e){return Object(o.get)(e,"catalog.mode","view")},x=function(e){return Object(o.get)(e,"catalog.layerError")},P=function(e){return Object(o.get)(e,"catalog.searchOptions.text","")},T=function(e){return"metadataexplorer"===Object(o.get)(e,"controls.toolbar.active")||Object(o.get)(e,"controls.metadataexplorer.enabled")},_=function(e){return(Object(o.get)(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},M=function(e){return Object(o.get)(e,"catalog.pageSize",4)},R=function(e){return Object(o.get)(e,"catalog.delayAutoSearch",1e3)},C=Object(r.c)({projection:a.o})},"./MapStore2/web/client/selectors/featuregrid.js":function(e,t,n){"use strict";n.d(t,"A",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"z",(function(){return v})),n.d(t,"b",(function(){return O})),n.d(t,"u",(function(){return j})),n.d(t,"x",(function(){return S})),n.d(t,"l",(function(){return A})),n.d(t,"i",(function(){return x})),n.d(t,"k",(function(){return P})),n.d(t,"e",(function(){return T})),n.d(t,"C",(function(){return _})),n.d(t,"o",(function(){return M})),n.d(t,"d",(function(){return R})),n.d(t,"h",(function(){return C})),n.d(t,"f",(function(){return k})),n.d(t,"s",(function(){return I})),n.d(t,"y",(function(){return D})),n.d(t,"a",(function(){return N})),n.d(t,"j",(function(){return L})),n.d(t,"D",(function(){return F})),n.d(t,"F",(function(){return U})),n.d(t,"G",(function(){return G})),n.d(t,"E",(function(){return B})),n.d(t,"q",(function(){return z})),n.d(t,"p",(function(){return q})),n.d(t,"m",(function(){return H})),n.d(t,"t",(function(){return Y})),n.d(t,"r",(function(){return V})),n.d(t,"g",(function(){return W})),n.d(t,"B",(function(){return Q})),n.d(t,"w",(function(){return Z})),n.d(t,"n",(function(){return K})),n.d(t,"v",(function(){return $}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/selectors/layers.js"),a=n("./MapStore2/web/client/utils/ogc/WFS/base.js"),i=n("./MapStore2/web/client/selectors/locale.js"),c=n("./MapStore2/web/client/utils/MapUtils.js"),s=n("./MapStore2/web/client/utils/FeatureGridUtils.js"),u=n("./MapStore2/web/client/selectors/dimension.js"),l=n("./MapStore2/web/client/selectors/security.js"),p=n("./MapStore2/web/client/selectors/maptype.js"),f=n("./MapStore2/web/client/selectors/query.js");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=o.g,g=function(e){return Object(r.get)(e,"featuregrid.selectedLayer")},h=function(e){return Object(r.get)(e,"featuregrid.chartDisabled",!1)},v=function(e){return e&&e.featuregrid&&e.featuregrid.select},O=function(e){return e&&e.featuregrid&&e.featuregrid.changes},j=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},S=function(e){return Object(r.head)(v(e))},w=function(e){var t=Object(f.b)(e);if(t){var n=Object(a.findGeometryProperty)(t);return n&&n.localType}return null},E=["Geometry","GeometryCollection"],A=function(e){return!Object(r.head)(E.filter((function(t){return w(e)===t})))},x=function(e){return O(e)&&O(e).length>0},P=function(e){return j(e)&&j(e).length>0},T=function(e){return e&&e.featuregrid&&e.featuregrid.filters},_=function(e){return y(e,g(e))},M=function(e){return e&&e.featuregrid&&e.featuregrid.open},R=function(e,t){return Object(r.get)(T(e),t)},C=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(y(e,g(e)));return Object(r.isObject)(t)?t[Object(i.b)(e)]||t.default||"":t},k=function(e){return(Object(f.a)(e)||[]).map((function(t){var n=function(e,t){return Object(r.get)(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))}(e,t);return n?b(b({},t),n):t}))},I=function(e){return e&&e.featuregrid&&e.featuregrid.mode},D=function(e){return(v(e)||[]).length},N=function(e){return Object(s.p)(O(e))},L=function(e){return function(e){var t=S(e);if(t){var n=Object(s.p)(O(e));return!(!n[t.id]||null===n[t.id].geometry)||(!n[t.id]||null!==n[t.id].geometry)&&((!t._new||!Object(r.head)(j(e))||null!==Object(r.head)(j(e)).geometry)&&(!(!t._new||!Object(r.head)(j(e))||null===Object(r.head)(j(e)).geometry)||null!==t.geometry))}return!1}(e)},F=function(e){return Object(r.get)(e,"featuregrid.showAgain",!1)},U=function(e){if(Object(r.get)(e,"featuregrid.showTimeSync",!1)){var t=g(e);return Object(u.d)({id:t},"time")(e)}return null},G=function(e){return Object(r.get)(e,"featuregrid.timeSync",!1)},B=function(e){return Object(r.get)(e,"featuregrid.showPopoverSync",!0)},z=function(e){return e&&e.featuregrid&&e.featuregrid.saving},q=function(e){return e&&e.featuregrid&&e.featuregrid.saved},H=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},Y=function(e){return Object(r.get)(e,"featuregrid.multiselect",!1)},V=function(e){return Object(c.isSimpleGeomType)(w(e))},W=function(e){return e.featuregrid&&e.featuregrid.dockSize},Q=function(e){var t=y(e,g(e));return t&&t.name||""},Z=function(e){var t=function(e){return Object(r.get)(y(e,g(e)),"params")}(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},K=function(e){var t=Object(l.d)(e),n=function(e){return Object(r.get)(e,"featuregrid.editingAllowedRoles",["ADMIN"])}(e)||["ADMIN"],o=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit}(e);return(-1!==n.indexOf(t)||o)&&!Object(p.a)(e)},$=function(e){return Object(r.get)(e,"featuregrid.pagination")}},"./MapStore2/web/client/selectors/localizedLayerStyles.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/reselect/es/index.js"),a=n("./MapStore2/web/client/selectors/locale.js"),i=function(e){return Object(r.has)(e,"localConfig.localizedLayerStyles")},c=function(e){var t=Object(r.get)(e,"localConfig.plugins.dashboard",[]),n=Object(r.find)(t,(function(e){return"DashboardEditor"===e.name}))||{};return Object(r.get)(n,"cfg.catalog.localizedLayerStyles",!1)},s=function(e){return Object(r.get)(e,"localConfig.localizedLayerStyles.name","mapstore_language")},u=Object(o.a)(i,s,a.a,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},"./MapStore2/web/client/selectors/maplayout.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return m}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/selectors/map.js"),a=n("./MapStore2/web/client/utils/MapUtils.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return e.maplayout&&e.maplayout.layout||{}},l=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e);return n&&Object.keys(n).filter((function(e){return t[e]})).reduce((function(e,t){return c(c({},e),{},s({},t,n[t]))}),{})||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=u(e),o=!!Object(r.head)(t.filter((function(e){return n[e.key]})).map((function(e){return"not"===e.type?n[e.key]!==e.value&&n[e.key]:n[e.key]===e.value})));return o},d=function(e){return f(e,[{key:"right",value:658}])},b=function(e){return f(e,[{key:"bottom",value:30,type:"not"}])},m=function(e){var t=Object(o.l)(e),n=l(e);return n&&t&&t.size&&{left:Object(a.parseLayoutValue)(n.left,t.size.width),bottom:Object(a.parseLayoutValue)(n.bottom,t.size.height),right:Object(a.parseLayoutValue)(n.right,t.size.width),top:Object(a.parseLayoutValue)(n.top,t.size.height)}}},"./MapStore2/web/client/selectors/measurement.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return m}));var r=n("./MapStore2/web/client/selectors/maptype.js"),o=n("./MapStore2/web/client/selectors/controls.js"),a=n("./MapStore2/web/client/utils/ImmutableUtils.js"),i=n("./MapStore2/web/client/utils/MeasureUtils.js");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){return Object(o.h)(e)&&!e.measurement.isDrawing&&Object(r.b)(e)},p=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},f=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},d=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=Object(a.e)("geometry.coordinates",Object(i.validateFeatureCoordinates)(t.geometry||{}),t)),t},b=function(e){return e.measurement&&s(s({},e.measurement),{},{feature:d(e)})||{}},m=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},"./MapStore2/web/client/selectors/playback.js":function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return b}));var r=n("./node_modules/reselect/es/index.js"),o=function(e){return e&&e.playback&&e.playback.settings},a=function(e){return(o(e)||{}).frameDuration||5},i=function(e){return e&&e.playback&&e.playback.status},c=function(e){return e&&e.playback&&e.playback.frames},s=function(e){var t=c(e)||[];return t[t.length-1]},u=function(e){return e&&e.playback&&e.playback.framesLoading},l=function(e){return e&&e.playback&&e.playback.currentFrame},p=function(e){return function(e){return e&&e.playback&&e.playback.playbackRange}(e)},f=function(e){return(c(e)||[])[l(e)]},d=function(e){return e&&e.playback&&e.playback.metadata},b=Object(r.a)(c,l,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{hasNext:e[t+1],hasPrevious:e[t-1]}}))},"./MapStore2/web/client/selectors/query.js":function(e,t,n){"use strict";n.d(t,"i",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"o",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"h",(function(){return S})),n.d(t,"g",(function(){return w}));var r=n("./MapStore2/node_modules/lodash/lodash.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return Object(r.get)(e,"query.filterObj.featureTypeName")},s=function(e){return function(t){return Object(r.get)(t,'query.featureTypes["'.concat(e,'"]'))}},u=function(e,t){return Object(r.get)(s(t)(e),"original")},l=function(e){return e&&e.query&&e.query.searchUrl},p=function(e){return e&&e.query&&e.query.url},f=function(e){return e&&e.query&&e.query.filterObj},d=function(e){return Object(r.get)(s(c(e))(e),"attributes")},b=function(e){return Object(r.get)(e,"query.typeName")},m=function(e){return Object(r.get)(e,"query.result.features")},y=function(e){var t=Object(r.get)(e,"query.result");return a(a({},t),{},{features:(t&&t.features||[]).filter((function(e){return!Object(r.isNil)(e.geometry)}))})},g=function(e,t){var n=e&&e.query&&e.query.result&&e.query.result.features;return Object(r.head)(n.filter((function(e){return e.id===t})))},h={startIndex:function(e){return Object(r.get)(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return Object(r.get)(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return Object(r.get)(e,"query.result.features.length")},totalFeatures:function(e){return Object(r.get)(e,"query.result.totalFeatures")}},v=function(e,t){var n=s(t)(e);return!!(n&&n.attributes&&n.geometry&&n.original)},O=function(e){return u(e,c(e))},j=function(e){return Object(r.get)(e,"query.featureLoading")},S=function(e){return Object(r.get)(e,"query.syncWmsFilter",!1)},w=function(e){var t=Object(r.get)(e,"query.filterObj.crossLayerFilter"),n=Object(r.get)(e,"query.filterObj.spatialField"),o=Object(r.get)(e,"query.filterObj.filterFields");return!!(o&&Object(r.head)(o)||n&&(n.method&&n.operation&&n.geometry||Object(r.isArray)(n)&&Object(r.findIndex)(n,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},"./MapStore2/web/client/selectors/queryform.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"k",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return S})),n.d(t,"f",(function(){return w}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/reselect/es/index.js"),a=n("./MapStore2/web/client/selectors/layers.js"),i=n("./MapStore2/web/client/selectors/locale.js"),c=n("./MapStore2/web/client/utils/LocaleUtils.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f=function(e){return Object(r.get)(e,"queryform.crossLayerFilter")},d=function(e){return(Object(a.p)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.group;return"wms"===t&&"background"!==n})).map((function(t){var n=t.title;return u(u({},p(t,["title"])),{},{title:Object(c.e)(Object(i.b)(e),n)})}))},b=function(e){return Object(r.get)(e,"queryform.spatialField.geometry")},m=function(e){return Object(r.get)(e,"queryform.spatialField")},y=Object(o.a)((function(e){return Object(r.get)(e,"queryform.attributePanelExpanded")}),(function(e){return Object(r.get)(e,"queryform.spatialPanelExpanded")}),(function(e){return Object(r.get)(e,"queryform.crossLayerExpanded")}),(function(e,t,n){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:n}})),g=function(e){return Object(r.get)(e,"layerFilter.persisted")},h=function(e){return Object(r.get)(e,"layerFilter.applied")},v=function(e){return Object(r.get)(e,"queryform.spatialField.method")},O=function(e){return Object(r.get)(e,"queryform.maxFeaturesWPS")},j=function(e){return b(e)&&b(e).type||"Polygon"},S=function(e){return b(e)&&b(e).projection||"EPSG =4326"},w=function(e){return b(e)&&b(e).coordinates||[]}},"./MapStore2/web/client/selectors/timeline.js":function(e,t,n){"use strict";n.d(t,"j",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return x})),n.d(t,"n",(function(){return P})),n.d(t,"k",(function(){return T})),n.d(t,"m",(function(){return _})),n.d(t,"o",(function(){return M})),n.d(t,"p",(function(){return R})),n.d(t,"a",(function(){return C})),n.d(t,"l",(function(){return k})),n.d(t,"q",(function(){return I})),n.d(t,"b",(function(){return D})),n.d(t,"f",(function(){return N})),n.d(t,"i",(function(){return L}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/reselect/es/index.js"),a=n("./MapStore2/web/client/utils/ReselectUtils.js"),i=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=n("./MapStore2/web/client/utils/TimeUtils.js"),s=n("./MapStore2/web/client/selectors/dimension.js"),u=n("./MapStore2/web/client/selectors/map.js"),l=n("./MapStore2/web/client/selectors/layers.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){return Object(r.get)(e,"timeline.range")},v=function(e){return Object(r.get)(e,"timeline.settings.collapsed")},O=function(e){return Object(r.get)(e,"timeline.settings.autoSelect")},j=function(e){return Object(r.get)(e,"timeline.settings.mapSync")},S=function(e,t){return(e||[]).reduce((function(e,n){return[].concat(b(e),b(function(e,t){var n=m(e.split("/"),3),r=n[0],o=n[1],a=n[2];if(a&&"0"!==a){var i=Object(c.a)({start:r,end:o,duration:a},t),s=i.count,u=i.start,l=i.end;return s>50?[{start:r,end:o,duration:a,type:"range",content:"".concat(s," items")}]:Object(c.l)({start:u,end:l,duration:a}).map((function(e){return{start:new Date(e),end:new Date(e),type:"point"}}))}return isNaN(new Date(r).getTime())?null:[{start:new Date(r),end:new Date(o||r),type:o?"range":"point"}]}(n,t)))}),[]).filter((function(e){return e&&e.start}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(e.domain&&e.domain.values)return S(e.domain.values,t);if(e.histogram&&e.histogram.domain&&e.histogram.values){var n=e.histogram.domain.split("/"),r=m(n,3),o=r[0],a=r[1],i=r[2],s=Math.max.apply(Math,b(e.histogram.values)),u=Object(c.k)({start:o,end:a,duration:i});return e.histogram.values.map((function(e,t){return f(f({},u[t]),{},{type:"range",itemType:"histogram",count:e,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*e/s,'%"></div> <span class="histogram-count">').concat(e,"</span></div>")})}))}return[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e&&e.values||e&&e.domain&&!Object(c.i)(e.domain)?S(e.values||e.domain.split(","),t):n&&n.histogram?w(n,t):[]},A=Object(a.a)(s.i,h,(function(e){return Object(r.get)(e,"timeline.rangeData")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b(Object.keys(e).map((function(r){return E(e[r],t,n[r]).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(f({content:" "},e),{},{group:r})}))})).reduce((function(e,t){return[].concat(b(e),b(t))}),[]))})),x=function(e){return Object(r.get)(e,"timeline.loading")},P=function(e){return Object(r.get)(e,"timeline.selectedLayer")},T=function(e){return Object(l.g)(e,P(e))},_=function(e){return T(e)&&T(e).name},M=function(e){return T(e)&&T(e).dimensions&&Object(r.head)(T(e).dimensions.filter((function(e){return"time"===e.name})))},R=function(e){return Object(r.get)(M(e),"source.url")},C=Object(o.a)(s.a,s.h,(function(e,t){return{start:e,end:t}})),k=function(e){return Object(s.c)(e,P(e))},I=s.f,D=Object(o.a)(I,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0})),N=function(e){return!v(e)&&D(e)},L=function(e){return function(t){var n=(Object(u.l)(t)||{}).bbox;if(!n)return{};var o=Object(s.b)(e,"time")(t),a=Object(r.get)(o,"source.version"),c=Object.keys(n.bounds).reduce((function(e,t){return f(f({},e),{},d({},t,parseFloat(n.bounds[t])))}),{});if(!c||!j(t))return{};if("1.1"!==a){var l=Object(s.b)(e,"space")(t),p=Object(r.get)(l,"domain.CRS");if(!p||!c||!j(t))return{};var b=m(Object(i.reprojectBbox)(c,Object(u.o)(t),p),4),y=b[0],g=b[1],h=b[2],v=b[3];return h<y&&"EPSG:4326"===p&&(h+=360),{bbox:"".concat(y,",").concat(g,",").concat(h,",").concat(v),crs:p}}var O=c.minx,S=c.miny,w=c.maxx,E=c.maxy,A=n.crs;return{bbox:"".concat(O,",").concat(S,",").concat(w,",").concat(E,",").concat(A)}}}},"./MapStore2/web/client/utils/FeatureGridUtils.js":function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return d})),n.d(t,"i",(function(){return b})),n.d(t,"p",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return S})),n.d(t,"e",(function(){return w})),n.d(t,"c",(function(){return E})),n.d(t,"l",(function(){return A})),n.d(t,"g",(function(){return x})),n.d(t,"n",(function(){return P})),n.d(t,"o",(function(){return T})),n.d(t,"f",(function(){return _})),n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return R})),n.d(t,"m",(function(){return C})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return I}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/ogc/WFS/base.js");function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e,t){return"geometry"===e?function(e){return Object(r.get)(Object(o.findGeometryProperty)(e),"name")}(t):e},p=function(e,t,n){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return Object(r.findIndex)(e,(function(e){return e<=n&&n<e+t}))}(t,n,e);return-1===o?o:o*n+e-t[o]},f={id:"empty_row",get:function(){}},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return t[p(e,n,r)]||s({},f)},b=function(e,t){return t[e]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(r.isArray)(e)?e.reduce((function(e,t){return s(s({},e),{},u({},t.id,s(s({},e[t.id]),t.updated)))}),{}):{}},y=function(e,t){var n=Object.keys(t).filter((function(e){return"geometry"!==e})).reduce((function(e,n){return s(s({},e),{},u({},n,t[n]))}),{}),r=Object.keys(t).filter((function(e){return"geometry"===e})).reduce((function(e,n){return s(s({},e),{},u({},n,t[n]))}),{});return s(s(s({},e),r),{},{properties:s(s({},e&&e.properties||{}),n)})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=Object(r.findIndex)(e,t);return o>=0?e.map((function(e,t){return t===o?n:e})):[].concat(a(e),[n])},h=function(e){return(Object(o.getFeatureTypeProperties)(e)||[]).filter((function(e){return!Object(o.isGeometryType)(e)}))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t.map((function(t){return n<=t&&t<=r?0:Math.abs(t-e)})).reduce((function(e,t,n,r){return t>r[e]&&n||e}),0)},O=function(e,t){return t.filter((function(t,n){return n!==e}))},j=function(e,t,n){return e.filter((function(e,r){return r<t||r>=t+n}))},S=function(e,t,n,r){for(var o,a,i=e;i<=t&&void 0===o;i++)-1===p(i*r,n,r)&&(o=i);for(var c=t;c>=e&&void 0===a;c--)-1===p(c*r,n,r)&&(a=c);return[o,a].filter((function(e){return void 0!==e}))},w=function(e,t,n){var r=e.startPage,o=e.endPage,a=S(r,o,t,n),i=a[1]-a[0]+1;return{startIndex:a[0]*n,maxFeatures:i*n}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.editable,o=void 0!==r&&r,a=n.sortable,i=void 0===a||a,c=n.resizable,s=void 0===c||c,u=n.filterable,l=void 0===u||u,p=n.defaultSize,f=void 0===p?200:p,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},b=d.getEditor,m=void 0===b?function(){}:b,y=d.getFilterRenderer,g=void 0===y?function(){}:y,v=d.getFormatter,O=void 0===v?function(){}:v;return h(e).filter((function(e){return!(t[e.name]&&t[e.name].hide)})).map((function(e){return{sortable:i,key:e.name,width:t[e.name]&&t[e.name].width||f||void 0,name:t[e.name]&&t[e.name].label||e.name,resizable:s,editable:o,filterable:l,editor:m(e),formatter:O(e),filterRenderer:g(e,e.name)}}))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=Object(o.findGeometryProperty)(n);return e.map((function(e){return s(s({},e),{},{events:e.events&&Object.keys(e.events).reduce((function(o,a){return s(s({},o),{},u({},a,(function(o,i){return e.events[a](t(i.rowIdx),i,n,r)})))}),{})},"geometry"===e.key&&i?{filterRenderer:a(s(s({},i),{},{localType:"geometry"}),i.name),filterable:!0,geometryPropName:i.name}:{})}))},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Object.keys(e).reduce((function(a,i){return s(s({},a),{},u({},i,(function(){for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return e[i].apply(e,c.concat([t,n,r,o]))})))}),{})},P=function(e,t){return!!Object(o.getPropertyDesciptor)(e,t)},T=function(e,t,n){return Object(o.isValidValueForPropertyName)(e,l(t,n),n)},_=function(){return"EPSG:4326"},M=function(e,t,n){return function(r){return t.length>0?r._new:!e||e&&!!n[r.id]}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(e,t[e.id]||{})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attribute,n=e.operator,o=e.value,a=e.type,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(s({},i),{},{groupFields:[{id:1,logic:"AND",index:0}],filterFields:"geometry"===a?i.filterFields:Object(r.isNil)(o)?(i.filterFields||[]).filter((function(e){return e.attribute!==t})):g(i.filterFields||[],{attribute:t},{attribute:t,rowId:Date.now(),type:a,groupId:1,operator:n,value:o}),spatialField:"geometry"===a?o:i.spatialField,spatialFieldOperator:Object(r.isArray)(o)?"OR":""})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startIndex,n=void 0===t?0:t,r=e.maxFeatures,o=void 0===r?1:r,a=e.totalFeatures,i=void 0===a?0:a,c=e.resultSize;return{page:Math.ceil(n/o),resultSize:c,size:o,total:i,maxPages:Math.ceil(i/o)-1}},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endPage,o=t.startPage,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.pages,c=a.features,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=s.size,l=s.maxStoredPages,p=s.startIndex,f=S(o,n,i,u),d=f[1]-f[0]+1,b=Object(r.get)(e,"features",[]);b.length!==d*u&&(b=b.concat(Object(r.fill)(Array(d*u-b.length>0?d*u-b.length:b.length),!1)));var m=i,y=c,g=m.length+d-Math.max(l,n-o+1);if(g>0)for(var h=o*u,w=n*u,E=h+(w-h)/2,A=0;A<g;A++){var x=v(E,i,h,w),P=x*u;m=O(x,m),y=j(c,P,u)}for(var T=[],_=0;_<d;_++)T.push(p+u*_);return{pages:m.concat(T),features:y.concat(b)}}},"./MapStore2/web/client/utils/IdentifyUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/FeatureInfoUtils.js"),a=function(e,t){var n=e.format,r=e.queryParams,a=void 0===r?{}:r;return a.info_format||a.outputFormat||n&&o.a[n]||t.format},i=function(e){return!!Object(r.get)(e,"layer.search.url")}},"./MapStore2/web/client/utils/MeasureUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"degToDms",(function(){return o})),n.d(t,"getFormattedBearingValue",(function(){return a})),n.d(t,"CONVERSION_RATE",(function(){return i})),n.d(t,"convertUom",(function(){return c})),n.d(t,"validateCoord",(function(){return s})),n.d(t,"validateFeatureCoordinates",(function(){return u})),n.d(t,"isValidGeometry",(function(){return l}));var r=n("./MapStore2/node_modules/lodash/lodash.js");function o(e){var t=Math.floor(e),n=60*(e-t),r=Math.floor(n),o=60*(n-r);return t+" "+r+"' "+Math.floor(o)+"'' "}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.measureTrueBearing,r=void 0!==n&&n,a=t.fractionDigits,i=void 0===a?0:a,c="";if(r){var s="";e>=0&&e<10?s="00":e>10&&e<100&&(s="0");var u=i>0?e.toFixed(i):Math.floor(e);c=s+u+" T"}else e>=0&&e<90?c="N "+o(e)+"E":e>90&&e<=180?c="S "+o(180-e)+"E":e>180&&e<270?c="S "+o(e-180)+"W":e>=270&&e<=360&&(c="N "+o(360-e)+"W");return c}var i={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return i[t]&&i[t][n]?e*i[t][n]:e}var s=function(e){return!Object(r.isNaN)(parseFloat(e[0]))&&!Object(r.isNaN)(parseFloat(e[1]))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type,o=t;if("LineString"===n){if((o=t.filter(s)).length<2)return[]}else if("Polygon"===n){if((o=Object(r.head)(t).filter(s)).length<3)return[[]];o=[o.concat([Object(r.head)(o)])]}return o},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type;if(!n||!t||t&&Object(r.isArray)(t)&&0===t.length)return!1;var o=u({coordinates:t,type:n});return(o="Polygon"===n?Object(r.head)(o):o).length>0}},"./MapStore2/web/client/utils/ReselectUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/reselect/es/index.js"),a=function(e,t){return e===t},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return function(t,n){return Array.isArray(t)&&Array.isArray(n)?t===n||t.length===n.length&&t.reduce((function(t,r,o){return t&&e(r,n[o])}),!0):Object(r.isObject)(t)&&Object(r.isObject)(n)?t===n||Object.keys(t).length===Object.keys(n).length&&Object.keys(t).reduce((function(r,o){return r&&e(t[o],n[o])}),!0):t===n}},c=Object(o.b)(o.d,(function(e,t){return Object(r.isEqualWith)(e,t,i())})),s=function(e){return Object(o.b)(o.d,(function(t,n){return Object(r.isEqualWith)(t,n,i(e))}))}},"./MapStore2/web/client/utils/ThumbnailUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e,t){return new Promise((function(n,r){var o=t||{},a=o.width,i=void 0===a?64:a,c=o.height,s=void 0===c?64:c,u=o.contain,l=o.type,p=void 0===l?"image/jpeg":l,f=o.quality,d=void 0===f?.5:f,b=new Image;b.crossOrigin="anonymous",b.onload=function(){var e=b.naturalWidth/b.naturalHeight,t=i,r=s,o=i/s,a=document.createElement("canvas");a.setAttribute("width",i),a.setAttribute("height",s),a.style.width=i+"px",a.style.height=s+"px";var c=a.getContext("2d"),l=!u&&e<o||u&&e>o?[t,t/e]:[r*e,r];c.save(),c.translate(t/2,r/2),c.drawImage(b,-l[0]/2,-l[1]/2,l[0],l[1]),c.restore();var f=a.toDataURL(p,d);n(f)},b.onerror=function(e){r(e)},b.src=e}))},o=function(e,t){return new Promise((function(n,r){var o=t||{},a=o.type,i=void 0===a?"image/jpeg":a,c=o.quality,s=void 0===c?.5:c,u=document.createElement("video");u.crossOrigin="anonymous";var l=document.createElement("source"),p=document.createElement("canvas");u.addEventListener("loadedmetadata",(function(){var e=u.videoWidth,t=u.videoHeight;p.setAttribute("width",e),p.setAttribute("height",t),p.style.width=e+"px",p.style.height=t+"px"}),!0),u.addEventListener("loadeddata",(function(){u.currentTime=1}),!0),u.addEventListener("seeked",(function(){p.getContext("2d").drawImage(u,0,0);try{var e=p.toDataURL(i,s);n(e)}catch(e){r(e)}}),!0),u.addEventListener("error",(function(e){r(e)}),!0),u.appendChild(l),u.setAttribute("src",e)}))},a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,i=null===(e=t.match(a))||void 0===e?void 0:e[1];return i?new Promise((function(e){return e("http://img.youtube.com/vi/".concat(i,"/sddefault.jpg"))})):t.match(/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i)?o(t).then((function(e){return r(e,n)})):new Promise((function(e,t){return t("Cannot create a thumbnail from the provided source")}))}},"./js/epics/index.js":function(e,t,n){"use strict";var r=n("./node_modules/rxjs/Rx.js"),o=n.n(r),a=n("./MapStore2/web/client/actions/styleeditor.js"),i=n("./js/api/geonode.js"),c=n("./MapStore2/web/client/selectors/layers.js"),s=n("./MapStore2/web/client/selectors/map.js"),u=n("./MapStore2/web/client/utils/ConfigUtils.js"),l=n("./MapStore2/web/client/actions/maplayout.js"),p=n("./MapStore2/web/client/actions/controls.js"),f=n("./MapStore2/web/client/actions/config.js"),d=n("./MapStore2/web/client/actions/featuregrid.js"),b=n("./MapStore2/web/client/actions/mapInfo.js"),m=n("./MapStore2/web/client/actions/layers.js"),y=n("./MapStore2/web/client/selectors/mapInfo.js"),g=n("./MapStore2/web/client/selectors/featuregrid.js"),h=n("./MapStore2/node_modules/lodash/head.js"),v=n.n(h),O=n("./MapStore2/node_modules/lodash/get.js"),j=n.n(O),S=n("./node_modules/object-assign/index.js"),w=n.n(S),E=n("./node_modules/connected-react-router/esm/actions.js"),A=n("./MapStore2/web/client/utils/NotificationUtils.js"),x=(n("./MapStore2/web/client/api/GeoStoreDAO.js"),n("./MapStore2/node_modules/lodash/lodash.js")),P=n("./MapStore2/web/client/actions/maps.js"),T=n("./MapStore2/web/client/selectors/maptype.js"),_=(n("./MapStore2/web/client/selectors/security.js"),n("./MapStore2/web/client/actions/security.js"),n("./MapStore2/web/client/utils/ObservableUtils.js"),n("./MapStore2/web/client/utils/MapUtils.js"),n("./MapStore2/web/client/utils/LocaleUtils.js")),M=(n("./MapStore2/web/client/utils/MapInfoUtils.js"),n("./MapStore2/web/client/api/persistence/index.js"));n("./MapStore2/web/client/observables/epics.js");function R(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var U=function(e,t){return e.ofType(P.w).exhaustMap((function(e){var n,r=e.resource,a=Object(x.mapValues)(r.attributes,(function(e){if(Object(x.isObject)(e)){var t=null;try{t=JSON.stringify(e)}catch(e){t=null}return t}return e})),i=Object(x.keys)(a).filter((function(e){return"thumbnail"!==e&&"details"!==e&&!Object(x.isNil)(a[e])}));return o.a.Observable.forkJoin((n=Object(x.get)(r,"attributes.context"),n?Object(M.d)(n,{withData:!1}):o.a.Observable.of(null)),r.id?Object(M.h)(r):Object(M.b)(r)).switchMap((function(e){var n=C(e,2),c=n[0],s=n[1];return(i.length>0?o.a.Observable.forkJoin(i.map((function(e){return Object(M.i)({id:s,name:e,value:a[e]})}))):o.a.Observable.of([])).switchMap((function(){return o.a.Observable.from([].concat(R(r.id?[Object(f.o)(s)]:[]),R(r.id?[Object(f.m)(r.data,s)]:[]),[r.id?Object(p.h)("mapSave"):Object(p.h)("mapSaveAs"),Object(f.t)(r.id)],R(r.id?[]:[Object(P.M)(s,w()({id:s,canDelete:!0,canEdit:!0,canCopy:!0},r.metadata),r.data),Object(E.d)(c?"/context/".concat(c.name,"/").concat(s):"/viewer/".concat(Object(T.c)(t.getState()),"/").concat(s))]))).merge(o.a.Observable.of(Object(A.b)({title:"map.savedMapTitle",message:"map.savedMapMessage",autoDismiss:6,position:"tc"})))}))})).catch((function(e){var t=e.status,n=e.statusText,r=e.data,a=e.message,i=F(e,["status","statusText","data","message"]);return o.a.Observable.of(Object(f.s)(t?{status:t,statusText:n,data:r}:a||i),Object(A.a)(N(N({},Object(_.c)(e,"geostore","mapsError")),{},{autoDismiss:6,position:"tc"})))})).startWith(r.id?Object(P.P)(r.metadata):Object(P.T)(r.metadata))}))},G=n("./MapStore2/web/client/selectors/controls.js");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return Y}));var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType("GEONODE:CREATE_MAP_THUMBNAIL","GEONODE:CREATE_LAYER_THUMBNAIL").do((function(){try{$("#_thumbnail_processing").modal("show")}catch(e){console.log(e)}})).exhaustMap((function(e){var t=e.type,r=n(),a=Object(c.p)(r),u=Object(s.l)(r),l="GEONODE:CREATE_MAP_THUMBNAIL"===t,p=l?j()(u,"info.id"):a[a.length-1].name,f=l?"maps":"layers",d=u.size,b=d.width,m=d.height,y=u.bbox.bounds,g=y.maxx,h=y.minx,v=y.maxy,O={bbox:[h,g,y.miny,v],srid:u.bbox.crs,center:u.center,zoom:u.zoom,width:b,height:m,layers:a.filter((function(e){return"background"!==e.group&&e.visibility})).map((function(e){return e.name})).join(",")};return Object(i.d)(f,p,O).do((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.status;try{$("#_thumbnail_feedbacks").find(".modal-title").text(n),$("#_thumbnail_feedbacks").find(".modal-body").text(t),$("#_thumbnail_feedbacks").modal("show")}catch(e){console.log(e)}})).mapTo({type:"THUMBNAIL_UPDATE"}).catch((function(e){var t=e.code,n=e.message;try{"ECONNABORTED"===t?($("#_thumbnail_feedbacks").find(".modal-title").text("Timeout"),$("#_thumbnail_feedbacks").find(".modal-body").text("Failed from timeout: Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show")):($("#_thumbnail_feedbacks").find(".modal-title").text("Error: "+n),$("#_thumbnail_feedbacks").find(".modal-body").text("Could not create Thumbnail"),$("#_thumbnail_feedbacks").modal("show"))}catch(e){console.log(e)}finally{return o.a.Observable.of({type:"THUMBNAIL_UPDATE_ERROR"})}})).do((function(){try{$("#_thumbnail_processing").modal("hide")}catch(e){console.log(e)}}))}))},Y=function(e,t){return e.ofType(f.d,d.M,p.b,d.f,d.z,b.f,b.x,b.n,b.i,p.d,p.c,m.v,m.j,b.h,b.q).switchMap((function(){var e=t.getState();if(j()(e,"browser.mobile")){var n=z({},Object(y.m)(e)?{bottom:"50%"}:{bottom:void 0});return o.a.Observable.of(Object(l.b)({boundingMapRect:n}))}var r=Object(u.getConfigProp)("mapLayout")||{left:{sm:300,md:500,lg:600},right:{md:658},bottom:{sm:30}};if("embedded"===j()(e,"mode")){var a={height:"calc(100% - "+r.bottom.sm+"px)"},i=z({},Object(y.m)(e)?{bottom:"50%"}:{bottom:void 0});return o.a.Observable.of(Object(l.b)(z(z({},a),{},{boundingMapRect:i})))}var c=j()(e,"controls.drawer.resizedWidth"),s=v()([j()(e,"controls.queryPanel.enabled")&&{left:r.left.lg}||null,j()(e,"controls.widgetBuilder.enabled")&&{left:r.left.md}||null,j()(e,"layers.settings.expanded")&&{left:r.left.md}||null,j()(e,"controls.drawer.enabled")&&{left:c||r.left.sm}||null].filter((function(e){return e})))||{left:0},p=v()([j()(e,"controls.details.enabled")&&{right:r.right.md}||null,j()(e,"controls.annotations.enabled")&&{right:r.right.md}||null,j()(e,"controls.metadataexplorer.enabled")&&{right:r.right.md}||null,j()(e,"controls.measure.enabled")&&Object(G.h)(e)&&{right:r.right.md}||null,j()(e,"mapInfo.enabled")&&Object(y.m)(e)&&{right:r.right.md}||null].filter((function(e){return e})))||{right:0},f=100*Object(g.g)(e),d=Object(g.o)(e)&&{bottom:f+"%",dockSize:f}||{bottom:r.bottom.sm},b=Object(g.o)(e)&&{transform:"translate(0, -"+r.bottom.sm+"px)"}||{transform:"none"},m={height:"calc(100% - "+r.bottom.sm+"px)"},h=z(z(z({},d),s),p);return o.a.Observable.of(Object(l.b)(z(z(z(z(z(z({},s),p),d),b),m),{},{boundingMapRect:h})))}))};t.b={mapSaveMapResourceEpic:U,_setFeatureEditPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(m.t).filter((function(e){return"layer"===e.nodeType&&!Object(u.getConfigProp)("disableCheckEditPermissions")})).switchMap((function(){var e=Object(c.j)(n()||{});return e?Object(i.b)(e).map((function(e){return Object(d.Fb)(e)})).startWith(Object(d.Fb)({canEdit:!1})).catch((function(){return o.a.Observable.empty()})):o.a.Observable.of(Object(d.Fb)({canEdit:!1}))}))},_setThumbnail:H,_setStyleEditorPermission:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getState;return e.ofType(a.f,m.t).filter((function(e){var t=e.nodeType;return t&&"layer"===t&&!Object(u.getConfigProp)("disableCheckEditPermissions")||!t&&!Object(u.getConfigProp)("disableCheckEditPermissions")})).switchMap((function(e){var t=Object(c.j)(n()||{});return t?Object(i.c)(t).map((function(e){var t=e.canEdit;return Object(a.C)(t)})).startWith(Object(a.C)(e.canEdit)).catch((function(){return o.a.Observable.empty()})):o.a.Observable.of(Object(a.C)(!1))}))},updateMapLayoutEpic:Y}},"./js/extend.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=!1},"./js/previewPlugins.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/rxjs/Rx.js"),o=n.n(r),a=n("./js/epics/index.js"),i=n("./js/extend.js"),c=n("./MapStore2/web/client/plugins/Map.jsx"),s=n("./MapStore2/web/client/plugins/Identify.jsx"),u=n("./MapStore2/web/client/plugins/Toolbar.jsx"),l=n("./MapStore2/web/client/plugins/ZoomAll.jsx"),p=n("./MapStore2/web/client/plugins/MapLoading.jsx"),f=n("./MapStore2/web/client/plugins/OmniBar.jsx"),d=n("./MapStore2/web/client/plugins/BackgroundSelector.jsx"),b=n("./MapStore2/web/client/plugins/FullScreen.jsx"),m=n("./MapStore2/web/client/plugins/ZoomIn.jsx"),y=n("./MapStore2/web/client/plugins/ZoomOut.jsx"),g=n("./MapStore2/web/client/plugins/Expander.jsx"),h=n("./MapStore2/web/client/plugins/BurgerMenu.jsx"),v=n("./MapStore2/web/client/plugins/ScaleBox.jsx"),O=n("./MapStore2/web/client/plugins/MapFooter.jsx"),j=n("./MapStore2/web/client/plugins/Print.jsx"),S=n("./MapStore2/web/client/plugins/Timeline.jsx"),w=n("./MapStore2/web/client/plugins/Playback.jsx"),E=n("./MapStore2/web/client/reducers/security.js"),A=n("./MapStore2/web/client/reducers/maps.js"),x=n("./MapStore2/web/client/reducers/maplayout.js"),P=n("./node_modules/react-swipeable-views/lib/index.js"),T=n.n(P),_=n("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx"),M={plugins:{MapPlugin:c.a,IdentifyPlugin:s.a,ToolbarPlugin:u.a,ZoomAllPlugin:l.a,MapLoadingPlugin:p.a,OmniBarPlugin:f.default,BackgroundSelectorPlugin:d.a,FullScreenPlugin:b.a,ZoomInPlugin:m.a,ZoomOutPlugin:y.a,ExpanderPlugin:g.a,BurgerMenuPlugin:h.default,ScaleBoxPlugin:v.a,MapFooterPlugin:O.a,PrintPlugin:j.a,TimelinePlugin:S.a,PlaybackPlugin:w.a,AddReducersAndEpics:{reducers:{security:E.default,maps:A.a,maplayout:x.a},epics:{_setThumbnail:a.a,updateMapLayoutEpic:a.c,zoomToVisibleAreaEpic:function(){return o.a.Observable.empty()}}}},requires:{ReactSwipe:T.a,SwipeHeader:_.a}},R=i.a?Object(i.a)(M):M;t.default=R},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/I18N/css/formControlIntl.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .form-control-intl {\r\n    background-color: unset !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewbutton.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .background-preview-button-label {\r\n    position: absolute;\r\n    overflow: hidden;\r\n    font-weight: bold;\r\n    font-size: 12px;\r\n    text-align: center;\r\n    -webkit-transition: all 0.0s;\r\n    -moz-transition: all 0.0s;\r\n    -o-transition: all 0.0s;\r\n    transition: all 0.0s;\r\n\r\n}\r\n\r\n.msgapi .background-preview-button-label div {\r\n    overflow: hidden;\r\n    opacity: 0.8;\r\n    box-shadow: 0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -webkit-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n    -moz-box-shadow:  0 7px 14px rgba(0,0,0,0.12), 0 5px 5px rgba(0,0,0,0.11);\r\n}\r\n\r\n.msgapi .background-preview-button-container {\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-button-frame {\r\n    overflow: hidden;\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.msgapi .background-preview-button-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-button-container:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .background-preview-button-container:active {\r\n    opacity: 0.6;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/background/css/previewicon.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"\r\n.msgapi .background-preview-icon-frame {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi .background-preview-icon-frame img{\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal {\r\n    cursor: pointer;\r\n    float: left;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-horizontal.disabled-icon {\r\n    cursor: not-allowed;\r\n    float: left;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical {\r\n    cursor: pointer;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:hover {\r\n    cursor: pointer;\r\n    box-shadow: none;\r\n    opacity: 0.9;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical:active {\r\n    opacity: 0.6;\r\n}\r\n\r\n.msgapi .background-preview-icon-container-vertical.disabled-icon {\r\n    cursor: not-allowed;\r\n    opacity: 0.5;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    -moz-box-shadow:  0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/help/help.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar .mapstore-tb-helpbadge {\r\n    display: block;\r\n    background-color: #777;\r\n    position: absolute;\r\n    z-index: 1000;\r\n    top : -10px;\r\n    left: -10px;\r\n}\r\n\r\n\r\n.msgapi #helpbadge-zoomToMaxExtent {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 34px;\r\n    top: 72px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 116px;\r\n    bottom: 48px;\r\n    z-index: 100000\r\n}\r\n\r\n.msgapi #helpbadge-seachBar {\r\n    display: inline;\r\n    position: absolute;\r\n    left: 46px;\r\n    top: 10px;\r\n    z-index: 100000\r\n}\r\n\r\n\r\n.msgapi .btn .badge {\r\n    position: absolute;\r\n    top: -10px;\r\n    left: -10px;\r\n}\r\n\r\n.msgapi .themed .btn .badge {\r\n    top: -35px;\r\n    left: -50px;\r\n}\r\n\r\n.msgapi .badge {\r\n    cursor: pointer;\r\n}\r\n\r\n.msgapi #helpbadge-scaleBox {\r\n    left: 0 !important;\r\n}\r\n\r\n.msgapi #mapstore-navbar #helpbadge-search-help {\r\n    position: absolute;\r\n    left: -10px;\r\n    bottom: -8px;\r\n    z-index: 1;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/burgermenu/burgermenu.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-burger-menu {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n}\r\n\r\n.msgapi .burger-menu-submenu {\r\n    display: none;\r\n    position: absolute;\r\n    left: -160px;\r\n    top: 0px;\r\n    background-color: white;\r\n    width: 160px;\r\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\r\n}\r\n\r\n.msgapi .burger-menu-submenu li:hover {\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a {\r\n    display: block;\r\n    padding: 10px 15px;\r\n}\r\n\r\n.msgapi .burger-menu-submenu li a:hover {\r\n    text-decoration: none;\r\n    background-color: #dddddd;\r\n}\r\n\r\n.msgapi #mapstore-burger-menu .dropdown-menu > li > a:hover > span > .burger-menu-submenu,\r\n.msgapi .burger-menu-submenu > li > a:hover > span > .burger-menu-submenu {\r\n    display: block;\r\n}\r\n\r\n.msgapi .burger-menu-submenu span {\r\n    overflow: hidden;\r\n}\r\n\r\n.msgapi #mapstore-navbar #mapstore-burger-menu {\r\n    position: relative;\r\n    float: right;\r\n    left: 0;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/identify/identify.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .swipe-header-left-button {\r\n    float: left;\r\n}\r\n\r\n.msgapi .swipe-header-right-button {\r\n    float: right;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/map/css/map.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapErrorMessage {\r\n    font-size: 16px;\r\n    color: red;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/maploading/maploading.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-globalspinner  {\r\n    width: 28px;\r\n    height: 28px;\r\n    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.2);\r\n    background-color: white;\r\n    background-size: 80px 80px;\r\n    background-repeat: no-repeat;\r\n    border-radius: 4px;\r\n    border: 1px solid #999;\r\n    z-index: 10;\r\n    top: 90px;\r\n    left: 2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n}\r\n\r\n.msgapi #mapstore-globalspinner .circle-wrapper {\r\n    margin-left: 2px;\r\n    margin-top: 1px;\r\n}\r\n\r\n.msgapi #mapstore-toolbar #mapstore-globalspinner {\r\n    position: static;\r\n    width: 42px;\r\n    margin: 0;\r\n    margin-top: 0;\r\n    height: 35px;\r\n    box-shadow: none;\r\n}\r\n\r\n.msgapi .ms2-loading .sk-circle-wrapper {\r\n     width: 30px;\r\n     height: 30px;\r\n     margin-left: 10px !important;\r\n     margin-top: 10px !important;\r\n }\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/*viewer navbar */\r\n.msgapi .navbar-dx{\r\n\tposition:absolute;\r\n\tright:0;\r\n\ttop:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul{\r\n\tpadding:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul > li{\r\n\tfloat: left;\r\n\tlist-style:none;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\r\n    right: 0;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\r\n    border-color: #fff;\r\n    border-right: 0;\r\n    webkit-box-shadow: none;\r\n    box-shadow: none;\r\n}\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\r\n    border: 0;\r\n}\r\n.msgapi .navbar-dx .search-result-list{\r\n    left: 0;\r\n    max-height: none;\r\n}\r\n\r\n.msgapi .navbar-dx .dropdown-menu {\r\n\tmargin:0;\r\n\tpadding-top: 0;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n    .msgapi .navbar-dx .search-wrap {\r\n       width: 500px;\r\n       height: 50px;\r\n    }\r\n}\r\n\r\n.msgapi .navbar-dx > * {\r\n\tdisplay: inline-block;\r\n}\r\n/* Page Navbar */\r\n.msgapi .navbar-home .dropdown {\r\n\tfloat: right;\r\n}\r\n.msgapi .navbar-home .navbar-header {\r\n\tmargin-top: 7px;\r\n\tmargin-left: 10px;\r\n\tmargin-right: 10px;\r\n\tdisplay: inline-block;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/print/print.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mappreview-scalebox {\r\n    position: relative;\r\n    top: -36px;\r\n    width: 150px;\r\n    left: 10px;\r\n}\r\n\r\n.msgapi .print-error {\r\n    height: 100px;\r\n    color: #600;\r\n    background-color: #E8BABA;\r\n    border: solid #600 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-error span, .msgapi .print-warning span {\r\n    display: inline-block;\r\n    max-height: 80px;\r\n    overflow: auto;\r\n    width: 100%;\r\n}\r\n.msgapi .print-warning {\r\n    height: 50px;\r\n    color: #660;\r\n    background-color: #E6E8BA;\r\n    border: solid #660 1px;\r\n    border-radius: 10px;\r\n    padding: 10px;\r\n}\r\n.msgapi .print-preview-panel .spinner {\r\n    display: inline-block;\r\n}\r\n\r\n.msgapi .print-mappreview-refresh {\r\n    position: relative;\r\n    top: -83px;\r\n    right: -155px;\r\n    z-index: 1000;\r\n}\r\n.msgapi #mapstore-print-panel.modal-dialog {\r\n    z-index: 2000;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body {\r\n    max-height: calc(100vh - 190px);\r\n    overflow-y: auto;\r\n}\r\n\r\n.msgapi .mapstore-print-panel {\r\n    width: 850px;\r\n    position: absolute;\r\n    top: 50px;\r\n    right: 60px;\r\n    zIndex: 100;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .form-inline label {\r\n    margin-right: 20px;\r\n}\r\n\r\n.msgapi .mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 34px;\r\n    border: solid 1px #CCC;\r\n    padding: 7px;\r\n    border-radius: 4px;\r\n    padding-right: 25px;\r\n    padding-left: 11px;\r\n    top: 2px;\r\n    position: relative;\r\n}\r\n\r\n.msgapi .print-layout .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-layout .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title {\r\n    padding-left: 10px;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a{\r\n    text-decoration: none;\r\n}\r\n\r\n.msgapi .print-legend-options .panel-title a:hover{\r\n    color: #d6d6d6;\r\n}\r\n\r\n\r\n@media (min-width: 992px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 825px;\r\n    }\r\n}\r\n\r\n@media (max-width: 991px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 700px;\r\n    }\r\n}\r\n\r\n@media (max-width: 767px) {\r\n    .msgapi #mapstore-print-panel {\r\n        width: 98%;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\r\n    top: -96px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-submit {\r\n    float: right;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n    .msgapi #mapstore-print-panel input[type=radio] {\r\n        margin: 0 8px 0 20px;\r\n    }\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-map-preview {\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-default {\r\n    border: none;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-heading {\r\n    padding-left: 0;\r\n    background-color: transparent;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .panel-body {\r\n    padding: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .form-control {\r\n    padding: 0 10px;\r\n    height: 25px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download {\r\n    margin-right: 10px;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-download a {\r\n    color: white;\r\n}\r\n\r\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/scalebox/scalebox.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-scalebox {\r\n    /*z-index: 10;\r\n    bottom: 6px;\r\n    left: -2px;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n\r\n.msgapi #mapstore-scalebox-container {\r\n    /*z-index: 10;\r\n    bottom: -16px;\r\n    right: 55px;\r\n    left: auto;\r\n    position: absolute;\r\n    margin: 8px;\r\n    width: 148px;*/\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/toolbar/assets/css/toolbar.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapToolbar {\r\n    position: absolute;\r\n    bottom: 5px;\r\n    right: 0;\r\n    z-index: 1000;\r\n    margin-bottom: 35px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter {\r\n  opacity: 0.01;\r\n}\r\n\r\n.msgapi .toolbarexpand-enter.toolbarexpand-enter-active {\r\n  opacity: 1;\r\n  transition: opacity 500ms ease-in;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave {\r\n  opacity: 1;\r\n}\r\n\r\n.msgapi .toolbarexpand-leave.toolbarexpand-leave-active {\r\n  opacity: 0.01;\r\n  transition: opacity 300ms ease-in;\r\n}\r\n\r\n.msgapi #navigationBar .toolbar-panel {\r\n    bottom: 80px !important;\r\n}\r\n\r\n.msgapi #identifyBar .mapToolbar {\r\n    top: auto !important;\r\n    bottom: 5px;\r\n    right: 212px !important;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoom/zoom.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #zoomin-btn, .msgapi #zoomout-btn {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/zoomall/zoomall.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi #mapstore-zoomtomaxextent {\r\n    z-index: 1;\r\n    position: relative;\r\n}\r\n",""])}}]);