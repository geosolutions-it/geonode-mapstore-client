(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/index$":function(e,t,n){var r={"./cesium/plugins/index":"./MapStore2/web/client/components/map/cesium/plugins/index.js","./leaflet/index":"./MapStore2/web/client/components/map/leaflet/index.js","./leaflet/plugins/index":"./MapStore2/web/client/components/map/leaflet/plugins/index.js","./openlayers/index":"./MapStore2/web/client/components/map/openlayers/index.js","./openlayers/plugins/index":"./MapStore2/web/client/components/map/openlayers/plugins/index.js","./popups/index":"./MapStore2/web/client/components/map/popups/index.js"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/index$"},"./MapStore2/web/client/components/map/leaflet/index.js":function(e,t,n){e.exports={LLayer:n("./MapStore2/web/client/components/map/leaflet/Layer.jsx"),Locate:n("./MapStore2/web/client/components/map/leaflet/Locate.jsx"),LMap:n("./MapStore2/web/client/components/map/leaflet/Map.jsx"),MeasurementSupport:n("./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx"),Overview:n("./MapStore2/web/client/components/map/leaflet/Overview.jsx"),ScaleBar:n("./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx"),Feature:n("./MapStore2/web/client/components/map/leaflet/Feature.jsx")}},"./MapStore2/web/client/components/map/openlayers/index.js":function(e,t,n){e.exports={LLayer:n("./MapStore2/web/client/components/map/openlayers/Layer.jsx").default,Locate:n("./MapStore2/web/client/components/map/openlayers/Locate.jsx").default,LMap:n("./MapStore2/web/client/components/map/openlayers/Map.jsx").default,MeasurementSupport:n("./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx").default,Overview:n("./MapStore2/web/client/components/map/openlayers/Overview.jsx").default,ScaleBar:n("./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx").default,Feature:n("./MapStore2/web/client/components/map/openlayers/Feature.jsx").default}},"./MapStore2/web/client/components/print/Choice.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),b=m.FormControl,d=m.FormGroup,h=m.ControlLabel,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(p(e=l.call.apply(l,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props.items.map((function(e){return y.createElement("option",{key:e.value,value:e.value},e.name)}));return y.createElement(d,null,this.props.label?y.createElement(h,null,this.props.label):null,y.createElement(b,{ref:"input",value:this.props.selected,componentClass:"select",onChange:this.onChange},e))}}])&&i(t.prototype,n),r&&i(t,r),c}(y.Component);u(g,"propTypes",{items:f.array,label:f.string,onChange:f.func,selected:f.string}),u(g,"defaultProps",{items:[],label:"Choice",onChange:function(){},selected:""}),e.exports=g},"./MapStore2/web/client/components/print/Font.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),m=n("./MapStore2/web/client/components/print/Choice.jsx"),b=n("./node_modules/react-bootstrap/es/index.js"),d=b.Grid,h=b.Row,g=b.Col,S=b.Button,v=b.Glyphicon,w=n("./MapStore2/web/client/components/I18N/IntlNumberFormControl.jsx"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(p(e=l.call.apply(l,[this].concat(n))),"onChangeFamily",(function(t){e.props.onChangeFamily(t)})),u(p(e),"onChangeSize",(function(t){e.props.onChangeSize(parseInt(t,10))})),u(p(e),"toggleBold",(function(){e.props.onChangeBold(!e.props.bold)})),u(p(e),"toggleItalic",(function(){e.props.onChangeItalic(!e.props.italic)})),e}return t=c,(n=[{key:"render",value:function(){return y.createElement(d,{fluid:!0},y.createElement(h,null,y.createElement(g,{xs:12},y.createElement("label",{className:"control-label"},this.props.label))),y.createElement(h,null,y.createElement(g,{xs:5},y.createElement(m,{ref:"family",onChange:this.onChangeFamily,label:"",items:this.props.fonts.map((function(e){return{name:e,value:e}})),selected:this.props.family})),y.createElement(g,{xs:3},y.createElement(w,{ref:"size",type:"number",value:this.props.size,min:0,precision:0,onChange:this.onChangeSize})),y.createElement(g,{xs:2},y.createElement(S,{bsStyle:"primary",bsSize:"small",active:this.props.bold,onClick:this.toggleBold},y.createElement(v,{glyph:"bold"}))),y.createElement(g,{xs:2},y.createElement(S,{bsStyle:"primary",bsSize:"small",active:this.props.italic,onClick:this.toggleItalic},y.createElement(v,{glyph:"italic"})))))}}])&&i(t.prototype,n),r&&i(t,r),c}(y.Component);u(j,"propTypes",{fonts:f.array,label:f.string,onChangeFamily:f.func,onChangeSize:f.func,onChangeBold:f.func,onChangeItalic:f.func,family:f.string,size:f.number,bold:f.bool,italic:f.bool}),u(j,"defaultProps",{fonts:["Verdana","Serif","SansSerif","Arial","Courier New","Tahoma","Times New Roman"],label:"Font",onChangeFamily:function(){},onChangeSize:function(){},family:"",size:8,bold:!1,italic:!1}),e.exports=j},"./MapStore2/web/client/components/print/MapPreview.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y,m,b,d=n("./node_modules/prop-types/index.js"),h=n("./node_modules/react/index.js"),g=n("./node_modules/object-assign/index.js"),S=n("./MapStore2/web/client/components/mapcontrols/scale/ScaleBox.jsx"),v=n("./node_modules/react-bootstrap/es/index.js"),w=v.Button,j=v.Glyphicon,x=n("./MapStore2/web/client/utils/PrintUtils.js"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,r,p,u=l(d);function d(){var e;i(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(c(e=u.call.apply(u,[this].concat(n))),"getRatio",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.layoutSize.width/e.props.width*e.props.printRatio:1})),f(c(e),"getResolutions",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.resolutions.map((function(t){return t*e.getRatio()})):e.props.resolutions})),f(c(e),"adjustResolution",(function(t){var n=e.getRatio(),r=Math.round(96/n);return g({},t,{params:g({},t.params,{format_options:"dpi:"+r,"MAP.RESOLUTION":r})})})),f(c(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(n){return h.createElement(b,{crs:t,key:n.id,type:n.type,geometry:n.geometry,features:n.features,msId:n.id,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:n.style||e.style||null,properties:n.properties})})):null})),e}return t=d,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=n("./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/index$")("./"+this.props.mapType+"/index");y=e.LMap,m=e.LLayer,b=e.Feature,n("./MapStore2/web/client/components/map sync recursive ^\\.\\/.*\\/plugins\\/index$")("./"+this.props.mapType+"/plugins/index")}},{key:"render",value:function(){var e=this,t=g({},this.props.style,{width:this.props.width+"px",height:this.props.height+"px"}),n=this.getResolutions(),r=n?{view:{resolutions:n}}:{},i=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map&&this.props.map.center?h.createElement("div",{className:"print-map-preview"},h.createElement(y,o({ref:"mappa"},this.props.map,{resize:this.props.height,style:t,interactive:!1,onMapViewChanges:this.props.onMapViewChanges,zoomControl:!1,zoom:this.props.useFixedScales&&this.props.scales?x.getMapZoom(this.props.map.scaleZoom,this.props.scales):this.props.map.zoom,center:this.props.map.center,id:"print_preview",registerHooks:!1,mapOptions:r}),this.props.layers.map((function(t,n){return h.createElement(m,{key:t.id||t.name,position:n,type:t.type,options:g({},e.adjustResolution(t),{srs:i}),env:e.props.env},e.renderLayerContent(t,i))}))),this.props.enableScalebox?h.createElement(S,{id:"mappreview-scalebox",currentZoomLvl:this.props.map.scaleZoom,scales:this.props.scales,onChange:this.props.onChangeZoomLevel}):null,this.props.enableRefresh?h.createElement(w,{bsStyle:"primary",onClick:this.props.onMapRefresh,className:"print-mappreview-refresh"},h.createElement(j,{glyph:"refresh"})):null):null}}])&&a(t.prototype,r),p&&a(t,p),d}(h.Component);f(O,"propTypes",{map:d.object,layers:d.array,style:d.object,scales:d.array,onChangeZoomLevel:d.func,onMapViewChanges:d.func,onMapRefresh:d.func,height:d.number,width:d.number,mapType:d.string,enableRefresh:d.bool,enableScalebox:d.bool,resolutions:d.array,printRatio:d.number,layout:d.string,layoutSize:d.object,useFixedScales:d.bool,env:d.object}),f(O,"defaultProps",{map:null,layers:[],mapType:"leaflet",style:{display:"block",border:"1px solid black",position:"relative"},onChangeZoomLevel:function(){},onMapViewChanges:function(){},onMapRefresh:function(){},width:370,height:270,enableRefresh:!0,enableScalebox:!0,printRatio:96/72,useFixedScales:!1}),e.exports=O},"./MapStore2/web/client/components/print/PrintOption.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js").Checkbox,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(p(e=l.call.apply(l,[this].concat(n))),"onChange",(function(){e.props.onChange(!e.refs.input.props.checked)})),u(p(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=c,(n=[{key:"render",value:function(){return y.createElement(m,{disabled:!this.isEnabled(),ref:"input",checked:this.props.checked,onChange:this.onChange},this.props.label)}}])&&i(t.prototype,n),r&&i(t,r),c}(y.Component);u(b,"propTypes",{layouts:f.array,enableRegex:f.oneOfType([f.object,f.string]),label:f.string,onChange:f.func,checked:f.bool,isEnabled:f.func}),u(b,"defaultProps",{layouts:[],enableRegex:/^.*$/,label:"Option",onChange:function(){},checked:!1}),e.exports=b},"./MapStore2/web/client/components/print/PrintOptions.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js").Radio,b=n("./MapStore2/web/client/utils/LocaleUtils.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(p(e=l.call.apply(l,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),u(p(e),"renderOptions",(function(){return e.props.options.map((function(t){return y.createElement(m,{key:t.label,disabled:!e.isEnabled(),ref:"input"+t.value,checked:e.props.selected===t.value,onChange:e.onChange,value:t.value},b.getMessageById(e.context.messages,t.label))}))})),u(p(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=c,(n=[{key:"render",value:function(){return y.createElement("span",{className:"form-inline"},this.renderOptions())}}])&&i(t.prototype,n),r&&i(t,r),c}(y.Component);u(d,"propTypes",{layouts:f.array,enableRegex:f.oneOfType([f.object,f.string]),options:f.array,onChange:f.func,selected:f.string,isEnabled:f.func}),u(d,"contextTypes",{messages:f.object}),u(d,"defaultProps",{layouts:[],enableRegex:/^.*$/,options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:function(){},selected:"Option1"}),e.exports=d},"./MapStore2/web/client/components/print/PrintPreview.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),b=m.Button,d=m.Glyphicon,h=n("./node_modules/react-pdf/dist/entry.js"),g=h.Document,S=h.Page,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(p(e=l.call.apply(l,[this].concat(n))),"onDocumentComplete",(function(t){e.props.setPages(t&&t.numPages||0)})),u(p(e),"firstPage",(function(){e.props.currentPage>0&&e.props.setPage(0)})),u(p(e),"lastPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.pages-1)})),u(p(e),"prevPage",(function(){e.props.currentPage>0&&e.props.setPage(e.props.currentPage-1)})),u(p(e),"nextPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.currentPage+1)})),u(p(e),"zoomIn",(function(){e.props.setScale(e.props.scale*e.props.zoomFactor)})),u(p(e),"zoomOut",(function(){e.props.setScale(e.props.scale/e.props.zoomFactor)})),e}return t=c,(n=[{key:"render",value:function(){return window.PDFJS?y.createElement("div",null,y.createElement("div",{style:this.props.style},y.createElement(g,{file:this.props.url,onLoadSuccess:this.onDocumentComplete},y.createElement(S,{pageNumber:this.props.currentPage+1,scale:this.props.scale}))),y.createElement("div",{style:{marginTop:"10px"}},y.createElement(b,{bsStyle:this.props.buttonStyle,style:{marginRight:"10px"},onClick:this.props.back},y.createElement(d,{glyph:"arrow-left"})),y.createElement(b,{bsStyle:this.props.buttonStyle,disabled:this.props.scale>=this.props.maxScale,onClick:this.zoomIn},y.createElement(d,{glyph:"zoom-in"})),y.createElement(b,{bsStyle:this.props.buttonStyle,disabled:this.props.scale<=this.props.minScale,onClick:this.zoomOut},y.createElement(d,{glyph:"zoom-out"})),y.createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.scale,"x"),y.createElement("div",{className:"print-download btn btn-"+this.props.buttonStyle},y.createElement("a",{href:this.props.url,target:"_blank"},y.createElement(d,{glyph:"save"}))),y.createElement(b,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.firstPage},y.createElement(d,{glyph:"step-backward"})),y.createElement(b,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.prevPage},y.createElement(d,{glyph:"chevron-left"})),y.createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.currentPage+1," / ",this.props.pages),y.createElement(b,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.nextPage},y.createElement(d,{glyph:"chevron-right"})),y.createElement(b,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.lastPage},y.createElement(d,{glyph:"step-forward"})))):null}}])&&i(t.prototype,n),r&&i(t,r),c}(y.Component);u(v,"propTypes",{url:f.string,scale:f.number,currentPage:f.number,pages:f.number,zoomFactor:f.number,minScale:f.number,maxScale:f.number,back:f.func,setScale:f.func,setPage:f.func,setPages:f.func,style:f.object,buttonStyle:f.string}),u(v,"defaultProps",{url:null,scale:1,minScale:.25,maxScale:8,currentPage:0,pages:1,zoomFactor:2,back:function(){},setScale:function(){},setPage:function(){},setPages:function(){},style:{height:"500px",width:"800px",overflow:"auto",backgroundColor:"#888",padding:"10px"},buttonStyle:"default"}),e.exports=v},"./MapStore2/web/client/components/print/PrintSubmit.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),b=m.Button,d=m.Glyphicon,h=n("./node_modules/react-spinkit/dist/index.js"),g=n("./MapStore2/web/client/components/I18N/Message.jsx"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,p=l(c);function c(){return i(this,c),p.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props.glyph?y.createElement(d,{glyph:this.props.glyph}):y.createElement("span",null);return y.createElement(b,o({className:"print-submit",disabled:this.props.disabled},this.props.buttonConfig,{style:{marginTop:"10px",marginRight:"5px"},onClick:this.props.onPrint}),this.props.loading?y.createElement(h,{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):e," ",y.createElement(g,{msgId:"print.submit"}))}}])&&a(t.prototype,n),r&&a(t,r),c}(y.Component);u(S,"propTypes",{loading:f.bool,onPrint:f.func,disabled:f.bool,buttonConfig:f.object,glyph:f.string}),u(S,"defaultProps",{loading:!1,onPrint:function(){},disabled:!1,buttonConfig:{bsSize:"large"},glyph:"print"}),e.exports=S},"./MapStore2/web/client/components/print/Sheet.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/prop-types/index.js"),b=n("./node_modules/react/index.js"),d=n("./MapStore2/web/client/components/print/Choice.jsx"),h=n("./MapStore2/node_modules/lodash/lodash.js").isFunction,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,n,r,c=p(f);function f(){var e;a(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(u(e=c.call.apply(c,[this].concat(n))),"getLayoutName",(function(t){return e.props.layoutNames?h(e.props.layoutNames)?e.props.layoutNames(t):e.props.layoutNames[t]||t:t})),y(u(e),"getSheetFormats",(function(){return e.props.layouts.reduce((function(t,n){var r=n.name.match(e.props.sheetRegex);return r&&r.length>0&&-1===t.indexOf(r[r.length-1])&&t.concat([r[r.length-1]])||t}),[]).map((function(t){return{name:e.getLayoutName(t),value:t}}))})),e}return t=f,(n=[{key:"render",value:function(){var e=this.props,t=(e.children,e.sheetRegex,e.layouts,i(e,["children","sheetRegex","layouts"]));return b.createElement(d,o({},t,{items:this.getSheetFormats()}))}}])&&s(t.prototype,n),r&&s(t,r),f}(b.Component);y(g,"propTypes",{layouts:m.array,sheetRegex:m.oneOfType([m.object,m.string]),label:m.string,onChange:m.func,selected:m.string,layoutNames:m.oneOfType([m.object,m.func])}),y(g,"defaultProps",{layouts:[],sheetRegex:/^[^_]+/,label:"Sheet Size",onChange:function(){},selected:""}),e.exports=g},"./MapStore2/web/client/plugins/print/index.js":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js").connect,i=n("./node_modules/redux/es/index.js").compose,a=n("./MapStore2/web/client/utils/ConfigUtils.js"),s=n("./node_modules/react-bootstrap/es/index.js"),l=s.FormControl,p=s.FormGroup,c=s.ControlLabel,u=n("./MapStore2/web/client/actions/print.js"),f=u.setPrintParameter,y=u.changePrintZoomLevel,m=u.changeMapPrintPreview,b=u.printCancel,d=n("./MapStore2/web/client/actions/controls.js").setControlProperty,h=function(e){return r.createElement(p,null,e.label&&r.createElement(c,null,e.label)||null,r.createElement(l,e))},g=o((function(e){return{value:e.print&&e.print.spec&&e.print.spec.name||"",type:"text"}}),{onChange:i(f.bind(null,"name"),(function(e){return e.target.value}))})(h),S=o((function(e){return{value:e.print&&e.print.spec&&e.print.spec.description||"",componentClass:"textarea"}}),{onChange:i(f.bind(null,"description"),(function(e){return e.target.value}))})(h),v=o((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.resolution||"",items:e.print&&e.print.capabilities&&e.print.capabilities.dpis.map((function(e){return{name:e.name+" dpi",value:e.value}}))||[]}}),{onChange:f.bind(null,"resolution")})(n("./MapStore2/web/client/components/print/Choice.jsx")),w=o((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.sheet}}),{onChange:f.bind(null,"sheet")})(n("./MapStore2/web/client/components/print/Sheet.jsx")),j=n("./MapStore2/web/client/selectors/print.js"),x=j.currentLayouts,O=j.twoPageEnabled,P=o((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.includeLegend,layouts:x(e)}}),{onChange:f.bind(null,"includeLegend")})(n("./MapStore2/web/client/components/print/PrintOption.jsx")),C=o((function(e){return{checked:e.print&&e.print.spec.includeLegend&&e.print.spec&&!!e.print.spec.twoPages,layouts:x(e),isEnabled:function(){return O(e)}}}),{onChange:f.bind(null,"twoPages")})(n("./MapStore2/web/client/components/print/PrintOption.jsx")),E=o((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.landscape?"landscape":"portrait",layouts:x(e),options:[{label:"print.alternatives.landscape",value:"landscape"},{label:"print.alternatives.portrait",value:"portrait"}]}}),{onChange:i(f.bind(null,"landscape"),(function(e){return"landscape"===e}))})(n("./MapStore2/web/client/components/print/PrintOptions.jsx")),M=o((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.forceLabels}}),{onChange:f.bind(null,"forceLabels")})(n("./MapStore2/web/client/components/print/PrintOption.jsx")),_=o((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.antiAliasing}}),{onChange:f.bind(null,"antiAliasing")})(n("./MapStore2/web/client/components/print/PrintOption.jsx")),R=o((function(e){return{value:e.print&&e.print.spec&&e.print.spec.iconSize,type:"number"}}),{onChange:i(f.bind(null,"iconSize"),(function(e){return parseInt(e.target.value,10)}))})(h),L=o((function(e){return{value:e.print&&e.print.spec&&e.print.spec.legendDpi,type:"number"}}),{onChange:i(f.bind(null,"legendDpi"),(function(e){return parseInt(e.target.value,10)}))})(h),k=o((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.defaultBackground}}),{onChange:f.bind(null,"defaultBackground")})(n("./MapStore2/web/client/components/print/PrintOption.jsx")),T=o((function(e){return{family:e.print&&e.print.spec&&e.print.spec.fontFamily,size:e.print&&e.print.spec&&e.print.spec.fontSize,bold:e.print&&e.print.spec&&e.print.spec.bold,italic:e.print&&e.print.spec&&e.print.spec.italic}}),{onChangeFamily:f.bind(null,"fontFamily"),onChangeSize:f.bind(null,"fontSize"),onChangeBold:f.bind(null,"bold"),onChangeItalic:f.bind(null,"italic")})(n("./MapStore2/web/client/components/print/Font.jsx")),F=o((function(e){return{map:e.print&&e.print.map,layers:e.print&&e.print.map&&e.print.map.layers||[],scales:e.print&&e.print.capabilities&&e.print.capabilities.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[]}}),{onChangeZoomLevel:y,onMapViewChanges:m})(n("./MapStore2/web/client/components/print/MapPreview.jsx")),z=o((function(e){return{loading:e.print&&e.print.isLoading||!1}}))(n("./MapStore2/web/client/components/print/PrintSubmit.jsx")),N=o((function(e){return{url:e.print&&a.getProxiedUrl(e.print.pdfUrl),scale:e.controls&&e.controls.print&&e.controls.print.viewScale||.5,currentPage:e.controls&&e.controls.print&&e.controls.print.currentPage||0,pages:e.controls&&e.controls.print&&e.controls.print.pages||1}}),{back:b,setPage:d.bind(null,"print","currentPage"),setPages:d.bind(null,"print","pages"),setScale:d.bind(null,"print","viewScale")})(n("./MapStore2/web/client/components/print/PrintPreview.jsx"));e.exports={Name:g,Description:S,Resolution:v,DefaultBackgroundOption:k,Sheet:w,LegendOption:P,MultiPageOption:C,LandscapeOption:E,ForceLabelsOption:M,AntiAliasingOption:_,IconSizeOption:R,LegendDpiOption:L,Font:T,MapPreview:F,PrintSubmit:z,PrintPreview:N}},"./MapStore2/web/client/selectors/print.js":function(e,t,n){"use strict";n.r(t),n.d(t,"currentLayouts",(function(){return r})),n.d(t,"twoPageEnabled",(function(){return o}));var r=function(e){return e.print&&e.print.capabilities&&e.print.capabilities.layouts.filter((function(t){return 0===t.name.indexOf(e.print.spec.sheet)}))||[]},o=function(e){return e.print&&e.print.spec&&e.print.spec.includeLegend}},"./MapStore2/web/client/utils/PrintUtils.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),p=n("./MapStore2/web/client/utils/SecurityUtils.js"),c=n("./MapStore2/web/client/utils/MapUtils.js"),u=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,f=n("./MapStore2/web/client/utils/AnnotationsUtils.js"),y=n("./MapStore2/web/client/utils/ColorUtils.js").colorToHexStr,m=n("./MapStore2/web/client/utils/TileConfigProvider.js").default.getLayerConfig,b=n("./MapStore2/web/client/utils/TileProviderUtils.js").extractValidBaseURL,d=n("./MapStore2/web/client/utils/WMTSUtils.js"),h=n("./MapStore2/web/client/utils/TMSUtils.js").guessFormat,g=n("./node_modules/ol/proj.js").get,S=n("./MapStore2/node_modules/lodash/lodash.js"),v=S.isArray,w=S.filter,j=S.find,x=S.isEmpty,O=S.toNumber,P=S.castArray,C=n("./MapStore2/web/client/api/WFS.js").getFeature,E=n("./MapStore2/web/client/utils/LayerLocalizationUtils.js").generateEnvString,M=n("./node_modules/url/url.js"),_=c.getGoogleMercatorScales(0,21),R=n("./node_modules/object-assign/index.js"),L=function(e){return"annotations"===e.id||"Measurements"===e.name},k=function(e){return e.opacity||(0===e.opacity?0:1)},T={preloadData:function(e){var t=w(e.layers,{type:"wfs"});return t.length>0?Promise.all(t.map((function(t){return C(t.url,t.name,a({outputFormat:"application/json",srsName:e.projection},u(t)||{})).then((function(e){var n=e.data;return{id:t.id,geoJson:n}}))}))).then((function(t){return a(a({},e),{},{layers:(e.layers||[]).map((function(e){var n=j(t,{id:e.id});return"wfs"===e.type&&n?a(a({},e),n):e}))})})):new Promise((function(t){t(e)}))},toAbsoluteURL:function(e,t){return-1!==e.search(/^\/\//)?window.location.protocol+e:-1!==e.search(/:\/\//)?e:-1!==e.search(/^\//)?(t||window.location.origin)+e:e},normalizeUrl:function(e){var t=v(e)?e[0]:e;return-1!==t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),T.toAbsoluteURL(t)},getLayoutName:function(e){var t=[e.sheet];return e.includeLegend?e.twoPages&&t.push("2_pages_legend"):t.push("no_legend"),e.landscape&&t.push("landscape"),t.join("_")},getPrintScales:function(e){return e.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[]},getNearestZoom:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=n[Math.round(e)];return t.reduce((function(e,t,n){return t<r?e:n}),0)},getMapZoom:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_,r=t[Math.round(e)];return n.reduce((function(e,t,n){return t<r?e:n}),0)+1},getMapSize:function(e,t){if(e){var n=e.rotation?e.map.height:e.map.width;return{width:t,height:(e.rotation?e.map.width:e.map.height)/n*t}}return{width:100,height:100}},getMapfishPrintSpecification:function(e){var t=l.reproject(e.center,"EPSG:4326",e.projection);return{units:l.getUnits(e.projection),srs:l.normalizeSRS(e.projection||"EPSG:3857"),layout:T.getLayoutName(e),dpi:parseInt(e.resolution,10),outputFilename:"mapstore-print",geodetic:!1,mapTitle:e.name||"",comment:e.description||"",layers:T.getMapfishLayersSpecification(e.layers,e,"map"),pages:[{center:[t.x,t.y],scale:e.scale||_[Math.round(e.scaleZoom)],rotation:0}],legends:T.getMapfishLayersSpecification(e.layers,e,"legend")}},getMapfishLayersSpecification:function(e,t,n){return e.filter((function(e){return T.specCreators[e.type]&&T.specCreators[e.type][n]})).map((function(e){return T.specCreators[e.type][n](e,t)}))},specCreators:{wms:{map:function(e,t){return{baseURL:T.normalizeUrl(e.url)+"?",opacity:k(e),singleTile:!1,type:"WMS",layers:[e.name],format:e.format||"image/png",styles:[e.style||""],customParams:p.addAuthenticationParameter(T.normalizeUrl(e.url),R({TRANSPARENT:!0,TILED:!0,EXCEPTIONS:"application/vnd.ogc.se_inimage",scaleMethod:"accurate",ENV:E(t.env)},e.baseParams||{},e.params||{},a({},u({layerFilter:e.layerFilter,filterObj:e.filterObj}))))}},legend:function(e,t){return{name:e.title||e.name,classes:[{name:"",icons:[T.normalizeUrl(e.url)+M.format({query:p.addAuthenticationParameter(T.normalizeUrl(e.url),a({TRANSPARENT:!0,EXCEPTIONS:"application/vnd.ogc.se_xml",VERSION:"1.1.1",SERVICE:"WMS",REQUEST:"GetLegendGraphic",LAYER:e.name,LANGUAGE:t.language||"",STYLE:e.style||"",SCALE:t.scale,height:t.iconSize,width:t.iconSize,minSymbolSize:t.iconSize,LEGEND_OPTIONS:"forceLabels:"+(t.forceLabels?"on":"")+";fontAntialiasing:"+t.antiAliasing+";dpi:"+t.legendDpi+";fontStyle:"+((t.bold?"bold":t.italic&&"italic")||"")+";fontName:"+t.fontFamily+";fontSize:"+t.fontSize,format:"image/png"},R({},e.params)))})]}]}}},vector:{map:function(e,t){return{type:"Vector",name:e.name,opacity:k(e),styleProperty:"ms_style",styles:{1:T.toOpenLayers2Style(e,e.style),Polygon:T.toOpenLayers2Style(e,e.style,"Polygon"),LineString:T.toOpenLayers2Style(e,e.style,"LineString"),Point:T.toOpenLayers2Style(e,e.style,"Point"),FeatureCollection:T.toOpenLayers2Style(e,e.style,"FeatureCollection")},geoJson:l.reprojectGeoJson({type:"FeatureCollection",features:L(e)&&f.annotationsToPrint(e.features)||e.features.map((function(e){return a(a({},e),{},{properties:a(a({},e.properties),{},{ms_style:e&&e.geometry&&e.geometry.type&&e.geometry.type.replace("Multi","")||1})})}))},"EPSG:4326",t.projection)}}},wfs:{map:function(e){return{type:"Vector",name:e.name,opacity:k(e),styleProperty:"ms_style",styles:{1:T.toOpenLayers2Style(e,e.style),Polygon:T.toOpenLayers2Style(e,e.style,"Polygon"),LineString:T.toOpenLayers2Style(e,e.style,"LineString"),Point:T.toOpenLayers2Style(e,e.style,"Point"),FeatureCollection:T.toOpenLayers2Style(e,e.style,"FeatureCollection")},geoJson:e.geoJson&&{type:"FeatureCollection",features:e.geoJson.features.map((function(e){return a(a({},e),{},{properties:a(a({},e.properties),{},{ms_style:e&&e.geometry&&e.geometry.type&&e.geometry.type.replace("Multi","")||1})})}))}}}},osm:{map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{baseURL:"http://a.tile.openstreetmap.org/",opacity:k(e),singleTile:!1,type:"OSM",maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],extension:"png",resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135]}}},mapquest:{map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{baseURL:"http://otile1.mqcdn.com/tiles/1.0.0/map/",opacity:k(e),singleTile:!1,type:"OSM",maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],extension:"png",resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135]}}},wmts:{map:function(e,t){var n=t.projection,r=d.getTileMatrix(e,n),o=r.tileMatrixSet,i=r.tileMatrixSetName;if(!o)throw Error("tile matrix not found for pdf EPSG"+n);var s=T.getWMTSMatrixIds(e,o),l=T.normalizeUrl(P(e.url)[0]),c={};return l.indexOf("{Style}")>=0&&(c={dimensions:["Style"],params:{STYLE:e.style}}),a(a({baseURL:encodeURI(l),format:e.format||"image/png",type:"WMTS",layer:e.name,"customParams ":p.addAuthenticationParameter(e.capabilitiesURL,R({TRANSPARENT:!0}))},c),{},{matrixIds:s,matrixSet:i,style:e.style,name:e.name,requestEncoding:"RESTful"===e.requestEncoding?"REST":e.requestEncoding,opacity:k(e),version:e.version||"1.0.0"})}},tileprovider:{map:function(e){var t=r(m(e.provider,e),2),n=t[0],o=t[1];if(!x(o)){var i,s=b(a(a({},o),{},{url:null!==(i=null==o?void 0:o.url)&&void 0!==i?i:n}));if(!s)throw Error("No base URL found for this layer");var l=s.indexOf("{");return{baseURL:s.slice(0,l),path_format:s.slice(l).replace("{x}","${x}").replace("{y}","${y}").replace("{z}","${z}"),type:"xyz",extension:s.split(".").pop()||"png",opacity:k(e),tileSize:[256,256],maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135].filter((function(e,t){var n=!0;return o.maxNativeZoom&&(n=n&&t<=o.maxNativeZoom),n}))}}return{}}},tms:{map:function(e){var t=e.tileMapUrl.split(e.tileMapService+"/")[1];return{type:"tms",opacity:k(e),layer:t,baseURL:e.tileMapService.substring(0,e.tileMapService.lastIndexOf("/1.0.0")),tileSize:e.tileSize,format:h(e.tileMapUrl),maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],resolutions:e.tileSets.map((function(e){return e.resolution}))}}}},getWMTSMatrixIds:function(e,t){var n=[],r=l.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=g(r),i=o.getMetersPerUnit();return t&&t.TileMatrix.map((function(e){var t=e["ows:Identifier"],r=28e-5*e.ScaleDenominator/i,o=[O(e.TileWidth),O(e.TileHeight)],a=e.TopLeftCorner&&e.TopLeftCorner.split(" ").map((function(e){return O(e)})),s=[O(e.MatrixWidth),O(e.MatrixHeight)];return n.push({identifier:t,matrixSize:s,resolution:r,tileSize:o,topLeftCorner:a})})),n},rgbaTorgb:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},toOpenLayers2Style:function(e,t,n){return t&&"marker"!==e.styleName?{fillColor:y(t.fillColor),fillOpacity:t.fillOpacity,externalGraphic:t.iconUrl,pointRadius:t.radius,strokeColor:y(t.color),strokeOpacity:t.opacity,strokeWidth:t.weight}:T.getOlDefaultStyle(e,n)},getOlDefaultStyle:function(e,t){switch(t||function(e){return e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:e.features&&e.features[0].features&&e.features[0].style&&e.features[0].style.type?e.features[0].style.type:void 0}(e)||""){case"Polygon":case"MultiPolygon":return{fillColor:"#0000FF",fillOpacity:.1,strokeColor:"#0000FF",strokeOpacity:1,strokeWidth:3,strokeDashstyle:"dash",strokeLinecap:"round"};case"MultiLineString":case"LineString":return{strokeColor:"#0000FF",strokeOpacity:1,strokeWidth:3};case"Point":case"MultiPoint":return"marker"===e.styleName?{externalGraphic:"http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/images/marker-icon.png",graphicWidth:25,graphicHeight:41,graphicXOffset:-12,graphicYOffset:-41}:{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeWidth:1};default:return{fillColor:"#0000FF",fillOpacity:.1,strokeColor:"#0000FF",pointRadius:5,strokeOpacity:1,strokeWidth:1}}}};e.exports=T},"./MapStore2/web/client/utils/TMSUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"guessFormat",(function(){return o}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("?")[0].split("@");if(t.length>1){var n=t[t.length-1];if(Object(r.includes)(["png","png8","jpeg","vnd.jpeg-png","gif"],n))return n}return null}},10:function(e,t){},11:function(e,t){},12:function(e,t){},9:function(e,t){}}]);