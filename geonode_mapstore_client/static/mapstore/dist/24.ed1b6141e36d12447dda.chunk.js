(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css":function(t,e,i){(t.exports=i("./node_modules/css-loader/lib/css-base.js")()).push([t.i,".msgapi .leaflet-grid-label .gridlabel-vert {\n    margin-left: 8px;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.msgapi .leaflet-grid-label .gridlabel-vert,\n.msgapi .leaflet-grid-label .gridlabel-horiz {\n    padding-left:2px;\n    text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n",""])},"./node_modules/leaflet-plugins/layer/tile/Bing.js":function(t,e){L.BingLayer=L.TileLayer.extend({options:{subdomains:[0,1,2,3],type:"Aerial",attribution:"Bing",culture:""},initialize:function(t,e){L.Util.setOptions(this,e),this._key=t,this._url=null,this._providers=[],this.metaRequested=!1},tile2quad:function(t,e,i){for(var s="",n=i;n>0;n--){var a=0,o=1<<n-1;0!=(t&o)&&(a+=1),0!=(e&o)&&(a+=2),s+=a}return s},getTileUrl:function(t){var e=this._getZoomForUrl(),i=this.options.subdomains,s=this.options.subdomains[Math.abs((t.x+t.y)%i.length)];return this._url.replace("{subdomain}",s).replace("{quadkey}",this.tile2quad(t.x,t.y,e)).replace("{culture}",this.options.culture)},loadMetadata:function(){if(!this.metaRequested){this.metaRequested=!0;var t=this,e="_bing_metadata_"+L.Util.stamp(this);window[e]=function(i){window[e]=void 0;var s=document.getElementById(e);if(s.parentNode.removeChild(s),i.errorDetails)throw new Error(i.errorDetails);t.initMetadata(i)};var i="file:"===document.location.protocol?"http":document.location.protocol.slice(0,-1),s=i+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+e+"&key="+this._key+"&UriScheme="+i,n=document.createElement("script");n.type="text/javascript",n.src=s,n.id=e,document.getElementsByTagName("head")[0].appendChild(n)}},initMetadata:function(t){var e=t.resourceSets[0].resources[0];if(this.options.subdomains=e.imageUrlSubdomains,this._url=e.imageUrl,e.imageryProviders)for(var i=0;i<e.imageryProviders.length;i++)for(var s=e.imageryProviders[i],n=0;n<s.coverageAreas.length;n++){var a=s.coverageAreas[n],o={zoomMin:a.zoomMin,zoomMax:a.zoomMax,active:!1},r=new L.LatLngBounds(new L.LatLng(a.bbox[0]+.01,a.bbox[1]+.01),new L.LatLng(a.bbox[2]-.01,a.bbox[3]-.01));o.bounds=r,o.attrib=s.attribution,this._providers.push(o)}this._update()},_update:function(){null!==this._url&&this._map&&(this._update_attribution(),L.TileLayer.prototype._update.apply(this,[]))},_update_attribution:function(){for(var t=L.latLngBounds(this._map.getBounds().getSouthWest().wrap(),this._map.getBounds().getNorthEast().wrap()),e=this._map.getZoom(),i=0;i<this._providers.length;i++){var s=this._providers[i];e<=s.zoomMax&&e>=s.zoomMin&&t.intersects(s.bounds)?(!s.active&&this._map.attributionControl&&this._map.attributionControl.addAttribution(s.attrib),s.active=!0):(s.active&&this._map.attributionControl&&this._map.attributionControl.removeAttribution(s.attrib),s.active=!1)}},onAdd:function(t){this.loadMetadata(),L.TileLayer.prototype.onAdd.apply(this,[t])},onRemove:function(t){for(var e=0;e<this._providers.length;e++){var i=this._providers[e];i.active&&this._map.attributionControl&&(this._map.attributionControl.removeAttribution(i.attrib),i.active=!1)}L.TileLayer.prototype.onRemove.apply(this,[t])}}),L.bingLayer=function(t,e){return new L.BingLayer(t,e)}},"./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css":function(t,e,i){var s=i("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css");"string"==typeof s&&(s=[[t.i,s,""]]);i("./node_modules/style-loader/addStyles.js")(s,{});s.locals&&(t.exports=s.locals)},"./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js":function(t,e,i){var s=i("./MapStore2/web/client/libs/leaflet.js"),n=s.LayerGroup.extend({options:{interval:20,showOriginLabel:!0,redraw:"move"},lineStyle:{stroke:!0,color:"#111",opacity:.6,weight:1},initialize:function(t){s.LayerGroup.prototype.initialize.call(this),s.Util.setOptions(this,t)},onAdd:function(t){this._map=t;var e=this.redraw();this._map.on("viewreset "+this.options.redraw,e.redraw,e),this.eachLayer(t.addLayer,t)},onRemove:function(t){t.off("viewreset "+this.options.redraw,this.map),this.eachLayer(this.removeLayer,this)},redraw:function(){return this._bounds=this._map.getBounds().pad(.5),this.clearLayers(),this.constructLines(this.getMins(),this.getLineCounts()),this.options.showOriginLabel&&this.addLayer(this.addOriginLabel()),this},getLineCounts:function(){return{x:Math.ceil((this._bounds.getEast()-this._bounds.getWest())/this.options.interval),y:Math.ceil((this._bounds.getNorth()-this._bounds.getSouth())/this.options.interval)}},getMins:function(){var t=this.options.interval;return{x:Math.floor(this._bounds.getWest()/t)*t,y:Math.floor(this._bounds.getSouth()/t)*t}},constructLines:function(t,e){for(var i=new Array(e.x+e.y),s=new Array(e.x+e.y),n=0;n<=e.x;n++){var a=t.x+n*this.options.interval;i[n]=this.buildXLine(a),s[n]=this.buildLabel("gridlabel-horiz",a)}for(var o=0;o<=e.y;o++){var r=t.y+o*this.options.interval;i[o+n]=this.buildYLine(r),s[o+n]=this.buildLabel("gridlabel-vert",r)}i.forEach(this.addLayer,this),s.forEach(this.addLayer,this)},buildXLine:function(t){var e=new s.LatLng(this._bounds.getSouth(),t),i=new s.LatLng(this._bounds.getNorth(),t);return new s.Polyline([e,i],this.lineStyle)},buildYLine:function(t){var e=new s.LatLng(t,this._bounds.getWest()),i=new s.LatLng(t,this._bounds.getEast());return new s.Polyline([e,i],this.lineStyle)},buildLabel:function(t,e){var i,n=this._map.getBounds().pad(-.003);return i="gridlabel-horiz"==t?new s.LatLng(n.getNorth(),e):new s.LatLng(e,n.getWest()),s.marker(i,{icon:s.divIcon({iconSize:[0,0],className:"leaflet-grid-label",html:'<div class="'+t+'">'+e+"</div>"})})},addOriginLabel:function(){return s.marker([0,0],{icon:s.divIcon({iconSize:[0,0],className:"leaflet-grid-label",html:'<div class="gridlabel-horiz">(0,0)</div>'})})}});t.exports=n},"./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js":function(t,e){L.GridLayer.GoogleMutant=L.GridLayer.extend({options:{minZoom:0,maxZoom:23,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(t){L.GridLayer.prototype.initialize.call(this,t),this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map,this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise((function(t,e){var i=0,s=null;s=setInterval((function(){return i>=10?(clearInterval(s),e(new Error("window.google not found after 10 attempts"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(s),t(window.google)):void i++}),500)})),this._tileCallbacks={},this._freshTiles={},this._imagesPerTile="hybrid"===this.options.type?2:1},onAdd:function(t){L.GridLayer.prototype.onAdd.call(this,t),this._initMutantContainer(),this._GAPIPromise.then(function(){if(this._ready=!0,this._map=t,this._initMutant(),t.on("viewreset",this._reset,this),t.on("move",this._update,this),t.on("zoomend",this._handleZoomAnim,this),t.on("resize",this._resize,this),google.maps.event.addListenerOnce(this._mutant,"idle",function(){this._checkZoomLevels(),this._mutantIsReady=!0}.bind(this)),t._controlCorners.bottomright.style.marginBottom="20px",t._controlCorners.bottomleft.style.marginBottom="20px",this._reset(),this._update(),this._subLayers)for(var e in this._subLayers)this._subLayers[e].setMap(this._mutant)}.bind(this))},onRemove:function(t){L.GridLayer.prototype.onRemove.call(this,t),t._container.removeChild(this._mutantContainer),this._mutantContainer=void 0,google.maps.event.clearListeners(t,"idle"),google.maps.event.clearListeners(this._mutant,"idle"),t.off("viewreset",this._reset,this),t.off("move",this._update,this),t.off("zoomend",this._handleZoomAnim,this),t.off("resize",this._resize,this),t._controlCorners&&(t._controlCorners.bottomright.style.marginBottom="0em",t._controlCorners.bottomleft.style.marginBottom="0em")},getAttribution:function(){return this.options.attribution},setOpacity:function(t){this.options.opacity=t,t<1&&L.DomUtil.setOpacity(this._mutantContainer,t)},setElementSize:function(t,e){t.style.width=e.x+"px",t.style.height=e.y+"px"},addGoogleLayer:function(t,e){return this._subLayers||(this._subLayers={}),this._GAPIPromise.then(function(){var i=new(0,google.maps[t])(e);return i.setMap(this._mutant),this._subLayers[t]=i,i}.bind(this))},removeGoogleLayer:function(t){var e=this._subLayers&&this._subLayers[t];e&&(e.setMap(null),delete this._subLayers[t])},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.zIndex="800",this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer)),this.setOpacity(this.options.opacity),this.setElementSize(this._mutantContainer,this._map.getSize()),this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var t=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=t,google.maps.event.addListenerOnce(t,"idle",function(){for(var t=this._mutantContainer.querySelectorAll("a"),e=0;e<t.length;e++)t[e].style.pointerEvents="auto"}.bind(this)),this.fire("spawned",{mapObject:t})}},_attachObserver:function(t){new MutationObserver(this._onMutations.bind(this)).observe(t,{childList:!0,subtree:!0})},_onMutations:function(t){for(var e=0;e<t.length;++e)for(var i=t[e],s=0;s<i.addedNodes.length;++s){var n=i.addedNodes[s];n instanceof HTMLImageElement?this._onMutatedImage(n):n instanceof HTMLElement&&Array.prototype.forEach.call(n.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(t){var e,i=t.src.match(this._roadRegexp),s=0;if(i?(e={z:i[1],x:i[2],y:i[3]},this._imagesPerTile>1&&(t.style.zIndex=1,s=1)):((i=t.src.match(this._satRegexp))&&(e={x:i[1],y:i[2],z:i[3]}),s=0),e){var n=this._tileCoordsToKey(e);t.style.position="absolute",t.style.visibility="hidden";var a=n+"/"+s;if(this._freshTiles[a]=t,a in this._tileCallbacks&&this._tileCallbacks[a])this._tileCallbacks[a].pop()(t),this._tileCallbacks[a].length||delete this._tileCallbacks[a];else if(this._tiles[n]){var o=this._tiles[n].el,r=0===s?o.firstChild:o.firstChild.nextSibling,h=this._clone(t);o.replaceChild(h,r)}}else t.src.match(this._staticRegExp)&&(t.style.visibility="hidden")},createTile:function(t,e){var i=this._tileCoordsToKey(t),s=L.DomUtil.create("div");s.dataset.pending=this._imagesPerTile,e=e.bind(this,null,s);for(var n=0;n<this._imagesPerTile;n++){var a=i+"/"+n;if(a in this._freshTiles){var o=this._freshTiles[a];s.appendChild(this._clone(o)),s.dataset.pending--}else this._tileCallbacks[a]=this._tileCallbacks[a]||[],this._tileCallbacks[a].push(function(t){return function(i){t.appendChild(this._clone(i)),t.dataset.pending--,parseInt(t.dataset.pending)||e()}.bind(this)}.bind(this)(s))}return parseInt(s.dataset.pending)||L.Util.requestAnimFrame(e),s},_clone:function(t){var e=t.cloneNode(!0);return e.style.visibility="visible",e},_checkZoomLevels:function(){var t=this._map.getZoom(),e=this._mutant.getZoom();t&&e&&(e!==t||e>this.options.maxNativeZoom)&&this._setMaxNativeZoom(e)},_setMaxNativeZoom:function(t){t!=this.options.maxNativeZoom&&(this.options.maxNativeZoom=t,this._resetView())},_reset:function(){this._initContainer()},_update:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e);var i=this._map.getZoom(),s=i!==Math.round(i),n=this._mutant.getZoom();s||i==n||(this._mutant.setZoom(i),this._mutantIsReady&&this._checkZoomLevels())}L.GridLayer.prototype._update.call(this)},_resize:function(){var t=this._map.getSize();this._mutantContainer.style.width===t.x&&this._mutantContainer.style.height===t.y||(this.setElementSize(this._mutantContainer,t),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){if(this._mutant){var t=this._map.getCenter(),e=new google.maps.LatLng(t.lat,t.lng);this._mutant.setCenter(e),this._mutant.setZoom(Math.round(this._map.getZoom()))}},_removeTile:function(t){if(this._mutant)return setTimeout(this._pruneTile.bind(this,t),1e3),L.GridLayer.prototype._removeTile.call(this,t)},_pruneTile:function(t){for(var e=this._mutant.getZoom(),i=t.split(":")[2],s=this._mutant.getBounds(),n=s.getSouthWest(),a=s.getNorthEast(),o=L.latLngBounds([[n.lat(),n.lng()],[a.lat(),a.lng()]]),r=0;r<this._imagesPerTile;r++){var h=t+"/"+r;if(h in this._freshTiles){var l=this._map&&this._keyToBounds(t);this._map&&l.overlaps(o)&&i==e||delete this._freshTiles[h]}}}}),L.gridLayer.googleMutant=function(t){return new L.GridLayer.GoogleMutant(t)}},"./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js":function(t,e,i){(function(e){t.exports=function t(e,i,s){function n(o,r){if(!i[o]){if(!e[o]){if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[o]={exports:{}};e[o][0].call(l.exports,(function(t){var i=e[o][1][t];return n(i||t)}),l,l.exports,t,e,i,s)}return i[o].exports}for(var a=!1,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t,i,s){(function(t){"use strict";var e="undefined"!=typeof window?window.L:void 0!==t?t.L:null;e.NonTiledLayer.WMS=e.NonTiledLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},options:{crs:null,uppercase:!1},initialize:function(t,i){this._wmsUrl=t;var s=e.extend({},this.defaultWmsParams);for(var n in i)e.NonTiledLayer.prototype.options.hasOwnProperty(n)||e.Layer&&e.Layer.prototype.options.hasOwnProperty(n)||(s[n]=i[n]);this.wmsParams=s,e.setOptions(this,i)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,e.NonTiledLayer.prototype.onAdd.call(this,t)},getImageUrl:function(t,i,s){var n=this.wmsParams;n.width=i,n.height=s;var a=this._crs.project(t.getNorthWest()),o=this._crs.project(t.getSouthEast()),r=this._wmsUrl,h=h=(this._wmsVersion>=1.3&&this._crs===e.CRS.EPSG4326?[o.y,a.x,a.y,o.x]:[a.x,o.y,o.x,a.y]).join(",");return r+e.Util.getParamString(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+h},setParams:function(t,i){return e.extend(this.wmsParams,t),i||this.redraw(),this}}),e.nonTiledLayer.wms=function(t,i){return new e.NonTiledLayer.WMS(t,i)},i.exports=e.NonTiledLayer.WMS}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,i,s){(function(t){"use strict";var e="undefined"!=typeof window?window.L:void 0!==t?t.L:null;e.NonTiledLayer=(e.Layer||e.Class).extend({includes:e.Evented||e.Mixin.Events,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==",options:{attribution:"",opacity:1,zIndex:void 0,minZoom:0,maxZoom:18,pointerEvents:null,errorImageUrl:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==",bounds:e.latLngBounds([-85.05,-180],[85.05,180]),useCanvas:void 0},key:"",initialize:function(t){e.setOptions(this,t)},onAdd:function(t){this._map=t,void 0===this._zoomAnimated&&(this._zoomAnimated=e.DomUtil.TRANSITION&&e.Browser.any3d&&!e.Browser.mobileOpera&&this._map.options.zoomAnimation),e.version<"1.0"&&this._map.on(this.getEvents(),this),this._div||(this._div=e.DomUtil.create("div","leaflet-image-layer"),this.options.pointerEvents&&(this._div.style["pointer-events"]=this.options.pointerEvents),void 0!==this.options.zIndex&&(this._div.style.zIndex=this.options.zIndex),void 0!==this.options.opacity&&(this._div.style.opacity=this.options.opacity)),this.getPane().appendChild(this._div);var i=!!window.HTMLCanvasElement;void 0===this.options.useCanvas?this._useCanvas=i:this._useCanvas=this.options.useCanvas,this._useCanvas?(this._bufferCanvas=this._initCanvas(),this._currentCanvas=this._initCanvas()):(this._bufferImage=this._initImage(),this._currentImage=this._initImage()),this._update()},getPane:function(){return e.Layer?e.Layer.prototype.getPane.call(this):(this.options.pane?this._pane=this.options.pane:this._pane=this._map.getPanes().overlayPane,this._pane)},onRemove:function(t){e.version<"1.0"&&this._map.off(this.getEvents(),this),this.getPane().removeChild(this._div),this._useCanvas?(this._div.removeChild(this._bufferCanvas),this._div.removeChild(this._currentCanvas)):(this._div.removeChild(this._bufferImage),this._div.removeChild(this._currentImage))},addTo:function(t){return t.addLayer(this),this},_setZoom:function(){this._useCanvas?(this._currentCanvas._bounds&&this._resetImageScale(this._currentCanvas,!0),this._bufferCanvas._bounds&&this._resetImageScale(this._bufferCanvas)):(this._currentImage._bounds&&this._resetImageScale(this._currentImage,!0),this._bufferImage._bounds&&this._resetImageScale(this._bufferImage))},getEvents:function(){var t={moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),e.version>="1.0"&&(t.zoom=this._setZoom),t},getElement:function(){return this._div},setOpacity:function(t){return this.options.opacity=t,this._div&&e.DomUtil.setOpacity(this._div,this.options.opacity),this},setZIndex:function(t){return t&&(this.options.zIndex=t,this._div&&(this._div.style.zIndex=t)),this},bringToFront:function(){return this._div&&this.getPane().appendChild(this._div),this},bringToBack:function(){return this._div&&this.getPane().insertBefore(this._div,this.getPane().firstChild),this},getAttribution:function(){return this.options.attribution},_initCanvas:function(){var t=e.DomUtil.create("canvas","leaflet-image-layer");return this._div.appendChild(t),t._image=new Image,this._ctx=t.getContext("2d"),this._map.options.zoomAnimation&&e.Browser.any3d?e.DomUtil.addClass(t,"leaflet-zoom-animated"):e.DomUtil.addClass(t,"leaflet-zoom-hide"),e.extend(t._image,{onload:e.bind(this._onImageLoad,this),onerror:e.bind(this._onImageError,this)}),t},_initImage:function(){var t=e.DomUtil.create("img","leaflet-image-layer");return this._div.appendChild(t),this._map.options.zoomAnimation&&e.Browser.any3d?e.DomUtil.addClass(t,"leaflet-zoom-animated"):e.DomUtil.addClass(t,"leaflet-zoom-hide"),e.extend(t,{galleryimg:"no",onselectstart:e.Util.falseFn,onmousemove:e.Util.falseFn,onload:e.bind(this._onImageLoad,this),onerror:e.bind(this._onImageError,this)}),t},redraw:function(){return this._map&&this._update(),this},_animateZoom:function(t){this._useCanvas?(this._currentCanvas._bounds&&this._animateImage(this._currentCanvas,t),this._bufferCanvas._bounds&&this._animateImage(this._bufferCanvas,t)):(this._currentImage._bounds&&this._animateImage(this._currentImage,t),this._bufferImage._bounds&&this._animateImage(this._bufferImage,t))},_animateImage:function(t,i){if(void 0===e.DomUtil.setTransform){var s=this._map,n=t._scale*s.getZoomScale(i.zoom),a=t._bounds.getNorthWest(),o=t._bounds.getSouthEast(),r=s._latLngToNewLayerPoint(a,i.zoom,i.center),h=s._latLngToNewLayerPoint(o,i.zoom,i.center)._subtract(r),l=r._add(h._multiplyBy(.5*(1-1/n)));t.style[e.DomUtil.TRANSFORM]=e.DomUtil.getTranslateString(l)+" scale("+n+") "}else s=this._map,n=t._scale*t._sscale*s.getZoomScale(i.zoom),a=t._bounds.getNorthWest(),o=t._bounds.getSouthEast(),r=s._latLngToNewLayerPoint(a,i.zoom,i.center),e.DomUtil.setTransform(t,r,n);t._lastScale=n},_resetImageScale:function(t,i){var s=new e.Bounds(this._map.latLngToLayerPoint(t._bounds.getNorthWest()),this._map.latLngToLayerPoint(t._bounds.getSouthEast())),n=t._orgBounds.getSize().y,a=s.getSize().y/n;t._sscale=a,e.DomUtil.setTransform(t,s.min,a)},_resetImage:function(t){var i=new e.Bounds(this._map.latLngToLayerPoint(t._bounds.getNorthWest()),this._map.latLngToLayerPoint(t._bounds.getSouthEast())),s=i.getSize();e.DomUtil.setPosition(t,i.min),t._orgBounds=i,t._sscale=1,this._useCanvas?(t.width=s.x,t.height=s.y):(t.style.width=s.x+"px",t.style.height=s.y+"px")},_getClippedBounds:function(){var t=this._map.getBounds(),i=t.getSouth(),s=t.getNorth(),n=t.getWest(),a=t.getEast(),o=this.options.bounds.getSouth(),r=this.options.bounds.getNorth(),h=this.options.bounds.getWest(),l=this.options.bounds.getEast();i<o&&(i=o),s>r&&(s=r),n<h&&(n=h),a>l&&(a=l);var d=new e.LatLng(s,n),u=new e.LatLng(i,a);return new e.LatLngBounds(d,u)},_update:function(){var t,i=this._getClippedBounds(),s=this._map.latLngToContainerPoint(i.getNorthWest()),n=this._map.latLngToContainerPoint(i.getSouthEast()),a=n.x-s.x,o=n.y-s.y;if(this._useCanvas?(this._bufferCanvas._scale=this._bufferCanvas._lastScale,this._currentCanvas._scale=this._currentCanvas._lastScale=1,this._bufferCanvas._sscale=1,this._currentCanvas._bounds=i,this._resetImage(this._currentCanvas),t=this._currentCanvas._image,e.DomUtil.setOpacity(t,0)):(this._bufferImage._scale=this._bufferImage._lastScale,this._currentImage._scale=this._currentImage._lastScale=1,this._bufferImage._sscale=1,this._currentImage._bounds=i,this._resetImage(this._currentImage),t=this._currentImage,e.DomUtil.setOpacity(t,0)),this._map.getZoom()<this.options.minZoom||this._map.getZoom()>this.options.maxZoom||a<32||o<32)return this._div.style.visibility="hidden",t.src=this.emptyImageUrl,this.key=t.key="<empty>",void(t.tag=null);this.fire("loading"),this.key=i.getNorthWest()+", "+i.getSouthEast()+", "+a+", "+o,this.getImageUrl?(t.src=this.getImageUrl(i,a,o),t.key=this.key):this.getImageUrlAsync(i,a,o,this.key,(function(e,i,s){t.key=e,t.src=i,t.tag=s}))},_onImageError:function(t){this.fire("error",t),e.DomUtil.addClass(t.target,"invalid"),t.target.src!==this.options.errorImageUrl&&(t.target.src=this.options.errorImageUrl)},_onImageLoad:function(t){(t.target.src===this.options.errorImageUrl||(e.DomUtil.removeClass(t.target,"invalid"),t.target.key&&t.target.key===this.key))&&(this._onImageDone(t),this.fire("load",t))},_onImageDone:function(t){if(this._useCanvas)this._renderCanvas(t);else{e.DomUtil.setOpacity(this._currentImage,1),e.DomUtil.setOpacity(this._bufferImage,0),this._addInteraction&&this._currentImage.tag&&this._addInteraction(this._currentImage.tag);var i=this._bufferImage;this._bufferImage=this._currentImage,this._currentImage=i}"<empty>"!==t.target.key&&(this._div.style.visibility="visible")},_renderCanvas:function(t){this._currentCanvas.getContext("2d").drawImage(this._currentCanvas._image,0,0),e.DomUtil.setOpacity(this._currentCanvas,1),e.DomUtil.setOpacity(this._bufferCanvas,0),this._addInteraction&&this._currentCanvas._image.tag&&this._addInteraction(this._currentCanvas._image.tag);var i=this._bufferCanvas;this._bufferCanvas=this._currentCanvas,this._currentCanvas=i}}),e.nonTiledLayer=function(){return new e.NonTiledLayer},i.exports=e.NonTiledLayer}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[2,1])(2)}).call(this,i("./node_modules/webpack/buildin/global.js"))},"./node_modules/lrucache/index.js":function(t,e,i){var s,n,a;!function(i,o){"use strict";"object"==typeof t.exports?t.exports=o():(n=[],void 0===(a="function"==typeof(s=o)?s.apply(e,n):s)||(t.exports=a))}("object"==typeof window&&window,(function(){"use strict";function t(e){if(!(this instanceof t))return new t(e);this._LRUCacheState=new i(e)}var e=t.prototype;function i(t){this.capacity=t>0?+t:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,this.data=Object.create?Object.create(null):{},this.hash=Object.create?Object.create(null):{},this.linkedList=new s}function s(){this.length=0,this.head=null,this.end=null}function n(t){this.key=t,this.p=null,this.n=null}function a(t,e){e!==t.head&&(t.end?t.end===e&&(t.end=e.n):t.end=e,o(e.n,e.p),o(e,t.head),t.head=e,t.head.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}return e.get=function(t){var e=this._LRUCacheState,i=e.hash[t];if(i)return a(e.linkedList,i),e.data[t]},e.set=function(t,e){var i=this._LRUCacheState,s=i.hash[t];return void 0===e||(s||(i.hash[t]=new n(t),i.linkedList.length+=1,s=i.hash[t]),a(i.linkedList,s),i.data[t]=e,i.linkedList.length>i.capacity&&this.remove(i.linkedList.end.key)),this},e.update=function(t,e){return this.has(t)&&this.set(t,e(this.get(t))),this},e.remove=function(t){var e=this._LRUCacheState,i=e.hash[t];return i?(i===e.linkedList.head&&(e.linkedList.head=i.p),i===e.linkedList.end&&(e.linkedList.end=i.n),o(i.n,i.p),delete e.hash[t],delete e.data[t],e.linkedList.length-=1,this):this},e.removeAll=function(){return this._LRUCacheState=new i(this._LRUCacheState.capacity),this},e.info=function(){var t=this._LRUCacheState;return{capacity:t.capacity,length:t.linkedList.length}},e.keys=function(){for(var t=[],e=this._LRUCacheState.linkedList.head;e;)t.push(e.key),e=e.p;return t},e.has=function(t){return!!this._LRUCacheState.hash[t]},e.staleKey=function(){return this._LRUCacheState.linkedList.end&&this._LRUCacheState.linkedList.end.key},e.popStale=function(){var t=this.staleKey();if(!t)return null;var e=[t,this._LRUCacheState.data[t]];return this.remove(t),e},t}))}}]);