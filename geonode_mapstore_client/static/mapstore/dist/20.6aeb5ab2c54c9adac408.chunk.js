(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js"),i=r("./MapStore2/web/client/utils/leaflet/Layers.js");r("./node_modules/leaflet-plugins/layer/tile/Bing.js");var a=r("./node_modules/object-assign/index.js");n.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+n.Util.stamp(this);window[t]=function(r){e.meta=r,window[t]=void 0;var n=document.getElementById(t);return n.parentNode.removeChild(n),r.errorDetails?(e.fire("load",{layer:e}),e.onError(r)):(e.initMetadata(r),null)};var r="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),i=r+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+r,a=document.createElement("script");a.type="text/javascript",a.src=i,a.id=t,document.getElementsByTagName("head")[0].appendChild(a)}},n.BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},i.registerType("bing",{create:function(e){var t=e.apiKey,r={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(r=a({},r,{zoomOffset:e.zoomOffset})),new n.BingLayer(t,r)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},"./MapStore2/web/client/components/map/leaflet/plugins/Commons.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/leaflet.js");e.exports=n.TileLayer.extend({initialize:function(e){n.TileLayer.prototype.initialize.call(this,this.url,e)}})},"./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./MapStore2/web/client/libs/leaflet.js");r("./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js"),n.registerType("google",(function(e){return i.gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},"./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js"),a=r("./node_modules/object-assign/index.js");r("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css"),n.registerType("graticule",{create:function(e){var t=a({interval:20,showOriginLabel:!0,redraw:"move"},e);return i?new i(t):null},isValid:function(){return!!i}})},"./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("./MapStore2/web/client/utils/leaflet/Layers.js"),o=r("./MapStore2/web/client/libs/mapquest.js");a.registerType("mapquest",{create:function(e){return o?o.mapLayer(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!o}})},"./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("osm",(function(e){return i.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r.n(n),a=r("./MapStore2/web/client/libs/leaflet.js"),o=r.n(a);i.a.registerType("tms",(function(e){return o.a.tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r.n(n),a=r("./MapStore2/web/client/libs/leaflet.js"),o=r.n(a),s=r("./MapStore2/web/client/utils/TileConfigProvider.js");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}i.a.registerType("tileprovider",(function(e){var t=u(s.default.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({maxZoom:23},e)),2),r=t[0],n=t[1];return o.a.tileLayer(r,n)}))},"./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx":function(e,t,r){var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r("./node_modules/lodash/lodash.js").isNil,a=r("./MapStore2/web/client/libs/leaflet.js");n.registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,r=a.geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,r){return a.circleMarker(r,t.style||e.style)}:null,hideLoading:t});return r.setOpacity=function(e){!function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))}(r,e)},r.on("layeradd",(function(t){var n=t.layer;r.setOpacity(i(r.opacity)?e.opacity:r.opacity,n)})),r}(e);return t.opacity=i(e.opacity)?1:e.opacity,t},update:function(e,t,r){t.opacity!==r.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/lodash/lodash.js"),i=r("./MapStore2/web/client/libs/leaflet.js"),a=r.n(i),o=r("./MapStore2/web/client/utils/ColorUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r.n(s),c=r("./MapStore2/web/client/utils/leaflet/Layers.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/VendorParamsUtils.js"),f=r("./MapStore2/web/client/api/WFS.js"),d=r("./MapStore2/web/client/utils/WFSLayerUtils.js");function m(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e,t){e.fireEvent("loading");var r=Object(p.optionsToVendorParams)(t),n=function(){e.fireEvent("loadError")};return Object(f.getFeature)(t.url,t.name,h({outputFormat:"application/json",maxFeatures:1e3,srsname:l.a.normalizeSRS("EPSG:4326")},r)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),n(new Error("status code of response:"+t.status))),e})).catch((function(e){n()}))},S=function(e){var t=e||{},r=t.color,n=t.fillColor;return h(h({},m(t,["color","fillColor"])),{},{color:Object(o.colorToRgbaStr)(r,1),fillColor:Object(o.colorToRgbaStr)(n,1)})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return S(t)},w=function(e,t){var r=v(t);e.setStyle(r),e.options.style=r,e.styleName=t.styleName},j=function e(t,r){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(r),e(t,r)}))},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=v(e),i=function(t,n){return"marker"===e.styleName?a.a.marker(n,r):a.a.circleMarker(n,r)},o=new a.a.GeoJSON(t,{pointToLayer:i,style:r});return o.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=h({},o.options.style||{}),r=t.fillOpacity,n=void 0===r?1:r,i=t.opacity,a=void 0===i?1:i,s=h(h({},t),{},{opacity:a*e,fillOpacity:n*e});o.setStyle(S(s)),j(o,e)},o.on("layeradd",(function(){w(o,e),o.setOpacity(Object(n.isNil)(o.opacity)?e.opacity:o.opacity)})),o};u.a.registerType("wfs",{create:function(e){var t=M(e);return b(t,e),t.opacity=Object(n.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,r){if(t.opacity!==r.opacity&&(e.opacity=t.opacity),Object(d.needsReload)(r,t)&&b(e,t),Object(n.isEqual)(t.style,r.style)||w(e,t),t.styleName!==r.styleName){var i=e.toGeoJSON().features;return M(t,i)}return null},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js":function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r("./node_modules/react/index.js"),a=r("./MapStore2/web/client/components/I18N/Message.jsx").default,o=r("./MapStore2/web/client/utils/leaflet/Layers.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,c=r("./MapStore2/web/client/utils/leaflet/WMSUtils.js"),u=r("./MapStore2/web/client/libs/leaflet.js"),p=r("./node_modules/object-assign/index.js"),f=r("./node_modules/lodash/lodash.js"),d=f.isArray,m=f.isNil,y=r("./MapStore2/web/client/utils/SecurityUtils.js"),h=r("./MapStore2/web/client/utils/ElevationUtils.js"),g=r("./MapStore2/web/client/utils/LayersUtils.js").creditsToAttribution,b=r("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;r("./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js"),u.NonTiledLayer.WMSCustom=u.NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var r=u.extend({},this.defaultWmsParams);for(var n in t)this.options.hasOwnProperty(n)||"CRS"===n.toUpperCase()||"maxNativeZoom"===n||(r[n]=t[n]);this.wmsParams=r,u.setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),u.nonTiledLayer.wmsCustom=function(e,t){return new u.NonTiledLayer.WMSCustom(e,t)},u.TileLayer.MultipleUrlWMS=u.TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=u.extend({},this.defaultWmsParams),n=t.tileSize||this.options.tileSize;for(var i in t.detectRetina&&u.Browser.retina?r.width=r.height=2*n:r.width=r.height=n,t)this.options.hasOwnProperty(i)||"CRS"===i.toUpperCase()||"maxNativeZoom"===i||(r[i]=t[i]);this.wmsParams=r,u.setOptions(this,t)},getTileUrl:function(e){var t=this._map,r=this.options.tileSize,n=e.multiplyBy(r),i=n.add([r,r]),a=this._crs.project(t.unproject(n,e.z)),o=this._crs.project(t.unproject(i,e.z)),s=this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[o.y,a.x,a.y,o.x].join(","):[a.x,o.y,o.x,a.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var l=u.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return l+u.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+s},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),r||this.redraw(),this}}),u.tileLayer.multipleUrlWMS=function(e,t){return new u.TileLayer.MultipleUrlWMS(e,t)},u.TileLayer.ElevationWMS=u.TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,r){this._tiles={},this._nodata=r,u.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);h.loadTile(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var r=this._getTileFromCoords(e),n=h.getElevation(this._tileCoordsToKey(r),this._getTileRelativePixel(r,t),this.getTileSize().x,this._nodata);return n.available?n.value:i.createElement(a,{msgId:n.message})}catch(e){return i.createElement(a,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return p(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var r=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),n=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new u.Point(r,n)},_removeTile:function(){},_abortLoading:function(){}}),u.tileLayer.elevationWMS=function(e,t,r){return new u.TileLayer.ElevationWMS(e,t,r)};var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return m(e[r])?t:p(t,n({},r,e[r]))}),{})};function v(e){var t=void 0!==e.opacity?e.opacity:1,r=l(e),n=p({},e.baseParams,{attribution:e.credits&&g(e.credits),layers:e.name,styles:e.style||"",format:(b(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",SRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:s.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},p(e._v_?{_v_:e._v_}:{},r||{}));return y.addAuthenticationToSLD(n,e)}function w(e){return e.map((function(e){return e.split("?")[0]}))}o.registerType("wms",{create:function(e){var t=w(d(e.url)?e.url:[e.url]),r=S(v(e)||{});return t.forEach((function(t){return y.addAuthenticationParameter(t,r,e.securityToken)})),e.useForElevation?u.tileLayer.elevationWMS(t,r,e.nodata||-9999):e.singleTile?u.nonTiledLayer.wmsCustom(t[0],r):u.tileLayer.multipleUrlWMS(t,r)},update:function(e,t,r){if(r.singleTile!==t.singleTile||r.tileSize!==t.tileSize||r.securityToken!==t.securityToken&&t.visibility){var i=w(d(t.url)?t.url:[t.url]),a=v(t)||{};return i.forEach((function(e){return y.addAuthenticationParameter(e,a,t.securityToken)})),t.singleTile?u.nonTiledLayer.wmsCustom(i[0],a):u.tileLayer.multipleUrlWMS(i,a)}var o=p({},c.filterWMSParamOptions(v(r)),y.addAuthenticationToSLD(r.params||{},r)),s=p({},c.filterWMSParamOptions(v(t)),y.addAuthenticationToSLD(t.params||{},t)),l=Object.keys(s).filter((function(e){return s[e]!==o[e]})),f=Object.keys(o).filter((function(e){return o[e]!==s[e]})),m={};return f.length>0&&e.removeParams(f,l.length>0),l.length>0&&(m=l.reduce((function(e,t){return p({},e,n({},t,s[t]))}),m),e.setParams(S(p(m,m.params,y.addAuthenticationToSLD(t.params||{},t))))),null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js":function(e,t,r){"use strict";r.r(t);var n=r("./MapStore2/web/client/utils/leaflet/Layers.js"),i=r.n(n),a=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),o=r.n(a),s=r("./MapStore2/web/client/libs/leaflet.js"),l=r.n(s),c=r("./node_modules/object-assign/index.js"),u=r.n(c),p=r("./MapStore2/web/client/utils/SecurityUtils.js"),f=r.n(p),d=r("./MapStore2/web/client/utils/WMTSUtils.js"),m=r.n(d),y=r("./MapStore2/web/client/utils/leaflet/WMTS.js"),h=r.n(y),g=r("./node_modules/lodash/lodash.js"),b=r("./MapStore2/web/client/utils/VectorTileUtils.js");l.a.tileLayer.wmts=function(e,t,r){return new h.a(e,t,r)};var S=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(Object(g.isArray)(e.url)?e.url:[e.url]),r=function(e){var t=o.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),r=m.a.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return u()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:(Object(b.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:r,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:o.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return f.a.addAuthenticationParameter(t,r,e.securityToken)}));var n=o.a.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),i=m.a.getTileMatrix(e,n),a=i.tileMatrixSet,s=i.matrixIds;return l.a.tileLayer.wmts(t,r,{tileMatrixPrefix:e.tileMatrixPrefix||r.tileMatrixSet+":"||n+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:a})};i.a.registerType("wmts",{create:S,update:function(e,t,r){return r.securityToken!==t.securityToken||r.format!==t.format?S(t):null}})},"./MapStore2/web/client/components/map/leaflet/plugins/index.js":function(e,t,r){e.exports={BingLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js"),Commons:r("./MapStore2/web/client/components/map/leaflet/plugins/Commons.js"),GraticuleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js"),GoogleLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js"),MapQuest:r("./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js"),OSMLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js"),TMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js"),TileProviderLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js"),WFSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx").default,WMSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js"),WMTSLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js"),VectorLayer:r("./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx")}},"./MapStore2/web/client/libs/mapquest.js":function(e,t){e.exports=window.MQ},"./MapStore2/web/client/utils/ColorUtils.js":function(e,t,r){var n=r("./node_modules/tinycolor2/tinycolor.js"),i=r("./node_modules/lodash/lodash.js").toNumber,a={decToHex:function(e){var t=parseInt(e,10);return t=isNaN(t)?0:t,"0123456789ABCDEF".charAt(((t=t>255||t<0?0:t)-t%16)/16)+"0123456789ABCDEF".charAt(t%16)},rgbToHex:function(e,t,r){return e instanceof Array?a.rgbToHex(e[0],e[1],e[2]):"#"+a.decToHex(e)+a.decToHex(t)+a.decToHex(r)},realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,r){if(e instanceof Array)return a.rgbToHsv(e[0],e[1],e[2]);var n,i,o,s,l,c=e/255,u=t/255,p=r/255;switch(n=Math.min(Math.min(c,u),p),o=(i=Math.max(Math.max(c,u),p))-n,i){case n:s=0;break;case c:s=60*(u-p)/o,u<p&&(s+=360);break;case u:s=60*(p-c)/o+120;break;case p:s=60*(c-u)/o+240}return l=0===i?0:1-n/i,[Math.round(s),l,i]},distributedColorsHEX:function(e){for(var t=360/(e-1),r=[],n=function e(t,r,n){var i=e(t,r,n);return a.rgbToHex(i)},i=0;i<e;i++)r.push(n(t*i,.57,.63));return r},sameToneRangeColors:function(e,t,r,n){var i=e;isNaN(parseFloat(e))&&(i=a.hexToHsv(e)[0]);var o=.5/(r-1),s=t/(r-1),l=[];1===r&&(o=.5,s=t/2);for(var c=0;c<r;c++){var u=i+c*s-t/2,p=o*c+.3,f=p;n&&(u=n.h||u,p=n.s||p,f=n.v||f),l.push(a.hsvToHex(u,p,f,c))}return l},hsvToRgb:function(e,t,r){if(e instanceof Array)return a.hsvToRgb(e[0],e[1],e[2]);var n,i,o,s=Math.floor(e/60%6),l=e/60-s,c=r*(1-t),u=r*(1-l*t),p=r*(1-(1-l)*t);switch(s){case 0:n=r,i=p,o=c;break;case 1:n=u,i=r,o=c;break;case 2:n=c,i=r,o=p;break;case 3:n=c,i=u,o=r;break;case 4:n=p,i=c,o=r;break;case 5:n=r,i=c,o=u}return[a.realToDec(n),a.realToDec(i),a.realToDec(o)]},hsvToHex:function(e,t,r){var n=a.hsvToRgb(e,t,r);return a.rgbToHex(n)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var r=a.hexToRgb(t);return a.rgbToHsv(r)}return null},hexToRgb:function(e){var t,r,n,i=e;return"#"===i.charAt(0)&&(i=e.substring(1)),t=i.charAt(0)+i.charAt(1),r=i.charAt(2)+i.charAt(3),n=i.charAt(4)+i.charAt(5),[parseInt(t,16),parseInt(r,16),parseInt(n,16)]},colorToHexStr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return n(e).toHexString()},colorToRgbaStr:function(e,t,r){var a=n(e);return e&&a.setAlpha(i(void 0!==t?t:a.getAlpha())).toRgbString()||r}};e.exports=a},"./MapStore2/web/client/utils/ElevationUtils.js":function(e,t,r){var n=r("./MapStore2/web/client/libs/ajax.js"),i=r("./node_modules/lrucache/index.js"),a=r("./node_modules/es6-promise/dist/es6-promise.js").Promise,o=new i(100),s=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,a=n*e+r;try{var o=t.dataView.getInt16(2*a,!1);if(o!==i&&32767!==o&&-32768!==o)return o}catch(e){}return null};e.exports={loadTile:function(e,t,r){return o.has(r)?null:new a((function(i,a){n.get(e,{responseType:"arraybuffer"}).then((function(e){!function(e,t,r){o.set(r,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})}(e.data,t,r),i()})).catch((function(e){!function(e,t,r){o.set(r,{coords:t,current:!0,status:"error: "+e})}(e.message,t,r),a(e)}))}))},getElevation:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,i=o.get(e);return i&&"success"===i.status?{available:!0,value:s(r,i,t.x,t.y,n)}:i&&"loading"===i.status?{available:!1,message:"elevationLoading"}:i&&"error"===i.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=new i(e.max||100)}}},"./MapStore2/web/client/utils/leaflet/WMSUtils.js":function(e,t,r){var n=r("./node_modules/object-assign/index.js"),i={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return n({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(r){r&&r.toLowerCase&&i.PARAM_OPTIONS.indexOf(r.toLowerCase())>=0&&(t[r]=e[r])})),t}};e.exports=i},"./MapStore2/web/client/utils/leaflet/WMTS.js":function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=r("./MapStore2/web/client/libs/leaflet.js"),o=r("./MapStore2/web/client/utils/MapUtils.js"),s=r("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=r("./node_modules/lodash/lodash.js"),c=l.head,u=l.isNumber,p=a.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,r){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=a.extend({},this.defaultWmtsParams),i=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&a.Browser.retina?n.width=n.height=2*i:n.width=n.height=i,t)this.options.hasOwnProperty(o)||"crs"===o||(n[o]=t[o]);this.wmtsParams=n,this.matrixIds=r.matrixIds&&this.getMatrix(r.matrixIds,r)||this.getDefaultMatrix(r),this.matrixSet=r.matrixSet&&r.matrixSet.TileMatrix||[],this.ignoreErrors=r.ignoreErrors||!1,a.setOptions(this,t)},getWMTSParams:function(e,t,r,n,i){var a=o.getScales()[r],l=c(e.map((function(t,r){if(r===e.length-1)return null;var n=parseFloat(t.ScaleDenominator),i=parseFloat(e[r+1].ScaleDenominator);return n>=a&&i<a?a-i>(n-i)/2?{id:r,data:t}:{id:r+1,data:e[r+1]}:null})).filter((function(e){return e}))),p=l&&u(l.id)&&l.id+""||0===e.length&&r||null;if(!t[p])return null;var f=t[p].identifier,d=l.data&&l.data.TopLeftCorner&&s.parseString(l.data.TopLeftCorner)||t[p].topLeftCorner,m=d.lng||d.x,y=d.lat||d.y,h=Math.round((n.x-m)/i),g=-Math.round((n.y-y)/i),b=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},S=t[p].ranges||b;return S&&!function(e,t,r){return!(e<r.cols.min||e>r.cols.max)&&!(t<r.rows.min||t>r.rows.max)}(h,g,S)?null:{ident:f,tilecol:h,tilerow:g}},getTileUrl:function(e){var t=this._map,r=t.options.crs,i=this.options.tileSize,o=e.multiplyBy(i);o.x+=1,o.y-=1;var s=o.add([i,i]),l=r.project(t.unproject(o,e.z)),c=r.project(t.unproject(s,e.z)).x-l.x,u=this.getWMTSParams(n(this.matrixSet),n(this.matrixIds),e.z,l,c);if(!u)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=a.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:u.tilerow,TileCol:u.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:u.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+a.Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+u.ident+"&tilerow="+u.tilerow+"&tilecol="+u.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new a.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),r=0;r<22;r++)t[r]={identifier:e.tileMatrixPrefix+r,topLeftCorner:new a.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=p},"./node_modules/lrucache/index.js":function(e,t,r){var n,i,a;!function(r,o){"use strict";"object"==typeof e.exports?e.exports=o():(i=[],void 0===(a="function"==typeof(n=o)?n.apply(t,i):n)||(e.exports=a))}("object"==typeof window&&window,(function(){"use strict";function e(t){if(!(this instanceof e))return new e(t);this._LRUCacheState=new r(t)}var t=e.prototype;function r(e){this.capacity=e>0?+e:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,this.data=Object.create?Object.create(null):{},this.hash=Object.create?Object.create(null):{},this.linkedList=new n}function n(){this.length=0,this.head=null,this.end=null}function i(e){this.key=e,this.p=null,this.n=null}function a(e,t){t!==e.head&&(e.end?e.end===t&&(e.end=t.n):e.end=t,o(t.n,t.p),o(t,e.head),e.head=t,e.head.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}return t.get=function(e){var t=this._LRUCacheState,r=t.hash[e];if(r)return a(t.linkedList,r),t.data[e]},t.set=function(e,t){var r=this._LRUCacheState,n=r.hash[e];return void 0===t||(n||(r.hash[e]=new i(e),r.linkedList.length+=1,n=r.hash[e]),a(r.linkedList,n),r.data[e]=t,r.linkedList.length>r.capacity&&this.remove(r.linkedList.end.key)),this},t.update=function(e,t){return this.has(e)&&this.set(e,t(this.get(e))),this},t.remove=function(e){var t=this._LRUCacheState,r=t.hash[e];return r?(r===t.linkedList.head&&(t.linkedList.head=r.p),r===t.linkedList.end&&(t.linkedList.end=r.n),o(r.n,r.p),delete t.hash[e],delete t.data[e],t.linkedList.length-=1,this):this},t.removeAll=function(){return this._LRUCacheState=new r(this._LRUCacheState.capacity),this},t.info=function(){var e=this._LRUCacheState;return{capacity:e.capacity,length:e.linkedList.length}},t.keys=function(){for(var e=[],t=this._LRUCacheState.linkedList.head;t;)e.push(t.key),t=t.p;return e},t.has=function(e){return!!this._LRUCacheState.hash[e]},t.staleKey=function(){return this._LRUCacheState.linkedList.end&&this._LRUCacheState.linkedList.end.key},t.popStale=function(){var e=this.staleKey();if(!e)return null;var t=[e,this._LRUCacheState.data[e]];return this.remove(e),t},e}))}}]);