(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[8854],{80416:(e,t,n)=>{"use strict";n.d(t,{yS:()=>r,Zz:()=>o,ms:()=>a,ih:()=>i,OX:()=>s,sb:()=>l,K$:()=>u,k7:()=>p,cX:()=>c,x9:()=>m,vs:()=>f,oE:()=>d,Po:()=>b,qv:()=>y,cI:()=>g,g6:()=>h,I4:()=>E,l$:()=>v,Xv:()=>O,k3:()=>w,CQ:()=>T,R8:()=>S,HN:()=>M,sH:()=>A,c7:()=>L,_7:()=>P,eF:()=>C,O6:()=>j,ED:()=>R,RP:()=>x,sF:()=>k,VP:()=>D,He:()=>I,vO:()=>_,WO:()=>F,bh:()=>Z,pV:()=>B,MK:()=>G,ZF:()=>N,tV:()=>U,Dv:()=>Y,Yz:()=>H,kI:()=>V,XG:()=>q,A4:()=>X,Rp:()=>z,$o:()=>W,ct:()=>J,oh:()=>$,$h:()=>K,ud:()=>Q,Qr:()=>ee,LR:()=>te,nN:()=>ne,UG:()=>re,F5:()=>oe,c9:()=>ae,Jh:()=>ie,Xy:()=>se});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",a="CHANGE_GROUP_PROPERTIES",i="TOGGLE_NODE",s="SORT_NODE",l="REMOVE_NODE",u="UPDATE_NODE",p="MOVE_NODE",c="LAYER_LOADING",m="LAYER_LOAD",f="LAYER_ERROR",d="ADD_LAYER",b="ADD_GROUP",y="REMOVE_LAYER",g="SHOW_SETTINGS",h="HIDE_SETTINGS",E="UPDATE_SETTINGS",v="REFRESH_LAYERS",O="LAYERS:UPDATE_LAYERS_DIMENSION",w="LAYERS_REFRESHED",T="LAYERS_REFRESH_ERROR",S="LAYERS:BROWSE_DATA",M="LAYERS:DOWNLOAD",A="LAYERS:CLEAR_LAYERS",L="LAYERS:SELECT_NODE",P="LAYERS:FILTER_LAYERS",C="LAYERS:SHOW_LAYER_METADATA",j="LAYERS:HIDE_LAYER_METADATA",R="LAYERS:UPDATE_SETTINGS_PARAMS";function x(e,t,n){return{type:g,node:e,nodeType:t,options:n}}function k(){return{type:h}}function D(e){return{type:E,options:e}}function I(e,t){return{type:r,newProperties:t,layer:e}}function _(e,t){return{type:o,layer:e,params:t}}function F(e,t){return{type:a,newProperties:t,group:e}}function Z(e,t,n){return{type:i,node:e,nodeType:t,status:!n}}function B(e){return{type:"CONTEXT_NODE",node:e}}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:s,node:e,order:t,sortLayers:n}}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:l,node:e,nodeType:t,removeEmpty:n}}function U(e,t,n){return{type:u,node:e,nodeType:t,options:n}}function Y(e,t,n){return{type:p,node:e,groupId:t,index:n}}function H(e){return{type:c,layerId:e}}function V(e,t){return{type:m,layerId:e,error:t}}function q(e,t,n){return{type:f,layerId:e,tilesCount:t,tilesErrorCount:n}}function X(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:d,layer:e,foreground:t}}function z(e,t,n){return{type:b,group:e,parent:t,options:n}}function W(e){return{type:y,layerId:e}}function J(e,t){return{type:r,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function $(e){return{type:w,layers:e}}function K(e,t){return{type:T,layers:e,error:t}}function Q(e,t,n,r){return{type:O,dimension:e,value:t,options:n,layers:r}}function ee(e){return{type:S,layer:e}}function te(e){return{type:M,layer:e}}function ne(){return{type:A}}function re(e,t,n){return{type:L,id:e,nodeType:t,ctrlKey:n}}function oe(e){return{type:P,text:e}}function ae(e,t){return{type:C,metadataRecord:e,maskLoading:t}}function ie(){return{type:j}}function se(e,t){return{type:R,newParams:e,update:t}}},47361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(45697),o=n.n(r),a=n(24852),i=n.n(a),s=n(14293),l=n.n(s),u=n(68195);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,o,a=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function s(){return m(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){return this.context.intl?i().createElement(u.FormattedNumber,c({value:this.props.value},this.props.numberParams)):i().createElement("span",null,!l()(this.props.value)&&!isNaN(this.props.value)&&this.props.value.toString&&this.props.value.toString()||"")}}])&&f(t.prototype,n),s}(i().Component);g(h,"propTypes",{value:o().oneOfType([o().object,o().number]),numberParams:o().object}),g(h,"contextTypes",{intl:o().object});const E=h},16919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(24852),o=n.n(r),a=n(32833),i=n(65539),s=n(67076),l=n(80681),u=n(38560),p={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}};const c=function(e){var t=e.position,n=void 0===t?"right":t,r=e.onClose,a=e.bsStyle,i=void 0===a?"default":a,s=e.title,c=void 0===s?"":s,m=e.fullscreen,f=void 0!==m&&m,d=e.showFullscreen,b=void 0!==d&&d,y=e.glyph,g=void 0===y?"info-sign":y,h=e.additionalRows,E=e.onFullscreen,v=void 0===E?function(){}:E,O=r?o().createElement(u.Z,{key:"ms-header-close",className:"square-button ms-close",onClick:r,bsStyle:i},o().createElement(l.Glyphicon,{glyph:"1-close"})):null,w=b?o().createElement(u.Z,{key:"ms-header-glyph",className:"square-button",bsStyle:i,onClick:function(){return v(!f)}},o().createElement(l.Glyphicon,{glyph:p[n]&&p[n][f]||"resize-full"})):o().createElement("div",{key:"ms-header-glyph",className:"square-button ".concat("bg-"+i),style:{display:"flex"}},o().createElement(l.Glyphicon,{glyph:g,className:"".concat("default"===i?"text-primary":"")})),T="left"===n?[O,w]:[w,O];return o().createElement(l.Grid,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+i},o().createElement(l.Row,null,o().createElement(l.Col,{xs:2},T[0]),o().createElement(l.Col,{xs:8},o().createElement("h4",null,c)),o().createElement(l.Col,{xs:2},T[1])),h)},m=(0,s.withState)("fullscreen","onFullscreen",!1)((function(e){var t=e.fluid,n=e.className,r=void 0===n?"":n,s=e.fullscreen,l=void 0!==s&&s,u=e.position,p=e.open,m=e.size,f=void 0===m?550:m,d=e.style,b=void 0===d?{}:d,y=e.zIndex,g=void 0===y?1030:y,h=e.onClose,E=e.bsStyle,v=e.title,O=e.showFullscreen,w=void 0!==O&&O,T=e.glyph,S=e.header,M=e.footer,A=e.children,L=e.onFullscreen,P=void 0===L?function(){}:L,C=e.fixed,j=void 0!==C&&C,R=e.resizable,x=void 0!==R&&R,k=e.hideHeader;return o().createElement("div",{className:"ms-side-panel "+(j?"":"ms-absolute-dock ")+(x?"":"react-dock-no-resize ")+r},o().createElement(a.default,{fluid:t||l,position:u,dimMode:"none",isVisible:p,size:l?1:f,dockStyle:b,zIndex:g},o().createElement(i.Z,{header:!k&&p&&o().createElement(c,{position:u,onClose:h,bsStyle:E,title:v,fullscreen:l,showFullscreen:w,glyph:T,additionalRows:S,onFullscreen:P}),footer:p&&M},p&&A)))}))},32107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(24852),o=n.n(r),a=n(67076),i=n(65539),s=n(16919),l=n(94745),u=["children","header"];var p=(0,a.renameProps)({open:"show"})((function(e){var t=e.children,n=e.header,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,u);return o().createElement(l.Z,r,o().createElement(i.Z,{header:o().createElement("div",{className:"ms-header"},n)},t))}));const c=(0,a.branch)((function(e){return!e.dock}),(function(){return function(e){return o().createElement(p,e)}}))(s.Z)},74226:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>w});var r=n(49977),o=n.n(r),a=n(23570),i=n.n(a),s=n(62192),l=n(8797),u=n(89602),p=n(80416),c=n(58767),m=n(82904),f=n(33528),d=n(87286),b=n(7147),y=n(97266),g=n(1550),h=n(42780);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w={addAnnotationFromMeasureEpic:function(e){return e.ofType(u.XX).switchMap((function(e){var t=e.features,n=e.textLabels,r=e.uom,a=e.save,l=e.properties||{},p=l.id,f=void 0===p?i()():p,d=l.visibility,b=void 0===d||d,y=v(v({},(0,s.tL)(t,n,r,f,"Annotations created from measurements",c.Eo)),{},{newFeature:a,visibility:b});return o().Observable.of((0,m.Xi)("annotations",null),(0,h.A9)(),(0,u.el)("exportToAnnotation",!1),(0,h.yg)(y))}))},addAsLayerEpic:function(e){return e.ofType(u.Wt).switchMap((function(e){var t=e.features,n=e.textLabels,r=e.uom,a=(0,s.tL)(t,n,r,i()());return o().Observable.of((0,p.A4)({type:"vector",id:i()(),name:"Measurements",hideLoading:!0,features:[a],visibility:!0}))}))},openMeasureEpic:function(e,t){return e.ofType(m.At).filter((function(e){return"measure"===e.control&&e.value&&(0,b.Iz)(t.getState())})).switchMap((function(){return o().Observable.of((0,f.YV)(),(0,d.g)(),(0,d.aN)())}))},closeMeasureEpics:function(e,t){return e.ofType(m.kM).filter((function(e){return"measure"===e.control&&!(0,b.QF)(t.getState())})).switchMap((function(){return o().Observable.of((0,h.Rx)())}))},setMeasureStateFromAnnotationEpic:function(e,t){return e.ofType(u.ES).switchMap((function(e){var n,r,a=e.features,i=e.properties,l=(0,y.on)(t.getState())===(null===(n=(0,s.k2)(a))||void 0===n?void 0:n[0]);return o().Observable.of(!l&&(0,u.Bd)({geomType:null===(r=(0,s.k2)(a))||void 0===r?void 0:r[0]}),(0,m.Xg)("measure","enabled",!0),(0,m.Xg)("annotations","enabled",!1),(0,h.r1)(i.id,!1))}))},addCoordinatesEpic:function(e,t){var n=t.getState,r=void 0===n?function(){}:n;return e.ofType(g.TR).filter((function(){var e=r().controls.measure,t=e.showCoordinateEditor,n=e.enabled;return t&&n})).switchMap((function(e){var t,n,a,i=e.point,s=(null===(t=r())||void 0===t?void 0:t.measurement)||{},p=s.currentFeature,c=s.features,m=void 0===c?[]:c,f=s.geomType,d=(null==i?void 0:i.latlng)||{},b=d.lng,y=d.lat,g=(null===(n=m[p])||void 0===n||null===(a=n.geometry)||void 0===a?void 0:a.coordinates)||[],h=void 0!==(g="Polygon"===f?g[0]:g)?g.findIndex((function(e){return!(0,l.wd)(e)})):-1;return-1!==h?((g=g.map((function(e){return{lon:e[0],lat:e[1]}})))[h]={lon:b,lat:y},o().Observable.of((0,u.dD)(g))):o().Observable.empty()}))}}},33488:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ye});var r=n(27418),o=n.n(r),a=n(24852),i=n.n(a),s=n(80681),l=n(71703),u=n(22222),p=n(42780),c=n(82904),m=n(89602),f=n(7147),d=n(93152),b=n(97266),y=n(63202),g=n(81756),h=n(43624),E=n.n(h),v=n(27361),O=n.n(v),w=n(18446),T=n.n(w),S=n(59854),M=n.n(S),A=n(45697),L=n.n(A),P=n(20),C=n(23570),j=n.n(C),R=n(89077),x=n(86638),k=n(62192),D=n(8797),I=n(5346),_=n(47361),F=n(65539),Z=n(80717),B=n(60024);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.e(8545).then(n.bind(n,98545));var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return H(this,e)});function l(){var e;N(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(V(e=a.call.apply(a,[this].concat(n))),"onGeomClick",(function(t){e.props.geomType!==t&&e.props.toggleMeasure({geomType:t})})),X(V(e),"onResetClick",(function(){e.props.toggleMeasure({geomType:null})})),X(V(e),"getToolTips",(function(){return{lineToolTip:i().createElement(s.Tooltip,{id:"tooltip-button.line"},e.props.lengthLabel),areaToolTip:i().createElement(s.Tooltip,{id:"tooltip-button.area"},e.props.areaLabel),bearingToolTip:i().createElement(s.Tooltip,{id:"tooltip-button.bearing"},e.isTrueBearing()?e.props.trueBearingLabel:e.props.bearingLabel)}})),X(V(e),"renderMeasurements",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={style:"decimal",minimumIntegerDigits:1,maximumFractionDigits:2,minimumFractionDigits:2};return i().createElement(s.Grid,{fluid:!0,style:{maxHeight:400}},e.props.lineMeasureEnabled&&i().createElement(s.Row,null,i().createElement(s.FormGroup,{style:{display:"flex",alignItems:"center"}},e.props.lineMeasureValueEnabled&&i().createElement(s.Col,{xs:6},i().createElement("span",null,e.props.lengthLabel,": "),i().createElement("span",{id:"measure-len-res",className:"measure-value"},i().createElement("h3",null,i().createElement("strong",null,i().createElement(_.Z,{key:"len",numberParams:n,value:e.props.formatLength(e.props.uom.length.unit,e.props.measurement.len)})," ",e.props.uom.length.label)))),i().createElement(s.Col,{xs:6},i().createElement(P.DropdownList,{disabled:t,value:e.props.uom.length.label,onChange:function(t){e.props.onChangeUom("length",t,e.props.uom)},data:e.props.uomLengthValues,textField:"label",valueField:"value"})))),e.props.areaMeasureEnabled&&i().createElement(s.Row,null,i().createElement(s.FormGroup,{style:{display:"flex",alignItems:"center"}},e.props.areaMeasureValueEnabled&&i().createElement(s.Col,{xs:6},i().createElement("span",null,e.props.areaLabel,": "),i().createElement("span",{id:"measure-area-res",className:"measure-value"},i().createElement("h3",null,i().createElement("strong",null,i().createElement(_.Z,{key:"area",numberParams:n,value:e.props.formatArea(e.props.uom.area.unit,e.props.measurement.area)})," ",e.props.uom.area.label)))),i().createElement(s.Col,{xs:6},i().createElement(P.DropdownList,{disabled:t,value:e.props.uom.area.label,onChange:function(t){e.props.onChangeUom("area",t,e.props.uom)},data:e.props.uomAreaValues,textField:"label",valueField:"value"})))),e.props.bearingMeasureEnabled&&e.props.bearingMeasureValueEnabled&&i().createElement(s.Row,null,i().createElement(s.FormGroup,{style:{display:"flex",alignItems:"center",minHeight:34}},i().createElement(s.Col,{xs:6},i().createElement("span",null,e.isTrueBearing()?e.props.trueBearingLabel:e.props.bearingLabel,": "),i().createElement("span",{id:"measure-bearing-res",className:"measure-value"},i().createElement("h3",null,i().createElement("strong",null,e.props.formatBearing(e.props.measurement.bearing||0,e.isTrueBearing()&&e.props.measurement.trueBearing))))))))})),X(V(e),"renderPanel",(function(t){return e.props.showResults?e.renderMeasurements(t):null})),X(V(e),"renderLabel",(function(t){return e.props.showButtonsLabels?i().createElement("span",{className:"option-text"},(0,x.S$)(e.context.messages,t)):null})),X(V(e),"renderText",(function(t,n){return t?i().createElement("span",null,i().createElement("span",{className:"option-icon"},i().createElement(s.Glyphicon,{glyph:t})),e.renderLabel(n)):e.renderLabel(n)})),X(V(e),"isTrueBearing",(function(){return e.props.measurement&&e.props.measurement.trueBearing&&e.props.measurement.trueBearing.measureTrueBearing})),e}return t=l,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.geomType||this.props.toggleMeasure({geomType:"LineString"})}},{key:"shouldComponentUpdate",value:function(e){return!T()(e,this.props)}},{key:"render",value:function(){var e,t,n,r=this,o=O()(this.props.measurement,"features",[])[this.props.measurement.currentFeature||0],a=(null==o||null===(e=o.properties)||void 0===e?void 0:e.disabled)||!1,l=0===(this.props.measurement.features||[]).length||a;this.props.useSingleFeature?(t=(O()(this.props.measurement,"feature.geometry.type")||"").toLowerCase(),n=(O()(this.props.measurement,-1!==t.indexOf("polygon")?"feature.geometry.coordinates[0]":"feature.geometry.coordinates")||[]).map((function(e){return{lon:e[0],lat:e[1]}}))):(t=O()(o,"geometry.type","").toLowerCase(),n=(O()(o,-1!==t.indexOf("polygon")?"geometry.coordinates[0]":"geometry.coordinates")||[]).map((function(e){return{lon:e[0],lat:e[1]}})));var u=(this.props.measurement||{}).exportToAnnotation,p=void 0!==u&&u;return i().createElement(F.Z,{id:this.props.id,style:{overflow:"visible"},header:i().createElement("div",null,i().createElement(s.ButtonToolbar,{style:{width:"100%",marginBottom:15,marginTop:8,display:"flex",justifyContent:"center"}},i().createElement(Z.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:this.props.lineGlyph,active:!!this.props.lineMeasureEnabled,bsStyle:this.props.lineMeasureEnabled?"success":"primary",tooltip:this.renderText(this.props.inlineGlyph&&this.props.lineGlyph,"measureComponent.MeasureLength"),onClick:function(){return r.onGeomClick("LineString")},disabled:!this.props.lineMeasureEnabled&&a},{active:!!this.props.areaMeasureEnabled,bsStyle:this.props.areaMeasureEnabled?"success":"primary",glyph:this.props.areaGlyph,tooltip:this.renderText(this.props.inlineGlyph&&this.props.areaGlyph,"measureComponent.MeasureArea"),onClick:function(){return r.onGeomClick("Polygon")},disabled:!this.props.areaMeasureEnabled&&a},{visible:!this.props.disableBearing,active:!!this.props.bearingMeasureEnabled,bsStyle:this.props.bearingMeasureEnabled?"success":"primary",glyph:this.props.bearingGlyph,tooltip:this.renderText(this.props.inlineGlyph&&this.props.bearingGlyph,this.isTrueBearing()?"measureComponent.MeasureTrueBearing":"measureComponent.MeasureBearing"),onClick:function(){return r.onGeomClick("Bearing")},disabled:!this.props.bearingMeasureEnabled&&a}]}),i().createElement(Z.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"remove",visible:!!this.props.withReset,tooltip:i().createElement(I.Z,{msgId:"measureComponent.resetTooltip"}),onClick:function(){return r.onResetClick()}}]}),i().createElement(Z.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"ext-json",disabled:l,visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showExportToGeoJSON,tooltip:i().createElement(I.Z,{msgId:"measureComponent.exportToGeoJSON"}),onClick:function(){(0,R.LR)(JSON.stringify((0,k.tL)(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom,j()(),"MapStore Measurements")),"measurements.json","application/geo+json")}},{glyph:"1-layer",visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showAddAsLayer,disabled:l||p,tooltip:i().createElement(I.Z,{msgId:"measureComponent.addAsLayer"}),onClick:function(){return r.props.onAddAsLayer(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom)}},{glyph:p?"floppy-disk":"comment",tooltip:i().createElement(I.Z,{msgId:p?"measureComponent.saveMeasure":"measureComponent.addAsAnnotation"}),onClick:function(){r.props.onAddAnnotation(r.props.measurement.features,r.props.measurement.textLabels,r.props.uom,!p,{id:r.props.measurement.id,visibility:r.props.measurement.visibility})},disabled:l,visible:!!(this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled)&&this.props.showAddAsAnnotation}]})),this.renderPanel(a))},this.props.showCoordinateEditor&&i().createElement(s.Grid,{fluid:!0,style:{maxHeight:400,borderTop:"1px solid #ddd"}},this.props.bearingMeasureEnabled||this.props.areaMeasureEnabled||this.props.lineMeasureEnabled?i().createElement(s.Row,{style:this.props.isCoordinateEditorEnabled?{}:{pointerEvents:"none",opacity:.5}},i().createElement(B.Z,{key:"measureEditor",isMouseEnterEnabled:!0,isMouseLeaveEnabled:!0,format:this.props.format,currentFeature:this.props.measurement.currentFeature,features:this.props.measurement.features,mapProjection:this.props.mapProjection,onChangeFormat:this.props.onChangeFormat,onHighlightPoint:this.props.onHighlightPoint,onChange:this.props.onChangeCoordinates,onChangeCurrentFeature:this.props.onChangeCurrentFeature,showFeatureSelector:this.props.showFeatureSelector,items:[],isDraggable:!0,type:this.props.geomType,showLengthAndBearingLabel:this.props.showLengthAndBearingLabel,components:this.props.useSingleFeature||-1===t.indexOf("polygon")?n:E()(n),properties:(null==o?void 0:o.properties)||{}})):i().createElement(s.Row,null,i().createElement(s.Col,{xs:12,className:"text-center",style:{padding:15}},i().createElement("i",null,i().createElement(I.Z,{msgId:"measureComponent.selectTool"}))))))}}])&&U(t.prototype,n),l}(i().Component);X(z,"propTypes",{id:L().string,name:L().string,columnProperties:L().object,propertiesChangeHandler:L().func,lengthButtonText:L().oneOfType([L().string,L().element]),areaButtonText:L().oneOfType([L().string,L().element]),resetButtonText:L().oneOfType([L().string,L().element]),lengthLabel:L().oneOfType([L().string,L().element]),areaLabel:L().oneOfType([L().string,L().element]),bearingLabel:L().oneOfType([L().string,L().element]),trueBearingLabel:L().oneOfType([L().string,L().element]),uom:L().shape({length:L().shape({unit:L().string.isRequired,label:L().string.isRequired}),area:L().shape({unit:L().string.isRequired,label:L().string.isRequired})}),toggleMeasure:L().func,measurement:L().object,lineMeasureEnabled:L().bool,lineMeasureValueEnabled:L().bool,areaMeasureEnabled:L().bool,areaMeasureValueEnabled:L().bool,bearingMeasureEnabled:L().bool,bearingMeasureValueEnabled:L().bool,showButtons:L().bool,showResults:L().bool,mapProjection:L().string,lineGlyph:L().string,areaGlyph:L().string,bearingGlyph:L().string,withReset:L().bool,showButtonsLabels:L().bool,inlineGlyph:L().bool,formatLength:L().func,formatArea:L().func,formatBearing:L().func,onChangeUom:L().func,uomLengthValues:L().array,uomAreaValues:L().array,format:L().string,onChangeFormat:L().func,onChangeCoordinates:L().func,onChangeCurrentFeature:L().func,onAddAsLayer:L().func,onHighlightPoint:L().func,geomType:L().string,defaultOptions:L().object,onAddAnnotation:L().func,showAddAsAnnotation:L().bool,showLengthAndBearingLabel:L().bool,showAddAsLayer:L().bool,showFeatureSelector:L().bool,useSingleFeature:L().bool,showExportToGeoJSON:L().bool,disableBearing:L().bool,trueBearing:L().object,onMount:L().func,onUpdateOptions:L().func,showCoordinateEditor:L().bool,isCoordinateEditorEnabled:L().bool}),X(z,"contextTypes",{messages:L().object}),X(z,"defaultProps",{mapProjection:"EPSG:3857",columnProperties:{xs:4,sm:4,md:4},uomLengthValues:[{value:"ft",label:"ft"},{value:"m",label:"m"},{value:"km",label:"km"},{value:"mi",label:"mi"},{value:"nm",label:"nm"}],uomAreaValues:[{value:"sqft",label:"ft²"},{value:"sqm",label:"m²"},{value:"sqkm",label:"km²"},{value:"sqmi",label:"mi²"},{value:"sqnm",label:"nm²"}],id:"measure-result-panel",uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},geomType:"LineString",defaultOptions:{geomType:"LineString"},showResults:!0,showAddAsAnnotation:!1,showAddAsLayer:!0,showExportToGeoJSON:!0,showCoordinateEditor:!1,isCoordinateEditorEnabled:!0,showLengthAndBearingLabel:!1,withReset:!0,lineGlyph:"1-measure-length",areaGlyph:"1-measure-area",bearingGlyph:"1-measure-bearing",showButtonsLabels:!0,lengthLabel:i().createElement(I.Z,{msgId:"measureComponent.lengthLabel"}),areaLabel:i().createElement(I.Z,{msgId:"measureComponent.areaLabel"}),bearingLabel:i().createElement(I.Z,{msgId:"measureComponent.bearingLabel"}),trueBearingLabel:i().createElement(I.Z,{msgId:"measureComponent.trueBearingLabel"}),formatLength:function(e,t){return(0,D.Ov)(t,"m",e)},formatArea:function(e,t){return(0,D.Ov)(t,"sqm",e)},formatBearing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,D.rp)(M()(e||0,6),t)},onChangeUom:function(){},onChangeFormat:function(){},onMount:function(){},onUpdateOptions:function(){},onAddAsLayer:function(){}});const W=z;var J=n(32107),$=n(7472);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Q=["showCoordinateEditor"];function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(r);if(o){var n=se(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ae(this,e)});function l(){var e;ne(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return le(ie(e=a.call.apply(a,[this].concat(n))),"onClose",(function(){e.props.onClose(!1)})),le(ie(e),"initDefaultOptions",(function(t){var n=t.showCoordinateEditor,r=te(t,Q);e.props.onMount(n||e.props.showCoordinateEditor),e.props.toggleMeasure({geomType:r.geomType||"LineString"}),e.props.onInit(r)})),e}return t=l,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.initDefaultOptions(this.props.defaultOptions)}},{key:"componentDidUpdate",value:function(e){T()(e.defaultOptions,this.props.defaultOptions)||this.initDefaultOptions(this.props.defaultOptions)}},{key:"render",value:function(){return this.props.show?this.props.showCoordinateEditor?i().createElement(J.Z,{dock:!0,bsStyle:"primary",position:"right",title:i().createElement(I.Z,{key:"title",msgId:"measureComponent.Measure"}),glyph:"1-ruler",size:660,open:this.props.show,onClose:this.onClose,style:this.props.style},i().createElement(W,ee({id:"measure-panel"},this.props))):i().createElement($.Z,{id:"measure-dialog"},i().createElement("div",{key:"header",role:"header"},i().createElement(s.Glyphicon,{glyph:"1-ruler"})," ",i().createElement(I.Z,{key:"title",msgId:"measureComponent.Measure"}),i().createElement("button",{key:"close",onClick:this.onClose,className:"close"},this.props.closeGlyph?i().createElement(s.Glyphicon,{glyph:this.props.closeGlyph}):i().createElement("span",null,"×"))),i().createElement("div",{key:"body",role:"body"},i().createElement(W,ee({id:"measure-panel",style:{minWidth:"500px"}},this.props)))):null}}])&&re(t.prototype,n),l}(i().Component);le(ue,"propTypes",{show:L().bool,closeGlyph:L().string,onClose:L().func,onMount:L().func,onInit:L().func,showCoordinateEditor:L().bool,defaultOptions:L().object,style:L().object}),le(ue,"contextTypes",{messages:L().object}),le(ue,"defaultProps",{show:!1,defaultOptions:{},onMount:function(){},onInit:function(){},toggleMeasure:function(){},showCoordinateEditor:!1,showAddAsAnnotation:!1,closeGlyph:"1-close",style:{height:"calc(100% - 30px)"}});var pe=ue;function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=c.Xi.bind(null,"measure",null),be=(0,l.connect)((0,u.P1)([function(e){return{measurement:e.measurement||{},uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},lineMeasureEnabled:e.measurement&&e.measurement.lineMeasureEnabled,lineMeasureValueEnabled:!(0,d.m6)(e),areaMeasureEnabled:e.measurement&&e.measurement.areaMeasureEnabled,areaMeasureValueEnabled:!(0,d.m6)(e),bearingMeasureEnabled:e.measurement&&e.measurement.bearingMeasureEnabled,showLengthAndBearingLabel:e.measurement&&e.measurement.showLengthAndBearingLabel,bearingMeasureValueEnabled:!(0,d.m6)(e),isCoordinateEditorEnabled:(0,b.iL)(e),showCoordinateEditor:(0,f.Iz)(e),showFeatureSelector:(0,d.m6)(e),useSingleFeature:!(0,d.m6)(e),withReset:(0,d.m6)(e),showExportToGeoJSON:(0,d.m6)(e),showAddAsAnnotation:(0,b.cD)(e)&&(0,d.m6)(e),trueBearing:(0,b.jM)(e),showAddAsLayer:(0,d.m6)(e),isCoordEditorEnabled:e.measurement&&!e.measurement.isDrawing,geomType:e.measurement&&e.measurement.geomType,format:e.measurement&&e.measurement.format}},function(e){return(0,f.QF)(e)}],(function(e,t){return me(me({},e),{},{show:t,format:e.format||y.ZP.getConfigProp("defaultCoordinateFormat")||"decimal"})})),{toggleMeasure:m.Bd,onAddAnnotation:m.ud,onChangeUom:m.Gd,onHighlightPoint:p.aS,onChangeFormat:m.RM,onInit:m.S1,onChangeCoordinates:m.dD,onChangeCurrentFeature:m.h2,onClose:de,onMount:function(e){return(0,c.Xg)("measure","showCoordinateEditor",e)},onAddAsLayer:m.NR},null,{pure:!1})(pe);const ye={MeasurePlugin:o()(be,{disablePluginIf:"{state('mapType') === 'cesium'}",BurgerMenu:{name:"measurement",position:9,panel:!1,help:i().createElement(g.Z,{msgId:"helptexts.measureComponent"}),tooltip:"measureComponent.tooltip",text:i().createElement(g.Z,{msgId:"measureComponent.Measure"}),icon:i().createElement(s.Glyphicon,{glyph:"1-ruler"}),action:function(){return(0,c.Xg)("measure","enabled",!0)}}}),reducers:{measurement:n(78113).Z},epics:n(74226).ZP}},81756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(71703),o=n(5346);const a=(0,r.connect)((function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}}))(o.Z)},78113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(89602),o=n(82904),a=n(61868),i=n(62192),s=n(8797),l=n(38946),u=n(43624),p=n.n(u),c=n(41609),m=n.n(c),f=n(30998),d=n.n(f),b=n(81763),y=n.n(b),g=n(27418),h=n.n(g),E=["id"];function v(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={lineMeasureEnabled:!0,geomType:"LineString",areaMeasureEnabled:!1,bearingMeasureEnabled:!1,customStartEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},lengthFormula:"haversine",showLabel:!0,showSegmentLengths:!0,currentFeature:0,features:[]};const L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.lD:var n,u=null!==t.geomType&&d()(e.features,(function(e){var n,r;return("bearing"===((null===(n=e.properties)||void 0===n||null===(r=n.values)||void 0===r?void 0:r[0])||{}).type?"Bearing":e.geometry.type)===t.geomType}));return h()({},e,{lineMeasureEnabled:t.geomType!==e.geomType&&"LineString"===t.geomType,areaMeasureEnabled:t.geomType!==e.geomType&&"Polygon"===t.geomType,bearingMeasureEnabled:t.geomType!==e.geomType&&"Bearing"===t.geomType,geomType:t.geomType===e.geomType?null:t.geomType,features:null===t.geomType?[]:e.features,textLabels:null===t.geomType?[]:e.textLabels,feature:{properties:{disabled:!0}},currentFeature:-1!==u?u:(null===(n=e.features)||void 0===n?void 0:n.length)||0,len:0,area:0,bearing:0});case r.yK:var c=t.feature;return(0,l.oU)(c)&&(c=(0,a.t8)("geometry.coordinates[0]",p()(c.geometry.coordinates[0]),c)),h()({},e,{lineMeasureEnabled:t.lineMeasureEnabled,areaMeasureEnabled:t.areaMeasureEnabled,bearingMeasureEnabled:t.bearingMeasureEnabled,geomType:t.geomType,values:t.values,feature:(0,a.t8)("properties.disabled",e.feature.properties.disabled,c),point:t.point,len:t.len,area:t.area,bearing:t.bearing,lenUnit:t.lenUnit,areaUnit:t.areaUnit});case r.sc:var f=t.measures,b=f.point,g=f.len,O=f.area,T=f.bearing;return S(S({},e),{},{point:b,len:g,area:O,bearing:T});case r.Qw:var L=(0,a.t8)("feature.properties.disabled",!0,e);return S(S({},L),{},{isDrawing:!0,updatedByUI:!1});case r.gf:var P,C="length"===t.uom?"lenUnit":"lenArea",j=t.value,R=j.value,x=j.label;return h()({},e,(M(P={},C,R),M(P,"uom",h()({},t.previousUom,M({},t.uom,{unit:R,label:x}))),M(P,"updatedByUI",!0),P));case r.Qr:var k,D=t.features,I=void 0===D?[]:D,_=(0,i.k2)(I),F=(null===(k=e.features)||void 0===k?void 0:k.length)===I.length?e.currentFeature:I.length?I.length-1:0;return S(S({},e),{},{features:I,currentFeature:F,geomTypeSelected:_,updatedByUI:!1,isDrawing:!1},m()(I)&&{exportToAnnotation:!1});case r.Kf:var Z=t.property,B=t.value;return S(S({},e),{},M({},Z,B));case r.ES:var G=t.features,N=t.properties,U=(0,i.k2)(G);return S(S({},e),{},{features:G,geomTypeSelected:U,updatedByUI:!0,isDrawing:!1,exportToAnnotation:!0,id:N.id,visibility:N.visibility});case r.Kx:return S(S({},e),{},{textLabels:t.textLabels});case r.V:return S(S({},e),{},{currentFeature:y()(t.featureIndex)?t.featureIndex:e.features.length});case o.kM:e.id;var Y=w(e,E);return"info"===t.control?S(S({},Y),{},{len:0,area:0,bearing:0,lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,feature:{properties:{disabled:!0}},geomType:""}):"measure"===t.control?S(S({},Y),{},{geomType:"",lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1}):e;case o.At:return"measure"===t.control&&!1===t.value?S(S({},e),{},{geomType:"",lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1}):e;case o.l:return S(S({},e),{},{len:0,area:0,bearing:0,lineMeasureEnabled:!1,areaMeasureEnabled:!1,bearingMeasureEnabled:!1,feature:{properties:{disabled:!0}},geomType:"",features:[]});case r.GI:return S(S({},e),{},{format:t.format});case r.qg:return S(S({},e),t.defaultOptions);case r.MT:var H,V=t.coordinates.map((function(e){return[e.lon,e.lat]})),q=e.features||[],X=q[e.currentFeature]||{},z=V.filter((function(e){return(0,s.wd)(e)})).length!==V.length;return S(S({},e),{},{feature:{type:"Feature",properties:{disabled:V.filter((function(e){return(0,s.wd)(e)})).length!==V.length},geometry:{type:e.bearingMeasureEnabled?"LineString":e.geomType,coordinates:e.areaMeasureEnabled?[p()(V)]:V}},features:[].concat(v(q.slice(0,e.currentFeature)),[S(S({},X),{},{type:"Feature",properties:S(S({},X.properties||{}),{},{disabled:z||e.bearingMeasureEnabled&&V.length<2}),geometry:{type:e.bearingMeasureEnabled?"LineString":e.geomType,coordinates:e.areaMeasureEnabled?[[].concat(v(V),[V[0]])]:V,textLabels:(null==X||null===(H=X.geometry)||void 0===H?void 0:H.textLabels)||[]}})],v(q.slice(e.currentFeature+1,q.length))),updatedByUI:!0});default:return e}}},93152:(e,t,n)=>{"use strict";n.d(t,{$v:()=>a,lh:()=>i,c0:()=>s,m6:()=>l,tH:()=>u});var r=n(27361),o=n.n(r),a=function(e){return e&&e.maptype&&e.maptype.mapType||"leaflet"},i=function(e){return e&&e.maptype&&e.maptype.loaded},s=function(e){return"cesium"===a(e)},l=function(e){return"openlayers"===a(e)},u=function(e){return o()(e,"maptype.last2dMapType")||"leaflet"}},97266:(e,t,n)=>{"use strict";n.d(t,{iL:()=>p,cD:()=>c,jM:()=>m,VH:()=>d,on:()=>b});var r=n(93152),o=n(7147),a=n(61868),i=n(8797);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){return(0,o.Iz)(e)&&!e.measurement.isDrawing&&(0,r.m6)(e)},c=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},m=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},f=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=(0,a.t8)("geometry.coordinates",(0,i.L0)(t.geometry||{}),t)),t},d=function(e){return e.measurement&&l(l({},e.measurement),{},{feature:f(e)})||{}},b=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},38946:(e,t,n)=>{"use strict";n.d(t,{y7:()=>E,oU:()=>v,hH:()=>O});var r=n(73800),o=n(45801),a=n(86306),i=n(18369),s=n(78516),l=n(52),u=n(48041),p=n(78653),c=n(97950),m=n(52043),f=n(44538),d=n(52329),b=n(25642),y=n(13987),g=n(69669),h=n(40353),E=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,r=t.coordinates,o=t.radius,a=t.center;switch(n){case"Point":e=new m.Z(r||[]);break;case"LineString":e=new f.Z(r||[]);break;case"MultiPoint":e=new d.Z(r||[]);break;case"MultiLineString":e=new b.Z(r||[]);break;case"MultiPolygon":e=new y.Z(r||[]);break;default:e=o&&a?(0,h.Bb)(new g.Z([a.x,a.y],o),100):new h.ZP(r||[])}return e},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.geometry&&"Polygon"===e.geometry.type},O={dragPan:{options:{kinetic:!1},Instance:r.Z},keyboardPan:{options:{kinetic:!1},Instance:o.Z},mouseWheelZoom:{options:{duration:0},Instance:a.Z},doubleClickZoom:{options:{duration:0},Instance:i.Z},shiftDragZoom:{options:{duration:0},Instance:s.Z},keyboardZoom:{options:{},Instance:l.Z},pinchZoom:{options:{duration:0},Instance:u.Z},pinchRotate:{options:{},Instance:p.Z},altShiftDragRotate:{options:{},Instance:c.Z}}}}]);