(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[3739],{41291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(67294),o=n.n(r),a=n(74855),c=n.n(a),l=n(15135),i=n(30294),u=n(38560),s=(0,l.Z)(c());const p=function(e){var t=e.shareUrl,n=void 0===t?"":t,r=e.copied,a=void 0!==r&&r,c=e.onCopy,l=void 0===c?function(){}:c,p=e.onMouseLeave,f=void 0===p?function(){}:p;return o().createElement(s,{text:n,tooltipId:a?"share.msgCopiedUrl":"share.msgToCopyUrl",tooltipPosition:"bottom",key:a.toString(),onCopy:function(){return l(n)}},o().createElement(u.Z,{bsStyle:"primary",onMouseLeave:function(){return f()}},o().createElement(i.Glyphicon,{glyph:"copy"})))}},76622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(67294),o=n.n(r),a=n(45697),c=n.n(a),l=n(5346),i=n(30294),u=n(41291),s=n(8575);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,r,a,c=(r=p,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(a){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function p(){var e;f(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(m(e=c.call.apply(c,[this].concat(n))),"state",{copied:!1,forceDrawer:!1,connections:!1}),v(m(e),"renderTools",(function(){return o().createElement(o().Fragment,null,e.props.showTOCToggle&&o().createElement(i.Checkbox,{checked:e.state.forceDrawer,onChange:function(){return e.setState({forceDrawer:!e.state.forceDrawer})}},o().createElement(l.Z,{msgId:"share.forceDrawer"})),e.props.showConnectionsParamToggle&&o().createElement(i.Checkbox,{checked:e.state.connections,onChange:function(){return e.setState({connections:!e.state.connections})}},o().createElement(l.Z,{msgId:"share.showConnections"})))})),v(m(e),"generateUrl",(function(){var t=s.parse(e.props.shareUrl,!0);return e.state.forceDrawer&&(t.query.forceDrawer=!0),e.state.connections&&(t.query.connections=!0),s.format(t)})),e}return t=p,(n=[{key:"render",value:function(){var e=this,t='<iframe style="border: none;" height="400" width="600" src="'+this.generateUrl(this.props.shareUrl)+'"></iframe>';return o().createElement("div",{className:"input-link"},o().createElement("div",{className:"input-link-head"},o().createElement("h4",null,o().createElement(l.Z,{msgId:"share.embeddedLinkTitle"})),o().createElement(u.Z,{copied:this.state.copied,shareUrl:t,onCopy:function(){return e.setState({copied:!0})},onMouseLeave:function(){return e.setState({copied:!1})}})),o().createElement("div",{className:"input-link-tools"},this.renderTools()),o().createElement("pre",null,o().createElement("code",null,t)))}}])&&d(t.prototype,n),p}(o().Component);v(g,"propTypes",{shareUrl:c().string,showTOCToggle:c().bool,showConnectionsParamToggle:c().bool}),v(g,"defaultProps",{showTOCToggle:!0,shareUrl:""});const w=g},84198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(67294),o=n.n(r),a=n(45697),c=n.n(a),l=n(5346),i=n(41291),u=n(30294);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(a){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function s(){var e;p(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(h(e=c.call.apply(c,[this].concat(n))),"state",{copied:!1}),e}return t=s,(n=[{key:"render",value:function(){var e=this;return o().createElement("div",{className:"input-link"},o().createElement("div",{className:"input-link-head"},o().createElement("h4",null,o().createElement(l.Z,{msgId:"share.directLinkTitle"})),o().createElement(i.Z,{copied:this.state.copied,shareUrl:this.props.shareUrl,onCopy:function(){return e.setState({copied:!0})},onMouseLeave:function(){return e.setState({copied:!1})}})),o().createElement("pre",{style:{padding:0}},o().createElement(u.FormControl,{readOnly:!0,type:"text",value:this.props.shareUrl,onFocus:function(e){return e.target.select()}})))}}])&&f(t.prototype,n),s}(o().Component);b(v,"propTypes",{shareUrl:c().string});const g=v},27788:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(67294),o=n.n(r),a=n(45697),c=n.n(a),l=n(33664),i=n(22222),u=n(22843),s=n(82904),p=n(5346),f=n(30294),d=n(25108),y=n(76622),h=n(84198),m=n(94745),b=n(827),v=n(8575);function g(e){var t=e.resourceId,n=e.pathTemplate,r=e.enabled,a=e.onClose,c=function(e){var t=e.resourceId,n=e.pathTemplate,r=v.parse(location.href),o=r.host,a=r.protocol,c=n.replace(/\{id\}/g,t);return v.format({host:o,protocol:a,pathname:c})}({resourceId:t,pathTemplate:n});return o().createElement(m.Z,{modalClassName:"gn-share-modal",title:o().createElement(p.Z,{msgId:"share.title"}),show:r,fitContent:!0,clickOutEnabled:!1,onClose:function(){return a()}},o().createElement(h.Z,{shareUrl:c}),o().createElement(y.Z,{showTOCToggle:!1,shareUrl:c}))}g.propTypes={resourceId:c().oneOfType([c().number,c().string]),pathTemplate:c().string,enabled:c().bool,onClose:c().func},g.defaultProps={resourceId:null,pathTemplate:"/apps/{id}/embed",enabled:!1,onClose:function(){}};var w=(0,l.connect)((0,i.P1)([function(e){var t,n;return null==e||null===(t=e.controls)||void 0===t||null===(n=t.share)||void 0===n?void 0:n.enabled},function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.id},b._H],(function(e,t,n){return{enabled:e,resourceId:t||(null==n?void 0:n.id)}})),{onClose:s.Xi.bind(null,"share",null)})(g);const C=(0,u.rx)("Share",{component:w,containers:{BurgerMenu:{name:"share",position:1e3,text:o().createElement(p.Z,{msgId:"share.title"}),icon:o().createElement(f.Glyphicon,{glyph:"share-alt"}),action:s.Xi.bind(null,"share",null),selector:(0,i.P1)((function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.isNew}),(function(e){var t;return null==e||null===(t=e.gnresource)||void 0===t?void 0:t.id}),b._H,(function(e,t,n){return{style:!e&&(t||null!=n&&n.id)?{}:{display:"none"}}}))}},epics:{},reducers:{controls:d.Z}})},20640:(e,t,n)=>{"use strict";var r=n(11742),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,c,l,i,u,s=!1;t||(t={}),n=t.debug||!1;try{if(c=r(),l=document.createRange(),i=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),l.selectNodeContents(u),i.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{i&&("function"==typeof i.removeRange?i.removeRange(l):i.removeAllRanges()),u&&document.body.removeChild(u),c()}return s}},74300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(67294)),c=l(n(20640));function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.CopyToClipboard=function(e){function t(){var e,n,r;i(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onClick=function(e){var t=r.props,n=t.text,o=t.onCopy,l=t.children,i=t.options,u=a.default.Children.only(l),s=(0,c.default)(n,i);o&&o(n,s),u&&u.props&&"function"==typeof u.props.onClick&&u.props.onClick(e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["text","onCopy","options","children"]),o=a.default.Children.only(t);return a.default.cloneElement(o,r({},n,{onClick:this.onClick}))}}]),t}(a.default.PureComponent)},74855:(e,t,n)=>{"use strict";var r=n(74300).CopyToClipboard;e.exports=r},11742:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}}]);