(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1633,4907],{21914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>l,Pn:()=>c,DZ:()=>s,e8:()=>u,E0:()=>p,F9:()=>f,X_:()=>y,pb:()=>d,qb:()=>g,Re:()=>m,ih:()=>h,xy:()=>v,jL:()=>b,oz:()=>P,ph:()=>O,lF:()=>S,gG:()=>E,cb:()=>w,GI:()=>C,B1:()=>T,fv:()=>x,gc:()=>A,zX:()=>_,ZF:()=>N,Zb:()=>j,Fm:()=>F,sV:()=>I,Mn:()=>L,LU:()=>R,XP:()=>M,WU:()=>k,JB:()=>D,g:()=>G,ws:()=>U,HP:()=>z,aN:()=>Z,Pg:()=>Y,u0:()=>W,TM:()=>$,PM:()=>H,lK:()=>V,sv:()=>q,MO:()=>K,oO:()=>X,Mc:()=>J,Zw:()=>Q,RA:()=>ee,am:()=>te,ZM:()=>ne,wm:()=>re,Y$:()=>oe});var r=n(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",s="PURGE_MAPINFO_RESULTS",u="CHANGE_MAPINFO_FORMAT",p="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",y="SHOW_REVERSE_GEOCODE",d="HIDE_REVERSE_GEOCODE",g="GET_VECTOR_INFO",m="NO_QUERYABLE_LAYERS",h="CLEAR_WARNING",v="FEATURE_INFO_CLICK",b="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",P="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",O="TOGGLE_MAPINFO_STATE",S="UPDATE_CENTER_TO_MARKER",E="IDENTIFY:CHANGE_PAGE",w="IDENTIFY:CLOSE_IDENTIFY",C="IDENTIFY:CHANGE_FORMAT",T="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",x="IDENTIFY:EDIT_LAYER_FEATURES",A="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",_="IDENTIFY:SET_MAP_TRIGGER",N="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",j="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function F(e,t,n,r,i){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:i}}function I(e,t,n,r){return{type:i,error:t,reqId:e,requestParams:n,layerMetadata:r}}function L(e,t,n,r){return{type:a,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function R(){return{type:m}}function M(){return{type:h}}function k(e,t){return{type:c,reqId:e,request:t}}function D(e,t,n,r){return{type:g,layer:e,request:t,metadata:n,queryableLayers:r}}function G(){return{type:s}}function U(e){return{type:u,infoFormat:e}}function z(){return{type:p}}function Z(){return{type:f}}function B(e){return{type:y,reverseGeocodeData:e.data}}function Y(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(B(e))})).catch((function(e){t(B(e))}))}}function W(){return{type:d}}function $(){return{type:O}}function H(e){return{type:S,status:e}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:v,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function q(e){return{type:b,point:e}}function K(e){return{type:P,enabled:e}}function X(e){return{type:E,index:e}}var J=function(){return{type:w}},Q=function(e){return{type:C,format:e}},ee=function(e){return{type:T,showCoordinateEditor:e}},te=function(e){return{type:x,layer:e}},ne=function(e){return{type:A,query:e}},re=function(e){return{type:_,trigger:e}},oe=function(e){return{type:j,value:e}}},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(75875),o=n.n(r),i=n(8575),a=n(27418),l=n.n(a),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const s={geocode:function(e,t){var n=l()({q:e},c,t||{}),r=i.format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=l()({lat:e.lat,lon:e.lng},t||{},c),r=i.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},15402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n(37101).FormattedHTMLMessage,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function l(){return c(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){return this.context.intl?a().createElement(d,{id:this.props.msgId,values:this.props.msgParams}):a().createElement("span",null,this.props.msgId||"")}}])&&s(t.prototype,n),l}(a().Component);y(g,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),y(g,"contextTypes",{intl:o().object});const m=g},73378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i),l=(n(60654),n(34109)),c=n.n(l);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function l(){var e;p(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(g(e=i.call.apply(i,[this].concat(n))),"parse",(function(t){var n=t;if(NaN!==n&&"NaN"!==n){var r=e.context&&e.context.intl&&e.context.intl.locale||"en-US",o=new Intl.NumberFormat(r),i=o.formatToParts(12345.6),a=Array.from({length:10}).map((function(e,t){return o.format(t)})),l=new Map(a.map((function(e,t){return[e,t]}))),c=new RegExp("[".concat(i.find((function(e){return"group"===e.type})).value,"]"),"g"),s=new RegExp("[".concat(i.find((function(e){return"decimal"===e.type})).value,"]")),u=new RegExp("[".concat(a.join(""),"]"),"g");return(n=n.trim().replace(c,"").replace(s,".").replace(u,(function(e){return l.get(e)})))?+n:NaN}return""})),h(g(e),"format",(function(t){if(!isNaN(t)&&"NaN"!==t){var n=e.context&&e.context.intl&&e.context.intl.locale||"en-US";return new Intl.NumberFormat(n,{minimumFractionDigits:0,maximumFractionDigits:20}).format(t)}return""})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props,n=(t.onChange,t.onBlur),r=t.disabled,o=(t.type,t.step),i=t.value,l=t.defaultValue,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["onChange","onBlur","disabled","type","step","value","defaultValue"]);return a().createElement(c(),u({id:"intl-numeric",step:o},s,void 0!==i?{value:this.format(i)}:{defaultValue:this.format(l)},{format:this.format,onChange:function(t){null===t?e.props.onChange(""):e.props.onChange(t.toString())},onBlur:function(t){n&&(t.target.value=e.parse(t.target.value),n(t))},disabled:r||!1,parse:this.parse,onKeyPress:function(e){null!==e.key.match(/^[a-zA-Z]*$/)&&e.preventDefault()},componentClass:"input",className:"form-control"}))}}])&&f(t.prototype,n),l}(a().Component);h(v,"propTypes",{type:o().oneOfType([o().string,o().number]),value:o().oneOfType([o().string,o().number]),defaultValue:o().oneOfType([o().string,o().number]),onChange:o().func,step:o().number,locale:o().string,disabled:o().bool,onBlur:o().func}),h(v,"contextTypes",{intl:o().object});const b=v},38560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(30294),o=n(67294),i=n.n(o),a=n(94184),l=n.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const s=(u=r.Button,i().forwardRef((function(e,t){var n=e.disabled,r=e.className,o=e.onClick,a=void 0===o?function(){}:o,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["disabled","className","onClick"]);return i().createElement(u,c({ref:t,className:n?l()("disabled",r):r,onClick:function(){n||a.apply(void 0,arguments)}},s),s.children)})));var u},32425:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(45697),o=n.n(r),i=n(67294),a=n.n(i);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,n=e.style,r=void 0===n?{}:n,o=e.className,i=e.hidden;return a().createElement("div",{className:o,style:c({width:t,height:t,overflow:"hidden"},r)},!i&&a().createElement("div",{className:"mapstore-".concat(u(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const f=p},59224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U}),n(97142);var r=n(96486),o=n(27418),i=n.n(o),a=n(45697),l=n.n(a),c=n(67294),s=n.n(c),u=n(30294),p=n(33664),f=n(22222),y=n(82904),d=n(86069),g=n(5346),m=n(7472),h=n(45959),v=n(75110),b=n(8316),P=n(38842),O=n(827),S=n(93152),E=n(90183),w=n(86638),C=n(52259),T=n(24262);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U={PrintPlugin:i()({loadPlugin:function(e){Promise.resolve().then(function(){var t=n(10947).default,o=t.Name,a=t.Description,c=t.Resolution,h=t.DefaultBackgroundOption,x=t.Sheet,A=t.LegendOption,j=t.MultiPageOption,U=t.LandscapeOption,z=t.ForceLabelsOption,Z=t.AntiAliasingOption,B=t.IconSizeOption,Y=t.LegendDpiOption,W=t.Font,$=t.MapPreview,H=t.PrintSubmit,V=t.PrintPreview,q=n(34049),K=q.preloadData,X=q.getMapfishPrintSpecification,J=q.getLayoutName,Q=q.getPrintScales,ee=q.getNearestZoom,te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(y,e);var t,n,l,p,f=(l=y,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(l);if(p){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M(this,e)});function y(){var e;I(this,y);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return G(k(e=f.call.apply(f,[this].concat(n))),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),G(k(e),"getLayout",(function(t){var n=t||e.props,o=n.getLayoutName,i=n.printSpec,a=n.capabilities,l=o(i);return(0,r.head)(a.layouts.filter((function(e){return e.name===l})))})),G(k(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return s().createElement(t.component,{key:"printoption_"+t.name,label:(0,w.S$)(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),G(k(e),"renderPreviewPanel",(function(){return s().createElement(V,F({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),G(k(e),"renderError",(function(){return e.props.error?s().createElement(u.Row,null,s().createElement(u.Col,{xs:12},s().createElement("div",{className:"print-error"},s().createElement("span",null,e.props.error)))):null})),G(k(e),"renderWarning",(function(e){return e?null:s().createElement(u.Row,null,s().createElement(u.Col,{xs:12},s().createElement("div",{className:"print-warning"},s().createElement("span",null,s().createElement(g.Z,{msgId:"print.layoutWarning"})))))})),G(k(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.props.getLayoutName(e.props.printSpec),r=e.getMapSize(t);return s().createElement(u.Grid,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),s().createElement(u.Row,null,s().createElement(u.Col,{xs:12,md:6},s().createElement(o,{label:(0,w.S$)(e.context.messages,"print.title"),placeholder:(0,w.S$)(e.context.messages,"print.titleplaceholder")}),s().createElement(a,{label:(0,w.S$)(e.context.messages,"print.description"),placeholder:(0,w.S$)(e.context.messages,"print.descriptionplaceholder")}),s().createElement(u.Accordion,{defaultActiveKey:"1"},s().createElement(u.Panel,{className:"print-layout",header:(0,w.S$)(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},s().createElement(x,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:(0,w.S$)(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),s().createElement(u.Panel,{className:"print-legend-options",header:(0,w.S$)(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},s().createElement(W,{label:(0,w.S$)(e.context.messages,"print.legend.font")}),s().createElement(z,{label:(0,w.S$)(e.context.messages,"print.legend.forceLabels")}),s().createElement(Z,{label:(0,w.S$)(e.context.messages,"print.legend.antiAliasing")}),s().createElement(B,{label:(0,w.S$)(e.context.messages,"print.legend.iconsSize")}),s().createElement(Y,{label:(0,w.S$)(e.context.messages,"print.legend.dpi")})))),s().createElement(u.Col,{xs:12,md:6,style:{textAlign:"center"}},s().createElement(c,{label:(0,w.S$)(e.context.messages,"print.resolution")}),s().createElement($,F({width:r.width,height:r.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:n,layoutSize:t&&t.map||{width:10,height:10},resolutions:(0,C.getResolutions)(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?s().createElement(h,{label:(0,w.S$)(e.context.messages,"print.defaultBackground")}):null,s().createElement(H,F({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),G(k(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?s().createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),G(k(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),G(k(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),G(k(e),"isBackgroundIgnored",(function(t){return(t||e.props.layers).filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),G(k(e),"filterLayers",(function(t,n){var r=t||e.props,o=r.printSpec,a=r.layers,l=r.defaultBackground,c=a.filter((function(t){return t.visibility&&(0,T.isInsideResolutionsLimits)(t,n)&&e.isAllowed(t)}));if(e.isBackgroundIgnored(a)&&l&&o.defaultBackground){var s=a.filter((function(e){return e.type===l}))[0];return[i()({},s,{visibility:!0})].concat(N(c))}return c})),G(k(e),"configurePrintMap",(function(t){var n=t||e.props,r=n.map,o=n.capabilities,i=n.minZoom,a=n.configurePrintMap,l=n.useFixedScales,c=n.getZoomForExtent,s=n.maxZoom,u=n.currentLocale,p=n.scales;if(r&&r.bbox&&o){var f=(0,C.dpi2dpu)(C.DEFAULT_SCREEN_DPI,r.projection),y=(0,E.reprojectBbox)([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),d=e.getMapSize();if(l){var g=c(y,d,i,s),m=Q(o),h=ee(r.zoom,m),v=m[h],b=v/f;a(r.center,g,h,v,e.filterLayers(t,b),r.projection,u)}else{var P=p[r.zoom],O=P/f;a(r.center,r.zoom,r.zoom,P,e.filterLayers(t,O),r.projection,u)}}})),G(k(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=_(_({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var n=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,_(_({},n),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=y,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&(0,C.mapUpdated)(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?s().createElement(u.Panel,{className:"mapstore-print-panel",header:s().createElement("span",null,s().createElement("span",{className:"print-panel-title"},s().createElement(g.Z,{msgId:"print.paneltitle"})),s().createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):s().createElement(m.Z,{id:"mapstore-print-panel",style:_({left:"17%",top:"50px",zIndex:1990},this.props.style)},s().createElement("span",{role:"header"},s().createElement("span",{className:"print-panel-title"},s().createElement(g.Z,{msgId:"print.paneltitle"})),s().createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?s().createElement(u.Glyphicon,{glyph:this.props.closeGlyph}):s().createElement("span",null,"Ã—"))),this.renderBody()):this.renderBody():null}}])&&L(t.prototype,n),y}(s().Component);G(te,"propTypes",{map:l().object,layers:l().array,capabilities:l().object,printSpec:l().object,printSpecTemplate:l().object,withContainer:l().bool,withPanelAsContainer:l().bool,open:l().bool,pdfUrl:l().string,title:l().string,style:l().object,mapWidth:l().number,mapType:l().string,alternatives:l().array,toggleControl:l().func,onBeforePrint:l().func,setPage:l().func,onPrint:l().func,printError:l().func,configurePrintMap:l().func,preloadData:l().func,getPrintSpecification:l().func,getLayoutName:l().func,error:l().string,getZoomForExtent:l().func,minZoom:l().number,maxZoom:l().number,usePreview:l().bool,mapPreviewOptions:l().object,syncMapPreview:l().bool,useFixedScales:l().bool,scales:l().array,ignoreLayers:l().array,defaultBackground:l().string,closeGlyph:l().string,submitConfig:l().object,previewOptions:l().object,currentLocale:l().string,currentLocaleLanguage:l().string,overrideOptions:l().object,isLocalizedLayerStylesEnabled:l().bool,localizedLayerStylesEnv:l().object}),G(te,"contextTypes",{messages:l().object}),G(te,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:K,getPrintSpecification:X,getLayoutName:J,getZoomForExtent:C.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:A,regex:/legend/},{name:"2pages",component:j,regex:/2_pages/},{name:"landscape",component:U,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var ne=(0,f.P1)([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&i()({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},O.Od,v.l2,O.up,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},b.Pz,b.KV,S.$v,P.wk,P.fY],(function(e,t,n,r,o,i,a,l,c,s,u,p,f,y){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:i,layers:a.filter((function(e){return!e.loadingError})),scales:l,usePreview:c,currentLocale:s,currentLocaleLanguage:u,mapType:p,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:y}})),re=(0,p.connect)(ne,{toggleControl:y.Xi.bind(null,"print",null),onPrint:d.gV,printError:d.OS,onBeforePrint:d.MW,setPage:y.Xg.bind(null,"print","currentPage"),configurePrintMap:d.h9})(te);e(re)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:s().createElement(g.Z,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:s().createElement(u.Glyphicon,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:s().createElement(g.Z,{msgId:"printbutton"}),icon:s().createElement(u.Glyphicon,{glyph:"print"}),action:y.Xi.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:h.Z}}},38842:(e,t,n)=>{"use strict";n.d(t,{wk:()=>a,c3:()=>l,fY:()=>c});var r=n(96486),o=n(22222),i=n(8316),a=function(e){return(0,r.has)(e,"localConfig.localizedLayerStyles")},l=function(e){return(0,r.get)(e,"localConfig.localizedLayerStyles.name","mapstore_language")},c=(0,o.P1)(a,l,i.KV,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},58767:(e,t,n)=>{"use strict";n.d(t,{_P:()=>R,F7:()=>M});var r=n(23570),o=n.n(r),i=n(86638),a=n(33506),l=n(66287),c=n(61868),s=n(96486),u=n(55877),p=n.n(u),f=n(85447),y=n(27418),d=n.n(y);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={},O={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},S={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},E={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},w={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},C={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},T={Text:E,Point:S,Circle:O,MultiPoint:S,LineString:w,MultiLineString:w,Polygon:C,MultiPolygon:C},x="ms2-annotations",A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},_=function(e){return("start"===e?"lm":"end"===e&&"rm")||"cm"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.features,o=void 0===r?[]:r;return"FeatureCollection"===n?o.reduce((function(e,t){return e[t.geometry.type]=T[t.geometry.type],e}),{type:"FeatureCollection"}):v({},T[n])},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v({title:"annotations.defaulttitle"!==(0,i.S$)(t,"annotations.defaulttitle")?(0,i.S$)(t,"annotations.defaulttitle"):"Default title",id:o()()},e)},F=function(e){return(0,s.isString)(e)&&e||(0,s.isArray)(e)&&e.join(" ")},I=function(e){return e.color&&e.opacity&&e.weight},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t&&t[e]?t[e]:t,o=r,i=o.dashArray?F(o.dashArray):"solid";switch(e){case"MultiPolygon":case"Polygon":case"Circle":return{strokeColor:A(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,fillColor:A(o.fillColor),fillOpacity:o.fillOpacity,strokeDashstyle:i};case"LineString":case"MultiLineString":return{strokeColor:A(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i};case"Text":var c=I(o)?{labelOutlineColor:A(o.color),labelOutlineOpacity:o.opacity,labelOutlineWidth:o.weight}:{};return v({fontStyle:o.fontStyle,fontSize:o.fontSize,fontFamily:o.fontFamily,fontWeight:o.fontWeight,labelAlign:_(o.textAlign),fontColor:A(o.fillColor),fontOpacity:o.fillOpacity,label:n,stroke:!0,strokeColor:A(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i},c);case"Point":case"MultiPoint":var u=o.symbolUrl&&(0,l.fetchStyle)((0,l.hashAndStringify)(o),"base64")||a.Z.extraMarkers.markerToDataUrl(o),p=-18,f=-46;return o.iconAnchor&&(0,s.isArray)(o.iconAnchor)&&o.size&&(p="pixels"===o.anchorXUnits?-1*o.iconAnchor[0]:-1*o.size*o.iconAnchor[0],f="pixels"===o.anchorYUnits?-1*o.iconAnchor[1]:-1*o.size*o.iconAnchor[1]),u?{graphicWidth:o.size||36,graphicHeight:o.size||46,externalGraphic:u,graphicXOffset:p,graphicYOffset:f,display:!1===o.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===o.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:i,strokeWidth:1}}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return"FeatureCollection"===t.type?e.concat(t.features.map((function(e){return(0,s.castArray)(e.style||t.style||{}).filter((function(e){return!!(0,s.isNil)(e.filtering)||e.filtering})).map((function(t){return P.fromAnnotationToGeoJson(v(v({},e),{},{style:t}))}))})).reduce((function(e,t){return e.concat(t)}),[])):t.geometry&&"GeometryCollection"===t.geometry.type?e.concat(P.flattenGeometryCollection(t)):e.concat({type:"Feature",geometry:t.geometry,properties:v(v({},t.properties),{},{ms_style:L(t.geometry.type,t.style)})})}),[])},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],t=e[0].filter(P.validateCoordsArray);return t.length>3&&(0,s.head)(t)[0]===(0,s.last)(t)[0]&&(0,s.head)(t)[1]===(0,s.last)(t)[1]};P={ANNOTATION_TYPE:x,convertGeoJSONToInternalModel:function(e){var t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,i=e.features,a=void 0===i?[]:i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(n){case"Point":case"MultiPoint":return{type:1===l.length?"Text":n};case"Polygon":return{type:1===c.length?"Circle":n};case"GeometryCollection":var s=o.filter((function(e){return"Point"===e.type||"MultiPoint"===e.type})),u=o.filter((function(e){return"Polygon"===e.type})),p=0,f=0;return{type:"GeometryCollection",geometries:o.map((function(e){if("Point"===e.type||"MultiPoint"===e.type){if(s.length===l.length)return{type:"Text"};if(0===l.length)return{type:e.type};if(0===p)return p++,{type:"Text"}}if("Polygon"===e.type){if(u.length===c.length)return{type:"Circle"};if(0===c.length)return{type:e.type};if(0===f)return f++,{type:"Circle"}}return{type:e.type}}))};case"FeatureCollection":var y=a.map((function(e){return e.properties&&e.properties.isCircle?{type:"Circle"}:e.properties&&e.properties.isText?{type:"Text"}:{type:e.geometry.type}}));return{type:"FeatureCollection",features:y};default:return{type:n}}},getAvailableStyler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,i=e.features,a=void 0===i?[]:i;switch(n){case"Point":case"MultiPoint":case"Symbol":return[P.getRelativeStyler(n)];case"LineString":case"MultiLineString":return[P.getRelativeStyler(n)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[P.getRelativeStyler(n)];case"GeometryCollection":return o.reduce((function(e,t){return-1!==e.indexOf(P.getRelativeStyler(t.type))?e:e.concat(P.getAvailableStyler(t))}),[]);case"FeatureCollection":return a.reduce((function(e,t){return-1!==e.indexOf(P.getRelativeStyler(t.type))?e:e.concat(P.getAvailableStyler(t))}),[]);default:return[]}},getRelativeStyler:function(e){switch(e){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},createFont:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,n=void 0===t?"14":t,r=e.fontSizeUom,o=void 0===r?"px":r,i=e.fontFamily,a=void 0===i?"Arial":i,l=e.fontStyle,c=void 0===l?"normal":l,s=e.fontWeight,u=void 0===s?"normal":s;return"".concat(c," ").concat(u," ").concat(n).concat(o," ").concat(a)},DEFAULT_ANNOTATIONS_STYLES:T,STYLE_CIRCLE:O,STYLE_POINT_MARKER:S,STYLE_POINT_SYMBOL:{iconAnchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",color:"#000000",fillColor:"#000000",opacity:1,size:64,fillOpacity:1},STYLE_TEXT:E,STYLE_LINE:w,STYLE_POLYGON:C,getGeometryType:function(e){var t,n,r;return null!=e&&null!==(t=e.properties)&&void 0!==t&&t.isCircle?"Circle":null!=e&&null!==(n=e.properties)&&void 0!==n&&n.isText?"Text":null==e||null===(r=e.geometry)||void 0===r?void 0:r.type},getGeometryGlyphInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point",t={Point:{glyph:"point",label:"Point"},MultiPoint:{glyph:"point",label:"Point"},LineString:{glyph:"polyline",label:"Line"},MultiLineString:{glyph:"polyline",label:"Line"},Polygon:{glyph:"polygon",label:"Polygon"},MultiPolygon:{glyph:"polygon",label:"Polygon"},Text:{glyph:"font",label:"Text"},Circle:{glyph:"1-circle",label:"Circle"}};return t[e]},normalizeAnnotation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="FeatureCollection"===e.type?v({},e):{type:"Feature",geometry:e},r=N(n),o=j(n.properties,t);return v({style:r,properties:o},n)},removeDuplicate:function(e){return(0,s.values)(e.reduce((function(e,t){return v(v({},e),{},b({},t.properties.id,t))}),{}))},circlesToMultiPolygon:function(e,t){var n=e.geometries,r=void 0===n?[]:n,i=t.circles,a=void 0===i?[]:i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,c=a.reduce((function(e,t){return e.concat([r[t].coordinates])}),[]);return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:c},properties:{id:o()(),ms_style:L("Circle",l)}}},fromCircleToPolygon:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;return{type:"Feature",geometry:t.polygonGeom||e,properties:{id:t.id||o()(),ms_style:L("Circle",n)}}},fromTextToPoint:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return{type:"Feature",geometry:e,properties:{id:t.id||o()(),ms_style:L("Text",n,t.valueText)}}},fromLineStringToGeodesicLineString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return{type:"Feature",geometry:e.geometryGeodesic,properties:{id:e.id||o()(),ms_style:L(e.geometryGeodesic.type,t)}}},textToPoint:function(e,t){var n=e.geometries,r=void 0===n?[]:n,i=t.textGeometriesIndexes,a=void 0===i?[]:i,l=t.textValues,c=void 0===l?[]:l,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return a.map((function(e,t){return{type:"Feature",geometry:r[e],properties:{id:o()(),ms_style:L("Text",s,c[t])}}}))},flattenGeometryCollection:function(e){var t=e.geometry,n=e.properties,r=e.style,i=n.circles&&P.circlesToMultiPolygon(t,n,r.Circle)||[],a=n.textGeometriesIndexes&&P.textToPoint(t,n,r.Text)||[],l=(n.circles||[]).concat(n.textGeometriesIndexes||[]);return t.geometries.filter((function(e,t){return-1===l.indexOf(t)})).map((function(e){return{type:"Feature",geometry:e,properties:{id:o()(),ms_style:L(e.type,r[e.type])}}})).concat(i,a)},createGeometryFromGeomFunction:function(e){var t=l.geometryFunctions[e.style.geometry]&&l.geometryFunctions[e.style.geometry].type||e.geometry.type,n=e.geometry.coordinates||[];switch(e.style.geometry){case"startPoint":n=(0,s.head)(n);break;case"endPoint":n=(0,s.last)(n);break;case"centerPoint":n=(0,f.Z)(e).geometry.coordinates}return{type:t,coordinates:n}},fromAnnotationToGeoJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geometry,n=e.properties,r=void 0===n?{}:n,i=e.style,a=void 0===i?{}:i,l=a.geometry?P.createGeometryFromGeomFunction({geometry:t,properties:r,style:a,type:"Feature"}):t;return r.isCircle&&"Polygon"===l.type?P.fromCircleToPolygon(l,r,a):r.isText?P.fromTextToPoint(l,r,a):"LineString"===l.type&&r.useGeodesicLines&&a.filtering?P.fromLineStringToGeodesicLineString(r,a):{type:"Feature",geometry:l,properties:{id:r.id||o()(),ms_style:L(l.type,a)}}},annotationsToPrint:R,formatCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]];return e.map((function(e){return{lat:e&&e[1],lon:e&&e[0]}}))},getBaseCoord:function(e){switch(e){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},getComponents:function(e){var t=e.type,n=e.coordinates;switch(t){case"Polygon":return P.isCompletePolygon(n)?P.formatCoordinates((0,s.slice)(n[0],0,n[0].length-1)):P.formatCoordinates(n[0]);case"LineString":case"MultiPoint":return P.formatCoordinates(n);default:return P.formatCoordinates([n])}},addIds:function(e){return e.map((function(e){return e.properties&&e.properties.id?e:(0,c.t8)("properties.id",p().v1(),e)}))},COMPONENTS_VALIDATION:{Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},validateCoords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lat,n=e.lon;return!isNaN(parseFloat(t))&&!isNaN(parseFloat(n))},validateCoordsArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=g(e,2),n=t[0],r=t[1];return!isNaN(parseFloat(r))&&!isNaN(parseFloat(n))},validateCoord:function(e){return!isNaN(parseFloat(e))},coordToArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.lon,e.lat]},validateCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.remove,o=void 0!==r&&r,i=e.type;if(n&&n.length){var a=n.filter(P.validateCoords);return o?a.length>P.COMPONENTS_VALIDATION[i].min&&a.length===n.length:a.length>=P.COMPONENTS_VALIDATION[i].min&&a.length===n.length}return!1},validateCircle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{radius:0}:r;if(n&&n.length){var i=(0,s.head)(n);return!isNaN(parseFloat(o.radius))&&P.validateCoords(i)}return!1},validateText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{valueText:""}:r;if(n&&n.length){var i=(0,s.head)(n);return o&&!!o.valueText&&P.validateCoords(i)}return!1},validateFeature:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[[]]:t,r=e.type,o=e.remove,i=void 0!==o&&o,a=e.properties,l=void 0===a?{}:a;return!(0,s.isNil)(r)&&("Text"===r?P.validateText({components:n,properties:l}):"Circle"===r?P.validateCircle({components:n,properties:l}):P.validateCoordinates({components:n,remove:i,type:r}))},updateAllStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.features&&e.features.length?v(v({},e),{},{features:e.features.map((function(e){return d()({},e,{style:(0,s.castArray)(e.style).map((function(e){return d()({},e,t)}))})}))}):e},getStartEndPointsForLinestring:function(){return[v(v({},T.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:o()()}),v(v({},T.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:o()()})]},DEFAULT_SHAPE:"triangle",DEFAULT_PATH:"product/assets/symbols/",checkSymbolsError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return e.length&&-1!==(0,s.findIndex)(e,(function(e){return e===t}))},isAMissingSymbol:function(e){return e.symbolUrlCustomized===n(70898)},isCompletePolygon:M,getDashArrayFromStyle:F,isAnnotation:function(e){return(null==e?void 0:e.type)===x||"Annotations"===(null==e?void 0:e.name)}}},66287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isAttrPresent:()=>m,isStrokeStyle:()=>h,isFillStyle:()=>v,isTextStyle:()=>b,isCircleStyle:()=>P,isMarkerStyle:()=>O,isSymbolStyle:()=>S,getStylerTitle:()=>E,geometryFunctions:()=>w,getGeometryFunction:()=>C,registerGeometryFunctions:()=>T,addOpacityToColor:()=>x,hashCode:()=>A,registerStyle:()=>N,setSymbolsStyles:()=>j,fetchStyle:()=>F,getSymbolsStyles:()=>I,hashAndStringify:()=>L,domNodeToString:()=>R,createSvgUrl:()=>M,createStylesAsync:()=>k,getStyleParser:()=>D});var r=n(96486),o=n(61868),i=n(43143),a=n(9669),l=n.n(a),c=n(42757),s=n.n(c),u=n(50436),p=n.n(u);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={sld:new(s()),css:new(p())},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.filter((function(t){return!(0,r.isNil)(e[t])})).length>0},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return m(e,t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return m(e,t)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign","textRotationDeg"];return m(e,t)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return m(e,t)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return m(e,t)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return m(e,t)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O(e)?"Marker":S(e)?"Symbol":b(e)?"Text":P(e)||"Circle Style"===e.title?"Circle":v(e)?"Polygon":h(e)?"Polyline":""},w={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},C=function(e,t){return w[e]&&w[e][t]},T=function(e,t,n){if(!(e&&t&&n))throw new Error("specify all the params: functionName, func, type");w[e]={func:t,type:n}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return(0,o.t8)("a",t,e)},A=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},_={},N=function(e,t){if(!e||!t)throw new Error("specify all the params: sha, style");_[e]=t},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_=e},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return _[e]&&_[e][t]},I=function(){return _},L=function(e){if(e)return A(JSON.stringify(e));throw new Error("hashAndStringify: specify mandatory params: style")},R=function(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return S(e)&&e.symbolUrl?l().get(t,{"Content-Type":"image/svg+xml;charset=utf-8"}).then((function(t){var n=window.URL||window.webkitURL||window,o=(new DOMParser).parseFromString(t.data,"image/svg+xml").firstElementChild;o.setAttribute("fill",e.fillColor||"#FFCC33"),o.setAttribute("fill-opacity",(0,r.isNil)(e.fillOpacity)?.2:e.fillOpacity),o.setAttribute("stroke",(0,i.qq)(e.color||"#FFCC33",(0,r.isNil)(e.opacity)?1:e.opacity)),o.setAttribute("stroke-opacity",(0,r.isNil)(e.opacity)?1:e.opacity),o.setAttribute("stroke-width",e.weight||1),o.setAttribute("width",e.size||32),o.setAttribute("height",e.size||32),o.setAttribute("stroke-dasharray",e.dashArray||"none");var a=new Blob([R(o)],{type:"image/svg+xml;charset=utf-8"}),l=n.createObjectURL(a),c=document.createElement("canvas");c.width=e.size,c.height=e.size;var s=c.getContext("2d"),u=new Image;u.src=l;var p="",f=L(e);return u.onload=function(){try{s.drawImage(u,c.width/2-u.width/2,c.height/2-u.height/2),p=c.toDataURL("image/png"),c=null,N(f,{style:y(y({},e),{},{symbolUrlCustomized:l}),base64:p})}catch(e){return}},N(f,{style:y(y({},e),{},{symbolUrlCustomized:l}),svg:o,base64:p}),l})).catch((function(){return n(70898)})):new Promise((function(e){e(null)}))},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return S(e)&&!F(L(e))?M(e,e.symbolUrl||e.symbolUrlCustomized).then((function(t){return t?y(y({},e),{},{symbolUrlCustomized:t}):F(L(e))})).catch((function(){return y(y({},e),{},{symbolUrlCustomized:n(70898)})})):new Promise((function(t){t(S(e)?F(L(e)):e)}))}))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sld";return g[e]}},38946:(e,t,n)=>{"use strict";n.d(t,{y7:()=>b,hH:()=>P});var r=n(73800),o=n(45801),i=n(86306),a=n(18369),l=n(78516),c=n(52),s=n(48041),u=n(78653),p=n(97950),f=n(52043),y=n(44538),d=n(52329),g=n(25642),m=n(13987),h=n(69669),v=n(40353),b=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,r=t.coordinates,o=t.radius,i=t.center;switch(n){case"Point":e=new f.Z(r||[]);break;case"LineString":e=new y.Z(r||[]);break;case"MultiPoint":e=new d.Z(r||[]);break;case"MultiLineString":e=new g.Z(r||[]);break;case"MultiPolygon":e=new m.Z(r||[]);break;default:e=o&&i?(0,v.Bb)(new h.Z([i.x,i.y],o),100):new v.ZP(r||[])}return e},P={dragPan:{options:{kinetic:!1},Instance:r.Z},keyboardPan:{options:{kinetic:!1},Instance:o.Z},mouseWheelZoom:{options:{duration:0},Instance:i.Z},doubleClickZoom:{options:{duration:0},Instance:a.Z},shiftDragZoom:{options:{duration:0},Instance:l.Z},keyboardZoom:{options:{},Instance:c.Z},pinchZoom:{options:{duration:0},Instance:s.Z},pinchRotate:{options:{},Instance:u.Z},altShiftDragRotate:{options:{},Instance:p.Z}}},47511:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi .form-control-intl {\r\n    background-color: unset !important;\r\n}\r\n",""])},60654:(e,t,n)=>{var r=n(47511);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)}}]);