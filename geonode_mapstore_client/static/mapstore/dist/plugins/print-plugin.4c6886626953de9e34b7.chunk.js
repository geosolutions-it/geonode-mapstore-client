(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1633,5701],{8026:(e,t,n)=>{var r={"./cesium/plugins/index":33219,"./leaflet/index":73653,"./leaflet/plugins/index":35701,"./openlayers/index":39190,"./openlayers/plugins/index":3498,"./popups/index":21751};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=8026},14807:(e,t,n)=>{var r={"./cesium/plugins/index":33219,"./leaflet/plugins/index":35701,"./openlayers/plugins/index":3498};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=14807},21914:(e,t,n)=>{"use strict";n.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>l,Pn:()=>s,DZ:()=>c,e8:()=>p,E0:()=>u,F9:()=>f,X_:()=>y,pb:()=>m,qb:()=>d,Re:()=>g,ih:()=>h,xy:()=>b,jL:()=>v,oz:()=>O,ph:()=>S,lF:()=>w,gG:()=>P,cb:()=>E,GI:()=>x,B1:()=>j,fv:()=>C,gc:()=>L,zX:()=>_,ZF:()=>T,Zb:()=>R,Fm:()=>M,sV:()=>k,Mn:()=>A,LU:()=>N,XP:()=>I,WU:()=>z,JB:()=>F,g:()=>D,ws:()=>Z,HP:()=>U,aN:()=>B,Pg:()=>G,u0:()=>W,TM:()=>$,PM:()=>Y,lK:()=>H,sv:()=>V,MO:()=>X,oO:()=>K,Mc:()=>J,Zw:()=>Q,RA:()=>ee,am:()=>te,ZM:()=>ne,wm:()=>re,Y$:()=>oe});var r=n(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",s="NEW_MAPINFO_REQUEST",c="PURGE_MAPINFO_RESULTS",p="CHANGE_MAPINFO_FORMAT",u="SHOW_MAPINFO_MARKER",f="HIDE_MAPINFO_MARKER",y="SHOW_REVERSE_GEOCODE",m="HIDE_REVERSE_GEOCODE",d="GET_VECTOR_INFO",g="NO_QUERYABLE_LAYERS",h="CLEAR_WARNING",b="FEATURE_INFO_CLICK",v="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",O="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",S="TOGGLE_MAPINFO_STATE",w="UPDATE_CENTER_TO_MARKER",P="IDENTIFY:CHANGE_PAGE",E="IDENTIFY:CLOSE_IDENTIFY",x="IDENTIFY:CHANGE_FORMAT",j="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",C="IDENTIFY:EDIT_LAYER_FEATURES",L="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",_="IDENTIFY:SET_MAP_TRIGGER",T="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",R="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function M(e,t,n,r,i){return{type:o,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:i}}function k(e,t,n,r){return{type:i,error:t,reqId:e,requestParams:n,layerMetadata:r}}function A(e,t,n,r){return{type:a,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function N(){return{type:g}}function I(){return{type:h}}function z(e,t){return{type:s,reqId:e,request:t}}function F(e,t,n,r){return{type:d,layer:e,request:t,metadata:n,queryableLayers:r}}function D(){return{type:c}}function Z(e){return{type:p,infoFormat:e}}function U(){return{type:u}}function B(){return{type:f}}function q(e){return{type:y,reverseGeocodeData:e.data}}function G(e){return function(t){r.Z.reverseGeocode(e).then((function(e){t(q(e))})).catch((function(e){t(q(e))}))}}function W(){return{type:m}}function $(){return{type:S}}function Y(e){return{type:w,status:e}}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:b,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function V(e){return{type:v,point:e}}function X(e){return{type:O,enabled:e}}function K(e){return{type:P,index:e}}var J=function(){return{type:E}},Q=function(e){return{type:x,format:e}},ee=function(e){return{type:j,showCoordinateEditor:e}},te=function(e){return{type:C,layer:e}},ne=function(e){return{type:L,query:e}},re=function(e){return{type:_,trigger:e}},oe=function(e){return{type:R,value:e}}},47310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(75875),o=n.n(r),i=n(72500),a=n.n(i),l=n(27418),s=n.n(l),c={format:"json",bounded:0,polygon_geojson:1,priority:5};const p={geocode:function(e,t){var n=s()({q:e},c,t||{}),r=a().format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return o().get(r)},reverseGeocode:function(e,t){var n=s()({lat:e.lat,lon:e.lng},t||{},c),r=a().format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return o().get(r)}}},15402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(45697),o=n.n(r),i=n(24852),a=n.n(i);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function u(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(68195).FormattedHTMLMessage,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function l(){return s(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){return this.context.intl?a().createElement(m,{id:this.props.msgId,values:this.props.msgParams}):a().createElement("span",null,this.props.msgId||"")}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(a().Component);y(d,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),y(d,"contextTypes",{intl:o().object});const g=d},73653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LLayer:()=>u,LMap:()=>f,MeasurementSupport:()=>y,Overview:()=>m,ScaleBar:()=>d,Feature:()=>g,default:()=>h});var r=n(52792),o=n(39726),i=n(42047),a=n(21975),l=n.n(a),s=n(20564),c=n.n(s),p=n(44948),u=r.Z,f=o.Z,y=i.Z,m=l(),d=c(),g=p.Z;const h={LLayer:u,LMap:f,MeasurementSupport:y,Overview:m,ScaleBar:d,Feature:g}},61444:(e,t,n)=>{"use strict";n.r(t);var r=n(56307),o=n.n(r),i=n(44712),a=n.n(i),l=(n(71851),n(27418)),s=n.n(l);o().BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+o().Util.stamp(this);window[t]=function(n){e.meta=n,window[t]=void 0;var r=document.getElementById(t);return r.parentNode.removeChild(r),n.errorDetails?(e.fire("load",{layer:e}),e.onError(n)):(e.initMetadata(n),null)};var n="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),r=n+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+n,i=document.createElement("script");i.type="text/javascript",i.src=r,i.id=t,document.getElementsByTagName("head")[0].appendChild(i)}},o().BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},a().registerType("bing",{create:function(e){var t=e.apiKey,n={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(n=s()({},n,{zoomOffset:e.zoomOffset})),new(o().BingLayer)(t,n)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},51735:(e,t,n)=>{var r=n(56307);e.exports=r.TileLayer.extend({initialize:function(e){r.TileLayer.prototype.initialize.call(this,this.url,e)}})},26696:(e,t,n)=>{"use strict";n.r(t);var r=n(44712),o=n.n(r),i=n(56307),a=n.n(i);n(14767),o().registerType("google",(function(e){return a().gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},90671:(e,t,n)=>{"use strict";n.r(t);var r=n(44712),o=n.n(r),i=n(71305),a=n.n(i),l=n(27418),s=n.n(l);n(17820),o().registerType("graticule",{create:function(e){var t=s()({interval:20,showOriginLabel:!0,redraw:"move"},e);return a()?new(a())(t):null},isValid:function(){return!!a()}})},52031:(e,t,n)=>{"use strict";n.r(t);var r=n(44712),o=n.n(r),i=n(57167),a=n.n(i);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o().registerType("mapquest",{create:function(e){return a()?a().mapLayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!a()}})},51254:(e,t,n)=>{"use strict";n.r(t);var r=n(44712),o=n.n(r),i=n(56307),a=n.n(i);o().registerType("osm",(function(e){return a().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},35659:(e,t,n)=>{"use strict";n.r(t);var r=n(44712),o=n.n(r),i=n(56307),a=n.n(i);o().registerType("tms",(function(e){return a().tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},70826:(e,t,n)=>{"use strict";n.r(t);var r=n(44712),o=n.n(r),i=n(56307),a=n.n(i),l=n(45992);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}o().registerType("tileprovider",(function(e){var t,n,r=l.Z.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxZoom:23},e)),o=(n=2,function(e){if(Array.isArray(e))return e}(t=r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],u=o[1];return a().tileLayer(i,u)}))},10733:(e,t,n)=>{"use strict";n.r(t);var r=n(44712),o=n.n(r),i=n(14293),a=n.n(i),l=n(56307),s=n.n(l),c=function e(t,n){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(n),e(t,n)}))};o().registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,n=s().geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,n){return s().circleMarker(n,t.style||e.style)}:null,hideLoading:t});return n.setOpacity=function(e){c(n,e)},n.on("layeradd",(function(t){var r=t.layer;n.setOpacity(a()(n.opacity)?e.opacity:n.opacity,r)})),n}(e);return t.opacity=a()(e.opacity)?1:e.opacity,t},update:function(e,t,n){t.opacity!==n.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},22946:(e,t,n)=>{"use strict";var r=n(14293),o=n.n(r),i=n(18446),a=n.n(i),l=n(56307),s=n.n(l),c=n(43143),p=n(86267),u=n(44712),f=n.n(u),y=n(43378),m=n(32420),d=n(38848),g=["color","fillColor"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e,t){e.fireEvent("loading");var n=(0,y.v)(t),r=function(){e.fireEvent("loadError")};return(0,m.Bm)(t.url,t.name,b({outputFormat:"application/json",maxFeatures:1e3,srsname:(0,p.normalizeSRS)("EPSG:4326")},n)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),r(new Error("status code of response:"+t.status))),e})).catch((function(e){r()}))},S=function(e){var t=e||{},n=t.color,r=t.fillColor;return b(b({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,g)),{},{color:(0,c.qq)(n,1),fillColor:(0,c.qq)(r,1)})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return S(t)},P=function(e,t){var n=w(t);e.setStyle(n),e.options.style=n,e.styleName=t.styleName},E=function e(t,n){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(n),e(t,n)}))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=w(e),r=function(t,r){return"marker"===e.styleName?s().marker(r,n):s().circleMarker(r,n)},i=new(s().GeoJSON)(t,{pointToLayer:r,style:n});return i.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=b({},i.options.style||{}),n=t.fillOpacity,r=void 0===n?1:n,o=t.opacity,a=void 0===o?1:o,l=b(b({},t),{},{opacity:a*e,fillOpacity:r*e});i.setStyle(S(l)),E(i,e)},i.on("layeradd",(function(){P(i,e),i.setOpacity(o()(i.opacity)?e.opacity:i.opacity)})),i};f().registerType("wfs",{create:function(e){var t=x(e);return O(t,e),t.opacity=o()(e.opacity)?1:e.opacity,t},update:function(e,t,n){if(t.opacity!==n.opacity&&(e.opacity=t.opacity),(0,d.Es)(n,t)&&O(e,t),a()(t.style,n.style)||P(e,t),t.styleName!==n.styleName){var r=e.toGeoJSON().features;return x(t,r)}return null},render:function(){return null}})},36366:(e,t,n)=>{"use strict";n.r(t);var r=n(24852),o=n.n(r),i=n(5346),a=n(44712),l=n.n(a),s=n(43378),c=n(95784),p=n.n(c),u=n(56307),f=n.n(u),y=n(27418),m=n.n(y),d=n(1469),g=n.n(d),h=n(14293),b=n.n(h),v=n(33044),O=n(3901),S=n(24262),w=n(33358);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(12787),f().NonTiledLayer.WMSCustom=f().NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var n=f().extend({},this.defaultWmsParams);for(var r in t)this.options.hasOwnProperty(r)||"CRS"===r.toUpperCase()||"maxNativeZoom"===r||(n[r]=t[r]);this.wmsParams=n,f().setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),n||this.redraw(),this}}),f().nonTiledLayer.wmsCustom=function(e,t){return new(f().NonTiledLayer.WMSCustom)(e,t)},f().TileLayer.MultipleUrlWMS=f().TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=f().extend({},this.defaultWmsParams),r=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&f().Browser.retina?n.width=n.height=2*r:n.width=n.height=r,t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(n[o]=t[o]);this.wmsParams=n,f().setOptions(this,t)},getTileUrl:function(e){var t=this._map,n=this.options.tileSize,r=e.multiplyBy(n),o=r.add([n,n]),i=this._crs.project(t.unproject(r,e.z)),a=this._crs.project(t.unproject(o,e.z)),l=this._wmsVersion>=1.3&&this._crs===f().CRS.EPSG4326?[a.y,i.x,i.y,a.x].join(","):[i.x,a.y,a.x,i.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var s=f().Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return s+f().Util.getParamString(this.wmsParams,s,!0)+"&BBOX="+l},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),n||this.redraw(),this}}),f().tileLayer.multipleUrlWMS=function(e,t){return new(f().TileLayer.MultipleUrlWMS)(e,t)},f().TileLayer.ElevationWMS=f().TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,n,r){this._tiles={},this._nodata=n,this._littleendian=r,f().TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);(0,O.qR)(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var n=this._getTileFromCoords(e),r=(0,O.yQ)(this._tileCoordsToKey(n),this._getTileRelativePixel(n,t),this.getTileSize().x,this._nodata,this._littleendian);return r.available?r.value:o().createElement(i.Z,{msgId:r.message})}catch(e){return o().createElement(i.Z,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return m()(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var n=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),r=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new(f().Point)(n,r)},_removeTile:function(){},_abortLoading:function(){}}),f().tileLayer.elevationWMS=function(e,t,n,r){return new(f().TileLayer.ElevationWMS)(e,t,n,r)};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){return b()(e[n])?t:m()(t,P({},n,e[n]))}),{})};function x(e){var t=void 0!==e.opacity?e.opacity:1,n=(0,s.v)(e),r=m()({},e.baseParams,{attribution:e.credits&&(0,S.go)(e.credits),layers:e.name,styles:e.style||"",format:((0,w.z)(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},m()(e._v_?{_v_:e._v_}:{},n||{}));return(0,v.addAuthenticationToSLD)(r,e)}function j(e){return e.map((function(e){return e.split("?")[0]}))}l().registerType("wms",{create:function(e){var t=j(g()(e.url)?e.url:[e.url]),n=E(x(e)||{});return t.forEach((function(t){return(0,v.addAuthenticationParameter)(t,n,e.securityToken)})),e.useForElevation?f().tileLayer.elevationWMS(t,n,e.nodata||-9999,e.littleendian||!1):e.singleTile?f().nonTiledLayer.wmsCustom(t[0],n):f().tileLayer.multipleUrlWMS(t,n)},update:function(e,t,n){if(n.singleTile!==t.singleTile||n.tileSize!==t.tileSize||n.securityToken!==t.securityToken&&t.visibility){var r=j(g()(t.url)?t.url:[t.url]),o=x(t)||{};return r.forEach((function(e){return(0,v.addAuthenticationParameter)(e,o,t.securityToken)})),t.singleTile?f().nonTiledLayer.wmsCustom(r[0],o):f().tileLayer.multipleUrlWMS(r,o)}var i=m()({},p().filterWMSParamOptions(x(n)),(0,v.addAuthenticationToSLD)(n.params||{},n)),a=m()({},p().filterWMSParamOptions(x(t)),(0,v.addAuthenticationToSLD)(t.params||{},t)),l=Object.keys(a).filter((function(e){return a[e]!==i[e]})),s=Object.keys(i).filter((function(e){return i[e]!==a[e]})),c={};return s.length>0&&e.removeParams(s,l.length>0),l.length>0&&(c=l.reduce((function(e,t){return m()({},e,P({},t,a[t]))}),c),e.setParams(E(m()(c,c.params,(0,v.addAuthenticationToSLD)(t.params||{},t))))),null}})},85365:(e,t,n)=>{"use strict";n.r(t);var r=n(44712),o=n.n(r),i=n(86267),a=n(56307),l=n.n(a),s=n(27418),c=n.n(s),p=n(33044),u=n(7294),f=n(52259),y=n(91175),m=n.n(y),d=n(81763),g=n.n(d);function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const v=l().TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,n){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=l().extend({},this.defaultWmtsParams),o=t.tileSize||this.options.tileSize;for(var i in t.detectRetina&&l().Browser.retina?r.width=r.height=2*o:r.width=r.height=o,t)this.options.hasOwnProperty(i)||"crs"===i||(r[i]=t[i]);this.wmtsParams=r,this.matrixIds=n.matrixIds&&this.getMatrix(n.matrixIds,n)||this.getDefaultMatrix(n),this.matrixSet=n.matrixSet&&n.matrixSet.TileMatrix||[],this.ignoreErrors=n.ignoreErrors||!1,l().setOptions(this,t)},getWMTSParams:function(e,t,n,r,o){var a=(0,f.getScales)()[n],l=m()(e.map((function(t,n){if(n===e.length-1)return null;var r=parseFloat(t.ScaleDenominator),o=parseFloat(e[n+1].ScaleDenominator);return r>=a&&o<a?a-o>(r-o)/2?{id:n,data:t}:{id:n+1,data:e[n+1]}:null})).filter((function(e){return e}))),s=l&&g()(l.id)&&l.id+""||0===e.length&&n||null;if(!t[s])return null;var c=t[s].identifier,p=l.data&&l.data.TopLeftCorner&&(0,i.parseString)(l.data.TopLeftCorner)||t[s].topLeftCorner,u=p.lng||p.x,y=p.lat||p.y,d=Math.round((r.x-u)/o),h=-Math.round((r.y-y)/o),b=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},v=t[s].ranges||b;return v&&!function(e,t,n){return!(e<n.cols.min||e>n.cols.max||t<n.rows.min||t>n.rows.max)}(d,h,v)?null:{ident:c,tilecol:d,tilerow:h}},getTileUrl:function(e){var t=this._map,n=t.options.crs,r=this.options.tileSize,o=e.multiplyBy(r);o.x+=1,o.y-=1;var i=o.add([r,r]),a=n.project(t.unproject(o,e.z)),s=n.project(t.unproject(i,e.z)).x-a.x,c=this.getWMTSParams(h(this.matrixSet),h(this.matrixIds),e.z,a,s);if(!c)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=l().Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:c.tilerow,TileCol:c.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:c.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+l().Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+c.ident+"&tilerow="+c.tilerow+"&tilecol="+c.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new(l().LatLng)(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),n=0;n<22;n++)t[n]={identifier:e.tileMatrixPrefix+n,topLeftCorner:new(l().LatLng)(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});var O=n(1469),S=n.n(O),w=n(33358);l().tileLayer.wmts=function(e,t,n){return new v(e,t,n)};var P=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(S()(e.url)?e.url:[e.url]),n=function(e){var t=(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),n=u.C2(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return c()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:((0,w.z)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:n,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return(0,p.addAuthenticationParameter)(t,n,e.securityToken)}));var r=(0,i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),o=u.h7(e,r),a=o.tileMatrixSet,s=o.matrixIds;return l().tileLayer.wmts(t,n,{tileMatrixPrefix:e.tileMatrixPrefix||n.tileMatrixSet+":"||r+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:s,matrixSet:a})};o().registerType("wmts",{create:P,update:function(e,t,n){return n.securityToken!==t.securityToken||n.format!==t.format?P(t):null}})},35701:(e,t,n)=>{e.exports={BingLayer:n(61444),Commons:n(51735),GraticuleLayer:n(90671),GoogleLayer:n(26696),MapQuest:n(52031),OSMLayer:n(51254),TMSLayer:n(35659),TileProviderLayer:n(70826),WFSLayer:n(22946).default,WMSLayer:n(36366),WMTSLayer:n(85365),VectorLayer:n(10733)}},39190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Feature:()=>c,LLayer:()=>p,LMap:()=>u,MeasurementSupport:()=>f,Overview:()=>y,ScaleBar:()=>m,default:()=>d});var r=n(30072),o=n(44054),i=n(9713),a=n(5904),l=n(22404),s=n(9056),c=r.Z,p=o.Z,u=i.Z,f=a.Z,y=l.Z,m=s.Z;const d={LLayer:p,LMap:u,MeasurementSupport:f,Overview:y,ScaleBar:m,Feature:c}},75964:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(18446),o=n.n(r),i=n(45697),a=n.n(i),l=n(24852),s=n.n(l),c=n(30294),p=n(52259);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function d(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(l,e);var t,n,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(i){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function l(){var e;f(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(g(e=a.call.apply(a,[this].concat(n))),"onComboChange",(function(t){var n=parseInt(t.nativeEvent.target.value,10);e.props.onChange(n,e.props.scales[n])})),b(g(e),"getOptions",(function(){return e.props.scales.map((function(t,n){return s().createElement("option",{value:n,key:n},e.props.template(t,n))})).filter((function(t,n){return n>=e.props.minZoom}))})),e}return t=l,(n=[{key:"shouldComponentUpdate",value:function(e){return!o()(e,this.props)}},{key:"render",value:function(){var e;return e=this.props.readOnly?s().createElement("label",null,this.props.template(this.props.scales[this.props.currentZoomLvl],this.props.currentZoomLvl)):this.props.useRawInput?s().createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:this.props.currentZoomLvl||""},this.getOptions()):s().createElement(c.Form,{inline:!0},s().createElement(c.FormGroup,{bsSize:"small"},s().createElement(c.ControlLabel,null,this.props.label),s().createElement(c.FormControl,{componentClass:"select",onChange:this.onComboChange,value:this.props.currentZoomLvl||""},this.getOptions()))),s().createElement("div",{id:this.props.id,style:this.props.style},e)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);b(v,"propTypes",{id:a().string,style:a().object,scales:a().array,currentZoomLvl:a().number,minZoom:a().number,onChange:a().func,readOnly:a().bool,label:a().oneOfType([a().func,a().string,a().object]),template:a().func,useRawInput:a().bool}),b(v,"defaultProps",{id:"mapstore-scalebox",scales:(0,p.getGoogleMercatorScales)(0,28),currentZoomLvl:0,minZoom:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1});const O=v},7472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(27418),o=n.n(r),i=n(45697),a=n.n(i),l=n(24852),s=n.n(l),c=n(85294),p=n.n(c),u=n(72986),f=n.n(u),y=n(5346);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function O(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(l,e);var t,n,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(i){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function l(){var e;h(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(S(e=a.call.apply(a,[this].concat(n))),"renderLoading",(function(){return e.props.maskLoading?s().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},s().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},s().createElement(y.Z,{msgId:"loading"}),s().createElement(f(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),P(S(e),"renderRole",(function(t){return s().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),P(S(e),"hasRole",(function(t){return s().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),P(S(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=l,(n=[{key:"render",value:function(){var e=this,t=s().createElement("div",{id:this.props.id,style:g({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},s().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),s().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?s().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):s().createElement("span",null)),n=this.props.draggable?s().createElement(p(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,r=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?s().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:r,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(s().Component);P(E,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),P(E,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const x=E},57167:e=>{e.exports=window.MQ},59224:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U}),n(97142);var r=n(91175),o=n.n(r),i=n(27418),a=n.n(i),l=n(45697),s=n.n(l),c=n(24852),p=n.n(c),u=n(30294),f=n(71703),y=n(22222),m=n(82904),d=n(86069),g=n(5346),h=n(7472),b=n(45959),v=n(75110),O=n(8316),S=n(38842),w=n(827),P=n(93152),E=n(86267),x=n(86638),j=n(52259),C=n(24262);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){return k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function z(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const U={PrintPlugin:a()({loadPlugin:function(e){Promise.resolve().then(function(){var t=n(10947).default,r=t.Name,i=t.Description,l=t.Resolution,c=t.DefaultBackgroundOption,b=t.Sheet,L=t.LegendOption,_=t.MultiPageOption,M=t.LandscapeOption,U=t.ForceLabelsOption,B=t.AntiAliasingOption,q=t.IconSizeOption,G=t.LegendDpiOption,W=t.Font,$=t.MapPreview,Y=t.PrintSubmit,H=t.PrintPreview,V=n(34049),X=V.preloadData,K=V.getMapfishPrintSpecification,J=V.getLayoutName,Q=V.getPrintScales,ee=V.getNearestZoom,te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(m,e);var t,n,s,f,y=(s=m,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(s);if(f){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return z(this,e)});function m(){var e;A(this,m);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Z(F(e=y.call.apply(y,[this].concat(n))),"getMapSize",(function(t){var n=t||e.getLayout();return{width:e.props.mapWidth,height:n&&n.map.height/n.map.width*e.props.mapWidth||270}})),Z(F(e),"getLayout",(function(t){var n=t||e.props,r=n.getLayoutName,i=n.printSpec,a=n.capabilities,l=r(i);return o()(a.layouts.filter((function(e){return e.name===l})))})),Z(F(e),"renderLayoutsAlternatives",(function(){return e.props.alternatives.map((function(t){return p().createElement(t.component,{key:"printoption_"+t.name,label:(0,x.S$)(e.context.messages,"print.alternatives."+t.name),enableRegex:t.regex})}))})),Z(F(e),"renderPreviewPanel",(function(){return p().createElement(H,k({},e.props.previewOptions,{role:"body",prevPage:e.prevPage,nextPage:e.nextPage}))})),Z(F(e),"renderError",(function(){return e.props.error?p().createElement(u.Row,null,p().createElement(u.Col,{xs:12},p().createElement("div",{className:"print-error"},p().createElement("span",null,e.props.error)))):null})),Z(F(e),"renderWarning",(function(e){return e?null:p().createElement(u.Row,null,p().createElement(u.Col,{xs:12},p().createElement("div",{className:"print-warning"},p().createElement("span",null,p().createElement(g.Z,{msgId:"print.layoutWarning"})))))})),Z(F(e),"renderPrintPanel",(function(){var t=e.getLayout(),n=e.props.getLayoutName(e.props.printSpec),o=e.getMapSize(t);return p().createElement(u.Grid,{fluid:!0,role:"body"},e.renderError(),e.renderWarning(t),p().createElement(u.Row,null,p().createElement(u.Col,{xs:12,md:6},p().createElement(r,{label:(0,x.S$)(e.context.messages,"print.title"),placeholder:(0,x.S$)(e.context.messages,"print.titleplaceholder")}),p().createElement(i,{label:(0,x.S$)(e.context.messages,"print.description"),placeholder:(0,x.S$)(e.context.messages,"print.descriptionplaceholder")}),p().createElement(u.Accordion,{defaultActiveKey:"1"},p().createElement(u.Panel,{className:"print-layout",header:(0,x.S$)(e.context.messages,"print.layout"),eventKey:"1",collapsible:!0},p().createElement(b,{key:"sheetsize",layouts:e.props.capabilities.layouts,label:(0,x.S$)(e.context.messages,"print.sheetsize")}),e.renderLayoutsAlternatives()),p().createElement(u.Panel,{className:"print-legend-options",header:(0,x.S$)(e.context.messages,"print.legendoptions"),eventKey:"2",collapsible:!0},p().createElement(W,{label:(0,x.S$)(e.context.messages,"print.legend.font")}),p().createElement(U,{label:(0,x.S$)(e.context.messages,"print.legend.forceLabels")}),p().createElement(B,{label:(0,x.S$)(e.context.messages,"print.legend.antiAliasing")}),p().createElement(q,{label:(0,x.S$)(e.context.messages,"print.legend.iconsSize")}),p().createElement(G,{label:(0,x.S$)(e.context.messages,"print.legend.dpi")})))),p().createElement(u.Col,{xs:12,md:6,style:{textAlign:"center"}},p().createElement(l,{label:(0,x.S$)(e.context.messages,"print.resolution")}),p().createElement($,k({width:o.width,height:o.height,mapType:e.props.mapType,onMapRefresh:function(){return e.configurePrintMap()},layout:n,layoutSize:t&&t.map||{width:10,height:10},resolutions:(0,j.getResolutions)(),useFixedScales:e.props.useFixedScales,env:e.props.localizedLayerStylesEnv},e.props.mapPreviewOptions)),e.isBackgroundIgnored()?p().createElement(c,{label:(0,x.S$)(e.context.messages,"print.defaultBackground")}):null,p().createElement(Y,k({},e.props.submitConfig,{disabled:!t,onPrint:e.print})),e.renderDownload())))})),Z(F(e),"renderDownload",(function(){return e.props.pdfUrl&&!e.props.usePreview?p().createElement("iframe",{src:e.props.pdfUrl,style:{visibility:"hidden",display:"none"}}):null})),Z(F(e),"renderBody",(function(){return e.props.pdfUrl&&e.props.usePreview?e.renderPreviewPanel():e.renderPrintPanel()})),Z(F(e),"isAllowed",(function(t){return-1===e.props.ignoreLayers.indexOf(t.type)})),Z(F(e),"isBackgroundIgnored",(function(t){return(t||e.props.layers).filter((function(t){return t.visibility&&!e.isAllowed(t)})).length>0})),Z(F(e),"filterLayers",(function(t,n){var r=t||e.props,o=r.printSpec,i=r.layers,l=r.defaultBackground,s=i.filter((function(t){return t.visibility&&(0,C.T4)(t,n)&&e.isAllowed(t)}));if(e.isBackgroundIgnored(i)&&l&&o.defaultBackground){var c=i.filter((function(e){return e.type===l}))[0];return[a()({},c,{visibility:!0})].concat(R(s))}return s})),Z(F(e),"configurePrintMap",(function(t){var n=t||e.props,r=n.map,o=n.capabilities,i=n.minZoom,a=n.configurePrintMap,l=n.useFixedScales,s=n.getZoomForExtent,c=n.maxZoom,p=n.currentLocale,u=n.scales;if(r&&r.bbox&&o){var f=(0,j.dpi2dpu)(j.DEFAULT_SCREEN_DPI,r.projection),y=(0,E.reprojectBbox)([r.bbox.bounds.minx,r.bbox.bounds.miny,r.bbox.bounds.maxx,r.bbox.bounds.maxy],r.bbox.crs,r.projection),m=e.getMapSize();if(l){var d=s(y,m,i,c),g=Q(o),h=ee(r.zoom,g),b=g[h],v=b/f;a(r.center,d,h,b,e.filterLayers(t,v),r.projection,p)}else{var O=u[r.zoom],S=O/f;a(r.center,r.zoom,r.zoom,O,e.filterLayers(t,S),r.projection,p)}}})),Z(F(e),"print",(function(){var t=e.props.printSpec;e.props.isLocalizedLayerStylesEnabled&&(t=T(T({},t),{},{env:e.props.localizedLayerStylesEnv,language:e.props.currentLocaleLanguage})),e.props.setPage(0),e.props.onBeforePrint(),e.props.preloadData(t).then((function(t){var n=e.props.getPrintSpecification(t);e.props.onPrint(e.props.capabilities.createURL,T(T({},n),e.props.overrideOptions))})).catch((function(t){e.props.printError("Error pre-loading data:"+t.message)}))})),e}return t=m,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.configurePrintMap()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.open&&!this.props.open,n=this.props.open&&this.props.syncMapPreview&&(0,j.mapUpdated)(this.props.map,e.map),r=e.printSpec.defaultBackground!==this.props.printSpec.defaultBackground;(t||n||r)&&this.configurePrintMap(e)}},{key:"render",value:function(){return(this.props.capabilities||this.props.error)&&this.props.open?this.props.withContainer?this.props.withPanelAsContainer?p().createElement(u.Panel,{className:"mapstore-print-panel",header:p().createElement("span",null,p().createElement("span",{className:"print-panel-title"},p().createElement(g.Z,{msgId:"print.paneltitle"})),p().createElement("span",{className:"print-panel-close panel-close",onClick:this.props.toggleControl})),style:this.props.style},this.renderBody()):p().createElement(h.Z,{id:"mapstore-print-panel",style:T({left:"17%",top:"50px",zIndex:1990},this.props.style)},p().createElement("span",{role:"header"},p().createElement("span",{className:"print-panel-title"},p().createElement(g.Z,{msgId:"print.paneltitle"})),p().createElement("button",{onClick:this.props.toggleControl,className:"print-panel-close close"},this.props.closeGlyph?p().createElement(u.Glyphicon,{glyph:this.props.closeGlyph}):p().createElement("span",null,"×"))),this.renderBody()):this.renderBody():null}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(p().Component);Z(te,"propTypes",{map:s().object,layers:s().array,capabilities:s().object,printSpec:s().object,printSpecTemplate:s().object,withContainer:s().bool,withPanelAsContainer:s().bool,open:s().bool,pdfUrl:s().string,title:s().string,style:s().object,mapWidth:s().number,mapType:s().string,alternatives:s().array,toggleControl:s().func,onBeforePrint:s().func,setPage:s().func,onPrint:s().func,printError:s().func,configurePrintMap:s().func,preloadData:s().func,getPrintSpecification:s().func,getLayoutName:s().func,error:s().string,getZoomForExtent:s().func,minZoom:s().number,maxZoom:s().number,usePreview:s().bool,mapPreviewOptions:s().object,syncMapPreview:s().bool,useFixedScales:s().bool,scales:s().array,ignoreLayers:s().array,defaultBackground:s().string,closeGlyph:s().string,submitConfig:s().object,previewOptions:s().object,currentLocale:s().string,currentLocaleLanguage:s().string,overrideOptions:s().object,isLocalizedLayerStylesEnabled:s().bool,localizedLayerStylesEnv:s().object}),Z(te,"contextTypes",{messages:s().object}),Z(te,"defaultProps",{withContainer:!0,withPanelAsContainer:!1,title:"print.paneltitle",toggleControl:function(){},onBeforePrint:function(){},setPage:function(){},onPrint:function(){},configurePrintMap:function(){},printSpecTemplate:{},preloadData:X,getPrintSpecification:K,getLayoutName:J,getZoomForExtent:j.defaultGetZoomForExtent,pdfUrl:null,mapWidth:370,mapType:"leaflet",minZoom:1,maxZoom:23,alternatives:[{name:"legend",component:L,regex:/legend/},{name:"2pages",component:_,regex:/2_pages/},{name:"landscape",component:M,regex:/landscape/}],usePreview:!0,mapPreviewOptions:{enableScalebox:!1,enableRefresh:!1},syncMapPreview:!0,useFixedScales:!1,scales:[],ignoreLayers:["google","bing"],defaultBackground:"osm",closeGlyph:"1-close",submitConfig:{buttonConfig:{bsSize:"small",bsStyle:"primary"},glyph:""},previewOptions:{buttonStyle:"primary"},style:{},currentLocale:"en-US",overrideOptions:{}});var ne=(0,y.P1)([function(e){return e.controls.print&&e.controls.print.enabled||e.controls.toolbar&&"print"===e.controls.toolbar.active},function(e){return e.print&&e.print.capabilities},function(e){return e.print&&e.print.spec&&a()({},e.print.spec,e.print.map||{})},function(e){return e.print&&e.print.pdfUrl},function(e){return e.print&&e.print.error},w.Od,v.l2,w.up,function(e){return e.browser&&(!e.browser.ie||e.browser.ie11)},O.Pz,O.KV,P.$v,S.wk,S.fY],(function(e,t,n,r,o,i,a,l,s,c,p,u,f,y){return{open:e,capabilities:t,printSpec:n,pdfUrl:r,error:o,map:i,layers:a.filter((function(e){return!e.loadingError})),scales:l,usePreview:s,currentLocale:c,currentLocaleLanguage:p,mapType:u,isLocalizedLayerStylesEnabled:f,localizedLayerStylesEnv:y}})),re=(0,f.connect)(ne,{toggleControl:m.Xi.bind(null,"print",null),onPrint:d.gV,printError:d.OS,onBeforePrint:d.MW,setPage:m.Xg.bind(null,"print","currentPage"),configurePrintMap:d.h9})(te);e(re)}.bind(null,n)).catch(n.oe)},enabler:function(e){return e.print&&e.print.enabled||e.toolbar&&"print"===e.toolbar.active}},{disablePluginIf:"{state('mapType') === 'cesium' || !state('printEnabled')}",Toolbar:{name:"print",position:7,help:p().createElement(g.Z,{msgId:"helptexts.print"}),tooltip:"printbutton",icon:p().createElement(u.Glyphicon,{glyph:"print"}),exclusive:!0,panel:!0,priority:1},BurgerMenu:{name:"print",position:2,text:p().createElement(g.Z,{msgId:"printbutton"}),icon:p().createElement(u.Glyphicon,{glyph:"print"}),action:m.Xi.bind(null,"print",null),priority:2,doNotHide:!0}}),reducers:{print:b.Z}}},10947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AntiAliasingOption:()=>bt,DefaultBackgroundOption:()=>St,Description:()=>ut,Font:()=>wt,ForceLabelsOption:()=>ht,IconSizeOption:()=>vt,LandscapeOption:()=>gt,LegendDpiOption:()=>Ot,LegendOption:()=>mt,MapPreview:()=>Pt,MultiPageOption:()=>dt,Name:()=>pt,PrintPreview:()=>xt,PrintSubmit:()=>Et,Resolution:()=>ft,Sheet:()=>yt,TextWithLabel:()=>ct,default:()=>jt});var r=n(24852),o=n.n(r),i=n(30294),a=n(71703),l=n(12838),s=n(82904),c=n(86069),p=n(45697),u=n.n(p);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(s,e);var t,n,r,a,l=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(a){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function s(){var e;y(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=l.call.apply(l,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),e}return t=s,(n=[{key:"render",value:function(){var e=this.props.items.map((function(e){return o().createElement("option",{key:e.value,value:e.value},e.name)}));return o().createElement(i.FormGroup,null,this.props.label?o().createElement(i.ControlLabel,null,this.props.label):null,o().createElement(i.FormControl,{ref:"input",value:this.props.selected,componentClass:"select",onChange:this.onChange},e))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o().Component);v(O,"propTypes",{items:u().array,label:u().string,onChange:u().func,selected:u().string}),v(O,"defaultProps",{items:[],label:"Choice",onChange:function(){},selected:""});const S=O;var w=n(38560),P=n(73333);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function L(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(s,e);var t,n,r,a,l=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(a){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function s(){var e;x(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(_(e=l.call.apply(l,[this].concat(n))),"onChangeFamily",(function(t){e.props.onChangeFamily(t)})),R(_(e),"onChangeSize",(function(t){e.props.onChangeSize(parseInt(t,10))})),R(_(e),"toggleBold",(function(){e.props.onChangeBold(!e.props.bold)})),R(_(e),"toggleItalic",(function(){e.props.onChangeItalic(!e.props.italic)})),e}return t=s,(n=[{key:"render",value:function(){return o().createElement(i.Grid,{fluid:!0},o().createElement(i.Row,null,o().createElement(i.Col,{xs:12},o().createElement("label",{className:"control-label"},this.props.label))),o().createElement(i.Row,null,o().createElement(i.Col,{xs:5},o().createElement(S,{ref:"family",onChange:this.onChangeFamily,label:"",items:this.props.fonts.map((function(e){return{name:e,value:e}})),selected:this.props.family})),o().createElement(i.Col,{xs:3},o().createElement(P.Z,{ref:"size",type:"number",value:this.props.size,min:0,precision:0,onChange:this.onChangeSize})),o().createElement(i.Col,{xs:2},o().createElement(w.Z,{bsStyle:"primary",bsSize:"small",active:this.props.bold,onClick:this.toggleBold},o().createElement(i.Glyphicon,{glyph:"bold"}))),o().createElement(i.Col,{xs:2},o().createElement(w.Z,{bsStyle:"primary",bsSize:"small",active:this.props.italic,onClick:this.toggleItalic},o().createElement(i.Glyphicon,{glyph:"italic"})))))}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o().Component);R(M,"propTypes",{fonts:u().array,label:u().string,onChangeFamily:u().func,onChangeSize:u().func,onChangeBold:u().func,onChangeItalic:u().func,family:u().string,size:u().number,bold:u().bool,italic:u().bool}),R(M,"defaultProps",{fonts:["Verdana","Serif","SansSerif","Arial","Courier New","Tahoma","Times New Roman"],label:"Font",onChangeFamily:function(){},onChangeSize:function(){},family:"",size:8,bold:!1,italic:!1});const k=M;var A,N,I,z=n(27418),F=n.n(z),D=n(34049),Z=n(75964),U=n(14293),B=n.n(U);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function X(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(c,e);var t,r,a,l,s=(a=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(a);if(l){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return X(this,e)});function c(){var e;Y(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(K(e=s.call.apply(s,[this].concat(n))),"getRatio",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.layoutSize.width/e.props.width*e.props.printRatio:1})),Q(K(e),"getResolutions",(function(){return e.props.width&&e.props.layoutSize&&e.props.resolutions?e.props.resolutions.map((function(t){return t*e.getRatio()})):e.props.resolutions})),Q(K(e),"adjustResolution",(function(t){var n=e.getRatio(),r=Math.round(96/n);return F()({},t,$($($({},!B()(null==t?void 0:t.minResolution)&&{minResolution:t.minResolution*n}),!B()(null==t?void 0:t.maxResolution)&&{maxResolution:t.maxResolution*n}),{},{params:F()({},t.params,{format_options:"dpi:"+r,"MAP.RESOLUTION":r})}))})),Q(K(e),"renderLayerContent",(function(e,t){return e.features&&"vector"===e.type?e.features.map((function(n){return o().createElement(I,{crs:t,key:n.id,type:n.type,geometry:n.geometry,features:n.features,msId:n.id,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:n.style||e.style||null,properties:n.properties})})):null})),e}return t=c,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=n(8026)("./"+this.props.mapType+"/index").default;A=e.LMap,N=e.LLayer,I=e.Feature,n(14807)("./"+this.props.mapType+"/plugins/index").default}},{key:"render",value:function(){var e=this,t=F()({},this.props.style,{width:this.props.width+"px",height:this.props.height+"px"}),n=this.getResolutions(),r=n?{view:{resolutions:n}}:{},a=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map&&this.props.map.center?o().createElement("div",{className:"print-map-preview"},o().createElement(A,G({ref:"mappa"},this.props.map,{resize:this.props.height,style:t,interactive:!1,onMapViewChanges:this.props.onMapViewChanges,zoomControl:!1,zoom:this.props.useFixedScales&&this.props.scales?(0,D.getMapZoom)(this.props.map.scaleZoom,this.props.scales):this.props.map.zoom,center:this.props.map.center,id:"print_preview",registerHooks:!1,mapOptions:r}),this.props.layers.map((function(t,n){return o().createElement(N,{key:t.id||t.name,position:n,type:t.type,options:F()({},e.adjustResolution(t),{srs:a}),env:e.props.env},e.renderLayerContent(t,a))}))),this.props.enableScalebox?o().createElement(Z.Z,{id:"mappreview-scalebox",currentZoomLvl:this.props.map.scaleZoom,scales:this.props.scales,onChange:this.props.onChangeZoomLevel}):null,this.props.enableRefresh?o().createElement(w.Z,{bsStyle:"primary",onClick:this.props.onMapRefresh,className:"print-mappreview-refresh"},o().createElement(i.Glyphicon,{glyph:"refresh"})):null):null}}])&&H(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(o().Component);Q(ee,"propTypes",{map:u().object,layers:u().array,style:u().object,scales:u().array,onChangeZoomLevel:u().func,onMapViewChanges:u().func,onMapRefresh:u().func,height:u().number,width:u().number,mapType:u().string,enableRefresh:u().bool,enableScalebox:u().bool,resolutions:u().array,printRatio:u().number,layout:u().string,layoutSize:u().object,useFixedScales:u().bool,env:u().object}),Q(ee,"defaultProps",{map:null,layers:[],mapType:"leaflet",style:{display:"block",border:"1px solid black",position:"relative"},onChangeZoomLevel:function(){},onMapViewChanges:function(){},onMapRefresh:function(){},width:370,height:270,enableRefresh:!0,enableScalebox:!0,printRatio:96/72,useFixedScales:!1});const te=ee;function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ie(e,t)}function ae(e,t){if(t&&("object"===ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(s,e);var t,n,r,a,l=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(r);if(a){var n=se(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ae(this,e)});function s(){var e;re(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ce(le(e=l.call.apply(l,[this].concat(n))),"onChange",(function(){e.props.onChange(!e.refs.input.props.checked)})),ce(le(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=s,(n=[{key:"render",value:function(){return o().createElement(i.Checkbox,{disabled:!this.isEnabled(),ref:"input",checked:this.props.checked,onChange:this.onChange},this.props.label)}}])&&oe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o().Component);ce(pe,"propTypes",{layouts:u().array,enableRegex:u().oneOfType([u().object,u().string]),label:u().string,onChange:u().func,checked:u().bool,isEnabled:u().func}),ce(pe,"defaultProps",{layouts:[],enableRegex:/^.*$/,label:"Option",onChange:function(){},checked:!1});const ue=pe;var fe=n(86638);function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ge(e,t)}function he(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return be(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}(s,e);var t,n,r,a,l=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(r);if(a){var n=ve(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return he(this,e)});function s(){var e;me(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oe(be(e=l.call.apply(l,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),Oe(be(e),"renderOptions",(function(){return e.props.options.map((function(t){return o().createElement(i.Radio,{key:t.label,disabled:!e.isEnabled(),ref:"input"+t.value,checked:e.props.selected===t.value,onChange:e.onChange,value:t.value},(0,fe.S$)(e.context.messages,t.label))}))})),Oe(be(e),"isEnabled",(function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some((function(t){return t.name.match(e.props.enableRegex)}))})),e}return t=s,(n=[{key:"render",value:function(){return o().createElement("span",{className:"form-inline"},this.renderOptions())}}])&&de(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o().Component);Oe(Se,"propTypes",{layouts:u().array,enableRegex:u().oneOfType([u().object,u().string]),options:u().array,onChange:u().func,selected:u().string,isEnabled:u().func}),Oe(Se,"contextTypes",{messages:u().object}),Oe(Se,"defaultProps",{layouts:[],enableRegex:/^.*$/,options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:function(){},selected:"Option1"});const we=Se;var Pe=n(66756);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ce(e,t)}function Le(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(s,e);var t,n,r,a,l=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Te(r);if(a){var n=Te(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Le(this,e)});function s(){var e;xe(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Re(_e(e=l.call.apply(l,[this].concat(n))),"onDocumentComplete",(function(t){e.props.setPages(t&&t.numPages||0)})),Re(_e(e),"firstPage",(function(){e.props.currentPage>0&&e.props.setPage(0)})),Re(_e(e),"lastPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.pages-1)})),Re(_e(e),"prevPage",(function(){e.props.currentPage>0&&e.props.setPage(e.props.currentPage-1)})),Re(_e(e),"nextPage",(function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.currentPage+1)})),Re(_e(e),"zoomIn",(function(){e.props.setScale(e.props.scale*e.props.zoomFactor)})),Re(_e(e),"zoomOut",(function(){e.props.setScale(e.props.scale/e.props.zoomFactor)})),e}return t=s,(n=[{key:"render",value:function(){return o().createElement("div",null,o().createElement("div",{style:this.props.style},o().createElement(Pe.BB,{file:this.props.url,onLoadSuccess:this.onDocumentComplete},o().createElement(Pe.T3,{pageNumber:this.props.currentPage+1,scale:this.props.scale}))),o().createElement("div",{style:{marginTop:"10px"}},o().createElement(w.Z,{bsStyle:this.props.buttonStyle,style:{marginRight:"10px"},onClick:this.props.back},o().createElement(i.Glyphicon,{glyph:"arrow-left"})),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.scale>=this.props.maxScale,onClick:this.zoomIn},o().createElement(i.Glyphicon,{glyph:"zoom-in"})),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.scale<=this.props.minScale,onClick:this.zoomOut},o().createElement(i.Glyphicon,{glyph:"zoom-out"})),o().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.scale,"x"),o().createElement("div",{className:"print-download btn btn-"+this.props.buttonStyle},o().createElement("a",{href:this.props.url,target:"_blank"},o().createElement(i.Glyphicon,{glyph:"save"}))),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.firstPage},o().createElement(i.Glyphicon,{glyph:"step-backward"})),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.prevPage},o().createElement(i.Glyphicon,{glyph:"chevron-left"})),o().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.currentPage+1," / ",this.props.pages),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.nextPage},o().createElement(i.Glyphicon,{glyph:"chevron-right"})),o().createElement(w.Z,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.lastPage},o().createElement(i.Glyphicon,{glyph:"step-forward"}))))}}])&&je(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o().Component);Re(Me,"propTypes",{url:u().string,scale:u().number,currentPage:u().number,pages:u().number,zoomFactor:u().number,minScale:u().number,maxScale:u().number,back:u().func,setScale:u().func,setPage:u().func,setPages:u().func,style:u().object,buttonStyle:u().string}),Re(Me,"defaultProps",{url:null,scale:1,minScale:.25,maxScale:8,currentPage:0,pages:1,zoomFactor:2,back:function(){},setScale:function(){},setPage:function(){},setPages:function(){},style:{height:"500px",width:"800px",overflow:"auto",backgroundColor:"#888",padding:"10px"},buttonStyle:"default"});const ke=Me;var Ae=n(72986),Ne=n.n(Ae),Ie=n(5346);function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ue(e,t)}function Be(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(s,e);var t,n,r,a,l=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(r);if(a){var n=qe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Be(this,e)});function s(){return De(this,s),l.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props.glyph?o().createElement(i.Glyphicon,{glyph:this.props.glyph}):o().createElement("span",null);return o().createElement(w.Z,Fe({className:"print-submit",disabled:this.props.disabled},this.props.buttonConfig,{style:{marginTop:"10px",marginRight:"5px"},onClick:this.props.onPrint}),this.props.loading?o().createElement(Ne(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):e," ",o().createElement(Ie.Z,{msgId:"print.submit"}))}}])&&Ze(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o().Component);Ge(We,"propTypes",{loading:u().bool,onPrint:u().func,disabled:u().bool,buttonConfig:u().object,glyph:u().string}),Ge(We,"defaultProps",{loading:!1,onPrint:function(){},disabled:!1,buttonConfig:{bsSize:"large"},glyph:"print"});const $e=We;var Ye=n(23560),He=n.n(Ye);function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}var Xe=["children","sheetRegex","layouts"];function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nt(e)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(l,e);var t,n,r,i,a=(r=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rt(r);if(i){var n=rt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tt(this,e)});function l(){var e;Je(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ot(nt(e=a.call.apply(a,[this].concat(n))),"getLayoutName",(function(t){return e.props.layoutNames?He()(e.props.layoutNames)?e.props.layoutNames(t):e.props.layoutNames[t]||t:t})),ot(nt(e),"getSheetFormats",(function(){return e.props.layouts.reduce((function(t,n){var r=n.name.match(e.props.sheetRegex);return r&&r.length>0&&-1===t.indexOf(r[r.length-1])&&t.concat([r[r.length-1]])||t}),[]).map((function(t){return{name:e.getLayoutName(t),value:t}}))})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=(e.children,e.sheetRegex,e.layouts,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Xe));return o().createElement(S,Ke({},t,{items:this.getSheetFormats()}))}}])&&Qe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);ot(it,"propTypes",{layouts:u().array,sheetRegex:u().oneOfType([u().object,u().string]),label:u().string,onChange:u().func,selected:u().string,layoutNames:u().oneOfType([u().object,u().func])}),ot(it,"defaultProps",{layouts:[],sheetRegex:/^[^_]+/,label:"Sheet Size",onChange:function(){},selected:""});const at=it;var lt=function(e){return e.print&&e.print.capabilities&&e.print.capabilities.layouts.filter((function(t){return 0===t.name.indexOf(e.print.spec.sheet)}))||[]},st=n(37275),ct=function(e){return o().createElement(i.FormGroup,null,e.label&&o().createElement(i.ControlLabel,null,e.label)||null,o().createElement(i.FormControl,e))},pt=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.name||"",type:"text"}}),{onChange:(0,l.qC)(c.d$.bind(null,"name"),(function(e){return e.target.value}))})(ct),ut=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.description||"",componentClass:"textarea"}}),{onChange:(0,l.qC)(c.d$.bind(null,"description"),(function(e){return e.target.value}))})(ct),ft=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.resolution||"",items:e.print&&e.print.capabilities&&e.print.capabilities.dpis.map((function(e){return{name:e.name+" dpi",value:e.value}}))||[]}}),{onChange:c.d$.bind(null,"resolution")})(S),yt=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.sheet}}),{onChange:c.d$.bind(null,"sheet")})(at),mt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.includeLegend,layouts:lt(e)}}),{onChange:c.d$.bind(null,"includeLegend")})(ue),dt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec.includeLegend&&e.print.spec&&!!e.print.spec.twoPages,layouts:lt(e),isEnabled:function(){return function(e){return e.print&&e.print.spec&&e.print.spec.includeLegend}(e)}}}),{onChange:c.d$.bind(null,"twoPages")})(ue),gt=(0,a.connect)((function(e){return{selected:e.print&&e.print.spec&&e.print.spec.landscape?"landscape":"portrait",layouts:lt(e),options:[{label:"print.alternatives.landscape",value:"landscape"},{label:"print.alternatives.portrait",value:"portrait"}]}}),{onChange:(0,l.qC)(c.d$.bind(null,"landscape"),(function(e){return"landscape"===e}))})(we),ht=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.forceLabels}}),{onChange:c.d$.bind(null,"forceLabels")})(ue),bt=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.antiAliasing}}),{onChange:c.d$.bind(null,"antiAliasing")})(ue),vt=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.iconSize,type:"number"}}),{onChange:(0,l.qC)(c.d$.bind(null,"iconSize"),(function(e){return parseInt(e.target.value,10)}))})(ct),Ot=(0,a.connect)((function(e){return{value:e.print&&e.print.spec&&e.print.spec.legendDpi,type:"number"}}),{onChange:(0,l.qC)(c.d$.bind(null,"legendDpi"),(function(e){return parseInt(e.target.value,10)}))})(ct),St=(0,a.connect)((function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.defaultBackground}}),{onChange:c.d$.bind(null,"defaultBackground")})(ue),wt=(0,a.connect)((function(e){return{family:e.print&&e.print.spec&&e.print.spec.fontFamily,size:e.print&&e.print.spec&&e.print.spec.fontSize,bold:e.print&&e.print.spec&&e.print.spec.bold,italic:e.print&&e.print.spec&&e.print.spec.italic}}),{onChangeFamily:c.d$.bind(null,"fontFamily"),onChangeSize:c.d$.bind(null,"fontSize"),onChangeBold:c.d$.bind(null,"bold"),onChangeItalic:c.d$.bind(null,"italic")})(k),Pt=(0,a.connect)((function(e){return{map:e.print&&e.print.map,layers:e.print&&e.print.map&&e.print.map.layers||[],scales:e.print&&e.print.capabilities&&e.print.capabilities.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[]}}),{onChangeZoomLevel:c.pQ,onMapViewChanges:c.z})(te),Et=(0,a.connect)((function(e){return{loading:e.print&&e.print.isLoading||!1}}))($e),xt=(0,a.connect)((function(e){return{url:e.print&&st.ZP.getProxiedUrl(e.print.pdfUrl),scale:e.controls&&e.controls.print&&e.controls.print.viewScale||.5,currentPage:e.controls&&e.controls.print&&e.controls.print.currentPage||0,pages:e.controls&&e.controls.print&&e.controls.print.pages||1}}),{back:c._4,setPage:s.Xg.bind(null,"print","currentPage"),setPages:s.Xg.bind(null,"print","pages"),setScale:s.Xg.bind(null,"print","viewScale")})(ke);const jt={Name:pt,Description:ut,Resolution:ft,DefaultBackgroundOption:St,Sheet:yt,LegendOption:mt,MultiPageOption:dt,LandscapeOption:gt,ForceLabelsOption:ht,AntiAliasingOption:bt,IconSizeOption:vt,LegendDpiOption:Ot,Font:wt,MapPreview:Pt,PrintSubmit:Et,PrintPreview:xt}},45959:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(86069),o=n(82904),i=n(13218),a=n.n(i),l=n(27361),s=n.n(l),c=n(27418),p=n.n(c);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={antiAliasing:!0,iconSize:24,legendDpi:96,fontFamily:"Verdana",fontSize:8,bold:!1,italic:!1,resolution:96,name:"",description:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split("_")[0]};const m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{spec:f,capabilities:null,map:null,isLoading:!1,pdfUrl:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.kM:return"print"===t.control?p()({},e,{pdfUrl:null,isLoading:!1,error:null}):e;case r.qp:var n=s()(t,"capabilities.layouts",[{name:"A4"}]),i=n.filter((function(t){return y(t.name)===e.spec.sheet})).length?e.spec.sheet:y(n[0].name);return p()({},e,{capabilities:t.capabilities,spec:p()({},e.spec||{},{sheet:i,resolution:t.capabilities&&t.capabilities.dpis&&t.capabilities.dpis.length&&t.capabilities.dpis[0].value})});case r.U6:return p()({},e,{spec:p()({},e.spec,u({},t.name,t.value))});case r.PB:var l=t.layers.map((function(e){return e.title?p()({},e,{title:a()(e.title)&&t.currentLocale&&e.title[t.currentLocale]||a()(e.title)&&e.title.default||e.title}):e}));return p()({},e,{map:{center:t.center,zoom:t.zoom,scaleZoom:t.scaleZoom,scale:t.scale,layers:l,projection:t.projection},error:null});case r.HA:var c=t.zoom-e.map.scaleZoom;return p()({},e,{map:p()({},e.map,{scaleZoom:t.zoom,zoom:e.map.zoom+c,scale:t.scale})});case r.Yk:return p()({},e,{map:p()({},e.map,{size:t.size})});case r.Fp:return p()({},e,{isLoading:!0,pdfUrl:null,error:null});case r.EZ:return p()({},e,{isLoading:!1,pdfUrl:t.url,error:null});case r.WB:case r.aN:return p()({},e,{isLoading:!1,pdfUrl:null,error:t.error});case r.qH:return p()({},e,{isLoading:!1,pdfUrl:null,error:null});default:return e}}},38842:(e,t,n)=>{"use strict";n.d(t,{wk:()=>u,Yf:()=>f,c3:()=>y,fY:()=>m});var r=n(18721),o=n.n(r),i=n(27361),a=n.n(i),l=n(13311),s=n.n(l),c=n(22222),p=n(8316),u=function(e){return o()(e,"localConfig.localizedLayerStyles")},f=function(e){var t=a()(e,"localConfig.plugins.dashboard",[]),n=s()(t,(function(e){return"DashboardEditor"===e.name}))||{};return a()(n,"cfg.catalog.localizedLayerStyles",!1)},y=function(e){return a()(e,"localConfig.localizedLayerStyles.name","mapstore_language")},m=(0,c.P1)(u,y,p.KV,(function(e,t,n){var r=[];return e&&r.push({name:t,value:n}),r}))},8797:(e,t,n)=>{"use strict";n.d(t,{rp:()=>s,Ov:()=>p,wd:()=>u,L0:()=>f}),n(1469);var r=n(91175),o=n.n(r),i=n(7654),a=n.n(i);function l(e){var t=Math.floor(e),n=60*(e-t),r=Math.floor(n),o=60*(n-r);return t+"° "+r+"' "+Math.floor(o)+"'' "}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.measureTrueBearing,r=void 0!==n&&n,o=t.fractionDigits,i=void 0===o?0:o,a="";if(r){var s="";e>=0&&e<10?s="00":e>10&&e<100&&(s="0");var c=i>0?e.toFixed(i):Math.floor(e);a=s+c+"°"}else e>=0&&e<90?a="N "+l(e)+"E":e>90&&e<=180?a="S "+l(180-e)+"E":e>180&&e<270?a="S "+l(e-180)+"W":e>=270&&e<=360&&(a="N "+l(360-e)+"W");return a}var c={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return c[t]&&c[t][n]?e*c[t][n]:e}var u=function(e){return!a()(parseFloat(e[0]))&&!a()(parseFloat(e[1]))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type,r=t;if("LineString"===n){if((r=t.filter(u)).length<2)return[]}else if("Polygon"===n){if((r=o()(t).filter(u)).length<3)return[[]];r=[r.concat([o()(r)])]}return r}},34049:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getGeomType:()=>F,isAnnotationLayer:()=>D,getOpacity:()=>Z,preloadData:()=>U,toAbsoluteURL:()=>B,normalizeUrl:()=>q,getLayoutName:()=>G,getPrintScales:()=>W,getNearestZoom:()=>$,getMapZoom:()=>Y,getMapSize:()=>H,getMapfishPrintSpecification:()=>V,getMapfishLayersSpecification:()=>X,specCreators:()=>K,getWMTSMatrixIds:()=>J,rgbaTorgb:()=>Q,toOpenLayers2Style:()=>ee,getOlDefaultStyle:()=>te});var r=n(86267),o=n(33044),i=n(52259),a=n(43378),l=n(58767),s=n(43143),c=n(45992),p=n(18056),u=n(7294),f=n(93201),y=n(18672),m=n(1469),d=n.n(m),g=n(63105),h=n.n(g),b=n(13311),v=n.n(b),O=n(41609),S=n.n(O),w=n(14841),P=n.n(w),E=n(84596),x=n.n(E),j=n(32420),C=n(53231),L=n(72500),_=n.n(L),T=n(27418),R=n.n(T);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I,z=(0,i.getGoogleMercatorScales)(0,21),F=function(e){return e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:e.features&&e.features[0].features&&e.features[0].style&&e.features[0].style.type?e.features[0].style.type:void 0},D=function(e){return"annotations"===e.id||"Measurements"===e.name},Z=function(e){return e.opacity||(0===e.opacity?0:1)},U=function(e){var t=h()(e.layers,{type:"wfs"});return t.length>0?Promise.all(t.map((function(t){return(0,j.Bm)(t.url,t.name,A({outputFormat:"application/json",srsName:e.projection},(0,a.v)(t)||{})).then((function(e){var n=e.data;return{id:t.id,geoJson:n}}))}))).then((function(t){return A(A({},e),{},{layers:(e.layers||[]).map((function(e){var n=v()(t,{id:e.id});return"wfs"===e.type&&n?A(A({},e),n):e}))})})):new Promise((function(t){t(e)}))},B=function(e,t){return-1!==e.search(/^\/\//)?window.location.protocol+e:-1!==e.search(/:\/\//)?e:-1!==e.search(/^\//)?(t||window.location.origin)+e:e},q=function(e){var t=d()(e)?e[0]:e;return-1!==t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),I.toAbsoluteURL(t)},G=function(e){var t=[e.sheet];return e.includeLegend?e.twoPages&&t.push("2_pages_legend"):t.push("no_legend"),e.landscape&&t.push("landscape"),t.join("_")},W=function(e){return e.scales.slice(0).reverse().map((function(e){return parseFloat(e.value)}))||[]},$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z,r=n[Math.round(e)];return t.reduce((function(e,t,n){return t<r?e:n}),0)},Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z,r=t[Math.round(e)];return n.reduce((function(e,t,n){return t<r?e:n}),0)+1},H=function(e,t){if(e){var n=e.rotation?e.map.height:e.map.width;return{width:t,height:(e.rotation?e.map.width:e.map.height)/n*t}}return{width:100,height:100}},V=function(e){var t=(0,r.reproject)(e.center,"EPSG:4326",e.projection);return{units:(0,r.getUnits)(e.projection),srs:(0,r.normalizeSRS)(e.projection||"EPSG:3857"),layout:I.getLayoutName(e),dpi:parseInt(e.resolution,10),outputFilename:"mapstore-print",geodetic:!1,mapTitle:e.name||"",comment:e.description||"",layers:I.getMapfishLayersSpecification(e.layers,e,"map"),pages:[{center:[t.x,t.y],scale:e.scale||z[Math.round(e.scaleZoom)],rotation:0}],legends:I.getMapfishLayersSpecification(e.layers,e,"legend")}},X=function(e,t,n){return e.filter((function(e){return I.specCreators[e.type]&&I.specCreators[e.type][n]})).map((function(e){return I.specCreators[e.type][n](e,t)}))},K={wms:{map:function(e,t){return{baseURL:I.normalizeUrl(e.url)+"?",opacity:Z(e),singleTile:!1,type:"WMS",layers:[e.name],format:e.format||"image/png",styles:[e.style||""],customParams:(0,o.addAuthenticationParameter)(I.normalizeUrl(e.url),R()({TRANSPARENT:!0,TILED:!0,EXCEPTIONS:"application/vnd.ogc.se_inimage",scaleMethod:"accurate",ENV:(0,C.h)(t.env)},e.baseParams||{},e.params||{},A({},(0,a.v)({layerFilter:e.layerFilter,filterObj:e.filterObj}))))}},legend:function(e,t){return{name:e.title||e.name,classes:[{name:"",icons:[I.normalizeUrl(e.url)+_().format({query:(0,o.addAuthenticationParameter)(I.normalizeUrl(e.url),A({TRANSPARENT:!0,EXCEPTIONS:"application/vnd.ogc.se_xml",VERSION:"1.1.1",SERVICE:"WMS",REQUEST:"GetLegendGraphic",LAYER:e.name,LANGUAGE:t.language||"",STYLE:e.style||"",SCALE:t.scale,height:t.iconSize,width:t.iconSize,minSymbolSize:t.iconSize,LEGEND_OPTIONS:"forceLabels:"+(t.forceLabels?"on":"")+";fontAntialiasing:"+t.antiAliasing+";dpi:"+t.legendDpi+";fontStyle:"+((t.bold?"bold":t.italic&&"italic")||"")+";fontName:"+t.fontFamily+";fontSize:"+t.fontSize,format:"image/png"},R()({},e.params)))})]}]}}},vector:{map:function(e,t){return{type:"Vector",name:e.name,opacity:Z(e),styleProperty:"ms_style",styles:{1:I.toOpenLayers2Style(e,e.style),Polygon:I.toOpenLayers2Style(e,e.style,"Polygon"),LineString:I.toOpenLayers2Style(e,e.style,"LineString"),Point:I.toOpenLayers2Style(e,e.style,"Point"),FeatureCollection:I.toOpenLayers2Style(e,e.style,"FeatureCollection")},geoJson:(0,r.reprojectGeoJson)({type:"FeatureCollection",features:D(e)&&(0,l._P)(e.features)||e.features.map((function(e){return A(A({},e),{},{properties:A(A({},e.properties),{},{ms_style:e&&e.geometry&&e.geometry.type&&e.geometry.type.replace("Multi","")||1})})}))},"EPSG:4326",t.projection)}}},wfs:{map:function(e){return{type:"Vector",name:e.name,opacity:Z(e),styleProperty:"ms_style",styles:{1:I.toOpenLayers2Style(e,e.style),Polygon:I.toOpenLayers2Style(e,e.style,"Polygon"),LineString:I.toOpenLayers2Style(e,e.style,"LineString"),Point:I.toOpenLayers2Style(e,e.style,"Point"),FeatureCollection:I.toOpenLayers2Style(e,e.style,"FeatureCollection")},geoJson:e.geoJson&&{type:"FeatureCollection",features:e.geoJson.features.map((function(e){return A(A({},e),{},{properties:A(A({},e.properties),{},{ms_style:e&&e.geometry&&e.geometry.type&&e.geometry.type.replace("Multi","")||1})})}))}}}},osm:{map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{baseURL:"http://a.tile.openstreetmap.org/",opacity:Z(e),singleTile:!1,type:"OSM",maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],extension:"png",resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135]}}},mapquest:{map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{baseURL:"http://otile1.mqcdn.com/tiles/1.0.0/map/",opacity:Z(e),singleTile:!1,type:"OSM",maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],extension:"png",resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135]}}},wmts:{map:function(e,t){var n=t.projection,r=(0,u.h7)(e,n),i=r.tileMatrixSet,a=r.tileMatrixSetName;if(!i)throw Error("tile matrix not found for pdf EPSG"+n);var l=I.getWMTSMatrixIds(e,i),s=I.normalizeUrl(x()(e.url)[0]),c={};return s.indexOf("{Style}")>=0&&(c={dimensions:["Style"],params:{STYLE:e.style}}),A(A({baseURL:encodeURI(s),format:e.format||"image/png",type:"WMTS",layer:e.name,"customParams ":(0,o.addAuthenticationParameter)(e.capabilitiesURL,R()({TRANSPARENT:!0}))},c),{},{matrixIds:l,matrixSet:a,style:e.style,name:e.name,requestEncoding:"RESTful"===e.requestEncoding?"REST":e.requestEncoding,opacity:Z(e),version:e.version||"1.0.0"})}},tileprovider:{map:function(e){var t,n,r=(t=(0,c.h)(e.provider,e),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];if(!S()(i)){var a,l=(0,p.ut)(A(A({},i),{},{url:null!==(a=null==i?void 0:i.url)&&void 0!==a?a:o}));if(!l)throw Error("No base URL found for this layer");var s=l.indexOf("{");return{baseURL:l.slice(0,s),path_format:l.slice(s).replace("{x}","${x}").replace("{y}","${y}").replace("{z}","${z}"),type:"xyz",extension:l.split(".").pop()||"png",opacity:Z(e),tileSize:[256,256],maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],resolutions:[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135].filter((function(e,t){var n=!0;return i.maxNativeZoom&&(n=n&&t<=i.maxNativeZoom),n}))}}return{}}},tms:{map:function(e){var t=e.tileMapUrl.split(e.tileMapService+"/")[1];return{type:"tms",opacity:Z(e),layer:t,baseURL:e.tileMapService.substring(0,e.tileMapService.lastIndexOf("/1.0.0")),tileSize:e.tileSize,format:(0,f.A)(e.tileMapUrl),maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],resolutions:e.tileSets.map((function(e){return e.resolution}))}}}},J=function(e,t){var n=[],o=(0,r.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),i=(0,y.U2)(o).getMetersPerUnit();return t&&t.TileMatrix.map((function(e){var t=e["ows:Identifier"],r=28e-5*e.ScaleDenominator/i,o=[P()(e.TileWidth),P()(e.TileHeight)],a=e.TopLeftCorner&&e.TopLeftCorner.split(" ").map((function(e){return P()(e)})),l=[P()(e.MatrixWidth),P()(e.MatrixHeight)];return n.push({identifier:t,matrixSize:l,resolution:r,tileSize:o,topLeftCorner:a})})),n},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},ee=function(e,t,n){return t&&"marker"!==e.styleName?{fillColor:(0,s.qj)(t.fillColor),fillOpacity:t.fillOpacity,externalGraphic:t.iconUrl,pointRadius:t.radius,strokeColor:(0,s.qj)(t.color),strokeOpacity:t.opacity,strokeWidth:t.weight}:I.getOlDefaultStyle(e,n)},te=function(e,t){switch(t||F(e)||""){case"Polygon":case"MultiPolygon":return{fillColor:"#0000FF",fillOpacity:.1,strokeColor:"#0000FF",strokeOpacity:1,strokeWidth:3,strokeDashstyle:"dash",strokeLinecap:"round"};case"MultiLineString":case"LineString":return{strokeColor:"#0000FF",strokeOpacity:1,strokeWidth:3};case"Point":case"MultiPoint":return"marker"===e.styleName?{externalGraphic:"http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/images/marker-icon.png",graphicWidth:25,graphicHeight:41,graphicXOffset:-12,graphicYOffset:-41}:{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeWidth:1};default:return{fillColor:"#0000FF",fillOpacity:.1,strokeColor:"#0000FF",pointRadius:5,strokeOpacity:1,strokeWidth:1}}};I={toAbsoluteURL:B,getLayoutName:G,getMapfishLayersSpecification:X,specCreators:K,normalizeUrl:q,toOpenLayers2Style:ee,getWMTSMatrixIds:J,getOlDefaultStyle:te}},93201:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(64721),o=n.n(r),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("?")[0].split("@");if(t.length>1){var n=t[t.length-1];if(o()(["png","png8","jpeg","vnd.jpeg-png","gif"],n))return n}return null}},45992:(e,t,n)=>{"use strict";n.d(t,{h:()=>p,Z:()=>u});var r=n(35937),o=n.n(r),i=n(36882),a=n(37275);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e,t){var n,r,l,c,p=i.Z;if("custom"===e)n=t;else if(l=(c=e.split("."))[0],r=c[1],!(n=p[l]))throw new Error("No such provider ("+l+")");var u={url:n.url,options:n.options||{}};if(r&&"variants"in n){if(!(r in n.variants))throw new Error("No such variant of "+(l||n.url)+" ("+r+")");var f,y=n.variants[r];f="string"==typeof y?{variant:y}:y.options,u={url:y.url||u.url,options:s(s({},u.options||{}),f)}}else"function"==typeof u.url&&(u.url=u.url(c.splice(1,c.length-1).join(".")));var m="file:"===window.location.protocol||u.options.forceHTTP;0===u.url.indexOf("//")&&m&&(u.url="http:"+u.url),u.options.retina&&(t.detectRetina&&a.ZP.getBrowserProperties().retina?t.detectRetina=!1:u.options.retina=""),u.options.attribution&&(u.options.attribution=function e(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,(function(t,n){return e(p[n].options.attribution)}))}(u.options.attribution));var d=s(s({},u.options),o()(t,(function(e){return void 0!==e})));return[u.url,d]};const u={getLayerConfig:p}},33358:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(e){return-1!==r.indexOf(e)}},95784:(e,t,n)=>{var r=n(27418),o={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return r({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(n){n&&n.toLowerCase&&o.PARAM_OPTIONS.indexOf(n.toLowerCase())>=0&&(t[n]=e[n])})),t}};e.exports=o},43248:(e,t,n)=>{(e.exports=n(9252)()).push([e.id,".msgapi #mappreview-scalebox {\n    position: relative;\n    top: -36px;\n    width: 150px;\n    left: 10px;\n}\n\n.msgapi .print-error {\n    height: 100px;\n    color: #600;\n    background-color: #E8BABA;\n    border: solid #600 1px;\n    border-radius: 10px;\n    padding: 10px;\n}\n.msgapi .print-error span, .msgapi .print-warning span {\n    display: inline-block;\n    max-height: 80px;\n    overflow: auto;\n    width: 100%;\n}\n.msgapi .print-warning {\n    height: 50px;\n    color: #660;\n    background-color: #E6E8BA;\n    border: solid #660 1px;\n    border-radius: 10px;\n    padding: 10px;\n}\n.msgapi .print-preview-panel .spinner {\n    display: inline-block;\n}\n\n.msgapi .print-mappreview-refresh {\n    position: relative;\n    top: -83px;\n    right: -155px;\n    z-index: 1000;\n}\n.msgapi #mapstore-print-panel.modal-dialog {\n    z-index: 2000;\n}\n\n.msgapi #mapstore-print-panel .modal-body {\n    max-height: calc(100vh - 190px);\n    overflow-y: auto;\n}\n\n.msgapi .mapstore-print-panel {\n    width: 850px;\n    position: absolute;\n    top: 50px;\n    right: 60px;\n    zIndex: 100;\n}\n\n.msgapi .mapstore-print-panel .form-inline label {\n    margin-right: 20px;\n}\n\n.msgapi .mapstore-print-panel .print-download {\n    margin-right: 10px;\n    display: inline-block;\n    width: 30px;\n    height: 34px;\n    border: solid 1px #CCC;\n    padding: 7px;\n    border-radius: 4px;\n    padding-right: 25px;\n    padding-left: 11px;\n    top: 2px;\n    position: relative;\n}\n\n.msgapi .print-layout .panel-title {\n    padding-left: 10px;\n}\n\n.msgapi .print-layout .panel-title a{\n    text-decoration: none;\n}\n\n.msgapi .print-layout .panel-title a:hover{\n    color: #d6d6d6;\n}\n\n.msgapi .print-legend-options .panel-title {\n    padding-left: 10px;\n}\n\n.msgapi .print-legend-options .panel-title a{\n    text-decoration: none;\n}\n\n.msgapi .print-legend-options .panel-title a:hover{\n    color: #d6d6d6;\n}\n\n\n@media (min-width: 992px) {\n    .msgapi #mapstore-print-panel {\n        width: 825px;\n    }\n}\n\n@media (max-width: 991px) {\n    .msgapi #mapstore-print-panel {\n        width: 700px;\n    }\n}\n\n@media (max-width: 767px) {\n    .msgapi #mapstore-print-panel {\n        width: 98%;\n    }\n}\n\n.msgapi #mapstore-print-panel .modal-body .print-mappreview-refresh {\n    top: -96px;\n}\n\n.msgapi #mapstore-print-panel .print-submit {\n    float: right;\n}\n\n@media (min-width: 768px) {\n    .msgapi #mapstore-print-panel input[type=radio] {\n        margin: 0 8px 0 20px;\n    }\n}\n\n.msgapi #mapstore-print-panel .print-map-preview {\n    margin-bottom: 15px;\n}\n\n.msgapi #mapstore-print-panel .panel-default {\n    border: none;\n}\n\n.msgapi #mapstore-print-panel .panel-heading .panel-title {\n    font-weight: bold;\n}\n\n.msgapi #mapstore-print-panel .panel-heading {\n    padding-left: 0;\n    background-color: transparent;\n}\n\n.msgapi #mapstore-print-panel .panel-body {\n    padding: 10px;\n}\n\n.msgapi #mapstore-print-panel .form-control {\n    padding: 0 10px;\n    height: 25px;\n}\n\n.msgapi #mapstore-print-panel .print-download {\n    margin-right: 10px;\n}\n\n.msgapi #mapstore-print-panel .print-download a {\n    color: white;\n}\n\n.msgapi #mapstore-print-panel .print-legend-options .container-fluid {\n    padding-left: 0;\n    padding-right: 0;\n}\n",""])},97142:(e,t,n)=>{var r=n(43248);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},12993:()=>{},58618:()=>{},120:()=>{},45804:()=>{}}]);