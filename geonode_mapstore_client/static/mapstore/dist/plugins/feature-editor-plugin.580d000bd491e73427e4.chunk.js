(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6336],{41156:(e,t,r)=>{"use strict";r.d(t,{fy:()=>n,gd:()=>o,zZ:()=>i,ZR:()=>a});var n="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:n,boxEndInfo:e}}function a(e){return{type:o,status:e}}},4206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>a,IC:()=>u,Vw:()=>s,KD:()=>f,uj:()=>p,lo:()=>d,Yf:()=>y,fo:()=>g,PY:()=>m,bp:()=>b});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",a="DRAW:GEOMETRY_CHANGED",u="DRAW:DRAW_SUPPORT_STOPPED",c="DRAW:FEATURES_SELECTED",l="DRAW:DRAWING_FEATURES";function s(e,t,r,n,o){return{type:a,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:c,features:e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:l,features:e}}function d(){return{type:u}}function y(e,t,r,o,i,a){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:a}}function g(e,t){return{type:o,geometry:e,owner:t}}function m(e){return{type:i,currentStyle:e}}var b=function(e){return y("clean","",e,[],{})}},33528:(e,t,r)=>{"use strict";r.d(t,{gJ:()=>n,Oj:()=>o,jp:()=>i,CM:()=>a,DU:()=>u,aO:()=>c,v6:()=>l,K8:()=>s,IN:()=>f,zh:()=>p,AH:()=>d,Ub:()=>y,_9:()=>g,JB:()=>m,oh:()=>b,AY:()=>E,yi:()=>v,SW:()=>O,Hk:()=>h,iQ:()=>T,dY:()=>w,$:()=>S,_u:()=>P,gG:()=>R,DI:()=>_,dZ:()=>I,qw:()=>A,f$:()=>F,bZ:()=>D,$O:()=>C,sF:()=>G,Gk:()=>N,vO:()=>j,ut:()=>M,MK:()=>k,VV:()=>U,B8:()=>x,VM:()=>L,a3:()=>Y,Xp:()=>B,DA:()=>Z,sK:()=>H,yA:()=>V,r:()=>z,iB:()=>W,EH:()=>q,Yd:()=>Q,Hg:()=>K,Lz:()=>X,ye:()=>$,Jb:()=>J,d:()=>ee,fT:()=>te,Ib:()=>re,Pl:()=>ne,UB:()=>oe,Uh:()=>ie,QT:()=>ae,oL:()=>ue,Ap:()=>ce,KD:()=>le,Z_:()=>se,Vw:()=>fe,sY:()=>pe,kA:()=>de,gr:()=>ye,pX:()=>ge,F5:()=>me,MO:()=>be,dq:()=>Ee,DY:()=>ve,oO:()=>Oe,uF:()=>he,a8:()=>Te,Pv:()=>we,an:()=>Se,lg:()=>Pe,nY:()=>Re,nG:()=>_e,lx:()=>Ie,$S:()=>Ae,gc:()=>Fe,Uz:()=>De,fO:()=>Ce,$E:()=>Ge,cE:()=>Ne,JK:()=>je,YV:()=>Me,t9:()=>ke,YG:()=>Ue,HT:()=>xe,MY:()=>Le,ve:()=>Ye,hB:()=>Be,Ox:()=>Ze,zd:()=>He,aT:()=>Ve,VH:()=>ze,Yb:()=>We,Jr:()=>qe,pP:()=>Qe});var n="FEATUREGRID:SET_UP",o="FEATUREGRID:SELECT_FEATURES",i="FEATUREGRID:DESELECT_FEATURES",a="FEATUREGRID:CLEAR_SELECTION",u="FEATUREGRID:SET_SELECTION_OPTIONS",c="FEATUREGRID:TOGGLE_MODE",l="FEATUREGRID:TOGGLE_FEATURES_SELECTION",s="FEATUREGRID:FEATURES_MODIFIED",f="FEATUREGRID:NEW_FEATURE",p="FEATUREGRID:SAVE_CHANGES",d="FEATUREGRID:SAVING",y="FEATUREGRID:START_EDITING_FEATURE",g="FEATUREGRID:START_DRAWING_FEATURE",m="FEATUREGRID:DELETE_GEOMETRY",b="FEATUREGRID:DELETE_GEOMETRY_FEATURE",E="FEATUREGRID:SAVE_SUCCESS",v="FEATUREGRID:CLEAR_CHANGES",O="FEATUREGRID:SAVE_ERROR",h="FEATUREGRID:DELETE_SELECTED_FEATURES",T="SET_FEATURES",w="FEATUREGRID:SORT_BY",S="FEATUREGRID:SET_LAYER",P="QUERY:UPDATE_FILTER",R="FEATUREGRID:CHANGE_PAGE",_="FEATUREGRID:GEOMETRY_CHANGED",I="DOCK_SIZE_FEATURES",A="FEATUREGRID:TOGGLE_TOOL",F="FEATUREGRID:CUSTOMIZE_ATTRIBUTE",D="ASK_CLOSE_FEATURE_GRID_CONFIRM",C="FEATUREGRID:OPEN_GRID",G="FEATUREGRID:CLOSE_GRID",N="FEATUREGRID:CLEAR_CHANGES_CONFIRMED",j="FEATUREGRID:FEATURE_GRID_CLOSE_CONFIRMED",M="FEATUREGRID:SET_PERMISSION",k="FEATUREGRID:DISABLE_TOOLBAR",U="FEATUREGRID:ACTIVATE_TEMPORARY_CHANGES",x="FEATUREGRID:DEACTIVATE_GEOMETRY_FILTER",L="FEATUREGRID:ADVANCED_SEARCH",Y="FEATUREGRID:ZOOM_ALL",B="FEATUREGRID:INIT_PLUGIN",Z="FEATUREGRID:SIZE_CHANGE",H="FEATUREGRID:TOGGLE_SHOW_AGAIN_FLAG",V="FEATUREGRID:HIDE_SYNC_POPOVER",z="FEATUREGRID:UPDATE_EDITORS_OPTIONS",W="FEATUREGRID:LAUNCH_UPDATE_FILTER_FUNC",q={EDIT:"EDIT",VIEW:"VIEW"},Q="FEATUREGRID:START_SYNC_WMS",K="FEATUREGRID:STOP_SYNC_WMS",X="STORE_ADVANCED_SEARCH_FILTER",$="LOAD_MORE_FEATURES",J="FEATUREGRID:QUERY_RESULT",ee="FEATUREGRID:SET_TIME_SYNC",te="FEATUREGRID:SET_PAGINATION";function re(){return{type:H}}function ne(){return{type:V}}function oe(e,t){return{type:J,features:e,pages:t}}function ie(e){return{type:X,filterObj:e}}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:B,options:e}}function ue(){return{type:N}}function ce(){return{type:j}}function le(e,t){return{type:o,features:e,append:t}}function se(e){return{type:n,options:e}}function fe(e){return{type:_,features:e}}function pe(){return{type:y}}function de(){return{type:g}}function ye(e){return{type:i,features:e}}function ge(){return{type:m}}function me(e){return{type:b,features:e}}function be(){return{type:a}}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiselect,r=void 0!==t&&t;return{type:u,multiselect:r}}function ve(e,t){return{type:w,sortBy:e,sortOrder:t}}function Oe(e,t){return{type:R,page:e,size:t}}function he(e){return{type:S,id:e}}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:P,update:e,append:t}}function we(e,t){return{type:A,tool:e,value:t}}function Se(e,t,r){return{type:F,name:e,key:t,value:r}}function Pe(){return{type:c,mode:q.EDIT}}function Re(){return{type:c,mode:q.VIEW}}function _e(e,t){return{type:s,features:e,updated:t}}function Ie(e){return{type:f,features:e}}function Ae(){return{type:p}}function Fe(){return{type:E}}function De(){return{type:h}}function Ce(){return{type:d}}function Ge(){return{type:v}}function Ne(){return{type:O}}function je(){return{type:D}}function Me(){return{type:G}}function ke(){return{type:C}}function Ue(e){return{type:k,disabled:e}}function xe(e){return{type:M,permission:e}}function Le(){return{type:L}}function Ye(){return{type:Y}}function Be(){return{type:Q}}function Ze(e,t){return{type:Z,size:e,dockProps:t}}var He=function(e){return{type:$,pages:e}},Ve=function(e){return{type:U,activated:e}},ze=function(e){return{type:x,deactivated:e}},We=function(e){return{type:ee,value:e}},qe=function(e){return{type:te,size:e}},Qe=function(e){return{type:W,updateFilterAction:e}}},29386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>i,WP:()=>a,_E:()=>u});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:i,featuresPath:e}}function u(e,t){return{type:o,features:e,status:t}}},1550:(e,t,r)=>{"use strict";r.d(t,{pP:()=>o,TR:()=>i,N7:()=>a,mq:()=>u,uv:()=>c,Qy:()=>l,IL:()=>s,Li:()=>f,OW:()=>p,ZO:()=>d,Um:()=>y,TF:()=>g,Ls:()=>m,Ec:()=>b,Eu:()=>E,JJ:()=>v,nZ:()=>O,YD:()=>h,GI:()=>T,Jb:()=>w,Uh:()=>S,LP:()=>P,xy:()=>R,o6:()=>_,FP:()=>I,Mo:()=>A,sO:()=>F,Px:()=>D,hd:()=>C,BV:()=>G,SO:()=>N,H0:()=>j,$X:()=>M,ou:()=>k,NE:()=>U});var n=r(97395),o="CHANGE_MAP_VIEW",i="CLICK_ON_MAP",a="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",c="PAN_TO",l="ZOOM_TO_EXTENT",s="ZOOM_TO_POINT",f="CHANGE_MAP_CRS",p="CHANGE_MAP_SCALES",d="CHANGE_MAP_STYLE",y="CHANGE_ROTATION",g="CREATION_ERROR_LAYER",m="UPDATE_VERSION",b="INIT_MAP",E="RESIZE_MAP",v="CHANGE_MAP_LIMITS",O="SET_MAP_RESOLUTIONS",h="REGISTER_EVENT_LISTENER",T="UNREGISTER_EVENT_LISTENER",w="MOUSE_MOVE",S="MOUSE_OUT";function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{family:""};return(0,n.vU)({title:"warning",message:"map.errorLoadingFont",values:e,position:"tc",autoDismiss:10})}function R(e,t,r){return{type:s,pos:e,zoom:t,crs:r}}function _(e,t,r,n,i,a,u,c){return{type:o,center:e,zoom:t,bbox:r,size:n,mapStateSource:i,projection:a,viewerOptions:u,resolution:c}}function I(e,t){return{type:i,point:e,layer:t}}function A(e){return{type:a,pointer:e}}function F(e,t){return{type:u,zoom:e,mapStateSource:t}}function D(e,t,r){return{type:l,extent:e,crs:t,maxZoom:r}}function C(e,t){return{type:d,style:e,mapStateSource:t}}function G(e){var t=e.restrictedExtent,r=e.crs,n=e.minZoom;return{type:v,restrictedExtent:t,crs:r,minZoom:n}}function N(e){return{type:O,resolutions:e}}var j=function(e,t){return{type:h,eventName:e,toolName:t}},M=function(e,t){return{type:T,eventName:e,toolName:t}},k=function(e){return{type:w,position:e}},U=function(){return{type:S}}},21914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>u,Pn:()=>c,DZ:()=>l,e8:()=>s,E0:()=>f,F9:()=>p,X_:()=>d,pb:()=>y,qb:()=>g,Re:()=>m,ih:()=>b,xy:()=>E,jL:()=>v,oz:()=>O,ph:()=>h,lF:()=>T,gG:()=>w,cb:()=>S,GI:()=>P,B1:()=>R,fv:()=>_,gc:()=>I,zX:()=>A,ZF:()=>F,Zb:()=>D,Fm:()=>C,sV:()=>G,Mn:()=>N,LU:()=>j,XP:()=>M,WU:()=>k,JB:()=>U,g:()=>x,ws:()=>L,HP:()=>Y,aN:()=>B,Pg:()=>H,u0:()=>V,TM:()=>z,PM:()=>W,lK:()=>q,sv:()=>Q,MO:()=>K,oO:()=>X,Mc:()=>$,Zw:()=>J,RA:()=>ee,am:()=>te,ZM:()=>re,wm:()=>ne,Y$:()=>oe});var n=r(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",u="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",l="PURGE_MAPINFO_RESULTS",s="CHANGE_MAPINFO_FORMAT",f="SHOW_MAPINFO_MARKER",p="HIDE_MAPINFO_MARKER",d="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",g="GET_VECTOR_INFO",m="NO_QUERYABLE_LAYERS",b="CLEAR_WARNING",E="FEATURE_INFO_CLICK",v="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",O="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",h="TOGGLE_MAPINFO_STATE",T="UPDATE_CENTER_TO_MARKER",w="IDENTIFY:CHANGE_PAGE",S="IDENTIFY:CLOSE_IDENTIFY",P="IDENTIFY:CHANGE_FORMAT",R="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",_="IDENTIFY:EDIT_LAYER_FEATURES",I="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",A="IDENTIFY:SET_MAP_TRIGGER",F="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",D="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function C(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function G(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function N(e,t,r,n){return{type:a,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function j(){return{type:m}}function M(){return{type:b}}function k(e,t){return{type:c,reqId:e,request:t}}function U(e,t,r,n){return{type:g,layer:e,request:t,metadata:r,queryableLayers:n}}function x(){return{type:l}}function L(e){return{type:s,infoFormat:e}}function Y(){return{type:f}}function B(){return{type:p}}function Z(e){return{type:d,reverseGeocodeData:e.data}}function H(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(Z(e))})).catch((function(e){t(Z(e))}))}}function V(){return{type:y}}function z(){return{type:h}}function W(e){return{type:T,status:e}}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:E,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function Q(e){return{type:v,point:e}}function K(e){return{type:O,enabled:e}}function X(e){return{type:w,index:e}}var $=function(){return{type:S}},J=function(e){return{type:P,format:e}},ee=function(e){return{type:R,showCoordinateEditor:e}},te=function(e){return{type:_,layer:e}},re=function(e){return{type:I,query:e}},ne=function(e){return{type:A,trigger:e}},oe=function(e){return{type:D,value:e}}},7878:(e,t,r)=>{"use strict";r.d(t,{E6:()=>a,vo:()=>u,l1:()=>c,J9:()=>l,U:()=>s,z8:()=>f,ql:()=>p,O_:()=>d,M$:()=>y,Ug:()=>g,p5:()=>m,Fz:()=>b,WZ:()=>E,bP:()=>v,On:()=>O,d_:()=>h,xM:()=>T,bl:()=>w,Wi:()=>S,PN:()=>P,_M:()=>R,Wm:()=>_,Eg:()=>I,V1:()=>A,cY:()=>F,RD:()=>D,Hl:()=>C,co:()=>G,uY:()=>N,H8:()=>j,je:()=>M,go:()=>k,_8:()=>U,xd:()=>x,o7:()=>L,Nr:()=>Y,Gf:()=>B,nh:()=>Z,Rf:()=>H,D6:()=>V,Sm:()=>z,Ef:()=>W,jW:()=>q,kQ:()=>Q,JG:()=>K,js:()=>X,q$:()=>$,OZ:()=>J,Nc:()=>ee,NV:()=>te,I5:()=>re,QL:()=>ne,I:()=>oe,ku:()=>ie,EU:()=>ae,IV:()=>ue,HT:()=>ce,lg:()=>le,ds:()=>se,VF:()=>fe,DD:()=>pe,uo:()=>de,Ry:()=>ye,ZH:()=>ge,AQ:()=>me,yC:()=>be,F:()=>Ee,mc:()=>ve,uM:()=>he,eJ:()=>Te,uP:()=>we,N5:()=>Se,bn:()=>Pe,Bm:()=>Re,F2:()=>_e,jR:()=>Ie,$J:()=>Ae});var n=r(75875),o=r.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a="ADD_FILTER_FIELD",u="REMOVE_FILTER_FIELD",c="UPDATE_FILTER_FIELD",l="UPDATE_EXCEPTION_FIELD",s="ADD_GROUP_FIELD",f="UPDATE_LOGIC_COMBO",p="REMOVE_GROUP_FIELD",d="CHANGE_CASCADING_VALUE",y="EXPAND_ATTRIBUTE_PANEL",g="EXPAND_SPATIAL_PANEL",m="QUERYFORM:EXPAND_CROSS_LAYER",b="QUERYFORM:SET_CROSS_LAYER_PARAMETER",E="QUERYFORM:RESET_CROSS_LAYER_FILTER",v="SELECT_SPATIAL_METHOD",O="SELECT_VIEWPORT_SPATIAL_METHOD",h="UPDATE_GEOMETRY",T="SELECT_SPATIAL_OPERATION",w="CHANGE_SPATIAL_ATTRIBUTE",S="CHANGE_SPATIAL_FILTER_VALUE",P="REMOVE_SPATIAL_SELECT",R="SHOW_SPATIAL_DETAILS",_="QUERY_FORM_SEARCH",I="QUERY_FORM_RESET",A="SHOW_GENERATED_FILTER",F="CHANGE_DWITHIN_VALUE",D="ZONE_SEARCH",C="ZONE_SEARCH_ERROR",G="ZONE_FILTER",N="ZONE_CHANGE",j="ZONES_RESET",M="SIMPLE_FILTER_FIELD_UPDATE",k="ADD_SIMPLE_FILTER_FIELD",U="REMOVE_SIMPLE_FILTER_FIELD",x="REMOVE_ALL_SIMPLE_FILTER_FIELDS",L="UPDATE_FILTER_FIELD_OPTIONS",Y="LOADING_FILTER_FIELD_OPTIONS",B="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",Z="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",H="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",V="SET_AUTOCOMPLETE_MODE",z="TOGGLE_AUTOCOMPLETE_MENU",W="QUERYFORM:LOAD_FILTER";function q(e){return{type:a,groupId:e}}function Q(e,t){return{type:s,groupId:e,index:t}}function K(e){return{type:u,rowId:e}}function X(e,t){return{type:z,rowId:e,status:t}}function $(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{type:c,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}}function J(e,t){return{type:l,rowId:e,exceptionMessage:t}}function ee(e,t){return{type:f,groupId:e,logic:t}}function te(e){return{type:V,status:e}}function re(e){return{type:p,groupId:e}}function ne(e){return{type:d,attributes:e}}function oe(e){return{type:y,expand:e}}function ie(e){return{type:g,expand:e}}function ae(e){return{type:m,expand:e}}function ue(e,t){return{type:b,key:e,value:t}}function ce(e,t){return{type:v,fieldName:t,method:e}}function le(){return{type:O}}function se(e){return{type:h,geometry:e}}function fe(e,t){return{type:T,fieldName:t,operation:e}}function pe(e){return{type:w,attribute:e}}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feature,r=e.srsName,n=e.collectGeometries,o=e.style,i=e.options,a=e.value;return{type:S,value:a,collectGeometries:n,options:i,geometry:t&&t.geometry,feature:t,srsName:r,style:o}}function ye(){return{type:P}}function ge(e){return{type:R,show:e}}function me(e){return{type:F,distance:e}}function be(e,t){return{type:_,searchUrl:e,filterObj:t}}function Ee(e){return{type:W,filter:e}}function ve(e){return{type:I,skip:e}}function Oe(e,t){return{type:C,error:e,id:t}}function he(e,t){return{type:D,active:e,id:t}}function Te(e,t,r){return function(n){return o().post(e,t,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"text/plain"}}).then((function(o){var a=o.data;if("object"!==i(a))try{a=JSON.parse(a)}catch(o){n(Oe("Search result broken ("+e+":   "+t+"): "+o.message,r))}n(function(e,t){return{type:G,data:e,id:t}}(a,r)),n(he(!1,r))})).catch((function(e){n(Oe(e,r))}))}}function we(e,t){return{type:N,id:e,value:t}}function Se(e){return{type:B,rowId:(new Date).getTime(),groupId:e}}function Pe(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{type:Z,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}}function Re(e){return{type:H,rowId:e}}function _e(){return{type:E}}function Ie(e,t){return{type:Y,status:e,filterField:t}}function Ae(e,t,r){return{type:L,filterField:e,options:t,valuesCount:r}}},95797:(e,t,r)=>{"use strict";r.d(t,{DR:()=>n,S0:()=>o,u7:()=>i,lj:()=>a,yz:()=>u,lN:()=>c,zW:()=>l,Yx:()=>s,VN:()=>f,Hu:()=>p,VT:()=>d,RD:()=>y,Qq:()=>g,R1:()=>m,_T:()=>b,vO:()=>E,XO:()=>v,jG:()=>O,Xc:()=>h,gT:()=>T,rG:()=>w,t3:()=>S,Fs:()=>P,w_:()=>R,Lm:()=>_,rh:()=>I,rP:()=>A,IO:()=>F}),r(75875);var n="LAYER_SELECTED_FOR_SEARCH",o="FEATURE_TYPE_SELECTED",i="FEATURE_TYPE_LOADED",a="FEATURE_LOADED",u="FEATURE_LOADING",c="FEATURE_TYPE_ERROR",l="FEATURE_ERROR",s="QUERY_CREATE",f="QUERY:UPDATE_QUERY",p="QUERY_RESULT",d="QUERY_ERROR",y="RESET_QUERY",g="QUERY",m="INIT_QUERY_PANEL",b="QUERY:TOGGLE_SYNC_WMS",E="QUERY:TOGGLE_LAYER_FILTER";function v(){return{type:b}}function O(){return{type:E}}function h(){return{type:m}}function T(e,t){return{type:o,url:e,typeName:t}}function w(e,t){return{type:i,typeName:e,featureType:t}}function S(e,t){return{type:c,typeName:e,error:t}}function P(e){return{type:u,isLoading:e}}function R(e,t,r,n,o){return{type:p,searchUrl:t,filterObj:r,result:e,queryOptions:n,reason:o}}function _(e){return{type:d,error:e}}function I(e,t){return{type:f,updates:e,reason:t}}function A(e,t){return{type:s,searchUrl:e,filterObj:t}}function F(e,t,r,n){return{type:g,searchUrl:e,filterObj:t,queryOptions:r,reason:n}}},59979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(24852),o=r.n(n),i=r(52595),a=r(30294),u=r(86494),c=r(80307),l=r.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const b=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(E,t);var r,n,c,s,b=(c=E,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(c);if(s){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return g(this,e)});function E(){return p(this,E),b.apply(this,arguments)}return r=E,(n=[{key:"render",value:function(){var t=null,r=this.props,n=r.popoverOptions,c=r.keyProp,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,["popoverOptions","keyProp"]);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,f({},(0,u.omit)(s,["renderPopover","tooltipId"]),{key:c,ref:function(e){t=e}})),o().createElement(i.Z,{placement:n.placement,shouldUpdatePosition:!0,show:!0,target:function(){return l().findDOMNode(t)}},o().createElement(a.Popover,n.props,n.content)))}}])&&d(r.prototype,n),E}(o().Component)}},38560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(30294),o=r(24852),i=r.n(o),a=r(94184),u=r.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const l=(s=n.Button,i().forwardRef((function(e,t){var r=e.disabled,n=e.className,o=e.onClick,a=void 0===o?function(){}:o,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["disabled","className","onClick"]);return i().createElement(s,c({ref:t,className:r?u()("disabled",n):n,onClick:function(){r||a.apply(void 0,arguments)}},l),l.children)})));var s},1262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(27418),o=r.n(n),i=r(45697),a=r.n(i),u=r(24852),c=r.n(u),l=r(80307),s=r.n(l),f=r(30294),p=r(38560),d=r(5346),y=r(7472);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(n);if(i){var r=h(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return v(this,e)});function u(){var e;m(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(O(e=a.call.apply(a,[this].concat(r))),"setConfirmRef",(function(t){return e.confirm=t,e.confirm})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.props.focusConfirm&&s().findDOMNode(this.confirm).focus()}},{key:"render",value:function(){return c().createElement(y.Z,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},c().createElement("span",{role:"header"},c().createElement("span",{className:"user-panel-title"},this.props.title),c().createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?c().createElement(f.Glyphicon,{glyph:this.props.closeGlyph}):c().createElement("span",null,"Ã—"))),c().createElement("div",{role:"body"},this.props.children),c().createElement("div",{role:"footer"},c().createElement(f.ButtonGroup,null,c().createElement(p.Z,{ref:this.setConfirmRef,onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),c().createElement(p.Z,{onClick:this.props.onClose},this.props.closeText))))}}])&&b(t.prototype,r),u}(c().Component);T(w,"propTypes",{show:a().bool,draggable:a().bool,onClose:a().func,onConfirm:a().func,onSave:a().func,modal:a().bool,closeGlyph:a().string,style:a().object,buttonSize:a().string,inputStyle:a().object,title:a().node,confirmButtonContent:a().node,confirmButtonDisabled:a().bool,closeText:a().node,confirmButtonBSStyle:a().string,focusConfirm:a().bool}),T(w,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:c().createElement(d.Z,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:c().createElement(d.Z,{msgId:"confirm"})||"Confirm",closeText:c().createElement(d.Z,{msgId:"close"}),includeCloseButton:!0,focusConfirm:!1});const S=w},7472:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(27418),o=r.n(n),i=r(45697),a=r.n(i),u=r(24852),c=r.n(u),l=r(85294),s=r.n(l),f=r(72986),p=r.n(f),d=r(5346);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(n);if(i){var r=T(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return O(this,e)});function u(){var e;b(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(h(e=a.call.apply(a,[this].concat(r))),"renderLoading",(function(){return e.props.maskLoading?c().createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},c().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},c().createElement(d.Z,{msgId:"loading"}),c().createElement(p(),{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),w(h(e),"renderRole",(function(t){return c().Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),w(h(e),"hasRole",(function(t){return c().Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),w(h(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=u,(r=[{key:"render",value:function(){var e=this,t=c().createElement("div",{id:this.props.id,style:m({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},c().createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),c().createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?c().createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):c().createElement("span",null)),r=this.props.draggable?c().createElement(s(),{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,n=o()({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?c().createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:n,className:"fade in modal "+this.props.containerClassName,role:"dialog"},r):r}}])&&E(t.prototype,r),u}(c().Component);w(S,"propTypes",{id:a().string.isRequired,style:a().object,backgroundStyle:a().object,className:a().string,maskLoading:a().bool,containerClassName:a().string,headerClassName:a().string,bodyClassName:a().string,footerClassName:a().string,onClickOut:a().func,modal:a().bool,start:a().object,draggable:a().bool,bounds:a().oneOfType([a().string,a().object])}),w(S,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"});const P=S},52595:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(61365).Z)(r(30294).Overlay)},50966:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(61365),o=r(30294);const i=(0,n.Z)(o.OverlayTrigger)},61365:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(24852),o=r.n(n),i=r(37275);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const u=function(e){return function(t){return o().createElement(e,a({},t,{container:document.querySelector("."+(i.ZP.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},15135:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(24852),o=r.n(n),i=r(67076),a=r(30294),u=r(50966),c=r(5346),l=r(86494);function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const f=(0,i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,n=t.tooltipId,i=t.tooltipPosition,l=void 0===i?"top":i,f=t.tooltipTrigger,p=t.keyProp,d=t.idDropDown,y=t.args,g=s(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"]);return o().createElement(u.Z,{trigger:f,id:d,key:p,placement:l,overlay:o().createElement(a.Tooltip,{id:"tooltip-"+p},n?o().createElement(c.Z,{msgId:n,msgParams:{data:y}}):r)},o().createElement(e,g))}}),(function(e){return function(t){return o().createElement(e,(0,l.omit)(t,["tooltipId","tooltip"]),t.children)}}))},74643:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Pr});var n={};r.r(n),r.d(n,{activateBoxSelectionTool:()=>ge,activateGeometryFilter:()=>he,activateTemporaryChangesEpic:()=>Ee,askChangesConfirmOnFeatureGridClose:()=>xe,autoCloseFeatureGridEpicOnDrowerOpen:()=>Ue,autoReopenFeatureGridOnFeatureInfoClose:()=>Ze,closeIdentifyWhenOpenFeatureGrid:()=>We,closeRightPanelOnFeatureGridOpen:()=>Fe,deactivateBoxSelectionTool:()=>me,deactivateGeometryFilter:()=>Oe,deactivateSyncWmsFilterOnFeatureGridClose:()=>Ke,deleteGeometryFeature:()=>Ce,deleteSelectedFeatureGridFeatures:()=>Re,disableMultiSelect:()=>pe,enableGeometryFilterOnEditMode:()=>fe,featureGridBrowseData:()=>oe,featureGridChangePage:()=>Te,featureGridLayerSelectionInitialization:()=>ie,featureGridReloadPageOnSaveSuccess:()=>we,featureGridSort:()=>ue,featureGridStartupQuery:()=>ae,featureGridUpdateGeometryFilter:()=>ce,featureGridUpdateTextFilters:()=>se,handleBoxSelectionDrawEnd:()=>ye,handleClickOnMap:()=>de,handleDrawFeature:()=>Ie,handleEditFeature:()=>_e,handleGeometryFilterActivation:()=>ve,hideDrawerOnFeatureGridOpenMobile:()=>tt,hideFeatureGridOnDrawerOpenMobile:()=>et,launchUpdateFilterEpic:()=>le,onClearChangeConfirmedFeatureGrid:()=>Le,onCloseFeatureGridConfirmed:()=>Ye,onFeatureGridCreateNewFeature:()=>Ne,onFeatureGridGeometryEditing:()=>De,onFeatureGridZoomAll:()=>Ve,onOpenAdvancedSearch:()=>He,removeWmsFilterOnGridClose:()=>Be,replayOnTimeDimensionChange:()=>Je,resetControlsOnEnterInEditMode:()=>ze,resetEditingOnFeatureGridClose:()=>Ae,resetGridOnLocationChange:()=>Me,resetQueryPanel:()=>ke,savePendingFeatureGridChanges:()=>Pe,selectFeaturesOnMapClickResult:()=>be,setHighlightFeaturesPath:()=>je,startSyncWmsFilter:()=>qe,stopSyncWmsFilter:()=>Qe,syncMapWmsFilter:()=>Xe,triggerDrawSupportOnSelectionChange:()=>Ge,updateSelectedOnSaveOrCloseFeatureGrid:()=>Se,virtualScrollLoadFeatures:()=>$e});var o=r(24852),i=r.n(o),a=r(71703),u=r(22222),c=r(12838),l=r(86494),s=r(67076),f=r(32833),p=r(22843),d=r(49977),y=r.n(d),g=r(75982),m=r(75875),b=r.n(m),E=r(13292),v=r.n(E),O=r(34387),h=r(96958),T=r(27418),w=r.n(T),S=r(4206),P=r(50937),R=r.n(P),_=r(78889),I=r(21914),A=r(95797),F=r(7878),D=r(1550),C=r(41156),G=r(827),N=r(80416),j=r(33528),M=r(82904),k=r(7147),U=r(29386),x=r(31255),L=r(97395),Y=r(24260),B=r(10284),Z=r(69842),H=r(47805),V=r(90183),z=r(52259);function W(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.page,n=t.size,o=(0,x.Vf)(e),i=void 0!==n?n:o.size;return{startIndex:void 0!==r?r*i:o.page*i,maxFeatures:i}},J=function(e,t){return K(K({},e),{},{pagination:t})},ee=function(e,t,r){var n=r.insert,o=r.update,i=r.propertyChange,a=r.getPropertyName;return(0,r.transaction)(t.map((function(e){return n(e)})),Object.keys(e).map((function(t){return Object.keys(e[t]).map((function(r){return o([i(a(r),e[t][r]),(0,O.fidFilter)("ogc",t)])}))})))},te=function(e,t){return y().Observable.defer((function(){return b().post(e,t,{headers:{"Content-Type":"application/xml"}})})).let(B.oB)},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.featuregrid;return(0,N.He)(t.selectedLayer,{filterObj:void 0})},ne=function(e){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.update,o=void 0===n?{}:n,i=r.append,a=(0,x.Li)(e.getState()),u=a.id,c=K({},(0,l.get)(e.getState(),'featuregrid.advancedFilters["'.concat(u,'"]')));if(c){var s=(0,x.M0)(e.getState())||{},f=(0,l.reduce)(s,(function(e,t,r){return(0,h.dJ)(K({attribute:r},t),e)}),{}),p="AND";f.spatialField&&(c.spatialField=void 0,p=f.spatialFieldOperator);var d=(0,H.composeAttributeFilters)([c,f],"AND",p),y=K(K({},c),d);return(0,A.rh)(y,o.type)}var g=o;return i&&null!=o&&o.attribute&&(g=(0,x.M0)(e.getState())[null==o?void 0:o.attribute]),(0,A.rh)((0,h.dJ)(g,(0,Y.X1)(e.getState())),null===(t=g)||void 0===t?void 0:t.type)}},oe=function(e,t){return e.ofType(N.R8).switchMap((function(r){var n,o=r.layer,i=(0,l.get)(t.getState(),"query.typeName");return(n=y().Observable).of.apply(n,W(i!==o.name?[(0,F.mc)()]:[]).concat([(0,M.Xg)("drawer","enabled",!1),(0,j.uF)(o.id),(0,j.t9)()])).merge(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.url,o=r.name,i=r.id,a=(0,l.get)(t.getState(),'featuregrid.advancedFilters["'.concat(i,'"]')),u=function(){return(0,A.rP)(n,a||{featureTypeName:o,filterType:"OGC",ogcVersion:"1.1.0"})};return(0,Y.hk)(t.getState(),o)?y().Observable.of(u(),(0,A.gT)(n,o)):y().Observable.of((0,A.gT)(n,o)).merge(e.ofType(A.u7).filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).typeName===o})).map(u))}(e,t,o))}))},ie=function(e){return e.ofType(A.DR).switchMap((function(e){return y().Observable.of((0,j.uF)(e.id))}))},ae=function(e,t){return e.ofType(A.Yx).switchMap((function(){return y().Observable.of((0,j.oO)(0)).concat((0,x.eK)(t.getState())===j.EH.VIEW?y().Observable.of((0,j.nY)()):y().Observable.empty())}))},ue=function(e,t){return e.ofType(j.dY).switchMap((function(r){var n=r.sortBy,o=r.sortOrder;return y().Observable.of((0,A.IO)((0,Y.Bu)(t.getState()),J(K(K({},(0,Y.X1)(t.getState())),{},{sortOptions:{sortBy:n,sortOrder:o}}),$(t.getState())),(0,x.TC)(t.getState()))).merge(e.ofType(A.Hu).map((function(e){return(0,j.UB)((0,l.get)(e,"result.features",[]),[(0,l.get)(e,"filterObj.pagination.startIndex")])})).takeUntil(e.ofType(A.VT)).take(1))}))},ce=function(e,t){return e.ofType(j.$O).switchMap((function(){var r,n=null===(r=(0,x.Vf)(t.getState()))||void 0===r?void 0:r.size;return e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.value})).switchMap((function(){var r=!1;return e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.deactivated})).switchMap((function(e,n){return 0===n?(r=!0,y().Observable.from([(0,j.Jr)(1e5),(0,j.KD)([]),ne(t)(e)])):y().Observable.of(ne(t)(e))})).takeUntil(y().Observable.merge(e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(j.sF,g.nk))).merge(e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).take(1).switchMap((function(e){return r?y().Observable.of((0,j.Jr)(n),ne(t)(e)):y().Observable.of(ne(t)(e))})).takeUntil(e.ofType(j.sF,g.nk))).merge(e.ofType(j.sF,g.nk).take(1).switchMap((function(){var e,o=(0,j.a8)({attribute:null===(e=(0,_.findGeometryProperty)((0,Y.Qs)(t.getState())))||void 0===e?void 0:e.name,enabled:!1,type:"geometry"});return r?y().Observable.of((0,j.Jr)(n),o,(0,j.pP)(o)):y().Observable.of(o,(0,j.pP)(o))})))}))}))},le=function(e,t){return e.ofType(j.iB).switchMap((function(e){return y().Observable.of(ne(t)(e.updateFilterAction))}))},se=function(e,t){return e.ofType(A.Yx).switchMap((function(){return e.ofType(j._u).filter((function(e){var t=e.update;return"geometry"!==(void 0===t?{}:t).type})).map(ne(t))}))},fe=function(e,t){return e.ofType(j.aO).filter((function(){return(0,x.eK)(t.getState())===j.EH.EDIT})).switchMap((function(){return((0,l.find)((0,x.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{}).value?y().Observable.empty():y().Observable.of((0,j.a8)({attribute:(0,_.findGeometryProperty)((0,Y.Qs)(t.getState())).name,enabled:!0,type:"geometry"}))}))},pe=function(e){return e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).switchMap((function(){return y().Observable.of((0,j.dq)())}))},de=function(e,t){return e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(D.TR).switchMap((function(e){var r=e.point,n=r.latlng,o=r.pixel,i=r.modifiers,a=i.ctrl,u=i.metaKey,c=(0,l.find)((0,x.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},s=(0,G.uy)(t.getState()),f=V.default.reproject([n.lng,n.lat],"EPSG:4326",s),p=z.default.getHook(z.default.GET_COORDINATES_FROM_PIXEL_HOOK),d=V.default.calculateCircleRadiusFromPixel(p,o,f,4);return c.deactivated?y().Observable.empty():y().Observable.of((0,j.dq)({multiselect:a||u}),(0,j.a8)(K(K({},c),{},{value:{attribute:c.attribute||(0,l.get)((0,Z.vE)(t.getState()),"attribute"),geometry:{center:[f.x,f.y],coordinates:V.default.calculateCircleCoordinates(f,d,12),extent:[f.x-d,f.y-d,f.x+d,f.y+d],projection:s,radius:d,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}}),a||u))})).takeUntil(y().Observable.merge(e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(g.nk)))}))},ye=function(e,t){return e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(C.fy).switchMap((function(e){var r=e.boxEndInfo,n=r.boxExtent,o=r.modifiers,i=o.ctrl,a=o.metaKey,u=V.default.getPolygonFromExtent(n),c=(0,G.uy)(t.getState()),s=(0,l.find)((0,x.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return s.deactivated?y().Observable.empty():y().Observable.of((0,j.dq)({multiselect:i||a}),(0,j.a8)(K(K({},s),{},{value:{geometry:K(K({},u.geometry),{},{projection:c}),attribute:s.attribute||(0,l.get)((0,Z.vE)(t.getState()),"attribute"),method:"Rectangle",operation:"INTERSECTS"}}),i||a))})).takeUntil(y().Observable.merge(e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled}))))}))},ge=function(e){return e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return y().Observable.of((0,C.ZR)("start"))}))},me=function(e){return y().Observable.merge(e.ofType(j._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(j.sF)).switchMap((function(){return y().Observable.of((0,C.ZR)("end"))}))},be=function(e,t){return e.ofType(A.Hu).filter((function(e){return"geometry"===e.reason})).switchMap((function(e){var r=e.result,n=(0,l.get)(r,"features"),o=(0,x.gz)(t.getState()),i=(0,l.find)((0,x.M0)(t.getState()),(function(e){return"geometry"===e.type}));return y().Observable.of((0,j.KD)(n.length>0&&i&&i.value?W(n):[],o))}))},Ee=function(e){return e.ofType(j.VV).flatMap((function(e){var t=e.activated;return y().Observable.of((0,j.YG)(t),(0,j.VH)(t))}))},ve=function(e,t){return e.ofType(j._9).flatMap((function(){var e=(0,l.find)((0,x.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,x.LB)(t.getState()),n=(0,x.b4)(t.getState());return y().Observable.of((0,j.a8)(K(K({},e),{},{type:"geometry",attribute:e.attribute||(0,l.get)((0,Z.vE)(t.getState()),"attribute"),deactivated:!(!r&&!n&&e.deactivated)})))}))},Oe=function(e,t){return y().Observable.merge(e.ofType(j.IN,S.DI,j.JB,j.K8),e.ofType(j.B8).filter((function(e){return!!e.deactivated}))).flatMap((function(){var e=(0,l.find)((0,x.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return e.deactivated?y().Observable.empty():y().Observable.of((0,j.a8)(K(K({},e),{},{type:"geometry",attribute:e.attribute||(0,l.get)((0,Z.vE)(t.getState()),"attribute"),deactivated:!0})))}))},he=function(e,t){return y().Observable.merge(e.ofType(j.AY,j.yi),e.ofType(j.B8).filter((function(e){return!e.deactivated}))).flatMap((function(){var e=(0,l.find)((0,x.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,x.LB)(t.getState()),n=(0,x.b4)(t.getState());return!e.deactivated||r||n?y().Observable.empty():y().Observable.of((0,j.a8)(K(K({},e),{},{type:"geometry",attribute:e.attribute||(0,l.get)((0,Z.vE)(t.getState()),"attribute"),deactivated:!1})))}))},Te=function(e,t){return e.ofType(j.gG).merge(e.ofType(A.VN).debounceTime(500).map((function(e){return K(K({},e),{},{page:0})}))).switchMap((function(r){return function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,n=t.size,o=t.reason,i=e.getState();return y().Observable.of((0,A.IO)((0,Y.Bu)(i),J(K({},(0,Y.X1)(i)),$(i,{page:r,size:n})),(0,x.TC)(i),o))}}(t)(r).merge(e.ofType(A.Hu).map((function(e){var r=(0,l.get)(e,"result.features",[]),n=(0,x.gz)(t.getState()),o=(0,l.find)((0,x.M0)(t.getState()),(function(e){return"geometry"===e.type}));return n&&o.enabled&&(r=(0,x._w)(t.getState())),(0,j.UB)(r,[(0,l.get)(e,"filterObj.pagination.startIndex")])})).take(1).takeUntil(e.ofType(A.VT)))}))},we=function(e,t){return e.ofType(j.AY).switchMap((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.page,o=r.size;return y().Observable.of((0,A.IO)((0,Y.Bu)(t.getState()),J(K({},(0,Y.X1)(t.getState())),$(t.getState(),{page:n,size:o})),(0,x.TC)(t.getState())),(0,N.ct)((0,x.u$)(t.getState()))).merge(e.ofType(A.Hu).map((function(e){return y().Observable.of((0,j.$E)(),(0,j.UB)((0,l.get)(e,"result.features",[]),[(0,l.get)(e,"filterObj.pagination.startIndex")]))})).mergeAll().takeUntil(e.ofType(A.VT)).take(2))}))},Se=function(e){return e.ofType(j.AY,j.sF).switchMap((function(){return y().Observable.of((0,j.KD)([]))}))},Pe=function(e,t){return e.ofType(j.zh).switchMap((function(){return y().Observable.of((0,j.fO)()).concat(function(){var e=arguments.length>2?arguments[2]:void 0;return te(arguments.length>3?arguments[3]:void 0,ee(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R()(e)))}((0,x.ND)(t.getState()),(0,x.kG)(t.getState()),(0,Y.Qs)(t.getState()),(0,Y.Bu)(t.getState())).map((function(){return(0,j.gc)()})).catch((function(e){return y().Observable.of((0,j.cE)(),(0,L.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError",autoDismiss:5}))})))}))},Re=function(e,t){return e.ofType(j.Hk).switchMap((function(){return y().Observable.of((0,j.fO)()).concat((e=(0,x._w)(t.getState()),r=(0,Y.Qs)(t.getState()),n=(0,Y.Bu)(t.getState()),te(n,function(e,t){var r=t.transaction,n=t.deleteFeature;return r(e.map(n))}(e,R()(r)))).map((function(){return(0,j.gc)()})).catch((function(e){return y().Observable.of((0,j.cE)(),(0,L.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError"}))})).concat(y().Observable.of((0,j.Pv)("deleteConfirm"),(0,j.MO)())));var e,r,n}))},_e=function(e,t){return e.ofType(j.Ub).switchMap((function(){var e=t.getState(),r=(0,Y.Qs)(e),n=(0,h.cZ)(),o=(0,_.findGeometryProperty)(r).localType,i={featureProjection:n,stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},a=w()({},(0,x.P3)(e),{type:"Feature"}),u=(0,x.ND)(e);return u[a.id]&&u[a.id]&&u[a.id].geometry&&(a.geometry=u[a.id].geometry),y().Observable.of((0,S.Yf)("drawOrEdit",o,"featureGrid",[a],i))}))},Ie=function(e,t){return e.ofType(j._9).switchMap((function(){var e=t.getState(),r=(0,Y.Qs)(e),n=(0,h.cZ)(),o=(0,_.findGeometryProperty)(r).localType,i=w()({},(0,x.P3)(e),{type:"Feature"}),a=(0,x.ND)(e);a[i.id]&&(a[i.id].geometry||null===a[i.id].geometry)&&(i.geometry=a[i.id].geometry),i._new&&(i.geometry=(0,l.head)((0,x.kG)(e)).geometry);var u={featureProjection:n,stopAfterDrawing:!0,editEnabled:!(0,x.Ae)(e),drawEnabled:(0,x.Ae)(e)};return y().Observable.of((0,S.Yf)("drawOrEdit",o,"featureGrid",[i],u))}))},Ae=function(e,t){return e.ofType(j.$O).switchMap((function(){return e.ofType(j.aO).filter((function(){return(0,x.eK)(t.getState())===j.EH.EDIT})).take(1).switchMap((function(){return e.ofType(g.nk,j.sF).take(1).switchMap((function(){return y().Observable.of((0,S.bp)())}))}))}))},Fe=function(e,t){return e.ofType(j.$O).switchMap((function(){var e=[(0,M.Xg)("metadataexplorer","enabled",!1),(0,M.Xg)("annotations","enabled",!1),(0,M.Xg)("details","enabled",!1)];return(0,k.Iz)(t.getState())&&e.push((0,M.Xg)("measure","enabled",!1)),y().Observable.from(e)}))},De=function(e,t){return e.ofType(S.DI).filter((function(e){return"featureGrid"===e.owner})).switchMap((function(e){var r=t.getState(),n={featureProjection:(0,h.cZ)(),stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},o=e.features.map((function(e,t){return w()({},e,{id:(0,x._w)(r)[t].id,_new:(0,x._w)(r)[t]._new,type:"Feature"})})),i=w()({},(0,l.head)(e.features),{id:(0,x.P3)(r).id,_new:(0,x.P3)(r)._new,type:"Feature"}),a="enterEditMode"===e.enableEdit?y().Observable.of((0,S.Yf)("drawOrEdit",i.geometry.type,"featureGrid",o,n)):y().Observable.empty();return y().Observable.of((0,j.Vw)(o)).concat(a)}))},Ce=function(e,t){return e.ofType(j.JB).switchMap((function(){var e=t.getState();return y().Observable.from([(0,j.F5)((0,x._w)(e)),(0,S.bp)()])}))},Ge=function(e,t){return e.ofType(j.Oj,j.jp,j.yi,j.aO).filter((function(){return(0,x.eK)(t.getState())===j.EH.EDIT&&(0,x.bq)(t.getState())})).switchMap((function(e){return r=t.getState(),n=e.type===j.yi,o=(0,h.cZ)(),i=(0,_.findGeometryProperty)((0,Y.Qs)(r)).localType,a={featureProjection:o,stopAfterDrawing:z.default.isSimpleGeomType(i),editEnabled:!0,drawEnabled:!1},(u=(0,x._w)(r).map((function(e){var t=w()({},e,{type:"Feature"});if(!(0,l.isEmpty)(t)){var o=(0,x.ND)(r);if(o[t.id]&&(o[t.id].geometry||null===o[t.id].geometry)&&(t.geometry=o[t.id].geometry),t._new&&!t.geometry){var i=(0,l.find)((0,x.kG)(r),{id:t.id});i&&i.geometry&&(t.geometry=i.geometry)}n&&(t.geometry=(0,Y.dc)(r,t.id)?(0,Y.dc)(r,t.id).geometry:null)}return t})).filter((function(e){return null!==e.geometry||"empty_row"!==e.id}))).length>0?y().Observable.from([(0,S.Yf)("drawOrEdit",i,"featureGrid",u,a)]):y().Observable.from([(0,S.Yf)("clean","","featureGrid",[],{})]);var r,n,o,i,a,u}))},Ne=function(e){return e.ofType(j.IN).switchMap((function(){return y().Observable.of((0,S.bp)())}))},je=function(e,t){return e.ofType(j.aO).switchMap((function(e){return e.mode===j.EH.VIEW?y().Observable.of((0,S.bp)(),(0,U.WP)("featuregrid.select")):e.mode!==j.EH.EDIT||(0,x.bq)(t.getState())?y().Observable.of((0,U.WP)()):y().Observable.of((0,S.bp)(),(0,U.WP)("featuregrid.select"),(0,L.Kp)({title:"featuregrid.notSupportedGeometryTitle",message:"featuregrid.notSupportedGeometry",uid:"notSupportedGeometryWarning",autoDismiss:5}))}))},Me=function(e){return e.ofType(j.$O).switchMap((function(){return e.ofType(g.nk).take(1).switchMap((function(){return y().Observable.of((0,j.nY)(),(0,j.YV)())})).takeUntil(e.ofType(j.sF))}))},ke=function(e,t){return e.ofType(g.nk).switchMap((function(){return(0,k._d)(t.getState())?y().Observable.of((0,M.Xg)("queryPanel","enabled",!1)):y().Observable.empty()}))},Ue=function(e,t){return e.ofType(j.$O).switchMap((function(){return e.ofType(M.kM).filter((function(e){return e.control&&"drawer"===e.control&&(0,x.Rd)(t.getState())})).switchMap((function(){return y().Observable.of((0,j.YV)(),(0,j.KD)([]))})).takeUntil(e.ofType(g.nk))}))},xe=function(e,t){return e.ofType(j.bZ).switchMap((function(){var e=t.getState();return(0,x.LB)(e)||(0,x.b4)(e)?y().Observable.of((0,j.Pv)("featureCloseConfirm",!0)):y().Observable.of((0,j.YV)())}))},Le=function(e){return e.ofType(j.Gk).switchMap((function(){return y().Observable.of((0,j.$E)(),(0,j.Pv)("clearConfirm",!1))}))},Ye=function(e){return e.ofType(j.vO).switchMap((function(){return y().Observable.of((0,M.Xg)("drawer","enabled",!1),(0,j.Pv)("featureCloseConfirm",!1))}))},Be=function(e,t){return e.ofType(j.$O).exhaustMap((function(){return e.ofType(j.sF).delay(50).filter((function(){return(0,Y.M7)(t.getState())})).switchMap((function(){return y().Observable.of(re(t.getState()))})).takeUntil(e.ofType(g.nk,I.xy,j.VM))}))},Ze=function(e){return e.ofType(j.$O).switchMap((function(){return y().Observable.race(e.ofType(I.xy).take(1),e.ofType(j.sF).take(1)).exhaustMap((function(t){return t.type===j.sF?y().Observable.empty():e.ofType(I.F9).switchMap((function(){return y().Observable.of((0,j.t9)())}))})).takeUntil(e.ofType(g.nk,M.kM).filter((function(e){return e.type===g.nk||e.control&&"drawer"===e.control})).merge(e.ofType(j.sF).withLatestFrom(e.ofType(I.xy,I.F9).scan((function(e,t){switch(t.type){case I.xy:return!1;case I.F9:return!0;default:return!1}}),!0).startWith(!0),(function(e,t){return t})).filter((function(e){return e}))))}))},He=function(e,t){return e.ofType(j.VM).switchMap((function(){return y().Observable.of((0,j.KD)([]),(0,F.F)((0,l.get)(t.getState(),'featuregrid.advancedFilters["'.concat((0,x.u$)(t.getState()),'"]'))),(0,j.YV)(),(0,M.Xg)("queryPanel","enabled",!0)).merge(y().Observable.race(e.ofType(F.Wm).mergeMap((function(e){return y().Observable.of((0,A.rP)(e.searchUrl,e.filterObj),(0,j.Uh)(w()({},(0,Z.gC)(t.getState()),e.filterObj)),(0,M.Xg)("queryPanel","enabled",!1),(0,j.t9)())})),e.ofType(M.kM).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"queryPanel"===t&&(!r||"enabled"===r)})).mergeMap((function(){var e="clean"!==(t.getState().draw||{}).drawStatus?[(0,S.Yf)("clean","","featureGrid",[],{})]:[];return y().Observable.from(e.concat((0,j.t9)()))}))).takeUntil(e.ofType(j.$O,g.nk)))}))},Ve=function(e,t){return e.ofType(j.a3).filter((function(){return!(0,l.get)(t.getState(),"featuregird.virtualScroll",!1)})).switchMap((function(){return y().Observable.of((0,D.Px)(v()((0,Y.F0)(t.getState())),"EPSG:4326"))}))},ze=function(e){return e.ofType(j.aO).filter((function(e){return e.mode===j.EH.EDIT})).map((function(){return(0,M.fV)(["query"])}))},We=function(e){return e.ofType(j.$O).switchMap((function(){return y().Observable.of((0,I.Mc)())}))},qe=function(e,t){return e.ofType(A._T).filter((function(){return(0,Y.M7)(t.getState())})).mapTo((0,j.hB)())},Qe=function(e,t){return e.ofType(A._T).filter((function(){return!(0,Y.M7)(t.getState())})).switchMap((function(){return y().Observable.from([re(t.getState()),{type:j.Hg}])}))},Ke=function(e,t){return e.ofType(j.sF).filter((function(){return(0,Y.M7)(t.getState())})).switchMap((function(){return y().Observable.of((0,A.XO)())}))},Xe=function(e,t){return e.ofType(A.Yx,A.VN).filter((function(e){var r=t.getState().featuregrid.disableQuickFilterSync;return e.type===A.Yx||!r})).switchMap((function(){var r=t.getState(),n=r.query,o=(r.featuregrid||{}).selectedLayer,i=(n||{}).filterObj;return y().Observable.merge(y().Observable.of((0,Y.M7)(t.getState())).filter((function(e){return e})),e.ofType(j.Yd)).mergeMap((function(){return y().Observable.of(function(e,t){return(0,N.He)(e,{filterObj:t})}(o,i))}))}))},$e=function(e,t){var r=t.getState;return e.ofType(j.ye).filter((function(){return!(0,Y.gy)(r())})).switchMap((function(t){var n=r(),o=t.pages,i=o.startPage,a=o.endPage,u=n.featuregrid,c=u.pages,s=u.pagination,f=(0,l.get)(s,"size"),p=(0,h.gP)(i,a,c,f),d=p[1]-p[0]+1;return y().Observable.of((0,A.IO)((0,Y.Bu)(n),J(K({},(0,Y.X1)(n)),{startIndex:p[0]*f,maxFeatures:d*f}),(0,x.TC)(n))).filter((function(){return p.length>0})).merge(e.ofType(A.Hu).filter((function(){return p.length>0})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result,n=void 0===t?{}:t,o=e.filterObj,u=r().featuregrid,s=u.features,p=u.maxStoredPages,d=(0,l.get)(o,"pagination.startIndex"),y=(0,h.f1)(n,{endPage:a,startPage:i},{pages:c,features:s||[]},{size:f,startIndex:d,maxStoredPages:p}),g=y.pages,m=y.features;return(0,j.UB)(m,g)})).take(1).takeUntil(e.ofType(A.VT))).merge(e.ofType(A.yz).filter((function(){return p.length>0})).filter((function(e){return!e.isLoading})).withLatestFrom(e.ofType(j.ye)).map((function(e){return e[1]})).take(1).takeUntil(e.ofType(A.VT)))}))},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(N.Zz).filter((function(e){var t=e.layer,r=void 0===t?[]:t,o=e.params,i=void 0===o?{}:o;return(0,l.includes)((0,l.castArray)(r),(0,x.u$)(n()))&&(0,l.includes)(Object.keys(i),"time")&&(0,x.DK)(n())})).merge(e.ofType(j.d)).filter((function(){return(0,x.Rd)(n())})).withLatestFrom(e.ofType(A.Qq),(function(e,t){return t})).switchMap((function(e){return y().Observable.of((0,A.rP)(e.searchUrl,e.filterObj))}))},et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(M.kM).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"drawer"===t&&r().browser&&r().browser.mobile&&(0,k.BP)(r())})).switchMap((function(){return y().Observable.of((0,I.aN)(),(0,j.t9)())}))},tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(I.xy).filter((function(){return r().browser&&r().browser.mobile&&(0,k.BP)(r())})).mapTo((0,M.Xi)("drawer","enabled"))},rt=r(55877),nt=r.n(rt);function ot(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return it(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lt={advancedFilters:{},filters:{},editingAllowedRoles:["ADMIN"],enableColumnFilters:!0,showFilteredObject:!1,timeSync:!1,showTimeSync:!1,open:!1,canEdit:!1,focusOnEdit:!1,showAgain:!1,showPopoverSync:!localStorage||null===localStorage.getItem("showPopoverSync")||"true"===localStorage.getItem("showPopoverSync"),mode:j.EH.VIEW,changes:[],pagination:{page:0,size:20},select:[],multiselect:!1,drawing:!1,newFeatures:[],features:[],dockSize:.35,customEditorsOptions:{rules:[]}},st=function(e,t){return t===e||void 0!==e.id&&null!==e.id&&e.id===t.id},ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){return st(e,t)})).length>0},pt=function(e,t,r,n){return e.map((function(e){return ft(e,t)?function(e,t,r){return ut(ut({},e),{},r?{properties:ut(ut({},e.properties),t),geometry:r.geometry}:{properties:ut(ut({},e.properties),t)})}(e,r,n):e}))};var dt=r(93358),yt=r(1262),gt=r(99534),mt=r(5346),bt=r(30029),Et=r(18027),vt=r(30294),Ot=r(72986),ht=r.n(Ot),Tt=r(38560);r(49548);var wt=r(15135),St=r(59979);function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _t=(0,s.compose)((0,s.withProps)((function(e){var t=e.renderPopover,r=e.popoverOptions;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){Rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(t?{renderPopover:t,popoverOptions:r}:{},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["renderPopover","popoverOptions"]))})),(0,s.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.renderPopover,r=e.popoverOptions;return t&&!!r}),St.Z,wt.Z));function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var At={width:0,padding:0,borderWidth:0},Ft={},Dt=function(e){return e?Ft:At},Ct=_t((0,o.forwardRef)((function(e,t){var r=e.disabled,n=e.id,o=e.visible,a=e.onClick,u=e.glyph,c=e.active,l=e.className,s=void 0===l?"square-button":l,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["disabled","id","visible","onClick","glyph","active","className"]);return i().createElement(Tt.Z,It({ref:t},f,{bsStyle:c?"success":"primary",disabled:r,id:"fg-".concat(n),style:Dt(o),className:s,onClick:function(){return!r&&a()}}),i().createElement(vt.Glyphicon,{glyph:u}))}))),Gt=function(e,t){return e?"featuregrid.toolbar.stopDrawGeom":t?"featuregrid.toolbar.drawGeom":"featuregrid.toolbar.addGeom"},Nt=function(e){var t=e.saving,r=e.saved;return t||r?"featuregrid.toolbar.saving":"featuregrid.toolbar.saveChanges"},jt=r(55105),Mt=r(93152);const kt={onGridSort:function(e,t){return(0,j.DY)(e,t)},onAddFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,j.a8)(e)},onTemporaryChanges:function(e){return(0,j.aT)(e)},onGridRowsUpdated:function(e,t){var r,n,o=e.fromRow,i=e.toRow,a=e.updated,u=(r=o,n=i,Array.from({length:n+1-r},(function(e,t){return t+r}))).map((function(e){return t(e)})).filter((function(e){return Object.keys(a||{}).filter((function(t){return e.properties[t]!==a[t]})).length>0}));return(0,j.nG)(u,a)},onRowsToggled:function(e,t){return(0,j.KD)(e.map((function(e){return t(e.rowIdx)})),!1)},onRowsSelected:function(e,t){return(0,j.KD)(e.map((function(e){return t(e.rowIdx)})),!0)},onRowsDeselected:function(e,t){return(0,j.gr)(e.map((function(e){return t(e.rowIdx)})))}};var Ut=r(50966);const xt=[{name:"",key:"geometry",width:35,frozen:!0,events:{onClick:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.crs,i=n.maxZoom;return e.geometry?(0,D.Px)(v()(e),o||"EPSG:4326",i):{type:"NONE"}}},formatter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value;return t?i().createElement(vt.Glyphicon,{glyph:"zoom-to"}):i().createElement(Ut.Z,{placement:"top",overlay:i().createElement(vt.Tooltip,{id:"fe-save-features"},i().createElement(mt.Z,{msgId:"featuregrid.missingGeometry"}))},i().createElement(vt.Glyphicon,{glyph:"exclamation-mark"}))}}],Lt={onPageChange:function(e,t){return(0,j.oO)(e,t)},moreFeatures:j.zd};var Yt=r(57579);const Bt={createFeature:function(){return(0,j.lx)([{}])},saveChanges:function(){return(0,j.$S)()},clearFeatureEditing:function(){return(0,j.Pv)("clearConfirm",!0)},deleteGeometry:function(){return(0,j.pX)()},deleteFeatures:function(){return(0,j.Pv)("deleteConfirm",!0)},download:function(){return(0,M.Xi)("layerdownload")},settings:function(){return(0,j.Pv)("settings")},switchEditMode:function(){return(0,j.lg)()},startEditingFeature:function(){return(0,j.sY)()},startDrawingFeature:function(){return(0,j.kA)()},switchViewMode:function(){return(0,j.nY)()},onClose:function(){return(0,j.JK)()},showQueryPanel:function(){return(0,j.MY)()},zoomAll:function(){return(0,j.ve)()},sync:function(){return(0,A.XO)()},setTimeSync:j.Yb,hideSyncPopover:function(){return(0,j.Pl)()},toggleShowAgain:function(){return(0,j.Ib)()},chart:function(){return(0,Yt.C2)()}};var Zt=kt,Ht=xt,Vt=Lt,zt=Bt;const Wt=(0,a.connect)((function(e){return{attributes:(0,x.o)(e)}}),{onChange:function(e,t){return(0,j.an)(e,"hide",t)}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.titleMsg,o=void 0===n?"featuregrid.columns":n,a=e.onChange,u=void 0===a?function(){}:a,c=e.attributes,l=void 0===c?[]:c;return i().createElement("div",{className:"bg-body data-attribute-selector",style:r},i().createElement("h4",{className:"text-center"},i().createElement("strong",null,i().createElement(mt.Z,{msgId:o}))),i().createElement("div",null,l.map((function(e){return i().createElement(vt.Checkbox,{key:e.attribute||e.name,checked:!e.hide,onChange:function(){return u(e.attribute,!e.hide)}},e.label||e.attribute)}))))}));function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $t=(0,a.connect)((0,u.zB)({loading:Y.gy}))(bt.Z),Jt=(0,a.connect)((0,u.zB)({saving:x.uz,saved:x.Ci,mode:x.eK,hasChanges:x.LB,hasNewFeatures:x.b4,hasGeometry:x.OK,syncPopover:function(e){return{showAgain:(0,x.tU)(e),showPopoverSync:(0,x.Gl)(e),dockSize:(0,jt.ic)(e,{dockSize:!0}).dockSize+3.2+"%"}},isDrawing:x.Ae,showChartButton:function(e){return!(0,x.PI)(e)&&(0,k.PJ)(e)},isSimpleGeom:x.He,selectedCount:x.jY,disableToolbar:function(e){return e&&e.featuregrid&&e.featuregrid.disableToolbar||!(0,Y.hk)(e,(0,x.kd)(e))},displayDownload:k.pn,disableDownload:function(e){return 0===((0,Y.Mz)(e)||[]).length},isDownloadOpen:function(e){return e&&e.controls&&e.controls.layerdownload&&e.controls.layerdownload.enabled},isSyncActive:Y.M7,isColumnsOpen:function(e){return e&&e.featuregrid&&e.featuregrid.tools&&e.featuregrid.tools.settings},disableZoomAll:function(e){return e&&e.featuregrid.virtualScroll||0===(0,Y.F0)(e).features.length},isSearchAllowed:function(e){return!(0,Mt.c0)(e)},isEditingAllowed:x.nq,hasSupportedGeometry:x.bq,isFilterActive:Y.VD,showTimeSyncButton:x.ou,timeSync:x.DK}),(function(e){return{events:(0,c.DE)(zt,e)}}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableToolbar,r=e.disableDownload,n=e.disableZoomAll,o=void 0!==n&&n,a=e.displayDownload,u=e.events,c=void 0===u?{}:u,l=e.hasChanges,s=e.hasGeometry,f=e.hasNewFeatures,p=e.hasSupportedGeometry,d=void 0===p||p,y=e.isColumnsOpen,g=e.isDrawing,m=void 0!==g&&g,b=e.isEditingAllowed,E=e.isFilterActive,v=void 0!==E&&E,O=e.isDownloadOpen,h=e.isSearchAllowed,T=e.isSimpleGeom,w=e.isSyncActive,S=void 0!==w&&w,P=e.saved,R=void 0!==P&&P,_=e.saving,I=void 0!==_&&_,A=e.selectedCount,F=e.showAdvancedFilterButton,D=void 0===F||F,C=e.showChartButton,G=void 0===C||C,N=e.showSyncOnMapButton,j=void 0===N||N,M=e.showTimeSyncButton,k=void 0!==M&&M,U=e.syncPopover,x=void 0===U?{showPopoverSync:!0,dockSize:"32.2%"}:U,L=e.mode,Y=void 0===L?"VIEW":L,B=e.timeSync,Z=void 0!==B&&B;return i().createElement(vt.ButtonGroup,{id:"featuregrid-toolbar",className:"featuregrid-toolbar featuregrid-toolbar-margin"},i().createElement(Ct,{id:"edit-mode",keyProp:"edit-mode",tooltipId:"featuregrid.toolbar.editMode",disabled:t,visible:"VIEW"===Y&&b,onClick:c.switchEditMode,glyph:"pencil"}),i().createElement(Ct,{id:"search",keyProp:"search",tooltipId:"featuregrid.toolbar.advancedFilter",active:v,disabled:t||!h,visible:"VIEW"===Y&&D,onClick:c.showQueryPanel,glyph:"filter"}),i().createElement(Ct,{id:"zoom-all",keyProp:"zoom-all",tooltipId:"featuregrid.toolbar.zoomAll",disabled:t||o,visible:"VIEW"===Y,onClick:c.zoomAll,glyph:"zoom-to"}),i().createElement(Ct,{id:"back-view",keyProp:"back-view",tooltipId:"featuregrid.toolbar.quitEditMode",disabled:t,visible:"EDIT"===Y&&!l&&!f,onClick:c.switchViewMode,glyph:"arrow-left"}),i().createElement(Ct,{id:"add-feature",keyProp:"add-feature",tooltipId:"featuregrid.toolbar.addNewFeatures",disabled:t,visible:"EDIT"===Y&&!f&&!l&&d,onClick:c.createFeature,glyph:"row-add"}),i().createElement(Ct,{id:"draw-feature",keyProp:"draw-feature",tooltipId:Gt(m,T),disabled:t,visible:"EDIT"===Y&&1===A&&(!s||s&&!T)&&d,onClick:c.startDrawingFeature,active:m,glyph:"pencil-add"}),i().createElement(Ct,{id:"remove-features",keyProp:"remove-features",tooltipId:"featuregrid.toolbar.deleteSelectedFeatures",disabled:t,visible:"EDIT"===Y&&A>0&&!l&&!f,onClick:c.deleteFeatures,glyph:"trash-square"}),i().createElement(Ct,{id:"save-feature",keyProp:"save-feature",tooltipId:Nt({saving:I,saved:R}),disabled:I||R||t,visible:"EDIT"===Y&&l||f,active:R,onClick:c.saveChanges,glyph:"floppy-disk"}),i().createElement(Ct,{id:"cancel-editing",keyProp:"cancel-editing",tooltipId:"featuregrid.toolbar.cancelChanges",disabled:t,visible:"EDIT"===Y&&l||f,onClick:c.clearFeatureEditing,glyph:"remove-square"}),i().createElement(Ct,{id:"delete-geometry",keyProp:"delete-geometry",tooltipId:"featuregrid.toolbar.deleteGeometry",disabled:t,visible:"EDIT"===Y&&s&&1===A&&d,onClick:c.deleteGeometry,glyph:"polygon-trash"}),i().createElement(Ct,{id:"download-grid",keyProp:"download-grid",tooltipId:"featuregrid.toolbar.downloadGridData",disabled:t||r,active:O,visible:a&&"VIEW"===Y,onClick:c.download,glyph:"download"}),i().createElement(Ct,{id:"grid-settings",keyProp:"grid-settings",tooltipId:"featuregrid.toolbar.hideShowColumns",disabled:t,active:y,visible:A<=1&&"VIEW"===Y,onClick:c.settings,glyph:"features-grid-set"}),i().createElement(Ct,{id:"grid-map-chart",keyProp:"grid-map-chart",tooltipId:"featuregrid.toolbar.createNewChart",disabled:t,visible:"VIEW"===Y&&G,onClick:c.chart,glyph:"stats"}),i().createElement(Ct,{id:"grid-map-filter",keyProp:"grid-map-filter",tooltipId:"featuregrid.toolbar.syncOnMap",disabled:t,active:S,visible:j,onClick:c.sync,glyph:"map-filter",renderPopover:x.showPopoverSync,popoverOptions:!t&&{placement:"top",content:i().createElement("span",null,i().createElement("p",null,i().createElement(mt.Z,{msgId:"featuregrid.toolbar.synchPopoverText"})),i().createElement("p",null,i().createElement(vt.Checkbox,{checked:x.showAgain,onClick:c.toggleShowAgain},i().createElement(mt.Z,{msgId:"featuregrid.toolbar.notShowAgain"})))),props:{id:"sync-popover",title:i().createElement("div",null,i().createElement(mt.Z,{msgId:"featuregrid.toolbar.synchPopoverTitle"}),i().createElement("button",{onClick:function(){x.showAgain&&localStorage.setItem("showPopoverSync",!1),c.hideSyncPopover()},className:"close"},i().createElement(vt.Glyphicon,{className:"pull-right",glyph:"1-close"}))),style:{bottom:x.dockSize}}}}),i().createElement(Ct,{id:"timeSync-button",keyProp:"fg-timeSync-button",tooltipId:Z?"featuregrid.toolbar.disableTimeSync":"featuregrid.toolbar.enableTimeSync",visible:k,active:Z,onClick:function(){return c.setTimeSync&&c.setTimeSync(!Z)},glyph:"time"}))})),er=(0,a.connect)((0,u.P1)(x.Sj,(function(e){return{title:e}})),{onClose:zt.onClose})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onDownloadToggle:function(){}};return i().createElement(vt.Grid,{className:"bg-body data-grid-top-toolbar",fluid:!0,style:{width:"100%"}},i().createElement(vt.Row,{className:"flex-center"},i().createElement(vt.Col,{xs:4},e.children),i().createElement(vt.Col,{xs:4},i().createElement("div",{className:"text-center text-primary"},i().createElement("strong",null,e.title))),i().createElement(vt.Col,{xs:4},i().createElement(Tt.Z,{onClick:e.onClose,style:{float:"right"},className:"square-button no-border featuregrid-top-toolbar-margin"},i().createElement(vt.Glyphicon,{glyph:"1-close"})))))})),tr=(0,a.connect)((0,u.P1)((0,u.zB)(Y.b0),Y.gy,(function(e){return e&&e.featuregrid&&!!e.featuregrid.virtualScroll}),x.jY,(function(e,t,r,n){return Kt(Kt({},e),{},{selected:n,loading:t,virtualScroll:r})})),Vt)((function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,onPageChange:function(){}},n=(0,h.DR)(r),o=n.page,a=void 0===o?0:o,u=n.size,c=void 0===u?0:u,l=n.resultSize,s=void 0===l?0:l,f=n.maxPages,p=void 0===f?0:f,d=n.total,y=void 0===d?0:d;return i().createElement(vt.Grid,{className:"bg-body data-grid-bottom-toolbar",fluid:!0,style:{width:"100%"}},i().createElement(vt.Row,{className:"featuregrid-toolbar-margin"},i().createElement(vt.Col,{md:3},i().createElement("span",null,i().createElement(mt.Z,{msgId:r.virtualScroll?"featuregrid.resultInfoVirtual":"featuregrid.resultInfo",msgParams:{start:a*c+1,end:a*c+s,total:y,selected:null!==(e=r.selected)&&void 0!==e?e:0}})),"Â ",r.selected>0?i().createElement("span",null,i().createElement(mt.Z,{msgId:"featuregrid.selectedInfo",msgParams:{selected:null!==(t=r.selected)&&void 0!==t?t:0}})):null),r.virtualScroll?null:i().createElement(vt.Col,{className:"text-center",md:6},i().createElement(Tt.Z,{key:"first-page",onClick:function(){return r.onPageChange(0)},disabled:0===a,className:"no-border first-page"},i().createElement(vt.Glyphicon,{glyph:"step-backward"})),i().createElement(Tt.Z,{key:"prev-page",onClick:function(){return r.onPageChange(a-1)},disabled:0===a,className:"no-border prev-page"},i().createElement(vt.Glyphicon,{glyph:"chevron-left"})),i().createElement("span",{key:"page-info"},i().createElement(mt.Z,{msgId:"featuregrid.pageInfo",msgParams:{page:a+1,totalPages:p+1}})),i().createElement(Tt.Z,{key:"next-page",onClick:function(){return r.onPageChange(a+1)},className:"no-border next-page",disabled:a>=p},i().createElement(vt.Glyphicon,{glyph:"chevron-right"})),i().createElement(Tt.Z,{key:"last-page",onClick:function(){return r.onPageChange(p)},className:"no-border last-page",disabled:a>=p},i().createElement(vt.Glyphicon,{glyph:"step-forward"})))," ",i().createElement(vt.Col,{md:3},r.loading?i().createElement("span",{style:{float:"right"}},i().createElement(mt.Z,{msgId:"loading"}),i().createElement(ht(),{spinnerName:"circle",style:{float:"right"},noFadeIn:!0})):null)))})),rr=(0,a.connect)((0,u.P1)(x.jY,(function(e){return{count:e}})),{onClose:function(){return(0,j.Pv)("deleteConfirm",!1)},onConfirm:function(){return(0,j.Uz)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.count,u=e.onConfirm,c=void 0===u?function(){}:u;return i().createElement(gt.Z,null,i().createElement(yt.Z,{show:!0,onClose:r,onConfirm:c,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(mt.Z,{msgId:"featuregrid.deleteButton"}),confirmButtonDisabled:o},i().createElement(mt.Z,{msgId:"featuregrid.delete",msgParams:{count:a}})))})),nr=(0,a.connect)((0,u.P1)(x.jY,(function(e){return{count:e}})),{onClose:function(){return(0,j.Pv)("clearConfirm",!1)},onConfirm:function(){return(0,j.oL)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.onConfirm,u=void 0===a?function(){}:a;return i().createElement(gt.Z,null,i().createElement(yt.Z,{draggable:!1,show:!0,onClose:r,onConfirm:u,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(mt.Z,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:o,closeText:i().createElement(mt.Z,{msgId:"featuregrid.noButton"})},i().createElement(mt.Z,{msgId:"featuregrid.clear"})))})),or=(0,a.connect)((function(){}),{onClose:function(){return(0,j.Ap)()},onConfirm:function(){return(0,j.YV)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.onConfirm,u=void 0===a?function(){}:a;return i().createElement(gt.Z,null,i().createElement(yt.Z,{show:!0,onClose:r,onConfirm:u,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(mt.Z,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:o,closeText:i().createElement(mt.Z,{msgId:"featuregrid.noButton"})},i().createElement(mt.Z,{msgId:"featuregrid.featureClose"})))})),ir={settings:Wt},ar={deleteConfirm:rr,featureCloseConfirm:or,clearConfirm:nr},ur={settings:{style:{padding:"0 12px",overflow:"auto",flex:"0 0 14em",boxShadow:"inset 0px 0px 10px rgba(0, 0, 0, 0.4)",height:"100%",minWidth:195}}},cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&ir[t]})).map((function(e){var t=ir[e];return i().createElement(t,qt({key:e},ur[e]||{}))}))},lr=function(){return i().createElement(er,null,i().createElement(Jt,null))},sr=function(e){return e.focusOnEdit&&e.hasChanges||e.newFeatures.length>0?null:i().createElement(tr,null)},fr=function(){return $t},pr=(0,u.P1)((function(e){return e}),(function(e){return e?((0,_.getFeatureTypeProperties)(e)||[]).reduce((function(e,t){return Kt(Kt({},e),{},Xt({},t.name,(0,a.connect)((0,u.P1)((function(e){return(0,x.g5)(e,t.name)}),x.eK,(function(e,r){var n=Kt({value:e&&(e.rawValue||e.value)},(0,_.isGeometryType)(t)?{filterEnabled:null==e?void 0:e.enabled,filterDeactivated:null==e?void 0:e.deactivated}:{}),o=(0,_.isGeometryType)(t)?{}:{disabled:!0,tooltipMsgId:"featuregrid.filter.tooltips.editMode"};return"EDIT"===r?Kt(Kt({},n),o):n})))((0,Et.Q)((0,_.isGeometryType)(t)?"geometry":t.localType,{name:t.name}))))}),{}):{}})),dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&ar[t]})).map((function(e){var t=ar[e];return i().createElement(t,{key:e})}))},yr=r(65539),gr=r(96259);function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){Er(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Er(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Or=[],hr={},Tr=(0,a.connect)((0,u.P1)(x.P4,(function(e){return(0,jt.ic)(e,{transform:!0})}),(function(e,t){return{size:e,dockStyle:t}})))(f.default),wr=(0,u.P1)((function(e){return(0,l.get)(e,"featuregrid.open")}),(function(e){return(0,l.get)(e,"featuregrid.customEditorsOptions")}),(function(e){return(0,l.get)(e,"queryform.autocompleteEnabled")}),(function(e){return(0,Y.UM)(e)}),(function(e){return(0,Y.HY)(e)}),(function(e){return(0,l.get)(e,"featuregrid.features")||Or}),Y.Qs,(function(e){return(0,l.get)(e,"featuregrid.attributes")}),(function(e){return(0,l.get)(e,"featuregrid.tools")}),x._w,x.eK,x.eO,x.kG,x.LB,(function(e){return(0,l.get)(e,"featuregrid.focusOnEdit",!1)}),(function(e){return(0,l.get)(e,"featuregrid.enableColumnFilters")}),(0,u.zB)(Y.b0),(function(e){return(0,l.get)(e,"featuregrid.pages")}),(function(e){return(0,l.get)(e,"featuregrid.pagination.size")}),(function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Or,a=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,s=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:Or,d=arguments.length>13?arguments[13]:void 0,y=arguments.length>14?arguments[14]:void 0,g=arguments.length>15?arguments[15]:void 0,m=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,E=arguments.length>18?arguments[18]:void 0;return{open:e,customEditorsOptions:t,autocompleteEnabled:r,url:n,typeName:o,hasChanges:d,newFeatures:p,features:i,describe:a,attributes:u,tools:c,select:l,mode:s,focusOnEdit:y,enableColumnFilters:g,changes:(0,h.rK)(f),pagination:m,pages:b,size:E}})),Sr=(0,s.compose)((0,a.connect)(wr,(function(e){return{onMount:(0,c.DE)(j.Z_,e),gridEvents:(0,c.DE)(Zt,e),pageEvents:(0,c.DE)(Vt,e),initPlugin:(0,c.DE)((function(e){return(0,j.QT)(e)}),e),toolbarEvents:(0,c.DE)(zt,e),gridTools:Ht.map((function(t){return br(br({},t),{},{events:(0,c.DE)(t.events,e)})})),onSizeChange:function(){return e(j.Ox.apply(void 0,arguments))}}})),(0,s.lifecycle)({componentDidMount:function(){this.props.onMount((0,l.pick)(this.props,["showFilteredObject","showTimeSync","timeSync"]))}}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tools:hr,dialogs:hr,select:Or},t=e.pluginCfg.maxZoom,r={dimMode:"none",defaultSize:.35,fluid:!0,isVisible:e.open,maxDockSize:.7,minDockSize:.1,position:"bottom",setDockSize:function(){},zIndex:1030};return i().createElement(Tr,vr({},r,{onSizeChange:function(t){e.onSizeChange(t,r)}}),e.open&&i().createElement(gr.Z,null,(function(r){var n=r.height;return i().createElement(yr.Z,{className:"feature-grid-container",key:"feature-grid-container",height:n-94,header:lr(),columns:cr(e.tools),footer:sr(e)},dr(e.tools),i().createElement(dt.Z,{editingAllowedRoles:e.editingAllowedRoles,initPlugin:e.initPlugin,customEditorsOptions:e.customEditorsOptions,autocompleteEnabled:e.autocompleteEnabled,url:e.url,typeName:e.typeName,filterRenderers:pr(e.describe),enableColumnFilters:e.enableColumnFilters,emptyRowsView:fr(),focusOnEdit:e.focusOnEdit,newFeatures:e.newFeatures,changes:e.changes,mode:e.mode,select:e.select,key:"feature-grid-container",columnSettings:e.attributes,gridEvents:e.gridEvents,pageEvents:e.pageEvents,describeFeatureType:e.describe,features:e.features,minHeight:600,tools:e.gridTools,pagination:e.pagination,pages:e.pages,virtualScroll:e.virtualScroll,maxStoredPages:e.maxStoredPages,vsOverScan:e.vsOverScan,scrollDebounce:e.scrollDebounce,size:e.size,actionOpts:{maxZoom:t}}))})))}));const Pr=(0,p.rx)("FeatureEditor",{component:Sr,epics:n,reducers:{featuregrid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.Xp:return w()({},e,{showPopoverSync:!localStorage||null===localStorage.getItem("showPopoverSync")||"true"===localStorage.getItem("showPopoverSync"),editingAllowedRoles:t.options.editingAllowedRoles||e.editingAllowedRoles||["ADMIN"],virtualScroll:!!t.options.virtualScroll,maxStoredPages:t.options.maxStoredPages||5});case j.ye:case j.gG:return w()({},e,{pagination:{page:void 0!==t.page?t.page:e.pagination.page,size:void 0!==t.size?t.size:e.pagination.size}});case j.fT:var r;return ut(ut({},e),{},{pagination:ut(ut({},null!==(r=e.pagination)&&void 0!==r?r:{}),{},{size:t.size})});case j.Oj:var n=t.features.filter((function(e){return"empty_row"!==e.id}));return e.multiselect&&t.append?w()({},e,{select:t.append?(0,l.uniqBy)([].concat(ot(e.select),ot(n)),"id"):n}):n&&e.select&&e.select[0]&&n[0]&&1===e.select.length&&st(n[0],e.select[0])?e:w()({},e,{select:n||[]});case j.v6:var o=e.select.filter((function(e){return!ft(e,t.features)})),i=t.features.filter((function(t){return!ft(t,e.select)})),a=o.concat(i||[]);return w()({},e,{select:a});case j.jp:return w()({},e,{select:e.select.filter((function(e){return!ft(e,t.features)}))});case j.DU:return w()({},e,{multiselect:t.multiselect});case j.r:return w()({},e,{customEditorsOptions:t.payload});case j.gJ:return w()({},e,t.options||{});case j.CM:return w()({},e,{select:[],changes:[]});case j.iQ:return w()({},e,{features:t.features});case j.dZ:return w()({},e,{dockSize:t.dockSize});case j.$:return w()({},e,{selectedLayer:t.id});case j.qw:return w()({},e,{tools:ut(ut({},e.tools),{},ct({},t.tool,void 0===t.value?!(e.tools&&e.tools[t.tool]):t.value))});case j.f$:return w()({},e,{attributes:ut(ut({},e.attributes),{},ct({},t.name,ut(ut({},e.attributes&&e.attributes[t.name]||{}),{},ct({},t.key,t.value||e.attributes&&e.attributes[t.name]&&!e.attributes[t.name][t.key]))))});case j.aO:return w()({},e,{showPopoverSync:localStorage&&null!==localStorage.getItem("showPopoverSync")?"true"===localStorage.getItem("showPopoverSync"):t.mode!==j.EH.EDIT,tools:t.mode===j.EH.EDIT?{}:e.tools,mode:t.mode,multiselect:t.mode===j.EH.EDIT,drawing:!1});case j.K8:var u=t.features.filter((function(e){return e._new}))||[];return w()({},e,{newFeatures:u.length>0?pt(e.newFeatures,u,t.updated,null):e.newFeatures,changes:[].concat(ot(e&&e.changes||[]),ot(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:t.updated}}))))});case j.AH:return w()({},e,{saving:!0,loading:!0});case j.AY:return w()({},e,{deleteConfirm:!1,saved:!0,saving:!1,drawing:!1,loading:!1});case j.yi:return w()({},e,{saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case j.IN:var c=nt().v1();return w()({},e,{newFeatures:t.features.map((function(e){return ut(ut({},e),{},{_new:!0,id:c,type:"Feature",geometry:null})})),select:t.features.map((function(e){return ut(ut({},e),{},{_new:!0,id:c,type:"Feature",geometry:null})}))});case j.SW:return w()({},e,{deleteConfirm:!1,saving:!1,loading:!1,drawing:!1});case j.DI:var s=t.features.filter((function(e){return e._new}))||[];return w()({},e,{newFeatures:s.length>0?pt(e.newFeatures,s,null,{geometry:ut({},(0,l.head)(s).geometry)}):e.newFeatures,changes:t.features.filter((function(e){return!e._new})).map((function(e,r){return{id:e.id,updated:{geometry:t.features[r].geometry}}})),drawing:!1});case j.oh:var f=t.features.filter((function(e){return e._new}))||[];return w()({},e,{newFeatures:f.length>0?pt(e.newFeatures,f,null,{geometry:null}):e.newFeatures,changes:[].concat(ot(e&&e.changes||[]),ot(t.features.filter((function(e){return!e._new})).map((function(e){return{id:e.id,updated:{geometry:null}}}))))});case A.u7:return w()({},e,{localType:(0,l.get)(t,"featureType.original.featureTypes[0].properties[1].localType")});case j._9:return w()({},e,{drawing:!e.drawing});case j.$O:return w()({},e,{open:!0});case j.sF:return w()({},e,{open:!1,pagination:{page:0,size:e.pagination.size},mode:j.EH.VIEW,tools:{},saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case j.MK:return w()({},e,{disableToolbar:t.disabled});case j.ut:return w()({},e,{canEdit:t.permission.canEdit});case S.hZ:return"clean"===t.status?w()({},e,{drawing:!1}):e;case j._u:var p=t.update||{},d=p.attribute;if(d&&t.append){var y=e.filters[d].value,g=[];null!=y&&y.attribute&&(g=[y]),(0,l.isArray)(y)&&(g=y);var m=[].concat(ot(g),[t.update.value]);return w()({},e,{filters:ct({},d,{attribute:d,enabled:!0,type:"geometry",operator:"OR",value:m})})}return d?w()({},e,{filters:ut(ut({},e.filters),{},ct({},d,t.update))}):e;case A.Yx:return w()({},e,{filters:{}});case j.DA:var b=t.dockProps&&t.dockProps.maxDockSize,E=t.dockProps&&t.dockProps.minDockSize,v=b&&E&&E<=t.size&&b>=t.size&&t.size||b&&b<t.size&&b||E&&E>t.size&&E||t.size;return w()({},e,{dockSize:v});case j.Lz:return w()({},e,{advancedFilters:w()({},e.advancedFilters,ct({},e.selectedLayer,t.filterObj))});case j.Jb:return w()({},e,{features:t.features||[],pages:t.pages||[]});case j.yA:return w()({},e,{showPopoverSync:!1});case j.sK:return w()({},e,{showAgain:!e.showAgain});case j.d:return w()({},e,{timeSync:t.value});default:return e}}},containers:{TOC:{doNotHide:!0,name:"FeatureEditor"}}})},7147:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>o,Iz:()=>i,QF:()=>a,_d:()=>u,pn:()=>c,lI:()=>l,PJ:()=>s,dH:()=>f,Gd:()=>p,tL:()=>d,R4:()=>y,BP:()=>g});var n=r(86494),o=function(e){return function(e,t){return function(t){return(0,n.get)(t,"controls[".concat(e,"][").concat("enabled","]"))}}(e)},i=function(e){return(0,n.get)(e,"controls.measure.showCoordinateEditor")},a=function(e){return(0,n.get)(e,"controls.measure.enabled")},u=function(e){return(0,n.get)(e,"controls.queryPanel.enabled")},c=function(e){return!!(0,n.get)(e,"controls.layerdownload.available")},l=function(e){return!!(0,n.get)(e,"controls.layerdownload.enabled")},s=function(e){return(0,n.get)(e,"controls.widgetBuilder.available",!1)},f=function(e){return(0,n.get)(e,"controls.widgetBuilder.enabled")},p=function(e){return(0,n.get)(e,"controls.layersettings.initialSettings")||{}},d=function(e){return(0,n.get)(e,"controls.layersettings.originalSettings")||{}},y=function(e){return(0,n.get)(e,"controls.layersettings.activeTab")||"general"},g=function(e){return(0,n.get)(e,"controls.drawer.enabled",!1)}},69842:(e,t,r)=>{"use strict";r.d(t,{qh:()=>f,GK:()=>p,Nl:()=>d,vE:()=>y,gC:()=>g,hI:()=>m,Vc:()=>b,BU:()=>E,Vx:()=>v,a8:()=>O,IM:()=>h,G$:()=>T});var n=r(86494),o=r(22222),i=r(75110),a=r(8316),u=r(86638);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return(0,n.get)(e,"queryform.crossLayerFilter")},p=function(e){return((0,i.l2)(e)||[]).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.group;return"wms"===t&&"background"!==r})).map((function(t){var r=t.title;return l(l({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,["title"])),{},{title:(0,u.MZ)((0,a.Pz)(e),r)})}))},d=function(e){return(0,n.get)(e,"queryform.spatialField.geometry")},y=function(e){return(0,n.get)(e,"queryform.spatialField")},g=(0,o.P1)((function(e){return(0,n.get)(e,"queryform.attributePanelExpanded")}),(function(e){return(0,n.get)(e,"queryform.spatialPanelExpanded")}),(function(e){return(0,n.get)(e,"queryform.crossLayerExpanded")}),(function(e,t,r){return{attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:r}})),m=function(e){return(0,n.get)(e,"layerFilter.persisted")},b=function(e){return(0,n.get)(e,"layerFilter.applied")},E=function(e){return(0,n.get)(e,"queryform.spatialField.method")},v=function(e){return(0,n.get)(e,"queryform.maxFeaturesWPS")},O=function(e){return d(e)&&d(e).type||"Polygon"},h=function(e){return d(e)&&d(e).projection||"EPSG =4326"},T=function(e){return d(e)&&d(e).coordinates||[]}},10284:(e,t,r)=>{"use strict";r.d(t,{sw:()=>m,oB:()=>b});var n=r(49977),o=r.n(n),i=r(86494),a=r(5055),u=r(7526);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}function f(e,t,r){return(f=p()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&d(o,r.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(24384);var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var t,r,n=(t=o,r=p(),function(){var e,n=y(t);if(r){var o=y(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return l(this,e)});function o(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e)).name="OGCError",r.code=t,r}return o}(s(Error)),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tagNameProcessors:[u.stripPrefix],explicitArray:!1,mergeAttrs:!0};return o().Observable.bindNodeCallback((function(e,r){return(0,a.parseString)(e,t,r)}))(e)},b=function(e){return e.switchMap((function(e){return"string"==typeof e.data&&e.data.indexOf("ExceptionReport")>0?o().Observable.bindNodeCallback((function(e,t){return(0,a.parseString)(e,{tagNameProcessors:[u.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data).map((function(e){var t=(0,i.get)(e,"ExceptionReport.Exception.ExceptionText");throw new g(t||"Undefined OGC Service Error",(0,i.get)(e,"ExceptionReport.Exception.exceptionCode"))})):o().Observable.of(e)}))}},51751:(e,t,r)=>{var n=r(34387),o=n.filter,i=n.fidFilter;e.exports={fidFilter:i,filter:o}},50937:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=r(86494).get,l=r(75775),s=l.insert,f=l.feature,p=l.attribute,d=r(99381).transaction,y=r(50525),g=y.deleteFeaturesByFilter,m=y.deleteFeature,b=r(16685),E=b.update,v=b.propertyChange,O=r(78889),h=O.getPropertyDesciptor,T=O.getValue,w=O.findGeometryProperty,S=O.featureTypeSchema,P=r(39156),R=function(e,t){return t&&t.length>0?[e].concat(function(e){if(Array.isArray(e))return u(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e;var r},_=function(e){this.version=e},I=function(e){return c(e,"featureTypes[0].typeName")},A=function(e){return e.targetPrefix?"".concat(e.targetPrefix,":").concat(I(e)):I(e)},F=function(e,t){return e.geometry_name||w(t).name},D=function(e,t){return"geometry"===e||e===F({},t)?F({},t):e};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.wfsVersion,n=void 0===r?"1.1.0":r,i=t.wfsNS,u=void 0===i?"wfs":i,c=a(t,["wfsVersion","wfsNS"]);if("1.1.0"!==n)throw new _(n);var l=function(t){return f(e.targetPrefix,I(e),Object.keys(t.properties||[]).filter((function(t){return h(t,e)})).map((function(r){return p(e.targetPrefix,r,T(t.properties[r],r,e))})).concat(t.geometry?p(e.targetPrefix,F(t,e),T(t.geometry,F(t,e),e)):[]))},y=function(e){return e.features?e.features.map(l):l(e)};return o(o({},P(o(o({},c),{},{wfsVersion:n,wfsNS:u}))),{},{insert:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s(u,Array.isArray(R(e,r))?R(e,r).map(y):y(e))},getPropertyName:function(t){return D(t,e)},deleteByFilter:function(t){return g(u,t,A(e))},deleteFeature:function(t){return m(u,t,A(e))},update:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return E(u,A(e),R(t,n))},propertyChange:function(t,r){return v(u,t,T(r,t,e))},transaction:function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return d(R(t,o),S(e),n,u)}})}},50525:(e,t,r)=>{var n=r(51751).fidFilter,o=function(e,t,r){return"<".concat(e,':Delete typeName="').concat(r,'">').concat(t,"</").concat(e,":Delete>")},i=function(e,t,r){return o(e,n("ogc",t),r)};e.exports={deleteFeaturesByFilter:o,deleteById:i,deleteFeature:function(e,t,r){return i(e,t.features&&1===t.features.length?t.features[0].id:t.id,r)}}},75775:e=>{var t=function(e,t,r){return"<".concat(e?e+":"+t:t,">").concat(Array.isArray(r)?r.join(""):r,"</").concat(e?e+":"+t:t,">")},r=t,n=t;e.exports={insert:function(e,t){return"<".concat(e,":Insert>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Insert>")},feature:n,attribute:r}},99381:e=>{e.exports={transaction:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.wfsNS,o=void 0===n?"wfs":n,i=r.wfsVersion,a=void 0===i?"1.1.0":i;return"<".concat(o,":Transaction ")+'service="WFS" '+'version="'.concat(a,'" ')+"xmlns:".concat(o,'="http://www.opengis.net/wfs" ')+'xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs" '+"".concat(t,">")+"".concat(Array.isArray(e)?e.join(""):e)+"</".concat(o,":Transaction>")}}},16685:e=>{e.exports={update:function(e,t,r){return"<".concat(e,':Update typeName="').concat(t,'">').concat(Array.isArray(r)?r.join(""):r,"</wfs:Update>")},propertyChange:function(e,t,r){return"<".concat(e,":Property>")+"<".concat(e,":Name>").concat(t,"</").concat(e,":Name>")+"<".concat(e,":Value>").concat(r,"</").concat(e,":Value>")+"</".concat(e,":Property>")}}},39156:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2245),u=r(86494).castArray,c=r(78889).wfsToGmlVersion,l=function(e){return'service="WFS" version="'+e+'" '+("1.0.0"===e?'outputFormat="GML2" ':"")+'xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs '+"http://schemas.opengis.net/wfs/".concat(e,"1.0.0"===e?'/WFS-basic.xsd"':'/wfs.xsd"')},s=function(e){return'service="WFS" version="'+e+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"'};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wfsVersion,r=void 0===t?"1.1.0":t,n=e.gmlVersion,i=e.filterNS,f=e.wfsNS,p=void 0===f?"wfs":f,d=n;!d&&r?d=c(r):d||(d="3.1.1");var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewParams,n=e.resultType,o=e.outputFormat,i=e.startIndex,a=e.maxFeatures,u=function(e){return 0===r.indexOf("2.")?'count="'.concat(e,'"'):'maxFeatures="'.concat(e,'"')};return(0===r.indexOf("1.")?l(r):s(r))+(n?' resultType="'.concat(n,'"'):"")+(o?' outputFormat="'.concat(o,'"'):"")+(i||0===i?' startIndex="'.concat(i,'"'):"")+(a||0===a?" ".concat(u(a)):"")+(t?' viewParams="'.concat(t,'"'):"")},g=function(e){return u(e).map((function(e){return"<".concat("2.0"===r?"fes":"ogc",":PropertyName>").concat(e,"</").concat("2.0"===r?"fes":"ogc",":PropertyName>")})).join("")};return o(o({propertyName:g},a({gmlVersion:d,wfsVersion:r,filterNS:i||"2.0"===r?"fes":"ogc"})),{},{getFeature:function(e,t){return"<".concat(p,":GetFeature ").concat(y(t),">").concat(Array.isArray(e)?e.join(""):e,"</").concat(p,":GetFeature>")},sortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC";return"<".concat(p,":SortBy><").concat(p,":SortProperty>").concat(g(e),"<").concat(p,":SortOrder>").concat(t,"</").concat(p,":SortOrder></").concat(p,":SortProperty></").concat(p,":SortBy>")},query:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.srsName,i=void 0===o?"EPSG:4326":o;return"<".concat(p,":Query ").concat("2.0"===r?"typeNames":"typeName",'="').concat(e,'" srsName="').concat(i,'">')+"".concat(Array.isArray(t)?t.join(""):t)+"</".concat(p,":Query>")}})}},59297:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,"\n.msgapi .featuregrid-toolbar {\n    margin-top: 5px;\n    margin-bottom: 5px;\n}\n\n.msgapi #featuregrid-toolbar .btn {\n    overflow: hidden;\n}\n",""])},90874:(e,t,r)=>{"use strict";var n=r(95318);t.__esModule=!0,t.default=void 0;var o,i=n(r(50139)),a="clearTimeout",u=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-l)),n=setTimeout(e,r);return l=t,n},c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=c(e,"request");if(t in window)return a=c(e,"cancel"),u=function(e){return window[t](e)}}));var l=(new Date).getTime();(o=function(e){return u(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var s=o;t.default=s,e.exports=t.default},93054:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=function(e){if("function"!=typeof e)throw new TypeError("You must provide a valid moment object");var t="function"==typeof e().locale?"locale":"lang";if(!e.localeData)throw new TypeError("The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher");function r(r,n,o){return r?e(n,o)[t](r):e(n,o)}var n={formats:{date:"L",time:"LT",default:"lll",header:"MMMM YYYY",footer:"LL",weekday:"dd",dayOfMonth:"DD",month:"MMM",year:"YYYY",decade:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(10,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)},century:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(100,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)}},firstOfWeek:function(t){return e.localeData(t).firstDayOfWeek()},parse:function(e,t,n){if(!e)return null;var o=r(n,e,t);return o.isValid()?o.toDate():null},format:function(e,t,n){return r(n,e).format(t)}};return o.default.setDateLocalizer(n),n};var n,o=(n=r(77036))&&n.__esModule?n:{default:n};e.exports=t.default},49548:(e,t,r)=>{var n=r(59297);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)}}]);