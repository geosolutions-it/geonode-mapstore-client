(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[3166,7654,9081],{90079:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(8575),o=r(1469),i=r.n(o),l=r(27418),a=r.n(l),u=r(45697),c=r.n(u),s=r(67294),p=r.n(s),f=r(33044),y=r(5346);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function g(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&v(e,t)}(c,e);var t,r,o,l,u=(o=c,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(o);if(l){var r=O(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return g(this,e)});function c(){var e;m(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return w(h(e=u.call.apply(u,[this].concat(r))),"state",{error:!1}),w(h(e),"onImgError",(function(){e.setState((function(){return{error:!0}}))})),w(h(e),"getUrl",(function(e,t){if(e.layer&&"wms"===e.layer.type&&e.layer.url){var r=e.layer,o=t||i()(r.url)&&Math.floor(Math.random()*r.url.length),l=i()(r.url)?r.url[o]:r.url.replace(/[?].*$/g,""),u=n.parse(l),c=(0,f.clearNilValuesForParams)(r.params),s=a()({},{service:"WMS",request:"GetLegendGraphic",format:"image/png",height:e.legendHeight,width:e.legendWidth,layer:r.name,style:r.style||null,version:r.version||"1.3.0",SLD_VERSION:"1.1.0",LEGEND_OPTIONS:e.legendOptions},r.legendParams||{},e.language&&r.localizedLayerStyles?{LANGUAGE:e.language}:{},(0,f.addAuthenticationToSLD)(c||{},e.layer),c&&c.SLD_BODY?{SLD_BODY:c.SLD_BODY}:{},e.scales&&e.currentZoomLvl&&e.scaleDependent?{SCALE:Math.round(e.scales[e.currentZoomLvl])}:{});return(0,f.addAuthenticationParameter)(l,s),n.format({host:u.host,protocol:u.protocol,pathname:u.pathname,query:s})}return""})),w(h(e),"validateImg",(function(t){t.height<=1&&t.width<=2&&e.onImgError()})),e}return t=c,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.error&&this.getUrl(e,0)!==this.getUrl(this.props,0)&&this.setState((function(){return{error:!1}}))}},{key:"render",value:function(){var e=this;return!this.state.error&&this.props.layer&&"wms"===this.props.layer.type&&this.props.layer.url?p().createElement("img",{onError:this.onImgError,onLoad:function(t){return e.validateImg(t.target)},src:this.getUrl(this.props),style:this.props.style}):p().createElement(y.Z,{msgId:"layerProperties.legenderror"})}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(p().Component);w(E,"propTypes",{layer:c().object,legendHeight:c().number,legendWidth:c().number,legendOptions:c().string,style:c().object,currentZoomLvl:c().number,scales:c().array,scaleDependent:c().bool,language:c().string}),w(E,"defaultProps",{legendHeight:12,legendWidth:12,legendOptions:"forceLabels:on",style:{maxWidth:"100%"},scaleDependent:!0});const P=E},10615:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var n=r(67294),o=r.n(n),i=r(45697),l=r.n(i),a=r(57588),u=r(7654),c=r.n(u),s=r(14293),p=r.n(s),f=r(43129),y=r(93451),d=r(80717),m=r(45869),b=r(80833),v=r(5346),g=r(52259),h=["labelId"];function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=(0,y.Z)(["placeholder","noResultsText"])(f.ZP.Creatable),x=(0,y.Z)(["placeholder","noResultsText"])(f.ZP);function L(e){var t,r=e.label,n=e.showArrow,i=e.limitsType;return o().createElement("span",null,(t=r,"scale"===i?"1 : "+Math.round(t):t),n&&o().createElement(o().Fragment,null," ",o().createElement(a.Glyphicon,{glyph:"arrow-left"})))}function I(e){var t=e.id,r=e.value,n=e.placeholderId,i=e.noResultsTextId,l=e.createTextId,a=e.options,u=e.isValidNewOption,s=void 0===u?function(){return!0}:u,p=e.onChange,f=void 0===p?function(){}:p,y=e.disabled,d=e.loading;return o().createElement(C,{inputProps:{id:t},placeholder:n,noResultsText:i,value:r,isLoading:d,options:a,disabled:y,optionRenderer:L,valueRenderer:L,promptTextCreator:function(e){return o().createElement(v.Z,{msgId:l,msgParams:{label:e}})},isValidNewOption:function(e){if(e.label){var t=parseFloat(e.label);return!c()(t)&&s(t)}return!1},onChange:function(e){var t=(null==e?void 0:e.value)&&parseFloat(e.value);f(c()(t)?void 0:j(j({},e),{},{value:t}))}})}function k(e){var t=e.title,r=e.layer,i=e.zoom,l=e.projection,u=e.resolutions,c=void 0===u?(0,g.getResolutions)():u,s=e.defaultLimitsType,f=e.limitsTypesOptions,y=e.dpi,P=e.onChange,S=O((0,n.useState)(s||f[0].value),2),C=S[0],L=S[1],k=r.maxResolution,Z=r.minResolution,T=r.disableResolutionLimits,R=(0,g.dpi2dpu)(y,l);function A(e,t){var r,n=e.map((function(e){return e[C]}));return p()(t[C])||-1!==n.indexOf(t[C])?e:[t].concat((r=e,function(e){if(Array.isArray(e))return E(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||w(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).sort((function(e,t){return e[C]>t[C]?-1:1}))}function D(e,t){if("scale"===t){var r=e/R;return{resolution:r,scale:e,zoom:(0,g.getZoomFromResolution)(r,c)}}return{resolution:e,scale:e*R,zoom:(0,g.getZoomFromResolution)(e,c)}}var N=O((0,n.useState)([]),2),z=N[0],_=N[1],F=O((0,n.useState)(k&&{resolution:k,scale:k*R,zoom:(0,g.getZoomFromResolution)(k,c)}),2),G=F[0],M=F[1],B=O((0,n.useState)(Z&&{resolution:Z,scale:Z*R,zoom:(0,g.getZoomFromResolution)(Z,c)}),2),U=B[0],V=B[1],W=O((0,n.useState)(!1),2),$=W[0],H=W[1],q=O((0,n.useState)(),2),Y=q[0],Q=q[1],K=O((0,n.useState)(),2),J=K[0],X=K[1],ee=(0,n.useRef)();function te(){X(void 0),Q(void 0)}(0,n.useEffect)((function(){return ee.current=!0,function(){ee.current=!1}}),[]);var re=c.join(",");return(0,n.useEffect)((function(){var e=Z&&{resolution:Z,scale:Z*R,zoom:(0,g.getZoomFromResolution)(Z,c)},t=k&&{resolution:k,scale:k*R,zoom:(0,g.getZoomFromResolution)(k,c)},r=[e,t].filter((function(e){return e})).reduce(A,c.map((function(e,t){return{resolution:e,scale:e*R,zoom:t}})));M(t),V(e),_(r),te()}),[R,re]),o().createElement("div",{className:"ms-visibility-limits-form"},o().createElement("div",{className:"ms-visibility-limits-form-title",style:{display:"flex",alignItems:"center"}},o().createElement("div",{style:{flex:1}},t),o().createElement(d.Z,{btnDefaultProps:{className:"square-button-md no-border"},buttons:[{glyph:"refresh",disabled:!(!T&&!$),visible:"wms"===r.type,onClick:function(){"wms"!==r.type||$||(H(!0),te(),(0,b.kB)(r).toPromise().then((function(e){if(ee.current){var t,r,n=e.maxScaleDenominator,o=e.minScaleDenominator,i=!p()(n)&&D(n,"scale"),l=!p()(o)&&D(o,"scale"),a=function(e){var t=e.maxScaleDenominator,r=e.minScaleDenominator;return p()(t)&&p()(r)?"layerProperties.visibilityLimits.serverValuesUpdateUndefined":p()(t)&&!p()(r)?"layerProperties.visibilityLimits.serverValuesUpdateMinScale":!p()(t)&&p()(r)?"layerProperties.visibilityLimits.serverValuesUpdateMaxScale":"layerProperties.visibilityLimits.serverValuesUpdate"}({maxScaleDenominator:n,minScaleDenominator:o});Q(a),l&&V(l),i&&M(i),P(j(j({},i&&{maxResolution:i.resolution}),l&&{minResolution:l.resolution}));var u=(null===(t=l||U)||void 0===t?void 0:t.resolution)||-1/0;((null===(r=i||G)||void 0===r?void 0:r.resolution)||1/0)<u&&X("layerProperties.visibilityLimits.rangeError"),H(!1)}})).catch((function(){ee.current&&(H(!1),X("layerProperties.visibilityLimits.serverValuesError"))})))},tooltipId:"layerProperties.visibilityLimits.updateWMSCapabilities"},{Element:function(){return o().createElement(m.Z,{checked:!T,onClick:function(){P({disableResolutionLimits:!T}),te()}})}}]})),o().createElement("label",{htmlFor:"ms-visibility-limits-max"},o().createElement(v.Z,{msgId:"layerProperties.visibilityLimits.maxValue"})),o().createElement(I,{id:"ms-visibility-limits-max",value:(null==G?void 0:G[C])&&{value:G[C],label:G[C],zoom:G.zoom,limitsType:C},placeholderId:"layerProperties.visibilityLimits.maxValuePlaceholder",noResultsTextId:"layerProperties.visibilityLimits.valueNoResultsText",createTextId:"layerProperties.visibilityLimits.createOption",loading:$,isValidNewOption:function(e){return e>=((null==U?void 0:U[C])||0)},options:z.map((function(e){return j(j({},e),{},{value:e[C]+(e.delta||0),label:e[C],showArrow:e.zoom===i,disabled:!p()(null==U?void 0:U[C])&&e[C]<=U[C],limitsType:C})})),disabled:T||$,onChange:function(e){var t=void 0===e.value?{}:p()(e.zoom)?D(e.value,C):{resolution:e.resolution,scale:e.scale,zoom:e.zoom};if(P({maxResolution:t.resolution}),M(t),void 0!==e.value&&p()(e.zoom)){var r=A(z,t);_(r)}te()}}),o().createElement("label",{htmlFor:"ms-visibility-limits-min"},o().createElement(v.Z,{msgId:"layerProperties.visibilityLimits.minValue"})),o().createElement(I,{id:"ms-visibility-limits-min",value:(null==U?void 0:U[C])&&{value:U[C],label:U[C],zoom:U.zoom,limitsType:C},placeholderId:"layerProperties.visibilityLimits.minValuePlaceholder",noResultsTextId:"layerProperties.visibilityLimits.valueNoResultsText",createTextId:"layerProperties.visibilityLimits.createOption",loading:$,isValidNewOption:function(e){return e<=((null==G?void 0:G[C])||1/0)},options:z.map((function(e){return j(j({},e),{},{value:e[C],label:e[C],showArrow:e.zoom===i,disabled:!p()(null==G?void 0:G[C])&&e[C]>=G[C],limitsType:C})})),disabled:T||$,onChange:function(e){var t=void 0===e.value?{}:p()(e.zoom)?D(e.value,C):{resolution:e.resolution,scale:e.scale,zoom:e.zoom};if(P({minResolution:t.resolution}),V(t),void 0!==e.value&&p()(e.zoom)){var r=A(z,t);_(r)}te()}}),o().createElement("label",{htmlFor:"ms-visibility-limits-type"},o().createElement(v.Z,{msgId:"layerProperties.visibilityLimits.type"})),o().createElement(x,{inputProps:{id:"ms-visibility-limits-type"},value:C,clearable:!1,options:f.map((function(e){var t=e.labelId;return j(j({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,h)),t&&{label:o().createElement(v.Z,{msgId:t})})})),disabled:T||$,onChange:function(e){var t=e.value;L(t),te()}}),Y&&o().createElement(a.Alert,{bsStyle:"success"},o().createElement(v.Z,{msgId:Y})),J&&o().createElement(a.Alert,{bsStyle:"danger"},o().createElement(v.Z,{msgId:J})))}k.propTypes={layer:l().object,zoom:l().number,onChange:l().func,resolutions:l().array,limitsTypesOptions:l().array,projection:l().string,dpi:l().number,defaultLimitsType:l().string},k.defaultProps={layer:{},onChange:function(){},limitsTypesOptions:[{value:"scale",labelId:"layerProperties.visibilityLimits.scale"},{value:"resolution",labelId:"layerProperties.visibilityLimits.resolution"}],dpi:g.DEFAULT_SCREEN_DPI};const Z=k},32425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(45697),o=r.n(n),i=r(67294),l=r.n(i);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e>100?"full":e>40?"medium":"small"},p=function(e){var t=e.size,r=e.style,n=void 0===r?{}:r,o=e.className,i=e.hidden;return l().createElement("div",{className:o,style:u({width:t,height:t,overflow:"hidden"},n)},!i&&l().createElement("div",{className:"mapstore-".concat(s(t),"-size-loader")}))};p.propTypes={size:o().number,className:o().string,style:o().object};const f=p},52595:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(61365).Z)(r(57588).Overlay)},12610:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(67294),o=r.n(n),i=r(2479),l=r(57557),a=r.n(l),u=r(15135);const c=(0,i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,r=e.noTooltipWhenDisabled,n=void 0!==r&&r;return!(n&&t)}),u.Z,(function(e){return function(t){return o().createElement(e,a()(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},93451:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(86638),o=r(45697),i=r.n(o),l=r(84596),a=r.n(l),u=r(1469),c=r.n(u),s=r(14293),p=r.n(s),f=r(47037),y=r.n(f),d=r(2479),m=["messages"];function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(c()(t))return t.map((function(o){var i=(0,n.S$)(e,o[r]||y()(o)&&o||"");return g(g({},o),{},h({},r,p()(i)?t:i))}));var o=(0,n.S$)(e,t);return p()(o)?t:o},w=function(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return g(g({},n),{},h({},o,e[o]&&O(t,e[o],r)))}};const E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return(0,d.compose)((0,d.getContext)({messages:i().object}),(0,d.mapProps)((function(r){var n=r.messages,o=b(r,m);return g(g({},o),a()(e).reduce(w(o,n,t),{}))})))}},17252:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(67294),o=r.n(n),i=r(2479),l=r(45697),a=r.n(l),u=r(57557),c=r.n(u),s=r(57588),p=r(50966);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=(0,i.branch)((function(e){return e.popover}),(function(e){var t,r;return r=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&m(e,t)}(f,t);var r,n,l,a,u=(l=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(l);if(a){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function f(){return y(this,f),u.apply(this,arguments)}return r=f,(n=[{key:"renderPopover",value:function(){return o().createElement(s.Popover,c()(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=(0,i.toClass)(e);return o().createElement(t,c()(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return o().createElement("span",null,o().createElement(p.Z,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&d(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),f}(o().Component),g(t,"propTypes",{popover:a().object}),g(t,"defaultProps",{popover:{trigger:!0}}),r}))},45869:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),o=r.n(n),i=r(45697),l=r.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&s(e,t)}(a,e);var t,r,n,i,l=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(n);if(i){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function a(){return u(this,a),l.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this;return o().createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},o().createElement("input",{type:"checkbox",disabled:this.props.disabled,checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),o().createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o().Component);y(d,"propTypes",{disabled:l().bool,className:l().string,checked:l().bool,onChange:l().func,onClick:l().func}),y(d,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}});const m=d},80717:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(67294),o=r.n(n),i=r(19081),l=r.n(i),a=r(57588),u=r(90085),c=["visible","Element","renderButton"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,r=void 0===t?[]:t,n=e.btnGroupProps,i=void 0===n?{}:n,f=e.btnDefaultProps,y=void 0===f?{}:f,d=e.transitionProps,m=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,b=function(){return r.map((function(e,t){var r=e.visible,n=void 0===r||r,i=e.Element,l=e.renderButton,a=p(e,c);return n?l||i&&o().createElement(i,s({key:a.key||t},a))||o().createElement(u.Z,s({key:a.key||t},y,a)):null}))};return o().createElement(a.ButtonGroup,i,m?o().createElement(l(),m,b()):b())}},90085:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(67294),o=r.n(n),i=r(2479),l=r(5346),a=r(57557),u=r.n(a),c=r(57588),s=r(32425),p=r(12610),f=r(17252),y=r(82467),d=["glyph","loading","text","textId","glyphClassName","loaderProps","children"];function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const v=(0,i.compose)(p.Z,f.Z)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,r=e.loading,n=e.text,i=void 0===n?"":n,a=e.textId,p=e.glyphClassName,f=void 0===p?"":p,v=e.loaderProps,g=void 0===v?{}:v,h=e.children,O=b(e,d);return o().createElement(y.Z,u()(O,["pullRight","confirmNo","confirmYes"]),t&&!r?o().createElement(c.Glyphicon,{glyph:t,className:f}):null,a?o().createElement(l.Z,{msgId:a}):i,r?o().createElement(s.Z,m({className:"ms-loader".concat(O.bsStyle&&" ms-loader-"+O.bsStyle||"").concat(O.bsSize&&" ms-loader-"+O.bsSize||"")},g)):null,h)}))},2576:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(67294),o=r.n(n),i=r(73935),l=r.n(i),a=r(45697),u=r.n(a),c=r(57588),s=r(52595),p=r(50966);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&m(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(i){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function u(){return y(this,u),a.apply(this,arguments)}return t=u,(r=[{key:"renderPopover",value:function(){return o().createElement(c.Popover,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title},this.props.text)}},{key:"renderContent",value:function(){var e=this;return o().createElement(c.Glyphicon,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return o().createElement("span",{className:"mapstore-info-popover"},this.props.trigger?o().createElement(p.Z,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),o().createElement(s.Z,{placement:this.props.placement,show:!0,target:function(){return l().findDOMNode(e.target)}},this.renderPopover())])}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(o().Component);g(h,"propTypes",{id:u().string,title:u().string,text:u().string,glyph:u().string,bsStyle:u().string,placement:u().string,left:u().number,top:u().number,trigger:u().oneOfType([u().array,u().bool])}),g(h,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]});const O=h},80833:(e,t,r)=>{"use strict";r.d(t,{kB:()=>m,HI:()=>b});var n=r(8575),o=(r(91175),r(90173)),i=r(89255),l=r(67007),a=r(75875),u=r.n(a),c=(r(86267),r(24262)),s=r(10284),p=r(33044);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}o.default;var m=function(e){return i.Observable.defer((function(){return l.ZP.getCapabilities((0,c.Fh)(e))})).let(s.oB).map((function(t){return l.ZP.parseLayerCapabilities(t,e)}))},b=function(e){return function(e){return i.Observable.defer((function(){return u().get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.search,o=void 0===r?{}:r,i=e.url,l=n.parse(o.url||i,!0);return n.format(y(y({},l),{},{search:void 0,query:y(y({},l.query),{},{service:"WMS",version:"1.1.1",layers:t,outputFormat:"application/json",request:"DescribeLayer"})}))}(e))})).let(s.oB)}(e).map((function(e){var t=e.data,r=void 0===t?{}:t;return r&&r.layerDescriptions[0]})).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.owsURL;return y(y({},e),{},{params:{},search:r?{type:"wfs",url:(0,p.cleanAuthParamsFromURL)(r)}:void 0})}))}},55105:(e,t,r)=>{"use strict";r.d(t,{Nr:()=>p,ic:()=>f,Jz:()=>d,VM:()=>m,CF:()=>b});var n=r(91175),o=r.n(n),i=r(827),l=r(52259);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return e.maplayout&&e.maplayout.layout||{}},p=function(e){return e.maplayout&&e.maplayout.boundingMapRect||{}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s(e);return r&&Object.keys(r).filter((function(e){return t[e]})).reduce((function(e,t){return u(u({},e),{},c({},t,r[t]))}),{})||{}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=s(e),n=!!o()(t.filter((function(e){return r[e.key]})).map((function(e){return"not"===e.type?r[e.key]!==e.value&&r[e.key]:r[e.key]===e.value})));return n},d=function(e){return y(e,[{key:"right",value:658}])},m=function(e){return y(e,[{key:"bottom",value:30,type:"not"}])},b=function(e){var t=(0,i.Od)(e),r=p(e);return r&&t&&t.size&&{left:(0,l.parseLayoutValue)(r.left,t.size.width),bottom:(0,l.parseLayoutValue)(r.bottom,t.size.height),right:(0,l.parseLayoutValue)(r.right,t.size.width),top:(0,l.parseLayoutValue)(r.top,t.size.height)}}},10284:(e,t,r)=>{"use strict";r.d(t,{sw:()=>b,oB:()=>v});var n=r(89255),o=r(27361),i=r.n(o),l=r(5055),a=r(7526);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},s(e)}function p(e,t,r){return p=f()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&y(o,r.prototype),o},p.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}r(24384);var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&y(e,t)}(i,e);var t,r,n,o=(t=i,r=f(),function(){var e,n=d(t);if(r){var o=d(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return c(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e)).name="OGCError",r.code=t,r}return n=i,Object.defineProperty(n,"prototype",{writable:!1}),n}(s(Error)),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{tagNameProcessors:[a.stripPrefix],explicitArray:!1,mergeAttrs:!0};return n.Observable.bindNodeCallback((function(e,r){return(0,l.parseString)(e,t,r)}))(e)},v=function(e){return e.switchMap((function(e){return"string"==typeof e.data&&e.data.indexOf("ExceptionReport")>0?n.Observable.bindNodeCallback((function(e,t){return(0,l.parseString)(e,{tagNameProcessors:[a.stripPrefix],explicitArray:!1,mergeAttrs:!0},t)}))(e.data).map((function(e){var t=i()(e,"ExceptionReport.Exception.ExceptionText");throw new m(t||"Undefined OGC Service Error",i()(e,"ExceptionReport.Exception.exceptionCode"))})):n.Observable.of(e)}))}},32247:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(67294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const i=function(e,t){var r,i,l=function(){if("undefined"==typeof window)return t;try{var r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.log("Error to get item key “".concat(e,"”:"),r),t}},a=(r=(0,n.useState)(l),i=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(r,i)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=a[0],c=a[1];return(0,n.useEffect)((function(){c(l())}),[]),(0,n.useEffect)((function(){var e=function(){c(l())};return window.addEventListener("localStorage",e),function(){window.removeEventListener("localStorage",e)}}),[]),[u,function(t){try{var r=t instanceof Function?t(u):t;c(r),window.localStorage.setItem(e,JSON.stringify(r)),window.dispatchEvent(new Event("localStorage"))}catch(t){console.log("Error “".concat(e,"”:"),t)}}]}},66976:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ve});var n=r(67294),o=r.n(n),i=r(22843),l=r(33664),a=r(22222),u=r(41609),c=r.n(u),s=r(57588),p=r(93473),f=r(80416),y=r(75110),d=r(827),m=r(8316),b=r(55105),v=r(59112),g=r(45697),h=r.n(g),O=r(47037),w=r.n(O),E=r(13218),P=r.n(E),j=r(19155),S=r.n(j),C=r(5346),x=r(43129),L=r(86638);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e){var t,r,n,i,l=e.node,a=e.allowNew,u=void 0!==a&&a,c=e.groups,s=e.currentLocale,p=e.onChange,f=u?x.ZP.Creatable:x.ZP,y=function(e){return(0,v.YQ)(e,s)},d=function(e,t){return(0,v.fu)(y(e),t)},m=c&&(0,v.yQ)(c),b=(t=c&&(0,v.yQ)(c,0,!0),r=(null==l?void 0:l.group)||"Default",n=t.find((function(e){return e.id===r}))||{},y(n.title));return o().createElement(f,{clearable:!1,key:"group-dropdown",options:S()([{value:"Default",label:"Default"}].concat((i=(m||(null==l?void 0:l.group)||[]).map((function(e){return P()(e)?k(k({},e),{},{label:d(e.label,m)}):{label:d(e,m),value:e}})),function(e){if(Array.isArray(e))return T(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),"value"),isValidNewOption:v.gP,newOptionCreator:function(e){var t,r=e.valueKey,n=e.label,o=e.labelKey;return Z(t={},r,n.replace(/\./g,"${dot}").replace(/\//g,".")),Z(t,o,n),Z(t,"className","Select-create-option-placeholder"),t},value:{label:d(b,m),value:b},placeholder:d(b,m),onChange:function(e){var t=e.value;return p({group:t||"Default"})}})}function A(e,t){var r,n,i=e.node,l=void 0===i?{}:i,a=e.nodeType,u=e.showTooltipOptions,c=void 0===u||u,p=e.onChange,f=void 0===p?function(){}:p,y=e.groups,d=e.currentLocale,m=[{value:"title",label:(0,L.S$)(t.messages,"layerProperties.tooltip.title")},{value:"description",label:(0,L.S$)(t.messages,"layerProperties.tooltip.description")},{value:"both",label:(0,L.S$)(t.messages,"layerProperties.tooltip.both")},{value:"none",label:(0,L.S$)(t.messages,"layerProperties.tooltip.none")}],b=[{value:"top",label:(0,L.S$)(t.messages,"layerProperties.tooltip.top")},{value:"right",label:(0,L.S$)(t.messages,"layerProperties.tooltip.right")},{value:"bottom",label:(0,L.S$)(t.messages,"layerProperties.tooltip.bottom")}],g=l||{},h=g.title,O=g.description,E=void 0===O?"":O,j=g.tooltipOptions,S=void 0===j?"title":j,I=g.tooltipPlacement,T=void 0===I?"top":I,A=w()(h)?h:null!==(r=null!==(n=(0,v.YQ)(h,d))&&void 0!==n?n:null==h?void 0:h.default)&&void 0!==r?r:"";return o().createElement(o().Fragment,null,o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.title"})),o().createElement(s.FormControl,{defaultValue:A,key:"title",type:"text",onBlur:function(e,t){var r="default"===e&&w()(l.title)?t.target.value:k(k({},P()(l.title)?l.title:{default:l.title||""}),{},Z({},e,t.target.value));f({title:r})}.bind(null,"default")})),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.description"})),o().createElement(s.FormControl,{defaultValue:E,key:"description",type:"text",onBlur:function(e){return f({description:e.target.value})}})),"layer"===a?o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.group"})),o().createElement(R,{node:l,onChange:f,groups:y,currentLocale:d})):null,c&&o().createElement(o().Fragment,null,o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.nodeTooltipContent"})),o().createElement(x.ZP,{clearable:!1,key:"tooltips-dropdown",options:m,value:m.find((function(e){return e.value===S})),onChange:function(e){var t=e.value;return f({tooltipOptions:t||"title"})}})),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.nodeTooltipPlacement"})),o().createElement(x.ZP,{clearable:!1,key:"tooltips-placement-dropdown",options:b,value:b.find((function(e){return e.value===T})),onChange:function(e){var t=e.value;return f({tooltipPlacement:t||"top"})}}))))}A.contextTypes={messages:h().object};const D=A;function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const z=function(e){var t,r,i=e.expanded,l=e.title,a=e.children,u=e.onChange,c=(t=(0,n.useState)(i),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=c[0],f=c[1];return(0,n.useEffect)((function(){u&&u(p)}),[p]),o().createElement(o().Fragment,null,o().createElement("div",{className:"gn-layer-settings-section-title",onClick:function(){return f(!p)}},o().createElement(s.Glyphicon,{glyph:"chevron-".concat(p?"down":"right")})," ",l),p?a:null,o().createElement("hr",null))};var _=r(32247);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U=r(74691),V=r.n(U),W=r(10615),$=r(94192);const H=function(e){var t=e.node,r=void 0===t?{}:t,n=e.resolutions,i=e.projection,l=e.onChange,a=void 0===l?function(){}:l,u=e.zoom,c=r.opacity,p=void 0===c?1:c;return o().createElement(o().Fragment,null,o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"opacity"})," %"),o().createElement($.Z,{type:"number",min:0,max:100,name:"opacity",value:100*p,onChange:function(e){return a({opacity:V()(Math.round(e),0,100)/100})}})),o().createElement(s.FormGroup,null,o().createElement(W.Z,{title:o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.visibilityLimits.title"})),layer:r,onChange:function(e){return a(e)},projection:i,resolutions:n,zoom:u})))};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J=r(81763),X=r.n(J),ee=r(2576),te=r(76712),re=r(63202),ne=r(90079),oe=r(35721);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fe=["node","onChange","style","selectedNodes","onClose"];function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}var de={group:function(e){var t,r,n=e.node,i=e.onChange,l=e.groups,a=e.currentLocale,u=(t=(0,_.Z)("settings-section",{general:!0}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],s=u[1];return o().createElement(z,{title:o().createElement(C.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==c?void 0:c.general,onChange:function(e,t){s(G(G({},c),{},M({},e,t)))}.bind(null,"general")},o().createElement(D,{node:n,onChange:i,nodeType:"group",groups:l,currentLocale:a}))},baseLayer:function(e){var t,r,n=e.node,i=void 0===n?{}:n,l=e.resolutions,a=e.projection,u=e.onChange,c=void 0===u?function(){}:u,s=e.zoom,p=e.groups,f=void 0===p?[]:p,y=e.currentLocale,d=(t=(0,_.Z)("settings-section",{general:!0,visibility:!1}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(t,r)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],b=d[1];function v(e,t){b(Y(Y({},m),{},Q({},e,t)))}return o().createElement(o().Fragment,null,o().createElement(z,{title:o().createElement(C.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==m?void 0:m.general,onChange:v.bind(null,"general")},o().createElement(D,{node:i,onChange:c,nodeType:"layer",groups:f,currentLocale:y})),o().createElement(z,{title:o().createElement(C.Z,{msgId:"gnviewer.visibilitySettings"}),expanded:null==m?void 0:m.visibility,onChange:v.bind(null,"visibility")},o().createElement(H,{node:i,resolutions:l,projection:a,onChange:c,zoom:s})))},wms:function(e){var t,r=e.node,i=void 0===r?{}:r,l=e.resolutions,a=e.projection,u=e.onChange,c=void 0===u?function(){}:u,f=e.zoom,y=e.formats,d=e.isLocalizedLayerStylesEnabled,m=e.currentLocaleLanguage,b=e.groups,v=void 0===b?[]:b,g=e.currentLocale,h=i.singleTile,O=void 0!==h&&h,w=i.tiled,E=void 0===w||w,P=i.transparent,j=void 0===P||P,S=i.localizedLayerStyles,L=void 0!==S&&S,I=i.imageFormats,k=i.format,Z=void 0===k?(0,re.u8)("defaultLayerFormat")||"image/png":k,T=i.url,R=i.legendOptions,A=void 0===R?{legendWidth:12,legendHeight:12}:R,N=ue((0,n.useState)(),2),F=N[0],G=N[1],M=ue((0,_.Z)("settings-section",{general:!0,visibility:!1,style:!1,tiling:!1}),2),B=M[0],U=M[1];function W(e,t){U(le(le({},B),{},ae({},e,t)))}var q,Y,Q,K,J,ie,se,pe,fe,ye,de,me,be,ve,ge=(0,n.useRef)();function he(e){return A&&A[e]&&parseInt(A[e],10)<12?"error":null}function Oe(){return"error"!==he("legendWidth")&&"error"!==he("legendHeight")&&X()(A.legendHeight)&&X()(A.legendWidth)}function we(e){var t=e.target.value&&Math.round(e.target.value),r=e.target.name;c({legendOptions:le(le({},A),{},ae({},r,t>=12?t:""))})}return(0,n.useEffect)((function(){return ge.current=!0,function(){ge.current=!1}}),[]),o().createElement(o().Fragment,null,o().createElement(z,{title:o().createElement(C.Z,{msgId:"gnviewer.generalSettings"}),expanded:null==B?void 0:B.general,onChange:W.bind(null,"general")},o().createElement(D,{node:i,onChange:c,nodeType:"layer",groups:v,currentLocale:g})),o().createElement(z,{title:o().createElement(C.Z,{msgId:"gnviewer.visibilitySettings"}),expanded:null==B?void 0:B.visibility,onChange:W.bind(null,"visibility")},o().createElement(H,{node:i,resolutions:l,projection:a,onChange:c,zoom:f})),o().createElement(z,{title:o().createElement(C.Z,{msgId:"gnviewer.styleSettings"}),expanded:null==B?void 0:B.style,onChange:W.bind(null,"style")},(null==i||null===(t=i.extendedParams)||void 0===t?void 0:t.mapLayer)&&o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.style"})),o().createElement(x.ZP,{key:"style-selector",clearable:!1,options:(q=i,de=(null==q||null===(Y=q.extendedParams)||void 0===Y||null===(Q=Y.mapLayer)||void 0===Q||null===(K=Q.extra_params)||void 0===K?void 0:K.styles)||[],me=(null==q||null===(J=q.extendedParams)||void 0===J||null===(ie=J.mapLayer)||void 0===ie||null===(se=ie.dataset)||void 0===se?void 0:se.styles)||[],be=null==q||null===(pe=q.extendedParams)||void 0===pe||null===(fe=pe.mapLayer)||void 0===fe||null===(ye=fe.dataset)||void 0===ye?void 0:ye.default_style,ve=(null==q?void 0:q.availableStyles)||[],(0,oe.CF)([].concat(ce(be?[be]:[]),ce(me),ce(de),ce(ve))).map((function(e){return{value:e.name,label:e.title}}))),value:i.style,onChange:function(e){var t=e.value;return c({style:t})}})),o().createElement(s.FormGroup,{validationState:he("legendWidth")},o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.legendWidth"})),o().createElement($.Z,{value:A.legendWidth,name:"legendWidth",type:"number",min:12,max:1e3,onChange:function(e){return c({legendOptions:le(le({},A),{},{legendWidth:e&&V()(Math.round(e),0,1e3)})})},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:we})),o().createElement(s.FormGroup,{validationState:he("legendHeight")},o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.legendHeight"})),o().createElement($.Z,{value:A.legendHeight,name:"legendHeight",type:"number",min:12,max:1e3,onChange:function(e){return c({legendOptions:le(le({},A),{},{legendHeight:e&&V()(Math.round(e),0,1e3)})})},onKeyPress:function(e){return"-"===e.key&&e.preventDefault()},onBlur:we})),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"gnviewer.legendPreview"})),o().createElement("div",{style:{width:"100%",overflow:"auto"}},o().createElement(ne.Z,{style:{maxWidth:"none"},layer:i,legendHeight:Oe()&&A.legendHeight||void 0,legendWidth:Oe()&&A.legendWidth||void 0,language:d?m:void 0})))),o().createElement(z,{title:o().createElement(C.Z,{msgId:"gnviewer.tilingSettings"}),expanded:null==B?void 0:B.tiling,onChange:W.bind(null,"tiling")},o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,o().createElement(C.Z,{msgId:"layerProperties.format.title"})),o().createElement("div",{className:"ms-format-container"},o().createElement(x.ZP,{className:"format-select",key:"format-dropdown",clearable:!1,noResultsText:o().createElement(C.Z,{msgId:F?"layerProperties.format.loading":"layerProperties.format.noOption"}),isLoading:!!F,options:F?[]:(null==y?void 0:y.map((function(e){return{value:e,label:e}})))||I||te.QQ,value:Z,onChange:function(e){var t=e.value;return c({format:t})}}),o().createElement(p.Z,{tooltipId:"layerProperties.format.refresh",className:"square-button-md no-border format-refresh",onClick:function(){return e=T,void(F||(G(!0),(0,te.T6)(e).then((function(e){ge.current&&(c({imageFormats:e}),G(!1))})).catch((function(){ge.current&&G(!1)}))));var e},key:"format-refresh"},o().createElement(s.Glyphicon,{glyph:"refresh"})))),o().createElement(s.FormGroup,null,o().createElement(s.ControlLabel,null,"Size"),o().createElement(x.ZP,{key:"wsm-layersize-dropdown",clearable:!1,options:[{value:256,label:256},{value:512,label:512}],value:(null==i?void 0:i.tileSize)||256,onChange:function(e){var t=e.value;return c({tileSize:t})}})),o().createElement(s.FormGroup,null,o().createElement(s.Checkbox,{key:"transparent",checked:j,onChange:function(e){return c({transparent:e.target.checked})}},o().createElement(C.Z,{msgId:"layerProperties.transparent"})),o().createElement(s.Checkbox,{value:"tiled",key:"tiled",disabled:!!O,onChange:function(e){return c({tiled:e.target.checked})},checked:E},o().createElement(C.Z,{msgId:"layerProperties.cached"})),o().createElement(s.Checkbox,{key:"singleTile",value:"singleTile",checked:O,onChange:function(e){return c({singleTile:e.target.checked})}},o().createElement(C.Z,{msgId:"layerProperties.singleTile"})),d?o().createElement(s.Checkbox,{key:"localizedLayerStyles",value:"localizedLayerStyles","data-qa":"display-lacalized-layer-styles-option",checked:L,onChange:function(e){return c({localizedLayerStyles:e.target.checked})}},o().createElement(C.Z,{msgId:"layerProperties.enableLocalizedLayerStyles.label"})," ",o().createElement(ee.Z,{text:o().createElement(C.Z,{msgId:"layerProperties.enableLocalizedLayerStyles.tooltip"})})):null)))}},me=(0,l.connect)((0,a.P1)([y.Ci,d.Od,y.Bt,m.Pz,m.KV,function(e){return(0,b.ic)(e,{height:!0})},y.Ci],(function(e,t,r,n,o,i){return{node:e,zoom:null==t?void 0:t.zoom,projection:null==t?void 0:t.projection,groups:r,currentLocale:n,currentLocaleLanguage:o,style:i}})),{onChange:f.tV,onClose:f.sF})((function(e){var t=e.node,r=e.onChange,n=e.style,i=(e.selectedNodes,e.onClose),l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,fe);if(c()(t))return null;var a=!(null==t||!t.nodes),u=a?de.group:de[null==t?void 0:t.type]||de.baseLayer,f=(null==t?void 0:t.title)&&(0,v.YQ)(t.title,l.currentLocale)||t.name;return o().createElement("div",{className:"gn-layer-settings",style:n},o().createElement("div",{className:"gn-layer-settings-head"},o().createElement("div",{className:"gn-layer-settings-title"},f),o().createElement(p.Z,{className:"square-button",onClick:function(){return i()}},o().createElement(s.Glyphicon,{glyph:"1-close"}))),o().createElement("div",{className:"gn-layer-settings-body"},o().createElement(u,ye({},l,{node:t,onChange:function(e){return r(t.id,a?"groups":"layers",e)}}))))})),be=(0,l.connect)((0,a.P1)([],(function(){return{}})))((function(e){var t=e.status,r=e.onToolsActions,n=e.selectedLayers,i=e.selectedGroups;return"LAYER"!==t&&"GROUP"!==t?null:o().createElement(p.Z,{variant:"primary",className:"square-button-md",onClick:function(){"LAYER"===t||"LAYER_LOAD_ERROR"===t?r.onSettings(n[0].id,"layers",{opacity:parseFloat(void 0!==n[0].opacity?n[0].opacity:1)}):"GROUP"===t&&r.onSettings(i[i.length-1].id,"groups",{})}},o().createElement(s.Glyphicon,{glyph:"wrench"}))}));const ve=(0,i.rx)("LayerSettings",{component:me,containers:{TOC:{target:"toolbar",Component:be}},epics:{},reducers:{}})},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);n&&o[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),t.push(u))}},t}},74691:(e,t,r)=>{var n=r(29750),o=r(14841);e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=o(r))==r?r:0),void 0!==t&&(t=(t=o(t))==t?t:0),n(o(e),t,r)}},7654:(e,t,r)=>{var n=r(81763);e.exports=function(e){return n(e)&&e!=+e}},19081:(e,t,r)=>{"use strict";e.exports=r(1174)},93379:(e,t,r)=>{"use strict";var n,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function l(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function a(e,t){for(var r={},n=[],o=0;o<e.length;o++){var a=e[o],u=t.base?a[0]+t.base:a[0],c=r[u]||0,s="".concat(u," ").concat(c);r[u]=c+1;var p=l(s),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==p?(i[p].references++,i[p].updater(f)):i.push({identifier:s,updater:m(f,t),references:1}),n.push(s)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=o(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var c,s=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=s(t,o);else{var i=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function f(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var y=null,d=0;function m(e,t){var r,n,o;if(t.singleton){var i=d++;r=y||(y=u(t)),n=p.bind(null,r,i,!1),o=p.bind(null,r,i,!0)}else r=u(t),n=f.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=l(r[n]);i[o].references--}for(var u=a(e,t),c=0;c<r.length;c++){var s=l(r[c]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}r=u}}}}}]);