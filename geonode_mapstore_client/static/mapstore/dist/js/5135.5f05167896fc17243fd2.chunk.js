(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5135],{32420:(e,t,r)=>{"use strict";r.d(t,{DH:()=>d,dN:()=>g,Bm:()=>m,FU:()=>v,v$:()=>b});var n=r(75875),o=r.n(n),i=r(8575),a=r(27418),l=r.n(a),u=["version"];function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e,t){return o().get(e+"?service=WFS&version=1.1.0&request=GetFeature",{params:l()({outputFormat:"application/json"},t)}).then((function(e){return"object"!==s(e.data)?JSON.parse(e.data):e.data}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.version,n=void 0===r?"1.1.0":r,o=i.parse(e,!0);return i.format(l()({},o,{query:l()({service:"WFS",version:n,request:"GetCapabilities"},o.query)}))},m=function(e,t,r){return o().get(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.version,o=void 0===n?"1.1.0":n,a=c(r,u),s=i.parse(e,!0);return i.format(l()({},s,{query:l()(f({service:"WFS",typeName:t,version:o,request:"GetFeature"},a),s.query)}))}(e,t,r))},v=function(e){return o().get(g(e))},b=function(e,t){return o().get(function(e,t){var r=i.parse(e,!0);return i.format(f(f({},r),{},{search:void 0,query:f(f({},r.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))}(e,t)).then((function(e){return e.data}))}},39980:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(67294),o=r.n(n),i=r(45697),a=r.n(i),l=r(21222);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var d,g,m,v=/^[\s\S]*<body>([\s\S]*)<\/body>[\s\S]*$/i,b=/(<style[\s\=\w\/\"]*>[^<]*<\/style>)/i,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(i){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return f(this,e)});function u(){return c(this,u),a.apply(this,arguments)}return t=u,(r=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){var e=this.props.response||"",t=b.exec(e),r=t&&2===t.length?b.exec(e)[1]:"";r=r.replace(/body[,]+/g,"");var n=e.replace(v,"$1").trim();return o().createElement(l.Z,{html:r+n})}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(o().Component);d=O,g="propTypes",m={response:a().string},g in d?Object.defineProperty(d,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[g]=m;const h=O},68843:(e,t,r)=>{"use strict";r.d(t,{Z:()=>G});var n=r(67294),o=r.n(n),i=r(18093),a=r(41106),l=r.n(a),u=r(59286),c=r(21222),s=r(5346),p=r(47037),f=r.n(p),y=r(45697),d=r.n(y),g=r(61239);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function h(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(l,e);var t,r,n,i,a=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(n);if(i){var r=P(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return h(this,e)});function l(){var e;v(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return F(w(e=a.call.apply(a,[this].concat(r))),"getBodyItems",(function(){var t,r,n,i;return Object.keys((null===(t=e.props)||void 0===t||null===(r=t.feature)||void 0===r?void 0:r.properties)||{}).filter((null===(n=e.props)||void 0===n||null===(i=n.include)||void 0===i?void 0:i.length)>0?e.toInclude:e.toExclude).map((function(t){var r=e.renderProperty(e.props.feature.properties[t]);return o().createElement("li",{key:t,style:e.props.listStyle},o().createElement("div",{className:"ms-properties-viewer-key"},e.props.labelIds[t]?o().createElement(s.Z,{msgId:e.props.labelIds[t]}):t),(0,g.Y)(r)?o().createElement("div",{className:"ms-properties-viewer-value",dangerouslySetInnerHTML:{__html:r}}):o().createElement("div",{className:"ms-properties-viewer-value"},r))}))})),F(w(e),"renderHeader",(function(){var t;if(void 0===(null===(t=e.props.feature)||void 0===t?void 0:t.id))return null;var r=e.props.feature.id+"";return o().createElement("div",{key:r,style:e.props.titleStyle,className:"ms-properties-viewer-title"},r)})),F(w(e),"renderBody",(function(){var t=e.getBodyItems();return 0===t.length?null:o().createElement("ul",{className:"ms-properties-viewer-body"},t)})),F(w(e),"renderProperty",(function(e){return f()(e)?e:JSON.stringify(e)})),F(w(e),"toExclude",(function(t){return-1===e.props.exclude.indexOf(t)})),F(w(e),"toInclude",(function(t){return-1!==e.props.include.indexOf(t)})),e}return t=l,(r=[{key:"render",value:function(){return o().createElement("div",{className:"ms-properties-viewer",style:this.props.componentStyle},this.renderHeader(),this.renderBody())}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(o().Component);F(S,"displayName","PropertiesViewer"),F(S,"propTypes",{exclude:d().array,include:d().array,titleStyle:d().object,listStyle:d().object,componentStyle:d().object,feature:d().object,labelIds:d().object}),F(S,"defaultProps",{exclude:[],titleStyle:{},listStyle:{},componentStyle:{},labelIds:{}});const E=S;var T=r(88798);function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}var j,I,N,C=(j={},N={include:["title","description"],labelIds:{title:"annotations.field.title",description:"annotations.field.description"}},(I=r(58767).jB)in j?Object.defineProperty(j,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):j[I]=N,j);function R(e){var t=e.layer,r=e.component,n=e.feature,i=(null==t?void 0:t.rowViewer)||(null==t?void 0:t.layerId),a=f()(i)?C[i]:{},l=null!=a&&a.exclude?a.exclude:["bbox"],u=null==a?void 0:a.include,c=null==a?void 0:a.labelIds,s=(f()(i)?(0,T.ZX)(i):i)||r||E;return o().createElement(s,L({},n.properties,{feature:n,labelIds:c,exclude:l,include:u}))}R.propTypes={layer:d().string,component:d().array,feature:d().array},R.defaultProps={layer:{},feature:{}};const A=R;var x={TEMPLATE:function(e){var t=e.layer,r=void 0===t?{}:t,n=e.response;return o().createElement("div",{className:"ms-template-viewer"},n.features.map((function(e,t){var n=(0,u.getCleanTemplate)(r.featureInfo&&r.featureInfo.template||"",e,/\$\{.*?\}/g,2,1),i="";try{i=l()(n)(e)}catch(e){return console.error(e),o().createElement("div",{key:t},o().createElement(s.Z,{msgId:"layerProperties.templateError"}))}return o().createElement("div",{key:t},o().createElement(c.Z,{html:i}))})))},PROPERTIES:function(e){var t=e.response,r=e.layer,n=e.rowViewer;return o().createElement("div",{className:"mapstore-json-viewer"},((null==t?void 0:t.features)||[]).map((function(e,t){return o().createElement(A,{key:t,feature:e,layer:r,component:n})})))}};const G=(0,i.shouldUpdate)((function(e,t){return t.response!==e.response}))((function(e){var t=e.layer&&e.layer.featureInfo&&e.layer.featureInfo.format&&e.layer.featureInfo.template&&"<p><br></p>"!==e.layer.featureInfo.template&&e.layer.featureInfo.format||"PROPERTIES",r=x[t]||x.PROPERTIES;return o().createElement(r,e)}))},529:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(45697),o=r.n(n),i=r(67294),a=r.n(i);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var y,d,g,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(n);if(o){var r=f(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function l(){return u(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){return a().createElement("pre",null,this.props.response)}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(a().Component);y=m,d="propTypes",g={response:o().string},d in y?Object.defineProperty(y,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):y[d]=g;const v=m},21222:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(45697),o=r.n(n),i=r(67294),a=r.n(i);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function p(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(n);if(o){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return p(this,e)});function l(){var e;u(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(f(e=i.call.apply(i,[this].concat(r))),"getSourceCode",(function(){return{__html:e.props.html}})),e}return t=l,(r=[{key:"render",value:function(){return a().createElement("div",{id:this.props.id,style:this.props.style,dangerouslySetInnerHTML:this.getSourceCode()})}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(a().Component);d(g,"propTypes",{html:o().string,id:o().string,style:o().object}),d(g,"defaultProps",{style:{color:"#000000"}});const m=g},53005:(e,t,r)=>{"use strict";r.d(t,{O7:()=>n,so:()=>o,cX:()=>c});var n={TEXT:"text/plain",HTML:"text/html",JSONP:"text/javascript",PROPERTIES:"application/json",JSON:"application/json",GML2:"application/vnd.ogc.gml",GML3:"application/vnd.ogc.gml/3.1.1",TEMPLATE:"application/json"},o={"text/plain":"TEXT","text/html":"HTML","text/javascript":"JSONP","application/json":"JSON","application/vnd.ogc.gml":"GML2","application/vnd.ogc.gml/3.1.1":"GML3"},i=/^[\s\S]*<gml:featureMembers[^>]*>([\s\S]*)<\/gml:featureMembers>[\s\S]*$/i,a=/^[\s\S]*<body[^>]*>([\s\S]*)<\/body>[\s\S]*$/i;function l(e){if("string"==typeof e.response){var t=e.response.match(a);return e.layerMetadata&&e.layerMetadata.regex?t&&t[1]&&t[1].match(e.layerMetadata.regex):t&&t[1]&&t[1].trim().length>0}return!1}function u(e){if("string"==typeof e.response&&-1!==e.response.indexOf("<?xml")){var t=e.response.match(i);return t&&t[1]&&t[1].trim().length>0}return!1}var c={HTML:{getValidResponses:function(e){return e.filter(l)},getNoValidResponses:function(e){return e.filter((function(e){return!l(e)}))}},TEXT:{getValidResponses:function(e){return e.filter((function(e){return""!==e.response&&"string"==typeof e.response&&0!==e.response.indexOf("no features were found")&&"string"==typeof e.response&&0!==e.response.indexOf("<?xml")}))},getNoValidResponses:function(e){return e.filter((function(e){return""===e.response||"string"==typeof e.response&&0===e.response.indexOf("no features were found")||e.response&&"string"==typeof e.response&&0===e.response.indexOf("<?xml")}))}},JSON:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},PROPERTIES:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},GML3:{getValidResponses:function(e){return e.filter(u)},getNoValidResponses:function(e){return e.filter((function(e){return!u(e)}))}},TEMPLATE:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}}}},47805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{cqlToOgc:()=>A,escapeCQLStrings:()=>x,checkOperatorValidity:()=>G,isCrossLayerFilterValid:()=>D,setupCrossLayerFilterDefaults:()=>B,ogcDateField:()=>V,ogcListField:()=>U,ogcStringField:()=>Y,ogcBooleanField:()=>W,ogcArrayField:()=>_,ogcNumberField:()=>H,processOGCSimpleFilterField:()=>Q,toOGCFilterParts:()=>z,toOGCFilter:()=>K,processOGCFilterGroup:()=>Z,processOGCFilterFields:()=>$,getGmlPointElement:()=>ee,getGmlPolygonElement:()=>te,getGmlLineStringElement:()=>re,processOGCGeometry:()=>ne,processOGCSpatialFilter:()=>oe,getGetFeatureBase:()=>ie,getCrossLayerCqlFilter:()=>ae,processOGCCrossLayerFilter:()=>le,toCQLFilter:()=>ue,processCQLFilterGroup:()=>ce,getCQLGeometryElement:()=>se,processCQLSpatialFilter:()=>pe,cqlDateField:()=>fe,cqlArrayField:()=>ye,cqlStringField:()=>de,cqlBooleanField:()=>ge,cqlNumberField:()=>me,findSubGroups:()=>ve,cqlListField:()=>be,processCQLFilterFields:()=>Oe,processCQLSimpleFilterField:()=>he,getOgcAllPropertyValue:()=>we,getSLD:()=>Pe,getWFSFilterData:()=>Fe,isLikeOrIlike:()=>Se,isFilterEmpty:()=>Ee,isFilterValid:()=>Te,composeAttributeFilters:()=>je,reprojectFilterInNativeCrs:()=>Ie,normalizeFilterCQL:()=>Ne,createFeatureFilter:()=>Ce,mergeFiltersToOGC:()=>Re});var n=r(65692),o=r(78889),i=r(99321),a=r(89291),l=r(89737),u=r(2245),c=r.n(u),s=r(86267),p=r(27361),f=r.n(p),y=r(14293),d=r.n(y),g=r(52353),m=r.n(g),v=r(1469),b=r.n(v),O=r(13311),h=r.n(O),w=r(30998),P=r.n(w),F=r(47037),S=r.n(F),E=r(85564),T=r.n(E);function L(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R,A=function(e,t){var r=c()(t);return(0,l.Z)(r)((0,a.read)(e))},x=function(e){return e&&e.replace?e.replace(/\'/g,"''"):e},G=function(e,t){return!d()(e)&&"isNull"!==t||!m()(e)&&"isNull"===t},D=function(e){return f()(e,"operation",!1)&&f()(e,"collectGeometries.queryCollection.typeName",!1)&&f()(e,"collectGeometries.queryCollection.geometryName",!1)},q=function(e){return'"'+e+'"'},B=function(e){if(!e||!f()(e,"collectGeometries.queryCollection"))return null;if(f()(e,"collectGeometries.queryCollection")){var t=(f()(e,"collectGeometries.queryCollection.filterFields")||[]).filter((function(e){return G(e.value,e.operator)})),r=f()(e,"collectGeometries.queryCollection.groupFields")||[{id:1,index:0,logic:"OR"}];return N(N({},e),{},{collectGeometries:N(N({},e.collectGeometries),{},{queryCollection:N(N({},e.collectGeometries.queryCollection),{},{filterFields:t,groupFields:r})})})}return null},k=function(e){return e?"1.0"===e?"1.0.0":"1.1"===e?"1.1.0":e:"2.0"},M={ogc:{startTag:"<ogc:PropertyName>",endTag:"</ogc:PropertyName>"},fes:{startTag:"<fes:ValueReference>",endTag:"</fes:ValueReference>"}},V=function(e,t,r,n){var o;if("><"===t){if(r.startDate&&r.endDate){var a=r.startDate.toISOString?r.startDate.toISOString():r.startDate,l=r.endDate.toISOString?r.endDate.toISOString():r.endDate;o=i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag+"<"+n+":LowerBoundary><"+n+":Literal>"+a+"</"+n+":Literal></"+n+":LowerBoundary><"+n+":UpperBoundary><"+n+":Literal>"+l+"</"+n+":Literal></"+n+":UpperBoundary>")}}else if(r.startDate){var u=r.startDate.toISOString?r.startDate.toISOString():r.startDate;o=i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag+"<"+n+":Literal>"+u+"</"+n+":Literal>")}return o},U=function(e,t,r,n){var o;return d()(r)||(o=i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>")),o},Y=function(e,t,r,n){var o;return G(r,t)&&(o="isNull"===t?i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag):"="===t?i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>"):i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag+"<"+n+":Literal>*"+r+"*</"+n+":Literal>")),o},W=function(e,t,r,n){var o="";return G(r,t)&&"="===t&&""!==r&&(o=i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag+"<"+n+":Literal>"+r+"</"+n+":Literal>")),o},_=function(e,t,r,n){var o="";return G(r,t)&&"contains"===t&&""!==r&&(o="<".concat(n,":PropertyIsEqualTo>\n                <").concat(n,':Function name="InArray">\n                    <').concat(n,":Literal>").concat(r,"</").concat(n,":Literal>\n                    <").concat(n,":PropertyName>").concat(e,"</").concat(n,":PropertyName>\n                </").concat(n,":Function>\n                <").concat(n,":Literal>true</").concat(n,":Literal>\n            </").concat(n,":PropertyIsEqualTo>")),o},H=function(e,t,r,n){var o;if("><"===t)d()(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?d()(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?d()(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(o=i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag+"<"+n+":LowerBoundary><"+n+":Literal>"+r.lowBound+"</"+n+":Literal></"+n+":LowerBoundary><"+n+":UpperBoundary><"+n+":Literal>"+r.upBound+"</"+n+":Literal></"+n+":UpperBoundary>")):o=i.ogcComparisonOperators["<="](n,M[n].startTag+e+M[n].endTag+"<"+n+":Literal>"+r.upBound+"</"+n+":Literal>"):o=i.ogcComparisonOperators[">="](n,M[n].startTag+e+M[n].endTag+"<"+n+":Literal>"+r.lowBound+"</"+n+":Literal>");else{var a=d()(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;d()(a)||(o=i.ogcComparisonOperators[t](n,M[n].startTag+e+M[n].endTag+"<"+n+":Literal>"+a+"</"+n+":Literal>"))}return o},Q=function(e,t){var r="";switch(e.type){case"date":r=V(e.attribute,e.operator,e.values,t);break;case"array":r=_(e.attribute,e.operator,e.values,t);break;case"number":r=H(e.attribute,e.operator,e.values,t);break;case"string":r=Y(e.attribute,e.operator,e.values,t);break;case"boolean":r=W(e.attribute,e.operator,e.values,t);break;case"list":e.values&&e.values.length>0&&(r=e.values.reduce((function(r,n){var o=null===n||"null"===n?"isNull":"=";return r+Y(e.attribute,o,n,t)}),""),r=i.ogcLogicalOperators.OR(t,r))}return r},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.typeName,r=e.geometryName,n=e.cqlFilter,o=void 0===n?"INCLUDE":n;return"queryCollection('".concat(t,"', '").concat(r,"','").concat(x(o),"')")},J=function(e){return"collectGeometries(".concat(e,")")},z=function(e,t,r){var n,a,l,u,c=[];if(e.filterFields&&e.filterFields.length>0)""!==(n=e.groupFields&&e.groupFields.length>0?R.processOGCFilterGroup(e.groupFields[0],e,r):R.processOGCFilterFields(null,e,r))&&c.push(n);else if(e.simpleFilterFields&&e.simpleFilterFields.length>0){var s=i.ogcLogicalOperators.AND(r,e.simpleFilterFields.map((function(e){return Q(e,r)})).join(""));c.push(s)}if(b()(e.spatialField)?(u=h()(e.spatialField,(function(e){return"BBOX"===e.operation})))||(l=e.spatialField):e.spatialField&&("BBOX"===e.spatialField.operation?u=e.spatialField:l=[e.spatialField]),u){if(b()(u.geometry&&u.geometry.extent[0])){var p=u.geometry.extent.reduce((function(e,n){var o=Object.assign({},u);return u.geometry.extent=n,e+R.processOGCSpatialFilter(t,o,r)}),"");a=i.ogcLogicalOperators.OR(r,p)}c.push(a)}else if(l&&(l=l.filter((function(e){return e&&e.geometry&&e.operation}))).length>0){var f=l.map((function(e){return R.processOGCSpatialFilter(t,e,r)})).join("");a=l.length>1?i.ogcLogicalOperators[e.spatialFieldOperator||"AND"](r,f):f,c.push(a)}if(e.crossLayerFilter&&e.crossLayerFilter.operation){var y=N(N({},e.crossLayerFilter),{},{attribute:e.crossLayerFilter.attribute});Array.isArray()?y.forEach((function(e){return c.push(R.processOGCCrossLayerFilter(e,r))})):c.push(R.processOGCCrossLayerFilter(y,r))}return e.options&&e.options.cqlFilter&&c.push(A(e.options.cqlFilter,{filterNS:r,wfsVersion:t,gmlVersion:(0,o.wfsToGmlVersion)(t)})),c},K=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"EPSG:4326";try{n=t instanceof Object?t:JSON.parse(t)}catch(e){return e}var c=k(r||"2.0"),s="2.0"===c?"fes":"ogc",p=R.getGetFeatureBase(c,n.pagination,i,a,t&&t.options),f=R.toOGCFilterParts(n,c,s),y="";return f.length>0&&(y="<"+s+":Filter>",1===f.length?y+=f[0]:(y+="<"+s+":And>",f.forEach((function(e){y+=e})),y+="</"+s+":And>"),y+="</"+s+":Filter>"),p+="<wfs:Query ".concat("2.0"===c?"typeNames":"typeName",'="').concat(e,'" ').concat("native"!==u&&'srsName="'.concat(u,'"')||"",">"),p+=y,l&&(p+=l.map((function(e){return M[s].startTag+e+M[s].endTag})).join("")),o&&o.sortBy&&o.sortOrder&&(p+="<"+s+":SortBy><"+s+":SortProperty>"+M[s].startTag+o.sortBy+M[s].endTag+"<"+s+":SortOrder>"+o.sortOrder+"</"+s+":SortOrder></"+s+":SortProperty></"+s+":SortBy>"),p+"</wfs:Query></wfs:GetFeature>"},Z=function(e,t,r){var n=R.processOGCFilterFields(e,t,r),o=R.findSubGroups(e,t.groupFields);return o.length>0&&o.forEach((function(e){n+=R.processOGCFilterGroup(e,t,r)})),""!==n?i.ogcLogicalOperators[e.logic](r,n):""},$=function(e,t,r){var n=e?t.filterFields.filter((function(t){return t.groupId===e.id&&G(t.value,t.operator)})):t.filterFields.filter((function(e){return G(e.value,e.operator)}));return n.length?n.reduce((function(e,t){var n;switch(t.type){case"date":case"date-time":case"time":n=V(t.attribute,t.operator,t.value,r);break;case"number":n=H(t.attribute,t.operator,t.value,r);break;case"string":n=Y(t.attribute,t.operator,t.value,r);break;case"boolean":n=W(t.attribute,t.operator,t.value,r);break;case"list":n=U(t.attribute,t.operator,t.value,r);break;case"array":n=_(t.attribute,t.operator,t.value,r)}return"isNull"===t.operator&&(n=Y(t.attribute,t.operator,t.operator,r)),n&&e.push(n),e}),[]).join(""):""},ee=function(e,t,r){return(0,n.pointElement)(e,t,(0,o.wfsToGmlVersion)(r))},te=function(e,t,r){return(0,n.polygonElement)(e,t,(0,o.wfsToGmlVersion)(r))},re=function(e,t,r){return(0,n.lineStringElement)(e,t,(0,o.wfsToGmlVersion)(r))},ne=function(e,t){return(0,n.processOGCGeometry)((0,o.wfsToGmlVersion)(e),t)},oe=function(e,t,r){if(t.collectGeometries)return R.processOGCCrossLayerFilter(t);var a=M[r].startTag+t.attribute+M[r].endTag;switch(t.operation){case"INTERSECTS":case"DWITHIN":case"WITHIN":case"CONTAINS":a+=(0,n.processOGCGeometry)((0,o.wfsToGmlVersion)(e),t.geometry),"DWITHIN"===t.operation&&(a+="<"+r+':Distance units="m">'+(t.geometry.distance||0)+"</"+r+":Distance>");break;case"BBOX":var l=t.geometry.extent[0]+" "+t.geometry.extent[1],u=t.geometry.extent[2]+" "+t.geometry.extent[3];a+='<gml:Envelope srsName="'+t.geometry.projection+'"><gml:lowerCorner>'+l+"</gml:lowerCorner><gml:upperCorner>"+u+"</gml:upperCorner></gml:Envelope>"}return i.ogcSpatialOperators[t.operation](r,a)},ie=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=k(e),a="<wfs:GetFeature ";switch(a+=n?'outputFormat="'+n+'" ':"",a+=t&&(t.startIndex||0===t.startIndex)?'startIndex="'+t.startIndex+'" ':"",a+=o.viewParams?' viewParams="'.concat(o.viewParams,'" '):"",i){case"1.0.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=r?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" outputFormat="GML2" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/WFS-basic.xsd"')+">";break;case"1.1.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=r?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"')+">";break;default:a+=t&&t.maxFeatures?'count="'+t.maxFeatures+'" ':"",a=r&&!t?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"')+">"}return a},ae=function(e){return f()(e,"collectGeometries.queryCollection.cqlFilter")||(f()(e,"collectGeometries.queryCollection.filterFields")||[]).length>0&&(f()(e,"collectGeometries.queryCollection.groupFields")||[]).length>0&&R.toCQLFilter(e.collectGeometries.queryCollection)||"INCLUDE"},le=function(e,t){var r=t||"ogc",n=M[r].startTag+e.attribute+M[r].endTag;if(e.collectGeometries){var o=R.getCrossLayerCqlFilter(e);n+='<ogc:Function name="collectGeometries"><ogc:Function name="queryCollection">'+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.typeName,"</ogc:Literal>")+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.geometryName,"</ogc:Literal>")+"<ogc:Literal><![CDATA[".concat(o,"]]></ogc:Literal>")+"</ogc:Function></ogc:Function>"}return"DWITHIN"===e.operation&&(n+="<"+r+':Distance units="m">'+(e.distance||0)+"</"+r+":Distance>"),i.ogcSpatialOperators[e.operation](r,n)},ue=function(e){var t;try{t=e instanceof Object?e:JSON.parse(e)}catch(e){return e}var r,n,o=[];if(t.filterFields&&t.filterFields.length>0)(r=R.processCQLFilterGroup(t.groupFields[0],t))&&o.push(r);else if(t.simpleFilterFields&&t.simpleFilterFields.length>0){var i=t.simpleFilterFields.reduce((function(e,t){var r=e,n=R.processCQLSimpleFilterField(t);return!1!==n&&(r=e.length>0?e+" AND ("+n+")":"("+n+")"),r}),"");i=i.length>0?i:"INCLUDE",o.push(i)}if(t.spatialField&&(n=R.processCQLSpatialFilter(t))&&o.push(n),t.crossLayerFilter){var a=t.crossLayerFilter,l=a.operation,u=a.attribute,c=a.collectGeometries&&a.collectGeometries.queryCollection;if(l&&u&&c){var s=c.typeName,p=c.geometryName,f=R.getCrossLayerCqlFilter(a),y=J(X({typeName:s,geometryName:p,cqlFilter:f}));o.push("".concat(l,"(").concat(u,",").concat(y,")"))}}return o.length?"("+(o.length>1?o.join(") AND ("):o[0])+")":null},ce=function(e,t){var r="NOR"===e.logic?N(N({},e),{},{logic:"AND",negateAll:!0}):e,n=R.processCQLFilterFields(r,t),o=R.findSubGroups(r,t.groupFields);if(o.length>0){var i=o.map((function(e){return(r.negateAll?"NOT (":"(")+R.processCQLFilterGroup(e,t)+")"})).join(" "+r.logic+" ");return n?[n,i].join(" "+r.logic+" "):i}return n},se=function(e,t){var r=t+"(";switch(t){case"Point":r+=e.join(" ");break;case"MultiPoint":e.forEach((function(t,n){r+=t.join(" "),r+=n<e.length-1?", ":""}));break;case"Polygon":e.forEach((function(t,o){r+="(";var i=(0,n.closePolygon)(t).map((function(e){return e[0]+" "+e[1]}));r+=i.join(", "),r+=")",r+=o<e.length-1?", ":""}));break;case"MultiPolygon":e.forEach((function(t,o){r+="(",t.forEach((function(e,o){r+="(";var i=(0,n.closePolygon)(e).map((function(e){return e[0]+" "+e[1]}));r+=i.join(", "),r+=")",r+=o<t.length-1?", ":""})),r+=")",r+=o<e.length-1?", ":""}))}return r+=")"},pe=function(e){var t=(b()(e.spatialField)?e.spatialField:[e.spatialField]).filter((function(e){return e&&e.geometry&&e.operation})),r="";return t.forEach((function(n,o){if(r+=n.operation+'("'+n.attribute+'",',n.collectGeometries&&n.collectGeometries.queryCollection)r+=J(X(n.collectGeometries.queryCollection));else{var i=n.geometry.projection||"";i=2===i.split(":").length?"SRID="+i.split(":")[1]+";":"",r+=i+R.getCQLGeometryElement(n.geometry.coordinates,n.geometry.type)}r+=")",o<t.length-1&&(r+=" ".concat(e.spatialFieldOperator||"AND"," "))})),r},fe=function(e,t,r){var n;return"><"===t?r.startDate&&r.endDate&&(n="("+e+">='"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"' AND "+e+"<='"+(r.endDate.toISOString?r.endDate.toISOString():r.endDate)+"')"):r.startDate&&(n=e+t+"'"+(r.startDate.toISOString?r.startDate.toISOString():r.startDate)+"'"),n},ye=function(e,t,r){return"contains"===t?"InArray(".concat(r,",").concat(e,")=true"):""},de=function(e,t,r){var n,o=q(e);return d()(r)||(n="isNull"===t?"isNull("+o+")=true":["<>","="].includes(t)?o+t+"'"+x(r)+"'":"ilike"===t?"strToLowerCase("+o+") LIKE '%"+x(r).toLowerCase()+"%'":o+" LIKE '%"+x(r)+"%'"),n},ge=function(e,t,r){var n="";return d()(r)||""===r||"="===t&&(n='"'+e+'"'+t+"'"+r+"'"),n},me=function(e,t,r){var n,o=q(e);if("><"===t)d()(r)||null===r.lowBound||void 0===r.lowBound||null!==r.upBound&&void 0!==r.upBound?d()(r)||null===r.upBound||void 0===r.upBound||null!==r.lowBound&&void 0!==r.lowBound?d()(r)||null===r.upBound||void 0===r.upBound||null===r.lowBound||void 0===r.lowBound||(n="("+o+">='"+r.lowBound+"' AND "+o+"<='"+r.upBound+"')"):n="("+o+"<='"+r.upBound+"')":n="("+o+">='"+r.lowBound+"')";else{var i=d()(r)||null===r.lowBound||void 0===r.lowBound?r:r.lowBound;d()(i)||(n=o+" "+t+" '"+i+"'")}return n},ve=function(e,t){return t.filter((function(t){return t.groupId===e.id}))},be=function(e,t,r){return R.cqlStringField(e,t,r)},Oe=function(e,t){var r=t.filterFields.filter((function(t){return t.groupId===e.id})),n=[];return r&&(r.forEach((function(t){var r;switch(t.type){case"date":case"time":case"date-time":r=R.cqlDateField(t.attribute,t.operator,t.value);break;case"number":r=R.cqlNumberField(t.attribute,t.operator,t.value);break;case"string":r=R.cqlStringField(t.attribute,t.operator,t.value);break;case"boolean":r=R.cqlBooleanField(t.attribute,t.operator,t.value);break;case"list":r=R.cqlListField(t.attribute,t.operator,t.value);break;case"array":r=R.cqlArrayField(t.attribute,t.operator,t.value)}r&&n.push(e.negateAll?"NOT ("+r+")":r)})),n=n.join(" "+e.logic+" ")),n},he=function(e){var t=!1;switch(e.type){case"date":t=R.cqlDateField(e.attribute,e.operator,e.values);break;case"number":t=R.cqlNumberField(e.attribute,e.operator,e.values);break;case"string":t=R.cqlStringField(e.attribute,e.operator,e.values);break;case"boolean":t=R.cqlBooleanField(e.attribute,e.operator,e.values);break;case"list":if(e.values.length!==e.optionsValues.length){var r=!1,n=e.values.reduce((function(e,t){return null===t||"null"===t?r=!0:e.push("'"+t+"'"),e}),[]);t=n.length>0?e.attribute+" IN("+n.join(",")+")":t,r&&(t=t?t+" OR isNull("+e.attribute+")=true":"isNull("+e.attribute+")=true")}}return!!(t&&t.length>0)&&t},we=function(e,t){return'<wfs:GetPropertyValue service="WFS" valueReference=\''.concat(t,'\'\n                version="2.0" xmlns:fes="http://www.opengis.net/fes/2.0"\n                xmlns:gml="http://www.opengis.net/gml/3.2"\n                xmlns:wfs="http://www.opengis.net/wfs/2.0"\n                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n                xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd">\n                    <wfs:Query typeNames="').concat(e,'"/>\n            </wfs:GetPropertyValue>')},Pe=function(e,t,r){var n=R.toOGCFilter(e,t,r),o=n.search("<".concat(R.nsplaceholder,":Filter>"));if(-1!==o){var i=n.search("</wfs:Query>");n=n.substr(o,i-o)}else n="";return'<StyledLayerDescriptor version="1.0.0"\n            xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml" xmlns:gsml="urn:cgi:xmlns:CGI:GeoSciML:2.0" xmlns:sld="http://www.opengis.net/sld" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><NamedLayer><Name>'.concat(e,"</Name><UserStyle><FeatureTypeStyle><Rule >").concat(n,'<PointSymbolizer><Graphic><Mark><WellKnownName>circle</WellKnownName><Fill><CssParameter name="fill">#0000FF</CssParameter></Fill></Mark><Size>20</Size></Graphic></PointSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer></StyledLayerDescriptor>')},Fe=function(e,t){return"string"==typeof e?e:"OGC"===e.filterType?R.toOGCFilter(e.featureTypeName,N(N({},e),{},{options:t}),e.ogcVersion,e.sortOptions,e.hits):R.toCQLFilter(e)},Se=function(e){return"ilike"===e||"like"===e},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterFields,r=void 0===t?[]:t,n=e.spatialField,o=void 0===n?{}:n,i=e.crossLayerFilter,a=void 0===i?{}:i;return!(r.filter((function(e){return e.value||0===e.value})).length>0||o.geometry||a&&a.attribute&&a.operation)},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filterFields&&e.filterFields.length>0||e.simpleFilterFields&&e.simpleFilterFields.length>0||e.spatialField&&e.spatialField.geometry&&e.spatialField.operation||b()(e.spatialField)&&P()(e.spatialField,(function(e){return e.operation&&e.geometry}))>-1||e.crossLayerFilter&&e.crossLayerFilter.collectGeometries&&e.crossLayerFilter.collectGeometries.queryCollection&&e.crossLayerFilter.collectGeometries.queryCollection.geometryName&&e.crossLayerFilter.collectGeometries.queryCollection.typeName},Le=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return T()(t.filter((function(e){return!!e})))},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AND",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AND",n={id:(new Date).getTime(),index:0,logic:t};return e.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.filterFields,i=void 0===o?[]:o,a=t.groupFields,l=void 0===a?[]:a,u=t.spatialField,c=arguments.length>2?arguments[2]:void 0;return{groupFields:e.groupFields.concat(i.length>0&&l.map((function(e){return{groupId:0===e.index&&n.id||"".concat(e.groupId,"_").concat(c),logic:e.logic,id:"".concat(e.id,"_").concat(c),index:1+e.index}}))||[]),filterFields:e.filterFields.concat(i.map((function(e){return N(N({},e),{},{groupId:"".concat(e.groupId,"_").concat(c)})}))),spatialField:Le(e.spatialField,u),spatialFieldOperator:r}}),{groupFields:[n],filterFields:[],spatialField:[]})},Ie=function(e,t){var r,n=e.spatialField.geometry.projection,o=e.spatialField.geometry.center,i=e.spatialField.geometry.radius,a=(0,s.reprojectGeoJson)(e.spatialField.geometry,e.spatialField.geometry.projection||"EPSG:3857",t).coordinates,l=o&&[(r=(0,s.reproject)(o,n,t)).x,r.y],u=i&&(0,s.reproject)([i,0],n,t).x;return N(N({},e),{},{spatialField:N(N({},e.spatialField),{},{geometry:N(N({},e.spatialField.geometry),{},{center:l,radius:u,coordinates:a,projection:t})})})},Ne=function(e,t){return e&&e.spatialField&&e.spatialField.geometry&&e.spatialField.geometry.coordinates&&e.spatialField.geometry.coordinates[0]&&(e.spatialField.projection||"EPSG:3857")!==t?t?R.reprojectFilterInNativeCrs(e,t):N(N({},e),{},{spatialField:void 0}):e},Ce=function(e){return function(t){if(!e)return!0;for(var r=e.filterFields,n=void 0===r?[]:r,o=0;o<n.length;o++){if(void 0===t.properties[n[o].attribute])return!1;if("string"===n[o].type&&!t.properties[n[o].attribute].toLowerCase().includes(n[o].value.toLowerCase()))return!1;if("boolean"===n[o].type&&!t.properties[n[o].attribute].toLowerCase().includes(n[o].value.toLowerCase()))return!1;if("number"===n[o].type&&parseFloat(n[o].attribute)!==parseFloat(t.properties[n[o].attribute]))return!1;if("date"===n[o].type){var i=new Date(t.properties[n[o].attribute]),a=new Date(n[o].value.startDate);if(i.getFullYear()!==a.getFullYear()||i.getMonth()!==a.getMonth()||i.getDay()!==a.getDay())return!1}}return!0}},Re=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nsPlaceholder,r=void 0===t?"ogc":t,n=e.ogcVersion,i=void 0===n?"2.0":n,u=e.addXmlnsToRoot,s=void 0!==u&&u,p=e.xmlnsToAdd,f=void 0===p?[]:p,y=c()({filterNS:r,wfsVersion:i,gmlVersion:(0,o.wfsToGmlVersion)(i)}),d=(0,l.Z)(y),g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];var b=y.filter(y.and.apply(y,L(T()(m.filter((function(e){return!!e&&(S()(e)||Te(e)&&!e.disabled)})).map((function(e){return S()(e)?[d((0,a.read)(e))]:z(e,i,r)}))))));if(s){var O=b.indexOf(">");return"".concat(b.slice(0,O)).concat(f.length>0?" ".concat(f.join(" ")):"").concat(b.slice(O))}return b};R={processOGCFilterGroup:Z,processOGCFilterFields:$,processOGCCrossLayerFilter:le,getGetFeatureBase:ie,toOGCFilterParts:z,findSubGroups:ve,toCQLFilter:ue,getCrossLayerCqlFilter:ae,processCQLFilterGroup:ce,processCQLSimpleFilterField:he,processCQLSpatialFilter:pe,processCQLFilterFields:Oe,getCQLGeometryElement:se,cqlStringField:de,cqlDateField:fe,cqlNumberField:me,cqlArrayField:ye,cqlBooleanField:ge,cqlListField:be,toOGCFilter:K,reprojectFilterInNativeCrs:Ie,processOGCSpatialFilter:oe,createFeatureFilter:Ce,mergeFiltersToOGC:Re}},53231:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map((function(e){var t=e.name,r=e.value;return"".concat(t,":").concat(r)})).join(";"):""}},88798:(e,t,r)=>{"use strict";r.d(t,{Fm:()=>ee,y_:()=>oe,K7:()=>le,eq:()=>J,lY:()=>z,wR:()=>K,mx:()=>Z,pf:()=>te,su:()=>$,ZX:()=>se,Te:()=>re,gA:()=>ae,Qm:()=>ne,j9:()=>ce});var n=r(53005),o=r(60130),i=r.n(o),a=r(30998),l=r.n(a),u=r(3918),c=r.n(u),s=r(68843),p=r(39980),f=r(529),y=r(89255),d=r(86267),g=r(24262),m=r(13218),v=r.n(m),b=r(43378),O=r(32420),h=r(38848),w=r(33044),P=r(27418),F=r.n(P),S=["point"];function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const j={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.map,n=void 0===r?{}:r,o=t.point,i=t.currentLocale,a=t.params,l=t.maxItems,u=void 0===l?10:l,c=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return{request:(0,w.addAuthenticationToSLD)(T({point:o,service:"WFS",version:"1.1.1",request:"GetFeature",outputFormat:"application/json",exceptions:"application/json",id:e.id,typeName:e.name,srs:(0,d.normalizeSRS)(n.projection)||"EPSG:4326",feature_count:u},F()({params:a})),e),metadata:{title:v()(e.title)?e.title[i]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:c,featureInfo:s},url:(0,g.Hi)(e).replace(/[?].*$/g,"")}},getIdentifyFlow:function(e,t,r){var n=r.point,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,S),i=function(e){var t,r,n=null==e||null===(t=e.geometricFilter)||void 0===t||null===(r=t.value)||void 0===r?void 0:r.geometry;if(n)return n;var o=e.latlng.lng;return{coordinates:[o-360*Math.floor(o/360+.5),e.latlng.lat],projection:"EPSG:4326",type:"Point"}}(n);return y.Observable.defer((function(){return(0,O.v$)(e.url,e.name).then((function(r){var n=(0,h.dm)(r),a=(0,b.v)({layerFilter:e.layerFilter,filterObj:{spatialField:{attribute:n,operation:"INTERSECTS",geometry:i}},params:F()({},e.baseParams,e.params,o)});return(0,O.Bm)(t,e.name,a)}))}))}};var I=r(52259),N=r(14293),C=r.n(N),R=r(53231);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const D={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sizeBBox,n=t.map,o=void 0===n?{}:n,i=t.point,a=t.currentLocale,l=t.params,u=t.maxItems,c=void 0===u?10:u,s=t.env,p=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0,y=arguments.length>4?arguments[4]:void 0,m=r&&r.height||101,O=r&&r.width||101,h=[m,O],P=0,S=C()(o.resolution)?(0,I.getCurrentResolution)(Math.ceil(o.zoom),0,21,96):o.resolution,E=i.latlng.lng,T=E-360*Math.floor(E/360+.5),L={x:T,y:i.latlng.lat},j=(0,d.reproject)(L,"EPSG:4326",o.projection),N=(0,d.getProjectedBBox)(j,S,P,h,null),A=e.name;e.queryLayers&&(A=e.queryLayers.join(","));var G=(0,R.h)(s),D=(0,b.v)({layerFilter:e.layerFilter,filterObj:e.filterObj,params:F()({},e.baseParams,e.params,l)});return{request:(0,w.addAuthenticationToSLD)(x({service:"WMS",version:"1.1.1",request:"GetFeatureInfo",exceptions:"application/json",id:e.id,layers:e.name,query_layers:A,styles:e.style,x:O%2==1?Math.ceil(O/2):O/2,y:O%2==1?Math.ceil(O/2):O/2,height:m,width:O,srs:(0,d.normalizeSRS)(o.projection)||"EPSG:4326",bbox:N.minx+","+N.miny+","+N.maxx+","+N.maxy,feature_count:c,info_format:p,ENV:G},F()({},D)),e),metadata:{title:v()(e.title)?e.title[a]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:f,featureInfo:y},url:(0,g.Hi)(e).replace(/[?].*$/g,"")}}};var q=r(7294);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const V={buildRequest:function(e,t){var r=C()(t.map.resolution)?(0,I.getCurrentResolution)(Math.round(t.map.zoom),0,21,96):t.map.resolution,n=e.resolutions||(0,I.getResolutions)(),o=e.tileSize||256,i=[e.originX||-20037508.3428,e.originY||20037508.3428],a=t.point.latlng.lng,l={x:a-360*Math.floor(a/360+.5),y:t.point.latlng.lat},u=(0,d.reproject)(l,"EPSG:4326",t.map.projection),c=(0,d.normalizeSRS)(e.srs||t.map.projection||"EPSG:3857",e.allowedSRS),s=(0,q.C2)(e.tileMatrixSet,c,e.allowedSRS,e.matrixIds),p=(u.x-i[0])/(r*o),f=(i[1]-u.y)/(r*o),y=Math.floor(p),m=Math.floor(f),O=Math.floor((p-y)*o),h=Math.floor((f-m)*o),w=(0,q.Wg)(e.matrixIds&&(0,q.Bf)(e.matrixIds,s||c)||(0,q.nn)(e),n.length),P=(0,b.v)({layerFilter:e.layerFilter,filterObj:e.filterObj,params:F()({},e.baseParams,e.params,t.params)});return{request:k(k({service:"WMTS",request:"GetFeatureInfo",layer:e.name,infoformat:t.format,style:e.style||""},F()({},P)),{},{tilecol:y,tilerow:m,tilematrix:w[Math.round(t.map.zoom)],tilematrixset:s,i:O,j:h}),metadata:{title:v()(e.title)?e.title[t.currentLocale]||e.title.default:e.title,regex:e.featureInfoRegex},url:(0,g.Hi)(e).replace(/[?].*$/g,"")}}};var U,Y=r(50948);function W(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var J=function(){return Object.keys(n.O7).filter((function(e){return-1!==U.AVAILABLE_FORMAT.indexOf(e)})).reduce((function(e,t){return e[t]=n.O7[t],e}),{})},z=function(){return Object.keys(U.getAvailableInfoFormat()).map((function(e){return n.O7[e]}))},K=function(){return n.O7[U.AVAILABLE_FORMAT[0]]},Z=function(e,t){return e.featureInfo&&e.featureInfo.format&&n.O7[e.featureInfo.format]||t.format||U.getDefaultInfoFormatValue()},$=function(e,t,r,n,o){return Q({type:"vector",visibility:!0,name:e||"GetFeatureInfo",styleName:r||"marker",label:o,features:U.clickedPointToGeoJson(t)},n)},ee=function(e,t){if(U.services[e.type]){var r=U.getDefaultInfoFormatValueFromLayer(e,t),n=U.getLayerFeatureInfoViewer(e),o=U.getLayerFeatureInfo(e);return U.services[e.type].buildRequest(e,t,r,n,o)}return{}},te=function(e,t,r){return U.services[e.type]&&U.services[e.type].getIdentifyFlow?U.services[e.type].getIdentifyFlow(e,t,r):null},re=function(e){var t={getValidResponses:function(e){return e},getNoValidResponses:function(){return[]}};return{getValidResponses:function(r){return r.reduce((function(r,o){if(o){var i;o.queryParams&&o.queryParams.hasOwnProperty("info_format")&&(i=o.queryParams.info_format),o.queryParams&&o.queryParams.hasOwnProperty("outputFormat")&&(i=o.queryParams.outputFormat);var a=(n.cX[o.format||n.so[i]||n.so[e]]||t).getValidResponses([o]);return[].concat(W(r),W(a))}return W(r)}),[])},getNoValidResponses:function(r){return r.reduce((function(r,o){if(o){var i;o.queryParams&&o.queryParams.hasOwnProperty("info_format")&&(i=o.queryParams.info_format),o.queryParams&&o.queryParams.hasOwnProperty("outputFormat")&&(i=o.queryParams.outputFormat);var a=(n.cX[o.format||n.so[i]||n.so[e]]||t).getNoValidResponses([o]);return[].concat(W(r),W(a))}return W(r)}),[])}}},ne=function(){var e;return X(e={},n.O7.PROPERTIES,s.Z),X(e,n.O7.JSON,s.Z),X(e,n.O7.HTML,p.Z),X(e,n.O7.TEXT,f.Z),e},oe=function(e){var t;return e.visibility&&U.services[e.type]&&(void 0===e.queryable||e.queryable)&&"background"!==e.group&&"HIDDEN"!==(null==e||null===(t=e.featureInfo)||void 0===t?void 0:t.format)},ie={wfs:j,wms:D,wmts:V,vector:r.n(Y)()},ae=function(e){return U.VIEWERS[e]?U.VIEWERS[e]:null},le=function(e,t,r){var n=t||[],o=r||[];return Object.keys(e).reduce((function(t,r){if("params"!==r&&-1!==n.indexOf(r))t[r]=e[r];else if("params"===r&&o.length>0){var i=e[r];Object.keys(i).forEach((function(e){-1===l()(o,(function(t){return t===e}))&&(t[e]=i[e])}),{})}return t}),{})},ue={},ce=function(e,t){ue[e]=t},se=function(e){return ue[e]};U={AVAILABLE_FORMAT:["TEXT","PROPERTIES","HTML","TEMPLATE"],getAvailableInfoFormatLabels:function(){return Object.keys(U.getAvailableInfoFormat())},getAvailableInfoFormat:J,getDefaultInfoFormatValue:K,clickedPointToGeoJson:function(e){if(!e)return[];if("Feature"===e.type){var t=[i()(e)];return e&&e.geometry&&"Point"!==e.geometry.type&&t.push(e),t}return void 0===e.lng||void 0===e.lat?e.features||[]:[].concat(W(e.features||[]),[{id:"get-feature-info-point",type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lng),parseFloat(e.lat)]},style:[{iconUrl:c(),iconAnchor:[12,41],iconSize:[25,41]}]}])},services:ie,getDefaultInfoFormatValueFromLayer:Z,getLayerFeatureInfoViewer:function(e){return e.featureInfo&&e.featureInfo.viewer?e.featureInfo.viewer:{}},getLayerFeatureInfo:function(e){return e&&e.featureInfo&&Q({},e.featureInfo)||{}},VIEWERS:{},registerRowViewer:ce,getRowViewer:se}},61239:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n,v:()=>o});var n=function(e){return new RegExp("<(.|\\n)*?>","g").test(e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return t.test(e)}},59286:(e,t,r)=>{"use strict";r.r(t),r.d(t,{validateStringAttribute:()=>f,getCleanTemplate:()=>y,parseCustomTemplate:()=>d,generateTemplateString:()=>g,parseTemplate:()=>m,default:()=>v});var n,o=r(47037),i=r.n(o),a=r(18721),l=r.n(a),u=r(92742),c=r.n(u),s=r(41106),p=r.n(s),f=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=i()(t)&&c()(t.substring(r,t.length-n))||"";return l()(e,o)},y=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return""},l=i()(e)&&e.match(r),u=l&&l.map((function(e){var r=e.replace(/(<([^>]+)>)/gi,"");return{previous:e,next:f(t,r,n,o)?r:a(e)}}))||null;return u&&u.reduce((function(e,t){return e.replace(t.previous,t.next)}),e)||e||""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return"".concat(c()(e.substring(2,e.length-1))," Not Available")};return p()(y(e||"",t,/\$\{.*?\}/g,2,1,r))(t)},g=(n={},function(e,t){var r=n[e];return r&&!t||(r=function(r){var n=e.replace(/\$\{([\s]*[^;\s\{]+[\s]*)\}/g,(function(e,n){return(t||function(e){return e})(n.trim().split(".").reduce((function(e,t){return e&&e[t]}),r))}));return i()(n)&&n||""},t||(n[e]=r)),r}),m=function(e,t){r.e(181).then(function(){var n=r(90181),o="function"==typeof e?e():e;try{var i=n.transform(o,{presets:["es2015","react","stage-0"]}).code;t(i)}catch(e){t(null,e)}}.bind(null,r)).catch(r.oe)};const v={generateTemplateString:g,parseTemplate:m,validateStringAttribute:f,getCleanTemplate:y,parseCustomTemplate:d}},43378:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var n=r(47805);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t.layerFilter,a=t.filterObj,l=[(0,n.isFilterValid)(o)&&!o.disabled&&(0,n.toCQLFilter)(o),(0,n.isFilterValid)(a)&&(0,n.toCQLFilter)(a),t&&t.params&&t.params.CQL_FILTER,r];return(e=(l=l.filter((function(e){return!!e}))).length>1?l.map((function(e){return"(".concat(e,")")})).join(" AND "):l.pop())?i(i({},t.params),{},{CQL_FILTER:e}):t.params}},38848:(e,t,r)=>{"use strict";r.d(t,{Es:()=>p,mI:()=>f,dm:()=>y});var n=r(43378),o=(r(8575),r(27361)),i=r.n(o),a=r(91175),l=r.n(a);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e,t){var r=c(c({},(0,n.v)(e)||{}),{},{_v_:e._v_}),o=c(c({},(0,n.v)(t)||{}),{},{_v_:t._v_});return["_v_","CQL_FILTER","VIEWPARAMS"].reduce((function(e,t){return r[t]!==o[t]||e}),!1)},f=function(e){var t=i()(e,"featureTypes[0].properties")||[];return t&&l()(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.type.split(":")[1]})))},y=function(e){var t=i()(e,"featureTypes[0].properties")||[];return t&&l()(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.name})))}},7294:(e,t,r)=>{"use strict";r.d(t,{nn:()=>P,Bf:()=>F,Wg:()=>S,C2:()=>E,s5:()=>T,G6:()=>L,b4:()=>j,f1:()=>I,dN:()=>N,EN:()=>C,JY:()=>R,h7:()=>A});var n,o=r(86267),i=r(47037),a=r.n(i),l=r(1469),u=r.n(l),c=r(13218),s=r.n(c),p=r(91175),f=r.n(p),y=r(84596),d=r.n(y),g=r(12571),m=r.n(g),v=r(89734),b=r.n(v);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e){for(var t=new Array(30),r=0;r<30;++r)t[r]=e.tileMatrixPrefix+r;return t},F=function(e,t){return s()(e)&&u()(e[t])&&e[t]||u()(e)&&e||[]},S=function(e,t){return e.length>t?m()(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e},E=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;return e&&a()(e)?e:e?(0,o.getEquivalentSRS)(t,r).reduce((function(t,r){if(u()(e)){var i=f()(e.filter((function(e){return(e["ows:Identifier"]===r||(0,o.getEPSGCode)(e["ows:SupportedCRS"])===r)&&n[e["ows:Identifier"]]})));return i&&i["ows:Identifier"]?i["ows:Identifier"]:t}return s()(e)&&e[r]||t}),i):i},T=function(e){var t=n.getOperations(e);return n.getOperation(t,"GetTile","KVP")?"KVP":n.getOperation(t,"GetTile","RESTful")&&"RESTful"},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d()(e.Capabilities["ows:OperationsMetadata"]["ows:Operation"])},j=function(e,t,r){return f()(d()(f()(e.filter((function(e){return e.$.name===t})).map((function(e){return d()(e["ows:DCP"]["ows:HTTP"]["ows:Get"])})))||[]).filter((function(e){return(e["ows:Constraint"]&&e["ows:Constraint"]["ows:AllowedValues"]["ows:Value"])===r})).map((function(e){return e.$["xlink:href"]})))},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ResourceURL,r=e.GetTileURL,n=e.requestEncoding;return"KVP"===n?r:t&&d()(t).map((function(e){var t=e.$,r=void 0===t?{}:t;return r.template||r.value}))||r},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f()(d()(e.capabilitiesURL||e.GetTileURL))},C=function(e){return null!=e&&e.Style?f()(d()(e.Style).filter((function(e){var t=e.$;return"true"===(void 0===t?{}:t).isDefault})).map((function(e){return e["ows:Identifier"]}))):null},R=function(e){return f()(d()(e.Format))},A=function(e,t){var r,n,o=E(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds),i=e.matrixIds&&F(e.matrixIds,o||t),a=function(e,t){return e?h(h({},e),{},{TileMatrix:b()(null==e?void 0:e.TileMatrix.map((function(e){return h(h({},e),{},{ScaleDenominator:Number(e.ScaleDenominator)})})),"ScaleDenominator").reverse().filter((function(e){return!t||t.map((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).identifier})).indexOf(e["ows:Identifier"])>=0}))}):e}(f()(e.tileMatrixSet.filter((function(e){return e["ows:Identifier"]===o}))),i),l=null==a||null===(r=(n=a.TileMatrix).map)||void 0===r?void 0:r.call(n,(function(e){return e["ows:Identifier"]}));return{matrixIds:l&&i?i.sort((function(e,t){return l.indexOf(e.identifier)-l.indexOf(t.identifier)})):i,tileMatrixSetName:o,tileMatrixSet:a}};n={getOperations:L,getOperation:j}},50948:(e,t,r)=>{var n=r(52259).getCurrentResolution,o=r(14293);e.exports={buildRequest:function(e,t){var r,i,a,l;return{request:{lat:t.point.latlng.lat,lng:t.point.latlng.lng},metadata:{fields:(null===(r=e.features)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.properties)&&Object.keys(e.features[0].properties)||[],title:e.name,resolution:o(null==t||null===(a=t.map)||void 0===a?void 0:a.resolution)?(null==t||null===(l=t.map)||void 0===l?void 0:l.zoom)&&n(t.map.zoom,0,21,96):t.map.resolution,buffer:t.buffer||2,units:t.map&&t.map.units,rowViewer:e.rowViewer,viewer:e.viewer,layerId:e.id},url:""}}}},89291:e=>{var t={PROPERTY:/^"?[_a-zA-Z"]\w*"?/,COMPARISON:/^(=|<>|<=|<|>=|>|LIKE)/i,IS_NULL:/^IS NULL/i,COMMA:/^,/,LOGICAL:/^(AND|OR)/i,VALUE:/^('([^']|'')*'|-?\d+(\.\d*)?|\.\d+)/,LPAREN:/^\(/,RPAREN:/^\)/,SPATIAL:/^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,NOT:/^NOT/i,BETWEEN:/^BETWEEN/i,GEOMETRY:function(e){var t=/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(e);if(t){var r=e.length,n=e.indexOf("(",t[0].length);if(n>-1)for(var o=1;n<r&&o>0;)switch(n++,e.charAt(n)){case"(":o++;break;case")":o--}return[e.substr(0,n+1)]}return null},END:/^$/},r={LPAREN:["GEOMETRY","SPATIAL","PROPERTY","VALUE","LPAREN"],RPAREN:["NOT","LOGICAL","END","RPAREN"],PROPERTY:["COMPARISON","BETWEEN","COMMA","IS_NULL"],BETWEEN:["VALUE"],IS_NULL:["END"],COMPARISON:["VALUE"],COMMA:["GEOMETRY","VALUE","PROPERTY"],VALUE:["LOGICAL","COMMA","RPAREN","END"],SPATIAL:["LPAREN"],LOGICAL:["NOT","VALUE","SPATIAL","PROPERTY","LPAREN"],NOT:["PROPERTY","LPAREN"],GEOMETRY:["COMMA","RPAREN"]},n={"=":"=","<>":"<>","<":"<","<=":"<=",">":">",">=":">=",LIKE:"like",ILIKE:"ilike",BETWEEN:"><","IS NULL":"isNull"},o={AND:"and",OR:"or",NOT:"not"},i={RPAREN:3,LOGICAL:2,COMPARISON:1},a=function(e,t){return t instanceof RegExp?t.exec(e):t(e)},l=function(e,t){return"PROPERTY"===t?e.replaceAll('"',""):e},u=function(e,r){var n,o,i=r.length;for(n=0;n<i;n++){o=r[n];var u=a(e,t[o]);if(u){var c=u[0],s=e.substr(c.length).replace(/^\s*/,"");return{type:o,text:l(c,o),remainder:s}}}var p="ERROR: In parsing: ["+e+"], expected one of: ";for(n=0;n<i;n++)p+="\n    "+(o=r[n])+": "+t[o];throw new Error(p)};e.exports={read:function(e){return function(e){for(var t=[],r=[];e.length;){var a=e.shift();switch(a.type){case"PROPERTY":case"GEOMETRY":case"VALUE":r.push(a);break;case"COMPARISON":case"BETWEEN":case"IS_NULL":case"LOGICAL":for(var l=i[a.type];t.length>0&&i[t[t.length-1].type]<=l;)r.push(t.pop());t.push(a);break;case"SPATIAL":case"NOT":case"LPAREN":t.push(a);break;case"RPAREN":for(;t.length>0&&"LPAREN"!==t[t.length-1].type;)r.push(t.pop());t.pop(),t.length>0&&"SPATIAL"===t[t.length-1].type&&r.push(t.pop());break;case"COMMA":case"END":break;default:throw new Error("Unknown token type "+a.type)}}for(;t.length>0;)r.push(t.pop());var u=function e(){var t=r.pop();switch(t.type){case"LOGICAL":var i=e();return{filters:[e(),i],type:o[t.text.toUpperCase()]};case"NOT":return{filters:[e()],type:o.NOT};case"BETWEEN":r.pop();var a=e(),l=e();return{property:e(),lowerBoundary:l,upperBoundary:a,type:n.BETWEEN};case"COMPARISON":var u=e();return{property:e(),value:u,type:n[t.text.toUpperCase()]};case"IS_NULL":return{property:e(),type:n[t.text.toUpperCase()]};case"VALUE":var c=t.text.match(/^'(.*)'$/);return c?c[1].replace(/''/g,"'"):Number(t.text);case"SPATIAL":switch(t.text.toUpperCase()){case"BBOX":var s=e(),p=e(),f=e(),y=e();return{type:"BBOX",property:e(),value:[y,f,p,s]};case"INTERSECTS":var d=e();return{type:"INTERSECTS",property:e(),value:d};case"WITHIN":var g=e();return{type:"WITHIN",property:e(),value:g};case"CONTAINS":var m=e();return{type:"CONTAINS",property:e(),value:m};case"DWITHIN":var v=e();return{type:"DWITHIN",value:e(),property:e(),distance:Number(v)};default:return null}case"GEOMETRY":return function(){throw new Error("WKT parsing for CQL filter not supported yet")}(t.text);default:return t.text}}();if(r.length>0){for(var c="Remaining tokens after building AST: \n",s=r.length-1;s>=0;s--)c+=r[s].type+": "+r[s].text+"\n";throw new Error(c)}return u}(function(e){var t,n=[],o=e,i=["NOT","GEOMETRY","SPATIAL","PROPERTY","LPAREN"];do{if(o=(t=u(o,i)).remainder,i=r[t.type],"END"!==t.type&&!i)throw new Error("No follows list for "+t.type);n.push(t)}while("END"!==t.type);return n}(e))}}},2245:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r(99321),i=o.logical,a=o.spatial,l=o.comparison,u=o.literal,c=o.propertyName,s=o.valueReference,p=o.distance,f=o.lower,y=o.upper,d=r(34387),g=d.filter,m=d.fidFilter,v=r(65692).processOGCGeometry;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterNS,r=void 0===t?"ogc":t,o=e.gmlVersion,d=e.wfsVersion,b=void 0===d?"1.1.0":d,O=o||"3.1.1",h=function(e){return v(O,e)},w=function(e){return"object"===n(e)&&Date,u(r,e)},P=0===b.indexOf("2.")?s:c;return{filter:g.bind(null,r),fidFilter:m.bind(null,r),and:i.and.bind(null,r),or:i.or.bind(null,r),not:i.not.bind(null,r),property:function(e){return{equalTo:function(t){return l.equal(r,P(r,e),w(t))},greaterThen:function(t){return l.greater(r,P(r,e),w(t))},greaterThenOrEqualTo:function(t){return l.greaterOrEqual(r,P(r,e),w(t))},lessThen:function(t){return l.less(r,P(r,e),w(t))},lessThenOrEqualTo:function(t){return l.lessOrEqual(r,P(r,e),w(t))},notEqualTo:function(t){return l.notEqual(r,P(r,e),w(t))},between:function(t,n){return l.between(r,P(r,e),f(r,w(t)),y(r,w(n)))},like:function(t,n){return l.like(r,P(r,e),w(t),n)},ilike:function(t,n){return l.ilike(r,P(r,e),w(t),n)},isNull:function(){return l.isNull(r,P(r,e))},intersects:function(t){return a.intersects(r,P(r,e),h(t))},within:function(t){return a.within(r,P(r,e),h(t))},dwithin:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return a.dwithin(r,P(r,e),h(t),p(r,n,o))},contains:function(t){return a.contains(r,P(r,e),h(t))}}}}}},34387:e=>{var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return"<".concat(e,":Filter>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Filter>")};e.exports={fidFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",r=arguments.length>1?arguments[1]:void 0;return t(e,"<".concat(e,':FeatureId fid="').concat(r,'"/>'))},filter:t}},89737:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(64721),o=r.n(n),i=r(14293),a=r.n(i);function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=["and","or","not"],s={"=":"equalTo","<>":"notEqualTo","><":"between","<":"lessThen","<=":"lessThenOrEqualTo",">":"greaterThen",">=":"greaterThenOrEqualTo",like:"like",ilike:"ilike"};const p=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){var n=r.type,i=r.filters,u=void 0===i?[]:i,p=r.value,f=r.property,y=r.lowerBoundary,d=r.upperBoundary;return o()(c,n)?t[n].apply(t,l(u.map(e(t)))):t.property(f)[s[n]](a()(p)?y:p,d)}}},99321:e=>{var t={"=":function(e,t){return"<".concat(e,":PropertyIsEqualTo>").concat(t,"</").concat(e,":PropertyIsEqualTo>")},">":function(e,t){return"<".concat(e,":PropertyIsGreaterThan>").concat(t,"</").concat(e,":PropertyIsGreaterThan>")},"<":function(e,t){return"<".concat(e,":PropertyIsLessThan>").concat(t,"</").concat(e,":PropertyIsLessThan>")},">=":function(e,t){return"<".concat(e,":PropertyIsGreaterThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsGreaterThanOrEqualTo>")},"<=":function(e,t){return"<".concat(e,":PropertyIsLessThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsLessThanOrEqualTo>")},"<>":function(e,t){return"<".concat(e,":PropertyIsNotEqualTo>").concat(t,"</").concat(e,":PropertyIsNotEqualTo>")},"><":function(e,t){return"<".concat(e,":PropertyIsBetween>").concat(t,"</").concat(e,":PropertyIsBetween>")},like:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="true" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},ilike:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="false" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},isNull:function(e,t){return"<".concat(e,":PropertyIsNull>").concat(t,"</").concat(e,":PropertyIsNull>")}},r={AND:function(e,t){return"<".concat(e,":And>").concat(t,"</").concat(e,":And>")},OR:function(e,t){return"<".concat(e,":Or>").concat(t,"</").concat(e,":Or>")},NOR:function(e,t){return"<".concat(e,":Not><").concat(e,":Or>").concat(t,"</").concat(e,":Or></").concat(e,":Not>")},NOT:function(e,t){return"<".concat(e,":Not>").concat(t,"</").concat(e,":Not>")}},n={INTERSECTS:function(e,t){return"<".concat(e,":Intersects>").concat(t,"</").concat(e,":Intersects>")},BBOX:function(e,t){return"<".concat(e,":BBOX>").concat(t,"</").concat(e,":BBOX>")},CONTAINS:function(e,t){return"<".concat(e,":Contains>").concat(t,"</").concat(e,":Contains>")},DWITHIN:function(e,t){return"<".concat(e,":DWithin>").concat(t,"</").concat(e,":DWithin>")},WITHIN:function(e,t){return"<".concat(e,":Within>").concat(t,"</").concat(e,":Within>")}},o=function(e,t,r){return t(e,Array.isArray(r)?r.join(""):r)},i={and:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return i&&i.length>0?o(e,r.AND,[t].concat(i)):o(e,r.AND,t)},or:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return i&&i.length>0?o(e,r.OR,[t].concat(i)):o(e,r.OR,t)},not:function(e,t){return o(e,r.NOT,t)},nor:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return i&&i.length>0?o(e,r.NOR,[t].concat(i)):o(e,r.NOR,t)}},a={intersects:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.INTERSECTS,r)},within:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.WITHIN,r)},bbox:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.BBOX,r)},dwithin:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.DWITHIN,r)},contains:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return o(e,n.CONTAINS,r)}},l={equal:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["="],n)},greater:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t[">"],n)},less:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["<"],n)},greaterOrEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t[">="],n)},lessOrEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["<="],n)},notEqual:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["<>"],n)},between:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t["><"],n)},like:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t.like,n)},ilike:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t.ilike,n)},isNull:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o(e,t.isNull,n)}};e.exports={ogcComparisonOperators:t,ogcLogicalOperators:r,ogcSpatialOperators:n,propertyName:function(e,t){return"<".concat(e,":PropertyName>").concat(t,"</").concat(e,":PropertyName>")},valueReference:function(e,t){return"<".concat(e,":ValueReference>").concat(t,"</").concat(e,":ValueReference>")},distance:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return"<".concat(e,':Distance units="').concat(r,'">').concat(t,"</").concat(e,":Distance>")},literal:function(e,t){return"<".concat(e,":Literal>").concat(t,"</").concat(e,":Literal>")},logical:i,spatial:a,comparison:l,lower:function(e,t){return"<".concat(e,":LowerBoundary>").concat(t,"</").concat(e,":LowerBoundary>")},upper:function(e,t){return"<".concat(e,":UpperBoundary>").concat(t,"</").concat(e,":UpperBoundary>")}}},65692:(e,t,r)=>{var n=r(1469),o=function(e){return 0===e.indexOf("2.")},i=function(e){if(e.length>=3){var t=e[0],r=e[e.length-1];if(t[0]!==r[0]||t[1]!==r[1])return e.concat([e[0]])}return e},a=function(e,t,r){var n='<gml:Point srsDimension="2"';return n+=t?' srsName="'+t+'">':">",(n+=o(r)?"<gml:coord><X>"+e[0]+"</X><Y>"+e[1]+"</Y></gml:coord>":"<gml:pos>"+e.join(" ")+"</gml:pos>")+"</gml:Point>"},l=function(e,t,r){var a=o(r),l="<gml:Polygon";return l+=t?' srsName="'+t+'">':">",(e.length&&n(e[0])&&e[0].length&&n(e[0][0])?e:[e]).forEach((function(e,t){var r=i(e).map((function(e){return e[0]+(a?",":" ")+e[1]})),n=a?"outerBoundaryIs":"exterior",o=a?"innerBoundaryIs":"interior";l+=(t<1?"<gml:"+n+">":"<gml:"+o+">")+"<gml:LinearRing>"+(a?"<gml:coordinates>":"<gml:posList>")+r.join(" ")+(a?"</gml:coordinates>":"</gml:posList>")+"</gml:LinearRing>"+(t<1?"</gml:"+n+">":"</gml:"+o+">")})),l+="</gml:Polygon>"},u=function(e,t,r){var n=o(r),i="<gml:LineString";i+=t?' srsName="'+t+'">':">";var a=e.map((function(e){return e[0]+(n?",":" ")+e[1]}));return(i+=(n?"<gml:coordinates>":"<gml:posList>")+a.join(" ")+(n?"</gml:coordinates>":"</gml:posList>"))+"</gml:LineString>"};e.exports={closePolygon:i,pointElement:a,polygonElement:l,lineStringElement:u,processOGCGeometry:function(e,t){var r="",n=t.projection||"EPSG:4326";switch(t.type){case"Point":r+=a(t.coordinates,n,e);break;case"MultiPoint":r+='<gml:MultiPoint srsName="'+(t.projection||"EPSG:4326")+'">',t.coordinates.forEach((function(t){t&&(r+="<gml:pointMember>",r+=a(t,n,e),r+="</gml:pointMember>")})),r+="</gml:MultiPoint>";break;case"LineString":r+=u(t.coordinates,n,e);break;case"MultiLineString":var o="3.2"===e?"MultiCurve":"MultiLineString",i="3.2"===e?"curveMember":"lineStringMember";r+="<gml:".concat(o,' srsName="').concat(n,'">'),t.coordinates.forEach((function(t){t&&(r+="<gml:"+i+">",r+=u(t,n,e),r+="</gml:"+i+">")})),r+="</gml:"+o+">";break;case"Polygon":r+=l(t.coordinates,n,e);break;case"MultiPolygon":var c="3.2"===e?"MultiSurface":"MultiPolygon",s="3.2"===e?"surfaceMembers":"polygonMember";r+="<gml:".concat(c,' srsName="').concat(n,'">'),t.coordinates.forEach((function(t){t&&(r+="<gml:"+s+">",r+=l(t,n,e),r+="</gml:"+s+">")})),r+="</gml:"+c+">"}return r}}},78889:(e,t,r)=>{var n=r(91175),o=r(27361),i=function(e){return/[<>&'"]/.test(e)?"<![CDATA[".concat(e,"]]>"):e},a=r(65692).processOGCGeometry,l={"1.0.0":"2.0","1.1.0":"3.1.1","2.0":"3.2","2.0.0":"3.2"},u=function(e){return o(e,"featureTypes[0].properties")},c=function(e,t){return n((u(t)||[]).filter((function(t){return t.name===e})))},s=function(e){return e.targetNamespace},p=function(e){return 0===e.type.indexOf("gml:")},f=function(e,t){return null==t||t&&!0===t.nillable||t&&!1===t.nillable&&null!=e},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geom,r=e.properties,n=arguments.length>1?arguments[1]:void 0;return f(p(n)?t:r[n.name],n)};e.exports={schemaLocation:s,isGeometryType:p,featureTypeSchema:function(e){return"xmlns:".concat(e.targetPrefix,'="').concat(s(e),'"')},getValue:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1.1.0",o=p(c(t,r));return o?e?a(n,{type:e.type,coordinates:e.coordinates}):"":null==e?"":"string"==typeof e?i(e):e},getPropertyDesciptor:c,findGeometryProperty:function(e){return n((u(e)||[]).filter((function(e){return 0===e.type.indexOf("gml:")})))},getFeatureTypeProperties:u,getTypeName:function(e){return e.targetPrefix?e.targetPrefix+":"+e.featureTypes[0].typeName:e.featureTypes[0].typeName},wfsToGmlVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1.1.0";return l[e]},processOGCGeometry:a,isValid:function(e,t){return u(t).map((function(t){return y(e,t)}))},isValidProperty:y,isValidValueForPropertyName:function(e,t,r){return f(e,c(t,r))},isValidValue:f}},3918:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg=="}}]);